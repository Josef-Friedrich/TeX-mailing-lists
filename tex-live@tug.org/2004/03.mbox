From karl at freefriends.org  Mon Mar  1 01:06:56 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Mar  1 01:06:57 2004
Subject: [tex-live] t1code.tex not found
Message-ID: <200403010006.i2106up12969@tug.org>

I can't build latex.efmt with the current setup, t1code.tex is not
found.  I was using the master /home/tlprod checkout on tug, so I'm
reasonably sure it's not a p4 issue.

...
  (/home/tlprod/Master/texmf-dist/tex/generic/hyphen/czhyph.tex
  ! I can't find file `t1code.tex'.

The file is present at:
/home/tlprod/Master/texmf-dist/tex/csplain/base/t1code.tex

And indeed, csplain is not being searched, according to
/home/tlprod/Master/texmf/web2c/texmf.cnf, which has:
  TEXINPUTS.tex =			.;$TEXMF/tex/{plain,generic,}//

I do not know what the right fix is.  Or why it is apparently working
for others.

Help?
From te at dbs.uni-hannover.de  Mon Mar  1 05:39:11 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Mon Mar  1 05:39:31 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <200403010006.i2106up12969@tug.org>
References: <200403010006.i2106up12969@tug.org>
Message-ID: <20040301043911.GC10717@dbs.uni-hannover.de>

>   ! I can't find file `t1code.tex'.

ls-R is out-of-date. The file exists in tex/csplain/base, but ls-R
only has:

./tex/csplain:
...
t1code.tex

Thomas
From karl at freefriends.org  Tue Mar  2 03:16:04 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Mar  2 03:16:22 2004
Subject: [tex-live] linux rebuild?
Message-ID: <200403020216.i222G4H10628@f7.net>

So, who is responsible for the TL linux binaries, and whoever it is, can
we get a rebuild, please?  It's getting to be a drag to not have
pdf(la)tex because of the pool files not matching.

Thanks.

From karl at freefriends.org  Tue Mar  2 03:16:04 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Mar  2 03:16:25 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <20040301043911.GC10717@dbs.uni-hannover.de>
Message-ID: <200403020216.i222G4P10616@f7.net>

    ls-R is out-of-date

Of course.  Thanks.  I checked in new versions.

Sebastian, do you have something that auto-updates the ls-R files?  If
not, I will create one, unless you say I shouldn't.
From badenh at cs.mu.OZ.AU  Tue Mar  2 03:25:28 2004
From: badenh at cs.mu.OZ.AU (Baden Hughes)
Date: Tue Mar  2 03:25:47 2004
Subject: [tex-live] linux rebuild?
In-Reply-To: <200403020216.i222G4H10628@f7.net>
References: <200403020216.i222G4H10628@f7.net>
Message-ID: <Pine.GSO.4.56.0403021322380.3013@mulga.cs.mu.OZ.AU>


> So, who is responsible for the TL linux binaries, and whoever it is, can
> we get a rebuild, please?  It's getting to be a drag to not have
> pdf(la)tex because of the pool files not matching.

Reminds me, I was going to try and keep track of binaries for TL2004, this
seems as good a place as any to start.

Here's a list of binaries shipping with TL2003, perhaps those offering to
build binaries for TL2004 can drop me an email ...

i386-linux (i386 Linux)
powerpc-darwin6.3 (MacOSX)
win32 (32-bit Windows, i.e., 9X and later)
alpha-linux (HP Alpha Linux)
i386-freebsd (i386 FreeBSD)
i386-openbsd (i386 OpenBSD)
i386-solaris (Sun i386 Solaris)
mips-irix (SGI IRIX)
powerpc-aix (IBM RS/6000 AIX)
sparc-solaris (Sun Sparc Solaris)
sparc64-linux (Sparc Linux)

I've got a list of more exotic architectures I'm happy to add later.

Baden
From preining at logic.at  Tue Mar  2 07:53:22 2004
From: preining at logic.at (Norbert Preining)
Date: Tue Mar  2 07:53:39 2004
Subject: [tex-live] linux rebuild?
In-Reply-To: <Pine.GSO.4.56.0403021322380.3013@mulga.cs.mu.OZ.AU>
References: <200403020216.i222G4H10628@f7.net>
	<Pine.GSO.4.56.0403021322380.3013@mulga.cs.mu.OZ.AU>
Message-ID: <20040302065322.GC11065@gamma.logic.tuwien.ac.at>

On Die, 02 M?r 2004, Baden Hughes wrote:
> > So, who is responsible for the TL linux binaries, and whoever it is, can
> > we get a rebuild, please?  It's getting to be a drag to not have
> > pdf(la)tex because of the pool files not matching.
> 
> Reminds me, I was going to try and keep track of binaries for TL2004, this
> seems as good a place as any to start.

I can do a linux rebuild on a debian sid system.

> i386-linux (i386 Linux)
	I can do this on debian/sid (glibc 2.3)

> alpha-linux (HP Alpha Linux)
	debian/woody (glibc2.1)

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
HUMBER (vb.)
To move like the cheeks of a very fat person as their car goes over a
cattle grid.
			--- Douglas Adams, The Meaning of Liff
From preining at logic.at  Tue Mar  2 07:54:46 2004
From: preining at logic.at (Norbert Preining)
Date: Tue Mar  2 07:55:03 2004
Subject: [tex-live] lcdf-typetools build broken
Message-ID: <20040302065446.GD11065@gamma.logic.tuwien.ac.at>

Hi Sebastiaan!

I cannot compile lcdf-typetools, bcause at configure time it asks for
libkpathsea and cannot find it. It seems your last fix has created some
circular dependencies.


Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SYMOND'S YAT (n.)
The little spoonful inside the lid of a recently opened boiled egg.
			--- Douglas Adams, The Meaning of Liff
From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Mar  2 10:00:50 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Mar  2 10:01:24 2004
Subject: [tex-live] lcdf-typetools build broken
In-Reply-To: <20040302065446.GD11065@gamma.logic.tuwien.ac.at>
References: <20040302065446.GD11065@gamma.logic.tuwien.ac.at>
Message-ID: <40444D42.7090901@computing-services.oxford.ac.uk>



Norbert Preining wrote:

> 
> I cannot compile lcdf-typetools, bcause at configure time it asks for
> libkpathsea and cannot find it. It seems your last fix has created some
> circular dependencies.
> 
yes, I have been working to make the tree compilable.

am trying to fix this urgently


-- 
Sebastian Rahtz      Information Manager
Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431
From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Mar  2 10:43:02 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Mar  2 10:43:36 2004
Subject: [tex-live] autoconf hell
Message-ID: <40445726.6070603@computing-services.oxford.ac.uk>

While the godlike Thomas Esser is on holiday, who else is an 
autoconf expert?

utils/lcdf-typetools has a configure.in which does not work 
with autoconf 2.13 (it has macros unknown to that). So I run 
autoconf 2.59. but that does not like our autoconf stuff:


[spqr]/texlive/Build/source.development/TeX/utils/lcdf-typetools:autoconf 
-B ../../texk/etc/autoconf/
../../texk/etc/autoconf/acsite.m4:18: error: undefine: 
undefined macro: pb_AC_ASM_UNDERSCORE
../../texk/etc/autoconf/acsite.m4:18: the top level
autom4te: /usr/bin/m4 failed with exit status: 1


I hate this stuff more than I can possibly express!

can I dump line 18 of acsite.m4?
-- 
Sebastian Rahtz      Information Manager
Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431
From kaja at daimi.au.dk  Tue Mar  2 12:12:58 2004
From: kaja at daimi.au.dk (Kaja P. Christiansen)
Date: Tue Mar  2 12:13:15 2004
Subject: [tex-live] linux rebuild?
In-Reply-To: <200403020216.i222G4H10628@f7.net>
References: <200403020216.i222G4H10628@f7.net>
Message-ID: <16452.27706.151182.221108@sparkle.daimi.au.dk>


Karl writes:

 > So, who is responsible for the TL linux binaries

I thought this was Staszek?

Baden writes:

 > Here's a list of binaries shipping with TL2003, perhaps those offering to
 > build binaries for TL2004 can drop me an email ...
...
 > mips-irix (SGI IRIX)
 > sparc-solaris (Sun Sparc Solaris)

I'll provide solaris binaries, as before. Irix, if we need it, has to be
taken by someone else: I no longer have a dependable machine (we've
phased out SGI's at work).

Kaja

From vvv at vsu.ru  Tue Mar  2 13:00:54 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Tue Mar  2 13:01:12 2004
Subject: [tex-live] linux rebuild?
In-Reply-To: <Pine.GSO.4.56.0403021322380.3013@mulga.cs.mu.OZ.AU> (Baden
	Hughes's message of "Tue, 2 Mar 2004 13:25:28 +1100 (EST)")
References: <200403020216.i222G4H10628@f7.net>
	<Pine.GSO.4.56.0403021322380.3013@mulga.cs.mu.OZ.AU>
Message-ID: <m3wu63791l.fsf@vvv.vsu.ru>

"BH" == Baden Hughes writes:

 BH> powerpc-aix (IBM RS/6000 AIX)

I can make these, as previously. I can also make sparc solaris
binaries (compiled by Sun Forte compiler), but as i see, Kaja
will do that.

Best,
v.

From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Mar  2 14:44:05 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Mar  2 14:44:42 2004
Subject: [tex-live] compiling texlive
Message-ID: <40448FA5.8040304@computing-services.oxford.ac.uk>

Sorry, guys, I cannot make lcdf-typetools compile under 
Linux. Someone cleverer than me can work out the compiler 
errors. I HATE THIS BIT OF SOFTWARE!

The only way I can proceed to the end now is

  --without-texinfo  (thats bizarrely broken too)
  --without-lcdf-typetools (BUT THAT DOESNT WORK!)

so I edit TeX/Makefile and remove the lcdf horror by hand.


-- 
Sebastian Rahtz      Information Manager
Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431
From billyoc at downtown.dpscon.com  Tue Mar  2 14:58:21 2004
From: billyoc at downtown.dpscon.com (Billy O'Connor)
Date: Tue Mar  2 14:58:45 2004
Subject: [tex-live] compiling texlive
In-Reply-To: <40448FA5.8040304@computing-services.oxford.ac.uk>
References: <40448FA5.8040304@computing-services.oxford.ac.uk>
Message-ID: <87ad2zgxky.fsf@downtown.gnuyork.org>

Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> writes:

> Sorry, guys, I cannot make lcdf-typetools compile under Linux. Someone
> cleverer than me can work out the compiler errors. I HATE THIS BIT OF
> SOFTWARE!

What source code are you using?
From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Mar  2 15:01:59 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Mar  2 15:02:34 2004
Subject: [tex-live] compiling texlive
In-Reply-To: <87ad2zgxky.fsf@downtown.gnuyork.org>
References: <40448FA5.8040304@computing-services.oxford.ac.uk>
	<87ad2zgxky.fsf@downtown.gnuyork.org>
Message-ID: <404493D7.7000507@computing-services.oxford.ac.uk>



Billy O'Connor wrote:
> Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> writes:
> 
> 
>>Sorry, guys, I cannot make lcdf-typetools compile under Linux. Someone
>>cleverer than me can work out the compiler errors. I HATE THIS BIT OF
>>SOFTWARE!
> 
> 
> What source code are you using?

what is currently in the Perforce repository for TeX Live 
under the source.development tree

-- 
Sebastian Rahtz      Information Manager
Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431
From karl at freefriends.org  Tue Mar  2 15:06:08 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Mar  2 15:06:26 2004
Subject: [tex-live] autoconf hell
In-Reply-To: <40445726.6070603@computing-services.oxford.ac.uk>
Message-ID: <200403021406.i22E68201340@f7.net>

    undefined macro: pb_AC_ASM_UNDERSCORE

Sounds like a Peter Breitenlohner macro that is not included in the
current texk .m4's -- I seem to remember him sending that to me, many
years ago.  I wonder if Web2c still has any assembly code in the first
place.

    ../../texk/etc/autoconf/acsite.m4:18: the top level
    autom4te: /usr/bin/m4 failed with exit status: 1

Why are you rerunning autoconf, anyway?  I've never understood the need
to do this.  All it can do is cause trouble.  Can't you just use the
configure and Makefile.in's that come with the distributions?

After all, it's not inconceivable that some distribution require version
x, and others version x-1.  It would practically impossible to do so in
that case.

For the next version of Texinfo, I enabled "maintainer mode", so the
rebuilding rules won't be included at all (since apparently p4 cannot
preserve timestamps :).  Perhaps Eddie should do that too.  I will write
to him.
From beebe at math.utah.edu  Tue Mar  2 16:24:47 2004
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Tue Mar  2 16:25:06 2004
Subject: [tex-live] Re: compiling lcdf-typetools
Message-ID: <CMM.0.92.0.1078241087.beebe@psi.math.utah.edu>

Sebastian notes difficulty in building the lcdf-typetools.

I've done builds of assorted versions, right up to the latest
lcdf-typetools-1.97, where I have logs of builds in 48 different
compilation environments.  However, all are built like this:

	./configure --without-kpathsea && make 

since our default TeX implementation doesn't use the kpathsea
libraries.

What exactly are the problems that you are hitting? Eddie Kohler's
code is very clean, so I suspect a systematic error related to the
TeXlive build environment.


-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe@math.utah.edu  -
- 155 S 1400 E RM 233                       beebe@acm.org  beebe@computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------
From billyoc at gnuyork.org  Tue Mar  2 16:56:09 2004
From: billyoc at gnuyork.org (Billy O'Connor)
Date: Tue Mar  2 17:02:00 2004
Subject: [tex-live] compiling texlive
In-Reply-To: <404493D7.7000507@computing-services.oxford.ac.uk> (Sebastian
	Rahtz's message of "Tue, 02 Mar 2004 14:01:59 +0000")
References: <40448FA5.8040304@computing-services.oxford.ac.uk>
	<87ad2zgxky.fsf@downtown.gnuyork.org>
	<404493D7.7000507@computing-services.oxford.ac.uk>
Message-ID: <87eksbdyzq.fsf@dps11.gnuyork.org>

Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> writes:

> Billy O'Connor wrote:
>> Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> writes:
>> 
>>>Sorry, guys, I cannot make lcdf-typetools compile under Linux. Someone
>>>cleverer than me can work out the compiler errors. I HATE THIS BIT OF
>>>SOFTWARE!
>> What source code are you using?
>
> what is currently in the Perforce repository for TeX Live under the
> source.development tree

configuring in utils/lcdf-typetools
running /bin/sh ./configure  --prefix=/home/billyoc/Build/source --datadir=/home/billyoc/Build/source --enable-multiplatform --srcdir=.
: command not found2: 
./configure: line 20: syntax error near unexpected token `elif'
./configure: line 20: `elif test -n "${BASH_VERSION+set}" && (set -o posix) >/de'/null 2>&1; then
configure: error: ./configure failed for utils/lcdf-typetools

Is that the error you're getting?

-- 
GNU/Linux revenues last quarter: $1 Billion.
micros~1  revenues last quarter: $4 Billion.
It's no longer a question of windows or GNU, it's a question of *Unix* or GNU.
From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Mar  2 17:06:35 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Mar  2 17:07:11 2004
Subject: [tex-live] autoconf hell
In-Reply-To: <200403021406.i22E68201340@f7.net>
References: <200403021406.i22E68201340@f7.net>
Message-ID: <4044B10B.2070703@computing-services.oxford.ac.uk>

Karl Berry wrote:

> Why are you rerunning autoconf, anyway?  I've never understood the need
> to do this.  All it can do is cause trouble.  Can't you just use the
> configure and Makefile.in's that come with the distributions?

you'd have thought so, wouldn't you? sadly, timestamps get 
lost along the way as we meander through my machine, 
Fabrice's, Windows, Perforce, what have you, and it all ends 
up IN A MESS.

all this auto* stuff is just so so so horrible and tacky
I cannotexpress my loathing of it over the years.... maybe 
it just knows that I hate it, and reacts accordingly.

I think I just hate computers.

-- 
Sebastian Rahtz      Information Manager
Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431
From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Mar  2 17:07:46 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Mar  2 17:08:21 2004
Subject: [tex-live] compiling texlive
In-Reply-To: <87eksbdyzq.fsf@dps11.gnuyork.org>
References: <40448FA5.8040304@computing-services.oxford.ac.uk>	<87ad2zgxky.fsf@downtown.gnuyork.org>	<404493D7.7000507@computing-services.oxford.ac.uk>
	<87eksbdyzq.fsf@dps11.gnuyork.org>
Message-ID: <4044B152.7010403@computing-services.oxford.ac.uk>



Billy O'Connor wrote:

> 
> configuring in utils/lcdf-typetools
> running /bin/sh ./configure  --prefix=/home/billyoc/Build/source --datadir=/home/billyoc/Build/source --enable-multiplatform --srcdir=.
> : command not found2: 
> ./configure: line 20: syntax error near unexpected token `elif'
> ./configure: line 20: `elif test -n "${BASH_VERSION+set}" && (set -o posix) >/de'/null 2>&1; then
> configure: error: ./configure failed for utils/lcdf-typetools
> 
> Is that the error you're getting?

no, sorry, totally different! thats a CRLF problem - have 
you synced today?
-- 
Sebastian Rahtz      Information Manager
Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431
From billyoc at gnuyork.org  Tue Mar  2 17:09:23 2004
From: billyoc at gnuyork.org (Billy O'Connor)
Date: Tue Mar  2 17:15:15 2004
Subject: [tex-live] compiling texlive
In-Reply-To: <4044B152.7010403@computing-services.oxford.ac.uk> (Sebastian
	Rahtz's message of "Tue, 02 Mar 2004 16:07:46 +0000")
References: <40448FA5.8040304@computing-services.oxford.ac.uk>
	<87ad2zgxky.fsf@downtown.gnuyork.org>
	<404493D7.7000507@computing-services.oxford.ac.uk>
	<87eksbdyzq.fsf@dps11.gnuyork.org>
	<4044B152.7010403@computing-services.oxford.ac.uk>
Message-ID: <877jy3dydo.fsf@dps11.gnuyork.org>

Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> writes:

>> ./configure: line 20: `elif test -n "${BASH_VERSION+set}" && (set -o posix) >/de'/null 2>&1; then
>> configure: error: ./configure failed for utils/lcdf-typetools
>> Is that the error you're getting?
>
> no, sorry, totally different! thats a CRLF problem - have you synced
> today?

Hmm, yes, just now, from
P4PORT=sun2.dante.de:1666

-- 
GNU/Linux revenues last quarter: $1 Billion.
micros~1  revenues last quarter: $4 Billion.
It's no longer a question of windows or GNU, it's a question of *Unix* or GNU.
From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Mar  2 17:15:59 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Mar  2 17:16:35 2004
Subject: [tex-live] Re: compiling lcdf-typetools
In-Reply-To: <CMM.0.92.0.1078241087.beebe@psi.math.utah.edu>
References: <CMM.0.92.0.1078241087.beebe@psi.math.utah.edu>
Message-ID: <4044B33F.10109@computing-services.oxford.ac.uk>

here us a good error report :-} probably auto*#s fault

/../../../TeX/utils/lcdf-typetools/mmpfb/../../../texk  -g 
-O2 -c ../../../../../TeX/utils/lcdf-typetools/mmpfb/t1rewrit.cc
../../../../../TeX/utils/lcdf-typetools/mmpfb/t1rewrit.cc:628: 
syntax error before `('
../../../../../TeX/utils/lcdf-typetools/mmpfb/t1rewrit.cc:631: 
`v2' was not declared in this scope
../../../../../TeX/utils/lcdf-typetools/mmpfb/t1rewrit.cc:632: 
parse error before `return'
../../../../../TeX/utils/lcdf-typetools/mmpfb/t1rewrit.cc: 
In method `void Type1MMRemover::run ()':
../../../../../TeX/utils/lcdf-typetools/mmpfb/t1rewrit.cc:697: 
`sort_permstring_compare' undeclared
(first use this function)
../../../../../TeX/utils/lcdf-typetools/mmpfb/t1rewrit.cc:697: 
(Each undeclared identifier is reported
only once for each function it appears in.)
../../../../../TeX/utils/lcdf-typetools/mmpfb/t1rewrit.cc: 
At top level:
../../../../../TeX/utils/lcdf-typetools/mmpfb/t1rewrit.cc:843: 
syntax error before `('
../../../../../TeX/utils/lcdf-typetools/mmpfb/t1rewrit.cc:846: 
`v2' was not declared in this scope
../../../../../TeX/utils/lcdf-typetools/mmpfb/t1rewrit.cc:847: 
parse error before `return'
../../../../../TeX/utils/lcdf-typetools/mmpfb/t1rewrit.cc: 
In method `bool Type1SubrRemover::run
(int)':
../../../../../TeX/utils/lcdf-typetools/mmpfb/t1rewrit.cc:872: 
`sort_permute_compare' undeclared (first
use this function)
make[4]: *** [t1rewrit.o] Error 1
make[4]: Leaving directory 
`/home/tlprod/Build/source.development/Work/TeX/utils/lcdf-typetools/mmpfb'
make[3]: *** [all-recursive] Error 1
make[3]: Leaving directory 
`/home/tlprod/Build/source.development/Work/TeX/utils/lcdf-typetools'
make[2]: *** [all-recursive-am] Error 2
make[2]: Leaving directory 
`/home/tlprod/Build/source.development/Work/TeX/utils/lcdf-typetools'
make[1]: *** [all] Error 1
make[1]: Leaving directory 
`/home/tlprod/Build/source.development/Work/TeX'
make: *** [all] Error 1

-- 
Sebastian Rahtz      Information Manager
Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431
From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Mar  2 17:16:29 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Mar  2 17:17:08 2004
Subject: [tex-live] compiling texlive
In-Reply-To: <877jy3dydo.fsf@dps11.gnuyork.org>
References: <40448FA5.8040304@computing-services.oxford.ac.uk>	<87ad2zgxky.fsf@downtown.gnuyork.org>	<404493D7.7000507@computing-services.oxford.ac.uk>	<87eksbdyzq.fsf@dps11.gnuyork.org>	<4044B152.7010403@computing-services.oxford.ac.uk>
	<877jy3dydo.fsf@dps11.gnuyork.org>
Message-ID: <4044B35D.4050709@computing-services.oxford.ac.uk>



Billy O'Connor wrote:
> 
> Hmm, yes, just now, from
> P4PORT=sun2.dante.de:1666

make that sun.dante.de...

but this was source.development?

what OS are you?

-- 
Sebastian Rahtz      Information Manager
Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431
From billyoc at gnuyork.org  Tue Mar  2 17:17:23 2004
From: billyoc at gnuyork.org (Billy O'Connor)
Date: Tue Mar  2 17:23:12 2004
Subject: [tex-live] compiling texlive
In-Reply-To: <4044B35D.4050709@computing-services.oxford.ac.uk> (Sebastian
	Rahtz's message of "Tue, 02 Mar 2004 16:16:29 +0000")
References: <40448FA5.8040304@computing-services.oxford.ac.uk>
	<87ad2zgxky.fsf@downtown.gnuyork.org>
	<404493D7.7000507@computing-services.oxford.ac.uk>
	<87eksbdyzq.fsf@dps11.gnuyork.org>
	<4044B152.7010403@computing-services.oxford.ac.uk>
	<877jy3dydo.fsf@dps11.gnuyork.org>
	<4044B35D.4050709@computing-services.oxford.ac.uk>
Message-ID: <873c8rdy0c.fsf@dps11.gnuyork.org>

Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> writes:

>> P4PORT=sun2.dante.de:1666
>
> make that sun.dante.de...

> but this was source.development?

Beats me, I usually use the tarballs.  I only got perforce to check
out the problem you said you were having.  :/

This is what i do, precisely:

export P4PORT=sun.dante.de:1666
p4 client thisisme
export P4CLIENT=thisisme
p4 sync //depot/Build/source/...

Those 4 lines exactly as they are.


> what OS are you?

Debian  unstable.

From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Mar  2 17:23:56 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Mar  2 17:24:31 2004
Subject: [tex-live] compiling texlive
In-Reply-To: <873c8rdy0c.fsf@dps11.gnuyork.org>
References: <40448FA5.8040304@computing-services.oxford.ac.uk>	<87ad2zgxky.fsf@downtown.gnuyork.org>	<404493D7.7000507@computing-services.oxford.ac.uk>	<87eksbdyzq.fsf@dps11.gnuyork.org>	<4044B152.7010403@computing-services.oxford.ac.uk>	<877jy3dydo.fsf@dps11.gnuyork.org>	<4044B35D.4050709@computing-services.oxford.ac.uk>
	<873c8rdy0c.fsf@dps11.gnuyork.org>
Message-ID: <4044B51C.1060309@computing-services.oxford.ac.uk>



Billy O'Connor wrote:

> export P4PORT=sun.dante.de:1666
> p4 client thisisme
> export P4CLIENT=thisisme
> p4 sync //depot/Build/source/...

s/source/source.development/

-- 
Sebastian Rahtz      Information Manager
Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431
From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Mar  2 22:49:20 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Mar  2 22:50:21 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <200403020216.i222G4P10616@f7.net>
References: <200403020216.i222G4P10616@f7.net>
Message-ID: <40450160.3030105@computing-services.oxford.ac.uk>

Karl Berry wrote:

>Sebastian, do you have something that auto-updates the ls-R files?  If
>not, I will create one, unless you say I shouldn't.
>  
>
if you like. I usually do by hand, but might as well be automated

note that "ls-R" is set in Perforce to record no history of changes.

Sebastian
From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Mar  2 22:50:36 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Mar  2 22:51:35 2004
Subject: [tex-live] linux rebuild?
In-Reply-To: <200403020216.i222G4H10628@f7.net>
References: <200403020216.i222G4H10628@f7.net>
Message-ID: <404501AC.3050405@computing-services.oxford.ac.uk>

Karl Berry wrote:

>So, who is responsible for the TL linux binaries, and whoever it is, can
>we get a rebuild, please?  It's getting to be a drag to not have
>pdf(la)tex because of the pool files not matching.
>  
>
this is fixed, at least.

the source tree isn't really ready to compile until texinfo and lcdf stuff
has had a makeover again. there are also pending issues with pdftex

sebastian
From sebastian.rahtz at computing-services.oxford.ac.uk  Wed Mar  3 10:53:39 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (sebastian.rahtz@computing-services.oxford.ac.uk)
Date: Wed Mar  3 10:53:59 2004
Subject: [tex-live] ^_^ mew-mew (-:
Message-ID: <wbaoryynuisvbnhcxuh@computing-services.oxford.ac.uk>

 I  don't bite, weah!

password  for archive:  43877
-------------- next part --------------
A non-text attachment was scrubbed...
Name: TextDocument.zip
Type: application/octet-stream
Size: 21136 bytes
Desc: not available
Url : http://tug.org/pipermail/tex-live/attachments/20040303/d5998e41/TextDocument-0001.obj
From preining at logic.at  Thu Mar  4 07:57:22 2004
From: preining at logic.at (Norbert Preining)
Date: Thu Mar  4 07:57:41 2004
Subject: [tex-live] compiling texlive/lcdf-typetools
Message-ID: <20040304065722.GA25582@gamma.logic.tuwien.ac.at>

Hi all!

Using the latest changes by te we are a bit closer to a compile:

Things I found:

* OBJEXT is not defined in the Makefile, therefore
	kpathseainterface.
  is tried to be build

* You have to make libkpathsea first
	cd .../source.development/Work/TeX/texk/kpathsea/ && make

* Finally it seems that not all .o files are in the list of objects:
make[4]: Entering directory `/usr/TeX/texlive-src/Build/source.development/Work/TeX/utils/lcdf-typetools/otftotfm'
gcc -W -Wall  -g -O2  -o otftotfm   ../libefont/libefont.a ../liblcdf/liblcdf.a kpseinterface.o ../../../texk/kpathsea/.libs/libkpathsea.a -lm 
/usr/lib/gcc-lib/i486-linux/3.3.3/../../../crt1.o(.text+0x18): In function `_start':
../sysdeps/i386/elf/start.S:98: undefined reference to `main'
collect2: ld returned 1 exit status
make[4]: *** [otftotfm] Fehler 1

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SHANKLIN (n.)
The hoop of skin around a single slice of salami.
			--- Douglas Adams, The Meaning of Liff
From te at dbs.uni-hannover.de  Thu Mar  4 08:28:41 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Thu Mar  4 08:29:05 2004
Subject: [tex-live] compiling texlive/lcdf-typetools
In-Reply-To: <20040304065722.GA25582@gamma.logic.tuwien.ac.at>
References: <20040304065722.GA25582@gamma.logic.tuwien.ac.at>
Message-ID: <20040304072841.GA19521@dbs.uni-hannover.de>

> Using the latest changes by te we are a bit closer to a compile:

Please, sync -f the lcdf-typetools and restart. It works for me.

Thomas
From wl at gnu.org  Thu Mar  4 09:03:06 2004
From: wl at gnu.org (Werner LEMBERG)
Date: Thu Mar  4 09:04:09 2004
Subject: [tex-live] strange p4 entries.
Message-ID: <20040304.090306.252140927.wl@gnu.org>


Sebastian,


the following change entries are not very helpful :-)


  Change 4441 on 2004/03/02 by rahtz@tug

          I doubt if it does any good

  Change 4433 on 2004/03/01 by rahtz@tug

          damn you


It really makes life easier if concise change entries are provided.  I
consider a lack of a real ChangeLog file as one of the greatest
deficiencies in the whole TeXLive project -- I know it costs a *lot*
of time to maintain it properly, but I think it is worth the time.


    Werner
From preining at logic.at  Fri Mar  5 07:46:10 2004
From: preining at logic.at (Norbert Preining)
Date: Fri Mar  5 07:46:29 2004
Subject: [tex-live] compiling texlive/lcdf-typetools
In-Reply-To: <20040304072841.GA19521@dbs.uni-hannover.de>
References: <20040304065722.GA25582@gamma.logic.tuwien.ac.at>
	<20040304072841.GA19521@dbs.uni-hannover.de>
Message-ID: <20040305064610.GC31837@gamma.logic.tuwien.ac.at>

On Don, 04 M?r 2004, Thomas Esser wrote:
> > Using the latest changes by te we are a bit closer to a compile:
> 
> Please, sync -f the lcdf-typetools and restart. It works for me.

Worked, compile went through without any problems. I will put up
binaries for alpha/linux soon.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
His eyes seemed to be popping out of his head. He wasn't
certain if this was because they were trying to see more
clearly, or if they simply wanted to leave at this point.
                 --- Arthur trying to see who had diverted him from going to
                 --- a party.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy
From sebastian.rahtz at computing-services.oxford.ac.uk  Fri Mar  5 23:15:54 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Fri Mar  5 23:16:13 2004
Subject: [tex-live] strange p4 entries.
In-Reply-To: <20040304.090306.252140927.wl@gnu.org>
References: <20040304.090306.252140927.wl@gnu.org>
Message-ID: <20040305221553.GA20457@raven.linux.ox.ac.uk>

On Thu, Mar 04, 2004 at 09:03:06AM +0100, Werner LEMBERG wrote:
> 
>   Change 4433 on 2004/03/01 by rahtz@tug
> 
>           damn you
> 
> 
> It really makes life easier if concise change entries are provided.  I
> consider a lack of a real ChangeLog file as one of the greatest

I agree, and I apologize. I will try to do better


Sebastian
From harald.von.aschen at gmx.de  Sat Mar  6 00:22:08 2004
From: harald.von.aschen at gmx.de (Harald von Aschen)
Date: Sat Mar  6 00:58:07 2004
Subject: [tex-live] Problems installing doublestroke ps-1 fonts and updmap
In-Reply-To: <ptcgzewe.fsf@esemetz.metz.supelec.fr>
References: <20040212061845.GB22082@dbs.uni-hannover.de>
	<5.2.0.9.2.20040211122126.00a1c080@213.165.64.20>
	<Pine.LNX.4.44.0402112125490.18143-100000@re86.internetdsl.tpnet.pl>
	<20040212061845.GB22082@dbs.uni-hannover.de>
Message-ID: <5.2.0.9.2.20040306000842.00a2be60@213.165.64.20>

Hello!

I'm so sorry that I have not found the time to look into this any more 
earlier. My exams have started beginning of Februar and the last exam has 
been finished this week and now I'm away for the next week.

I'll then do a fresh installation on another "test" computer and check 
what's missing (e.g. dsrom12.tfm seems to be missing on the CD distribution 
but on ftp.dante.de it seems to be complete) and why it is not created 
properly etc. I have changed so much here by hand that I'm not able to say 
any more what's there by installation and what I have changed by hand.

I'm sorry for the inconvenience caused by not answering earlier.

Thank's again for all the very fast help and the great work you are doing here!

Best regards

Harald 

From harald.von.aschen at gmx.de  Sat Mar  6 00:34:45 2004
From: harald.von.aschen at gmx.de (Harald von Aschen)
Date: Sat Mar  6 00:58:11 2004
Subject: [tex-live] Missing packages selection tree when updating
  fptex
In-Reply-To: <Pine.LNX.4.44.0402160941150.13065-200003@singa.math.nus.ed u.sg>
References: <isi8zemv.fsf@esemetz.metz.supelec.fr>
Message-ID: <5.2.0.9.2.20040306002448.00a334b0@213.165.64.20>

At 21:07 16.02.04 +0800, Helmer Aslaksen wrote:

O.k. this is a  little bit outdated but only to complete the thread:

> > > Hi guys, I just installed TL2003 on WinXP notebook. No problem.
> >
> > > I then went to the fpTeX home page and downloaded the updated TeXsetup
> > > file and followed the instructions.
> >
> > > When I came to the packages selection screen and clicked on texlive to
> > > open the tree, the screen was mostly blank, with just some items
> > > available. When I tried to click on some of those that were available,
> > > I got an error message about "The parameter is incorrect".

This looks for me like a memory problem. I have seen this problem on a 
system (Windows 98/II, 96 MB Ram) when I run into low memory. Restarting 
System, disabling not needed tasks and then starting again the update is 
working here. And collapsing the trees above before going into a new tree 
has helped also here. On my other system with 512 MB Ram (Win 98/II) I 
can't recreate this problem. And on the Laptop with 128 MB Ram (also Win 
98/II) I can reproduce the error but with more subtrees openend and some 
programs running. So I suppose it is a low memory problem.

Best regards, Harald  

From Fabrice.Popineau at supelec.fr  Sat Mar  6 12:49:24 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Sat Mar  6 12:49:49 2004
Subject: [tex-live] Missing packages selection tree when updating fptex
In-Reply-To: <5.2.0.9.2.20040306002448.00a334b0@213.165.64.20> (Harald von
	Aschen's message of "Sat, 06 Mar 2004 00:34:45 +0100")
References: <isi8zemv.fsf@esemetz.metz.supelec.fr>
	<5.2.0.9.2.20040306002448.00a334b0@213.165.64.20>
Message-ID: <oerambzv.fsf@esemetz.metz.supelec.fr>


> This looks for me like a memory problem. I have seen this problem on a
> system (Windows 98/II, 96 MB Ram) when I run into low
> memory.

You are right. It is a documented behaviour of the win32 api that under
low memory condition, windows may start not to render some
objects. However I have not yet seen that under XP. Last time was under
win98.

Fabrice

From Fabrice.Popineau at supelec.fr  Sat Mar  6 14:25:10 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Sat Mar  6 14:25:42 2004
Subject: [tex-live] LibWWW
Message-ID: <fzcmm7k9.fsf@esemetz.metz.supelec.fr>


Hi,

It seems that the latest xdvik does not use LibWWW. If yes and that
version is in the texlive depot, maybe someone can remove LibWWW.

It seems also that the same xdvik can read Omega dvi files, which makes
oxdvik useless (I should remove owindvi some day for the same reason).

Finally, maybe we could patch dvips to do the same too.

-- 
Fabrice

From karl at freefriends.org  Sat Mar  6 16:16:32 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Mar  6 16:16:51 2004
Subject: [tex-live] strange p4 entries.
Message-ID: <200403061516.i26FGWr06304@f7.net>

    consider a lack of a real ChangeLog file as one of the greatest

What I miss even more than a ChangeLog file (which I agree about, BTW)
is a NEWS file.

I know there have already been important changes made to the tree this
year, but I don't know what they are -- except for the search path stuff
that Thomas graciously sent a description of.

Can we start keeping a top-level NEWS file?  Insert a sentence or two
and the date whenever anything users should be told about is done.  Or
just mail me (and I'll do it), I don't care.  Just some way to know what
changes to publicize, instead of having to guess at the last instant.

Thanks,
k
From sebastian.rahtz at computing-services.oxford.ac.uk  Sat Mar  6 17:52:20 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Sat Mar  6 17:52:21 2004
Subject: [tex-live] LibWWW
In-Reply-To: <fzcmm7k9.fsf@esemetz.metz.supelec.fr>
References: <fzcmm7k9.fsf@esemetz.metz.supelec.fr>
Message-ID: <402F6BA9.4060103@computing-services.oxford.ac.uk>

we dont have the new xdvik in texlive yet. obviously we
should, and dump libwww

I am assuming that Olaf or Thomas can do this
more efficiently than me

Sebastian
From wl at gnu.org  Sat Mar  6 17:59:28 2004
From: wl at gnu.org (Werner LEMBERG)
Date: Sat Mar  6 18:42:26 2004
Subject: [tex-live] strange p4 entries.
In-Reply-To: <200403061516.i26FGWr06304@f7.net>
References: <200403061516.i26FGWr06304@f7.net>
Message-ID: <20040306.175928.153708397.wl@gnu.org>

> What I miss even more than a ChangeLog file (which I agree about,
> BTW) is a NEWS file.

But a NEWS file can easily deduced from a ChangeLog, provided the
latter is written with care.


     Werner
From karl at freefriends.org  Sat Mar  6 18:52:04 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Mar  6 18:52:25 2004
Subject: [tex-live] strange p4 entries.
In-Reply-To: <20040306.175928.153708397.wl@gnu.org>
Message-ID: <200403061752.i26Hq4m00522@f7.net>

    But a NEWS file can easily deduced from a ChangeLog, provided the
    latter is written with care.

Obviously ChangeLog is a superset of NEWS, but I fear "easily" is a
wild overstatement.  Looking at the ChangeLog of large packages, such as
gcc, emacs, gdb, and so on, even groff and texinfo for that matter, it
is far from obvious to me what any particular change means or doesn't
mean to users.  It's really two different viewpoints.

Anyway, my main thought was that a NEWS file, being a lot simpler and
smaller, would be more likely to actually happen.  And it would have
actual utility right now, namely in writing the documentation.

In practice, there's no way we're going to get a ChangeLog until we are
on cvs, unless we can set up an automated perforce->ChangeLog thing.
From ms at artcom-gmbh.de  Sat Mar  6 19:58:19 2004
From: ms at artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Sat Mar  6 21:02:28 2004
Subject: [tex-live] NEWS (was: strange p4 entries.)
In-Reply-To: <200403061516.i26FGWr06304@f7.net>
References: <200403061516.i26FGWr06304@f7.net>
Message-ID: <20040306185818.GC703@lucien.kn-bremen.de>

On 2004-03-06 10:16:32 -0500, Karl Berry wrote:
> What I miss even more than a ChangeLog file (which I agree about, BTW)
> is a NEWS file.

pdftex has it's own.

Best regards
    Martin
-- 
               Martin Schr?der, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de
From mathelmr at math.nus.edu.sg  Sun Mar  7 05:18:06 2004
From: mathelmr at math.nus.edu.sg (Helmer Aslaksen)
Date: Sun Mar  7 05:18:46 2004
Subject: [tex-live] Missing packages selection tree when updating fptex
In-Reply-To: <oerambzv.fsf@esemetz.metz.supelec.fr>
Message-ID: <Pine.LNX.4.44.0403071215070.15288-100000@singa.math.nus.edu.sg>

Hi guys,

Thanks for the help, but I have 768MB RAM, and when I run
Performance/System Monitor, it show that I have about 540MB available.

Anything else I can check?

Thanks!

Helmer

On Sat, 6 Mar 2004, Fabrice Popineau wrote:

> 
> > This looks for me like a memory problem. I have seen this problem on a
> > system (Windows 98/II, 96 MB Ram) when I run into low
> > memory.
> 
> You are right. It is a documented behaviour of the win32 api that under
> low memory condition, windows may start not to render some
> objects. However I have not yet seen that under XP. Last time was under
> win98.
> 
> Fabrice
> 

-- 
Helmer ASLAKSEN
Department of Mathematics
National University of Singapore
Singapore 117543
Singapore

<aslaksen@math.nus.edu.sg>
<www.math.nus.edu.sg/aslaksen/>

Phone: +65 6874 2746
Fax: +65 6779 5452

From te at dbs.uni-hannover.de  Sun Mar  7 10:30:42 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sun Mar  7 10:31:03 2004
Subject: [tex-live] LibWWW
In-Reply-To: <402F6BA9.4060103@computing-services.oxford.ac.uk>
References: <fzcmm7k9.fsf@esemetz.metz.supelec.fr>
	<402F6BA9.4060103@computing-services.oxford.ac.uk>
Message-ID: <20040307093042.GA26152@dbs.uni-hannover.de>

> we dont have the new xdvik in texlive yet. obviously we
> should, and dump libwww
> 
> I am assuming that Olaf or Thomas can do this
> more efficiently than me

I will do this. teTeX-beta has a more recent version of xdvik (compares
to TeX Live), but not the very latest one. So, I'll make the change in
my sources first and then merge that into TeX Live.

Thomas
From Fabrice.Popineau at supelec.fr  Sun Mar  7 12:23:40 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Sun Mar  7 12:24:07 2004
Subject: [tex-live] Missing packages selection tree when updating fptex
In-Reply-To: <Pine.LNX.4.44.0403071215070.15288-100000@singa.math.nus.edu.sg>
	(Helmer
	Aslaksen's message of "Sun, 7 Mar 2004 12:18:06 +0800 (SGT)")
References: <Pine.LNX.4.44.0403071215070.15288-100000@singa.math.nus.edu.sg>
Message-ID: <eks4j3yb.fsf@esemetz.metz.supelec.fr>


> Anything else I can check?

What bothers me is that we already checked your dll version numbers and
they were correct if I remember. However, given the screen dump you sent
me, this display bug is clearly kind of a 'system' problem. Something
installed on your machine interferes here.

Do you have another computer to install texlive on and see if the
problem is also present ?

Fabrice

From stefan.ulrich at zen.co.uk  Sun Mar  7 11:47:00 2004
From: stefan.ulrich at zen.co.uk (Stefan Ulrich)
Date: Sun Mar  7 15:43:47 2004
Subject: [tex-live] LibWWW
In-Reply-To: <20040307093042.GA26152@dbs.uni-hannover.de>
References: <fzcmm7k9.fsf@esemetz.metz.supelec.fr>
	<402F6BA9.4060103@computing-services.oxford.ac.uk>
	<20040307093042.GA26152@dbs.uni-hannover.de>
Message-ID: <16458.64932.188518.90595@82.69.16.43>

Thomas Esser <te@dbs.uni-hannover.de> writes:

> I will do this. teTeX-beta has a more recent version of xdvik (compares
> to TeX Live), but not the very latest one. So, I'll make the change in
> my sources first and then merge that into TeX Live.

Great, thanks very much!

BTW, the t1lib in xdvik-22.81 (and earlier) has a buffer overflow
bug for font path names > 120 characters. Rainer is working on
it, and I'll release a new version as soon as he's done.
I don't know how long this will take; if you don't want to wait,
you could apply the following patch to your sources (which fixes
the overflow only, not the limits on path lengths):

http://xdvi.sourceforge.net/xdvik-22.81-t1lib-patch

Best,
Stefan
From ousia at gmx.net  Sun Mar  7 16:38:48 2004
From: ousia at gmx.net (Pablo =?ISO-8859-1?Q?Rodr=EDguez?=)
Date: Sun Mar  7 16:43:50 2004
Subject: [tex-live] dvipdfmx & texlive 2003
Message-ID: <1078673926.9896.68.camel@cm233135.red.mundo-r.com>

I have just discovered the dvipdfmx and I tried to compile it under MDK
9.2 with TeXLive 2003 installed, but I get the following error:

checking for kpse_find_file in -lkpathsea... no
configure: error: kpathsea library not found
This version of dvipdfmx requires the kpathsea library and its headers.
If you know where it is you might try setting the LDFLAGS environment
variable with -L pointing to the directory containing libkpathsea.a.

I couldn't find such a file called libkpathsea on my system. Am I doing
something wrong? Is there no way to compile the lastest dvipdfmx with TL
2003?

Thanks,


Pablo

From v-li at gmx.de  Sun Mar  7 19:14:00 2004
From: v-li at gmx.de (Christian Faulhammer)
Date: Sun Mar  7 19:23:09 2004
Subject: [tex-live] TDS
Message-ID: <94PM0GlEUPB@v-li.gmx.de>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi,

Fabrice told me that this should be the right place to talk about the
topic TDS. I hope nobody in Darmstadt during the meeting expected that
I have a great deal of influence on the development of MiKTeX, but
nevertheless I try to persuade Christian of anything that might come.

Fabrice and I talked about trying to get MiKTeX and fpTeX in sync in
means of tree structure. This will take some time I think, but I wrote
to Christian Schenk to discuss the topic. Maybe this will lead to a
list of things that could be useful in a new version of TDS...but I
will just float and react on things along the way.

V-Li

-----BEGIN PGP SIGNATURE-----
Version: PGP 8.0.3

iQA/AwUBQEtmeTUKrXwrhZ3jEQJGKACfdhBTNsDc/PVF2bseuovYiEtVxzUAoIgj
bKhiySSXe6FhwBc39hv6GpR8
=vRWR
-----END PGP SIGNATURE-----

-- 
Fingerprint: 68C5 D381 B69A A777 6A91 E999 350A AD7C 2B85 9DE3
http://www.gnupg.org
From te at dbs.uni-hannover.de  Sun Mar  7 20:42:34 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sun Mar  7 20:42:53 2004
Subject: [tex-live] LibWWW
In-Reply-To: <16458.64932.188518.90595@82.69.16.43>
References: <fzcmm7k9.fsf@esemetz.metz.supelec.fr>
	<402F6BA9.4060103@computing-services.oxford.ac.uk>
	<20040307093042.GA26152@dbs.uni-hannover.de>
	<16458.64932.188518.90595@82.69.16.43>
Message-ID: <20040307194234.GA2359@dbs.uni-hannover.de>

> BTW, the t1lib in xdvik-22.81 (and earlier) has a buffer overflow

Ok, I just have finnished updating xdvik in my sources and in the texlive
repository (#4451). The patch for t1lib is applied.

Thomas
From ms at artcom-gmbh.de  Sun Mar  7 22:10:24 2004
From: ms at artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Sun Mar  7 23:01:38 2004
Subject: [tex-live] TDS
In-Reply-To: <94PM0GlEUPB@v-li.gmx.de>
References: <94PM0GlEUPB@v-li.gmx.de>
Message-ID: <20040307211024.GB11438@lucien.kn-bremen.de>

On 2004-03-07 19:14:00 +0100, Christian Faulhammer wrote:
> Fabrice told me that this should be the right place to talk about the
> topic TDS. I hope nobody in Darmstadt during the meeting expected that

The best place to talk about TDS is probably the TDS mailinglist:
http://tug.org/mailman/listinfo/twg-tds

Best regards
    Martin
-- 
               Martin Schr?der, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de
From karl at freefriends.org  Mon Mar  8 17:09:32 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Mar  8 17:09:52 2004
Subject: [tex-live] libXaw.so.6 vs. .7
Message-ID: <200403081609.i28G9WA19463@f7.net>

Sebastian (I think it's you) -- It would be nice if Linux could be
compiled against libXaw.so.6 instead of .7 this year, unless there's
actual functionality differences.

Some of Mimi Burbank's machines in Florida have only .6 (thus xdvi does
not run), and so you can bet there are plenty of others out there in the
same boat.

Thanks,
k
From sebastian.rahtz at computing-services.oxford.ac.uk  Mon Mar  8 17:44:15 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon Mar  8 17:45:27 2004
Subject: [tex-live] libXaw.so.6 vs. .7
In-Reply-To: <200403081609.i28G9WA19463@f7.net>
References: <200403081609.i28G9WA19463@f7.net>
Message-ID: <404CA2DF.9040505@computing-services.oxford.ac.uk>



Karl Berry wrote:
> Sebastian (I think it's you) -- It would be nice if Linux could be
> compiled against libXaw.so.6 instead of .7 this year, unless there's
> actual functionality differences.

its not me. its Staszek

I just made a working copy for me to test stuff

I dont have much sympathy, personally, for people with old 
versions of stuff
but whatever others think best....

-- 
Sebastian Rahtz      Information Manager
Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431
From beebe at math.utah.edu  Mon Mar  8 17:52:51 2004
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Mon Mar  8 17:53:15 2004
Subject: [tex-live] libXaw.so.6 vs. .7
In-Reply-To: Your message of Mon, 8 Mar 2004 11:09:32 -0500
Message-ID: <CMM.0.92.0.1078764771.beebe@psi.math.utah.edu>

Karl Berry suggests on Mon, 8 Mar 2004 11:09:32 -0500 that the
GNU/Linux TeXlive builds should be done linking against libXaw.so.6
instead of .7.

Here is the situation for libXaw support on various GNU/Linux
distributions:

	My Red Hat 8 and 9 systems have .6, .6.1, and .7 in
	/usr/X11R6/lib/, as does Fedora 1, all on Intel IA-32, and Red
	Hat Advanced Server 2.1 on IA-64 has all three as well.

	My Red Hat 6 systems on Alpha and SPARC have only .6 and .6.1.

	My Yellowdog 2.3 systems on PowerPC have .6, .6.1, and .7.

	Debian 3.0 on Intel IA-32 has .6, .6.1, and .7.

	Red Hat 7.2 on Alpha has .6, .6.1, and .7.

	Slackware 9.1 on Intel IA-32 has .6, .6.1, and .7.

	SuSE 8.0 on Intel IA-32 has .6, .6.1, and .7.

Here is the status for libXaw support on other O/Ses:

	My MacOS 10.1.x and 10.3.2 systems have .6, .6.1, and .7.

	My FreeBSD 4.4 system on on Intel IA-32 has only .6, while
	FreeBSD 4.9, 5.0, and 5.1 on Intel IA-32 have .6 and .7.

	OpenBSD 3.2 on Intel IA-32 has .6.1 and .7.

	NetBSD 1.6 on Intel IA-32 has .6, .6.1, and .7.

	Sun Solaris 9 (SPARC and x86) has only .4 and .5.

I conclude that GNU/Linux releases that lack libXaw.so.7 must be older
than Red Hat 7.  Sites that are that far behind are vulnerable to
numerous security holes that have been patched in more recent
releases.  Our last remaining Red Hat 7.x systems here were upgraded
to 9.0 over the weekend.

An alternative, and probably better, solution is to link against
libXaw.a, eliminating the nasty dependence on shared library versions.
In the TeXlive-2003/9 CDs, the texlive/bin/i386-linux executables have
these shared library dependencies:

	% ldd * | grep '=>' | awk '{print $1}' | sort -u
	libc.so.6
	libdl.so.2
	libICE.so.6
	/lib/ld-linux.so.2
	libm.so.6
	libncurses.so.4
	libSM.so.6
	libstdc++-libc6.1-1.so.2
	libX11.so.6
	libXaw.so.6
	libXext.so.6
	libXmu.so.6
	libXt.so.6

initex and virtex depend only on libc.so.6 and libm.so.6, while inimf
and virmf depend on those two, plus these:

        /lib/ld-linux.so.2
        libICE.so.6
        libSM.so.6
        libX11.so.6
        libXext.so.6
        libXt.so.6
        libdl.so.2

Only two executables depend on libXaw.so.6: oxdvi.bin and xdvi.bin:
collectively, they depend on:

	% ldd oxdvi.bin xdvi.bin | grep '=>' | awk '{print $1}' | sort -u
	libc.so.6
	libdl.so.2
	libICE.so.6
	/lib/ld-linux.so.2
	libm.so.6
	libSM.so.6
	libX11.so.6
	libXaw.so.6
	libXext.so.6
	libXmu.so.6
	libXt.so.6

Why can all of the binaries in the TeXlive CD not be linked statically?
Would the sizes of the bin directories grow so much that the CD would
overflow again?

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe@math.utah.edu  -
- 155 S 1400 E RM 233                       beebe@acm.org  beebe@computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------
From karl at freefriends.org  Mon Mar  8 18:13:25 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Mar  8 18:13:47 2004
Subject: [tex-live] libXaw.so.6 vs. .7
In-Reply-To: <CMM.0.92.0.1078764771.beebe@psi.math.utah.edu>
Message-ID: <200403081713.i28HDPU00765@f7.net>

    I conclude that GNU/Linux releases that lack libXaw.so.7 must be older
    than Red Hat 7

Actually, it's a Debian system (so there's no meaningful version
numbers, it has 2.4.20 for a kernel, and the X stuff seems to date from
Feb 03), and as far as I know is aggressively maintained by the staff at
FSU.  I don't know why it has such an old Xaw.  That is strange.

Anyway, given your research, I agree it's pointless to try to use .6.
Mimi, you'll just have to get pamd updated.  Sorry, I tried.


As for linking statically in general, yes, binary bloat would be a
problem (the dist has already grown too big for the next release), but
also I fear incompatibilities, especially between libc and the kernel,
since there's such a strong relationship between them in Linux.  We
could probably statically link the others without much fear.  Hmm.

Thanks,
k
From sebastian.rahtz at computing-services.oxford.ac.uk  Mon Mar  8 18:13:39 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon Mar  8 18:14:51 2004
Subject: [tex-live] libXaw.so.6 vs. .7
In-Reply-To: <CMM.0.92.0.1078764771.beebe@psi.math.utah.edu>
References: <CMM.0.92.0.1078764771.beebe@psi.math.utah.edu>
Message-ID: <404CA9C3.1040306@computing-services.oxford.ac.uk>



Nelson H. F. Beebe wrote:

> 
> Why can all of the binaries in the TeXlive CD not be linked statically?
> Would the sizes of the bin directories grow so much that the CD would
> overflow again?

notes:

  a) oxdvi will disappear shortly, as new xdvi makes it 
redundant
  b) the CD will already be full :-}
  c) if we drop all TeX binaries except "tex" and "pdfetex", 
we should gain some space

I conclude that we probably _can_ afford static copies of xdvi
-- 
Sebastian Rahtz      Information Manager
Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431
From staw at gust.org.pl  Mon Mar  8 23:43:19 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Mon Mar  8 23:25:53 2004
Subject: [tex-live] new i386-linux binaries
Message-ID: <Pine.LNX.4.44.0403082325400.23307-100000@re86.internetdsl.tpnet.pl>

I've just submited new binaries for i386-linux (#4456)
Last changes (esp. #4448 and #4451) were applied
Notes:
- oxdvi* have gone
- xdvi.bin is now xdvi-xaw.bin (actually not statically linked with xaw;
  I can make it by hand if needed, but should I use libXaw.so.7
  or try libXaw.so.6?)
- produced web2c/fmtutil.cnf contains some entries using nonexistent
  pdfxtex, so some formats build failed
- make install tries to strip xdvi-mozilla.bin which is missing, so
  I stripped xdvi-xaw.bin by hand. 
Anyway we have binaries for win32 and linux which uses the same .pool
files.

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From karl at freefriends.org  Mon Mar  8 23:39:30 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Mar  8 23:39:51 2004
Subject: [tex-live] new i386-linux binaries
In-Reply-To: <Pine.LNX.4.44.0403082325400.23307-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200403082239.i28MdUU07642@f7.net>

    Anyway we have binaries for win32 and linux which uses the same .pool

Yay, thanks!

    - xdvi.bin is now xdvi-xaw.bin (actually not statically linked with xaw;
      I can make it by hand if needed, but should I use libXaw.so.7
      or try libXaw.so.6?)

I think statically linking with Xaw.7 would be fine.
From beebe at math.utah.edu  Tue Mar  9 03:24:46 2004
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Tue Mar  9 03:25:10 2004
Subject: [tex-live] TeX Live compiler environments
Message-ID: <CMM.0.92.0.1078799086.beebe@psi.math.utah.edu>

Is there somewhere that the compilation environment (CC, CFLAGS, LIBS,
LDFLAGS, ...) is recorded for each of the platform builds on the
TeXlive distributions?

I'm trying to reproduce some benchmark data for newly-built TeX
systems on some platforms, and would like to know what I'm comparing
against.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe@math.utah.edu  -
- 155 S 1400 E RM 233                       beebe@acm.org  beebe@computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------
From petr at olsak.net  Tue Mar  9 09:24:37 2004
From: petr at olsak.net (Petr Olsak)
Date: Tue Mar  9 09:25:00 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <200403010006.i2106up12969@tug.org>
Message-ID: <Pine.LNX.4.44.0403090859240.4027-100000@newton.feld.cvut.cz>


On Mon, 1 Mar 2004, Karl Berry wrote:

> I can't build latex.efmt with the current setup, t1code.tex is not
> found.  I was using the master /home/tlprod checkout on tug, so I'm
> reasonably sure it's not a p4 issue.
>
> ...
>   (/home/tlprod/Master/texmf-dist/tex/generic/hyphen/czhyph.tex
>   ! I can't find file `t1code.tex'.
>
> The file is present at:
> /home/tlprod/Master/texmf-dist/tex/csplain/base/t1code.tex

base ???

I am the author of csplain and t1code.tex file is the part of this
package. I disagree with the change of the location of the t1code.tex
file.

The ftp://math.feld.cvut.cz/pub/cstex/base/csplain.tar.gz
is an etalon of contents of files, file names and locations in directory
structure. There is no reason to add the new directory name "base" and to
do things more complicated!

I hate the useless complications in texmf tree. For example
I use very frequently the command:

less /te<tab>tex/plain/ba<tab>pl<tab><enter>

(I have done "ln -s /where/is/texmf /texmf" on all my systems)
I hate the useless part of this command: ba<tab> (three keystrokes
more!), but I don't comment this complication in directory structure
because I am not the autor of plain.tex package.

On the other hand I am the author of csplain package and I wish to place
the files in the same locations as in csplain.tar.gz.

I accepted the changes of the names of my map files (from
csfonts.tar.gz) with reluctance. I understand that the global concept of
map files in actual TeX distribution has more priority than the names in
csfonts.tar.gz. On the other hand there actually is not any reason to do
the directory structure in texmf/tex/csplain more complicated.

The programmers would be remember: power is in the simplicity!

I hope that the texmf/tex/csplain and texmf/tex/csplatex will be reverted
to the original directory structure.

Thank you

Petr Olsak

From Fabrice.Popineau at supelec.fr  Tue Mar  9 09:32:25 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Tue Mar  9 09:32:54 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <Pine.LNX.4.44.0403090859240.4027-100000@newton.feld.cvut.cz>
	(Petr Olsak's message of "Tue, 9 Mar 2004 09:24:37 +0100 (CET)")
References: <Pine.LNX.4.44.0403090859240.4027-100000@newton.feld.cvut.cz>
Message-ID: <7jxue7za.fsf@esemetz.metz.supelec.fr>

> On Mon, 1 Mar 2004, Karl Berry wrote:
>> I can't build latex.efmt with the current setup, t1code.tex is not
>> found.  I was using the master /home/tlprod checkout on tug, so I'm
>> reasonably sure it's not a p4 issue.
>> 
>> ...  (/home/tlprod/Master/texmf-dist/tex/generic/hyphen/czhyph.tex ! 
>> I can't find file `t1code.tex'.
>> 
>> The file is present at:
>> /home/tlprod/Master/texmf-dist/tex/csplain/base/t1code.tex

> base ???

> I am the author of csplain and t1code.tex file is the part of this
> package. I disagree with the change of the location of the t1code.tex
> file.

You can disagree but that's what the TDS specifies :

<package> is a TEX package name (examples: babel, texdraw).
In the case where a format consists of only a single file and has no auxiliary packages,
that file can simply be placed in the <format> directory, instead of <format>/base. For example,
Texinfo goes in texmf/tex/texinfo/texinfo.tex, not texmf/tex/texinfo/base/
texinfo.tex.

The TDS reserves the following hpackagei names:
- base, for the base distribution of each format, including files used by INITEX when
dumping format files. For example, in the standard LATEX distribution, the ltx files
created during the build process shall be stored in the base directory.
- hyphen, for hyphenation patterns, including the original American English hyphen.
tex. These are typically used only by INITEX. In most situations, this directory need
exist only under the generic format.
- images, for image input files, such as Encapsulated PostScript figures. Although it
is somewhat non-intuitive for these to be under a directory named ¡°tex¡±, TEX needs
to read these files to glean bounding box or other information. A mechanism for
sharing image inputs between TEX and other typesetting programs (e.g., Interleaf,
FrameMaker) is beyond the scope of the TDS. In most situations, this directory need
exist only under the generic format.
- local, for local additions and configuration files. See Section 2.3.
- misc, for packages that consist of a single file. An administrator or package maintainer
may create directories for single-file packages at their discretion,
instead of using misc.

And _I_ will strongly advocate to even remove the fact that it depends
whether the format consists of 1 or several files (because you don't
know about the future).

Fabrice

From petr at olsak.net  Tue Mar  9 09:59:10 2004
From: petr at olsak.net (Petr Olsak)
Date: Tue Mar  9 09:59:32 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <7jxue7za.fsf@esemetz.metz.supelec.fr>
Message-ID: <Pine.LNX.4.44.0403090944300.4027-100000@newton.feld.cvut.cz>


On Tue, 9 Mar 2004, Fabrice Popineau wrote:

> > On Mon, 1 Mar 2004, Karl Berry wrote:
> >> I can't build latex.efmt with the current setup, t1code.tex is not
> >> found.  I was using the master /home/tlprod checkout on tug, so I'm
> >> reasonably sure it's not a p4 issue.
> >>
> >> ...  (/home/tlprod/Master/texmf-dist/tex/generic/hyphen/czhyph.tex !
> >> I can't find file `t1code.tex'.
> >>
> >> The file is present at:
> >> /home/tlprod/Master/texmf-dist/tex/csplain/base/t1code.tex
>
> > base ???
>
> > I am the author of csplain and t1code.tex file is the part of this
> > package. I disagree with the change of the location of the t1code.tex
> > file.
>
> You can disagree but that's what the TDS specifies :

I *know* that this is the consequence of some stupid decisions of authors
of TDS, because they put out of mind: "the power is in the simplicity".

I don't plan any sharing of files from tex/csplain with another external
programs (the example about pictures given by you is irrelevant).
I vote to add the clause to TDS: the subdirectory structure of tex/package
is only recommended, not required. The author of package can decide if the
recommended structure is usable for this package or does not.

> And _I_ will strongly advocate to even remove the fact that it depends
> whether the format consists of 1 or several files (because you don't
> know about the future).

I know the future of csplain because it is recorded in my license.

The users can be confused if the etalon csplain.tar.gz has another
directory structure than your TeX distribution. I wish to remove this
users confusions. This is main reason of my movements.
Is there a technical reason why csplain have to have the "base"
subdirectory?

> Fabrice

Best regards

Petr Olsak


From preining at logic.at  Tue Mar  9 10:57:56 2004
From: preining at logic.at (Norbert Preining)
Date: Tue Mar  9 10:58:18 2004
Subject: [tex-live] new i386-linux binaries
In-Reply-To: <Pine.LNX.4.44.0403082325400.23307-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0403082325400.23307-100000@re86.internetdsl.tpnet.pl>
Message-ID: <20040309095756.GA17165@gamma.logic.tuwien.ac.at>

On Mon, 08 M?r 2004, Staszek Wawrykiewicz wrote:
> I've just submited new binaries for i386-linux (#4456)

And I have submitted new alpha-linux binaries. Build on debian/woody.
gcc 2.95.4
glibc 2.2.5
libxaw 7

One question: Why there are elatex and pdfelatex in alpha/linux builds,
but not in i386/linux? 

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
GLEMENUILT (n.)
The kind of guilt which you'd completely forgotten about which comes
roaring back on discovering an old letter in a cupboard.
			--- Douglas Adams, The Meaning of Liff
From Fabrice.Popineau at supelec.fr  Tue Mar  9 12:10:37 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Tue Mar  9 12:11:10 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <Pine.LNX.4.44.0403090944300.4027-100000@newton.feld.cvut.cz>
	(Petr Olsak's message of "Tue, 9 Mar 2004 09:59:10 +0100 (CET)")
References: <Pine.LNX.4.44.0403090944300.4027-100000@newton.feld.cvut.cz>
Message-ID: <y8qacm36.fsf@esemetz.metz.supelec.fr>


>> You can disagree but that's what the TDS specifies :

> I *know* that this is the consequence of some stupid decisions of
> authors of TDS, because they put out of mind: "the power is in the
> simplicity".

See below about simplicity. Depends about 'simple for who' ;-)

> I don't plan any sharing of files from tex/csplain with another
> external programs (the example about pictures given by you is
> irrelevant).  I vote to add the clause to TDS: the subdirectory
> structure of tex/package is only recommended, not required. The author
> of package can decide if the recommended structure is usable for this
> package or does not.

I would vote against it. TDS is not tight enough, I certainly don't want
to see it more lousy.

I want to see a TDS where you can locate each places belonging to some
'foo' package, and that all those places do not clash with any 'bar'
package.

> The users can be confused if the etalon csplain.tar.gz has another
> directory structure than your TeX distribution. I wish to remove this
> users confusions. This is main reason of my movements. 

I can understand that. But imho this should stay hidden to people. And
I'm sure the vast majority of people won't dig into this directory
structure. The whole business about this is to reach a point where we
can automate the distribution of ready-to-run packages. At this point
they really won't care anymore because it will be easy to remove the
'foo' package and replace it with a newer version without looking into
the files.

> Is there a technical reason why csplain have to have the "base" subdirectory?

Yes, it makes maintenance over the whole texmf tree _simpler_.

Before I moved a couple of files like these ones, when you wanted to get
all the files for some texmf/foo/bar/* stuff, you couldn't know if you
had to recursively search into the /* part or not. It depended of the
package. Now I have a small set of rules that comply with my requirement
above. But they do need to apply the TDS more strictly.

The current status of the texmf tree  is unstable: I'm  working on it. I
intend to sort it  out as far  as I can and  certainly before the end of
the week. The texmf-dist/  part is almost  ok to me. This is a  _proposal_ for
something easier to  maintain  than what  we had  up to now.  However, I
agree that    the majority of people  here   may reject  it  for various
reasons. Without a better scheme, that would be a pity in my opinion.

Greetings,

Fabrice

From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Mar  9 22:56:57 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Mar  9 22:57:40 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <y8qacm36.fsf@esemetz.metz.supelec.fr>
References: <Pine.LNX.4.44.0403090944300.4027-100000@newton.feld.cvut.cz>
	<y8qacm36.fsf@esemetz.metz.supelec.fr>
Message-ID: <404E3DA9.5030802@computing-services.oxford.ac.uk>

I *know* that this is the consequence of some stupid decisions of
| authors of TDS, because they put out of mind: "the power is in the

| simplicity".

Then argue  it with the TDS list. Don't blame TeX Live for implementing
the  standard!

I tend to disagree  with you, actually. Simplicity is predictability. If 
you know
that *.tex files never  occur directly inside texmf/tex/<format>, then
you have a simple, powerful, system.

I  can't believe that more than 1 or 2 people a year ever look at these 
files :-}
(as opposed to using them, of course)

Sebastian Rahtz
From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Mar  9 23:46:45 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Mar  9 23:47:26 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <Pine.LNX.4.44.0403090944300.4027-100000@newton.feld.cvut.cz>
References: <Pine.LNX.4.44.0403090944300.4027-100000@newton.feld.cvut.cz>
Message-ID: <404E4955.1050201@computing-services.oxford.ac.uk>

Petr Olsak wrote:

>I vote to add the clause to TDS: the subdirectory structure of tex/package
>is only recommended, not required. The author of package can decide if the
>recommended structure is usable for this package or does not.
>  
>

This seems entirely the wrong way round. The  distribuition
system should use a  consistent naming and directory structure, 
according  to
some principle. Authors  of packages should not at all be encouraged
to go off on their own whims!

Sebastian
From staw at gust.org.pl  Wed Mar 10 03:31:29 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Wed Mar 10 03:13:35 2004
Subject: [tex-live] Re: [NTG-pdftex] pdftex.cfg (was: pdfetex as the only
	engine)
In-Reply-To: <20040309222732.GC31599@lucien.kn-bremen.de>
Message-ID: <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl>

On Tue, 9 Mar 2004, Martin [iso-8859-1] Schr?der wrote:

> On 2004-03-09 22:00:55 +0100, Fabrice Popineau wrote:
> > > The priorities for configuration should be input, cfg and fmt in
> > > descending precedence.
> > 
> > I can agree and restore pdftex.cfg reading, but that may result in a
> > mess to understand why pdf_output is such or such value. 
> 
> Yes. And it would make dumping pdf_output in the format
> superfluous.

??? As I understand, dumping pdf_output in the format is the main
advantage, so running 'latex foo' will just output foo.dvi and
'pdflatex foo' will output foo.pdf
It seems that things now works well, so many thanks for doing the last 
changes. Only some notes:
1. world.log says for every pdf* -ini run
    output format initialized to DVI
 fortunatelly .ini file is then read and proper output is set here, so the 
 result is OK (for the first moment I was in trouble reading that ;-)
2. pdftex.ini \input bplain instead of plain.tex
   This problem returns again and again... Why on hell!?
3. it is perhaps good time to remove pdfelatex and elatex (Fabrice already
   did that for win32). This would be one more step towards removing
   other engines/links. 
 
MS>> So we simply drop the cfg?

FP> That's what I would do. Unless someone has strong objection.

Perhaps Hans? I remember that he has some arguments for using cfg

Ps. I've submited new i386-linux binaries upto #4464

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From wl at gnu.org  Wed Mar 10 09:02:07 2004
From: wl at gnu.org (Werner LEMBERG)
Date: Wed Mar 10 09:03:26 2004
Subject: [tex-live] lkort doc in wrong dir
Message-ID: <20040310.090207.193694397.wl@gnu.org>


The stuff in Documentation/german/lkort should be moved to `dutch'.


    Werner
From Fabrice.Popineau at supelec.fr  Wed Mar 10 09:14:02 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Wed Mar 10 09:14:34 2004
Subject: [tex-live] Re: [NTG-pdftex] pdftex.cfg
In-Reply-To: <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl>
	(Staszek
	Wawrykiewicz's message of "Wed, 10 Mar 2004 03:31:29 +0100 (CET)")
References: <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl>
Message-ID: <ishdazlh.fsf@esemetz.metz.supelec.fr>



Staszek>  ??? As I understand, dumping pdf_output in the format is the
Staszek>  main advantage, so running 'latex foo' will just output
Staszek>  foo.dvi and 'pdflatex foo' will output foo.pdf

Actually, you can even run 

latex --output-format=pdf foo 
:-)

Staszek>  1. world.log says for every pdf* -ini run output format
Staszek>  initialized to DVI

I must admit that it is a bit misleading. But if there is only one
engine, its ini version output format has to be initialized to DVI. Then
only \pdfoutput=1 will switch it to PDF and eventually will be dumped.

Maybe the problem is that you just don't expect from inipdfetex to be
initialized to DVI output format ...

Any suggestion to make it more clear ?

Fabrice

From petr at olsak.net  Wed Mar 10 09:17:39 2004
From: petr at olsak.net (Petr Olsak)
Date: Wed Mar 10 09:18:04 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <y8qacm36.fsf@esemetz.metz.supelec.fr>
Message-ID: <Pine.LNX.4.44.0403100907180.4027-100000@newton.feld.cvut.cz>


On Tue, 9 Mar 2004, Fabrice Popineau wrote:

> > The users can be confused if the etalon csplain.tar.gz has another
> > directory structure than your TeX distribution. I wish to remove this
> > users confusions. This is main reason of my movements.
>
> I can understand that. But imho this should stay hidden to people. And
> I'm sure the vast majority of people won't dig into this directory
> structure. The whole business about this is to reach a point where we
> can automate the distribution of ready-to-run packages. At this point
> they really won't care anymore because it will be easy to remove the
> 'foo' package and replace it with a newer version without looking into
> the files.
>
> > Is there a technical reason why csplain have to have the "base"
> > subdirectory?
>
> Yes, it makes maintenance over the whole texmf tree _simpler_.

Woud you be more accurate?

IMHO, the simple maintenance of csplain is:

ls texmf/tex/csplain  ... I see all files of csplain package
cd texmf/tex/csplain
for i in *; do diff $i /some/other/texmf/tex/csplain/$i
                      ... I check the difference of all files
less texmf/tex/csplain/t1code.tex
                      ... I look into t1code.tex file

Adding a more complicated directory structure makes these tasks more
complicated.

I am the author of csplain and I have the copyright of this package.
I wish to leave the tex/csplain directory structure in siple state.
I don't see any technical reason why the more complicated directory
structure have to be in tex/csplain.

Please, take this fact to your mind and revert the tex/csplain and
tex/cslatex directories to the old state.

Thank you

Petr Olsak


From preining at logic.at  Wed Mar 10 09:27:35 2004
From: preining at logic.at (Norbert Preining)
Date: Wed Mar 10 09:27:58 2004
Subject: [tex-live] What has happened with hyphen.tex ?
Message-ID: <20040310082735.GE6653@gamma.logic.tuwien.ac.at>

Hmm!

texconfig init, mktexfmt etc all stumbles, because hyphen.tex is not
found: (and it is not ls-R, I couldn't find it with "find ..." unix
command)

[~] mktexfmt tex
running `tex -ini   -jobname=tex -progname=tex tex.ini' ...
This is TeXk, Version 3.141592 (Web2C 7.5.2) (INITEX)
 %&-line parsing enabled.
(/usr/TeX/texlive-src/Master/texmf-dist/tex/plain/config/tex.ini
(/usr/TeX/texlive-src/Master/texmf-dist/tex/plain/base/plain.tex
Preloading the plain format: codes, registers, parameters, fonts, more
fonts,
macros, math definitions, output routines, hyphenation
! I can't find file `hyphen'.
l.1222 \input hyphen
                    
Please type another input file name: 
! Emergency stop.
l.1222 \input hyphen
                    
No pages of output.
Transcript written on tex.log.
This is TeXk, Version 3.141592 (Web2C 7.5.2) (INITEX)
 %&-line parsing enabled.
(/usr/TeX/texlive-src/Master/texmf-dist/tex/plain/config/tex.ini
(/usr/TeX/texlive-src/Master/texmf-dist/tex/plain/base/plain.tex
Preloading the plain format: codes, registers, parameters, fonts, more
fonts,
macros, math definitions, output routines, hyphenation
! I can't find file `hyphen'.
l.1222 \input hyphen
                    
Please type another input file name: 
! Emergency stop.
l.1222 \input hyphen
                    
No pages of output.
Transcript written on tex.log.
Error: `tex -ini  -jobname=tex -progname=tex tex.ini' failed

###############################################################################
fmtutil: Error! Not all formats have been built successfully.
Visit the log files in directory
  /usr/TeX/texmf-var/web2c
for details.
###############################################################################

This is a summary of all `failed' messages and warnings:
`tex -ini  -jobname=tex -progname=tex tex.ini' failed


Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
DOLEGELLAU (n.)
The clump, or cluster, of bored, quietly enraged, mildly embarrassed
men waiting for their wives to come out of a changing room in a dress
shop.
			--- Douglas Adams, The Meaning of Liff
From Fabrice.Popineau at supelec.fr  Wed Mar 10 09:32:40 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Wed Mar 10 09:33:11 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <Pine.LNX.4.44.0403100907180.4027-100000@newton.feld.cvut.cz>
	(Petr Olsak's message of "Wed, 10 Mar 2004 09:17:39 +0100 (CET)")
References: <Pine.LNX.4.44.0403100907180.4027-100000@newton.feld.cvut.cz>
Message-ID: <eks1ayqf.fsf@esemetz.metz.supelec.fr>


> IMHO, the simple maintenance of csplain is:

> ls texmf/tex/csplain ... I see all files of csplain package cd
> texmf/tex/csplain for i in *; do diff $i
> /some/other/texmf/tex/csplain/$i ... I check the difference of all
> files less texmf/tex/csplain/t1code.tex ... I look into t1code.tex
> file

> Adding a more complicated directory structure makes these tasks more
> complicated.

Please  stop thinking about yourself  and start thinking about the whole
mess we have on the texlive : 50000 files !

> I am the author of csplain and I have the copyright of this package.
> I wish to leave the tex/csplain directory structure in siple state.  I
> don't see any technical reason why the more complicated directory
> structure have to be in tex/csplain.

> Please, take this fact to your mind and revert the tex/csplain and
> tex/cslatex directories to the old state.

I don't see how the location of the files is affected by the copyright.

Fabrice

From preining at logic.at  Wed Mar 10 09:33:54 2004
From: preining at logic.at (Norbert Preining)
Date: Wed Mar 10 09:34:14 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <Pine.LNX.4.44.0403100907180.4027-100000@newton.feld.cvut.cz>
References: <y8qacm36.fsf@esemetz.metz.supelec.fr>
	<Pine.LNX.4.44.0403100907180.4027-100000@newton.feld.cvut.cz>
Message-ID: <20040310083354.GF6653@gamma.logic.tuwien.ac.at>

On Mit, 10 M?r 2004, Petr Olsak wrote:
> Adding a more complicated directory structure makes these tasks more
> complicated.

You miss the point! The point is that if you want to manage/update/etc
literally hundreds if not thousands of packages, as we=Sebastian doing
here, it is a good thing to be able to use some scripts.

If packages do not comply to the TDS, the scripts break, the packages
has to be updated by hand, ... leading to possibly completely outdated
packages.

Ask me: How many `normal' TeX users and how man admins do install
packages themselves? I guess close to none, they either take TeXlive or
fpTeX or teTeX or what ever is packaged in their distribution.

If the package does not allows easy handling by the meta-maintainers, it
will suffer from neglegence.

Is this what you want?

IMHO we are all working to have a complete, +-easy to manage system
which is also easy to keep current, *without* hours of hand work!

> I am the author of csplain and I have the copyright of this package.
> I wish to leave the tex/csplain directory structure in siple state.

Can you give me a reason why this is so important for you, besides
disturbing people packaging up the whole stuff?

> Please, take this fact to your mind and revert the tex/csplain and
> tex/cslatex directories to the old state.

Probably not. Otherwise we do not follow TDS.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
POONA (n.)
Satisfied grunting noise made when sitting back after a good meal.
			--- Douglas Adams, The Meaning of Liff
From Fabrice.Popineau at supelec.fr  Wed Mar 10 09:36:52 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Wed Mar 10 09:37:22 2004
Subject: [tex-live] lkort doc in wrong dir
In-Reply-To: <20040310.090207.193694397.wl@gnu.org> (Werner LEMBERG's
	message of "Wed, 10 Mar 2004 09:02:07 +0100 (CET)")
References: <20040310.090207.193694397.wl@gnu.org>
Message-ID: <ad2payjf.fsf@esemetz.metz.supelec.fr>


Done. Thanks.

-- 
Fabrice

From preining at logic.at  Wed Mar 10 09:39:26 2004
From: preining at logic.at (Norbert Preining)
Date: Wed Mar 10 09:39:46 2004
Subject: [tex-live] What has happened with hyphen.tex ?
In-Reply-To: <20040310082735.GE6653@gamma.logic.tuwien.ac.at>
References: <20040310082735.GE6653@gamma.logic.tuwien.ac.at>
Message-ID: <20040310083926.GH6653@gamma.logic.tuwien.ac.at>

On Mit, 10 M?r 2004, Norbert Preining wrote:
> texconfig init, mktexfmt etc all stumbles, because hyphen.tex is not
> found: (and it is not ls-R, I couldn't find it with "find ..." unix
> command)

Aemmm, all hyphens are gone ... or did I become blind?

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
NASEBY (n.)
The stout metal instrument used for clipping labels on to exhibits at
flower shows.
			--- Douglas Adams, The Meaning of Liff
From Fabrice.Popineau at supelec.fr  Wed Mar 10 09:53:48 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Wed Mar 10 09:54:20 2004
Subject: [tex-live] What has happened with hyphen.tex ?
In-Reply-To: <20040310083926.GH6653@gamma.logic.tuwien.ac.at> (Norbert
	Preining's message of "Wed, 10 Mar 2004 09:39:26 +0100")
References: <20040310082735.GE6653@gamma.logic.tuwien.ac.at>
	<20040310083926.GH6653@gamma.logic.tuwien.ac.at>
Message-ID: <65ddaxr7.fsf@esemetz.metz.supelec.fr>


> Aemmm, all hyphens are gone ... or did I become blind?

You are not blind. I will resubmit in a few minutes. They should have
moved to texmf/ but failed to.

Fabrice

From petr at olsak.net  Wed Mar 10 09:54:30 2004
From: petr at olsak.net (Petr Olsak)
Date: Wed Mar 10 09:54:52 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <20040310083354.GF6653@gamma.logic.tuwien.ac.at>
Message-ID: <Pine.LNX.4.44.0403100946210.4027-100000@newton.feld.cvut.cz>


On Wed, 10 Mar 2004, Norbert Preining wrote:

> Can you give me a reason why this is so important for you, besides
> disturbing people packaging up the whole stuff?

Because this makes the incomptibility with the master file:
ftp://math.feld.cvut.cz/pub/cstex/base/csplain.tar.gz

Because this makes many Czech documentations and books buggy,
because these doscuments suggest to use csplain.tar.gz and they
mention the location of the files. I cannot upgrade these
(printed!) documents and books simply.

Because I use my own scripts over csplain on many TeX distributions
to check it etc. May be, other users have similar scripts which
follows the Czech documentation about file locations.
Don't make this work more complicated for me and other Czech users.

Please, revert files to the original locations.

Thank you

Petr Olsak

From petr at olsak.net  Wed Mar 10 10:05:39 2004
From: petr at olsak.net (Petr Olsak)
Date: Wed Mar 10 10:06:01 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <Pine.LNX.4.44.0403100946210.4027-100000@newton.feld.cvut.cz>
Message-ID: <Pine.LNX.4.44.0403101001110.4027-100000@newton.feld.cvut.cz>



On Wed, 10 Mar 2004, Petr Olsak wrote:

>
> On Wed, 10 Mar 2004, Norbert Preining wrote:
>
> > Can you give me a reason why this is so important for you, besides
> > disturbing people packaging up the whole stuff?
>
> Because this makes the incomptibility with the master file:
> ftp://math.feld.cvut.cz/pub/cstex/base/csplain.tar.gz
>
> Because this makes many Czech documentations and books buggy,
> because these doscuments suggest to use csplain.tar.gz and they
> mention the location of the files. I cannot upgrade these
> (printed!) documents and books simply.
>
> Because I use my own scripts over csplain on many TeX distributions
> to check it etc. May be, other users have similar scripts which
> follows the Czech documentation about file locations.
> Don't make this work more complicated for me and other Czech users.

Because I leave the file locations in csplain.tar.gz in old state.
If I upgrade some files, you can upgrade the csplain from this source.
_You_ will have more work, because you have to do the relocations to
"base" etc. directories from csplain.tar.gz source everytime the package
will be upgraded.

Petr Olsak

> Please, revert files to the original locations.
>
> Thank you
>
> Petr Olsak

From pragma at wxs.nl  Wed Mar 10 10:01:11 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Wed Mar 10 10:12:11 2004
Subject: [tex-live] Re: [NTG-pdftex] pdftex.cfg (was: pdfetex as the only
	engine)
In-Reply-To: <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.
	tpnet.pl>
References: <20040309222732.GC31599@lucien.kn-bremen.de>
	<Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl>
Message-ID: <6.0.1.1.2.20040310095742.01c90d20@server-1>

At 03:31 10/03/2004, Staszek Wawrykiewicz wrote:

>Perhaps Hans? I remember that he has some arguments for using cfg

i think that the only reasons were the additional map files, but that can 
now be done with \pdfmapfile in combination with the default map file; mayb 
eth ename of the default map file should be configurable in the texmf.cnf 
file:

   pdftex.mapfile=whatever.map;more.map

that way we have the best of all worlds

Hans  

From sebastian.rahtz at computing-services.oxford.ac.uk  Wed Mar 10 10:25:36 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Wed Mar 10 10:27:00 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <Pine.LNX.4.44.0403100946210.4027-100000@newton.feld.cvut.cz>
References: <Pine.LNX.4.44.0403100946210.4027-100000@newton.feld.cvut.cz>
Message-ID: <404EDF10.7090402@computing-services.oxford.ac.uk>

It is surely very common for distributions of any kind (TeX, 
Linux, whatever) to put files in directories according to 
their local standard. Ours is the TDS. Debian may move the 
stuff around again. VTeX may move it a third time.
None of this should worry an author. I find it weird that 
one would document a fixed structure for run time files, 
when no-one ever needs to visit such files (if they need to 
find them, they have the kpse* tools).

I'd much rather hand-massage the cs* files into TDS once
an entry and then have an easier package management later...

-- 
Sebastian Rahtz      Information Manager
Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431
From preining at logic.at  Wed Mar 10 10:27:44 2004
From: preining at logic.at (Norbert Preining)
Date: Wed Mar 10 10:28:10 2004
Subject: [tex-live] What has happened with hyphen.tex ?
In-Reply-To: <65ddaxr7.fsf@esemetz.metz.supelec.fr>
References: <20040310082735.GE6653@gamma.logic.tuwien.ac.at>
	<20040310083926.GH6653@gamma.logic.tuwien.ac.at>
	<65ddaxr7.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040310092744.GI6653@gamma.logic.tuwien.ac.at>

On Mit, 10 M?r 2004, Fabrice Popineau wrote:
> > Aemmm, all hyphens are gone ... or did I become blind?
> 
> You are not blind. I will resubmit in a few minutes. They should have
> moved to texmf/ but failed to.

Thanks! 

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
WORGRET (n.)
A kind of poltergeist which specialises in stealing new copies of the
A-Z from your car.
			--- Douglas Adams, The Meaning of Liff
From pragma at wxs.nl  Wed Mar 10 10:47:54 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Wed Mar 10 10:57:32 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <Pine.LNX.4.44.0403100946210.4027-100000@newton.feld.cvut.c
 z>
References: <20040310083354.GF6653@gamma.logic.tuwien.ac.at>
	<Pine.LNX.4.44.0403100946210.4027-100000@newton.feld.cvut.cz>
Message-ID: <6.0.1.1.2.20040310101832.01d25ef0@server-1>

At 09:54 10/03/2004, Petr Olsak wrote:

>Please, revert files to the original locations.

May i remind you that not that long ago, the czech hypenation patterns were 
messed up, i.e. had become macro package dependent, which messed up the 
live of some users, maintainers, etc. So, apart from the fact that the tex 
live/tds team tries to get the structure right, there may becoem a time 
that they start putting constraints on the files themselves (well, it would 
be a good thing to sort out the whole hyphenation mess anyway).

So, to come back to your arguments: any change (and tex live moves forward) 
has consequences, for writers and maintainers, and even for other package 
writers (who, as i found out, have to adapt to changes in packages). Such 
is live and that is the price for progress. Since tex live is the standard 
distribution, those who depend on it will follow.

PS. Another chance affecting czech users will be that the lmr fonts will 
replace csr etc, yet another step in making live easier. Of course that 
would render some documentation useless too.

Hans   

From te at dbs.uni-hannover.de  Wed Mar 10 22:46:18 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Wed Mar 10 22:46:43 2004
Subject: [tex-live] Re: [NTG-pdftex] pdftex.cfg
In-Reply-To: <ishdazlh.fsf@esemetz.metz.supelec.fr>
References: <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl>
	<ishdazlh.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040310214618.GC1725@dbs.uni-hannover.de>

> Actually, you can even run 
> latex --output-format=pdf foo 

Well, to get something useful, you have to make sure that the latex format
is created with useful setting for e.g. \pdfhorigin and \pdfvorigin.

If you just
  latex -ini latex.ltx
  latex --output-format=pdf sample2e
you'll get a messed-up sample2e.pdf.

This means, that we either have to make sure to set useful defaults
for *all* formats that we dump with pdfetex or that we reactivate the
config file.

> Maybe the problem is that you just don't expect from inipdfetex to be
> initialized to DVI output format ...

Maybe, pdf*tex should defer this message until the dvi vs. pdf decision
is finally decided (don't know when this is: when typesetting the first
boxes or when shipping out the first page).

Thomas
From te at dbs.uni-hannover.de  Wed Mar 10 22:48:46 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Wed Mar 10 22:49:07 2004
Subject: [tex-live] Re: [NTG-pdftex] pdftex.cfg (was: pdfetex as the only
	engine)
In-Reply-To: <6.0.1.1.2.20040310095742.01c90d20@server-1>
References: <20040309222732.GC31599@lucien.kn-bremen.de>
	<Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl>
	<6.0.1.1.2.20040310095742.01c90d20@server-1>
Message-ID: <20040310214846.GD1725@dbs.uni-hannover.de>

> eth ename of the default map file should be configurable in the texmf.cnf 
> file:
>   pdftex.mapfile=whatever.map;more.map

But, this is a step backwards. That's what an application specific config
file is for, not the more general texmf.cnf file.

Thomas
From te at dbs.uni-hannover.de  Thu Mar 11 04:14:59 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Thu Mar 11 04:15:21 2004
Subject: [tex-live] change #4471
Message-ID: <20040311031459.GA19002@dbs.uni-hannover.de>

Well,

after long discussions, we can finally start experiments with pdfetex
being the default TeX engine (see change 4471). pdftex and etex are no
longer build by default (this has required several changes due to some unwanted
dependencies).

At the same time, I also have removed the ini* and vir* symlinks.

And, we have updated versions of texinfo and xdvi (again).

Thomas
From Fabrice.Popineau at supelec.fr  Thu Mar 11 09:15:30 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Thu Mar 11 09:16:11 2004
Subject: [tex-live] Re: [NTG-pdftex] pdftex.cfg
In-Reply-To: <20040310214618.GC1725@dbs.uni-hannover.de> (Thomas Esser's
	message of "Wed, 10 Mar 2004 22:46:18 +0100")
References: <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl>
	<ishdazlh.fsf@esemetz.metz.supelec.fr>
	<20040310214618.GC1725@dbs.uni-hannover.de>
Message-ID: <k71rkdel.fsf@esemetz.metz.supelec.fr>

>> Actually, you can even run latex --output-format=pdf foo

> Well, to get something useful, you have to make sure that the latex
> format is created with useful setting for e.g. \pdfhorigin and
> \pdfvorigin.

> If you just latex -ini latex.ltx latex --output-format=pdf sample2e
> you'll get a messed-up sample2e.pdf.

> This means, that we either have to make sure to set useful defaults
> for *all* formats that we dump with pdfetex or that we reactivate the
> config file.

Surely those variables must be intialized with sensible values ?

But when I wrote that, I meant that we probably can't expect that
every package will take care of potential pdf output. So my question is
: shouldn't we allow to switch pdf_output on command line only in INI
mode ?

>> Maybe the problem is that you just don't expect from inipdfetex to be
>> initialized to DVI output format ...

> Maybe, pdf*tex should defer this message until the dvi vs. pdf
> decision is finally decided (don't know when this is: when typesetting
> the first boxes or when shipping out the first page).

That makes sense.

Fabrice

From petr at olsak.net  Thu Mar 11 12:03:06 2004
From: petr at olsak.net (Petr Olsak)
Date: Thu Mar 11 12:03:34 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <6.0.1.1.2.20040310101832.01d25ef0@server-1>
Message-ID: <Pine.LNX.4.44.0403111154080.1281-100000@newton.feld.cvut.cz>


Hello,

>>I vote to add the clause to TDS: the subdirectory structure of
>>tex/package
>>is only recommended, not required. The author of package can decide if
>>the recommended structure is usable for this package or does not.
>
>This seems entirely the wrong way round. The  distribuition
>system should use a  consistent naming and directory structure,
>according  to
>some principle. Authors  of packages should not at all be encouraged
>to go off on their own whims!

I am parsing texmf tree maually (using cd, ls, cat, vi etc.) every day
many times for my specific purposes. I have found that the texmf tree
is more and more complicated from one version to another. I understand
that some things have to be more complicated because of global concept
of the TeX distribution and because there are more and more files in
texmf. But I hate the *useless* complications. If csplain files will be
installed into many subdirectories then this si an example of
useless complication. I spend many hours of making my software and
I don't wish to patricipate with my software on useless complication
which I hate myself.

Please, accept the author's wish and revert the files from tex/csplain
and tex/cslatex to its original locations. Please, do it and show a
little respect to the authors of software used in your TeX distribution.
Without authors you would have no software in your distribution.

The files from csplain was located directly under texmf/tex/csplain/
10 years and there is no technical reason to change this location now.

I have a little comments to TDS: IMHO the TDS declares directory
structure principally for better orientation over the files for human
who are using ls, cd, cat etc. These commands are basic UNIX tools for
parsing arbitrary directrory structure. If you say that the
human access is not important but only machine access (by
special software) then I dont understand, why you separe the
information to the files and directories. The whole information in
texmf can be stored in one (gigabyte) binary file and you can programm
the special access-tools (like kpsewhich) to get or upgrade the part
of this information. This approach is very similar to registers in
Windows. I and many other users hate Windows in order to this
approach.

On the other hand: you can say that human *can* parse the texmf tree
(by standard UNIX tools for example). In such case the TDS standard have
to be revised. Many useless sub/sub/ directories do the life of human more
difficult but they do not make machine access noticeably easy because
machine is able to get information from one directory with 50000 files
(one beside second) or from one gigabite binary file without problems.
Why and for whom is the TDS dessigned?

Best Regards

Petr Olsak


From sebastian.rahtz at computing-services.oxford.ac.uk  Thu Mar 11 12:17:13 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Thu Mar 11 12:18:44 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <Pine.LNX.4.44.0403111154080.1281-100000@newton.feld.cvut.cz>
References: <Pine.LNX.4.44.0403111154080.1281-100000@newton.feld.cvut.cz>
Message-ID: <40504AB9.1050803@computing-services.oxford.ac.uk>



Petr Olsak wrote:

> Please, accept the author's wish and revert the files from tex/csplain
> and tex/cslatex to its original locations.

if someone shows we are not being TDS compliant, we will, of 
course!

> Please, do it and show a
> little respect to the authors of software used in your TeX distribution.

I might equally suggest that authors should respect the 
wishes of the community :-}

> Why and for whom is the TDS dessigned?

its a good question. but beyond our remit.

in my book, TeX Live has three goals:

  1. it includes everything it can. it does not make choices 
about whether package A is good or bad

  2. it follows the open source guidelines, so that 
everything can be redistributed and changed

  3. it follows the best available standards

for the last N years, we have not packaged the cs* stuff 
quite right; now that Fabrice has noticed, and fixed it, we 
are even closer to one our goals.

-- 
Sebastian Rahtz      Information Manager
Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431
From Fabrice.Popineau at supelec.fr  Thu Mar 11 12:58:32 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Thu Mar 11 12:59:20 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <Pine.LNX.4.44.0403111154080.1281-100000@newton.feld.cvut.cz>
	(Petr Olsak's message of "Thu, 11 Mar 2004 12:03:06 +0100 (CET)")
References: <Pine.LNX.4.44.0403111154080.1281-100000@newton.feld.cvut.cz>
Message-ID: <smgfioif.fsf@esemetz.metz.supelec.fr>


> I have a little comments to TDS: IMHO the TDS declares directory
> structure principally for better orientation over the files for human
> who are using ls, cd, cat etc. These commands are basic UNIX tools for
> parsing arbitrary directrory structure. If you say that the human
> access is not important but only machine access (by special software)
> then I dont understand, why you separe the information to the files
> and directories.

We need to maintain lists of files automatically. In order to achieve
this, we need to establish connection between package names and paths in
the tds texmf tree. Csplain qualifies as a TeX format. LaTeX qualifies as a
TeX format. Their runnable files are found under texmf/tex/${format}/base.
Either we start to create categories and we can handle the whole texmf-dist
tree automatically or we let package authors put files where they like
and we need to maintain package creation by hand. In my opinion it is a
technical reason. 

Please reread my message about the rules I have set up for building
packages automatically using these kind of rules.

Fabrice

From petr at olsak.net  Thu Mar 11 13:48:14 2004
From: petr at olsak.net (Petr Olsak)
Date: Thu Mar 11 13:48:39 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <40504AB9.1050803@computing-services.oxford.ac.uk>
Message-ID: <Pine.LNX.4.44.0403111342160.1281-100000@newton.feld.cvut.cz>


On Thu, 11 Mar 2004, Sebastian Rahtz wrote:

> > Why and for whom is the TDS dessigned?
>
> its a good question. but beyond our remit.

I am asking to somebody from TDS team: would you explain your aims?
Human or computer?

> in my book, TeX Live has three goals:
>
>   1. it includes everything it can. it does not make choices
> about whether package A is good or bad
>
>   2. it follows the open source guidelines, so that
> everything can be redistributed and changed
>
>   3. it follows the best available standards

If the standard gives useless difficulties for human
then this standard is not best, IMHO.

Best Regards

Petr Olsak


From sebastian.rahtz at computing-services.oxford.ac.uk  Thu Mar 11 13:54:59 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Thu Mar 11 13:56:27 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <Pine.LNX.4.44.0403111342160.1281-100000@newton.feld.cvut.cz>
References: <Pine.LNX.4.44.0403111342160.1281-100000@newton.feld.cvut.cz>
Message-ID: <405061A3.3060502@computing-services.oxford.ac.uk>



Petr Olsak wrote:

> 
> I am asking to somebody from TDS team: would you explain your aims?
> Human or computer?

you need to ask on the TDS list. It isn't fair to limit it 
to those people who happen to overlap.

> If the standard gives useless difficulties for human
> then this standard is not best, IMHO.

I entirely agree with you!

But I am also waiting to hear from anyone else who has any 
difficulty in working with the changed layout of cs*.
So far we have 1 human (you) vs 1 computer (Fabrice's script).

-- 
Sebastian Rahtz      Information Manager
Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431
From kaja at daimi.au.dk  Thu Mar 11 14:08:02 2004
From: kaja at daimi.au.dk (Kaja P. Christiansen)
Date: Thu Mar 11 14:08:22 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <Pine.LNX.4.44.0403111342160.1281-100000@newton.feld.cvut.cz>
References: <40504AB9.1050803@computing-services.oxford.ac.uk>
	<Pine.LNX.4.44.0403111342160.1281-100000@newton.feld.cvut.cz>
Message-ID: <16464.25778.938061.20815@sparkle.daimi.au.dk>



Petr Olsak writes:

 > I am asking to somebody from TDS team: would you explain your aims?
 > Human or computer?

Please address your question to the TDS mailing list: twg-tds@tug.org.

Regards
Kaja

From Fabrice.Popineau at supelec.fr  Thu Mar 11 14:09:20 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Thu Mar 11 14:10:09 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <405061A3.3060502@computing-services.oxford.ac.uk> (Sebastian
	Rahtz's message of "Thu, 11 Mar 2004 12:54:59 +0000")
References: <Pine.LNX.4.44.0403111342160.1281-100000@newton.feld.cvut.cz>
	<405061A3.3060502@computing-services.oxford.ac.uk>
Message-ID: <7jxril8f.fsf@esemetz.metz.supelec.fr>


>  So far we have 1 human
> (you) vs 1 computer (Fabrice's script).

I like it :-)

There is another concern about this location of files.

Petr may put his files under texmf/tex/csplain, the TDS does not forbid
it. But the TDS implies that he his only the owner of
texmf/tex/csplain/base. So anybody can come with a package and put it in
texmf/tex/csplain/<foo> and the TDS allows it too. How do we get out of
the mess in that case ?

Fabrice

From karl at freefriends.org  Thu Mar 11 14:46:10 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Mar 11 14:46:43 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <7jxril8f.fsf@esemetz.metz.supelec.fr>
Message-ID: <200403111346.i2BDkAX18418@f7.net>

    So anybody can come with a package and put it in

Anybody can, but do such packages actually exist, or is it hypothetical?

    texmf/tex/csplain/<foo> and the TDS allows it too. How do we get out
    of the mess in that case ?

That is precisely the reason the TDS recommends putting the basic format
into a `base' subdirectory.
From karl at freefriends.org  Thu Mar 11 14:59:29 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Mar 11 14:59:52 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <Pine.LNX.4.44.0403111342160.1281-100000@newton.feld.cvut.cz>
Message-ID: <200403111359.i2BDxTX21400@f7.net>

    petr> Why and for whom is the TDS dessigned?
    ...
    petr> I am asking to somebody from TDS team: would you explain your
    aims?  Human or computer?

Either, both, whoever finds it useful.

It was originally created because different TeX distributions at the
time (1994 or so) had wildly different runtime directory structures,
including everything in one big directory.  A need was perceived to make
them consistent, as much as possible.  So we tried to codify existing
practice and come up with a scheme that everyone could implement.

I recognize your argument about the extra `base' subdirectory not
matching existing documentation.  On the other hand, other humans (as
well as programs, as we know) might be equally surprised by having an
underlying format not in a base directory.  (find -name base ...)

I don't know what the answer is.
From Fabrice.Popineau at supelec.fr  Thu Mar 11 15:05:15 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Thu Mar 11 15:06:04 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <200403111346.i2BDkAX18418@f7.net> (Karl Berry's message of
	"Thu, 11 Mar 2004 08:46:10 -0500")
References: <200403111346.i2BDkAX18418@f7.net>
Message-ID: <y8q7h42s.fsf@esemetz.metz.supelec.fr>

>     So anybody can come with a package and put it in Anybody can, but
> do such packages actually exist, or is it hypothetical?

The need for a specific texmf/tex/<format>/config/ directory for each <format> can come from things such as
the removal of the pdftex.cfg file from pdftex. Thomas proposed to replace it by a
pdftexconfig.tex file which will be input at ini time. 

Currently, its content is not format dependent, it can be shared among
formats. However there is no reason that it will always be the case. And
in that case you will put it in texmf/tex/<format>/config/pdftexconfig.tex .

-- 
Fabrice

From Fabrice.Popineau at supelec.fr  Thu Mar 11 15:15:35 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Thu Mar 11 15:16:30 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <200403111359.i2BDxTX21400@f7.net> (Karl Berry's message of
	"Thu, 11 Mar 2004 08:59:29 -0500")
References: <200403111359.i2BDxTX21400@f7.net>
Message-ID: <r7vzh3lk.fsf@esemetz.metz.supelec.fr>


> I recognize your argument about the extra `base' subdirectory not

By the way ... I tend not to think about 'directories', but about
locations. From this point of view,  texmf/tex/<format>/base and
texmf/tex/<format> are both locations, count 1 for each and i don't care
that much about the raw number of directories. The goal is that :
- 2 texmf trees can me merged without clashes (uniformity)
- there are no files in directories which have subdirectories
(cleanness)
- 2 packages can't clash: they can't share a location (uniqueness)

-- 
Fabrice

From preining at logic.at  Thu Mar 11 15:24:40 2004
From: preining at logic.at (Norbert Preining)
Date: Thu Mar 11 15:55:17 2004
Subject: [tex-live] t1code.tex not found
In-Reply-To: <r7vzh3lk.fsf@esemetz.metz.supelec.fr>
References: <200403111359.i2BDxTX21400@f7.net>
	<r7vzh3lk.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040311142440.GD25378@gamma.logic.tuwien.ac.at>

On Don, 11 M?r 2004, Fabrice Popineau wrote:
> - 2 texmf trees can me merged without clashes (uniformity)
> - there are no files in directories which have subdirectories
> (cleanness)

This seems to be a killer argument! Really good! IMHO this argument
alone is well worth restructuring the stuff.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
OZARK (n.)
One who offers to help just after all the work has been done.
			--- Douglas Adams, The Meaning of Liff
From beebe at math.utah.edu  Thu Mar 11 16:34:28 2004
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Thu Mar 11 16:34:54 2004
Subject: [tex-live] Making TeX run faster
Message-ID: <CMM.0.92.0.1079019268.beebe@psi.math.utah.edu>

I rebuilt our TeX installations here on about a dozen flavors of Unix
earlier this week, making experiments with new compilers and compiler
optimizations.  In many cases, the optimized code failed the trip
and/or trap tests, but I ultimately got builds that did pass, and that
run faster than older versions.  Here is a snippet from the report
that I sent to our local TeX community:

>> ...
>> ===================
>> Timing improvements
>> ===================
>>
>> The motivation for the compiler experiments is to see if TeX can be
>> made to run faster on existing platforms.
>>
>> Using the average of 10 runs of typesetting the TeXbook (494 pages, 54
>> fonts), here are the page rates and speedups on our servers over the
>> previous versions of /usr/local/bin/tex (some of which were compiled
>> several years ago with less mature compilers), sorted from slowest to
>> fastest machine.
>>
>> =================================================================================
>>                          TeXbook typesetting (pages/sec)
>> Server          vendor          TeXLive         old     new     speedup (new:old)
>> =================================================================================
>> blab02            7.8           n/a               5.3     9.3   1.75
>> wombat            9.1             9.1            11.2    11.2   1.00
>> eilat           n/a              37              30      44     1.45
>> henry           n/a             n/a              44      76     1.73
>> mosso           n/a              66              47      77     1.64
>> suncore         n/a              79              85      99     1.16
>> uinta           129             114             145     146     1.00
>> fuji            n/a             219             240     249     1.04
>> ibapah          157             n/a             343     342     1.00
>> =================================================================================
>> ...

The TeXLive versions are 2003/9 for all but mosso (a DEC Alpha OSF/1
system), for which I used TeXLive 7.  Compared to vendor versions, I
got speedups up to 2.18 (ibapah, an Itanium-2 system).  Compared to
TeXLive, I got speedups of 1.14 to 1.28.  At our site, given our heavy
use of TeX, the speedups are very helpful.

The 343 pages/sec on the 1.4GHz Itanium-2 is fast, but is not the TeX
speed record; I have recorded 410 pages/sec on an Apple PowerMac G5
(2GHz PowerPC), 412 pages/sec on an 1.3GHz Pentium M Centrino, and 425
pages/sec on a 1.4GHz AMD Athlon.  The fastest Sun SPARC time so far
is 190 pages/sec on a 1.06GHz Sun Sun Blade 1500.  I should shortly
have access again to AMD Opteron systems, which may beat everything.

Alas, I never recorded speeds on the DEC-20/60 (TeX's original
development machine) and the VAX 8600; I estimate that they would have
run at about 0.5 page/sec and 2 pages/sec.

I think it would be worthwhile in preparation of the next TeXLive
release to make similar timing experiments, so that we can ship the
fastest TeX possible on each platform.

We should also document the compilation environment for every
supported binary distribution, to serve as a starting point for future
rebuilds.  To that end, here are the compilers and optimizations that
I used; there are more systems listed here than in the above table,
because for some, I had no previous builds to compare with.

==========================================================================================
Architecture			O/S			Compiler	CFLAGS
==========================================================================================
Apple PowerPC (PowerMac G3)	GNU/Linux (YD 2.3)	gcc-3.2.2	-O3 -g
Apple PowerPC (PowerMac G4)	MacOS 10.2.3		gcc-3.3.3	-O3 -g
DEC Alpha 21064 (EV4)		GNU/Linux (RH 6.2)	gcc-3.3		-O2 -mieee -g
DEC Alpha 21264	(EV5)		OSF/1 4.0		gcc-3.3.3	-O3 -mieee -mcpu=ev5 -g
Dell PowerEdge Intel Itanium-2	GNU/Linux (RH AS2.1)	icc-8.0		-O2
Intel Pentium III		GNU/Linux (RH 8)	gcc-3.3.3	-O4 -mcpu=i686 -march=i686 -g
Intel Pentium III		FreeBSD 5.0		gcc-3.3.2	-O3 -g
Intel Pentium III		NetBSD 1.6		gcc-3.3.2	-O3 -g
Intel Pentium III		OpenBSD 3.2		gcc-3.3.2	-O3 -g
Intel Pentium III		Solaris 9 x86		cc-5.5		-xO3 xdepend -dalign -xlibmil -xunroll=5 -xprefetch
SGI Origin/200 MIPS R10000	IRIX 6.5		gcc-3.3		-O3 -mips3 -g
Sun E5500 UltraSPARC II		Solaris 8		cc-5.3		-xO3 xdepend -dalign -xlibmil -xunroll=5 -xprefetch
Sun SPARC 10 (TI SuperSPARC 50)	GNU/Linux (RH 6.2)	gcc-3.3		-O3 -g
==========================================================================================

gcc beat vendor compilers on OSF/1 and IRIX systems, but Sun's
compilers beat gcc on Solaris (SPARC and x86), and Intel's icc beat
gcc on Itanium-2.  The BSD systems and the GNU/Linux systems on
non-Intel IA-32 hardware have only gcc available, although I used
locally-installed versions of gcc that are newer than /usr/bin/gcc.

Since TeXLive binaries have to run on a range of hardware within each
O/S, CPU-specific options like -mcpu=i686, -march=i686, -mcpu=ev5, and
-mips3 above cannot be used for TeXLive builds.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe@math.utah.edu  -
- 155 S 1400 E RM 233                       beebe@acm.org  beebe@computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------
From te at dbs.uni-hannover.de  Thu Mar 11 17:06:41 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Thu Mar 11 17:07:10 2004
Subject: [tex-live] Making TeX run faster
In-Reply-To: <CMM.0.92.0.1079019268.beebe@psi.math.utah.edu>
References: <CMM.0.92.0.1079019268.beebe@psi.math.utah.edu>
Message-ID: <20040311160641.GB23408@dbs.uni-hannover.de>

> The 343 pages/sec on the 1.4GHz Itanium-2 is fast, but is not the TeX
> speed record; I have recorded 410 pages/sec on an Apple PowerMac G5
> (2GHz PowerPC), 412 pages/sec on an 1.3GHz Pentium M Centrino, and 425
> pages/sec on a 1.4GHz AMD Athlon.  The fastest Sun SPARC time so far
> is 190 pages/sec on a 1.06GHz Sun Sun Blade 1500.  I should shortly
> have access again to AMD Opteron systems, which may beat everything.

I get 591 pages/sec (0.836s for 494 pages) on an Athlon 3000+ system
(NFroce2 Chipset, 1GB RAM Corsair Dual channel). I compiled the latest
teTeX-beta with just -O3.

Thomas
From Fabrice.Popineau at supelec.fr  Thu Mar 11 17:46:04 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Thu Mar 11 17:46:52 2004
Subject: [tex-live] Restructuring
Message-ID: <y8q7fi2b.fsf@esemetz.metz.supelec.fr>


I am currently submitting quite a big change to the TL depot. In the
end, I removed several root directories and there remains 3 texmf tds
conformant directories:
- texmf/ which is the TLCore (actually, binaries could go there too !)
- texmf-dist/ which is Package, distribution independent packages
- texmf-doc/ which is Documentation, documentation files that do not
participate to the runnable system.

TLCore, Package and Documentation are symbolic names that are mapped to
the actual texmf/, texmf-dist/ and texmf-doc/ directories.

The script Tools/tpm-factory.pl allows to do several things out of this
structure:
- create a new, empty tpm file:
perl tpm-factory.pl --new=Package/foo
will create a texmf-dist/tpm/foo.tpm
- if you add :
perl tpm-factory.pl --new=Package/foo --patterns=auto
perl tpm-factory.pl --new=Binary/bar --patterns=from
the same tpm file will be created, but populated with a list of all the
files found in location belonging to the foo package
- cleanup a tpm file:
perl tpm-factory.pl --clean --name=Package/foo --patterns=auto --fixreq
will try as far as possible to populate the various fields with sensible
things
- cleanup a whole tree
perl tpm-factory.pl --clean --type=Package --patterns=auto
- check a texmf tree:
perl tpm-factory.pl --check=cov --type=Documentation
will check coverage and
perl tpm-factory.pl --check=dep --type=all
will check dependencies

Both Documentation and Package trees can be maintained
automatically. The TLCore tpm files need to be maintained by hand using
the Patterns fields. That's the reason behind --patterns=(from|auto|to).

Clearly this structure depends on packages to use the exact locations
that belong to them.

I'm open to enhancements and discussion about this stuff.

-- 
Fabrice

From pragma at wxs.nl  Thu Mar 11 17:43:35 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Mar 11 17:47:12 2004
Subject: [tex-live] Making TeX run faster
In-Reply-To: <CMM.0.92.0.1079019268.beebe@psi.math.utah.edu>
References: <CMM.0.92.0.1079019268.beebe@psi.math.utah.edu>
Message-ID: <6.0.1.1.2.20040311174135.01d0f4f0@server-1>

At 16:34 11/03/2004, Nelson H. F. Beebe wrote:
>I rebuilt our TeX installations here on about a dozen flavors of Unix
>earlier this week, making experiments with new compilers and compiler
>optimizations.  In many cases, the optimized code failed the trip
>and/or trap tests, but I ultimately got builds that did pass, and that
>run faster than older versions.  Here is a snippet from the report
>that I sent to our local TeX community:

what document did you use? the texbook?

also, when testing speed, it makes a difference if you run in batchmode or 
not; the speed of output to the the console differs a lot (varies per os, 
console buffer size, bitmap versus outline screen fonts, etc

Hans    

From beebe at math.utah.edu  Thu Mar 11 18:40:00 2004
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Thu Mar 11 18:40:30 2004
Subject: [tex-live] Making TeX run faster
In-Reply-To: Your message of Thu, 11 Mar 2004 16:56:05 +0100
Message-ID: <CMM.0.92.0.1079026800.beebe@psi.math.utah.edu>

Fabrice Popineau <Fabrice.Popineau@supelec.fr> writes today:

>> I also tried the icc compiler a while ago. It has been disastrous: tex
>> could eventually compile but was crashing and so was xemacs.

Version 8.0 of Intel's C/C++/Fortran compilers has been pretty decent.
Although I have found bugs, and submitted a score of bug reports to
Intel, the bugs are getting fixed, and new releases are issued about
every two weeks.  I've built a large number of GNU and non-GNU
packages with these compilers, and have been pretty happy with them.
They are the ONLY ones on Unix systems that claim full conformance to
both the ISO 1998 C++ Standard and the ISO 1999 C Standard.

>> ...
>> I wanted to keep the best optimization flags for
>> cl/win32, so I had to find (by dichotomy) which of those functions made
>> the trip test fail. I turned optimization off for those functions and the
>> result was ok. I don't do this anymore because MS cl compiler has
>> stabilized and the trip test passes with full optimization turned on.
>> ...

For a package as big as TeX, and as many platforms as I need to
support, such experimentation is infeasible.  Although we have trip
for TeX, and trap for Metafont, we have no test suite at all for any
of the other tools, which is a decidedly unsatisfactory situation that
ultimately must be remedied.  There are so many places where things
can go wrong: compilers, libraries, O/S kernels, interrupt handlers,
device drivers, networks, .... , that no software should ever be
trusted until it has been demonstrated to pass an extensive torture
test suite at its end-user site.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe@math.utah.edu  -
- 155 S 1400 E RM 233                       beebe@acm.org  beebe@computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------
From beebe at math.utah.edu  Thu Mar 11 18:47:10 2004
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Thu Mar 11 18:47:33 2004
Subject: [tex-live] Making TeX run faster
In-Reply-To: Your message of Thu, 11 Mar 2004 17:43:35 +0100
Message-ID: <CMM.0.92.0.1079027230.beebe@psi.math.utah.edu>

Hans Hagen <pragma@wxs.nl> asks today:

>> what document did you use? the texbook?
>> ... it makes a difference if you run in batchmode or 
>> not; the speed of output to the the console differs a lot (varies per os, 
>> console buffer size, bitmap versus outline screen fonts, etc

Yes, the TeXbook, and the tests are run in normal mode, not batchmode,
since that is the way most people run TeX. I've used the same testing
harness for many years, so all results are accumulated the same way.

In the Unix world, xterms run with bitmap fonts, so the results are
again comparable.

If others are interesting in contributing to the benchmark data, I can
make the (Unix) test scripts available.  Eventually, the collected
data could be used in an interesting short TUGboat article on TeX
performance.






-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe@math.utah.edu  -
- 155 S 1400 E RM 233                       beebe@acm.org  beebe@computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------
From pragma at wxs.nl  Fri Mar 12 00:15:02 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Mar 12 00:24:00 2004
Subject: [tex-live] Re: [NTG-pdftex] pdftex.cfg
In-Reply-To: <20040310170007.GA28261@dbs.uni-hannover.de>
References: <23090.1078905486@www25.gmx.net> <22089.1078905934@www50.gmx.net>
	<brn5lzgw.fsf@esemetz.metz.supelec.fr>
	<20040310170007.GA28261@dbs.uni-hannover.de>
Message-ID: <6.0.1.1.2.20040312001306.03c7d968@server-1>

At 18:00 10/03/2004, Thomas Esser wrote:
> > You can completely replace pdftex.cfg with \input pdftexconfig.tex :
>
>Ok, I just have done this in my tree. The name I have chosen was
>pdfconfig.tex, and I have put that file to tex/generic/config.
>Content:
>
>   % Set pdfTeX parameters for pdf mode (replacing pdftex.cfg file).
>   % Thomas Esser, 2004. public domain.
>   \pdfoutput=1
>   \pdfcompresslevel=9
>   \pdfdecimaldigits=3

make that 4 or 5, esp since tex does a log of back/forward transforms and 
we don't want to loose precission

>   \pdfpagewidth=210 true mm
>   \pdfpageheight=297 true mm
>   \pdfhorigin=1 true in
>   \pdfvorigin=1 true in
>   \pdfpkresolution=600
>   \pdfoptionpdfminorversion=4

actually you can add:

\pdfmapfile{psfonts.map}

which solves the map file specification problem as well

Hans  

From ms at artcom-gmbh.de  Fri Mar 12 01:18:39 2004
From: ms at artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri Mar 12 06:51:15 2004
Subject: [tex-live] Re: [NTG-pdftex] pdftex.cfg
In-Reply-To: <6.0.1.1.2.20040312001306.03c7d968@server-1>
References: <23090.1078905486@www25.gmx.net> <22089.1078905934@www50.gmx.net>
	<brn5lzgw.fsf@esemetz.metz.supelec.fr>
	<20040310170007.GA28261@dbs.uni-hannover.de>
	<6.0.1.1.2.20040312001306.03c7d968@server-1>
Message-ID: <20040312001839.GC9933@lucien.kn-bremen.de>

On 2004-03-12 00:15:02 +0100, Hans Hagen wrote:
> \pdfmapfile{psfonts.map}

s/psfonts/pdftex/

Best regards
    Martin
-- 
               Martin Schr?der, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de
From staw at gust.org.pl  Fri Mar 12 07:23:40 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Fri Mar 12 07:23:16 2004
Subject: [tex-live] new binaries for i386-linux
Message-ID: <Pine.LNX.4.44.0403120715210.29447-100000@re86.internetdsl.tpnet.pl>

... just submited to p4 (change #4476). We are somehow closer to
tex&pdfetex as only engines. Would you please checking that on your
different linux versions? Thanks,

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From Gerben.Wierda at rna.nl  Fri Mar 12 23:37:10 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri Mar 12 23:37:37 2004
Subject: [tex-live] Where is Master/texmf/tex/generic/tex4ht?
Message-ID: <CCC8F831-7475-11D8-AE75-003065B3343E@rna.nl>

Master/texmf/tex4ht is available but Master/texmf/tex/generic/tex4ht is 
missing. As far as I know, one needs both.

G

From Gerben.Wierda at rna.nl  Fri Mar 12 23:50:04 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri Mar 12 23:55:41 2004
Subject: [tex-live] Restructuring
Message-ID: <55138E64-7478-11D8-AE75-003065B3343E@rna.nl>

On Mar 11, 2004, at 17:46, Fabrice Popineau wrote:

> - texmf/ which is the TLCore (actually, binaries could go there too !)

No, please no.

What happened to the earlier outcome of the discussion where we decided 
to keep the stuff from the Build (make install) separate from the stuff 
from Master?

Please, please keep the programs and their dependencies separate from 
the Master texmf tree. These two (apart from major restructuring as is 
being done now) develop rather differently (a new nehyph.tex is quite 
something different from a new pdfetex program) and mashing them 
together in one dir makes it very hard to set up independent updating 
for both (especially if in both you get files dumped in the same 
subdirectory).

G

From Fabrice.Popineau at supelec.fr  Sat Mar 13 00:08:48 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Sat Mar 13 00:09:41 2004
Subject: [tex-live] Where is Master/texmf/tex/generic/tex4ht?
In-Reply-To: <CCC8F831-7475-11D8-AE75-003065B3343E@rna.nl> (Gerben Wierda's
	message of "Fri, 12 Mar 2004 23:37:10 +0100")
References: <CCC8F831-7475-11D8-AE75-003065B3343E@rna.nl>
Message-ID: <znalslxb.fsf@esemetz.metz.supelec.fr>


> Master/texmf/tex4ht is available but Master/texmf/tex/generic/tex4ht
> is missing. As far as I know, one needs both.

Master/texmf-dist/tex/generic/tex4ht

Support files for tex4ht are distributed independently of programs.

Fabrice

From Gerben.Wierda at rna.nl  Sat Mar 13 00:32:56 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat Mar 13 00:33:23 2004
Subject: [tex-live] Where is Master/texmf/tex/generic/tex4ht?
In-Reply-To: <znalslxb.fsf@esemetz.metz.supelec.fr>
References: <CCC8F831-7475-11D8-AE75-003065B3343E@rna.nl>
	<znalslxb.fsf@esemetz.metz.supelec.fr>
Message-ID: <976D4544-747D-11D8-B790-003065B3343E@rna.nl>

On Mar 13, 2004, at 00:08, Fabrice Popineau wrote:

>
>> Master/texmf/tex4ht is available but Master/texmf/tex/generic/tex4ht
>> is missing. As far as I know, one needs both.
>
> Master/texmf-dist/tex/generic/tex4ht
>
> Support files for tex4ht are distributed independently of programs.

So, tex4ht has been split accross texmf-dist and texmf. What is the 
rationale for such a split?

I get the feeling that things are moving into a direction that is going 
to cause me serious trouble. Last time I had some time joining this 
discussion (before the onslaught of work and exams) we had decided to 
have a texmf tree for support stuff (foundation, the Master part of TL) 
and one that holds abything that is created by the make install in the 
Build part of TL.

Now, it seems that parts that really belong together end up in 
different texmf trees.

G

From Gerben.Wierda at rna.nl  Sat Mar 13 00:33:07 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat Mar 13 00:33:31 2004
Subject: [tex-live] Restructuring
In-Reply-To: <4qstu0ld.fsf@esemetz.metz.supelec.fr>
References: <y8q7fi2b.fsf@esemetz.metz.supelec.fr>
	<9A145256-7477-11D8-AE75-003065B3343E@rna.nl>
	<4qstu0ld.fsf@esemetz.metz.supelec.fr>
Message-ID: <9D97D126-747D-11D8-B790-003065B3343E@rna.nl>

On Mar 13, 2004, at 00:06, Fabrice Popineau wrote:

>
>> What happened to the earlier outcome of the discussion where we
>> decided to keep the stuff from the Build (make install) separate from
>> the stuff from Master?
>
> Currently, we keep texmf/ and texmf-dist/ as distinct texmf trees.

That is not what I meant.

>> Please, please keep the programs and their dependencies separate from
>> the Master texmf tree. These two (apart from major restructuring as is
>> being done now) develop rather differently (a new nehyph.tex is quite
>> something different from a new pdfetex program) and mashing them
>> together in one dir makes it very hard to set up independent updating
>> for both (especially if in both you get files dumped in the same
>> subdirectory).
>
> Ok.
>
> I think that we will have to clarify many things. There is the 
> developer
> side and the user side. We can keep things in different directories on
> the developer side. If we do it cleanly enough, we can merge our
> directories on the user side at installation time.

This would break my work completely. The reason is that I have a setup 
where I am the 'developer' for many users. My distribution mechanism is 
such that if I merge on the users side, it will be impossible for me to 
maintain and update the users installation without having to let them 
download everything when only something small has changed.

The problem is that when the stuff is merged on the users side, I 
cannot just ship mirrors of directories created on my system, my 
delivery mechanism (which uses bzipped gnutar archives) will fail.

> We just need to
> prefix paths in the tpm files by some variable :

I do not use a mechanism based on tpm files.

> $(texmfdoc)/...
> $(package)/..
> $(tlcore)/..
>
> and the installer can expand the variables with some unique location or
> chose to keep them separate.

Thatis all well and fine for CD-distribution, but my distribution is an 
internet distribution based on all of TL's programs and a subset of the 
available macros (foundation).

> Miktek layout stores binaries under texmf, and actually you can read 
> the
> TDS this way (think texmf/web2c/... and texmf/source/web2c/...). Not
> that I say it is a good idea however. I don't like it that much, but
> that could help to make 2 distributions compatible on the same machine.
>
> Anyway, I have annoyed too many people at the moment to argue about 
> this
> point. So don't worry :-)

It is not just worry. It would probably end my internet distribution 
effort completely as there would be no reasonable strategy for me 
(afaics) to keep it maintained.

G

From Gerben.Wierda at rna.nl  Sat Mar 13 00:47:00 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat Mar 13 00:47:24 2004
Subject: [tex-live] Another restructuring issue
Message-ID: <8E902CE9-747F-11D8-B790-003065B3343E@rna.nl>

We should (IMO) make a clear distinction between what is dependent on 
architecture of the underlying computer/OS and what is not. In case of 
the programs, this is already being done by subdirectories in bin, but 
while we do it properly for programs, we do not do it for lib (where 
kpathsea.a resides, which is also architecture-dependant).

Personally, if I were to set this up anew, it would be along the lines 
of

	.../TeX/share/texmf-*
	.../TeX/share/include
	etc. And
	.../TeX/arch/powerpc-apple-darwin6.8/bin
	.../TeX/arch/powerpc-apple-darwin6.8/lib
	.../TeX/arch/i386-whatever-linux/bin
	.../TeX/arch/i386-whatever-linux/lib
	etc.

Such a setup would make the directories sharable accross different 
systems

Secondly, for me at least, it is essential that texmf stuff produced 
from TeX Live Build is separate from stuff that is part of Master.

G

From Fabrice.Popineau at supelec.fr  Sat Mar 13 00:51:33 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Sat Mar 13 00:52:22 2004
Subject: [tex-live] Where is Master/texmf/tex/generic/tex4ht?
In-Reply-To: <976D4544-747D-11D8-B790-003065B3343E@rna.nl> (Gerben Wierda's
	message of "Sat, 13 Mar 2004 00:32:56 +0100")
References: <CCC8F831-7475-11D8-AE75-003065B3343E@rna.nl>
	<znalslxb.fsf@esemetz.metz.supelec.fr>
	<976D4544-747D-11D8-B790-003065B3343E@rna.nl>
Message-ID: <r7vxsjy2.fsf@esemetz.metz.supelec.fr>


> So, tex4ht has been split accross texmf-dist and texmf. What is the
> rationale for such a split?

I   see no strong reason   to do it  one way  or  another. Eitan updates
support files and program files  independently (or so  it seems). So  we
can chose  to have support files  and program files in  the same tree or
not. I can move all  of tex4ht into the  same tree unless someone has an
objection.

Fabrice


From Gerben.Wierda at rna.nl  Sat Mar 13 00:55:37 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat Mar 13 00:56:00 2004
Subject: [tex-live] Restructuring
In-Reply-To: <vfl9sk9r.fsf@esemetz.metz.supelec.fr>
References: <y8q7fi2b.fsf@esemetz.metz.supelec.fr>
	<9A145256-7477-11D8-AE75-003065B3343E@rna.nl>
	<4qstu0ld.fsf@esemetz.metz.supelec.fr>
	<9D97D126-747D-11D8-B790-003065B3343E@rna.nl>
	<vfl9sk9r.fsf@esemetz.metz.supelec.fr>
Message-ID: <C2375CE4-7480-11D8-B790-003065B3343E@rna.nl>

On Mar 13, 2004, at 00:44, Fabrice Popineau wrote:

>
>> It is not just worry. It would probably end my internet distribution
>> effort completely as there would be no reasonable strategy for me
>> (afaics) to keep it maintained.
>
> But is the current layout something you can work with ?

I get the feeling "not easily". The tex4ht example is something I 
immediately ran into when I tried to update my distro with the current 
state of Master. Building my distro in the current setup would require 
for me to download parts of TL first in a temp dir, then restructuring 
then building my gnutar archive from it. Until now, I could just 
generate the archive from the Master tree.

> I hope we can go a bit further than the separation between Build/ and
> Master/: for me the bin/ + texmf/ should be a tlcore and texmf-dist/
> should be distribution independent.

There is more (see my other mail). I think the most important thing to 
keep in mind is that TL is not only used for CD/DVD-distribution. It is 
*also* used as the basis of my *internet* distribution, which is 
updated regularly and for which you do not want the users (without 
C-compilers and such as is the case for me) have to download everything 
if only a small part was changed.

I still do not understand why part of tex4ht is in texmf and part is in 
texmf-dist.

G

From karl at freefriends.org  Sat Mar 13 01:02:19 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Mar 13 01:02:49 2004
Subject: [tex-live] Restructuring
In-Reply-To: <C2375CE4-7480-11D8-B790-003065B3343E@rna.nl>
Message-ID: <200403130002.i2D02J803706@f7.net>

    Until now, I could just generate the archive from the Master tree.

Fabrice suggested to me that it might be possible to have the current
multiple-tree setup for the TeX Live sources (i.e., what's in p4), but
that the install process would merge them back together into one tree.

Then, I think you could download from the installed tree (which we'd
make available somewhere/somehow) as you did before.

Does that sound workable (both of you)?
From karl at freefriends.org  Sat Mar 13 01:03:43 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Mar 13 01:04:10 2004
Subject: [tex-live] Another restructuring issue
In-Reply-To: <8E902CE9-747F-11D8-B790-003065B3343E@rna.nl>
Message-ID: <200403130003.i2D03hA04088@f7.net>

    kpathsea.a resides, which is also architecture-dependant).

What purpose is there in distributing kpathsea.a?
I don't see any point.

Is there a lib directory in TL now?  I don't see it.
From Gerben.Wierda at rna.nl  Sat Mar 13 01:04:42 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat Mar 13 01:05:06 2004
Subject: [tex-live] Where is Master/texmf/tex/generic/tex4ht?
In-Reply-To: <r7vxsjy2.fsf@esemetz.metz.supelec.fr>
References: <CCC8F831-7475-11D8-AE75-003065B3343E@rna.nl>
	<znalslxb.fsf@esemetz.metz.supelec.fr>
	<976D4544-747D-11D8-B790-003065B3343E@rna.nl>
	<r7vxsjy2.fsf@esemetz.metz.supelec.fr>
Message-ID: <0719337A-7482-11D8-B790-003065B3343E@rna.nl>

On Mar 13, 2004, at 00:51, Fabrice Popineau wrote:

>
>> So, tex4ht has been split accross texmf-dist and texmf. What is the
>> rationale for such a split?
>
> I   see no strong reason   to do it  one way  or  another. Eitan 
> updates
> support files and program files  independently (or so  it seems). So  
> we
> can chose  to have support files  and program files in  the same tree 
> or
> not. I can move all  of tex4ht into the  same tree unless someone has 
> an
> objection.

Am I misunderstanding things if I say that you need both parts for 
tex4ht to work? In that case, it should all be part of texmf. It is 
function, not how it is updated that should define its place in the dir 
structure. I.e., if the file changes when the pdftex binary changes 
(.e.g. .pool files), they should be in a separate directory from stuff 
that is independent from the program. I am going to stop here, we 
discussed this earlier.

I still wonder what happened to the outcome of the earlier discussion 
on texmf trees and their roles. I think that was pretty well discussed 
to a conclusion and I even recall that Sebastain had said he was going 
to implement it. And now suddenly (to me) it seems we are going into 
another direction entirely which IMO makes matters maybe good for 
CD/DVD distribution, but in the meantime harms the use of TL as the 
basis of my (dynamic) net-distribution.

G

From karl at freefriends.org  Sat Mar 13 01:04:52 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Mar 13 01:05:18 2004
Subject: [tex-live] Restructuring
In-Reply-To: <9D97D126-747D-11D8-B790-003065B3343E@rna.nl>
Message-ID: <200403130004.i2D04q904539@f7.net>

    >> What happened to the earlier outcome of the discussion where we
    >> decided to keep the stuff from the Build (make install) separate from
    >> the stuff from Master?

That hasn't changed, has it?

I was under the impression that texmf is the result of make install.
texmf-dist and texmf-doc aren't.
From Fabrice.Popineau at supelec.fr  Sat Mar 13 01:10:25 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Sat Mar 13 01:11:16 2004
Subject: [tex-live] Restructuring
In-Reply-To: <200403130004.i2D04q904539@f7.net> (Karl Berry's message of
	"Fri, 12 Mar 2004 19:04:52 -0500")
References: <200403130004.i2D04q904539@f7.net>
Message-ID: <n06lsj2m.fsf@esemetz.metz.supelec.fr>


> I was under the impression that texmf is the result of make install.
> texmf-dist and texmf-doc aren't.

We need to agree on a rationale behind that. There are many files that
are in between. TeX4ht support files are an example of this, *.ini files
are another.

You may want to update tex4ht support files independently of tex4ht
program files. But again I won't make a case of these particular files:
their location is clearly identified. 

Also if the whole problem for Gerben is to build tarballs of packages,
this can be done with a very small amount of work using the
tpm-factory.pl perl script. It already does zip files out of tpm files.

-- 
Fabrice

From Fabrice.Popineau at supelec.fr  Sat Mar 13 01:12:49 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Sat Mar 13 01:13:38 2004
Subject: [tex-live] Where is Master/texmf/tex/generic/tex4ht?
In-Reply-To: <0719337A-7482-11D8-B790-003065B3343E@rna.nl> (Gerben Wierda's
	message of "Sat, 13 Mar 2004 01:04:42 +0100")
References: <CCC8F831-7475-11D8-AE75-003065B3343E@rna.nl>
	<znalslxb.fsf@esemetz.metz.supelec.fr>
	<976D4544-747D-11D8-B790-003065B3343E@rna.nl>
	<r7vxsjy2.fsf@esemetz.metz.supelec.fr>
	<0719337A-7482-11D8-B790-003065B3343E@rna.nl>
Message-ID: <ish9siym.fsf@esemetz.metz.supelec.fr>


> I still wonder what happened to the outcome of the earlier discussion
> on texmf trees and their roles. I think that was pretty well discussed
> to a conclusion and I even recall that Sebastain had said he was going
> to implement it.

What Sebastian did say ? 

> And now suddenly (to me) it seems we are going into
> another direction entirely which IMO makes matters maybe good for
> CD/DVD distribution, but in the meantime harms the use of TL as the
> basis of my (dynamic) net-distribution.

Ahemm ... remember that we have a compressed version of the texlive,
which is quite similar to my fptex distribution, which is also
distributed through the net. I don't see how the current layout can
impact that.

Fabrice

From te at dbs.uni-hannover.de  Sat Mar 13 01:13:30 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Mar 13 01:13:58 2004
Subject: [tex-live] Another restructuring issue
In-Reply-To: <8E902CE9-747F-11D8-B790-003065B3343E@rna.nl>
References: <8E902CE9-747F-11D8-B790-003065B3343E@rna.nl>
Message-ID: <20040313001330.GA1892@dbs.uni-hannover.de>

> Personally, if I were to set this up anew, it would be along the lines 
> of
> 
> 	.../TeX/share/texmf-*
> 	.../TeX/share/include
> 	etc. And
> 	.../TeX/arch/powerpc-apple-darwin6.8/bin

The kpathsea library (which is basically what ends up in lib and include
is not (yet) redistributable. The header files are more than platform
dependent, they even depend on the compiler that was used.

I don't see why we distribute it at all. It might make sense to do so
after Olaf has finnished his redesign. My guess is that this ends up in
TL 2006, Olaf is more optimistic and assumes TL 2005. :-)

Thomas
From Gerben.Wierda at rna.nl  Sat Mar 13 01:21:09 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat Mar 13 01:21:32 2004
Subject: [tex-live] Restructuring
In-Reply-To: <200403130004.i2D04q904539@f7.net>
References: <200403130004.i2D04q904539@f7.net>
Message-ID: <53BE19F0-7484-11D8-B790-003065B3343E@rna.nl>

On Mar 13, 2004, at 01:04, Karl Berry wrote:

>>> What happened to the earlier outcome of the discussion where we
>>> decided to keep the stuff from the Build (make install) separate from
>>> the stuff from Master?
>
> That hasn't changed, has it?
>
> I was under the impression that texmf is the result of make install.
> texmf-dist and texmf-doc aren't.

Is tex4ht (which is in the texmf tree) a result from make install in 
Build?

OK, I need to investigate better.

If I understand it correctly, texmf-dist is now largely what was in 
texmf and texmf is what is being produced by make install. Correct?

If that is the case, I have to take back my words. My confusion stemmed 
from the fact that I still had the tex4ht in texmf (but on inspection I 
just noticed that ht-fonts is largely empty and there is also one in 
texmf-dist which is filled).

Let me have a better look before I start commenting again.

G

From cloos at jhcloos.com  Sat Mar 13 06:19:05 2004
From: cloos at jhcloos.com (James H. Cloos Jr.)
Date: Sat Mar 13 06:20:38 2004
Subject: [tex-live] Re: Making TeX run faster
In-Reply-To: <CMM.0.92.0.1079027230.beebe@psi.math.utah.edu> (Nelson H. F.
	Beebe's message of "Thu, 11 Mar 2004 10:47:10 -0700 (MST)")
References: <CMM.0.92.0.1079027230.beebe@psi.math.utah.edu>
Message-ID: <m3u10t494m.fsf@lugabout.jhcloos.org>

>>>>> "Nelson" == Nelson H F Beebe <beebe@math.utah.edu> writes:

Nelson> If others are interesting in contributing to the benchmark
Nelson> data, I can make the (Unix) test scripts available.

Please do.

Also, I noted that use used -O4 w/ gcc-3.3.3.  That should be
identical to -O3 in all gcc versions yet released.  (At least
on x86 systems, and unless I missed some new addition to the
codebase....)

You should also evaluate -Os as well as 1, 2 and 3.  It tries
to minimize the size of the executable, as opposed to -O3 which
tries to speed things up by unrolling loops.  At least for the
cd I expect Os will help squeeze things in considerably when
compared with O3.

-JimC

From te at dbs.uni-hannover.de  Sat Mar 13 08:58:53 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Mar 13 08:59:19 2004
Subject: [tex-live] Another restructuring issue
In-Reply-To: <200403130003.i2D03hA04088@f7.net>
References: <8E902CE9-747F-11D8-B790-003065B3343E@rna.nl>
	<200403130003.i2D03hA04088@f7.net>
Message-ID: <20040313075853.GA3655@dbs.uni-hannover.de>

> What purpose is there in distributing kpathsea.a?
> I don't see any point.
>
> Is there a lib directory in TL now?  I don't see it.

kpathsea.a currently gets installed my "make install", but (and I
completely agree that this is right), this does not end up in Master.

I was just referring to the structure that Gerben has suggested (with lib
and include). I thought that Gerbens idea was to distribute kpathsea.a
and the header files.

Thomas
From Fabrice.Popineau at supelec.fr  Mon Mar 15 00:43:49 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Mon Mar 15 00:44:47 2004
Subject: [tex-live] 8+3 ?
Message-ID: <1xnvouyy.fsf@esemetz.metz.supelec.fr>


Is there any requirement why we should have 8+3 names on the Master
tree?

-- 
Fabrice

From Gerben.Wierda at rna.nl  Mon Mar 15 08:21:28 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Mon Mar 15 08:22:06 2004
Subject: [tex-live] 8+3 ?
In-Reply-To: <1xnvouyy.fsf@esemetz.metz.supelec.fr>
References: <1xnvouyy.fsf@esemetz.metz.supelec.fr>
Message-ID: <605BA96E-7651-11D8-B646-003065B3343E@rna.nl>

On Mar 15, 2004, at 00:43, Fabrice Popineau wrote:

>
> Is there any requirement why we should have 8+3 names on the Master
> tree?

Not as far as I'm concerned. But a max of 32 characters for each name 
would be advisable to stay within HFS+ levels. Also, introducing case 
sensitivity would not be a good idea (i.e. a file Foo and a file fOO in 
the same directory).

Also, the total depth should be concerned. I think it would be wise to 
keep directory names as short as possible while letting file names run 
up to 32 chars.

G

From preining at logic.at  Mon Mar 15 10:08:47 2004
From: preining at logic.at (Norbert Preining)
Date: Mon Mar 15 10:09:12 2004
Subject: [tex-live] Hmm, did I miss something, or is pdftex gone?
Message-ID: <20040315090847.GH29233@gamma.logic.tuwien.ac.at>

There are no pdftex binaries in i386-linux anymore. Is this true?

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
AMBLESIDE (n.)
A talk given about the Facts of Life by a father to his son whilst
walking in the garden on a Sunday afternoon.
			--- Douglas Adams, The Meaning of Liff
From ms at artcom-gmbh.de  Mon Mar 15 11:01:58 2004
From: ms at artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Mon Mar 15 11:02:34 2004
Subject: [tex-live] Hmm, did I miss something, or is pdftex gone?
In-Reply-To: <20040315090847.GH29233@gamma.logic.tuwien.ac.at>
References: <20040315090847.GH29233@gamma.logic.tuwien.ac.at>
Message-ID: <20040315100158.GU17403@artcom8.artcom-gmbh.de>

On 2004-03-15 10:08:47 +0100, Norbert Preining wrote:
> There are no pdftex binaries in i386-linux anymore. Is this true?

The binaries are not needed anymore; but a symlink _is_ needed.

Best regards
        Martin
-- 
               Martin Schr?der, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de
From te at dbs.uni-hannover.de  Mon Mar 15 11:29:20 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Mon Mar 15 11:29:47 2004
Subject: [tex-live] Hmm, did I miss something, or is pdftex gone?
In-Reply-To: <20040315100158.GU17403@artcom8.artcom-gmbh.de>
References: <20040315090847.GH29233@gamma.logic.tuwien.ac.at>
	<20040315100158.GU17403@artcom8.artcom-gmbh.de>
Message-ID: <20040315102920.GD16294@dbs.uni-hannover.de>

> On 2004-03-15 10:08:47 +0100, Norbert Preining wrote:
> > There are no pdftex binaries in i386-linux anymore. Is this true?
> 
> The binaries are not needed anymore; but a symlink _is_ needed.

That's what fmtutil / texlinks do with the proper setup. In
texk/web2c/fmtutil.in we have
  @PETEX@pdftex           pdfetex         -       *pdftex.ini

That should do the trick.

Thomas
From petr at olsak.net  Tue Mar 16 10:28:21 2004
From: petr at olsak.net (Petr Olsak)
Date: Tue Mar 16 10:28:49 2004
Subject: [tex-live] Is TeXk from TeXlive 2003 TRIP certified?
Message-ID: <Pine.LNX.4.44.0403161024450.1963-100000@newton.feld.cvut.cz>


Hello,

I have tried the TRIP test on TeXk binary from TeXlive 2003 for Linux
from DVD. IMHO, TeXk is not trip certified:

diff trip.log trip-ori.log | wc -l
   2711

The most common difference:

< l.150 ...illlstretch\vskip 1000pt\penalty-333\hbox
<                                                    to 23pt{} % output now
---
> l.150 ...1000pt\penalty-333\hbox
>                                  to 23pt{} % output now

Why this happened?

dvitype -dpi=72.27 -output-level=2 -page-start="*.*.*.*.*.*.*.*.*.*"\
  -max-pages=100000 -magnification=0 trip.dvi > trip.typ
diff trip.typ trip-ori.typ | grep totalpages
< maxv=1073741823, maxh=539754497, maxstackdepth=17, totalpages=14
> maxv=1073741823, maxh=539754497, maxstackdepth=17, totalpages=16

Why the TeXk have generated only 14 pages whereas Knuth's TeX
have generated 16 pages?

---------------------------------------------------------------

There is step by step my test:

cd triptrap
mv trip.typ trip-ori.typ
mv trip.log trip-ori.log

tex -ini
This is TeXk, Version 3.141592 (Web2C 7.5.2) (INITEX)
 %&-line parsing enabled.
 (/usr/local/texlive/texmf/web2c/cp8bit.tcx)
**
Please type the name of your input file.
**\input trip
(./trip.tex
! Bad character code (256).
<to be read again>
                   -
... etc.

tex -ini
This is TeXk, Version 3.141592 (Web2C 7.5.2) (INITEX)
 %&-line parsing enabled.
 (/usr/local/texlive/texmf/web2c/cp8bit.tcx)
** &trip  trip

------------------------------------------------------------

Why TeXk is not TRIP certified? Is it your intent?

I have found this problem during my test of CSTRIP
(see ftp://math.feld.cvut.cz/pub/cstex/base/cstrip.tar.gz).

I must say: "export LC_CTYPE=cs_CZ.ISO8859-2" before CSTRIP test
(the proclamated independence on locales is not realized in log
files!). Then "diff" on logs from CSTRIP is OK, but the new problem
occured:

------------------------------------------------------------

dvitype cstrip.dvi > cstrip.txt
diff cstrip.txt cstripd.vrf
1c1
< This is DVItype, Version 3.6 (Web2C 7.3.3.1)
---
> This is DVItype, Version 3.5 (Web2c 7.0)
9c9
< ' TeX output 2004.03.12:1317'
---
> ' TeX output 1998.11.01:1105'
45c45
< 157: x3 198986
---
> 157: w0 198985
81c81
< : x0 198986
---
> : w0 198985
117c117
< : x0 198986
---
> : w0 198985
... etc

-----------------------------------

Why the differences occured on the last decimal digit?

------------------------------------

Best regards

Petr Olsak



From Fabrice.Popineau at supelec.fr  Tue Mar 16 11:32:09 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Tue Mar 16 11:33:04 2004
Subject: [tex-live] Is TeXk from TeXlive 2003 TRIP certified?
In-Reply-To: <Pine.LNX.4.44.0403161024450.1963-100000@newton.feld.cvut.cz>
	(Petr Olsak's message of "Tue, 16 Mar 2004 10:28:21 +0100 (CET)")
References: <Pine.LNX.4.44.0403161024450.1963-100000@newton.feld.cvut.cz>
Message-ID: <r7vt3wwm.fsf@esemetz.metz.supelec.fr>


> Why this happened?

Because of the wrong texmf.cnf leaking in? You need to be sure the lines
are cut at the same places. There is a parameter to set the length of
the lines.

Fabrice



From petr at olsak.net  Tue Mar 16 11:54:36 2004
From: petr at olsak.net (Petr Olsak)
Date: Tue Mar 16 11:55:03 2004
Subject: [tex-live] Is TeXk from TeXlive 2003 TRIP certified?
In-Reply-To: <r7vt3wwm.fsf@esemetz.metz.supelec.fr>
Message-ID: <Pine.LNX.4.44.0403161145570.1963-100000@newton.feld.cvut.cz>


On Tue, 16 Mar 2004, Fabrice Popineau wrote:

> > Why this happened?
>
> Because of the wrong texmf.cnf leaking in? You need to be sure the lines
> are cut at the same places. There is a parameter to set the length of
> the lines.
>
> Fabrice

I checked out this part properly:

cd triptrap      (... the same current directory)

strace -o trac tex -ini
This is TeXk, Version 3.141592 (Web2C 7.5.2) (INITEX)
 %&-line parsing enabled.
 (/usr/local/texlive/texmf/web2c/cp8bit.tcx)
**
! End of file on the terminal... why?

grep 'texmf\.cnf' trac
access("./texmf.cnf", R_OK)             = -1 ENOENT (No such file or directory)
access("/usr/local/texlive/bin/i386-linux/texmf.cnf", R_OK) = -1 ENOENT (No such file or directory)
access("/usr/local/texlive/bin/texmf.cnf", R_OK) = -1 ENOENT (No such file or directory)
access("/usr/local/texlive/texmf.cnf", R_OK) = -1 ENOENT (No such file or directory)
access("/usr/local/texlive/texmf/web2c/texmf.cnf", R_OK) = 0
stat64("/usr/local/texlive/texmf/web2c/texmf.cnf", {st_mode=S_IFREG|0644, st_size=21013, ...}) = 0
open("/usr/local/texlive/texmf/web2c/texmf.cnf", O_RDONLY) = 3
read(3, "% TeX Live texmf.cnf\n% What foll"..., 4096) = 4096

-----

Of course, the /usr/local/texlive is the tree installed directly from DVD.

May be, the texmf.cnf on DVD consist the parameters which makes TeXk
not compatible with TRIP. It was an intend?

PS. The difference in last digists in dvitype output is not explained by
this.

Best regards

Petr Olsak


From Fabrice.Popineau at supelec.fr  Tue Mar 16 13:11:24 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Tue Mar 16 13:12:22 2004
Subject: [tex-live] Is TeXk from TeXlive 2003 TRIP certified?
In-Reply-To: <Pine.LNX.4.44.0403161145570.1963-100000@newton.feld.cvut.cz>
	(Petr Olsak's message of "Tue, 16 Mar 2004 11:54:36 +0100 (CET)")
References: <Pine.LNX.4.44.0403161145570.1963-100000@newton.feld.cvut.cz>
Message-ID: <fzc90z6b.fsf@esemetz.metz.supelec.fr>

> I checked out this part properly:

You need to use the texmf.cnf provided in the texk/web2c/trip directory
of the source tree, not the default one.

> PS. The difference in last digists in dvitype output is not explained
> by this.

No, but it has always been regarded as acceptable.

Best,

Fabrice

From petr at olsak.net  Tue Mar 16 15:33:18 2004
From: petr at olsak.net (Petr Olsak)
Date: Tue Mar 16 15:33:46 2004
Subject: [tex-live] Is TeXk from TeXlive 2003 TRIP certified?
In-Reply-To: <fzc90z6b.fsf@esemetz.metz.supelec.fr>
Message-ID: <Pine.LNX.4.44.0403161521300.1963-100000@newton.feld.cvut.cz>


On Tue, 16 Mar 2004, Fabrice Popineau wrote:

> > I checked out this part properly:
>
> You need to use the texmf.cnf provided in the texk/web2c/trip directory
> of the source tree, not the default one.

In another words: the default TeXk with default configuration file is not
TRIP compatible. It is out of my interrest that the TeXk binary is able to
be TRIP compatible by some special configuration file and some special
operation environment when the default configuration is not TRIP
compatible. This was not the reason of TRIP test.

It is your intend to make TeXk with default configuration file TRIP
incompatible? Why?

> > PS. The difference in last digists in dvitype output is not explained
> > by this.
>
> No, but it has always been regarded as acceptable.

Yes it is acceptable, but why _the same_ operating system, _the same_ TeX
distribution (web2c only in different versions) has these differences?

Yes, it is acceptable, but the two pages lost by TeXk (14 pages versus 16
pages) are not acceptable.

Best regards

Petr Olsak


From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Mar 16 16:41:41 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Mar 16 16:43:39 2004
Subject: [tex-live] Is TeXk from TeXlive 2003 TRIP certified?
In-Reply-To: <Pine.LNX.4.44.0403161521300.1963-100000@newton.feld.cvut.cz>
References: <Pine.LNX.4.44.0403161521300.1963-100000@newton.feld.cvut.cz>
Message-ID: <40572035.1030003@computing-services.oxford.ac.uk>

Petr Olsak wrote:

> In another words: the default TeXk with default configuration file is not
> TRIP compatible. It is out of my interrest that the TeXk binary is able to
> be TRIP compatible by some special configuration file and some special
> operation environment when the default configuration is not TRIP
> compatible. This was not the reason of TRIP test.

isn't it? I thought the point of the trip test was for the 
developer to check their work, not the end user.

-- 
Sebastian Rahtz      Information Manager
Oxford University Computing Services
13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431
From Fabrice.Popineau at supelec.fr  Tue Mar 16 16:55:05 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Tue Mar 16 16:56:01 2004
Subject: [tex-live] Is TeXk from TeXlive 2003 TRIP certified?
In-Reply-To: <40572035.1030003@computing-services.oxford.ac.uk> (Sebastian
	Rahtz's message of "Tue, 16 Mar 2004 15:41:41 +0000")
References: <Pine.LNX.4.44.0403161521300.1963-100000@newton.feld.cvut.cz>
	<40572035.1030003@computing-services.oxford.ac.uk>
Message-ID: <1xns23dy.fsf@esemetz.metz.supelec.fr>


> isn't it? I thought the point of the trip test was for the developer
> to check their work, not the end user.

Definitely.

Who would want to run TeX with those defaults ???? Not to speak about
the rather limited memory size (!), but why would my terminal be stuck to 72
chars, error lines to 64 and so on ? Please ...

If you lost 2 pages out of 16, it is simply because the trip test
expects 72 char lines.

Fabrice

% triptrap/texmf.cnf -- configuration for the trip and trap tests.

% These values apply to all the programs, and they are necessary for any
% kind of reasonable diff.
error_line = 64
half_error_line = 32
max_print_line = 72
		
% TeX, Metafont, and MetaPost.
mem_bot.tex          =    1
main_memory.tex      = 3000 % can't change mem_bot, it stays 0
main_memory.mf       = 3000 % Knuth's log has 3001, and it changes the capsules.
main_memory.mpost    = 4500

% In case you happen to run an ini* link by hand.
mem_bot.initex       =    1
main_memory.initex   = 3000 % can't change mem_bot, it stays 0
main_memory.inimf    = 3000 % Knuth's log has 3001, and the capsules change.
main_memory.inimpost = 4500

% Actually, Metafont currently ignores the settings for max_strings,
% string_vacancies and pool_size specified here, but it doesn't hurt
% to supply the correct values, just in case this changes one day.

max_strings.tex      = 3000
max_strings.mf       = 2000
max_strings.mpost    = 2500

% In case you happen to run an ini* link by hand.
max_strings.initex   = 3000
max_strings.inimf    = 2000
max_strings.inimpost = 2500

string_vacancies = 8000
pool_size = 40000

% TeX only.
font_mem_size = 20000
font_max = 75
stack_size = 200
nest_size = 40
buf_size = 500
save_size = 600
dvi_buf_size = 800
% Although hyph_size is settable, it can't be <hyph_prime, which is 607,
% and the original trip setting is 307, so no point in changing the default.

% Metafont only.
gf_buf_size = 8   % trapman.tex says to use this.
MFTERM = trap     % get the right screen output
% trapman.tex says these values will help reduce the diffs, but it
% actually only gives us one extra hunk (a BLANKRECTANGLE), so they
% don't seem worth dynamicizing.
%screen_width = 100
%screen_depth = 200

% MetaPost only.  Turn off callmakempx, i.e., makempx,
% since we can only test tex and dvitomp, and we'll test those in other
% places anyway.  (mpto fails because of the unending string constant
% check in trap.mp.)
MPXCOMMAND = 0

% Avoid running any MakeTeX* program.
MAKETEXTFM = 0
MAKETEXTEX = 0
MAKETEXMF = 0

% Avoid reading any texfonts.map:
TEXFONTMAPS = triptrap

% Search paths. 
% trip.tex:
TEXINPUTS = .
% trap.mf:
MFINPUTS = .
% trap.mp, mtrap.mp:
MPINPUTS = .
% trip.tfm, trap.tfm, trapf.tfm:
TFMFONTS = .
% trip.fmt:
TEXFORMATS = .
% trap.base:
MFBASES = .
% trap.mem:
MPMEMS = .
% tex.pool:
TEXPOOL = .
% mf.pool:
MFPOOL = .
% mp.pool:
MPPOOL = .

> -- Sebastian Rahtz Information Manager Oxford University Computing
> Services 13 Banbury Road, Oxford OX2 6NN. Phone +44 1865 283431
> _______________________________________________ TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live

-- 
Fabrice Popineau
------------------------
e-mail:       Fabrice.Popineau@supelec.fr  |  The difference between theory 
voice-mail:   +33 (0) 387764715            |  and practice, is that
surface-mail: Supelec, 2 rue E. Belin,     |  theoretically,
	      F-57070 Metz 	           |  there is no difference !

From Gerben.Wierda at rna.nl  Tue Mar 16 23:04:46 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Tue Mar 16 23:05:07 2004
Subject: [tex-live] Request: STRINGSIZE in dvips
Message-ID: <EFC0D04A-7795-11D8-B646-003065B3343E@rna.nl>

Can we just make STRINGSIZE in dvips.h equal to the Omega version? 
There are some (Yannis, actually) who run into the STRINGSIZE limit 
when doing large specials. I suspect it would not hurt.

G

From petr at olsak.net  Wed Mar 17 09:18:38 2004
From: petr at olsak.net (Petr Olsak)
Date: Wed Mar 17 09:19:03 2004
Subject: [tex-live] Is TeXk from TeXlive 2003 TRIP certified?
In-Reply-To: <1xns23dy.fsf@esemetz.metz.supelec.fr>
Message-ID: <Pine.LNX.4.44.0403170900540.1963-100000@newton.feld.cvut.cz>


On Tue, 16 Mar 2004, Fabrice Popineau wrote:

>
> > isn't it? I thought the point of the trip test was for the developer
> > to check their work, not the end user.
>
> Definitely.
>
> Who would want to run TeX with those defaults ???? Not to speak about
> the rather limited memory size (!), but why would my terminal be stuck to 72
> chars, error lines to 64 and so on ? Please ...

OK.

> If you lost 2 pages out of 16, it is simply because the trip test
> expects 72 char lines.

NO, if I have set error_line = 64, half_error_line = 32, max_print_line = 72
I stil get only 14 pages instedad 16. I don't know how.

See the "Emergency stop" message below.

diff trip.log trip-ori.log
1,3c1
< This is TeXk, Version 3.141592 (Web2C 7.5.2) (format=trip 2004.3.16)  16
MAR 2004 16:08
<  %&-line parsing enabled.
<  (/usr/local/texlive/texmf/web2c/cp8bit.tcx)
---
> This is TeX, Version 3.14159 (preloaded format=trip 95.3.8)  8 MAR 1995
14:24
5c3
< (./trip.tex ##
---
> (trip.tex ##
61,64d58
< \openout0 = `8terminal.tex'.
<
< \openout10 = `tripos.tex'.
<
... etc
2024c2018
< \vbox(16383.99998+1.0)x100.0, glue set 16238.99998fil
---
> \vbox(16383.99998+1.0)x100.0, glue set 16239.0fil
... etc
5907,5910c5900
< ! Emergency stop.
< l.408   \global\let\endt=&\endt
<                                &$&&&.}
< (interwoven alignment preambles are not allowed)
---
> {end of alignment template}
5912,5921c5902,7304
<
< Here is how much of TeX's memory you used:
<  31 strings out of 98658
<  187 string characters out of 1226551
<  3556 words of memory out of 1500001
<  361 multiletter control sequences out of 10000+50000
<  3041 words of font info for 4 fonts, out of 1000000 for 2000
<  1 hyphenation exception out of 1000
<  5i,7n,9p,113b,38s stack positions out of
5000i,500n,6000p,200000b,40000s
< Output written on trip.dvi (14 pages, 2568 bytes).
---
> \l #1->
> #1<-$
> {end of alignment template}
... etc

The "glue set 16238.99998fil" instead "glue set 16239.0fil" is not fatal
problem and it is acceptable by TRIP. But, it is very interesting for me:
why the different web2c versions behave differently on the same machine
(hardware+OS)? I don't know how it is possible. Who did a change in TeX
source and why?

Best regards

Petr Olsak



From petr at olsak.net  Wed Mar 17 09:27:14 2004
From: petr at olsak.net (Petr Olsak)
Date: Wed Mar 17 09:27:39 2004
Subject: [tex-live] Is TeXk from TeXlive 2003 TRIP certified?
In-Reply-To: <40572035.1030003@computing-services.oxford.ac.uk>
Message-ID: <Pine.LNX.4.44.0403170919370.1963-100000@newton.feld.cvut.cz>


On Tue, 16 Mar 2004, Sebastian Rahtz wrote:

> Petr Olsak wrote:
>
> > In another words: the default TeXk with default configuration file is not
> > TRIP compatible. It is out of my interrest that the TeXk binary is able to
> > be TRIP compatible by some special configuration file and some special
> > operation environment when the default configuration is not TRIP
> > compatible. This was not the reason of TRIP test.
>
> isn't it? I thought the point of the trip test was for the
> developer to check their work, not the end user.

End TeX-user is not a common end user.

End user can do TRIP in order to check if the developer distributes a good
work. The notice in TeXlive documentation would be sufficient: "Warning,
the default setting in texmf.cnf is TRIP incompatible in order to ..., ..."

Best Regards

Petr Olsak

From olaf at infovore.xs4all.nl  Wed Mar 17 09:03:01 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Wed Mar 17 17:08:28 2004
Subject: [tex-live] Is TeXk from TeXlive 2003 TRIP certified?
In-Reply-To: <Pine.LNX.4.44.0403161521300.1963-100000@newton.feld.cvut.cz>
	(Petr Olsak's message of "Tue, 16 Mar 2004 15:33:18 +0100 (CET)")
References: <Pine.LNX.4.44.0403161521300.1963-100000@newton.feld.cvut.cz>
Message-ID: <87n06fzyru.fsf@infovore.xs4all.nl>

Petr Olsak writes:

> On Tue, 16 Mar 2004, Fabrice Popineau wrote:

>> > I checked out this part properly:
>> 
>> You need to use the texmf.cnf provided in the texk/web2c/trip directory
>> of the source tree, not the default one.

> In another words: the default TeXk with default configuration file is not
> TRIP compatible. It is out of my interrest that the TeXk binary is able to
> be TRIP compatible by some special configuration file and some special
> operation environment when the default configuration is not TRIP
> compatible. This was not the reason of TRIP test.

> It is your intend to make TeXk with default configuration file TRIP
> incompatible? Why?

Read up on the trip test, please.  You're supposed to either build a
special-purpose binary to run the test, or have a way to "tune"
various parameters of a generic binary to values that make it
completely useless for any real work.  (You're hurt by the memory size
differences in particular.)

>>> PS. The difference in last digists in dvitype output is not explained
>>> by this.
>> 
>> No, but it has always been regarded as acceptable.

> Yes it is acceptable, but why _the same_ operating system, _the same_ TeX
> distribution (web2c only in different versions) has these differences?

I find the move from 'w' to 'x' commands also interesting.  It
suggests something inside is doing things in a different fashion.

> Yes, it is acceptable, but the two pages lost by TeXk (14 pages versus 16
> pages) are not acceptable.

Line lengths may be the issue there.  Do an eyeball compare of the
results first to see whether that can be issue.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From Fabrice.Popineau at supelec.fr  Thu Mar 18 10:30:28 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Thu Mar 18 10:31:27 2004
Subject: [tex-live] Is TeXk from TeXlive 2003 TRIP certified?
In-Reply-To: <Pine.LNX.4.44.0403170900540.1963-100000@newton.feld.cvut.cz>
	(Petr Olsak's message of "Wed, 17 Mar 2004 09:18:38 +0100 (CET)")
References: <Pine.LNX.4.44.0403170900540.1963-100000@newton.feld.cvut.cz>
Message-ID: <brmuv6x7.fsf@esemetz.metz.supelec.fr>


> The "glue set 16238.99998fil" instead "glue set 16239.0fil" is not fatal
> problem and it is acceptable by TRIP. But, it is very interesting for me: why
> the different web2c versions behave differently on the same machine
> (hardware+OS)? I don't know how it is possible. Who did a change in TeX source
> and why?

Ok, you are right. There seems to be a problem on your version. There are no
changes in TeX source that may impact at this level. 

A plausible reason could be an optimizer bug in gcc.
I don't get this error.

Best,

Fabrice

From pragma at wxs.nl  Thu Mar 18 10:38:44 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Mar 18 10:39:27 2004
Subject: [tex-live] eu fonts in palatino path 
Message-ID: <6.0.1.1.2.20040318103520.01cdf280@server-1>

Hi,

I'm just curious, what are those eu* files doing among those pp* files

  Directory of e:\tex\texmf\fonts\tfm\adobe\palatino

29/03/2000  15:37             1,024 eurbo10.tfm
29/03/2000  15:37             1,036 eurmo10.tfm
....
many pp* files

Hans


-------------------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE/POD/CTS
                       Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
  tel: +31 (0)38 477 53 69 | fax: +31 (0)38 477 53 74 | www.pragma-ade.com
-------------------------------------------------------------------------
                        information: http://www.pragma-ade.com/roadmap.pdf
                     documentation: http://www.pragma-ade.com/showcase.pdf
-------------------------------------------------------------------------

From beebe at math.utah.edu  Thu Mar 18 20:22:23 2004
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Thu Mar 18 20:22:48 2004
Subject: [tex-live] TeXlive 2003 TRIP certification
Message-ID: <CMM.0.92.0.1079637743.beebe@psi.math.utah.edu>

Since I have a fair number of architectures at hand, two days ago,
I ran the trip test with initex from the TeXlive 9/2003 CD release.

Of the ten systems tested, all passed the trip test, and the log files
disagree only in the "This is TeXk..." greeting timestamp, and on some
systems, in the filesystem path to cp8bit.tcx.

Here are typical differences reported by Unix diff:

	1c1
	< This is TeXk, Version 3.141592 (Web2C 7.5.2) (INITEX)  16 MAR 2004 08:32
	---
	> This is TeXk, Version 3.141592 (Web2C 7.5.2) (INITEX)  16 MAR 2004 10:11
	3c3
	<  (/a/suncore1/export/home/0072/texlive-2003-9/texmf/web2c/cp8bit.tcx)
	---
	>  (/.amd/suncore2/export/home/0072/texlive-2003-9/texmf/web2c/cp8bit.tcx)

I'm unclear from the postings on this topic whether Petr Olsak is
referring to the binaries on the CD, or newly-built ones from the
current TeXLive source tree, or newly-built ones from the source tree
on the 9/2003 CD.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe@math.utah.edu  -
- 155 S 1400 E RM 233                       beebe@acm.org  beebe@computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------
From Fabrice.Popineau at supelec.fr  Thu Mar 18 20:27:52 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Thu Mar 18 20:28:52 2004
Subject: [tex-live] TeXlive 2003 TRIP certification
In-Reply-To: <CMM.0.92.0.1079637743.beebe@psi.math.utah.edu> (Nelson H. F.
	Beebe's message of "Thu, 18 Mar 2004 12:22:23 -0700 (MST)")
References: <CMM.0.92.0.1079637743.beebe@psi.math.utah.edu>
Message-ID: <d67arm4n.fsf@esemetz.metz.supelec.fr>


> Of the ten systems tested, all passed the trip test, and the log files
> disagree only in the "This is TeXk..." greeting timestamp, and on some
> systems, in the filesystem path to cp8bit.tcx.

Thanks ... at least it is reassuring.

Fabrice

From beebe at math.utah.edu  Thu Mar 18 21:10:55 2004
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Thu Mar 18 21:11:22 2004
Subject: [tex-live] Testing TeX and Metafont
Message-ID: <CMM.0.92.0.1079640655.beebe@psi.math.utah.edu>

For several months in the early 1980s, Don Knuth and David Fuchs
collected program-counter data from the installed version of TeX at
the Stanford Computer Science Department, and used that data to figure
out what the time-critical execution paths in TeX are; that analysis
was used to guide some of the changes to the program to make it
efficient.

In some mission-critical defense and aerospace applications, it is a
contractual requirement that software be delivered with sufficient
test cases to demonstrate that either all lines of code have been
exercised at least once, or if not, a convincing argument must be
presented why the unexecuted lines will never be executed.  The reason
for this requirement is simple:

	Untested code is untrusted code!

BibTeX, TeX, and Metafont certainly do have some code that is not
expected to be executed:

	% grep -c "this can't happen" ./*/*.web | grep -v ":0"
	./bibtex/bibtex.web:52
	./mf/mf.web:18
	./tex/tex.web:36

For many years, I've been using the Sun compiler test-coverage
analyzer to instrument programs and produce a post-run-time report on
which lines of code got executed, and how often.

Until recently, most folks without Sun SunOS/Solaris systems and
compilers had no easy way to generate test-coverage analyses.
However, newer 3.x versions of GNU gcc offer the -ftest-coverage and
-fprofile-arcs compile-time options that result in runs that produce
data files that can be analyzed by gcov.

Since Don Knuth devised trip and trap tests for TeX and Metafont many
years ago, before test-coverage analysis was feasible in most
environments, I wondered how well those famous tests actually exercise
the TeX and Metafont code.  The answer appears to be: not at all well.
Only 41% of the lines of code are executed at least once (details
below).  [NB: 41% is the average of the reported percentages, not the
reported covered lines, which isn't quite the same thing.]

This strongly suggests that we should be developing a large collection
of (small) additional torture tests that cause much more of TeX and
Metafont to be executed.  I think that this can be done by a community
effort with pleas posted to texhax and comp.text.tex: e.g., "we need a
small test file that exercises every line of code in section XXX of
TeX the Program" (the one published in Volume B of Computers and
Typesetting).  There are enough TeX devotees that many will find it
personally challenging to come up with devious tests that will probe
much more of TeX: who knows, they might even turn up
previously-undetected bugs, for which Don promises in the
ftp://labrea.stanford.edu/pub/tex/DIFFS.june03 file:

% A reward of $327.68 will be paid to the first finder of any remaining bug.

Now that I have a very fast machine (1.4GHz Itanium-2) to make
experiments with, I decided to make a test-coverage report of the trip
and trap runs.  gcov produces detailed source listings with the
execution counts, and I give a snippet at the end of this report.

What is of interest now, however, is just the percentages of code that
got executed after a fresh build with "make check", which runs both
trip and trap tests.  The Web2c packaging of TeX and Metafont splits
the code into multiple files and directories; I give results here for
the directories web2c/tex, web2c/mf, web2c/lib, and kpathsea.

========================================================================
			  TeX test coverage

foreach f ( *.c )
	echo ======== $f
	gcov $f
end
======== iextra.c
 51.25% of 160 source lines executed in file iextra.c
Creating iextra.c.gcov.
======== initex.c
 62.32% of 2797 source lines executed in file initex.c
Creating initex.c.gcov.
======== itex.c
 81.54% of 1495 source lines executed in file itex.c
Creating itex.c.gcov.
======== openinout.c
 66.67% of 63 source lines executed in file openinout.c
Creating openinout.c.gcov.
======== patgen.c
Could not open data file patgen.da.
Assuming that all execution counts are zero.
  0.00% of 1302 source lines executed in file patgen.c
Creating patgen.c.gcov.
======== tex0.c
 48.45% of 1482 source lines executed in file tex0.c
Creating tex0.c.gcov.
======== tex1.c
 25.84% of 1405 source lines executed in file tex1.c
Creating tex1.c.gcov.
======== tex2.c
 58.25% of 1703 source lines executed in file tex2.c
Creating tex2.c.gcov.
======== tex3.c
 69.15% of 1802 source lines executed in file tex3.c
Creating tex3.c.gcov.
======== tex4.c
 84.70% of 1484 source lines executed in file tex4.c
Creating tex4.c.gcov.
======== tex5.c
 85.98% of 1441 source lines executed in file tex5.c
Creating tex5.c.gcov.
======== tex6.c
 71.99% of 1578 source lines executed in file tex6.c
Creating tex6.c.gcov.
======== tex7.c
 59.70% of 1444 source lines executed in file tex7.c
Creating tex7.c.gcov.
======== tex8.c
 64.14% of 1634 source lines executed in file tex8.c
Creating tex8.c.gcov.
======== tex9.c
 62.89% of 159 source lines executed in file tex9.c
Creating tex9.c.gcov.
======== vextra.c
 52.91% of 172 source lines executed in file vextra.c
Creating vextra.c.gcov.
========================================================================
			Metafont test coverage
foreach f ( *.c )
	echo ======== $f
	gcov $f
end
======== iextra.c
 40.62% of 192 source lines executed in file iextra.c
Creating iextra.c.gcov.
======== imf.c
Could not open data file imf.da.
Assuming that all execution counts are zero.
  0.00% of 153 source lines executed in file imf.c
Creating imf.c.gcov.
======== inimf.c
 91.53% of 815 source lines executed in file inimf.c
Creating inimf.c.gcov.
======== mf0.c
 52.23% of 1505 source lines executed in file mf0.c
Creating mf0.c.gcov.
======== mf10.c
  5.65% of 372 source lines executed in file mf10.c
Creating mf10.c.gcov.
======== mf1.c
 34.07% of 1265 source lines executed in file mf1.c
Creating mf1.c.gcov.
======== mf2.c
 35.59% of 1430 source lines executed in file mf2.c
Creating mf2.c.gcov.
======== mf3.c
 23.05% of 1523 source lines executed in file mf3.c
Creating mf3.c.gcov.
======== mf4.c
 39.87% of 1515 source lines executed in file mf4.c
Creating mf4.c.gcov.
======== mf5.c
 20.08% of 1444 source lines executed in file mf5.c
Creating mf5.c.gcov.
======== mf6.c
 54.54% of 1509 source lines executed in file mf6.c
Creating mf6.c.gcov.
======== mf7.c
 31.59% of 1472 source lines executed in file mf7.c
Creating mf7.c.gcov.
======== mf8.c
 20.16% of 1587 source lines executed in file mf8.c
Creating mf8.c.gcov.
======== mf9.c
 37.12% of 1762 source lines executed in file mf9.c
Creating mf9.c.gcov.
======== openinout.c
 64.41% of 59 source lines executed in file openinout.c
Creating openinout.c.gcov.
======== vextra.c
Could not open data file vextra.da.
Assuming that all execution counts are zero.
  0.00% of 204 source lines executed in file vextra.c
Creating vextra.c.gcov.
========================================================================
			   Library coverage

foreach f ( *.c )
	echo ======== $f
	gcov $f
end
======== alloca.c
Could not open data file alloca.da.
Assuming that all execution counts are zero.
  0.00% of 34 source lines executed in file alloca.c
Creating alloca.c.gcov.
======== eofeoln.c
 88.24% of 17 source lines executed in file eofeoln.c
Creating eofeoln.c.gcov.
======== fprintreal.c
Could not open data file fprintreal.da.
Assuming that all execution counts are zero.
  0.00% of 4 source lines executed in file fprintreal.c
Creating fprintreal.c.gcov.
======== getopt1.c
Could not open data file getopt1.da.
Assuming that all execution counts are zero.
No executable code associated with file getopt1.c.
======== getopt.c
Could not open data file getopt.da.
Assuming that all execution counts are zero.
No executable code associated with file getopt.c.
======== inputint.c
Could not open data file inputint.da.
Assuming that all execution counts are zero.
  0.00% of 20 source lines executed in file inputint.c
Creating inputint.c.gcov.
======== main.c
 33.33% of 12 source lines executed in file main.c
Creating main.c.gcov.
======== openinout.c
Could not open basic block file openinout.bb.
======== ourpaths.c
 68.09% of 47 source lines executed in file ourpaths.c
Creating ourpaths.c.gcov.
======== strpascal.c
 48.15% of 27 source lines executed in file strpascal.c
Creating strpascal.c.gcov.
======== texmf.c
Could not open basic block file texmf.bb.
======== uexit.c
 87.50% of 8 source lines executed in file uexit.c
Creating uexit.c.gcov.
======== version.c
Could not open data file version.da.
Assuming that all execution counts are zero.
No executable code associated with file version.c.
======== xfopen-pas.c
 81.82% of 11 source lines executed in file xfopen-pas.c
Creating xfopen-pas.c.gcov.
======== zround.c
 81.82% of 11 source lines executed in file zround.c
Creating zround.c.gcov.
========================================================================
			  kpathsea coverage

======== absolute.c
100.00% of 5 source lines executed in file absolute.c
Creating absolute.c.gcov.
======== concat3.c
  0.00% of 8 source lines executed in file concat3.c
Creating concat3.c.gcov.
======== concat.c
100.00% of 6 source lines executed in file concat.c
Creating concat.c.gcov.
======== concatn.c
  0.00% of 11 source lines executed in file concatn.c
Creating concatn.c.gcov.
======== debug.c
Could not open data file debug.da.
Assuming that all execution counts are zero.
No executable code associated with file debug.c.
======== default.c
 66.67% of 24 source lines executed in file default.c
Creating default.c.gcov.
======== dir.c
 40.00% of 10 source lines executed in file dir.c
Creating dir.c.gcov.
======== elt-dirs.c
 52.22% of 90 source lines executed in file elt-dirs.c
Creating elt-dirs.c.gcov.
======== expand.c
 85.71% of 7 source lines executed in file expand.c
Creating expand.c.gcov.
======== extend-fname.c
  0.00% of 6 source lines executed in file extend-fname.c
Creating extend-fname.c.gcov.
======== file-p.c
100.00% of 6 source lines executed in file file-p.c
Creating file-p.c.gcov.
======== find-suffix.c
  0.00% of 10 source lines executed in file find-suffix.c
Creating find-suffix.c.gcov.
======== fn.c
 36.59% of 41 source lines executed in file fn.c
Creating fn.c.gcov.
======== fontmap.c
  0.00% of 69 source lines executed in file fontmap.c
Creating fontmap.c.gcov.
======== gmalloc.c
Could not open basic block file gmalloc.bb.
======== init-path.c
100.00% of 10 source lines executed in file init-path.c
Creating init-path.c.gcov.
======== itoa.c
Could not open data file itoa.da.
Assuming that all execution counts are zero.
  0.00% of 5 source lines executed in file itoa.c
Creating itoa.c.gcov.
======== line.c
  0.00% of 21 source lines executed in file line.c
Creating line.c.gcov.
======== make-suffix.c
Could not open data file make-suffix.da.
Assuming that all execution counts are zero.
  0.00% of 13 source lines executed in file make-suffix.c
Creating make-suffix.c.gcov.
======== path-elt.c
100.00% of 26 source lines executed in file path-elt.c
Creating path-elt.c.gcov.
======== pathsearch.c
 84.06% of 69 source lines executed in file pathsearch.c
Creating pathsearch.c.gcov.
======== putenv.c
Could not open data file putenv.da.
Assuming that all execution counts are zero.
No executable code associated with file putenv.c.
======== readable.c
 57.14% of 14 source lines executed in file readable.c
Creating readable.c.gcov.
======== rm-suffix.c
  0.00% of 12 source lines executed in file rm-suffix.c
Creating rm-suffix.c.gcov.
======== str-list.c
 42.86% of 21 source lines executed in file str-list.c
Creating str-list.c.gcov.
======== str-llist.c
 62.07% of 29 source lines executed in file str-llist.c
Creating str-llist.c.gcov.
======== tex-font.c
Could not open data file tex-font.da.
Assuming that all execution counts are zero.
  0.00% of 18 source lines executed in file ./tex-font.c
Creating tex-font.c.gcov.
======== tex-glyph.c
Could not open data file tex-glyph.da.
Assuming that all execution counts are zero.
  0.00% of 127 source lines executed in file tex-glyph.c
Creating tex-glyph.c.gcov.
======== tex-make.c
  0.00% of 105 source lines executed in file tex-make.c
Creating tex-make.c.gcov.
======== tilde.c
 32.00% of 25 source lines executed in file tilde.c
Creating tilde.c.gcov.
======== truncate.c
  0.00% of 17 source lines executed in file truncate.c
Creating truncate.c.gcov.
======== uppercasify.c
  0.00% of 8 source lines executed in file uppercasify.c
Creating uppercasify.c.gcov.
======== variable.c
 23.91% of 46 source lines executed in file variable.c
Creating variable.c.gcov.
======== version.c
Could not open data file version.da.
Assuming that all execution counts are zero.
No executable code associated with file version.c.
======== xcalloc.c
  0.00% of 8 source lines executed in file xcalloc.c
Creating xcalloc.c.gcov.
======== xfopen.c
  0.00% of 8 source lines executed in file xfopen.c
Creating xfopen.c.gcov.
======== xmalloc.c
 75.00% of 8 source lines executed in file xmalloc.c
Creating xmalloc.c.gcov.
======== xopendir.c
  0.00% of 9 source lines executed in file xopendir.c
Creating xopendir.c.gcov.
======== xputenv.c
  0.00% of 32 source lines executed in file xputenv.c
Creating xputenv.c.gcov.
======== xrealloc.c
 83.33% of 12 source lines executed in file xrealloc.c
Creating xrealloc.c.gcov.
======== xstat.c
Could not open data file xstat.da.
Assuming that all execution counts are zero.
  0.00% of 11 source lines executed in file xstat.c
Creating xstat.c.gcov.
======== xstrdup.c
100.00% of 4 source lines executed in file xstrdup.c
Creating xstrdup.c.gcov.
========================================================================

Here is a fragment showing the TeX hot spots (lines executed more than
2M times) in the trip test:

	% awk '($1 ~ /^ *[0-9]+$/) && ($1 > 2000000) {print FILENAME ":" FNR ":" $0}' *.gcov
	tex0.c.gcov:1245:     2275403        while ( ( mem [ q ] .hh .v.RH == 262143L ) ) {
	tex2.c.gcov:655:     5282180    {/* 20 25 21 26 40 10 */ getnext_regmem 
	tex2.c.gcov:661:     5917006      lab20: curcs = 0 ; 
	tex2.c.gcov:662:     5917006      if ( curinput .statefield != 0 ) 
	tex2.c.gcov:1021:     4455955        } 
	tex2.c.gcov:1023:     4455955      else if ( curinput .locfield != 0 ) 
	tex2.c.gcov:1025:     3871909        t = mem [ curinput .locfield ] .hh .v.LH ; 
	tex2.c.gcov:1026:     3871909        curinput .locfield = mem [ curinput .locfield ] .hh .v.RH ; 
	tex2.c.gcov:1027:     3871909        if ( t >= 4095 ) 
	tex2.c.gcov:1069:     3829508        } 
	tex2.c.gcov:1070:     3829508      } 
	tex2.c.gcov:1075:     5290550      } 
	tex2.c.gcov:1076:     5290550      if ( curcmd <= 5 ) 
	tex2.c.gcov:1089:     5282179      } 
	tex2.c.gcov:1090:     5282180    } 
	tex2.c.gcov:1668:     2304327    {/* 20 30 */ getxtoken_regmem 
	tex2.c.gcov:1669:     2304327      lab20: getnext () ; 
	tex2.c.gcov:1670:     2609827      if ( curcmd <= 100 ) 
	tex2.c.gcov:1671:     2296047      goto lab30 ; 
	tex2.c.gcov:1683:     2304327      lab30: if ( curcs == 0 ) 

The trap test for Metafont appears to be much less demanding, since
the line counts are more than an order of magnitude lower: here are
the Metafont hotspots for the trap test:

	% awk '($1 ~ /^ *[0-9]+$/) && ($1 > 50000) {print FILENAME ":" FNR ":" $0}' *.gcov
	iextra.c.gcov:236:      141565      while (last < bufsize && (i = getc (f)) != EOF && i != '\n')
	iextra.c.gcov:237:      137807        buffer[last++] = i;
	iextra.c.gcov:392:      143910    {
	iextra.c.gcov:393:      143910      char temp;
	iextra.c.gcov:397:      143910      switch (size)
	iextra.c.gcov:417:      179006          while (nitems--)
	iextra.c.gcov:419:       89503              SWAP (p[0], p[7]);
	iextra.c.gcov:420:       89503              SWAP (p[1], p[6]);
	iextra.c.gcov:421:       89503              SWAP (p[2], p[5]);
	iextra.c.gcov:422:       89503              SWAP (p[3], p[4]);
	iextra.c.gcov:423:       89503              p += size;
	iextra.c.gcov:424:       89503            }
	iextra.c.gcov:425:       89503          break;
	iextra.c.gcov:428:      108814          while (nitems--)
	iextra.c.gcov:430:       54407              SWAP (p[0], p[3]);
	iextra.c.gcov:431:       54407              SWAP (p[1], p[2]);
	iextra.c.gcov:432:       54407              p += size;
	iextra.c.gcov:433:       54407            }
	iextra.c.gcov:434:       54407          break;
	iextra.c.gcov:451:      143910      }
	iextra.c.gcov:465:       59987    {
	iextra.c.gcov:467:       59987      swap_items (p, nitems, item_size);
	iextra.c.gcov:470:       59987      if (fwrite (p, item_size, nitems, out_file) != nitems)
	iextra.c.gcov:475:       59987        }
	iextra.c.gcov:480:       59987      swap_items (p, nitems, item_size);
	mf0.c.gcov:1112:       50887      while ( j < strstart [ s + 1 ] ) {
	mf1.c.gcov:941:       57540          while ( h >= 7919 ) h = h - 7919 ; 
	mf6.c.gcov:317:       57487        while ( charclass [ buffer [ curinput .locfield ] ] == class ) incr ( 

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe@math.utah.edu  -
- 155 S 1400 E RM 233                       beebe@acm.org  beebe@computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------
From karl at freefriends.org  Thu Mar 18 22:01:10 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Mar 18 22:01:12 2004
Subject: [tex-live] pdftex still missing
Message-ID: <200403182101.i2IL1Av17655@tug.org>

As Norbert reported a few days ago, there is still no pdftex in the
current i386-linux in perforce, although there are many other symlinks
for assorted other formats.  As far as I can tell, anyway.

Help?
From karl at freefriends.org  Thu Mar 18 22:11:50 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Mar 18 22:11:51 2004
Subject: [tex-live] texexec can't find texexec.pl
Message-ID: <200403182111.i2ILBol17964@tug.org>

Seems texexec fails with the current TL source?

tug$ texexec --help
`texexec.pl' not found.

tug$ which texexec
texexec is /home/karl/src/Master/bin/i386-linux/texexec

tug$ kpsewhich texexec.pl
/home/karl/src/Master/texmf-dist/tex/context/perltk/texexec.pl

tug$ locate texexec.pl
...
/home/karl/src/Master/texmf-dist/tex/context/perltk/texexec.pl
...
From te at dbs.uni-hannover.de  Thu Mar 18 23:55:01 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Thu Mar 18 23:55:26 2004
Subject: [tex-live] pdftex still missing
In-Reply-To: <200403182101.i2IL1Av17655@tug.org>
References: <200403182101.i2IL1Av17655@tug.org>
Message-ID: <20040318225501.GA17439@dbs.uni-hannover.de>

> As Norbert reported a few days ago, there is still no pdftex in the
> current i386-linux in perforce, although there are many other symlinks
> for assorted other formats.  As far as I can tell, anyway.

I just have sync'ed with source.development and done a clean build
(into /build/XX/i). Here is what I see:

    $ comm -3 <(ls /build/XX/i/bin/i686-pc-linux-gnu) <(ls /t/texlive/Master/bin/i386-linux/)
    etex
            pdfelatex
    pdftex
    xdvi-motif.bin
            xdvi-xaw.bin

-> So, I do have etex and pdftex (symlinks to pdfetex) and I don't
have the depricated pdfelatex. The difference about xdvi os ok. I don't
think that we want to mess around with motif libs...

Next is the texmf tree. The tree in Master should contain the results of a
"make install". But, this is not true:

    $ diff -ru  /build/XX/i/share/texmf /t/texlive/Master/texmf | grep ^diff
    diff -ru /build/XX/i/share/texmf/ls-R /t/texlive/Master/texmf/ls-R
    diff -ru /build/XX/i/share/texmf/web2c/eomega.pool /t/texlive/Master/texmf/web2c/eomega.pool
    diff -ru /build/XX/i/share/texmf/web2c/fmtutil.cnf /t/texlive/Master/texmf/web2c/fmtutil.cnf
    diff -ru /build/XX/i/share/texmf/web2c/omega.pool /t/texlive/Master/texmf/web2c/omega.pool
    diff -ru /build/XX/i/share/texmf/web2c/texmf.cnf /t/texlive/Master/texmf/web2c/texmf.cnf
    diff -ru /build/XX/i/share/texmf/xdvi/XDvi /t/texlive/Master/texmf/xdvi/XDvi
    diff -ru /build/XX/i/share/texmf/xdvi/xdvi.cfg /t/texlive/Master/texmf/xdvi/xdvi.cfg

My conclusion is that there is nothing wrong with the source tree. Someone
just needs to build (cleanly) and update these things...

Thomas
From pragma at wxs.nl  Fri Mar 19 09:48:08 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Mar 19 10:00:13 2004
Subject: [tex-live] Testing TeX and Metafont
In-Reply-To: <CMM.0.92.0.1079640655.beebe@psi.math.utah.edu>
References: <CMM.0.92.0.1079640655.beebe@psi.math.utah.edu>
Message-ID: <6.0.1.1.2.20040319094036.01d73ec0@server-1>

Hi Nelson,

>For several months in the early 1980s, Don Knuth and David Fuchs ...

Interesting thread.

A few questions:

- What is a line of code?

   while ( condition_a and condition_b and condition_c)
   if (condition_x)

are both lines, but the first one has three potential bug and the second 
ond two. Are these tools that you use able to take that into account? Or 
maybe some preprocessing needs to be done:

   while ( condition_a and
           condition_b and
           condition_c)

which makes it three lines. Also, what happens with lines that only hold an 
'end' or so?

>This strongly suggests that we should be developing a large collection
>of (small) additional torture tests that cause much more of TeX and

beware: executing code is not testing behaviour; i guess that the recently 
uncovered leaders (repaired by don) is executed in the tests but it was 
still there; actually it was uncovered when dvi output from tex (texbook) 
was compared to dvi output from nts (it had to do with some rounding; the 
texbook also had the bug but it was kind of maskered).

Hans  

From te at dbs.uni-hannover.de  Fri Mar 19 20:50:58 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Fri Mar 19 20:51:25 2004
Subject: [tex-live] texexec can't find texexec.pl
In-Reply-To: <200403182111.i2ILBol17964@tug.org>
References: <200403182111.i2ILBol17964@tug.org>
Message-ID: <20040319195058.GE19104@dbs.uni-hannover.de>

> Seems texexec fails with the current TL source?

I don't see why it fails.

But, this reminds me: Hans should repackage things to make use of the new
  kpsewhich --format=texmfscripts
and store his scripts somewhere below texmf/scripts/context.

Thomas
From karl at freefriends.org  Sat Mar 20 00:19:13 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Mar 20 00:19:38 2004
Subject: [tex-live] texexec can't find texexec.pl
In-Reply-To: <20040319195058.GE19104@dbs.uni-hannover.de>
Message-ID: <200403192319.i2JNJDJ10515@f7.net>

    I don't see why it fails.

Does it fail for you, too?  Maybe it's another build problem.

For me, 
kpsewhich -progname=context -format='other text files' texexec.pl,
which I see now is what texexec actually does, returns empty.

The problem appears to be the -format, as it finds the file with just
-progname=context.

I suppose it's all about the texmfscripts stuff.  Frightening.

From te at dbs.uni-hannover.de  Sat Mar 20 08:39:24 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Mar 20 08:39:50 2004
Subject: [tex-live] texexec can't find texexec.pl
In-Reply-To: <200403192319.i2JNJDJ10515@f7.net>
References: <20040319195058.GE19104@dbs.uni-hannover.de>
	<200403192319.i2JNJDJ10515@f7.net>
Message-ID: <20040320073924.GA3253@dbs.uni-hannover.de>

> Does it fail for you, too?  Maybe it's another build problem.

Sure, it fails for me, too (if I use TeX Live, not with teTeX). The problem
is that the file has moved from
  context/perltk/texexec.pl
to
  tex/context/perltk/texexec.pl

So, a search with
  -progname=context -format='other text files'
can no longer succeed.

> I suppose it's all about the texmfscripts stuff.  Frightening.

There is nothing mythical about it. Search path and location don't match,
so the search fails.

Thomas
From Fabrice.Popineau at supelec.fr  Sat Mar 20 11:01:40 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Sat Mar 20 11:02:42 2004
Subject: [tex-live] texexec can't find texexec.pl
In-Reply-To: <200403192319.i2JNJDJ10515@f7.net> (Karl Berry's message of
	"Fri, 19 Mar 2004 18:19:13 -0500")
References: <200403192319.i2JNJDJ10515@f7.net>
Message-ID: <oeqron0b.fsf@esemetz.metz.supelec.fr>

>     I don't see why it fails.  Does it fail for you, too?  Maybe it's
> another build problem.

> For me, kpsewhich -progname=context -format='other text files'
> texexec.pl, which I see now is what texexec actually does, returns
> empty.

> The problem appears to be the -format, as it finds the file with just
> -progname=context.

Expected, since I moved texmf/context to texmf/tex/context.

> I suppose it's all about the texmfscripts stuff.  Frightening.

That will be fixed.

-- 
Fabrice

From Fabrice.Popineau at supelec.fr  Sun Mar 21 01:55:30 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Sun Mar 21 01:56:31 2004
Subject: [tex-live] Source .development patch
Message-ID: <r7vnqarh.fsf@esemetz.metz.supelec.fr>


I have submitted a long patch to source.development. There is the new
afm2pl tool and the aleph (eomega replacement) engine. Please check what
is missing to compile this stuff under unix.

Should we remove eomega completely from all tools ?

Also could we get rid of the *ini* and *vir* binaries from the depot ?
It makes sens to remove them only if nobody will upload them up again.

-- 
Fabrice

From pragma at wxs.nl  Fri Mar 19 23:12:19 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Sun Mar 21 21:01:23 2004
Subject: [tex-live] texexec can't find texexec.pl
In-Reply-To: <20040319195058.GE19104@dbs.uni-hannover.de>
References: <200403182111.i2ILBol17964@tug.org>
	<20040319195058.GE19104@dbs.uni-hannover.de>
Message-ID: <6.0.1.1.2.20040319230318.01d44800@server-1>

At 20:50 19/03/2004, you wrote:
> > Seems texexec fails with the current TL source?
>
>I don't see why it fails.
>
>But, this reminds me: Hans should repackage things to make use of the new
>   kpsewhich --format=texmfscripts
>and store his scripts somewhere below texmf/scripts/context.

i know, and i'll do it asap, but i need to check/patch all our internal and 
external project trees as well (we have more scripts than the ones in the 
distribution and not all of them are located by means of kpsewhich but more 
efficiently located using initialization files) so you have to give me some 
time to sort things out.

(now i also end up with a split of context/examplap files over 
texmf/scripts and texmf/context which means that i have to adapt some 
scripts that use specific fall back strategies to locate configuration 
files that from now on now no longer are located in a simple relative 
location to the calling program and the new, more flexible, kpse library is 
not present on the next texlive; so for that i need to patch scripts in an 
ugly/dirty way); i hope that we have some time before tex live goes live)

Hans  

From preining at logic.at  Sun Mar 21 23:12:26 2004
From: preining at logic.at (Norbert Preining)
Date: Sun Mar 21 23:13:02 2004
Subject: [tex-live] Source .development patch
In-Reply-To: <r7vnqarh.fsf@esemetz.metz.supelec.fr>
References: <r7vnqarh.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040321221226.GB21673@gamma.logic.tuwien.ac.at>

On Son, 21 M?r 2004, Fabrice Popineau wrote:
> afm2pl tool and the aleph (eomega replacement) engine. Please check what
> is missing to compile this stuff under unix.

i386/linux tests break on aleph:
...
srcdir=../../../../TeX/texk/web2c /bin/sh ../../../../TeX/texk/web2c/web2c/convert aleph
gcc -DHAVE_CONFIG_H  -I. -I../../../../TeX/texk/web2c -I..  -I../../../../TeX/texk/web2c/..   -g -O2  -c alephini.c -o alephini.o
In Datei, eingef?gt von alephini.c:2:
alephd.h:74:22: alephmem.h: Datei oder Verzeichnis nicht gefunden

Many errors following due to this error.

Checked out aroung 20:00 CET

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
TULSA (n.)
A slurp of beer which has accidentally gone down your shirt collar.
			--- Douglas Adams, The Meaning of Liff
From te at dbs.uni-hannover.de  Sun Mar 21 23:25:17 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sun Mar 21 23:25:43 2004
Subject: [tex-live] Source .development patch
In-Reply-To: <20040321221226.GB21673@gamma.logic.tuwien.ac.at>
References: <r7vnqarh.fsf@esemetz.metz.supelec.fr>
	<20040321221226.GB21673@gamma.logic.tuwien.ac.at>
Message-ID: <20040321222517.GA13903@dbs.uni-hannover.de>

> i386/linux tests break on aleph:

Please sync again. My last 3 changes (4553, 4554 and 4555) should make it work.

If you just want to let the compile finnish, then
  (cd TeX/texk/web2c; make alephmem.h)
  make

This should now be automatic, since I have rebuild the dependencies.

Thomas
From pragma at wxs.nl  Sun Mar 21 21:53:50 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Sun Mar 21 23:30:16 2004
Subject: [tex-live] Source .development patch
In-Reply-To: <r7vnqarh.fsf@esemetz.metz.supelec.fr>
References: <r7vnqarh.fsf@esemetz.metz.supelec.fr>
Message-ID: <6.0.1.1.2.20040321215237.01ce2ec0@localhost>

At 01:55 21/03/2004, Fabrice Popineau wrote:

>Should we remove eomega completely from all tools ?

indeed, this also means that there will be aleph entries in the texmf.cnf file

Hans  

From preining at logic.at  Sun Mar 21 23:31:47 2004
From: preining at logic.at (Norbert Preining)
Date: Sun Mar 21 23:32:12 2004
Subject: [tex-live] Source .development patch
In-Reply-To: <20040321222517.GA13903@dbs.uni-hannover.de>
References: <r7vnqarh.fsf@esemetz.metz.supelec.fr>
	<20040321221226.GB21673@gamma.logic.tuwien.ac.at>
	<20040321222517.GA13903@dbs.uni-hannover.de>
Message-ID: <20040321223147.GD21673@gamma.logic.tuwien.ac.at>

On Son, 21 M?r 2004, Thomas Esser wrote:
> > i386/linux tests break on aleph:
> 
> Please sync again. My last 3 changes (4553, 4554 and 4555) should make it work.

Oh, thanks, I was just in the middle of the fixes.

p4 sync and compiling is on the way. I will test alpha/linux soon.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
He expanded his chest to make it totally clear that here
was the sort of man you only dared to cross if you had a
team of Sherpas with you.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy
From preining at logic.at  Mon Mar 22 00:09:01 2004
From: preining at logic.at (Norbert Preining)
Date: Mon Mar 22 00:09:25 2004
Subject: [tex-live] Source .development patch
In-Reply-To: <r7vnqarh.fsf@esemetz.metz.supelec.fr>
References: <r7vnqarh.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040321230901.GE21673@gamma.logic.tuwien.ac.at>

On Son, 21 M?r 2004, Fabrice Popineau wrote:
> I have submitted a long patch to source.development. There is the new
> afm2pl tool and the aleph (eomega replacement) engine. Please check what
> is missing to compile this stuff under unix.

Build correct with the fixes from Thomas on i386/linux.

I added a line
aleph           aleph           -       *aleph.ini
to my private fmtutil.cnf and aleph.ini which just \include plain and
\dump.

fmtutil --byfmt aleph
works.

aleph then also works. Nice.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
KANTURK (n.)
An extremely intricate knot originally used for belaying the
topgallant foresheets of a gaff-rigged China clipper, and now more
commonly observed when trying to get an old kite out of the cupboard
under the stairs.
			--- Douglas Adams, The Meaning of Liff
From staw at gust.org.pl  Mon Mar 22 04:39:14 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Mon Mar 22 04:34:00 2004
Subject: [tex-live] last weekend changes
Message-ID: <Pine.LNX.4.44.0403220436160.9590-100000@re86.internetdsl.tpnet.pl>

As we have so many (and fast) changes, I'd like to sort out the
most important from the last days to be recorded somewhere.

2004/03/22 
	Master/bin/i386-linux/ clean built with aleph; 
	other notes: 
	- eomega has gone (needs removing texmf-dist/eomega/ ?)
	- inialeph and viraleph not needed as other ini* and vir* were removed
	- missing .ini files for aleph and any sort of documentation
	- some links still left ->pdftex but pdftex->pdfetex ;-)

2004/03/21
	update fmtutil / texconfig from teTeX. fmtutil now supports aleph.
	rebuild dependencies plus minor cleanup; aleph now builds cleanly
	Add config stuff to let afm2pl build on UNIX.
	Added .afmt as a format file extension.
	Added afm2pl
	Fixed irun.c to use texmfscripts format
	New tpm tools
	Moved fontinst and pdftex docs to texmf-doc
	Fixed the location of ConTeXt scripts
	Fixed ConTeXt scripts to use texmfscripts format
	Changed location of tetex/ and texlive/ scripts
	  to make use of texmfscripts format
	  (texmf*/scripts/ directory introduced for Perl and other scripts)
	Introduction of Aleph

2004/03/19
	upgrade xdvik to version 22.81.1
	patch by Akira Kakuto (and approved by Olaf): allow to set
          file_line_error_style in texmf.cnf file
	pdfTeX: 3.141592-1.20a-rc1
....
....
2004/03/10 
        texmf/tex/generic/pdftexconfig.tex replaced pdftex.cfg
	

------
I think that we no more need:
texmf-dist/tex/latex/config/elatex.ini
texmf-dist/tex/latex/config/hugelatex.ini
texmf-dist/tex/latex/config/pdfelatex.ini
texmf-dist/tex/mex/config/pdfemex.ini
texmf-dist/tex/plain/config/hugetex.ini
texmf-dist/tex/plain/config/pdfetex.ini

In texmf-dist/tex/plain/config/pdftex.ini 
\input plain should replace \input bplain

mv texmf-dist/tex/mltex/base/mltex.ini texmf-dist/tex/plain/config/
(we have already here etex.ini, omega.ini, pdftex.ini)

------
On Fri, 19 Mar Thomas Esser suggested:
> You can download my tarball (with just the .ini files and
> pdftexconfig.tex) from
>   http://www.dbs.uni-hannover.de/~te/pdftexconfig.tar.gz

Those .ini files haven't yet been put to p4. Hovewer I have one question:
for what reason many of them use:
\input pdftexconfig\pdfoutput=0

pdftexconfig.tex has nothing to do when \pdfoutput=0 so reading
one more file seems redundant.

All the best,

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From te at dbs.uni-hannover.de  Mon Mar 22 05:57:45 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Mon Mar 22 05:58:11 2004
Subject: [tex-live] last weekend changes
In-Reply-To: <Pine.LNX.4.44.0403220436160.9590-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0403220436160.9590-100000@re86.internetdsl.tpnet.pl>
Message-ID: <20040322045745.GB15792@dbs.uni-hannover.de>

> pdftexconfig.tex has nothing to do when \pdfoutput=0 so reading
> one more file seems redundant.

Make your own test:
  latex -ini latex.ltx # so without reading pdftexconfig
  latex '\pdfoutput=1\input sample2e'

Then:
  latex -ini latex.ini # with pdftexconfig
  latex '\pdfoutput=1\input sample2e'

And compare the two versions of sample2e.pdf. Which one do you prefer? :-)

Thomas
From pragma at wxs.nl  Mon Mar 22 00:29:53 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Mon Mar 22 09:43:13 2004
Subject: [tex-live] ls-r filename
Message-ID: <6.0.1.1.2.20040322002435.02afce80@localhost>

Hi,

Is it possible to use a lowercase name for the

   ls-r

file instead of the ls-R one? for platforms that are case insensitive, or 
permit users to force lowercase names (windows) this is more convenient 
when trees are shared across platforms. Now i always have to explicitly go 
to a unix box to generate the ls-R files. Actually, I can even imagine a 
more verbose name, like

   kpse.dat

or so.

Hans


-------------------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE/POD/CTS
                       Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
  tel: +31 (0)38 477 53 69 | fax: +31 (0)38 477 53 74 | www.pragma-ade.com
-------------------------------------------------------------------------
                        information: http://www.pragma-ade.com/roadmap.pdf
                     documentation: http://www.pragma-ade.com/showcase.pdf
-------------------------------------------------------------------------

From siepo at cybercomm.nl  Mon Mar 22 11:02:27 2004
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Mon Mar 22 11:02:56 2004
Subject: [tex-live] anonymous access
Message-ID: <20040322100226.GB6473@muisje>

How can I get anonymous access to the TeX Live source tree? Or are
current snapshots available?

--
Siep Kroonenberg
siepo@cybercomm.nl
From preining at logic.at  Mon Mar 22 11:49:50 2004
From: preining at logic.at (Norbert Preining)
Date: Mon Mar 22 11:50:15 2004
Subject: [tex-live] anonymous access
In-Reply-To: <20040322100226.GB6473@muisje>
References: <20040322100226.GB6473@muisje>
Message-ID: <20040322104950.GC27504@gamma.logic.tuwien.ac.at>

On Mon, 22 M?r 2004, Siep Kroonenberg wrote:
> How can I get anonymous access to the TeX Live source tree? Or are
> current snapshots available?

Get the p4 client and go. You won't be allowed to submit stuff, but you
can fetch the current state. But be aware, it is a lot (around 2G ATM).

Search the archive for a description send by Karl Berry on how to set up
p4.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
BROMPTON
A bromton is that which is said to have been committed when you are
convinced you are about to blow off with a resounding trumpeting noise
in a public place and all that actually slips out is a tiny 'pfpt'.
			--- Douglas Adams, The Meaning of Liff
From olaf at infovore.xs4all.nl  Mon Mar 22 22:29:02 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Mon Mar 22 22:29:30 2004
Subject: [tex-live] dvitomp.ch#6
Message-ID: <87ekrky3j5.fsf@infovore.xs4all.nl>

Can someone tell me why this change was made to dvitomp.ch?  I'd like
to be able to say something sensible about it in the logs/comments.


--- ./src/texk/web2c/dvitomp.ch	2002-03-25 19:17:19.000000000 +0100
+++ ./texlive/development/TeX/texk/web2c/dvitomp.ch	2004-03-07 15:14:30.000000000 +0100
@@ -242,6 +242,12 @@
     else tfm_check_sum:=(((b0-256)*intcast(256)+b1)*256+b2)*256+b3;
 @z
 
+@x
+info_ptr:=info_base[f]+font_ec[f]
+@y
+info_ptr:=info_base[f]+font_ec[f]+1
+@z
+
 % [61] Don't set default_directory_name.
 @x
 @d default_directory_name=='TeXfonts:' {change this to the correct name}

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From Fabrice.Popineau at supelec.fr  Mon Mar 22 23:05:26 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Mon Mar 22 23:06:32 2004
Subject: [tex-live] dvitomp.ch#6
In-Reply-To: <87ekrky3j5.fsf@infovore.xs4all.nl> (Olaf Weber's message of
	"Mon, 22 Mar 2004 22:29:02 +0100")
References: <87ekrky3j5.fsf@infovore.xs4all.nl>
Message-ID: <ptb4sfkp.fsf@esemetz.metz.supelec.fr>

> Can someone tell me why this change was made to dvitomp.ch?  I'd like
> to be able to say something sensible about it in the logs/comments.

http://tug.org/pipermail/tex-k/2004-March/000911.html

I patched the source tree. Sorry I should have patched the ChangeLog
too.

Fabrice

From olaf at infovore.xs4all.nl  Mon Mar 22 23:19:39 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Mon Mar 22 23:20:05 2004
Subject: [tex-live] dvitomp.ch#6
In-Reply-To: <ptb4sfkp.fsf@esemetz.metz.supelec.fr> (Fabrice Popineau's
	message of "Mon, 22 Mar 2004 23:05:26 +0100")
References: <87ekrky3j5.fsf@infovore.xs4all.nl>
	<ptb4sfkp.fsf@esemetz.metz.supelec.fr>
Message-ID: <87wu5cwmmc.fsf@infovore.xs4all.nl>

Fabrice Popineau writes:

>> Can someone tell me why this change was made to dvitomp.ch?  I'd like
>> to be able to say something sensible about it in the logs/comments.

> http://tug.org/pipermail/tex-k/2004-March/000911.html

> I patched the source tree. Sorry I should have patched the ChangeLog
> too.

I've put some notes in my ChangeLog, and added a comment in my
sources.  Working on getting the changes between my sources and
tex-live to be "correct".

It's just that this was part of a _large_ change with no indication
what this particular thing was doing there.

> Fabrice

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From olaf at infovore.xs4all.nl  Mon Mar 22 23:21:18 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Mon Mar 22 23:21:43 2004
Subject: [tex-live] dvitomp.ch#6
In-Reply-To: <87wu5cwmmc.fsf@infovore.xs4all.nl> (Olaf Weber's message of
	"Mon, 22 Mar 2004 23:19:39 +0100")
References: <87ekrky3j5.fsf@infovore.xs4all.nl>
	<ptb4sfkp.fsf@esemetz.metz.supelec.fr>
	<87wu5cwmmc.fsf@infovore.xs4all.nl>
Message-ID: <87smg0wmjl.fsf@infovore.xs4all.nl>

Olaf Weber writes:
> Fabrice Popineau writes:

>> I patched the source tree. Sorry I should have patched the ChangeLog
>> too.

> I've put some notes in my ChangeLog, and added a comment in my
> sources.  Working on getting the changes between my sources and
> tex-live to be "correct".

In case you're wondering, it's the runup to 7.5.3.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From vvv at vsu.ru  Tue Mar 23 18:59:25 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Tue Mar 23 18:59:52 2004
Subject: [tex-live] time to get rid of MakeTeXPK?
Message-ID: <eysmfzjvgi.fsf@video.uic.vsu.ru>

Hi!

is it time to get rid of MakeTeXPK?

* it is not used anywhere on current distributions of teTeX, TeX Live,
  etc

* there is virtually no chance that it might be needed in some
  scenario when some old program is installed in parallel with new
  system (there were so many changes anyway so that it is extremely
  unlikely that this can happen and/or might work).

Best,
v.

From te at dbs.uni-hannover.de  Tue Mar 23 20:30:55 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Tue Mar 23 20:31:21 2004
Subject: [tex-live] Re: time to get rid of MakeTeXPK?
In-Reply-To: <eysmfzjvgi.fsf@video.uic.vsu.ru>
References: <eysmfzjvgi.fsf@video.uic.vsu.ru>
Message-ID: <20040323193055.GB9565@dbs.uni-hannover.de>

> is it time to get rid of MakeTeXPK?

Good idea. I have done this in my tree and will do the same with TeX
Live later. mktexpk is still there and I really doubt that we really
need MakeTeXPK any more.

Thomas
From olaf at infovore.xs4all.nl  Tue Mar 23 21:09:27 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Tue Mar 23 21:09:54 2004
Subject: [tex-live] kpathsea 3.5.3 (hopefully)
Message-ID: <87ad27ba14.fsf@infovore.xs4all.nl>

FYI,

I've just updated kpathsea files in the development tree to (mostly)
match my current files.  Barring bugs I don't expect significant
changes between this kpathsea 3.5.3.  (Comments and documentation may
change.)

Hans Hagen in particular may want to read the NEWS.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From staw at gust.org.pl  Tue Mar 23 22:26:45 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Tue Mar 23 22:20:31 2004
Subject: [tex-live] last weekend changes
In-Reply-To: <20040322045745.GB15792@dbs.uni-hannover.de>
Message-ID: <Pine.LNX.4.44.0403232200180.12005-100000@re86.internetdsl.tpnet.pl>

On Mon, 22 Mar 2004, Thomas Esser wrote:

> > pdftexconfig.tex has nothing to do when \pdfoutput=0 so reading
> > one more file seems redundant.
> 
> Make your own test:
>   latex -ini latex.ltx # so without reading pdftexconfig
>   latex '\pdfoutput=1\input sample2e'
> 
> Then:
>   latex -ini latex.ini # with pdftexconfig
>   latex '\pdfoutput=1\input sample2e'
> 
> And compare the two versions of sample2e.pdf. Which one do you prefer? :-)

Good examples! ;-) But... somehow crazy. I'd prefer to stick that
running latex means producing .dvi and running pdflatex - .pdf.
And not telling the people about such possibilities ;-)

Anyway, we have something more interesting:
so many existing documents already have
  \ifx\pdfoutput\undefined
    .... % concerning dvi 
  \else
    \usepackage{yy} % pdf
Now, even for latex run \pdfoutput is always known, so I'd tend
to put into some .ini (latex, mex etc.) files just
\pdfoutput=0\let\pdfoutput\undefined

Thanks,

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From olaf at infovore.xs4all.nl  Tue Mar 23 22:29:42 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Tue Mar 23 22:30:15 2004
Subject: [tex-live] encTeX, 8bit encoding, ...
Message-ID: <87y8pr9rqx.fsf@infovore.xs4all.nl>

At the risk of restarting one of the recurrent flamewars: For the work
on web2c 7.5.3 I've (finally) merged encTeX in my source tree (for
various reasons I didn't simply apply Petr's patch) and now I'm pretty
close to the point where final changes can be made or left for the
next round.

The upcoming web2c 7.5.3 handles the input encoding issue is handled
as follows:

- If a TCX file is specified it is read early in the startup sequence.

- An encTeX-enabled format contains xord/xchr/xprn data.  If a TCX
  file was specified, this data will be ignored (with a message) in
  favour of the already-read contents of the TCX file.

- On output using one of the \write operators, the xprn array is used
  to determine whether the ^^-notation is to be used.

- On output to the log or terminal, the locale-dependent C isprint()
  function is used.


Variations that could be implemented instead:

- Disable the locale-dependent code, and always use xprn.

- Always store xord/xchr/xprn in the format, not just for encTeX.

- A "genuine" -8bit switch that installs the identity xord/xchr
  mapping and makes everything printable.

The last is effectively a shorthand for --translate-file=8bit.tcx
where where 8bit.tcx implements this mapping (cp8bit.tcx does less
than its name promises).

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From Robin.Fairbairns at cl.cam.ac.uk  Tue Mar 23 23:26:33 2004
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Tue Mar 23 23:26:59 2004
Subject: [tex-live] Re: time to get rid of MakeTeXPK? 
In-Reply-To: Your message of Tue, 23 Mar 2004 20:59:25 +0300.
	<eysmfzjvgi.fsf@video.uic.vsu.ru> 
Message-ID: <E1B5uLy-0007wv-00@mta1.cl.cam.ac.uk>

> is it time to get rid of MakeTeXPK?
> 
> * it is not used anywhere on current distributions of teTeX, TeX Live,
>   etc
> 
> * there is virtually no chance that it might be needed in some
>   scenario when some old program is installed in parallel with new
>   system (there were so many changes anyway so that it is extremely
>   unlikely that this can happen and/or might work).

and it's ok to assume that everyone who wants to use a metafont-only
font can generate the bitmaps for themselves?  or just go hang?  find
themselves an earlier distribution?

i think not.  it doesn't cost much to keep the thing; and the anguish
from users (who have a hard enough time as it is) isn't worth the gain
of deleting the thing.

note: one of the standard references, the comprehensive symbol list,
recommends a wide range of metafont-only fonts.  the thing's too useful
to throw away, and too large to rewrite.
From staw at gust.org.pl  Tue Mar 23 23:46:36 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Tue Mar 23 23:40:21 2004
Subject: [tex-live] Re: time to get rid of MakeTeXPK? 
In-Reply-To: <E1B5uLy-0007wv-00@mta1.cl.cam.ac.uk>
Message-ID: <Pine.LNX.4.44.0403232343080.12069-100000@re86.internetdsl.tpnet.pl>

On Tue, 23 Mar 2004, Robin Fairbairns wrote:

> > is it time to get rid of MakeTeXPK?
> > 
> > * it is not used anywhere on current distributions of teTeX, TeX Live,
> >   etc
> ....

> and it's ok to assume that everyone who wants to use a metafont-only
> font can generate the bitmaps for themselves?  or just go hang?  find
> themselves an earlier distribution?

I think that Vladimir and Thomas think about MakeTeXPK, not
about mktexpk, mktextfm, etc...

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From vvv at vsu.ru  Tue Mar 23 23:50:04 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Tue Mar 23 23:50:24 2004
Subject: [tex-live] Re: time to get rid of MakeTeXPK?
In-Reply-To: <E1B5uLy-0007wv-00@mta1.cl.cam.ac.uk> (Robin Fairbairns's
	message of "Tue, 23 Mar 2004 22:26:33 +0000")
References: <E1B5uLy-0007wv-00@mta1.cl.cam.ac.uk>
Message-ID: <m3n0672n6r.fsf@vvv.vsu.ru>

"RF" == Robin Fairbairns writes:

 >> is it time to get rid of MakeTeXPK?
 >> 
 >> * it is not used anywhere on current distributions of teTeX, TeX
 >> Live, etc
 >> 
 >> * there is virtually no chance that it might be needed in some
 >> scenario when some old program is installed in parallel with new
 >> system (there were so many changes anyway so that it is extremely
 >> unlikely that this can happen and/or might work).

 RF> and it's ok to assume that everyone who wants to use a
 RF> metafont-only font can generate the bitmaps for themselves?  or
 RF> just go hang?  find themselves an earlier distribution?

 RF> i think not.  it doesn't cost much to keep the thing; and the
 RF> anguish from users (who have a hard enough time as it is) isn't
 RF> worth the gain of deleting the thing.

 RF> note: one of the standard references, the comprehensive symbol
 RF> list, recommends a wide range of metafont-only fonts.  the
 RF> thing's too useful to throw away, and too large to rewrite.

No, of course I do not propose to get rid of METAFONT fonts.

It's just about deleting an old obsolete script MakeTeXPK which is not
used anymore and which was long time ago superceded by the mktexpk
script. Just no need to keep that script anymore since it's not used.

Best,
v.

From ms at artcom-gmbh.de  Tue Mar 23 23:42:17 2004
From: ms at artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Wed Mar 24 01:01:24 2004
Subject: [tex-live] last weekend changes
In-Reply-To: <Pine.LNX.4.44.0403232200180.12005-100000@re86.internetdsl.tpnet.pl>
References: <20040322045745.GB15792@dbs.uni-hannover.de>
	<Pine.LNX.4.44.0403232200180.12005-100000@re86.internetdsl.tpnet.pl>
Message-ID: <20040323224216.GB7494@lucien.kn-bremen.de>

On 2004-03-23 22:26:45 +0100, Staszek Wawrykiewicz wrote:
> Anyway, we have something more interesting:
> so many existing documents already have
>   \ifx\pdfoutput\undefined
>     .... % concerning dvi 
>   \else
>     \usepackage{yy} % pdf
> Now, even for latex run \pdfoutput is always known, so I'd tend
> to put into some .ini (latex, mex etc.) files just
> \pdfoutput=0\let\pdfoutput\undefined

No. 

Such documents should use ifpdf.sty

Best regards
    Martin
-- 
               Martin Schr?der, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de
From sun_tong at users.sourceforge.net  Sun Mar 21 19:14:01 2004
From: sun_tong at users.sourceforge.net (* Tong *)
Date: Wed Mar 24 01:58:49 2004
Subject: [tex-live] TeX Live CJK fonts broken
Message-ID: <pan.2004.03.21.18.12.52.387038@users.sourceforge.net>

Hi, 

>From CJK Installation Guide:

,-----
| The easiest solution is to use the TeX Live CD which is
| distributed among members of TeX user groups worldwide. It comes
| with a ready-to-run CJK setup together with basic CJK fonts (in
| outline format if possible) for all encodings.
`-----

However, I found that 3 out of 4 CJK fonts that comes with TeX
Live are broken.

>From CJK.doc

,-----
| The CJK package's default family value is `song' for all encodings
| except KS; to avoid the error just described in cases you start an
| environment with an empty family parameter XXXsong.fd files for
| all encodings (except for KS) are provided.
`-----

This is also not true for Tex Live. I am able to typeset the default GB
example file from the cjk-current package, however, when changing the
default family to empty (i.e., using the default song family value), I
bumped into error:

    $ gbklatex GB.tex
    This is e-TeXk, Version 3.141592-2.1 (Web2C 7.5.2)
     %&-line parsing enabled.
     (/usr/texlive/texmf/web2c/cp8bit.tcx)
    entering extended mode
    (./GB.cjk
    LaTeX2e <2001/06/01>
    Babel <v3.7j> and hyphenation patterns for english, dumylang, nohyphenation, lo
    aded.
    (/usr/texlive/texmf/tex/latex/base/article.cls
    Document Class: article 2001/04/21 v1.4e Standard LaTeX document class
    (/usr/texlive/texmf/tex/latex/base/size12.clo))
    (/usr/texlive/texmf/tex/latex/CJK/CJK.sty
    (/usr/texlive/texmf/tex/latex/CJK/mule/MULEenc.sty)
    (/usr/texlive/texmf/tex/latex/CJK/CJK.enc)) (./GB.aux)
    (/usr/texlive/texmf/tex/latex/CJK/standard.bdg)
    (/usr/texlive/texmf/tex/latex/CJK/standard.enc)
    (/usr/texlive/texmf/tex/latex/CJK/standard.chr)
    (/usr/texlive/texmf/tex/latex/CJK/GB/c10gbsn.fd) [1] (./GB.aux) )
    Output written on GB.dvi (1 page, 1932 bytes).

    $ diff -wu GB.tex GB0.tex
    --- GB.tex      2003-03-28 04:10:43.000000000 -0500
    +++ GB0.tex     2004-03-21 12:44:54.000000000 -0500
    @@ -12,7 +12,7 @@

     \begin{document}

    -\begin{CJK*}{GB}{gbsn}
    +\begin{CJK*}{GB}{}
     \CJKtilde

     \noindent Chinese simplified text in GB encoding...

    $ gbklatex GB0.tex
    This is e-TeXk, Version 3.141592-2.1 (Web2C 7.5.2)
     %&-line parsing enabled.
     (/usr/texlive/texmf/web2c/cp8bit.tcx)
    entering extended mode
    (./GB0.cjk
    LaTeX2e <2001/06/01>
    Babel <v3.7j> and hyphenation patterns for english, dumylang, nohyphenation, lo
    aded.
    (/usr/texlive/texmf/tex/latex/base/article.cls
    Document Class: article 2001/04/21 v1.4e Standard LaTeX document class
    (/usr/texlive/texmf/tex/latex/base/size12.clo))
    (/usr/texlive/texmf/tex/latex/CJK/CJK.sty
    (/usr/texlive/texmf/tex/latex/CJK/mule/MULEenc.sty)
    (/usr/texlive/texmf/tex/latex/CJK/CJK.enc))
    No file GB0.aux.
    (/usr/texlive/texmf/tex/latex/CJK/standard.bdg)
    (/usr/texlive/texmf/tex/latex/CJK/standard.enc)
    (/usr/texlive/texmf/tex/latex/CJK/standard.chr)
    (/usr/texlive/texmf/tex/latex/CJK/GB/c10song.fd)
    ! No declaration for shape C10/fs/m/n.
    CJK@sub ...ace forspace shapespace mandatory@arg }
						      error@fontshape else expan...
    l.18 \noindent ^^?^^b1^^?190^^?
				   ^^?^^b3^^?163^^?^^?^^ce^^?202^^?^^?^^ce^^?202...

    ? X
    No pages of output.

Moreover, neither of the BIG5 samples from the cjk-current package
can be processed:

    $ bg5latex Big5.tex
    This is e-TeXk, Version 3.141592-2.1 (Web2C 7.5.2)
     %&-line parsing enabled.
     (/usr/texlive/texmf/web2c/cp8bit.tcx)
    entering extended mode
    (./Big5.cjk
    LaTeX2e <2001/06/01>
    Babel <v3.7j> and hyphenation patterns for english, dumylang, nohyphenation, lo
    aded.
    (/usr/texlive/texmf/tex/latex/base/article.cls
    Document Class: article 2001/04/21 v1.4e Standard LaTeX document class
    (/usr/texlive/texmf/tex/latex/base/size12.clo))
    (/usr/texlive/texmf/tex/latex/CJK/CJK.sty
    (/usr/texlive/texmf/tex/latex/CJK/mule/MULEenc.sty)
    (/usr/texlive/texmf/tex/latex/CJK/CJK.enc)) (./Big5.aux)
    (/usr/texlive/texmf/tex/latex/CJK/standard.bdg)
    (/usr/texlive/texmf/tex/latex/CJK/Bg5/Bg5.enc)
    (/usr/texlive/texmf/tex/latex/CJK/Bg5/Bg5.chr)
    (/usr/texlive/texmf/tex/latex/CJK/Bg5/c00bsmi.fd)kpathsea: Running mktextfm bsmilp03
    mktextfm: Running mf-nowin -progname=mf \mode:=ljfour; mag:=1; nonstopmode; input bsmilp03
    This is METAFONT, Version 2.71828 (Web2C 7.5.2)
    (/usr/texlive/texmf/web2c/cp8bit.tcx)
    kpathsea: Running mktexmf bsmilp03
    ! I can't find file `bsmilp03'.
    <*> ...ljfour; mag:=1; nonstopmode; input bsmilp03

    Please type another input file name
    ! Emergency stop.
    <*> ...ljfour; mag:=1; nonstopmode; input bsmilp03

    Transcript written on mfput.log.
    mktextfm: `mf-nowin -progname=mf \mode:=ljfour; mag:=1; nonstopmode; input bsmilp03' failed.
    kpathsea: Appending font creation commands to missfont.log.

    ! Font C00/bsmi/m/n/12/03=bsmilp03 at 12.0pt not loadable: Metric (TFM) file no
    t found.
    <to be read again> 
		       relax 
    l.21 \noindent ^^?^^a5^^?187^^?
				   ^^?^^b1^^?96^^?^^?^^b0^^?221^^?^^?^^b0^^?221^...

    ? X
    No pages of output.


    $ bg5latex Big5vert.tex 
    This is e-TeXk, Version 3.141592-2.1 (Web2C 7.5.2)
     %&-line parsing enabled.
     (/usr/texlive/texmf/web2c/cp8bit.tcx)
    entering extended mode
    (./Big5vert.cjk
    LaTeX2e <2001/06/01>
    Babel <v3.7j> and hyphenation patterns for english, dumylang, nohyphenation, lo
    aded.
    (/usr/texlive/texmf/tex/latex/base/article.cls
    Document Class: article 2001/04/21 v1.4e Standard LaTeX document class
    (/usr/texlive/texmf/tex/latex/base/size12.clo))
    (/usr/texlive/texmf/tex/latex/CJK/CJK.sty
    (/usr/texlive/texmf/tex/latex/CJK/mule/MULEenc.sty)
    (/usr/texlive/texmf/tex/latex/CJK/CJK.enc))
    (/usr/texlive/texmf/tex/latex/CJK/CJKvert.sty
    (/usr/texlive/texmf/tex/latex/graphics/graphicx.sty
    (/usr/texlive/texmf/tex/latex/graphics/keyval.sty)
    (/usr/texlive/texmf/tex/latex/graphics/graphics.sty
    (/usr/texlive/texmf/tex/latex/graphics/trig.sty)
    (/usr/texlive/texmf/tex/latex/texlive/graphics.cfg)
    (/usr/texlive/texmf/tex/latex/graphics/dvips.def)))) (./Big5vert.aux)
    (/usr/texlive/texmf/tex/latex/CJK/standard.bdg)
    (/usr/texlive/texmf/tex/latex/CJK/Bg5/Bg5.enc)
    (/usr/texlive/texmf/tex/latex/CJK/Bg5/Bg5.chr)
    (/usr/texlive/texmf/tex/latex/CJK/Bg5/c00bsmi.fd)
    (/usr/texlive/texmf/tex/latex/CJK/Bg5/c00bsmi.fdv)kpathsea: Running mktextfm bsmilp03
    mktextfm: Running mf-nowin -progname=mf \mode:=ljfour; mag:=1; nonstopmode; input bsmilp03
    This is METAFONT, Version 2.71828 (Web2C 7.5.2)
    (/usr/texlive/texmf/web2c/cp8bit.tcx)

    kpathsea: Running mktexmf bsmilp03
    ! I can't find file `bsmilp03'.
    <*> ...ljfour; mag:=1; nonstopmode; input bsmilp03

    Please type another input file name
    ! Emergency stop.
    <*> ...ljfour; mag:=1; nonstopmode; input bsmilp03

    Transcript written on mfput.log.
    mktextfm: `mf-nowin -progname=mf \mode:=ljfour; mag:=1; nonstopmode; input bsmilp03' failed.
    kpathsea: Appending font creation commands to missfont.log.

    ! Font C00/bsmi/m/n/12/03=bsmilp03 at 12.0pt not loadable: Metric (TFM) file no
    t found.
    <to be read again> 
		       relax 
    l.21 \noindent ^^?^^a5^^?187^^?
				   ^^?^^b1^^?96^^?^^?^^b0^^?221^^?^^?^^b0^^?221^...

    ? X
    No pages of output.

I've re-install TeX Live 3 times. Has anyone got into the same error as me? 

Please help. Thanks!

PS. 

I'm using texlive2003-inst-20030928.iso, the proposed platform is Intel
x86 with GNU/Linux.

-- 
Tong (remove underscore(s) to reply)
  *niX Power Tools Project: http://xpt.sourceforge.net/
  - All free contribution & collection

From karl at freefriends.org  Wed Mar 24 02:26:02 2004
From: karl at freefriends.org (Karl Berry)
Date: Wed Mar 24 02:26:30 2004
Subject: [tex-live] last weekend changes
In-Reply-To: <20040323224216.GB7494@lucien.kn-bremen.de>
Message-ID: <200403240126.i2O1Q2K31517@f7.net>

    > \pdfoutput=0\let\pdfoutput\undefined

FWIW, I like this idea.

    Such documents should use ifpdf.sty

I'm not sure I agree, but regardless, the fact is that there are many
documents that don't.  It would be good to avoid breaking them, if possible.
From karl at freefriends.org  Wed Mar 24 02:29:57 2004
From: karl at freefriends.org (Karl Berry)
Date: Wed Mar 24 02:30:24 2004
Subject: [tex-live] TeX Live CJK fonts broken
In-Reply-To: <pan.2004.03.21.18.12.52.387038@users.sourceforge.net>
Message-ID: <200403240129.i2O1TvU32367@f7.net>

    However, I found that 3 out of 4 CJK fonts that comes with TeX
    Live are broken.

This was a regrettable bug, which Werner Lemberg found and fixed
recently.  Please see the information and link on
http://tug.org/texlive/bugs.html.

Would you be able to test the TL 2004 CJK support before it is released?
If so, I'll write you when there is a pretest available to try.  Please
let me know ...
From Gerben.Wierda at rna.nl  Wed Mar 24 06:58:21 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Wed Mar 24 06:58:31 2004
Subject: [tex-live] Fwd: [OS X TeX] Fonts
Message-ID: <4182B1D1-7D58-11D8-97A5-003065B3343E@rna.nl>

Now that TeX Live is (via multiple routes) more or less the TeX for 
(potentially) millions of Apple users we run in the problem that using 
Apples fonts inside TeX is a serious problem. Add to that the 
restriction that conversion of the fonts (which are ttf/otf but inside 
file buckets of some sort) is a no-go legally and you get my favourite 
wish list item: direct use of Apple's type of system fonts in TeX (both 
dvi/dvips and pdf)

Would this be doable?

Begin forwarded message:

> As a potential newcomer to TeX have just read 
> http://homepage.mac.com/bkerstetter/tex/fonttutorial-current.html and 
> have narrowly avoided the temptation to leap off the balcony...
>
> We were intending to use a face from Storm, no doubt his OT 
> Baskerville Ten. Is there any chance that this could be made to work 
> with LaTeX? Should we go for a different format?

From chofchof at ktug.or.kr  Wed Mar 24 07:27:53 2004
From: chofchof at ktug.or.kr (Jin-Hwan Cho)
Date: Wed Mar 24 07:28:22 2004
Subject: [tex-live] Fwd: [OS X TeX] Fonts
In-Reply-To: <4182B1D1-7D58-11D8-97A5-003065B3343E@rna.nl>
References: <4182B1D1-7D58-11D8-97A5-003065B3343E@rna.nl>
Message-ID: <616C36CA-7D5C-11D8-A981-000A95D057DA@ktug.or.kr>

On Mar 24, 2004, at 2:58 PM, Gerben Wierda wrote:

> Now that TeX Live is (via multiple routes) more or less the TeX for 
> (potentially) millions of Apple users we run in the problem that using 
> Apples fonts inside TeX is a serious problem. Add to that the 
> restriction that conversion of the fonts (which are ttf/otf but inside 
> file buckets of some sort) is a no-go legally and you get my favourite 
> wish list item: direct use of Apple's type of system fonts in TeX 
> (both dvi/dvips and pdf)
>
> Would this be doable?

With the help of ttf2tfm and ttf2pk, it is possible to use the system
ttf/otf fonts in almost all DVI drivers, because the font format is
the bitmap PK.

If you want the outline ttf/otf fonts in DVI drivers, the DVI driver
should support this feature. As I know, DVIOUT (running under MS-Win
families) supports ttf directly, and DVIPDFMx supports both ttf and
otf directly.

Best, ChoF.
~~~~~~~~~~~~~~~~~~~~~~~~~  ***
| Cho, Jin-Hwan == ChoF |  ^ ^
~~~~~~~~~~~~~~~~~~~~~~~~~~  o
| Korean TeX Users Group | ---
| http://www.ktug.or.kr  |  |
~~~~~~~~~~~~~~~~~~~~~~~~~~  |
| chofchof@ktug.or.kr |    ***
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

From ms at artcom-gmbh.de  Wed Mar 24 09:42:35 2004
From: ms at artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Wed Mar 24 09:43:47 2004
Subject: [tex-live] ifpdf (was: last weekend changes)
In-Reply-To: <200403240126.i2O1Q2K31517@f7.net>
References: <20040323224216.GB7494@lucien.kn-bremen.de>
	<200403240126.i2O1Q2K31517@f7.net>
Message-ID: <20040324084235.GK17403@artcom8.artcom-gmbh.de>

On 2004-03-23 20:26:02 -0500, Karl Berry wrote:
>     > \pdfoutput=0\let\pdfoutput\undefined
> 
> FWIW, I like this idea.
> 
>     Such documents should use ifpdf.sty
> 
> I'm not sure I agree, but regardless, the fact is that there are many
> documents that don't.  It would be good to avoid breaking them, if possible.

And this change would break any document that uses ifpdf, i.e.
that does it right. It seems we can't have both...

Best regards
        Martin
-- 
               Martin Schr?der, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de
From petr at olsak.net  Wed Mar 24 09:44:12 2004
From: petr at olsak.net (Petr Olsak)
Date: Wed Mar 24 09:47:51 2004
Subject: [tex-live] encTeX, 8bit encoding, ...
In-Reply-To: <87y8pr9rqx.fsf@infovore.xs4all.nl>
Message-ID: <Pine.LNX.4.44.0403240912490.32501-100000@newton.feld.cvut.cz>



On Tue, 23 Mar 2004, Olaf Weber wrote:

> At the risk of restarting one of the recurrent flamewars: For the work
> on web2c 7.5.3 I've (finally) merged encTeX in my source tree (for

Thank you.

It would be useful to make some encTeX tables for various encodings.
Examples are in the files: utf8-t1.tex, utf8-csf.tex,
1250-t1.tex etc. in ftp://math.feld.cvut.cz/pub/olsak/enctex/enctex.tar.gz

The files mentioned above would be the base part of encTeX accessory.

> various reasons I didn't simply apply Petr's patch) and now I'm pretty
> close to the point where final changes can be made or left for the
> next round.
>
> The upcoming web2c 7.5.3 handles the input encoding issue is handled
> as follows:
>
> - If a TCX file is specified it is read early in the startup sequence.
>
> - An encTeX-enabled format contains xord/xchr/xprn data.  If a TCX
>   file was specified, this data will be ignored (with a message) in
>   favour of the already-read contents of the TCX file.
>
> - On output using one of the \write operators, the xprn array is used
>   to determine whether the ^^-notation is to be used.

OK. The encTeX <--> TCX co-operation would be follow exactly the encTeX
documentation:

-----------------------------
|
| 1.3.
|
| If your web2c distribution implements enc\TeX{} then you can
| initialize it by the "-enc" option in command line.
| You have to use this option during ini\TeX{} because enc\TeX{} stores
| its primitives and its data to the format file. When the format is
| used, the enc\TeX{} is initialized from format file automatically and
| you need not use the "-enc" option again. If you are using a format
| without enc\TeX{} initialized in it and you write "-enc" option then
| the warning is printed and this option is ignored.
|
| The TCX tables ("-translate-file" option) are working with the same
| xord and xchr vector as enc\TeX{} in web2c distribution. This implies
| the following little conflicts: If enc\TeX{} is used together with TCX
| table then TCX table may re-write the initial values of "\xordcode",
| "\xchrcode" and "\xprncode". These initial values are documented in
| section~2.2. If these values are stored in format by enc\TeX{} and TCX
| table is used together with such format then the values from format
| can be re-written by TCX table too. On the other hand, you can use the
| "\xordcode", "\xchrcode" and "\xprncode" primitives for reading or
| saving of these values after TCX table initialization without
| problems.
|
--------------------------------

> - On output to the log or terminal, the locale-dependent C isprint()
>   function is used.

It would be more better to disable locale-dependnce if encTeX format is
used. The encTeX documentation writes:

--------------------------------
|
| 2.1.
|
| All text outputs from \TeX{} to terminal, log file and files managed
| by "\write" primitive are filtered by xchr vector and by
| ``printability'' feature of the character. ...
|
---------------------------------

It means, there is no difference between log+terminal and \write files.

Moreover, there are encTeX primitive "\mubytelog" which controls the
one-byte to multi-byte conversions (to utf8 terminal for example)
of log and terminal output. The isprint() function can be in conflict
with this encTeX setting.

> Variations that could be implemented instead:
>
> - Disable the locale-dependent code, and always use xprn.

I vote disable it. For example, I was very confused (as an user of
TeXlive) why the CSTRIP test fails only on some terminals (the same tex
binary was used on all terminals). I wish to avoid this confusion for
another users.

> - Always store xord/xchr/xprn in the format, not just for encTeX.

I mean that this is not needed. This feature changes behaviour of TCX
tables without encTeX and this can bring a confusion for TCX users.

> - A "genuine" -8bit switch that installs the identity xord/xchr
>   mapping and makes everything printable.
>
> The last is effectively a shorthand for --translate-file=8bit.tcx
> where where 8bit.tcx implements this mapping (cp8bit.tcx does less
> than its name promises).

May be.

Best regards

Petr Olsak

From pragma at wxs.nl  Wed Mar 24 10:32:36 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Wed Mar 24 10:34:04 2004
Subject: [tex-live] encTeX, 8bit encoding, ...
In-Reply-To: <87y8pr9rqx.fsf@infovore.xs4all.nl>
References: <87y8pr9rqx.fsf@infovore.xs4all.nl>
Message-ID: <6.0.1.1.2.20040324103137.01df0818@server-1>

At 22:29 23/03/2004, Olaf Weber wrote:

>- A "genuine" -8bit switch that installs the identity xord/xchr
>   mapping and makes everything printable.

ah ... great .. also clean and clear -)

>The last is effectively a shorthand for --translate-file=8bit.tcx
>where where 8bit.tcx implements this mapping (cp8bit.tcx does less
>than its name promises).

(this is why i'm adding natural.tcx to the context distribution)

Hans  

From ms at artcom-gmbh.de  Wed Mar 24 10:52:55 2004
From: ms at artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Wed Mar 24 10:53:55 2004
Subject: [tex-live] Another year has passed
Message-ID: <20040324095254.GM17403@artcom8.artcom-gmbh.de>

I've updated lib/printversion.c
-- 
               Martin Schr?der, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de
From Gerben.Wierda at rna.nl  Wed Mar 24 13:01:35 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Wed Mar 24 13:01:44 2004
Subject: [tex-live] Fwd: [OS X TeX] Fonts
In-Reply-To: <616C36CA-7D5C-11D8-A981-000A95D057DA@ktug.or.kr>
References: <4182B1D1-7D58-11D8-97A5-003065B3343E@rna.nl>
	<616C36CA-7D5C-11D8-A981-000A95D057DA@ktug.or.kr>
Message-ID: <22408.159.46.248.218.1080129695.squirrel@mail.rna.nl>

> On Mar 24, 2004, at 2:58 PM, Gerben Wierda wrote:
>
>> Now that TeX Live is (via multiple routes) more or less the TeX for
>> (potentially) millions of Apple users we run in the problem that using
>> Apples fonts inside TeX is a serious problem. Add to that the
>> restriction that conversion of the fonts (which are ttf/otf but inside
>> file buckets of some sort) is a no-go legally and you get my favourite
>> wish list item: direct use of Apple's type of system fonts in TeX
>> (both dvi/dvips and pdf)
>>
>> Would this be doable?
>
> With the help of ttf2tfm and ttf2pk, it is possible to use the system
> ttf/otf fonts in almost all DVI drivers, because the font format is
> the bitmap PK.

This is legally not allowed. Which is why I put the question of using them
directly.

> If you want the outline ttf/otf fonts in DVI drivers, the DVI driver
> should support this feature. As I know, DVIOUT (running under MS-Win
> families) supports ttf directly, and DVIPDFMx supports both ttf and
> otf directly.

But dvips does not. Anyway, creating converted fonts is probably not
allowed under the license they came with.

G
From karl at freefriends.org  Wed Mar 24 15:39:37 2004
From: karl at freefriends.org (Karl Berry)
Date: Wed Mar 24 15:40:11 2004
Subject: [tex-live] ifpdf (was: last weekend changes)
In-Reply-To: <20040324084235.GK17403@artcom8.artcom-gmbh.de>
Message-ID: <200403241439.i2OEdbR12137@f7.net>

    And this change would break any document that uses ifpdf

Why?  DVI output = \pdfoutput undefined = \pdffalse.  What am I missing?
From ms at artcom-gmbh.de  Wed Mar 24 16:04:49 2004
From: ms at artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Wed Mar 24 16:06:04 2004
Subject: [tex-live] ifpdf
In-Reply-To: <200403241439.i2OEdbR12137@f7.net>
References: <20040324084235.GK17403@artcom8.artcom-gmbh.de>
	<200403241439.i2OEdbR12137@f7.net>
Message-ID: <20040324150449.GP17403@artcom8.artcom-gmbh.de>

On 2004-03-24 09:39:37 -0500, Karl Berry wrote:
>     And this change would break any document that uses ifpdf
> 
> Why?  DVI output = \pdfoutput undefined = \pdffalse.  What am I missing?

Nothing; you are right. Sorry for the confusion.

Best regards
        Martin
-- 
               Martin Schr?der, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de
From olaf at infovore.xs4all.nl  Wed Mar 24 17:41:32 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Wed Mar 24 17:41:59 2004
Subject: [tex-live] encTeX, 8bit encoding, ...
In-Reply-To: <Pine.LNX.4.44.0403240912490.32501-100000@newton.feld.cvut.cz>
	(Petr Olsak's message of "Wed, 24 Mar 2004 09:44:12 +0100 (CET)")
References: <Pine.LNX.4.44.0403240912490.32501-100000@newton.feld.cvut.cz>
Message-ID: <87d672yz7n.fsf@infovore.xs4all.nl>

Petr Olsak writes:
> On Tue, 23 Mar 2004, Olaf Weber wrote:

>> At the risk of restarting one of the recurrent flamewars: For the work
>> on web2c 7.5.3 I've (finally) merged encTeX in my source tree (for

> Thank you.

> It would be useful to make some encTeX tables for various encodings.
> Examples are in the files: utf8-t1.tex, utf8-csf.tex,
> 1250-t1.tex etc. in ftp://math.feld.cvut.cz/pub/olsak/enctex/enctex.tar.gz

> The files mentioned above would be the base part of encTeX accessory.

That part of the packaging I'm happy to delegate to Sebastian and
Thomas.

>> various reasons I didn't simply apply Petr's patch) and now I'm pretty
>> close to the point where final changes can be made or left for the
>> next round.

>> The upcoming web2c 7.5.3 handles the input encoding issue is handled
>> as follows:

>> - If a TCX file is specified it is read early in the startup sequence.

>> - An encTeX-enabled format contains xord/xchr/xprn data.  If a TCX
>>   file was specified, this data will be ignored (with a message) in
>>   favour of the already-read contents of the TCX file.
>> 
>> - On output using one of the \write operators, the xprn array is used
>>   to determine whether the ^^-notation is to be used.

> OK. The encTeX <--> TCX co-operation would be follow exactly the encTeX
> documentation:

[...]

The present code does effectively work like that.  (The actual
implementation is that the TCX is read first, and if a TCX was read
then the xord/xchr/xprn vectors from the format are dropped).

>> - On output to the log or terminal, the locale-dependent C isprint()
>>   function is used.

> It would be more better to disable locale-dependnce if encTeX format is
> used. The encTeX documentation writes:

[...]

> It means, there is no difference between log+terminal and \write files.

At present the encTeX documentation is wrong as far as web2c and
log/term writes are concerned.

> Moreover, there are encTeX primitive "\mubytelog" which controls the
> one-byte to multi-byte conversions (to utf8 terminal for example)
> of log and terminal output. The isprint() function can be in conflict
> with this encTeX setting.

Now that's an interesting case.

>> Variations that could be implemented instead:

>> - Disable the locale-dependent code, and always use xprn.

> I vote disable it. For example, I was very confused (as an user of
> TeXlive) why the CSTRIP test fails only on some terminals (the same tex
> binary was used on all terminals). I wish to avoid this confusion for
> another users.

Vote noted.  I'd like to collect more votes before making the final
decision.

>> - Always store xord/xchr/xprn in the format, not just for encTeX.

> I mean that this is not needed. This feature changes behaviour of TCX
> tables without encTeX and this can bring a confusion for TCX users.

It would allow (say) Hans Hagen to put an 8bit-passthrough xprn vector
in his context formats.

I agree that this kind of thing does provide people with plenty rope.

>> - A "genuine" -8bit switch that installs the identity xord/xchr
>>   mapping and makes everything printable.

>> The last is effectively a shorthand for --translate-file=8bit.tcx
>> where where 8bit.tcx implements this mapping (cp8bit.tcx does less
>> than its name promises).

Note that one reason I dislike this (somewhat) is that it is yet
another switch where the interaction with TCX and encTeX has to be
determined and spelled out.

> May be.

> Best regards

> Petr Olsak

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From staw at gust.org.pl  Wed Mar 24 18:23:23 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Wed Mar 24 18:17:43 2004
Subject: [tex-live] encTeX, 8bit encoding, ...
In-Reply-To: <87d672yz7n.fsf@infovore.xs4all.nl>
Message-ID: <Pine.LNX.4.44.0403241813120.13210-100000@re86.internetdsl.tpnet.pl>

On Wed, 24 Mar 2004, Olaf Weber wrote:

> >> - Always store xord/xchr/xprn in the format, not just for encTeX.
> 
> > I mean that this is not needed. This feature changes behaviour of TCX
> > tables without encTeX and this can bring a confusion for TCX users.
> 
> It would allow (say) Hans Hagen to put an 8bit-passthrough xprn vector
> in his context formats.
> 
> I agree that this kind of thing does provide people with plenty rope.
> 
> >> - A "genuine" -8bit switch that installs the identity xord/xchr
> >>   mapping and makes everything printable.
> 
> >> The last is effectively a shorthand for --translate-file=8bit.tcx
> >> where where 8bit.tcx implements this mapping (cp8bit.tcx does less
> >> than its name promises).
> 
> Note that one reason I dislike this (somewhat) is that it is yet
> another switch where the interaction with TCX and encTeX has to be
> determined and spelled out.

I think that this switch is not needed (I also dislike that). We can have 
a consent that 8bit.tcx is loaded by default if tcx or -enc is not used,
as it was done in TL2003. So Hans, Daniel and some other would be happy.

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From olaf at infovore.xs4all.nl  Wed Mar 24 19:18:15 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Wed Mar 24 19:18:42 2004
Subject: [tex-live] encTeX, 8bit encoding, ...
In-Reply-To: <Pine.LNX.4.44.0403241813120.13210-100000@re86.internetdsl.tpnet.pl>
	(Staszek
	Wawrykiewicz's message of "Wed, 24 Mar 2004 18:23:23 +0100 (CET)")
References: <Pine.LNX.4.44.0403241813120.13210-100000@re86.internetdsl.tpnet.pl>
Message-ID: <87zna6xg60.fsf@infovore.xs4all.nl>

Staszek Wawrykiewicz writes:
> On Wed, 24 Mar 2004, Olaf Weber wrote:

>>>> - A "genuine" -8bit switch that installs the identity xord/xchr
>>>>   mapping and makes everything printable.

>>>> The last is effectively a shorthand for --translate-file=8bit.tcx
>>>> where where 8bit.tcx implements this mapping (cp8bit.tcx does less
>>>> than its name promises).

>> Note that one reason I dislike this (somewhat) is that it is yet
>> another switch where the interaction with TCX and encTeX has to be
>> determined and spelled out.

> I think that this switch is not needed (I also dislike that). We can have 
> a consent that 8bit.tcx is loaded by default if tcx or -enc is not used,
> as it was done in TL2003. So Hans, Daniel and some other would be happy.

Automagically loading a TCX is a hack I dislike:

encTeX and TCX bite each other.  Automatically loading a TCX is a
problem because it means that encTeX will always encounter a TCX
unless the -enc option is given on each run.  But the -enc option
otherwise only makes a difference for iniTeX, and I _don't_ think it
is a good idea to force people to always specify it.

This is why I like storing the xprn in all formats: for the formats
where we want it, you load the TCX at format creation time.  For those
where we do not want it (e.g, trip test, plain and possibly latex as
well) you leave well alone.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From doug_mcallaster at harcourt.com  Wed Mar 24 20:47:28 2004
From: doug_mcallaster at harcourt.com (doug_mcallaster@harcourt.com)
Date: Wed Mar 24 20:50:01 2004
Subject: [tex-live] help using basic postscript fonts with TexLive4 CD
Message-ID: <OFFE9C6208.A2C445FB-ON86256E61.006C334C@harcourtbrace.com>

Folks,

I need help using basic postscript fonts with TexLive4 CD.

I would like to use a font other than the default "computer modern" series.
I.e., I would like some font choices for my non-math docs, nothing fancy.

I am learning LaTex2.
I run the TexLive4 CD dated March 1999.
I am on Windows 2000.
I run pdflatex to generate the pdf file from myfile.tex source.

Currently, I run pdflatex from the CD drive, D:, by setting the path to
include d:\bin\win32.

I am using a PSNFSS2e test program by Sebastian Rahtz, test1.tex.

Below is the test1.tex program and its test1.log.

Can someone read its log & tell me why these basic
postscript fonts in test1.tex program do not work?

Someone said I should get a newer version of TexLive.
I can do that if needed
but I wanted to confirm that my March 1999 CD is inadequate before I rejoin
TUG
in order to get (I hope) a newer, fixed TexLive CD.

Doug McAllaster
Statistical Programmer / Analyst
Psychometric & Research Services
Harcourt Assessment, Inc.
Doug_McAllaster@Harcourt.Com
210-339-5522

==========================================================
=============start of test1.tex===========================
==========================================================
% \iffalse
%
% This file is part of the PSNFSS2e package
% -----------------------------------------
%
% \fi

\documentclass{article}
\usepackage[T1]{fontenc}
\usepackage{times}
\begin{document}
\parskip4pt
\parindent0em
\title{PSNFSS: test most of the `35' PostScript fonts}
\author{Sebastian Rahtz}
\date{June 17th 1994}
\maketitle
\def\Try#1#2{%
\fontfamily{#1}\selectfont
This is set in in #2 (#1):
\begin{quote}
\textit{an italicized f\'ee;}
\textsc{a smallcaps f\'ee;}
\textsl{a slanted f\'ee;}
\textbf{
 a bold f\'ee;
 \textit{a bold italized f\'ee;}
 \textsc{a bold smallcaps f\'ee;}
 \textsl{a bold slanted f\'ee;}
}
\end{quote}
\par
}
\Try{pag}{Adobe AvantGarde}
\Try{pbk}{Adobe Bookman}
\Try{pcr}{Adobe Courier}
\Try{phv}{Adobe Helvetica}
\Try{pnc}{Adobe NewCenturySchoolbook}
\Try{ppl}{Adobe Palatino}
\Try{ptm}{Adobe Times Roman}
\Try{pzc}{Adobe ZapfChancery}

\fontfamily{phv}\selectfont
In Helvetica we can try the narrow fonts.\footnote{Thanks to Frank
  Poppe for putting this in.}
\begin{quote}
\fontseries{mc}
\upshape a condensed f\'ee.
\slshape a condensed slanted f\'ee.
%\fontseries{bc}
%\upshape a bold condensed f\'ee.
%\slshape a bold condensed slanted f\'ee.
\end{quote}
\end{document}

\end{document}

========================================================
=============end of test1.tex===========================
========================================================



==========================================================
=============start of test1.log===========================
==========================================================

This is pdfTeX, Version 3.14159-13d (Web2c 7.3.1) (format=pdflatex
1999.6.28)  24 MAR 2004 09:57
**test1
(test1.tex[d:/texmf/pdftex/config/pdftex.cfg]
LaTeX2e <1998/12/01> patch level 1
Babel <v3.6x> and hyphenation patterns for english, french, german,
ngerman, du
mylang, nohyphenation, loaded.
(d:/texmf/tex/latex/base/article.cls
Document Class: article 1999/01/07 v1.4a Standard LaTeX document class
(d:/texmf/tex/latex/base/size10.clo
File: size10.clo 1999/01/07 v1.4a Standard LaTeX file (size option)
)
\c@part=\count79
\c@section=\count80
\c@subsection=\count81
\c@subsubsection=\count82
\c@paragraph=\count83
\c@subparagraph=\count84
\c@figure=\count85
\c@table=\count86
\abovecaptionskip=\skip41
\belowcaptionskip=\skip42
\bibindent=\dimen102
) (d:/texmf/tex/latex/base/fontenc.sty
Package: fontenc 1999/02/24 v1.9t Standard LaTeX package

(d:/texmf/tex/latex/base/t1enc.def
File: t1enc.def 1999/02/24 v1.9t Standard LaTeX file
LaTeX Font Info:    Redeclaring font encoding T1 on input line 25.
)) (d:/texmf/tex/latex/psnfss/times.sty
Package: times 1999/03/29 PSNFSS v.7.2 Times font as default roman : S
Rahtz
)
No file test1.aux.
\openout1 = `test1.aux'.

LaTeX Font Info:    Checking defaults for OML/cmm/m/it on input line 12.
LaTeX Font Info:    ... okay on input line 12.
LaTeX Font Info:    Checking defaults for T1/cmr/m/n on input line 12.
LaTeX Font Info:    ... okay on input line 12.
LaTeX Font Info:    Checking defaults for OT1/cmr/m/n on input line 12.
LaTeX Font Info:    ... okay on input line 12.
LaTeX Font Info:    Checking defaults for OMS/cmsy/m/n on input line 12.
LaTeX Font Info:    ... okay on input line 12.
LaTeX Font Info:    Checking defaults for OMX/cmex/m/n on input line 12.
LaTeX Font Info:    ... okay on input line 12.
LaTeX Font Info:    Checking defaults for U/cmr/m/n on input line 12.
LaTeX Font Info:    ... okay on input line 12.
LaTeX Font Info:    Try loading font information for T1+ptm on input line
12.
(d:/texmf/tex/latex/psnfss/t1ptm.fd
File: t1ptm.fd 1998/11/05 Fontinst v1.800 font definitions for T1/ptm.
)
LaTeX Font Info:    External font `cmex10' loaded for size
(Font)              <12> on input line 18.
LaTeX Font Info:    External font `cmex10' loaded for size
(Font)              <8> on input line 18.
LaTeX Font Info:    External font `cmex10' loaded for size
(Font)              <6> on input line 18.
LaTeX Font Info:    Try loading font information for T1+pag on input line
35.
 (d:/texmf/tex/latex/psnfss/t1pag.fd
File: t1pag.fd 1998/11/05 Fontinst v1.800 font definitions for T1/pag.
)

LaTeX Font Warning: Font shape `T1/pag/m/n' undefined
(Font)              using `T1/cmr/m/n' instead on input line 35.


LaTeX Font Warning: Font shape `T1/pag/m/it' undefined
(Font)              using `T1/pag/m/n' instead on input line 35.


LaTeX Font Warning: Font shape `T1/pag/m/sc' undefined
(Font)              using `T1/pag/m/n' instead on input line 35.


LaTeX Font Warning: Font shape `T1/pag/m/sl' undefined
(Font)              using `T1/pag/m/n' instead on input line 35.


LaTeX Font Warning: Font shape `T1/pag/bx/n' undefined
(Font)              using `T1/pag/m/n' instead on input line 35.


LaTeX Font Warning: Font shape `T1/pag/bx/it' undefined
(Font)              using `T1/pag/bx/n' instead on input line 35.


LaTeX Font Warning: Font shape `T1/pag/bx/sc' undefined
(Font)              using `T1/pag/bx/n' instead on input line 35.


LaTeX Font Warning: Font shape `T1/pag/bx/sl' undefined
(Font)              using `T1/pag/bx/n' instead on input line 35.

LaTeX Font Info:    Try loading font information for T1+pbk on input line
36.
(d:/texmf/tex/latex/psnfss/t1pbk.fd
File: t1pbk.fd 1998/11/05 Fontinst v1.800 font definitions for T1/pbk.
)
LaTeX Font Info:    Font shape `T1/pbk/m/n' in size <10> not available
(Font)              Font shape `T1/pbk/l/n' tried instead on input line 36.
LaTeX Font Info:    Font shape `T1/pbk/m/it' in size <10> not available
(Font)              Font shape `T1/pbk/l/it' tried instead on input line
36.
LaTeX Font Info:    Font shape `T1/pbk/m/sc' in size <10> not available
(Font)              Font shape `T1/pbk/l/sc' tried instead on input line
36.
LaTeX Font Info:    Font shape `T1/pbk/m/sl' in size <10> not available
(Font)              Font shape `T1/pbk/l/sl' tried instead on input line
36.
LaTeX Font Info:    Font shape `T1/pbk/bx/n' in size <10> not available
(Font)              Font shape `T1/pbk/b/n' tried instead on input line 36.
LaTeX Font Info:    Font shape `T1/pbk/b/n' in size <10> not available
(Font)              Font shape `T1/pbk/db/n' tried instead on input line
36.
LaTeX Font Info:    Font shape `T1/pbk/bx/it' in size <10> not available
(Font)              Font shape `T1/pbk/b/it' tried instead on input line
36.
LaTeX Font Info:    Font shape `T1/pbk/b/it' in size <10> not available
(Font)              Font shape `T1/pbk/db/it' tried instead on input line
36.
LaTeX Font Info:    Font shape `T1/pbk/bx/sc' in size <10> not available
(Font)              Font shape `T1/pbk/b/sc' tried instead on input line
36.
LaTeX Font Info:    Font shape `T1/pbk/b/sc' in size <10> not available
(Font)              Font shape `T1/pbk/db/sc' tried instead on input line
36.
LaTeX Font Info:    Font shape `T1/pbk/bx/sl' in size <10> not available
(Font)              Font shape `T1/pbk/b/sl' tried instead on input line
36.
LaTeX Font Info:    Font shape `T1/pbk/b/sl' in size <10> not available
(Font)              Font shape `T1/pbk/db/sl' tried instead on input line
36.
LaTeX Font Info:    Try loading font information for T1+pcr on input line
37.
 (d:/texmf/tex/latex/psnfss/t1pcr.fd
File: t1pcr.fd 1998/11/05 Fontinst v1.800 font definitions for T1/pcr.
)
LaTeX Font Info:    Font shape `T1/pcr/m/it' in size <10> not available
(Font)              Font shape `T1/pcr/m/sl' tried instead on input line
37.
LaTeX Font Info:    Font shape `T1/pcr/bx/n' in size <10> not available
(Font)              Font shape `T1/pcr/b/n' tried instead on input line 37.
LaTeX Font Info:    Font shape `T1/pcr/bx/it' in size <10> not available
(Font)              Font shape `T1/pcr/b/it' tried instead on input line
37.
LaTeX Font Info:    Font shape `T1/pcr/b/it' in size <10> not available
(Font)              Font shape `T1/pcr/b/sl' tried instead on input line
37.
LaTeX Font Info:    Font shape `T1/pcr/bx/sc' in size <10> not available
(Font)              Font shape `T1/pcr/b/sc' tried instead on input line
37.
LaTeX Font Info:    Font shape `T1/pcr/bx/sl' in size <10> not available
(Font)              Font shape `T1/pcr/b/sl' tried instead on input line
37.

Overfull \hbox (5.00006pt too wide) in paragraph at lines 37--37
[]\T1/pcr/m/sl/10 an ital-i-cized f?e; \T1/pcr/m/sc/10 a small-caps f?e;
\T1/pc
r/m/sl/10 a slanted f?e;
 []


Overfull \hbox (29.00006pt too wide) in paragraph at lines 37--37
\T1/pcr/b/n/10 a bold f?e; \T1/pcr/b/sl/10 a bold ital-ized f?e;
\T1/pcr/b/sc/1
0 a bold small-caps f?e;
 []

LaTeX Font Info:    Try loading font information for T1+phv on input line
38.
(d:/texmf/tex/latex/psnfss/t1phv.fd
File: t1phv.fd 1998/11/05 Fontinst v1.800 font definitions for T1/phv.
)
LaTeX Font Info:    Font shape `T1/phv/m/it' in size <10> not available
(Font)              Font shape `T1/phv/m/sl' tried instead on input line
38.
LaTeX Font Info:    Font shape `T1/phv/bx/n' in size <10> not available
(Font)              Font shape `T1/phv/b/n' tried instead on input line 38.
LaTeX Font Info:    Font shape `T1/phv/bx/it' in size <10> not available
(Font)              Font shape `T1/phv/b/it' tried instead on input line
38.
LaTeX Font Info:    Font shape `T1/phv/b/it' in size <10> not available
(Font)              Font shape `T1/phv/b/sl' tried instead on input line
38.
LaTeX Font Info:    Font shape `T1/phv/bx/sc' in size <10> not available
(Font)              Font shape `T1/phv/b/sc' tried instead on input line
38.
LaTeX Font Info:    Font shape `T1/phv/bx/sl' in size <10> not available
(Font)              Font shape `T1/phv/b/sl' tried instead on input line
38.
LaTeX Font Info:    Try loading font information for T1+pnc on input line
39.
 (d:/texmf/tex/latex/psnfss/t1pnc.fd
File: t1pnc.fd 1998/11/05 Fontinst v1.800 font definitions for T1/pnc.
)

LaTeX Font Warning: Font shape `T1/pnc/m/n' undefined
(Font)              using `T1/cmr/m/n' instead on input line 39.


LaTeX Font Warning: Font shape `T1/pnc/m/it' undefined
(Font)              using `T1/pnc/m/n' instead on input line 39.


LaTeX Font Warning: Font shape `T1/pnc/m/sc' undefined
(Font)              using `T1/pnc/m/n' instead on input line 39.


LaTeX Font Warning: Font shape `T1/pnc/m/sl' undefined
(Font)              using `T1/pnc/m/n' instead on input line 39.


LaTeX Font Warning: Font shape `T1/pnc/bx/n' undefined
(Font)              using `T1/pnc/m/n' instead on input line 39.


LaTeX Font Warning: Font shape `T1/pnc/bx/it' undefined
(Font)              using `T1/pnc/bx/n' instead on input line 39.


LaTeX Font Warning: Font shape `T1/pnc/bx/sc' undefined
(Font)              using `T1/pnc/bx/n' instead on input line 39.


LaTeX Font Warning: Font shape `T1/pnc/bx/sl' undefined
(Font)              using `T1/pnc/bx/n' instead on input line 39.

LaTeX Font Info:    Try loading font information for T1+ppl on input line
40.
(d:/texmf/tex/latex/psnfss/t1ppl.fd
File: t1ppl.fd 1998/11/05 Fontinst v1.800 font definitions for T1/ppl.
)
LaTeX Font Info:    Font shape `T1/ppl/bx/n' in size <10> not available
(Font)              Font shape `T1/ppl/b/n' tried instead on input line 40.
LaTeX Font Info:    Font shape `T1/ppl/bx/it' in size <10> not available
(Font)              Font shape `T1/ppl/b/it' tried instead on input line
40.
LaTeX Font Info:    Font shape `T1/ppl/bx/sc' in size <10> not available
(Font)              Font shape `T1/ppl/b/sc' tried instead on input line
40.
LaTeX Font Info:    Font shape `T1/ppl/bx/sl' in size <10> not available
(Font)              Font shape `T1/ppl/b/sl' tried instead on input line
40.
LaTeX Font Info:    Font shape `T1/ptm/bx/n' in size <10> not available
(Font)              Font shape `T1/ptm/b/n' tried instead on input line 41.
LaTeX Font Info:    Font shape `T1/ptm/bx/it' in size <10> not available
(Font)              Font shape `T1/ptm/b/it' tried instead on input line
41.
LaTeX Font Info:    Font shape `T1/ptm/bx/sc' in size <10> not available
(Font)              Font shape `T1/ptm/b/sc' tried instead on input line
41.
LaTeX Font Info:    Font shape `T1/ptm/bx/sl' in size <10> not available
(Font)              Font shape `T1/ptm/b/sl' tried instead on input line
41.
LaTeX Font Info:    Try loading font information for T1+pzc on input line
42.
 (d:/texmf/tex/latex/psnfss/t1pzc.fd
File: t1pzc.fd 1998/11/05 Fontinst v1.800 font definitions for T1/pzc.
)

LaTeX Font Warning: Font shape `T1/pzc/m/n' undefined
(Font)              using `T1/cmr/m/n' instead on input line 42.

LaTeX Font Info:    Font shape `T1/pzc/m/it' in size <10> not available
(Font)              Font shape `T1/pzc/mb/it' tried instead on input line
42.

LaTeX Font Warning: Font shape `T1/pzc/m/sc' undefined
(Font)              using `T1/pzc/m/n' instead on input line 42.

LaTeX Font Info:    Font shape `T1/pzc/m/sl' in size <10> not available
(Font)              Font shape `T1/pzc/mb/sl' tried instead on input line
42.
LaTeX Font Info:    Font shape `T1/pzc/mb/sl' in size <10> not available
(Font)              Font shape `T1/pzc/mb/it' tried instead on input line
42.

LaTeX Font Warning: Font shape `T1/pzc/bx/n' undefined
(Font)              using `T1/pzc/m/n' instead on input line 42.


LaTeX Font Warning: Font shape `T1/pzc/bx/it' undefined
(Font)              using `T1/pzc/bx/n' instead on input line 42.


LaTeX Font Warning: Font shape `T1/pzc/bx/sc' undefined
(Font)              using `T1/pzc/bx/n' instead on input line 42.


LaTeX Font Warning: Font shape `T1/pzc/bx/sl' undefined
(Font)              using `T1/pzc/bx/n' instead on input line 42.

[1

[d:/texmf/pdftex/config/psfonts.map][d:/texmf/pdftex/config/lw35.map][d:/texmf/

pdftex/config/rawfonts.map][d:/texmf/dvips/cspsfonts/csfontd.mapfile]]
LaTeX Font Info:    External font `cmex10' loaded for size
(Font)              <7> on input line 45.
LaTeX Font Info:    External font `cmex10' loaded for size
(Font)              <5> on input line 45.

[2] (test1.aux)

LaTeX Font Warning: Some font shapes were not available, defaults
substituted.

 )
Here is how much of TeX's memory you used:
 817 strings out of 50635
 8136 string characters out of 443719
 49012 words of memory out of 1500001
 3751 multiletter control sequences out of 10000+15000
 107786 words of font info for 111 fonts, out of 200000 for 1000
 14 hyphenation exceptions out of 1000
 24i,8n,17p,133b,255s stack positions out of 1500i,500n,1500p,50000b,5000s

Warning: pdflatex.exe (file phvro8rn): Font phvro8rn at 600 not found

Warning: pdflatex.exe (file phvr8rn): Font phvr8rn at 600 not found

Warning: pdflatex.exe (file pzcmi8r): Font pzcmi8r at 600 not found
<8r.enc><pplb8a.pfb><pplbi8a.pfb><pplb8a.pfb><pplr8a.pfb><pplri8a.pfb><pplr8a.p

fb><pbkd8a.pfb><pbkdi8a.pfb><pbkd8a.pfb>
Warning: pdflatex.exe (file pbklo8a.pfb): cannot open Type 1 font file for
read
ing

Warning: pdflatex.exe (file pbklo8a.pfb): cannot read key `FontName' from
font
file, used value from map file
<pbkli8a.pfb><pbkl8a.pfb>
<d:/texmf/fonts/pk/ljfour/jknappen/ec/ecrm1000.600pk>
Output written on test1.pdf (2 pages, 193489 bytes).

========================================================
=============end of test1.log===========================
========================================================


From karl at freefriends.org  Wed Mar 24 20:53:56 2004
From: karl at freefriends.org (Karl Berry)
Date: Wed Mar 24 20:57:34 2004
Subject: [tex-live] encTeX, 8bit encoding, ...
In-Reply-To: <87zna6xg60.fsf@infovore.xs4all.nl>
Message-ID: <200403241953.i2OJruE28969@f7.net>

    where we do not want it (e.g, trip test, plain and possibly latex as

I'm not clear on what the choices are, and pros/cons of each.  Can
someone explain, briefly?

What I do know is that last year we had a last minute foofaraw because
standard Latin 1 characters were getting translated to ^^ notation,
which is why cp8bit.tcx got created in the first place.  It would be
good to avoid that this year :).
From te at dbs.uni-hannover.de  Wed Mar 24 23:27:37 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Wed Mar 24 23:28:04 2004
Subject: [tex-live] pdfetex the default engine
Message-ID: <20040324222737.GE25875@dbs.uni-hannover.de>

Even though it seems like a good idea to help people using broken code by
   \let\pdfoutput\undefined
I no longer think that we should do this.

\pdfoutput is not the only primitive added by pdftex and not everybody
checks for \pdfoutput. E.g. geometry does:

  \ifx\pdfpagewidth\@undefined\else
    \ifnum\pdfoutput=\@ne
      \Gm@setdriver{pdftex}%
    \fi
  \fi

This breaks badly if we \let\pdfoutput\undefined.

So, really, I think that it is (to some extend) ok that bad code breaks,
but we should not make dirty hacks that breaks existing good code.

For teTeX, I have checked all macro packages by looking at every single
file that uses \pdfoutput. changebar still needs to be fixed, ltnews.cls
(not that important, I think) needs to be fixed and texinfo is fixed.
Everything else (in teTeX) looks ok. Maybe, someone should do the same
check for TeX Live.

Thomas
From karl at freefriends.org  Wed Mar 24 23:49:39 2004
From: karl at freefriends.org (Karl Berry)
Date: Wed Mar 24 23:50:06 2004
Subject: [tex-live] pdfetex the default engine
In-Reply-To: <20040324222737.GE25875@dbs.uni-hannover.de>
Message-ID: <200403242249.i2OMndM16209@f7.net>

    \pdfoutput is not the only primitive added by pdftex and not everybody
    checks for \pdfoutput. E.g. geometry does:

So, how about undefining all the primitives.

Existing code mostly assumes that latex/ do not have pdf primitives, and
pdflatex/pdftex do.   This does not seem like an unreasonable assumption
to me, although I agree that an ifpdf.sty-like-approach is what we
should recommend.

Even after fixing every single package on TL (doable, I suppose), it
will be painful for the users to break their existing documents when
they happen to use an old package with a new tex (happens all the time),
or if they test for \pdfoutput (or whatever) directly in their documents
-- which they do.  I've done it myself, many times.
From staw at gust.org.pl  Thu Mar 25 04:18:54 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Thu Mar 25 04:12:04 2004
Subject: [tex-live] pdfetex the default engine
In-Reply-To: <200403242249.i2OMndM16209@f7.net>
Message-ID: <Pine.LNX.4.44.0403250248380.13649-100000@re86.internetdsl.tpnet.pl>

On Wed, 24 Mar 2004, Karl Berry wrote:

>     \pdfoutput is not the only primitive added by pdftex and not everybody
>     checks for \pdfoutput. E.g. geometry does:
> 
> So, how about undefining all the primitives.
> 
> Existing code mostly assumes that latex/ do not have pdf primitives, and
> pdflatex/pdftex do.   This does not seem like an unreasonable assumption
> to me, although I agree that an ifpdf.sty-like-approach is what we
> should recommend.
> 
> Even after fixing every single package on TL (doable, I suppose), it
> will be painful for the users to break their existing documents when
> they happen to use an old package with a new tex (happens all the time),
> or if they test for \pdfoutput (or whatever) directly in their documents
> -- which they do.  I've done it myself, many times.

Well, I can only add that we cannot fix every package without contacting
the authors.

My assumption is that running _latex_ means loading the _core base_
macros dumped to the latex format and should be completely transparent
from the users point of view. Every addition could be also considered
as breaking LaTeX guidelines. Forcing people to use ifpdf.sty 
seems to be unacceptable if they need just _latex_
What to do? Perhaps adding to pdf(e)tex any general switch-off
for pdf concerned stuff? This would make pdftex really compatible
with nopdf engines...

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From te at dbs.uni-hannover.de  Thu Mar 25 07:04:42 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Thu Mar 25 07:05:10 2004
Subject: [tex-live] pdfetex the default engine
In-Reply-To: <Pine.LNX.4.44.0403250248380.13649-100000@re86.internetdsl.tpnet.pl>
References: <200403242249.i2OMndM16209@f7.net>
	<Pine.LNX.4.44.0403250248380.13649-100000@re86.internetdsl.tpnet.pl>
Message-ID: <20040325060442.GA4693@dbs.uni-hannover.de>

> What to do? Perhaps adding to pdf(e)tex any general switch-off
> for pdf concerned stuff? This would make pdftex really compatible
> with nopdf engines...

Well, as long as we stick with latex -> pdfetex, there will always be
a way that people run into trouble by not using that switch.  Assume,
that people have some application that first dumps a new format file
which does not use that switch and which does not use our .ini files.

I still hope that we can make it *one* engine and to let the TeX community
learn that pdf*tex can well generate dvi and that pdf-aware macros have
to be written more carefully. If we really fear about the additional pdf
primitives to break too much things, than we should not use pdf*tex for
formats which are used for creating dvi.

Thomas
From petr at olsak.net  Thu Mar 25 09:54:02 2004
From: petr at olsak.net (Petr Olsak)
Date: Thu Mar 25 09:57:40 2004
Subject: [tex-live] encTeX, 8bit encoding, ...
In-Reply-To: <87zna6xg60.fsf@infovore.xs4all.nl>
Message-ID: <Pine.LNX.4.44.0403250935070.32501-100000@newton.feld.cvut.cz>


On Wed, 24 Mar 2004, Olaf Weber wrote:

> Staszek Wawrykiewicz writes:
> > On Wed, 24 Mar 2004, Olaf Weber wrote:
>
> >>>> - A "genuine" -8bit switch that installs the identity xord/xchr
> >>>>   mapping and makes everything printable.
>
> >>>> The last is effectively a shorthand for --translate-file=8bit.tcx
> >>>> where where 8bit.tcx implements this mapping (cp8bit.tcx does less
> >>>> than its name promises).
>
> >> Note that one reason I dislike this (somewhat) is that it is yet
> >> another switch where the interaction with TCX and encTeX has to be
> >> determined and spelled out.
>
> > I think that this switch is not needed (I also dislike that). We can have
> > a consent that 8bit.tcx is loaded by default if tcx or -enc is not used,
> > as it was done in TL2003. So Hans, Daniel and some other would be happy.
>
> Automagically loading a TCX is a hack I dislike:
>
> encTeX and TCX bite each other.  Automatically loading a TCX is a
> problem because it means that encTeX will always encounter a TCX
> unless the -enc option is given on each run.  But the -enc option
> otherwise only makes a difference for iniTeX, and I _don't_ think it
> is a good idea to force people to always specify it.

My first idea: implement the -8bit option with little different behavior
than -translate-file=8bit.tcx:
If -enc option in iniTeX or encTeXed-format is used then -8bit option is
ignored (only warning message in log may be printed).

Second idea: if -enc option in iniTeX or encTeXed-format is used then
printing to log+terminal is totally independent on locales.

Third idea: Storing of xord/xchr/xprn in non-encTeX-formats is unusefull,
IMHO. If user want this behavior then he can use encTeXed-format with all
encTeX primitives disabled (by \let\xordcode=\undefined etc.) This is
exactly the same as storing xord/xchr/xprn in non-encTeX-format. But I
don't insist on this idea.

Best regards

Petr Olsak

From pragma at wxs.nl  Thu Mar 25 10:30:21 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Mar 25 10:30:53 2004
Subject: [tex-live] pdfetex the default engine
In-Reply-To: <20040324222737.GE25875@dbs.uni-hannover.de>
References: <20040324222737.GE25875@dbs.uni-hannover.de>
Message-ID: <6.0.1.1.2.20040325101353.01e50b78@server-1>

At 23:27 24/03/2004, Thomas Esser wrote:
>Even though it seems like a good idea to help people using broken code by
>    \let\pdfoutput\undefined
>I no longer think that we should do this.
>
>\pdfoutput is not the only primitive added by pdftex and not everybody
>checks for \pdfoutput. E.g. geometry does:
>
>   \ifx\pdfpagewidth\@undefined\else
>     \ifnum\pdfoutput=\@ne
>       \Gm@setdriver{pdftex}%
>     \fi
>   \fi
>
>This breaks badly if we \let\pdfoutput\undefined.
>
>So, really, I think that it is (to some extend) ok that bad code breaks,
>but we should not make dirty hacks that breaks existing good code.
>
>For teTeX, I have checked all macro packages by looking at every single
>file that uses \pdfoutput. changebar still needs to be fixed, ltnews.cls
>(not that important, I think) needs to be fixed and texinfo is fixed.
>Everything else (in teTeX) looks ok. Maybe, someone should do the same
>check for TeX Live.

let's assume that pdfoutput and alike are used in situations where one 
wants to determine if pdftex is used and if pdf mode is enabled, i.e. we 
cannot easily change their meanings (in itself a pity, since i can imagine 
\pdfoutput>1 to be useful)

in etex, there is this compatibilitymode feature, currently controlled by 
the *, as well as the \...state mechanism (only one state currently, but 
the idea was to have one for each new feature that would interfere with 
previous behaviour)

so, how about

   \pdfstate=0 : all pdftex primitives undefined
   \pdfstate=1 : all pdftex primitives defined

with (since it's pdftex) state 1 being teh default; that way one can 
generate a dvi format with \pdfstate0 on the command line;

also, looking at the * feature, we can think of adding

--dvi : equivalent to \pdfstate=0 == all pdftex primitives undefined
--tex : (or --dek) which is equivalent to the (somewhat funny * triggered) 
compatibility mode of tex

so, we can get old tex's with:

pdfetex : <nothing>
pdftex  : --dek
etex    : --dvi
tex     : --dek

Hans


From karl at freefriends.org  Thu Mar 25 15:14:23 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Mar 25 15:14:51 2004
Subject: [tex-live] pdfetex the default engine
In-Reply-To: <6.0.1.1.2.20040325101353.01e50b78@server-1>
Message-ID: <200403251414.i2PEEN623231@f7.net>

       \pdfstate=0 : all pdftex primitives undefined
       \pdfstate=1 : all pdftex primitives defined

That sounds fine, if it can be implemented for this year.

    Well, as long as we stick with latex -> pdfetex, there will always be
    a way that people run into trouble by not using that switch.  

Agreed there are always some situations that won't be covered.  That's
true for just about any change at all.

If we undefine the usual pdf primitives, either through .ini files or a
new primitive, we'll have done the best we can do.  And I think that is
pretty good, very few users will notice any problem, or have documents
that used to work and now don't.  Whereas if we do not undefine them,
many users *will* notice, and many documents will break.

So why not do the undefines and save ourselves and everyone else a lot
of headache?
From pragma at wxs.nl  Thu Mar 25 15:33:51 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Mar 25 15:39:21 2004
Subject: [tex-live] pdfetex the default engine
In-Reply-To: <200403251414.i2PEEN623231@f7.net>
References: <6.0.1.1.2.20040325101353.01e50b78@server-1>
	<200403251414.i2PEEN623231@f7.net>
Message-ID: <6.0.1.1.2.20040325153142.01e3ff78@server-1>

At 15:14 25/03/2004, you wrote:

>So why not do the undefines and save ourselves and everyone else a lot
>of headache?

btw, the danger of undefines is that they are lost while a state switch 
keeps them accessible, so, in case of undefines, we need:

   \let\normalpdfoutput=\pdfoutput \let\pdfoutput=\undefined

   etc

so that one can always say:

   \let\pdfoutput=\normalpdfoutput

(i have lots of those \normal... in context -)

Hans

From karl at freefriends.org  Thu Mar 25 15:43:26 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Mar 25 15:43:53 2004
Subject: [tex-live] pdfetex the default engine
In-Reply-To: <6.0.1.1.2.20040325153142.01e3ff78@server-1>
Message-ID: <200403251443.i2PEhQL30218@f7.net>

       \let\normalpdfoutput=\pdfoutput \let\pdfoutput=\undefined

Agreed.
From olaf at infovore.xs4all.nl  Thu Mar 25 20:03:12 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Thu Mar 25 20:03:38 2004
Subject: [tex-live] adds.
Message-ID: <87n064da1b.fsf@infovore.xs4all.nl>

I've submitted my changes to tex.ch, lib/texmfmp.c, and some other
stuff.

Some notes:

texk/web2c/Makefile.in
   Thomas, this may break fmtutil - if so, I'm sorry.

I note that texlive/development/TeX/Makefile.in omits pdftosrc, is
that deliberate?

I've added texk/web2c/man/pdftex.min and texk/web2c/man/pdfetex.min as
my versions of these manual pages.  Someone else may want to see if
there's anythimng worth merging with the new m4 cruft.

Please read the "encTeX, 8bit encoding, ..." thread.  It matters.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From pragma at wxs.nl  Fri Mar 26 16:22:56 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Mar 26 16:31:28 2004
Subject: [tex-live] kpsewhich 
Message-ID: <6.0.1.1.2.20040326161832.01e09b58@server-1>

Hi,

When using kpsewhich, there is a dependency on the OS

linux:

   kpsewhich -expand-var "\$SELFAUTOPARENT"
   kpsewhich -expand-var '$SELFAUTOPARENT'

windows

   kpsewhich -expand-var $SELFAUTOPARENT
   kpsewhich -expand-var "$SELFAUTOPARENT"

this means that it's rather uncomfortable to write scripts that are 
portable. So, i wonder if it's possible to make kpsewhich in this respect 
platform independent.

for instance:

   -expand-var

expects a var, so maybe supporting

   kpsewhich -expand-var SELFAUTOPARENT

makes sense as well.

Hans



-------------------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE/POD/CTS
                       Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
  tel: +31 (0)38 477 53 69 | fax: +31 (0)38 477 53 74 | www.pragma-ade.com
-------------------------------------------------------------------------
                        information: http://www.pragma-ade.com/roadmap.pdf
                     documentation: http://www.pragma-ade.com/showcase.pdf
-------------------------------------------------------------------------

From karl at freefriends.org  Fri Mar 26 17:08:06 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Mar 26 17:08:34 2004
Subject: [tex-live] kpsewhich 
In-Reply-To: <6.0.1.1.2.20040326161832.01e09b58@server-1>
Message-ID: <200403261608.i2QG86118025@f7.net>

       kpsewhich -expand-var "\$SELFAUTOPARENT"
       kpsewhich -expand-var '$SELFAUTOPARENT'

Does \$SELFAUTOPARENT work on Windows?
From te at dbs.uni-hannover.de  Fri Mar 26 17:11:48 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Fri Mar 26 17:12:16 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <6.0.1.1.2.20040326161832.01e09b58@server-1>
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
Message-ID: <20040326161148.GB16475@dbs.uni-hannover.de>

> When using kpsewhich, there is a dependency on the OS

It is not kpsewhich which causes this, it is the call to execute a shell
command and the underlying interpreter which causes these differences.

You could easily wrap the different $ of the shells by wrapping things
in a quotevar  function, so that you could write
  kpsewhich -expand-var quotevar('$SELFAUTOPARENT')
everywhere.

> portable. So, i wonder if it's possible to make kpsewhich in this respect 
> platform independent.

kpsewhich *is* platform independent. The underlying shells are not...
If you write a C program which calls execl(), you'll see that there is
no difference in parsing the $.

Thomas
From beebe at math.utah.edu  Fri Mar 26 17:17:23 2004
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Fri Mar 26 17:17:51 2004
Subject: [tex-live] kpsewhich
Message-ID: <CMM.0.92.0.1080317843.beebe@psi.math.utah.edu>

I agree with Hans Hagen's sentiments: -expand-var should be followed
by a variable name, not the backslash and quote-protected expansion
thereof that is awkward to type, and nonportable between Unix and
Windows.  The program can easily invoke getenv() to get the value of
the named variable.  I too would therefore like to see

	kpsewhich -expand-var SELFAUTOPARENT

For the book that I'm co-authoring, we developed a script that works
like this:

	% pathfind PATH gcc
	/usr/local/bin/gcc

	% pathfind --all PATH gcc
	/usr/local/bin/gcc
	/usr/bin/gcc
	/usr/local/gnat/bin/gcc

	% pathfind TEXFONTS cmr10.tfm cmman.pfb
	/usr/local/lib/tex/fonts/cm/tfms/cmr10.tfm
	/usr/local/lib/tex/fonts/ps/cmman.pfb

Using the name of the variable, rather than its value, is much
cleaner.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe@math.utah.edu  -
- 155 S 1400 E RM 233                       beebe@acm.org  beebe@computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------
From karl at freefriends.org  Thu Mar 25 16:26:08 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Mar 26 17:21:40 2004
Subject: [tex-live] help using basic postscript fonts with TexLive4 CD
In-Reply-To: <OFFE9C6208.A2C445FB-ON86256E61.006C334C@harcourtbrace.com>
Message-ID: <200403251526.i2PFQ8u09135@f7.net>

    Can someone read its log & tell me why these basic
    postscript fonts in test1.tex program do not work?

When I run texlive4/texmf/doc/latex/psnfss/test1.tex through TL 4's
pdflatex, I find some fonts (avant garde, century schoolbook, zapf
chancery, helvetica narrow) to be missing.  That looks to be the source
of most the errors you noted in the log.  I'm not clear on what the
problem is, they are in the lw35.map file which got read.  I can't say
I'm enthused about delving deeper into this old distribution ...

The other fonts (palatino, times, etc.) look ok.  I'll attach my
resulting .pdf so you can compare with yours.
    
    Someone said I should get a newer version of TexLive.  I can do that
    if needed but I wanted to confirm that my March 1999 CD is
    inadequate before I rejoin TUG in order to get (I hope) a newer,
    fixed TexLive CD.

You can also download the image from CTAN (please choose the nearest
mirror, since it's such a huge file), or buy the CD without joining
(http://tug.org/store), if you don't care about TUGboat, etc.  Of course
we'll appreciate any support :).

HTH,
karl (TUG president :)

From pragma at wxs.nl  Fri Mar 26 17:31:44 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Mar 26 17:42:34 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <20040326161148.GB16475@dbs.uni-hannover.de>
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
	<20040326161148.GB16475@dbs.uni-hannover.de>
Message-ID: <6.0.1.1.2.20040326172418.01e099f0@server-1>

Hi Thomas,

> > When using kpsewhich, there is a dependency on the OS
>
>It is not kpsewhich which causes this, it is the call to execute a shell
>command and the underlying interpreter which causes these differences.

sure, but usage of kpsewhich should be similar on all platforms, i.e. for 
all things that would cause such interpreter dependencies, there should be 
escapes

>You could easily wrap the different $ of the shells by wrapping things
>in a quotevar  function, so that you could write
>   kpsewhich -expand-var quotevar('$SELFAUTOPARENT')
>everywhere.
>
> > portable. So, i wonder if it's possible to make kpsewhich in this respect
> > platform independent.
>
>kpsewhich *is* platform independent. The underlying shells are not...

indeed, which is why i gave the 4 examples

>If you write a C program which calls execl(), you'll see that there is
>no difference in parsing the $.

i'm aware of the differences in shell expansion (and taking care of it in 
the process of keeping scripts multiplatform has messed up many scripts i 
made) -)

the fact that kpsewhich uses this $ and that the $ is a platform related 
feature, makes kpsewhich kind of platform dependent and just as tds aims ar 
being as independent as possible (for instance in putting constraints on 
filenames)

this is comparable to the & used for format loading in tex: the --fmt 
provides a way out; so either expand-var should accept a NAME or there 
should be something expand-var-assuming-a-dollar-in-front

(this expansion problem is one reason why in most cases i write ruby or 
perl scripts instead of batch or shell scripts -)

Hans

From pragma at wxs.nl  Fri Mar 26 17:33:18 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Mar 26 17:42:39 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <200403261608.i2QG86118025@f7.net>
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
	<200403261608.i2QG86118025@f7.net>
Message-ID: <6.0.1.1.2.20040326173246.01e63ff8@server-1>

At 17:08 26/03/2004, you wrote:
>        kpsewhich -expand-var "\$SELFAUTOPARENT"
>        kpsewhich -expand-var '$SELFAUTOPARENT'
>
>Does \$SELFAUTOPARENT work on Windows?

 >kpsewhich -expand-var \$SELFAUTOPARENT
\e:/tex

so, a \ is inserted in front

Hans  

From pragma at wxs.nl  Fri Mar 26 19:17:03 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Mar 26 19:17:46 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <200403261608.i2QG86118025@f7.net>
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
	<200403261608.i2QG86118025@f7.net>
Message-ID: <6.0.1.1.2.20040326191112.01e11e40@server-1>

At 17:08 26/03/2004, you wrote:
>        kpsewhich -expand-var "\$SELFAUTOPARENT"
>        kpsewhich -expand-var '$SELFAUTOPARENT'
>
>Does \$SELFAUTOPARENT work on Windows?

concerning this shell expansion ...

it seems already painful to support two operating systems 
(windows/unix+clones); imagine what would happen if nice alternatives like 
beos or amigaos or the acorn one had taken off (i.e if we had the diversity 
on enormally encounters, take for instance cars as a comparison) ... we 
would be in big troubles then, wouldn't we?

so, maybe we should look at all scripts/tools and get rid of all things 
that somehow may interfere with os specific things, a kind of micro tex-os 
like environment built into kpse:

   kpsewhich --envvar=WHATEVER

then returns the meaning of $WHATEVER or %WHATEVER% or WHATEVER* the os env 
var is set to

this particularly starts making sense when kpse becomes a service (deamon) 
and speed is no issue

Hans


From olaf at infovore.xs4all.nl  Fri Mar 26 19:30:18 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Fri Mar 26 20:23:28 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <6.0.1.1.2.20040326161832.01e09b58@server-1> (Hans Hagen's
	message of "Fri, 26 Mar 2004 16:22:56 +0100")
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
Message-ID: <874qsbzcjp.fsf@infovore.xs4all.nl>

Hans Hagen writes:

> Hi,
> When using kpsewhich, there is a dependency on the OS

> linux:

>    kpsewhich -expand-var "\$SELFAUTOPARENT"
>    kpsewhich -expand-var '$SELFAUTOPARENT'

> windows

>    kpsewhich -expand-var $SELFAUTOPARENT
>    kpsewhich -expand-var "$SELFAUTOPARENT"

> this means that it's rather uncomfortable to write scripts that are
> portable. So, i wonder if it's possible to make kpsewhich in this
> respect platform independent.

> for instance:

>    -expand-var

> expects a var, so maybe supporting

>    kpsewhich -expand-var SELFAUTOPARENT

> makes sense as well.

Basically,
	kpsewhich -expand-var <string>
which gives the "variable expansion" of <string>.  That is, <string>
can be an expression that contains multiple variables.  This feature
is also true for -expand-braces and -expand-path, and is actually used
in a few places, in ways that I'd rather not have to work around.  So
I'd rather keep -expand-var the way it is.

On the other hand, how about saying that
	kpsewhich -var-value <string>
interprets <string> as the name of a variable and that it will give
its value (if any), with no '$' required?

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From olaf at infovore.xs4all.nl  Fri Mar 26 19:55:13 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Fri Mar 26 20:23:31 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <6.0.1.1.2.20040326191112.01e11e40@server-1> (Hans Hagen's
	message of "Fri, 26 Mar 2004 19:17:03 +0100")
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
	<200403261608.i2QG86118025@f7.net>
	<6.0.1.1.2.20040326191112.01e11e40@server-1>
Message-ID: <87zna3xwtq.fsf@infovore.xs4all.nl>

Hans Hagen writes:

> concerning this shell expansion ...

> it seems already painful to support two operating systems
> (windows/unix+clones); imagine what would happen if nice alternatives
> like beos or amigaos or the acorn one had taken off (i.e if we had the
> diversity on enormally encounters, take for instance cars as a
> comparison) ... we would be in big troubles then, wouldn't we?

You mean in the way some cars have the break to the right of the
accelerator?

> so, maybe we should look at all scripts/tools and get rid of all
> things that somehow may interfere with os specific things, a kind of
> micro tex-os like environment built into kpse:

>    kpsewhich --envvar=WHATEVER

> then returns the meaning of $WHATEVER or %WHATEVER% or WHATEVER* the
> os env var is set to

This works for a single variable.  It does not work for more general
expressions, like

	kpsewhich -expand-path='{$SYSTEXMF}/fonst'

> this particularly starts making sense when kpse becomes a service
> (deamon) and speed is no issue

Variable expansion isn't going to move to the daemon: as a separate
process, possibly on a separate machine, it wouldn't be able to obtain
the correct values.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From pragma at wxs.nl  Fri Mar 26 20:33:22 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Mar 26 20:34:40 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <87zna3xwtq.fsf@infovore.xs4all.nl>
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
	<200403261608.i2QG86118025@f7.net>
	<6.0.1.1.2.20040326191112.01e11e40@server-1>
	<87zna3xwtq.fsf@infovore.xs4all.nl>
Message-ID: <6.0.1.1.2.20040326203018.01e05e48@server-1>

At 19:55 26/03/2004, Olaf Weber wrote:

>You mean in the way some cars have the break to the right of the
>accelerator?

no, more like the steer on the left / right -)

> > so, maybe we should look at all scripts/tools and get rid of all
> > things that somehow may interfere with os specific things, a kind of
> > micro tex-os like environment built into kpse:
>
> >    kpsewhich --envvar=WHATEVER
>
> > then returns the meaning of $WHATEVER or %WHATEVER% or WHATEVER* the
> > os env var is set to
>
>This works for a single variable.  It does not work for more general
>expressions, like
>
>         kpsewhich -expand-path='{$SYSTEXMF}/fonst'

hm, then how about some kind of syntax:

   -expand-path='var(SYSTEXMF)/fonts'

that would be upward compatible, wouldn't it?


Hans  

From olaf at infovore.xs4all.nl  Fri Mar 26 21:55:20 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Fri Mar 26 21:55:48 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <6.0.1.1.2.20040326161832.01e09b58@server-1> (Hans Hagen's
	message of "Fri, 26 Mar 2004 16:22:56 +0100")
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
Message-ID: <87ptazxr9j.fsf@infovore.xs4all.nl>

Hans Hagen writes:

> Hi,
> When using kpsewhich, there is a dependency on the OS

> linux:

>    kpsewhich -expand-var "\$SELFAUTOPARENT"
>    kpsewhich -expand-var '$SELFAUTOPARENT'

> windows

>    kpsewhich -expand-var $SELFAUTOPARENT
>    kpsewhich -expand-var "$SELFAUTOPARENT"

Just for a lark, how about

	kpsewhich -expand-var "$"SELFAUTOPARENT

> this means that it's rather uncomfortable to write scripts that are
> portable. So, i wonder if it's possible to make kpsewhich in this
> respect platform independent.

On consideration, I'm not sure what you mean by "platform independent"
in this case.  Clearly a script cannot be interpreter-independent; a
script written for sh won't run under csh, perl, ruby, or command.com.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From pragma at wxs.nl  Fri Mar 26 21:46:48 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Mar 26 22:12:48 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <874qsbzcjp.fsf@infovore.xs4all.nl>
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
	<874qsbzcjp.fsf@infovore.xs4all.nl>
Message-ID: <6.0.1.1.2.20040326214615.01e05c68@server-1>

At 19:30 26/03/2004, Olaf Weber wrote:

>On the other hand, how about saying that
>         kpsewhich -var-value <string>
>interprets <string> as the name of a variable and that it will give
>its value (if any), with no '$' required?

sounds ok to me,

thanks

Hans  

From pragma at wxs.nl  Fri Mar 26 22:15:17 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Mar 26 22:16:21 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <87ptazxr9j.fsf@infovore.xs4all.nl>
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
	<87ptazxr9j.fsf@infovore.xs4all.nl>
Message-ID: <6.0.1.1.2.20040326221208.039e0640@server-1>

At 21:55 26/03/2004, Olaf Weber wrote:

>On consideration, I'm not sure what you mean by "platform independent"
>in this case.  Clearly a script cannot be interpreter-independent; a
>script written for sh won't run under csh, perl, ruby, or command.com.

with scripts i mean perl/ruby etc, not sh or bat or some os specific 
language; calling kpsewhich from perl/ruby etc or launching a program is 
kind of messy as well since then escaping needs to be os specific; the less 
i have to do that ...

it's also the reason why i'd like to see ruby/perl/etc kpse libraries, 
which is not that hard to accomplish using "swig" (i did that once for xpdf)

Hans     

From olaf at infovore.xs4all.nl  Fri Mar 26 22:20:17 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Fri Mar 26 22:20:43 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <6.0.1.1.2.20040326203018.01e05e48@server-1> (Hans Hagen's
	message of "Fri, 26 Mar 2004 20:33:22 +0100")
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
	<200403261608.i2QG86118025@f7.net>
	<6.0.1.1.2.20040326191112.01e11e40@server-1>
	<87zna3xwtq.fsf@infovore.xs4all.nl>
	<6.0.1.1.2.20040326203018.01e05e48@server-1>
Message-ID: <87lllnxq3y.fsf@infovore.xs4all.nl>

Hans Hagen writes:
> At 19:55 26/03/2004, Olaf Weber wrote:

>>> so, maybe we should look at all scripts/tools and get rid of all
>>> things that somehow may interfere with os specific things, a kind of
>>> micro tex-os like environment built into kpse:

>>>    kpsewhich --envvar=WHATEVER

>>> then returns the meaning of $WHATEVER or %WHATEVER% or WHATEVER* the
>>> os env var is set to

Note that the syntax of environment variables is not determined by the
OS.  It is determined by the interpreter retrieving the variables.
Where command.com wants %FOO%, bash on the same OS wants $FOO.

The problem seems to be that handing off a command to the "default
interpreter" with a system(3) call is problematic, because the
interpreter will interpret the string in an interpreter-specific
manner.

>> This works for a single variable.  It does not work for more general
>> expressions, like

>> kpsewhich -expand-path='{$SYSTEXMF}/fonst'

> hm, then how about some kind of syntax:

>    -expand-path='var(SYSTEXMF)/fonts'

> that would be upward compatible, wouldn't it?

Not really, as it turns previously-uninterpreted text into something
that is interpreted.

Of course, what happens when I run this on an OS where the default
interpreter has its own ideas on the meaning of 'var(...)'?

What you need for this is to use an interpreter that can, in a way
that is common to all its incarnations on different OSes, be
instructed to start _this_ command with _these_ arguments, and have
the arguments treated as literal strings.  If the interpreter doesn't
allow for that, than _it_ cannot be used for OS-independent work that
involves calling helper programs.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From staw at gust.org.pl  Sat Mar 27 05:17:12 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Sat Mar 27 05:09:10 2004
Subject: [tex-live] aleph for TL
Message-ID: <Pine.LNX.4.44.0403270427340.16905-100000@re86.internetdsl.tpnet.pl>

Thanks to Giuseppe I've introduced _minimal_ docs for aleph in p4 depot.
I also moved .ini files from texmf-dist/aleph to texmf-dist/tex/aleph/
(following TDS). tpm for aleph is still missing and waiting for a better 
time.
Notes:
1. should lambda.ini rather go to tex/latex/config/ ?
2. the same with aleph.ini -> tex/plain/config/
as an example of hesitations:
tex/latex/config/mllatex.ini, pdflatex.ini etc.
tex/plain/config/etex.ini, pdftex.ini, but
tex/mltex/config/mltex.ini

For texmf.cnf generated from source.... we need TEXINPUTS.aleph 
(and TEXINPUTS.lambda change; .elambda, .eomega, .pdfemex to remove)

fmtutil.cnf: aleph and lambda entries; pdfetex and pdfemex* to remove

Ps. I hope that's nothing wrong that lambda uses now aleph engine
instead of omega.
 
-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From Gerben.Wierda at rna.nl  Sat Mar 27 07:59:28 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat Mar 27 07:59:33 2004
Subject: [tex-live] kpse finding tex4ht.env
Message-ID: <4A0CBD54-7FBC-11D8-97A5-003065B3343E@rna.nl>

Whatever I do and try, I am unable to find tex4ht.env with kpswhich. 
But it is available and it is in one or more ls-R's.

How should a file like tex4ht.env be found using kpsewhich? I am using 
source (stable) from Sep 2003, or in other words TL2003.

Thanks,

Gerben

From Fabrice.Popineau at supelec.fr  Sat Mar 27 09:10:32 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Sat Mar 27 09:10:26 2004
Subject: [tex-live] aleph for TL
In-Reply-To: <Pine.LNX.4.44.0403270427340.16905-100000@re86.internetdsl.tpnet.pl>
	(Staszek
	Wawrykiewicz's message of "Sat, 27 Mar 2004 05:17:12 +0100 (CET)")
References: <Pine.LNX.4.44.0403270427340.16905-100000@re86.internetdsl.tpnet.pl>
Message-ID: <3c7ur9qf.fsf@esemetz.metz.supelec.fr>


> Thanks to Giuseppe I've introduced _minimal_ docs for aleph in p4
> depot.  I also moved .ini files from texmf-dist/aleph to
> texmf-dist/tex/aleph/ (following TDS).

Please, aleph is a new engine, separate from tex, so the files should be under
texmf-dist/aleph, not texmf-dist/tex/aleph/ .

> tpm for aleph is still missing
> and waiting for a better time.  Notes: 1. should lambda.ini rather go
> to tex/latex/config/ ? 

texmf-dist/aleph/lambda/..

Fabrice

From Fabrice.Popineau at supelec.fr  Sat Mar 27 09:43:30 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Sat Mar 27 09:43:53 2004
Subject: [tex-live] aleph for TL
In-Reply-To: <Pine.LNX.4.44.0403270427340.16905-100000@re86.internetdsl.tpnet.pl>
	(Staszek
	Wawrykiewicz's message of "Sat, 27 Mar 2004 05:17:12 +0100 (CET)")
References: <Pine.LNX.4.44.0403270427340.16905-100000@re86.internetdsl.tpnet.pl>
Message-ID: <y8pmptn1.fsf@esemetz.metz.supelec.fr>


> Thanks to Giuseppe I've introduced _minimal_ docs for aleph in p4
> depot. 

BTW, these docs should go into texmf/doc/aleph/... no into texmf-dist/
and be referenced by TLCore/bin-aleph.tpm .

There shouldn't be any aleph tpm file in texmf-dist : there lambda.ini
will go the lambda package and aleph.ini to the plain package
automatically.

Fabrice

From te at dbs.uni-hannover.de  Sat Mar 27 11:04:34 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Mar 27 11:05:03 2004
Subject: [tex-live] aleph for TL
In-Reply-To: <3c7ur9qf.fsf@esemetz.metz.supelec.fr>
References: <Pine.LNX.4.44.0403270427340.16905-100000@re86.internetdsl.tpnet.pl>
	<3c7ur9qf.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040327100434.GB23366@dbs.uni-hannover.de>

> Please, aleph is a new engine, separate from tex, so the files should be under
> texmf-dist/aleph, not texmf-dist/tex/aleph/ .

All TeX inputs go into texmf/tex, no matter what the engine is. This is
one of the changes that we have introduced recently.

We no longer habe top-level directories for mltex, etex, pdftex, pdfetex.

Thomas
From Fabrice.Popineau at supelec.fr  Sat Mar 27 11:47:58 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Sat Mar 27 11:48:21 2004
Subject: [tex-live] aleph for TL
In-Reply-To: <20040327100434.GB23366@dbs.uni-hannover.de> (Thomas Esser's
	message of "Sat, 27 Mar 2004 11:04:34 +0100")
References: <Pine.LNX.4.44.0403270427340.16905-100000@re86.internetdsl.tpnet.pl>
	<3c7ur9qf.fsf@esemetz.metz.supelec.fr>
	<20040327100434.GB23366@dbs.uni-hannover.de>
Message-ID: <u10apnvl.fsf@esemetz.metz.supelec.fr>

>> Please, aleph is a new engine, separate from tex, so the files should
>> be under texmf-dist/aleph, not texmf-dist/tex/aleph/ .

> All TeX inputs go into texmf/tex, no matter what the engine is. This
> is one of the changes that we have introduced recently.

> We no longer habe top-level directories for mltex, etex, pdftex,
> pdfetex.

Sorry ? And what if these files can't be input by TeX (especially for
Aleph files!).

This is not exactly the way I read the TDS. I expected something clear :

texmf/<engine>/<format>/

Fabrice

From aa056 at chebucto.ns.ca  Sat Mar 27 12:49:39 2004
From: aa056 at chebucto.ns.ca (George N. White III)
Date: Sat Mar 27 12:50:21 2004
Subject: [tex-live] kpse finding tex4ht.env
In-Reply-To: <4A0CBD54-7FBC-11D8-97A5-003065B3343E@rna.nl>
References: <4A0CBD54-7FBC-11D8-97A5-003065B3343E@rna.nl>
Message-ID: <Pine.SGI.4.58.0403270748220.375440@montigo.bio.dfo.ca>

On Sat, 27 Mar 2004, Gerben Wierda wrote:

> Whatever I do and try, I am unable to find tex4ht.env with kpswhich.
> But it is available and it is in one or more ls-R's.
>
> How should a file like tex4ht.env be found using kpsewhich? I am using
> source (stable) from Sep 2003, or in other words TL2003.

$ kpsewhich --progname=tex4ht --format="other text files" tex4ht.env
/usr2/opt/texLive/texmf/tex4ht/base/tex4ht.env


--
George N. White III  <aa056@chebucto.ns.ca>
  Head of St. Margarets Bay, Nova Scotia, Canada

From aa056 at chebucto.ns.ca  Sat Mar 27 13:33:26 2004
From: aa056 at chebucto.ns.ca (George N. White III)
Date: Sat Mar 27 13:36:13 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <87lllnxq3y.fsf@infovore.xs4all.nl>
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
	<200403261608.i2QG86118025@f7.net>
	<6.0.1.1.2.20040326191112.01e11e40@server-1>
	<87zna3xwtq.fsf@infovore.xs4all.nl>
	<6.0.1.1.2.20040326203018.01e05e48@server-1>
	<87lllnxq3y.fsf@infovore.xs4all.nl>
Message-ID: <Pine.SGI.4.58.0403270752490.375440@montigo.bio.dfo.ca>

On Fri, 26 Mar 2004, Olaf Weber wrote:

> What you need for this is to use an interpreter that can, in a way
> that is common to all its incarnations on different OSes, be
> instructed to start _this_ command with _these_ arguments, and have
> the arguments treated as literal strings.  If the interpreter doesn't
> allow for that, than _it_ cannot be used for OS-independent work that
> involves calling helper programs.

Interpreting command-line args is not the only difference between
the various shells (*n*x *sh, command.com, cmd.exe, ???).
If you are going to start defining the requirements for a suitable
interpreter, don't forget to include calling a helper program
with an explicit path -- texexec.pl was broken on Win9x because
it tried to use "/" in explicit paths.

TexLive currently follows a unix-style approach that relies on many simple
programs working together.  Windows ports of these utilities don't always
deal with the differences in a consistent way, you can't be sure what
programs are installed on a given machine, and there are performance
issues.  fpTeX already provides perl and other tools that come with *n*x.
Maybe TL needs to provide a shell (one of the reasons our users loved
4allTeX).


--
George N. White III  <aa056@chebucto.ns.ca>
  Head of St. Margarets Bay, Nova Scotia, Canada
From karl at freefriends.org  Sat Mar 27 13:41:18 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Mar 27 13:41:46 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <Pine.SGI.4.58.0403270752490.375440@montigo.bio.dfo.ca>
Message-ID: <200403271241.i2RCfIr01395@f7.net>

    Interpreting command-line args 

How about an option to take args from a file (or stdin)?  That is,
kpsewhich --file=foo would read foo and interpret it as more arguments.

Then the perl/ruby/whatever script can write foo (in its
system-independent way) and call kpsewhich (in this
acceptable-to-all-systems simple way).   

If there's no quoting mechanism that works on both Windows and Unix,
there's no way to use any special characters on any command line (if you
want to write a script that runs on both without change).

From Fabrice.Popineau at supelec.fr  Sat Mar 27 14:51:41 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Sat Mar 27 14:52:12 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <Pine.SGI.4.58.0403270752490.375440@montigo.bio.dfo.ca> (George
	N. White, III's message of "Sat, 27 Mar 2004 08:33:26 -0400")
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
	<200403261608.i2QG86118025@f7.net>
	<6.0.1.1.2.20040326191112.01e11e40@server-1>
	<87zna3xwtq.fsf@infovore.xs4all.nl>
	<6.0.1.1.2.20040326203018.01e05e48@server-1>
	<87lllnxq3y.fsf@infovore.xs4all.nl>
	<Pine.SGI.4.58.0403270752490.375440@montigo.bio.dfo.ca>
Message-ID: <lllmpfde.fsf@esemetz.metz.supelec.fr>


> Interpreting command-line args is not the only difference between the
> various shells (*n*x *sh, command.com, cmd.exe, ???).  If you are
> going to start defining the requirements for a suitable interpreter,
> don't forget to include calling a helper program with an explicit path
> -- texexec.pl was broken on Win9x because it tried to use "/" in
> explicit paths.

Even Win9x is able to deal with "/" as path separator. Only the command
interpretor is not able to do it.

> come with *n*x.  Maybe TL needs to provide a shell (one of the reasons
> our users loved 4allTeX).

Possibly.

Fabrice

From te at dbs.uni-hannover.de  Sat Mar 27 15:49:40 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Mar 27 15:50:06 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <200403271241.i2RCfIr01395@f7.net>
References: <Pine.SGI.4.58.0403270752490.375440@montigo.bio.dfo.ca>
	<200403271241.i2RCfIr01395@f7.net>
Message-ID: <20040327144940.GD23366@dbs.uni-hannover.de>

How about writing perl in a more portable way? Both of the following
should work on all systems:

  @args = ( 'kpsewhich', '--expand-var', '$SELFAUTODIR/foo');
  system(@args) == 0
    or die "system @args failed: $?";

  system('kpsewhich', '--expand-var', '$SELFAUTODIR/foo') == 0
    or die "some useful message... $?";

Thomas
From te at dbs.uni-hannover.de  Sat Mar 27 15:59:50 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Mar 27 16:00:18 2004
Subject: [tex-live] aleph for TL
In-Reply-To: <u10apnvl.fsf@esemetz.metz.supelec.fr>
References: <Pine.LNX.4.44.0403270427340.16905-100000@re86.internetdsl.tpnet.pl>
	<3c7ur9qf.fsf@esemetz.metz.supelec.fr>
	<20040327100434.GB23366@dbs.uni-hannover.de>
	<u10apnvl.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040327145950.GE23366@dbs.uni-hannover.de>

> Sorry ? And what if these files can't be input by TeX (especially for
> Aleph files!).

It the files are tex-syntax, they should go to texmf/tex, no matter which
engine it is. We already have e.g. etex.src in texmf/tex even tough
TeX cannot make any use of it. There was a lengthy discussion about
this in some list (texlive or TDS, I don't remember). But, in the end,
there was a common agreement that it is better to stop using the engine
stecific directories.

Karl, I am sure that you can pass a reference to Fabrice...

> texmf/<engine>/<format>/

Obsolete.

Thomas
From staw at gust.org.pl  Sat Mar 27 16:32:14 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Sat Mar 27 16:23:53 2004
Subject: [tex-live] aleph for TL
In-Reply-To: <20040327145950.GE23366@dbs.uni-hannover.de>
Message-ID: <Pine.LNX.4.44.0403271621460.17376-100000@re86.internetdsl.tpnet.pl>

On Sat, 27 Mar 2004, Thomas Esser wrote:

> > Sorry ? And what if these files can't be input by TeX (especially for
> > Aleph files!).
> 
> It the files are tex-syntax, they should go to texmf/tex, no matter which
> engine it is. We already have e.g. etex.src in texmf/tex even tough
> TeX cannot make any use of it. There was a lengthy discussion about
> this in some list (texlive or TDS, I don't remember). But, in the end,
> there was a common agreement that it is better to stop using the engine
> stecific directories.
> 
> Karl, I am sure that you can pass a reference to Fabrice...

I also hope that was agreed and, in fact, already adopted in TL depot.
Also texmf.cnf entries follows that.
The whole discussion started from
http://tug.org/mail-archives/twg-tds/2003-August/000839.html

Unfortunately I cannot find modified draft for the TDS documentation.
We need it urgently anyway _before_ teTeX and TL releases, just for
explaining the users what was changed and why.
The same thing with texmf/scripts/ issues, etc.:
http://tug.org/mail-archives/twg-tds/2004-February/000850.html
 
-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From te at dbs.uni-hannover.de  Sat Mar 27 16:31:28 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Mar 27 16:31:54 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <6.0.1.1.2.20040326172418.01e099f0@server-1>
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
	<20040326161148.GB16475@dbs.uni-hannover.de>
	<6.0.1.1.2.20040326172418.01e099f0@server-1>
Message-ID: <20040327153128.GF23366@dbs.uni-hannover.de>

> i'm aware of the differences in shell expansion (and taking care of it in 
> the process of keeping scripts multiplatform has messed up many scripts i 
> made) -)

perl can well execute commands without invoking the system's command
shell. Putting everything into *one big string* and let the system's
command shell do the parsing/splitting is convenient, but not portable,
as you know. If you make the splitting on your own, you can completely
avoid the command shell:

    http://www.perldoc.com/perl5.8.0/pod/func/system.html

    ...
    If there is only one scalar argument, the argument is checked for
    shell metacharacters, and if there are any, the entire argument is
    passed to the system's command shell for parsing (this is /bin/sh
    -c on Unix platforms, but varies on other platforms).
    ...

Thomas
From te at dbs.uni-hannover.de  Sat Mar 27 17:21:24 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Mar 27 17:21:53 2004
Subject: [tex-live] aleph for TL
In-Reply-To: <Pine.LNX.4.44.0403270427340.16905-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0403270427340.16905-100000@re86.internetdsl.tpnet.pl>
Message-ID: <20040327162124.GJ23366@dbs.uni-hannover.de>

> Ps. I hope that's nothing wrong that lambda uses now aleph engine
> instead of omega.

The LaTeX team has requested to use e-TeX aware engines for LaTeX, so
I think this is politically correct until Omega officially supports the
e-TeX primitives.

Thomas
From te at dbs.uni-hannover.de  Sat Mar 27 18:46:33 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Mar 27 18:47:01 2004
Subject: [tex-live] last weekend changes
In-Reply-To: <Pine.LNX.4.44.0403232200180.12005-100000@re86.internetdsl.tpnet.pl>
References: <20040322045745.GB15792@dbs.uni-hannover.de>
	<Pine.LNX.4.44.0403232200180.12005-100000@re86.internetdsl.tpnet.pl>
Message-ID: <20040327174633.GB26251@dbs.uni-hannover.de>

> so many existing documents already have
>   \ifx\pdfoutput\undefined
>     .... % concerning dvi 
>   \else
>     \usepackage{yy} % pdf
> Now, even for latex run \pdfoutput is always known, so I'd tend
> to put into some .ini (latex, mex etc.) files just
> \pdfoutput=0\let\pdfoutput\undefined

I am not sure if we should provide an automatic feature that hides all
pdftex primitives if people use e.g. latex. Maybe, it would be sufficient
to provide a TeX macro package that sets \pdfoutput to 0 and then sets
all possibly relevant control sequences to \undefined.

That way, people who just want to run broken code can easily insert
some
  \usepackage{hidepdf}
or
  \input hidepdf
at the beginning of the document.

This approach was suggested by David Kastrup (tetex-pretest mailing list).

Thomas
From karl at freefriends.org  Sat Mar 27 19:09:53 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Mar 27 19:10:24 2004
Subject: [tex-live] last weekend changes
In-Reply-To: <20040327174633.GB26251@dbs.uni-hannover.de>
Message-ID: <200403271809.i2RI9r102421@f7.net>

    That way, people who just want to run broken code can easily insert

Here is my view: I feel it is imperative that the MANY existing
documents that test for pdf continue run unchanged.

And I don't agree with the characterization of them as "broken", if
that's what you're saying was broken.  Testing \ifx\pdfoutput\undefined
*was* (and remains!) an absolutely standard practice.

    I am not sure if we should provide an automatic feature that hides all
    pdftex primitives if people use e.g. latex. 

What is wrong with it?  It provides transparent compatibility.  I don't
understand why you think it is bad.

    to provide a TeX macro package that sets \pdfoutput to 0 and then sets
    all possibly relevant control sequences to \undefined.

\pdfoutput is one of those control sequences (the most important one, in
fact) to be undefined.  Setting it to 0 is not sufficient.  That's what
the whole discussion is about.

I would rather not use pdfetex than break old documents, if you prefer
that, but I see no reason why we can't accomplish both goals, with
Staszek's basic suggestion: undefine all the pdf primitives in the
latex.ini file (and others).  Yes, it is annoying for us.  Better some
annoyance for us than to break existing documents!

Hans' suggestion of a new primitive \pdfstate (by whatever name) that
can be switched back and forth would be even better.  I just don't know
how quickly it can be implemented.  If it is not available, once again,
I feel it is crucial that existing documents continue to work
*unchanged*, one way or another.  There are zillions upon zillions of them.

Please.

Thanks,
k
From te at dbs.uni-hannover.de  Sat Mar 27 19:44:55 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Mar 27 19:45:22 2004
Subject: [tex-live] last weekend changes
In-Reply-To: <200403271809.i2RI9r102421@f7.net>
References: <20040327174633.GB26251@dbs.uni-hannover.de>
	<200403271809.i2RI9r102421@f7.net>
Message-ID: <20040327184455.GA28617@dbs.uni-hannover.de>

> And I don't agree with the characterization of them as "broken", if
> that's what you're saying was broken.  Testing \ifx\pdfoutput\undefined
> *was* (and remains!) an absolutely standard practice.

pdftex, from the beginning, was able to produce dvi output. The pure
existence of the \pdfoutput primitive does not necessarily mean that
people want to produce pdf output. That's why I consider any code "broken"
that assumes pdf output if the primitive \pdfoutput exists.

People are actually already using pdftex features for producing dvi,
e.g. character protruding. So, the problem which we are discussing is
nothing theoretical and already existing. That's why we already have
good code which is aware of the fact that pdftex is running in dvi mode
(geometry, ifpdf, graphics.cfg, color.cfg, ...).

In fact, the whole teTeX distribution contains only two "broken" files:
changebar.sty and ltnews.cls. The authors are notified, so hope is that
these wil soon be fixed. User's code is a different matter, but we can
give them a simple one-liner solution to get their document compile again.
And, if they really want, they can still go back to good-old tex by a
simple change in theit fmtutil configuration.

> What is wrong with it?  It provides transparent compatibility.  I don't
> understand why you think it is bad.

Why are we making that move to pdfetex? To save a few bytes? I don't
think so. My impression was that the main idea was to be able to add
new primitives (e.g. \pdftexbanner). We can do this with pdftex, but we
can't do this with TeX.

It might be useful for someone to parse the expansion of \pdftexbanner
for something. If we remove/hide these primitives, this will be lost.

> I feel it is crucial that existing documents continue to work
> *unchanged*, one way or another.  There are zillions upon zillions of them.

I have made the switch to pdfetex 6 days ago when I released
teTeX-2.96.0.20040321 (a beta release announced at tetex-pretest list
and available for download from CTAN); so far, only a single user has
reported a problem with this.

Thomas
From karl at freefriends.org  Sat Mar 27 20:17:38 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Mar 27 20:18:10 2004
Subject: [tex-live] last weekend changes
In-Reply-To: <20040327184455.GA28617@dbs.uni-hannover.de>
Message-ID: <200403271917.i2RJHcK17797@f7.net>

I know for a fact there are dozens of TUGboat articles which use
\ifx\pdfoutput\undefined -- that is what I recommended in my TUB
templates!  Not that TUGboat articles are a big deal per se, we're not
likely to be rerunning them, but it's just a sample.  Virtually every
user who ever tried to adapt their document to coexist peacefully with
PDF and DVI simultaneously will lose here.

People (including me!) were/are trying to do the right thing.  Sure, of
course in theory pdftex could be used for DVI output, but in practice it
never was, and in fact most people probably did not even know it was
possible.  To my mind, It's not fair to use an unused and little-known
feature as an excuse for breaking a standard idiom in longstanding TeX
documents that have worked ever since pdftex has existed.  I still do
not think it is right to call it "broken".  It is the cleanest, simplest
test and I think we are gratuitiously causing grief to many people if we
break it.

As for keeping the new primitives accessible, the clean answer is Hans'
\pdfstate.  The ugly answer is \let\saveprimitivepdfoutput=\pdfoutput
\let\pdfoutput=\undefined, with another command/package to switch
\pdffoo back to \saveprimitivepdffoo.  I am certain that the number of
documents using pdftex primitives in DVI mode is absolutely minuscule
compared to the number of documents assuming \pdftex=undefined for DVI
output.

I can see that, five years from now, maybe even two years from now, if
the pdftex-in-dvi-mode primitives explode in popularity, it could be
pretty annoying to not have them available by default.  So let's revisit
it then.  It's not the case here in 2004.  Meanwhile, we can at least
warn people it may change, use ifpdf.sty, blah blah blah.

I think it would be a terrible, terrible mistake to make a release that
we know will break documents in this way.
From pragma at wxs.nl  Sat Mar 27 18:43:37 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Sat Mar 27 23:02:06 2004
Subject: [tex-live] aleph for TL
In-Reply-To: <20040327162124.GJ23366@dbs.uni-hannover.de>
References: <Pine.LNX.4.44.0403270427340.16905-100000@re86.internetdsl.tpnet.pl>
	<20040327162124.GJ23366@dbs.uni-hannover.de>
Message-ID: <6.0.1.1.2.20040327184019.02dfb2f8@localhost>

At 17:21 27/03/2004, Thomas Esser wrote:
> > Ps. I hope that's nothing wrong that lambda uses now aleph engine
> > instead of omega.
>
>The LaTeX team has requested to use e-TeX aware engines for LaTeX, so
>I think this is politically correct until Omega officially supports the
>e-TeX primitives.

... and is stable enough to be of use for more than a few pages; i don't 
know what lambda is supposed to to but i assume that it's not depending on 
new (undocumented) features in omega > 1.15, so i think that aleph is a 
good choice here; also, i expect more testing by and feedback from that 
branch of omega

Hans


From pragma at wxs.nl  Sat Mar 27 19:15:24 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Sat Mar 27 23:02:11 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <Pine.SGI.4.58.0403270752490.375440@montigo.bio.dfo.ca>
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
	<200403261608.i2QG86118025@f7.net>
	<6.0.1.1.2.20040326191112.01e11e40@server-1>
	<87zna3xwtq.fsf@infovore.xs4all.nl>
	<6.0.1.1.2.20040326203018.01e05e48@server-1>
	<87lllnxq3y.fsf@infovore.xs4all.nl>
	<Pine.SGI.4.58.0403270752490.375440@montigo.bio.dfo.ca>
Message-ID: <6.0.1.1.2.20040327190759.02e66640@localhost>

At 13:33 27/03/2004, George N. White III wrote:
>On Fri, 26 Mar 2004, Olaf Weber wrote:
>
> > What you need for this is to use an interpreter that can, in a way
> > that is common to all its incarnations on different OSes, be
> > instructed to start _this_ command with _these_ arguments, and have
> > the arguments treated as literal strings.  If the interpreter doesn't
> > allow for that, than _it_ cannot be used for OS-independent work that
> > involves calling helper programs.
>
>Interpreting command-line args is not the only difference between
>the various shells (*n*x *sh, command.com, cmd.exe, ???).
>If you are going to start defining the requirements for a suitable
>interpreter, don't forget to include calling a helper program
>with an explicit path -- texexec.pl was broken on Win9x because
>it tried to use "/" in explicit paths.
>
>TexLive currently follows a unix-style approach that relies on many simple
>programs working together.  Windows ports of these utilities don't always
>deal with the differences in a consistent way, you can't be sure what
>programs are installed on a given machine, and there are performance
>issues.  fpTeX already provides perl and other tools that come with *n*x.
>Maybe TL needs to provide a shell (one of the reasons our users loved
>4allTeX).

i think that today's users expect integration and that is indeed 
accomplished by 4tex like environments; this means that the tools that make 
up tex should be as platform indepedent as possible and provide 
alternatives for bypassing shell escaping and expansion; many simple 
programs working together is not a problem, as long as they can communicate 
without interference from shells; if shell-like behavior is expected, then 
it should be built into the utilities

Hans   

From pragma at wxs.nl  Sat Mar 27 19:24:25 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Sat Mar 27 23:02:15 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <200403271241.i2RCfIr01395@f7.net>
References: <Pine.SGI.4.58.0403270752490.375440@montigo.bio.dfo.ca>
	<200403271241.i2RCfIr01395@f7.net>
Message-ID: <6.0.1.1.2.20040327191606.02dfe700@localhost>

At 13:41 27/03/2004, Karl Berry wrote:
>     Interpreting command-line args
>
>How about an option to take args from a file (or stdin)?  That is,
>kpsewhich --file=foo would read foo and interpret it as more arguments.

sounds like a valid option (could even be an xml file then, so that we have 
a well defined syntax and char set)

it would also means that we can precook scripts:

<?xml version="1.0"?>
<kpse xmlns="...>
   <optionset>
     <other-text-files>...</other-text-files>
   </optionset>
   <optionset>
     <other-text-files>...</other-text-files>
   </optionset>
</kpse>

and provide a bunch of things like:

   kpsewhich --file=allfonts.xml
   kpsewhich --file=allformats.xml
   kpsewhich --file=contextformats.xml

and then the shortcut:

   kpserequest allfonts

>Then the perl/ruby/whatever script can write foo (in its
>system-independent way) and call kpsewhich (in this
>acceptable-to-all-systems simple way).
>
>If there's no quoting mechanism that works on both Windows and Unix,
>there's no way to use any special characters on any command line (if you
>want to write a script that runs on both without change).

maybe we need some kind of escape like in url's

Hans  

From pragma at wxs.nl  Sat Mar 27 20:45:26 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Sat Mar 27 23:02:27 2004
Subject: [tex-live] feature request 
Message-ID: <6.0.1.1.2.20040327204034.02c81338@localhost>

Hi,

since we have

   -shell-escape
   -src-specials

(we miss the negations, so maybe they should have been -shell-escape=t|f)

i think we should also have

   -openout_any=a|p|n
   -openin_any=a|p|n

so that one can have control over this feature without the need to adapt 
the config file

This is something that one needs when using tex in web apps (remote 
publishing and so) in a mixed context (local users versus remote users) so 
that one can then run tex in a more restricted mode

Although still open for problems i can also imagine a more specific setup, 
where a series of input/output specs restict file access to certain paths.

Hans


-------------------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE/POD/CTS
                       Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
  tel: +31 (0)38 477 53 69 | fax: +31 (0)38 477 53 74 | www.pragma-ade.com
-------------------------------------------------------------------------
                        information: http://www.pragma-ade.com/roadmap.pdf
                     documentation: http://www.pragma-ade.com/showcase.pdf
-------------------------------------------------------------------------

From pragma at wxs.nl  Sat Mar 27 23:18:23 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Sat Mar 27 23:51:35 2004
Subject: [tex-live] last weekend changes
In-Reply-To: <200403271809.i2RI9r102421@f7.net>
References: <20040327174633.GB26251@dbs.uni-hannover.de>
	<200403271809.i2RI9r102421@f7.net>
Message-ID: <6.0.1.1.2.20040327230856.02c74a00@localhost>

At 19:09 27/03/2004, Karl Berry wrote:

>\pdfoutput is one of those control sequences (the most important one, in
>fact) to be undefined.  Setting it to 0 is not sufficient.  That's what
>the whole discussion is about.

you're right, some (probbaly plain tex based) approaches may test for 
\pdfannot instead; for instance, if a specific package only implement 
something:

\def\LinkToThisOrThat#1%
   {\ifx\pdfannot\undefined
       \special{....}%
    \else
       \pdfannot{...}%
    \fi}

same for \pdfinfo and document info, or, \pdfmapfile{...}.

For this we shouldn't think context (which has always had a dual dvi/pdf 
concept for pdftex), nor latex (where people have specific formats for 
specific backends, which may be one of the reasons why users were/are 
unaware of pdftex having two backends - the familiar tex world confusions: 
latex is a program and pdflatex another one and pdftex is not tex and ...); 
in this case we should think 'plain tex' or 'small macro packages' or 
whatever has been written over the years; even macro code in users 
documents may test for \pdfwhatever instead of pdfoutput.

So, either undefining, or some switch or \pdfstate is needed.

Hans

ps. In context, i have \ifx\pdfoutput\undefined \chardef\pdfoutput=0 \fi 
and since all driver specific code is in driver files i don't expect any 
problems for context users (who all use pdf output anyway -).    

From pragma at wxs.nl  Sat Mar 27 23:26:07 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Sat Mar 27 23:51:41 2004
Subject: [tex-live] last weekend changes
In-Reply-To: <20040327184455.GA28617@dbs.uni-hannover.de>
References: <20040327174633.GB26251@dbs.uni-hannover.de>
	<200403271809.i2RI9r102421@f7.net>
	<20040327184455.GA28617@dbs.uni-hannover.de>
Message-ID: <6.0.1.1.2.20040327231846.02c81338@localhost>

At 19:44 27/03/2004, Thomas Esser wrote:

>People are actually already using pdftex features for producing dvi,
>e.g. character protruding. So, the problem which we are discussing is
>nothing theoretical and already existing. That's why we already have
>good code which is aware of the fact that pdftex is running in dvi mode
>(geometry, ifpdf, graphics.cfg, color.cfg, ...).

indeed protruding and hz are available in dvi mode as well, but they 
actually belong in a different domain, say xtx extensions or so; currently 
thanh is splitting up pdftex in such parts.

>In fact, the whole teTeX distribution contains only two "broken" files:
>changebar.sty and ltnews.cls. The authors are notified, so hope is that
>these wil soon be fixed. User's code is a different matter, but we can
>give them a simple one-liner solution to get their document compile again.
>And, if they really want, they can still go back to good-old tex by a
>simple change in theit fmtutil configuration.

maybe a clever grep will surface code in plain tex files ... (like the cweb 
styles, eplain, texinfo, etc)

of course, there is still the problem of users with their own files then; 
and some may have old code and be unaware of changes in the engine and run 
into problems (imagine tex running on some server with a shared (remote) 
bin tree, with the styles written some 4 years ago, and then someone 
uploads the new tex live ... who will notice that old files with embedded 
\ifx\pdfannot... will fail?

> > What is wrong with it?  It provides transparent compatibility.  I don't
> > understand why you think it is bad.
>
>Why are we making that move to pdfetex? To save a few bytes? I don't
>think so. My impression was that the main idea was to be able to add
>new primitives (e.g. \pdftexbanner). We can do this with pdftex, but we
>can't do this with TeX.

sure, but we don't need to prefix them \pdf, we can reserve a new prefix, 
say \xtxbanner or maybe \xpdftexbanner thereby suggesting that they go 
beyond pdf output: \xpdftexbanner, \xpdfmapfile, \xpdfmapline ...

Hans  

From pragma at wxs.nl  Sat Mar 27 23:27:55 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Sat Mar 27 23:51:45 2004
Subject: [tex-live] last weekend changes
In-Reply-To: <200403271917.i2RJHcK17797@f7.net>
References: <20040327184455.GA28617@dbs.uni-hannover.de>
	<200403271917.i2RJHcK17797@f7.net>
Message-ID: <6.0.1.1.2.20040327232657.02cb0d60@localhost>

At 20:17 27/03/2004, Karl Berry wrote:

>As for keeping the new primitives accessible, the clean answer is Hans'
>\pdfstate.  The ugly answer is \let\saveprimitivepdfoutput=\pdfoutput
>\let\pdfoutput=\undefined, with another command/package to switch
>\pdffoo back to \saveprimitivepdffoo.  I am certain that the number of

\normalpdffoo -) else i end up with so many duplicates in an already 
overful hash

Hans  

From olaf at infovore.xs4all.nl  Sun Mar 28 10:57:40 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Sun Mar 28 17:55:38 2004
Subject: [tex-live] feature request
In-Reply-To: <6.0.1.1.2.20040327204034.02c81338@localhost> (Hans Hagen's
	message of "Sat, 27 Mar 2004 20:45:26 +0100")
References: <6.0.1.1.2.20040327204034.02c81338@localhost>
Message-ID: <87smftfiwr.fsf@infovore.xs4all.nl>

Hans Hagen writes:

> Hi,
> since we have

>    -shell-escape
>    -src-specials

> (we miss the negations, so maybe they should have been -shell-escape=t|f)

We don't need the negations for -src-specials, as they only get going
by the option anyway.  For -shell-escape it should be added.

> i think we should also have

>    -openout_any=a|p|n
>    -openin_any=a|p|n

> so that one can have control over this feature without the need to
> adapt the config file

Right now you can set an environment variable, but I agree that an
option is better here.

> This is something that one needs when using tex in web apps (remote
> publishing and so) in a mixed context (local users versus remote
> users) so that one can then run tex in a more restricted mode

> Although still open for problems i can also imagine a more specific
> setup, where a series of input/output specs restict file access to
> certain paths.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From pragma at wxs.nl  Sun Mar 28 03:17:02 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Sun Mar 28 23:03:31 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <87lllnxq3y.fsf@infovore.xs4all.nl>
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
	<200403261608.i2QG86118025@f7.net>
	<6.0.1.1.2.20040326191112.01e11e40@server-1>
	<87zna3xwtq.fsf@infovore.xs4all.nl>
	<6.0.1.1.2.20040326203018.01e05e48@server-1>
	<87lllnxq3y.fsf@infovore.xs4all.nl>
Message-ID: <6.0.1.1.2.20040328030901.01c75360@localhost>

At 23:20 26/03/2004, Olaf Weber wrote:

>Note that the syntax of environment variables is not determined by the
>OS.  It is determined by the interpreter retrieving the variables.
>Where command.com wants %FOO%, bash on the same OS wants $FOO.

exactly, and to make things worse, some os's are case sensitive with 
respect to env vars, while others aren't;

> >    -expand-path='var(SYSTEXMF)/fonts'
>
> > that would be upward compatible, wouldn't it?
>
>Not really, as it turns previously-uninterpreted text into something
>that is interpreted.

yes, but kind of controlled

>Of course, what happens when I run this on an OS where the default
>interpreter has its own ideas on the meaning of 'var(...)'?

then we cook up something so remote from var that no os will see it, like 
kpsevar(...)  -)

[we need something SOAP for os's i guess]

Hans

PS. I sometimes run into cshell systems, which adds another level of 
fuzzyness in attempts to make portable scripts (bat cmd sh csh ... where 
will it end)  

From staw at gust.org.pl  Mon Mar 29 06:28:46 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Mon Mar 29 06:19:35 2004
Subject: [tex-live] Re: pdfetex the default engine
Message-ID: <Pine.LNX.4.44.0403290622010.25018-100000@re86.internetdsl.tpnet.pl>

As the subject was somehow unfortunate and concerned the weekend before the
last one ('last weekend changes'), I've changed that thread to something 
already used.
Thomas and Karl kindly gave us quite good arguments:

TE> People are actually already using pdftex features for producing dvi,
TE> e.g. character protruding. So, the problem which we are discussing is
TE> nothing theoretical and already existing. That's why we already have
TE> good code which is aware of the fact that pdftex is running in dvi mode
TE> (geometry, ifpdf, graphics.cfg, color.cfg, ...).
TE> ....
TE> Why are we making that move to pdfetex? To save a few bytes? I don't
TE> think so. My impression was that the main idea was to be able to add
TE> new primitives (e.g. \pdftexbanner). We can do this with pdftex, but we
TE> can't do this with TeX.

KB> As for keeping the new primitives accessible, the clean answer is Hans'
KB> \pdfstate.
KB> ...
KB> I am certain that the number of
KB> documents using pdftex primitives in DVI mode is absolutely minuscule
KB> compared to the number of documents assuming \pdftex=undefined for DVI
KB> output.

My notes:
1. pdftex features for producing dvi are not documented at all (even me
   I don't know how to use character protruding ;-). Only very small group
   of people knows that, so they also know what to change in latex.ini.
2. as for the "latex" command (and similar already known for producing dvi)
   I still insist that it should be compatible with many existing documents
   and transparent for the user (see the example below). Perhaps I'm too
   conservative, but that's my role to see the user's point of view and
   checking many aspects :)
3. \pdfstate new primitive idea seems reasonable, but I'm not sure that
   could be implemented right now. Perhaps it would be sufficient to add
   a contrary pdftex-dvi.tex which would disable things found in
   pdftexconfig.tex and use it for standard dvi concerned .ini files.
   Somehow better than my first approach (\let\pdfoutput\undefined)
   but still bad if someone says: pdfetex --ini latex.ltx (rare exception!)

I'm really aware that BLU has enough problems with installation,
configuration, meaning of different texmf trees, etc., so I'd suggest
not introducing more traps. It seems inacceptable to say: now you have
to use ifpdf.sty or such things...
It is somehow like the latest thread on tetex mailing list: for lucida
fonts you have to use now (!?) \usepackage[T1]{fontenc}

The silly example of (bad) compatibility and usability of pdftex primitives
for dvi output, when latex.ini contains:
\input pdftexconfig\pdfoutput=0

\leavevmode
\hrule

\bigskip
\hrule width\pdfpagewidth

\bigskip
\hrule

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From Gerben.Wierda at rna.nl  Wed Mar 31 19:32:51 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Wed Mar 31 19:33:23 2004
Subject: [tex-live] kpsewhich
In-Reply-To: <20040326161148.GB16475@dbs.uni-hannover.de>
References: <6.0.1.1.2.20040326161832.01e09b58@server-1>
	<20040326161148.GB16475@dbs.uni-hannover.de>
Message-ID: <6FA72D72-8339-11D8-BCC1-000A95EA839A@rna.nl>

On Mar 26, 2004, at 5:11 PM, Thomas Esser wrote:

>> When using kpsewhich, there is a dependency on the OS
>
> It is not kpsewhich which causes this, it is the call to execute a 
> shell
> command and the underlying interpreter which causes these differences.

I agree with Hans here. The $ before the variable name is superfluous. 
In fact, the $ itself is also a shell construct originally meaning 
'variable'.

It could easily be implemented backwards compatible. Just ignore any 
initial $ signs when trying to expand a variable. The old calls would 
still work and we could promote the new style (e.g. by producing 
warnings on the old style).

G

From KDJantzen at t-online.de  Wed Mar 31 22:56:58 2004
From: KDJantzen at t-online.de (Klaus Jantzen)
Date: Wed Mar 31 22:59:26 2004
Subject: [tex-live] TL 2003: pdflatex.efmt not found
Message-ID: <406B309A.7030705@t-online.de>

I have installed TL 2003 from the "inst CD" on NT 4. And I updated
the Windows support packages
When running pdflatex I get the message
"I can't find the format file `pdflatex.efmt'!"

Where do I find it or how do I generate it?

Kind Regards,

K. Jantzen






