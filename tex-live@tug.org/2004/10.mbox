From kohler at CS.UCLA.EDU  Fri Oct  1 00:10:01 2004
From: kohler at CS.UCLA.EDU (Eddie Kohler)
Date: Fri Oct  1 00:13:37 2004
Subject: [tex-live] Build fails for FreeBSD 4.10
In-Reply-To: <200409302059.i8UKxo818941@f7.net>
References: <200409302059.i8UKxo818941@f7.net>
Message-ID: <79A7E511-132D-11D9-BE8E-000A95A6D9BC@cs.ucla.edu>

Fabrice wrote me and said he had changes, but never actually forwarded 
them, I think.

I don't terribly mind these changes although I'd feel better if they 
were like real changes, with justification, rather than just random 
bolts from the blue.  Why is CDECL only needed on _those_ functions?!?! 
  Weird.

Karl: current t1utils ./configure *does* search for uint32_t, and 
provides fake definitions if one is not found.  See configure.in.  I'd 
thought that uint32_t existed iff uint16_t existed; that seems 
reasonable but perhaps is not.  Another reason to be skeptical of this 
change.

Eddie


On Sep 30, 2004, at 1:59 PM, Karl Berry wrote:

>     but the files t1asm.c and others differ from the official
>     distribution's version by hacks added by Fabrice.
>
> Thank you for checking into this, Vladimir.
> Based on that, I changed those typedef's to be #ifdef WIN32, so we can
> get on with life.
> (Although a cleaner solution would be to configure for uint16_t, I
> guess; it wouldn't surprise me if some Unix systems lacked it as well.)
>
> Manfred, can you try compiling again now, please?
>
> Eddie, will you accept the changes?  The CDECL stuff is ugly but
> harmless, just is an empty #define on non-Windows.  If so, Vladimir,
> could you send a diff please?  Since you already have the trees set up.
>
> Thanks,
> karl

From fabrice.popineau at supelec.fr  Fri Oct  1 00:28:23 2004
From: fabrice.popineau at supelec.fr (Fabrice Popineau)
Date: Fri Oct  1 00:30:02 2004
Subject: [tex-live] Build fails for FreeBSD 4.10
In-Reply-To: <m3u0tf60bt.fsf@vvv.vsu.ru>
Message-ID: <20040930222824.83DF11EFB5D@postfix4-1.free.fr>

 
> I asked Fabrice long time ago about this, and he said that he needed
> these changes (re CDECL) and i may have forgot, but seems that he said
> that he tried to contact Eddie on this.
> 
> Apparently, Fabrice did not do a very good job in syncing his changes
> with official version and forgot to remove the typedef.

I like very much this way of thinking.

> This shows that it's a very bad idea to have hacked inofficial
> versions in TeX Live. We should ALWAYS send the changes upstream,
> otherwise it will become a maintenance nightmare.

You wouldn't believe how difficult it is to convince people to adopt a
prototyping scheme general enough to adapt to a variety of compilers. Given
that on this list everybody except me is using gcc (or that is close to
that), I have stopped long ago to patch the depot source tree with win32
stuff. 

It used to take me nights and week-ends sorting changes that have no chance
to be accepted anyway from the ones that can be of general interest. And
given that it is by hand process among x10000 files and x100 of makefiles,
it is clear that it is error prone.

And by the way t1utils is version 1.32 for quite a time and that's what I'm
using.

Fabrice

[For Eddie: the current typetools can compile with msvc only with a couple
of small changes concerning bool conversions, but that's not a big deal ]


From kohler at icir.org  Fri Oct  1 00:59:30 2004
From: kohler at icir.org (Eddie Kohler)
Date: Fri Oct  1 01:02:42 2004
Subject: [tex-live] Build fails for FreeBSD 4.10
In-Reply-To: <20040930222824.83DF11EFB5D@postfix4-1.free.fr>
References: <20040930222824.83DF11EFB5D@postfix4-1.free.fr>
Message-ID: <63010CC8-1334-11D9-BE8E-000A95A6D9BC@icir.org>

> [For Eddie: the current typetools can compile with msvc only with a 
> couple
> of small changes concerning bool conversions, but that's not a big 
> deal ]

Hey Fabrice,

Great.  I'd love to look at patches for typetools, t1utils, or 
anything.  I want the packages I support to run with compilers other 
than GCC and do accept patches.  It helps being able to talk with you 
about the patch.

Thanks for maintaining the Windows port!!
Eddie

From ms at artcom-gmbh.de  Fri Oct  1 00:10:32 2004
From: ms at artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri Oct  1 01:04:57 2004
Subject: [tex-live] i386-openbsd (was: TeX Live -- Latest Version and
	Licensing)
In-Reply-To: <200409301550.i8UFoBW03134@f7.net>
References: <20040930153632.GD29675@artcom8.artcom-gmbh.de>
	<200409301550.i8UFoBW03134@f7.net>
Message-ID: <20040930221032.GA10923@lucien.kn-bremen.de>

On 2004-09-30 11:50:11 -0400, Karl Berry wrote:
>     If there is real need for i386-openbsd, 
> 
> I have no feel for whether there are openbsd users of TeX Live or not.

Since it's so easy to install teTeX in OpenBSD (it's in the
ports) I don't think there are many users (if any) of TeXlive on
OpenBSD.

Best regards
    Martin
-- 
               Martin Schr?der, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From karl at freefriends.org  Fri Oct  1 01:06:33 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Oct  1 01:08:11 2004
Subject: [tex-live] i386-openbsd (was: TeX Live -- Latest Version and
	Licensing)
In-Reply-To: <20040930221032.GA10923@lucien.kn-bremen.de>
Message-ID: <200409302306.i8UN6XH15849@f7.net>

    I don't think there are many users (if any) of TeXlive on OpenBSD.

Ok, thanks for the info.

I am happy to drop the architecture and save the space (and hassle).
Does anyone object?

From manfred at dante.de  Fri Oct  1 06:28:04 2004
From: manfred at dante.de (Manfred Lotz)
Date: Fri Oct  1 07:00:16 2004
Subject: [tex-live] Build fails for FreeBSD 4.10
In-Reply-To: <200409302059.i8UKxo818941@f7.net>
References: <m3u0tf60bt.fsf@vvv.vsu.ru>
	<200409302059.i8UKxo818941@f7.net>
Message-ID: <20041001062804.5d2e12ca.manfred@dante.de>

On Thu, 30 Sep 2004 16:59:50 -0400
karl@freefriends.org (Karl Berry) wrote:

>     but the files t1asm.c and others differ from the official
>     distribution's version by hacks added by Fabrice.
> 
> Thank you for checking into this, Vladimir.
> Based on that, I changed those typedef's to be #ifdef WIN32, so we can
> get on with life.
> (Although a cleaner solution would be to configure for uint16_t, I
> guess; it wouldn't surprise me if some Unix systems lacked it as
> well.)
> 
> Manfred, can you try compiling again now, please?
> 

I reran rsync and it got the sources with the #ifdef WIN32
surrounding the typedef's in t1asm.c and t1disasm.c.

Now there is a new error pretty much in the beginning of the build
process:

.....

cd po; make all
No support for NLS requested
esubdirs="utils/texinfo utils/dialog utils/t1utils utils/lcdf-typetools
utils/psutils utils/texi2html texk";  for dir in $esubdirs; do  echo
making all in $dir;  (if test -f $dir/Makefile; then cd $dir && make
all; else true; fi) || exit 1;  done making all in utils/texinfo
cd .. && make  am--refresh
make: don't know how to make am--refresh. Stop
*** Error code 2

Stop in
/data/TeXCol/depot/Build/source.development/Work/TeX/utils/texinfo.***
Error code 1

Stop in /data/TeXCol/depot/Build/source.development/Work/TeX.
*** Error code 1

Stop in /data/TeXCol/depot/Build/source.development/Work.




-- 
Manfred

From vvv at vsu.ru  Fri Oct  1 08:08:38 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Fri Oct  1 08:10:21 2004
Subject: [tex-live] Build fails for FreeBSD 4.10
In-Reply-To: <200409302059.i8UKxo818941@f7.net> (Karl Berry's message of "Thu, 
	30 Sep 2004 16:59:50 -0400")
References: <200409302059.i8UKxo818941@f7.net>
Message-ID: <m3pt4355sp.fsf@vvv.vsu.ru>

"KB" == Karl Berry writes:

 KB> Eddie, will you accept the changes?  The CDECL stuff is ugly but
 KB> harmless, just is an empty #define on non-Windows.  If so,
 KB> Vladimir, could you send a diff please?  Since you already have
 KB> the trees set up.

Here is the diff between the official version 1.31 of t1utils and the
version from the texlive depot:

--- official-1.31/t1ascii.c	2004-01-24 05:31:33.000000000 +0300
+++ texlive/t1ascii.c	2004-02-16 00:37:23.000000000 +0300
@@ -79,7 +79,7 @@
 static const char *ifp_filename = "<stdin>";
 static int line_length_warning = -1;
 
-void
+void CDECL
 fatal_error(const char *message, ...)
 {
   va_list val;
@@ -90,7 +90,7 @@
   exit(1);
 }
 
-void
+void CDECL
 error(const char *message, ...)
 {
   va_list val;
--- official-1.31/t1asm.c	2004-01-24 05:28:23.000000000 +0300
+++ texlive/t1asm.c	2004-03-01 16:05:09.000000000 +0300
@@ -64,6 +64,7 @@
 #include <lcdf/clp.h>
 #include "t1lib.h"
 
+typedef unsigned short uint16_t;
 #define LINESIZE 512
 
 #ifdef __cplusplus
@@ -346,7 +347,7 @@
 /* This function is used by the binary search, bsearch(), for command names in
    the command table. */
 
-static int command_compare(const void *key, const void *item)
+static int CDECL command_compare(const void *key, const void *item)
 {
   return strcmp((const char *) key, ((const struct command *) item)->name);
 }
@@ -551,7 +552,7 @@
 };
 static const char *program_name;
 
-void
+void CDECL
 fatal_error(const char *message, ...)
 {
   va_list val;
@@ -562,7 +563,7 @@
   exit(1);
 }
 
-void
+void CDECL
 error(const char *message, ...)
 {
   va_list val;
--- official-1.31/t1disasm.c	2004-01-24 05:32:57.000000000 +0300
+++ texlive/t1disasm.c	2004-03-01 16:05:09.000000000 +0300
@@ -67,6 +67,7 @@
 #include <lcdf/clp.h>
 #include "t1lib.h"
 
+typedef unsigned short uint16_t;
 #ifdef __cplusplus
 extern "C" {
 #endif
@@ -84,8 +85,8 @@
 static uint16_t er_default = 55665;
 
 static int error_count = 0;
-void fatal_error(const char *message, ...);
-void error(const char *message, ...);
+void CDECL fatal_error(const char *message, ...);
+void CDECL error(const char *message, ...);
 
 /* If the line contains an entry of the form `/lenIV <num>' then set the global
    lenIV to <num>.  This indicates the number of random bytes at the beginning
@@ -593,7 +594,7 @@
 };
 static const char *program_name;
 
-void
+void CDECL
 fatal_error(const char *message, ...)
 {
   va_list val;
@@ -604,7 +605,7 @@
   exit(1);
 }
 
-void
+void CDECL
 error(const char *message, ...)
 {
   va_list val;
--- official-1.31/t1lib.h	2003-11-08 21:12:06.000000000 +0300
+++ texlive/t1lib.h	2004-02-16 00:37:23.000000000 +0300
@@ -4,6 +4,13 @@
 extern "C" {
 #endif
 
+#ifdef WIN32
+#pragma warning (disable : 4007 4096)
+#define CDECL __cdecl
+#else
+#define CDECL
+#endif
+
 #define PFB_MARKER	128
 #define PFB_ASCII	1
 #define PFB_BINARY	2

Also, texlive depot contains the following files which are not present
in the official version:

depend.mak, win32.mak, t1asm.rc, t1disasm.rc

While depend.mak and win32.mak make sense, it seems that t1asm.rc and
t1disasm.rc are unused and should be deleted. Also, their content is
outdated.

And as Eddie noted: "I don't terribly mind these changes although I'd
feel better if they were like real changes, with justification, rather
than just random bolts from the blue.  Why is CDECL only needed on
_those_ functions?!?! Weird." - and I fully agree. Fabrice, is there a
rational explanation on why you need these CDECL only in these
specific places?

Best,
v.

From vvv at vsu.ru  Fri Oct  1 09:17:50 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Fri Oct  1 09:19:28 2004
Subject: [tex-live] Cyrillic Russian version of Plain TeX TL7
In-Reply-To: <3FE1403D1498CA4EAD65CAB5B030F875016AF4@mcao5.mcao.net> (George
	Stewart's message of "Thu, 30 Sep 2004 17:35:29 -0400")
References: <3FE1403D1498CA4EAD65CAB5B030F875016AF4@mcao5.mcao.net>
Message-ID: <m3brfm6h5t.fsf@vvv.vsu.ru>

Hi!

"SG" == Stewart, George writes:

 SG> This supercedes my previous message.  I am trying to make
 SG> russified version of Plain TeX.  I think I have all the files in
 SG> place, after reading readme from cyrplain folder.

 SG> I edited makefmts.bat so that it makes only one format file, the
 SG> one I want, which is cyrplain.fmt.

 SG> But when I try to run the batch file, I get an error.  The batch
 SG> file contains the following command:

 SG>    tex386.exe -i -8 -o -mt18000 cyrtex.ini

 SG> However, my TL7 does not include tex386.exe instead it has
 SG> tex.exe.

 SG> Additionally, the arguments to tex do not include -i and -8 and
 SG> mt18000. I assume there are equivalent arguments for the tex that
 SG> I have but the tex -help does not tell me which to use (I assume
 SG> -i equates to -ini, but otherwise I am in the dark).

You should run the command from makefmts.sh but not from makefmts.bat:

tex -ini -fmt=cyrtex -progname=tex cyrtex.ini

Best,
v.

From hartmut_henkel at gmx.de  Fri Oct  1 13:55:08 2004
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Fri Oct  1 13:56:49 2004
Subject: [tex-live] pdf*tex manpages
Message-ID: <Pine.LNX.4.61.0410011344320.3093@hahepc1.hahe>

in the texlive tree there are several pdf*tex.[man|1] files; just two of
them,

Master/texmf/doc/man/man1/pdflatex.1 (anyway wrong, no ref. to latex)
Master/texmf/doc/man/man1/pdftex.1

are obsolete versions still based on my .m4 file. Olaf, please replace
by your current versions. Also, please take note of a bug report
regarding the pdf*tex manpages, see:

http://www.ntg.nl/pipermail/ntg-pdftex/2004-September/000767.html

Regards, Hartmut

From karl at freefriends.org  Fri Oct  1 15:25:15 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Oct  1 15:27:01 2004
Subject: [tex-live] Build fails for FreeBSD 4.10
In-Reply-To: <20041001062804.5d2e12ca.manfred@dante.de>
Message-ID: <200410011325.i91DPF509066@f7.net>

    cd .. && make  am--refresh
    make: don't know how to make am--refresh. Stop

This is so frustrating.  Maybe we don't need the FreeBSD build either,
if we're dropping OpenBSD?  Manfred, do you (or anyone else) actually
use the binaries we're working so hard to create?

Anyway ... did you preserve timestamps in the rsync?  The error message
is not exactly clear, but I would guess it's related to my
texinfo/util/Makefile.* change to fix your $< problem.  util/Makefile.in
should be newer then util/Makefile.am:

tug$ ls -l util/Makefile*
-r--r--r--  1 karl users  1867 Sep 29 15:18 util/Makefile.am
-r--r--r--  1 karl users 19598 Sep 29 15:19 util/Makefile.in

(It also shouldn't be trying to remake Makefile.in at all, without
--enable-maintainer-mode, but that's something for bug-automake.)

k

From karl at freefriends.org  Fri Oct  1 15:25:15 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Oct  1 15:27:25 2004
Subject: [tex-live] Build fails for FreeBSD 4.10
In-Reply-To: <m3pt4355sp.fsf@vvv.vsu.ru>
Message-ID: <200410011325.i91DPF809092@f7.net>

    Here is the diff between the official version 1.31 of t1utils and the
    version from the texlive depot:

Thanks, Vladimir.

Since Fabrice reminded us that he has his own sources (based on 1.32), I
think we should just update the depot to 1.32 (without any changes) and
recompile (with fingers crossed; wouldn't surprise me to get another
round of compilation, timestamp, etc. errors, but what else can we do?).

I'll do that in a bit if no objections and no one else gets there first.

From vvv at vsu.ru  Fri Oct  1 16:27:03 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Fri Oct  1 16:28:53 2004
Subject: [tex-live] Build fails for FreeBSD 4.10
In-Reply-To: <200410011325.i91DPF809092@f7.net> (Karl Berry's message of "Fri, 
	1 Oct 2004 09:25:15 -0400")
References: <200410011325.i91DPF809092@f7.net>
Message-ID: <87oejmh5u0.fsf@video.uic.vsu.ru>

"KB" == Karl Berry writes:

 KB> Since Fabrice reminded us that he has his own sources (based on
 KB> 1.32), I think we should just update the depot to 1.32 (without
 KB> any changes) and recompile (with fingers crossed; wouldn't
 KB> surprise me to get another round of compilation, timestamp,
 KB> etc. errors, but what else can we do?).

That's fine. Unfortunately, Fabrice doesn't want to spend time
submitting his changes to mainline, and prefers to have his own
sources; so we have no other choice than to use the official version.

Best,
v.

From Fabrice.Popineau at supelec.fr  Fri Oct  1 16:51:35 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Fri Oct  1 16:53:16 2004
Subject: [tex-live] Build fails for FreeBSD 4.10
In-Reply-To: <87oejmh5u0.fsf@video.uic.vsu.ru>
Message-ID: <200410011451.i91EpZ527498@esemetz.metz.supelec.fr>

> That's fine. Unfortunately, Fabrice doesn't want to spend time
> submitting his changes to mainline, and prefers to have his own
> sources; so we have no other choice than to use the official version.

First, it wouldn't be meaningful anymore. I have changed the structure in a
way that is not compatible anymore. I'll post my source tree later this
week-end for those who are curious.

Second, in the mean time I have sent Eddie the changes I applied to get a
clean compile under msvc. They are not that large but still a couple of them
are a problem.

I got warnings about unimportant stuff, some of my changes to lcdf_typetools
are about to shut up my compiler, I could have done it with the right
pragmas, matter of taste.

The most problematic issue is wrt otftotfm: Eddie hardwired the location to
SHAREDIR (macro). But this is meaningless to windows. So I changed it to use
kpathsea to locate the file. And used for that the stuff he defined. 

Ok, I put the glyphlist.txt file into texmf/fonts/type1, which is definitely
not right (but if you think a bit longer about it, it may not be a font but
closely related to it). However, there is an issue here because this file
can be found only at the location specified at compile time.

As I understand it, Eddie will consider using kpathsea to find it in a later
version.

Fabrice


From manfred at dante.de  Fri Oct  1 18:33:54 2004
From: manfred at dante.de (Manfred Lotz)
Date: Fri Oct  1 18:35:47 2004
Subject: [tex-live] Build fails for FreeBSD 4.10
In-Reply-To: <200410011325.i91DPF509066@f7.net>
References: <20041001062804.5d2e12ca.manfred@dante.de>
	<200410011325.i91DPF509066@f7.net>
Message-ID: <20041001183354.11b3bbf1.manfred@dante.de>

On Fri, 1 Oct 2004 09:25:15 -0400
karl@freefriends.org (Karl Berry) wrote:

>     cd .. && make  am--refresh
>     make: don't know how to make am--refresh. Stop
> 
> This is so frustrating.  Maybe we don't need the FreeBSD build either,
> if we're dropping OpenBSD?  Manfred, do you (or anyone else) actually
> use the binaries we're working so hard to create?
> 

Well, I'm using the FreeBSD binaries on my system. However, I also could
use the Linux binaries on FreeBSD. I don't know if there are many users
out there using FreeBSD and the FreeBSD binaries.


> Anyway ... did you preserve timestamps in the rsync?  The error
> message is not exactly clear, but I would guess it's related to my
> texinfo/util/Makefile.* change to fix your $< problem. 
> util/Makefile.in should be newer then util/Makefile.am:
> 

I used -a in rsync which preserves time stamps.
> tug$ ls -l util/Makefile*
> -r--r--r--  1 karl users  1867 Sep 29 15:18 util/Makefile.am
> -r--r--r--  1 karl users 19598 Sep 29 15:19 util/Makefile.in
> 

I have:
-r--r--r--  1 manfred  manfred  1867 Sep 29 15:18 util/Makefile.am
-r--r--r--  1 manfred  manfred 19598 Sep 29 15:18 util/Makefile.in

But even if I 'touch Makefile.in' the error persists. 


-- 
Manfred 

From manfred at dante.de  Fri Oct  1 18:34:03 2004
From: manfred at dante.de (Manfred Lotz)
Date: Fri Oct  1 18:35:48 2004
Subject: [tex-live] Build fails for FreeBSD 4.10
In-Reply-To: <200410011325.i91DPF509066@f7.net>
References: <20041001062804.5d2e12ca.manfred@dante.de>
	<200410011325.i91DPF509066@f7.net>
Message-ID: <20041001183403.6d31c953.manfred@dante.de>

On Fri, 1 Oct 2004 09:25:15 -0400
karl@freefriends.org (Karl Berry) wrote:

>     cd .. && make  am--refresh
>     make: don't know how to make am--refresh. Stop
> 
> This is so frustrating.  Maybe we don't need the FreeBSD build either,
> if we're dropping OpenBSD?  Manfred, do you (or anyone else) actually
> use the binaries we're working so hard to create?
> 

Well, I'm using the FreeBSD binaries on my system. However, I also could
use the Linux binaries on FreeBSD. I don't know if there are many users
out there using FreeBSD and the FreeBSD binaries.


> Anyway ... did you preserve timestamps in the rsync?  The error
> message is not exactly clear, but I would guess it's related to my
> texinfo/util/Makefile.* change to fix your $< problem. 
> util/Makefile.in should be newer then util/Makefile.am:
> 

I used -a in rsync which preserves time stamps.
> tug$ ls -l util/Makefile*
> -r--r--r--  1 karl users  1867 Sep 29 15:18 util/Makefile.am
> -r--r--r--  1 karl users 19598 Sep 29 15:19 util/Makefile.in
> 

I have:
-r--r--r--  1 manfred  manfred  1867 Sep 29 15:18 util/Makefile.am
-r--r--r--  1 manfred  manfred 19598 Sep 29 15:18 util/Makefile.in

But even if I 'touch Makefile.in' the error persists. 


-- 
Manfred 

From karl at freefriends.org  Fri Oct  1 19:59:46 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Oct  1 20:01:29 2004
Subject: [tex-live] Build fails for FreeBSD 4.10
In-Reply-To: <20041001183354.11b3bbf1.manfred@dante.de>
Message-ID: <200410011759.i91HxkU24518@f7.net>

    However, I also could use the Linux binaries on FreeBSD. 

Interesting.  The BSD kernel is system-call-compatible with the Linux
kernel?  I'm amazed and impressed.

Perhaps there's no need for these binaries, then.  Does anyone think we
need them?  But anyway, in the alternative ...

    But even if I 'touch Makefile.in' the error persists. 

Did you rerun configure?

If you did, another possibility is to run gmake instead of make.  Maybe
it's some other strange difference there.

My further idea is to add an am--refresh: target (that does nothing) to
texinfo/Makefile.in and texinfo/Makefile.  Automake does not really need
to get rerun here.  I don't understand why it thinks it needs to.

Another thing to do is run gmake -rd in texinfo, redirecting
stdout/stderr to a file (it'll be big).  That will say exactly what
dependency is out of date, causing it to do the am--refresh thing.

Probably BSD make has some sort of equivalent option(s), but I don't
know what they are.

Thanks,
karl

From karl at freefriends.org  Fri Oct  1 23:31:27 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Oct  1 23:33:06 2004
Subject: [tex-live] pdf*tex manpages
In-Reply-To: <Pine.LNX.4.61.0410011344320.3093@hahepc1.hahe>
Message-ID: <200410012131.i91LVRe15719@f7.net>

    Master/texmf/doc/man/man1/pdflatex.1 (anyway wrong, no ref. to latex)
    Master/texmf/doc/man/man1/pdftex.1

    are obsolete versions still based on my .m4 file. Olaf, please replace
    by your current versions. 

Master/texmf/doc/man/man1/pdftex.1 appears to be newer than
Build/source.development/TeX/texk/web2c/man/pdftex.man.  For instance,
the former talks about mailman (correct) while the latter talks about
majordomo (old).

Olaf, do you have some other version in your private sources?

BTW, Hans, any hope for releasing the pdftex user manual?

    Also, please take note of a bug report
    regarding the pdf*tex manpages, see:
    http://www.ntg.nl/pipermail/ntg-pdftex/2004-September/000767.html

From karl at freefriends.org  Fri Oct  1 23:40:40 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Oct  1 23:42:17 2004
Subject: [tex-live] t1utils source now 1.32 
Message-ID: <200410012140.i91LeeG18068@f7.net>

Since no one objected, I updated source.development/TeX/utils/t1utils to
a pristine copy of t1utils-1.32.

Builders, please do your thing.  (Except Fabrice :)

k

From pragma at wxs.nl  Fri Oct  1 23:49:03 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Oct  1 23:51:32 2004
Subject: [tex-live] pdf*tex manpages
In-Reply-To: <200410012131.i91LVRe15719@f7.net>
References: <200410012131.i91LVRe15719@f7.net>
Message-ID: <415DD0CF.1070406@wxs.nl>

Karl Berry wrote:

> BTW, Hans, any hope for releasing the pdftex user manual?

you can use the ons i sent you

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From manfred at dante.de  Sat Oct  2 09:53:03 2004
From: manfred at dante.de (Manfred Lotz)
Date: Sat Oct  2 10:00:12 2004
Subject: [tex-live] Build fails for FreeBSD 4.10
In-Reply-To: <200410011759.i91HxkU24518@f7.net>
References: <20041001183354.11b3bbf1.manfred@dante.de>
	<200410011759.i91HxkU24518@f7.net>
Message-ID: <20041002095303.4658095f.manfred@dante.de>

On Fri, 1 Oct 2004 13:59:46 -0400
karl@freefriends.org (Karl Berry) wrote:

>     However, I also could use the Linux binaries on FreeBSD. 
> 
> Interesting.  The BSD kernel is system-call-compatible with the Linux
> kernel?  I'm amazed and impressed.
> 

Yes, *BSD provides binary compatibility for Linux. I cannot judge for
OpenBSD or NetBSD but in case of FreeBSD it means you can run some
80-90% of Linux binaries under FreeBSD without problems.




> Perhaps there's no need for these binaries, then.  Does anyone think
> we need them?  But anyway, in the alternative ...
> 
>     But even if I 'touch Makefile.in' the error persists. 
> 
> Did you rerun configure?
> 

I reran Build:
test ! -f Makefile || make clean 
rm -rf Work
find . -name config.cache -print -exec rm -f {} \;
H=`pwd`
mkdir Work; cd Work
../configure --prefix=$H --datadir=$H &&
make world 



> If you did, another possibility is to run gmake instead of make. 
> Maybe it's some other strange difference there.
> 

I changed make to gmake in Build and reran. Same problem as before.


> My further idea is to add an am--refresh: target (that does nothing)
> to texinfo/Makefile.in and texinfo/Makefile.  Automake does not really
> need to get rerun here.  I don't understand why it thinks it needs to.
> 

I found that the problem doesn't seem to be the target am--refresh. The
problem is that there is a cd .. && make am--refresh

After cd .. the current diretory is one level above utils. There is no
Makefile in utils/.. 



-- 
Manfred

From olaf at infovore.xs4all.nl  Sat Oct  2 10:25:06 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Sat Oct  2 10:25:20 2004
Subject: [tex-live] pdf*tex manpages
In-Reply-To: <200410012131.i91LVRe15719@f7.net> (Karl Berry's message of
	"Fri, 1 Oct 2004 17:31:27 -0400")
References: <200410012131.i91LVRe15719@f7.net>
Message-ID: <878yapr0gt.fsf@infovore.xs4all.nl>

Karl Berry writes:

>>     Master/texmf/doc/man/man1/pdflatex.1 (anyway wrong, no ref. to latex)
>>     Master/texmf/doc/man/man1/pdftex.1

>>     are obsolete versions still based on my .m4 file. Olaf, please replace
>>     by your current versions. 

> Master/texmf/doc/man/man1/pdftex.1 appears to be newer than
> Build/source.development/TeX/texk/web2c/man/pdftex.man.  For instance,
> the former talks about mailman (correct) while the latter talks about
> majordomo (old).

> Olaf, do you have some other version in your private sources?

No, it's just that the history of these manual pages is a bit tangled.
Not everything from the m4 file was merged back, it seems.

> BTW, Hans, any hope for releasing the pdftex user manual?

>     Also, please take note of a bug report
>     regarding the pdf*tex manpages, see:
>     http://www.ntg.nl/pipermail/ntg-pdftex/2004-September/000767.html

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From ralf.stubner at physik.uni-erlangen.de  Fri Oct  1 19:43:16 2004
From: ralf.stubner at physik.uni-erlangen.de (Ralf Stubner)
Date: Sat Oct  2 14:43:20 2004
Subject: [tex-live] FPL Fonts missing?
Message-ID: <415D9734.29A78ADA@physik.uni-erlangen.de>

Hi everybody,

I just looked at test-texlive2004-inst-20041001.iso and saw that it
includes PSNFSS 9.2 (good!). However, I can't find the FPL Fonts (free
SC/OsF for Palatino/Palladio, CTAN:fonts/fpl/) which are needed to use
the new features in PSNFSS 9.2. It would be great if they could be
added. Or did I miss them?

Disclaimer: I have a personal interest in these fonts being included.
;-)

cheerio
ralf

-- 
Ralf Stubner        *       mailto:ralf.stubner@physik.uni-erlangen.de
Lehrstuhl fuer theoretische Festkoerperphysik      *      Staudtstr. 7
D-91058 Erlangen    *    http://www.tfkp.physik.uni-erlangen.de/~ralf/

From staw at gust.org.pl  Sat Oct  2 20:00:56 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Sat Oct  2 19:50:09 2004
Subject: [tex-live] t1utils source now 1.32 
In-Reply-To: <200410012140.i91LeeG18068@f7.net>
Message-ID: <Pine.LNX.4.44.0410021957280.8494-100000@re86.internetdsl.tpnet.pl>

On Fri, 1 Oct 2004, Karl Berry wrote:

> Since no one objected, I updated source.development/TeX/utils/t1utils to
> a pristine copy of t1utils-1.32.
> 
> Builders, please do your thing.
> 
Well, make world (after #6047) crashed on Linux:
making all in utils/texinfo
make[2]: Entering directory `/usr/src/source.development/TeX/utils/texinfo'
cd .. && make  am--refresh
make[3]: Entering directory `/usr/src/source.development/TeX/utils'
make[3]: *** No rule to make target `am--refresh'.  Stop.
make[3]: Leaving directory `/usr/src/source.development/TeX/utils'
make[2]: *** [../config.status] Error 2
make[2]: Leaving directory `/usr/src/source.development/TeX/utils/texinfo'
make[1]: *** [all] Error 1
make[1]: Leaving directory `/usr/src/source.development/TeX'
make: *** [all] Error 1

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From karl at freefriends.org  Sat Oct  2 20:38:16 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Oct  2 20:39:56 2004
Subject: [tex-live] t1utils source now 1.32 
In-Reply-To: <Pine.LNX.4.44.0410021957280.8494-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200410021838.i92IcGD03447@f7.net>

    make[2]: Entering directory `/usr/src/source.development/TeX/utils/texinfo'
    cd .. && make  am--refresh

I'm sorry, this is all my fault.  I put texinfo/util/Makefile.{in,am}
into texinfo/.  Trying to fix now ...

From karl at freefriends.org  Sat Oct  2 20:47:49 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Oct  2 20:49:27 2004
Subject: [tex-live] t1utils source now 1.32 
In-Reply-To: <Pine.LNX.4.44.0410021957280.8494-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200410021847.i92IlnY05178@f7.net>

    make[2]: Entering directory `/usr/src/source.development/TeX/utils/texinfo'
    cd .. && make  am--refresh

Please try now.  Sorry to waste your time, Manfred and Staszek.

From staw at gust.org.pl  Sat Oct  2 21:32:13 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Sat Oct  2 21:21:24 2004
Subject: [tex-live] t1utils source now 1.32 
In-Reply-To: <200410021847.i92IlnY05178@f7.net>
Message-ID: <Pine.LNX.4.44.0410022131210.8775-100000@re86.internetdsl.tpnet.pl>

On Sat, 2 Oct 2004, Karl Berry wrote:

>     make[2]: Entering directory `/usr/src/source.development/TeX/utils/texinfo'
>     cd .. && make  am--refresh
> 
> Please try now.  Sorry to waste your time, Manfred and Staszek.
> 
Now I have problems with t1utils:

aking all in utils/t1utils
make[2]: Entering directory `/usr/src/source.development/TeX/utils/t1utils'
cd . && /bin/sh /usr/src/source.development/TeX/utils/t1utils/missing --run autoheader
FATAL ERROR: Autoconf version 2.54 or higher is required for this script
touch ./config.h.in
cd . && /bin/sh ./config.status config.h
config.status: creating config.h
make  all-am
make[3]: Entering directory `/usr/src/source.development/TeX/utils/t1utils'
source='clp.c' object='clp.o' libtool=no \
depfile='.deps/clp.Po' tmpdepfile='.deps/clp.TPo' \
depmode=gcc /bin/sh ./depcomp \
gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include   -g -O2 -c `test -f 'clp.c' || echo './'`clp.c
source='t1lib.c' object='t1lib.o' libtool=no \
depfile='.deps/t1lib.Po' tmpdepfile='.deps/t1lib.TPo' \
depmode=gcc /bin/sh ./depcomp \
gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include   -g -O2 -c `test -f 't1lib.c' || echo './'`t1lib.c
source='t1ascii.c' object='t1ascii.o' libtool=no \
depfile='.deps/t1ascii.Po' tmpdepfile='.deps/t1ascii.TPo' \
depmode=gcc /bin/sh ./depcomp \
gcc -DHAVE_CONFIG_H -I. -I. -I.  -I./include   -g -O2 -c `test -f 't1ascii.c' || echo './'`t1ascii.c
t1ascii.c: In function `main':
t1ascii.c:237: `VERSION' undeclared (first use in this function)
t1ascii.c:237: (Each undeclared identifier is reported only once
t1ascii.c:237: for each function it appears in.)
make[3]: *** [t1ascii.o] Error 1
make[3]: Leaving directory `/usr/src/source.development/TeX/utils/t1utils'
make[2]: *** [all] Error 2
make[2]: Leaving directory `/usr/src/source.development/TeX/utils/t1utils'
make[1]: *** [all] Error 1
make[1]: Leaving directory `/usr/src/source.development/TeX'
make: *** [all] Error 1

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From manfred at dante.de  Sat Oct  2 22:24:29 2004
From: manfred at dante.de (Manfred Lotz)
Date: Sat Oct  2 22:30:13 2004
Subject: [tex-live] t1utils source now 1.32
In-Reply-To: <200410021847.i92IlnY05178@f7.net>
References: <Pine.LNX.4.44.0410021957280.8494-100000@re86.internetdsl.tpnet.pl>
	<200410021847.i92IlnY05178@f7.net>
Message-ID: <20041002222429.37ecf3a8.manfred@dante.de>

On Sat, 2 Oct 2004 14:47:49 -0400
karl@freefriends.org (Karl Berry) wrote:

>     make[2]: Entering directory
>     `/usr/src/source.development/TeX/utils/texinfo' cd .. && make 
>     am--refresh
> 
>

My build is dying a little bit later than Staszek's.


Making all in doc
TEXINPUTS=../../../../../TeX/utils/texi2html/doc::$TEXINPUTS 
/usr/bin/perl ../texi2html -V
../../../../../TeX/utils/texi2html/doc/texi2html.texi || touch
texi2html.html   
# Expanded: verbatim ifnotinfo ifnotxml documentdescription
# ifnotplaintext html titlepage ifset menu co
pying ifnottex ifclear ifhtml
# reading from ../../../../../TeX/utils/texi2html/doc/texi2html.texi
# using 'en' as document language
# including ../../../../../TeX/utils/texi2html/doc/version.texi
# end of pass texi
# end of pass structure
# Writing elements:
# Writing to texi2html.html
# .[Top]...............................................................
# ......
..........
# writing Toc in texi2html.html
# writing Overview in texi2html.html
# writing About in texi2html.html
# that's all folks
Making all in Tests
./manage_i18n.pl all
./manage_i18n.pl:No such file or directory
*** Error code 1

Stop in
/data/TeXCol/depot/Build/source.development/Work/TeX/utils/texi2html.***
Error code 1

Stop in
/data/TeXCol/depot/Build/source.development/Work/TeX/utils/texi2html.***
Error code 1

Stop in /data/TeXCol/depot/Build/source.development/Work/TeX.
*** Error code 1

Stop in /data/TeXCol/depot/Build/source.development/Work.




-- 
Manfred

-- 
echo "Manfred"
echo ""
echo ""
/usr/games/fortune -s ml/ml-fortune

From Gerben.Wierda at rna.nl  Sat Oct  2 23:24:03 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat Oct  2 23:25:41 2004
Subject: [tex-live] Build of Oct 2,
	22:45 source.development fails on Mac OS X
Message-ID: <62438400-14B9-11D9-94B2-000D93C1C2FA@rna.nl>

I updated the source tree and ran a make clean, a removal of all  
config.caches, a configure and a make install. This breaks down because  
autoconf is being called and my autoconf on my build system is not new  
enough. I cannot install a newer autoconf on my system (it is a  
nightmare). Besides, normally, this should not be necessary. There will  
be another time stamp problem with the stuff in the repository, but I  
have no time to find out everything. So I am going to post the tail of  
the output here and wonder if someone can tell me which file to touch.

       -I../../libs/ncurses/include -I./../../libs/ncurses/include -g  
-O2 rc.c -o rc.o
gcc -DHAVE_CONFIG_H -DHAVE_NCURSES -DUSE_COLORS  
-DLIBDIR=\"/usr/local/Build/TeXLive.development/lib\"  
-DINCLUDEDIR=\"/usr/local/Build/TeXLive.development/include\" -c -I.  
-I. \
       -I../../libs/ncurses/include -I./../../libs/ncurses/include -g  
-O2 strcasecmp.c -o strcasecmp.o
gcc  dialog.o checklist.o inputbox.o menubox.o msgbox.o textbox.o  
yesno.o radiolist.o gauge.o rc.o strcasecmp.o -o dialog  
../../libs/ncurses/lib/libncurses.a
making all in utils/t1utils
cd . && /bin/sh  
/usr/local/perforce/TeXLive/Build/source.development/TeX/utils/t1utils/ 
missing --run autoheader
./aclocal.m4:39: error: Autoconf version 2.54 or higher is required for  
this script
./aclocal.m4:39: the top level
autoconf: tracing failed
make[7]: *** [config.h.in] Error 1
make[6]: *** [all] Error 1
make[5]: *** [all] Error 1

G

From staw at gust.org.pl  Sun Oct  3 01:03:34 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Sun Oct  3 00:52:38 2004
Subject: [tex-live] Build of Oct 2, 22:45 source.development fails on
	Mac OS X
In-Reply-To: <62438400-14B9-11D9-94B2-000D93C1C2FA@rna.nl>
Message-ID: <Pine.LNX.4.44.0410030056500.8963-100000@re86.internetdsl.tpnet.pl>

On Sat, 2 Oct 2004, Gerben Wierda wrote:

> I updated the source tree and ran a make clean, a removal of all  
> config.caches, a configure and a make install. This breaks down because  
> autoconf is being called and my autoconf on my build system is not new  
> enough. I cannot install a newer autoconf on my system (it is a  
> nightmare). Besides, normally, this should not be necessary.

As I've already wrote, I have exactly the same problem
on my Linux box. I cannot update my autoconf without breaking
so many things... Any clue?

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From karl at freefriends.org  Sun Oct  3 00:57:21 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct  3 00:59:03 2004
Subject: [tex-live] t1utils source now 1.32 
In-Reply-To: <Pine.LNX.4.44.0410022131210.8775-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200410022257.i92MvLF27138@f7.net>

Regarding t1utils (Staszek and Gerben), it seems p4 decided to update
timestamps on a bunch of the new files for no reason I know of.  So
config.h.in was out of date, which caused autoheader to be rerun.

So I made a meaningless change to config.h.in and checked it in, so it
would be new enough again.  t1utils now builds for me without running
any auto*.  Here's hoping ...

From ms at artcom-gmbh.de  Sat Oct  2 23:32:19 2004
From: ms at artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Sun Oct  3 01:03:59 2004
Subject: [tex-live] Build fails for FreeBSD 4.10
In-Reply-To: <20041001183354.11b3bbf1.manfred@dante.de>
References: <20041001062804.5d2e12ca.manfred@dante.de>
	<200410011325.i91DPF509066@f7.net>
	<20041001183354.11b3bbf1.manfred@dante.de>
Message-ID: <20041002213219.GB29220@lucien.kn-bremen.de>

On 2004-10-01 18:33:54 +0200, Manfred Lotz wrote:
> Well, I'm using the FreeBSD binaries on my system. However, I also could
> use the Linux binaries on FreeBSD. I don't know if there are many users
> out there using FreeBSD and the FreeBSD binaries.

You could also wait for the next teTeX release in ports. :-)

Best regards
    Martin
-- 
               Martin Schr?der, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From karl at freefriends.org  Sun Oct  3 01:13:52 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct  3 01:15:44 2004
Subject: [tex-live] t1utils source now 1.32
In-Reply-To: <20041002222429.37ecf3a8.manfred@dante.de>
Message-ID: <200410022313.i92NDqW30548@f7.net>

    ./manage_i18n.pl:No such file or directory

Manfred -- regarding this problem in texi2html, it appears to me that
translations.pl was out of date with respect to some of its dependents.
What I don't understand is why it was getting rebuilt at all, as I don't
see that anything depends on it.

The actual error also seems strange.  manage_i18n.pl is there in the
texi2html directory (you have it, right?  And it's executable?), and I
see from the rest of the make output that you have /usr/bin/perl.

Anyway, I touched translations.pl and checked that in.  Hope it doesn't
mysteriously break anything else, but it probably will, the way things
are going.

From karl at freefriends.org  Sun Oct  3 01:56:49 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct  3 01:58:28 2004
Subject: [tex-live] FPL Fonts missing?
In-Reply-To: <415D9734.29A78ADA@physik.uni-erlangen.de>
Message-ID: <200410022356.i92Nung08982@f7.net>

Hi Ralf,

    However, I can't find the FPL Fonts

I just added them.  Very glad you noticed this.
And thanks for all your work on the fonts!

BTW, you might consider including a simple (La)TeX document showing how
to use the fonts.  Maybe something could just be copied from psnfss?  I
confess I didn't look.

Thanks,
karl

P.S. Sebastian, I couldn't figure out how to make ctan2tds do the right
thing -- it wanted to throw everything into doc --, so I did it by hand.
If you could give me some of your usual laconic hints ... I tried adding
it to some of the special case lists, to no avail.

From karl at freefriends.org  Sun Oct  3 02:18:55 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct  3 02:18:58 2004
Subject: [tex-live] openbsd deleted
Message-ID: <200410030018.i930ItS15759@tug.org>

Since no one has objected, I've deleted the openbsd binaries for TL and
support from the installation scripts.

From staw at gust.org.pl  Sun Oct  3 06:23:39 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Sun Oct  3 06:12:37 2004
Subject: [tex-live] TL's doc stuff
Message-ID: <Pine.LNX.4.44.0410030608580.15299-100000@re86.internetdsl.tpnet.pl>

Checking documents found on p4:
texmf-dist/doc/latex/base/html/  - obsolete (we have newer .pdf)
texmf-dist/doc/latex/carlisle/   - missing files (to be made from .dtx)
texmf-dist/doc/latex/tools/      - as above

less important from texmf-dist/doc/latex/:
ae/ -> ../doc/fonts
aeguil -> ../doc/fonts
ar -> ../doc/fonts

to be updated from CTAN:
abstract/
alg/
appendix/
ascelike/

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From manfred at dante.de  Sun Oct  3 07:18:37 2004
From: manfred at dante.de (Manfred Lotz)
Date: Sun Oct  3 07:30:12 2004
Subject: [tex-live] t1utils source now 1.32
In-Reply-To: <200410022313.i92NDqW30548@f7.net>
References: <20041002222429.37ecf3a8.manfred@dante.de>
	<200410022313.i92NDqW30548@f7.net>
Message-ID: <20041003071837.1d775c8f.manfred@dante.de>

On Sat, 2 Oct 2004 19:13:52 -0400
karl@freefriends.org (Karl Berry) wrote:

>     ./manage_i18n.pl:No such file or directory
> 
> Manfred -- regarding this problem in texi2html, it appears to me that
> translations.pl was out of date with respect to some of its
> dependents. What I don't understand is why it was getting rebuilt at
> all, as I don't see that anything depends on it.
> 
> The actual error also seems strange.  manage_i18n.pl is there in the
> texi2html directory (you have it, right?  And it's executable?), and I
> see from the rest of the make output that you have /usr/bin/perl.
> 

Yes manage_i18n.pl is in 
./source.development/TeX/utils/texi2html/manage_i18n.pl
but it is not in
./source.development/Work/TeX/utils/texi2html.
where make tries to call it.


> Anyway, I touched translations.pl and checked that in.  Hope it
> doesn't mysteriously break anything else, but it probably will, the
> way things are going.

When running the build same error as before.



-- 
Manfred
-- 
echo "Manfred"
echo ""
echo ""
/usr/games/fortune -s ml/ml-fortune

From tigran at aivazian.fsnet.co.uk  Sun Oct  3 08:59:31 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Sun Oct  3 09:00:09 2004
Subject: [tex-live] tex.web missing?
In-Reply-To: <200409291315.i8TDFZ917916@f7.net>
Message-ID: <Pine.LNX.4.44.0410030734120.2663-100000@einstein.homenet>

Hi Karl,

On Wed, 29 Sep 2004, Karl Berry wrote:
> Maybe remove everything inside web2c, and do p4 sync [-f] again?
> Or use rsync -a to get the files and forget p4.

I have just done a "p4 sync" again and it still didn't get tex.web. 
However, then I have done a "p4 sync -f" and tex.web plus lots of other 
files appeared. So I will hopefully be able to build the latest TeX Live 
when p4 sync -f finishes (it's still going now).

Kind regards
Tigran


From fabrice.popineau at supelec.fr  Sun Oct  3 10:37:22 2004
From: fabrice.popineau at supelec.fr (Fabrice Popineau)
Date: Sun Oct  3 10:39:00 2004
Subject: [tex-live] Build of Oct 2,
	22:45 source.development fails onMac OS X
In-Reply-To: <Pine.LNX.4.44.0410030056500.8963-100000@re86.internetdsl.tpnet.pl>
Message-ID: <20041003083722.9F78F1F32FA@postfix4-1.free.fr>

> As I've already wrote, I have exactly the same problem
> on my Linux box. I cannot update my autoconf without breaking
> so many things... Any clue?

Drop that autoconf stuff.

It is an issue I raised privately with a couple of people. My opinion is
that it does more harm than good. And it also may well refrain potential
developers to join if it is that easy to get stuck.

The real thing behind autoconf is:
1 - it is easy even for a newbie to turn a bunch of .c/.h files into
Makefiles
2 - it simply doesn't scale well.

It would be much simpler to maintain a bunch of makefiles  and c-auto.h for
unixes.

BTW:
1 - the naming for the 'features' that appear in c-auto.h is completely
inconsistent. If you look at various GNU packages, you can find the same
features named 2 or 3 times differently. Not good.
2 - when you want to do too much clever things, you end up sometimes doing
stupid things. Aka generate a 220k shell script for building a 30 lines .h
file. I'm not sure we need that.

Well, that's my opinion. I know I have no chances to convince people here.
But I stated it 'for the record'.

Fabrice

From olaf at infovore.xs4all.nl  Sun Oct  3 11:54:13 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Sun Oct  3 11:53:32 2004
Subject: [tex-live] Build of Oct 2, 22:45 source.development fails on
	Mac OS X
In-Reply-To: <Pine.LNX.4.44.0410030056500.8963-100000@re86.internetdsl.tpnet.pl>
	(Staszek
	Wawrykiewicz's message of "Sun, 3 Oct 2004 01:03:34 +0200 (CEST)")
References: <Pine.LNX.4.44.0410030056500.8963-100000@re86.internetdsl.tpnet.pl>
Message-ID: <87hdpcyvne.fsf@infovore.xs4all.nl>

Staszek Wawrykiewicz writes:
> On Sat, 2 Oct 2004, Gerben Wierda wrote:

>> I updated the source tree and ran a make clean, a removal of all  
>> config.caches, a configure and a make install. This breaks down because  
>> autoconf is being called and my autoconf on my build system is not new  
>> enough. I cannot install a newer autoconf on my system (it is a  
>> nightmare). Besides, normally, this should not be necessary.

> As I've already wrote, I have exactly the same problem
> on my Linux box. I cannot update my autoconf without breaking
> so many things... Any clue?

As a general rule, the various files used by autoconf and automake
should be oldest to newest in this order (often used alternate names
in parentheses):

    Makefile.am    configure.ac (configure.in)
    Makefile.in    config.h.in (config.hin)          configure

So far it seems I've been most successful at avoiding timestamp
problems by doing separate checkins for these generated files in the
order given above.  (That is, Makefile.am and configure.ac with the
main sources, Makefile.in, config.h.in, configure as generated files
in a second batch; if you don't use automake, Makefile.in goes into
the first batch, of course.)

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From olaf at infovore.xs4all.nl  Sun Oct  3 13:12:34 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Sun Oct  3 13:11:40 2004
Subject: [tex-live] Build of Oct 2, 22:45 source.development fails onMac
	OS X
References: <20041003083722.9F78F1F32FA@postfix4-1.free.fr>
Message-ID: <877jq8ys0t.fsf@infovore.xs4all.nl>

Fabrice Popineau writes:

>> As I've already wrote, I have exactly the same problem
>> on my Linux box. I cannot update my autoconf without breaking
>> so many things... Any clue?

> Drop that autoconf stuff.

> It is an issue I raised privately with a couple of people. My opinion is
> that it does more harm than good. And it also may well refrain potential
> developers to join if it is that easy to get stuck.

I'm inclined to disagree.  The problem with autoconf (automake) that
we've been running into is timestamps, combined with rules for
rebuilding those files that don't apply when (for example) the source
tree is not writable.  Just being more careful when doing a checkin
should go a long way to solve that.

> The real thing behind autoconf is:
> 1 - it is easy even for a newbie to turn a bunch of .c/.h files into
>     Makefiles
> 2 - it simply doesn't scale well.

> It would be much simpler to maintain a bunch of makefiles and
> c-auto.h for unixes.

I suspect you underestimate the amount of work required.  Certainly my
experience with packages that use this form of configuration is not
that good: the config file for the host the developer uses is often
the only one that's actually correct and up-to-date.

Complicating factors:

- We won't be able to abandon autoconf anyway as long as we include
  packages that use autoconf.
- libtool depends on autoconf.

> BTW:
> 1 - the naming for the 'features' that appear in c-auto.h is completely
> inconsistent. If you look at various GNU packages, you can find the same
> features named 2 or 3 times differently. Not good.

Some of this may be due to using different versions of autoconf, I
think.  Can you give some concrete examples?

> 2 - when you want to do too much clever things, you end up sometimes doing
> stupid things. Aka generate a 220k shell script for building a 30 lines .h
> file. I'm not sure we need that.

On the one hand, our 220k-sized scripts are on the smaller side these
days.  On the other hand, the autoconf developers do recognize that
this is a problem.

> Well, that's my opinion. I know I have no chances to convince people here.
> But I stated it 'for the record'.

> Fabrice

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From siepo at cybercomm.nl  Sun Oct  3 13:44:58 2004
From: siepo at cybercomm.nl (Siep Kroonenberg)
Date: Sun Oct  3 13:46:40 2004
Subject: [tex-live] location of t1* binaries
Message-ID: <20041003114458.GB13987@muisje>

Silly question: why are the t1* type utilities placed one level up
from the other binaries?

-- 
Siep Kroonenberg

From karl at freefriends.org  Sun Oct  3 15:47:15 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct  3 15:49:00 2004
Subject: [tex-live] t1utils source now 1.32
In-Reply-To: <20041003071837.1d775c8f.manfred@dante.de>
Message-ID: <200410031347.i93DlF606540@f7.net>

    but it is not in
    ./source.development/Work/TeX/utils/texi2html.

Ah, of course.

In that case, one expedient way to proceed is to make a symlink in
Work/ to the original manage_i18n.pl.

Alternatively, run gmake -rd, and see why it "Must remake"
translations.pl in the first place, and touch the necessary files.
(Send me the whole output if you can't figure it out.)

The real fix is to add $(srcdir) to the Makefile rule invoking it, but
that will involve more painful timestamp updating.  I'll work on that
later today.

From te at dbs.uni-hannover.de  Sun Oct  3 19:13:01 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sun Oct  3 19:14:50 2004
Subject: [tex-live] location of t1* binaries
In-Reply-To: <20041003114458.GB13987@muisje>
References: <20041003114458.GB13987@muisje>
Message-ID: <20041003171301.GC30269@dbs.uni-hannover.de>

> Silly question: why are the t1* type utilities placed one level up
> from the other binaries?

I just have added support for the multi-platform layout to t1utils
(change #6062). I have done this some time ago (change #4277).

Eddie, the directory layout of TeX Live puts binaries to
$prefix/bin/$platform. All that you would need to do to support
this is to add a few lines to configure.in (e.g. directly before
"AC_OUTPUT(Makefile)"):

    # For teTeX and TeX Live.
    AC_CANONICAL_HOST
    AC_ARG_ENABLE(multiplatform,
      [  --enable-multiplatform  put executables in bin/PLATFORM])
    test "x$enable_multiplatform" = xyes \
      && test "x$bindir" = 'x${exec_prefix}/bin' \
      && bindir="$bindir/$host"

For this to work, you also need to put config.guess / config.sub to the
top-level directory.

Both, t1utils and lcdf-typetools would benefit from this.

If you accept to add this, then t1utils can be used directly and without
modification from you.  For lcdf-typetools we still have to make a simple
adjustment, because we use the kpathsea library from the source tree
(before it is installed). If you want to support this, too, then I can
try to send you a suitable patch for this.

Thomas

From karl at freefriends.org  Sun Oct  3 19:41:21 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct  3 19:43:02 2004
Subject: [tex-live] TL's doc stuff
In-Reply-To: <Pine.LNX.4.44.0410030608580.15299-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200410031741.i93HfLL28694@f7.net>

    texmf-dist/doc/latex/base/html/  - obsolete (we have newer .pdf)

Deleted.

    texmf-dist/doc/latex/carlisle/   - missing files (to be made from .dtx)

Added (pdf only, life is too short).  I also moved the pspicture.ps
header file from doc to the runtime (dvips/carlisle).  Hope it flies.

    texmf-dist/doc/latex/tools/      - as above

Added pdf's.

    less important from texmf-dist/doc/latex/:
    ae/ -> ../doc/fonts
    aeguil -> ../doc/fonts
    ar -> ../doc/fonts

If you feel like moving them, please do.

    to be updated from CTAN:
    abstract/
    alg/
    appendix/
    ascelike/

Updated.

Thanks,
karl

From staw at gust.org.pl  Sun Oct  3 19:58:59 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Sun Oct  3 19:47:39 2004
Subject: [tex-live] new man pages
Message-ID: <Pine.LNX.4.44.0410031950540.17348-100000@re86.internetdsl.tpnet.pl>

I've just cleaned texmf/doc/man with new versions (and proper LF
line endings ;-). As before, cont-* are hard copies of pdfetex
(however not so sure that is proper) and lambda.1 is a copy of omega.1
All that because windows cannot cope with soft links.
Change #6068, voila

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From manfred at dante.de  Sun Oct  3 20:12:14 2004
From: manfred at dante.de (Manfred Lotz)
Date: Sun Oct  3 20:13:58 2004
Subject: [tex-live] t1utils source now 1.32
In-Reply-To: <200410031347.i93DlF606540@f7.net>
References: <20041003071837.1d775c8f.manfred@dante.de>
	<200410031347.i93DlF606540@f7.net>
Message-ID: <20041003201214.1fdb3d66.manfred@dante.de>

On Sun, 3 Oct 2004 09:47:15 -0400
karl@freefriends.org (Karl Berry) wrote:

>     but it is not in
>     ./source.development/Work/TeX/utils/texi2html.
> 
> Ah, of course.
> 
> In that case, one expedient way to proceed is to make a symlink in
> Work/ to the original manage_i18n.pl.
> 
> Alternatively, run gmake -rd, and see why it "Must remake"
> translations.pl in the first place, and touch the necessary files.
> (Send me the whole output if you can't figure it out.)
> 

It couldn't almost believe it but now I ran through! Seems like a
miracle :-)

I changed make to gmake in the Build script. Running Build using make
gives the error with translations.pl

However, when I tried gmake earlier on various tries it didn't run
through. That's why I didn't use it all of the time.



-- 
Manfred

From karl at freefriends.org  Sun Oct  3 20:32:30 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct  3 20:34:09 2004
Subject: [tex-live] lshort updates
Message-ID: <200410031832.i93IWUG05651@f7.net>

Maksym pointed out that the English lshort in TL wasn't updated either.
I did that.  But I also noticed that there are now translations on CTAN
for other languages that we don't have, and some of the ones we do have
are not up to date.

Would someone else like to take care of this?  Anyone?  Please?
Just needs a bunch of p4 edits, deletes, and adds ...
(For extra credit, update the version numbers in texmf-doc/tpm/*.tpm too.)

Thanks,
karl

From fabrice.popineau at supelec.fr  Sun Oct  3 20:43:25 2004
From: fabrice.popineau at supelec.fr (Fabrice Popineau)
Date: Sun Oct  3 20:45:17 2004
Subject: [tex-live] Build of Oct 2,
	22:45 source.development fails onMacOS X
In-Reply-To: <877jq8ys0t.fsf@infovore.xs4all.nl>
Message-ID: <20041003184331.9ACA41F31BD@postfix4-1.free.fr>

> I suspect you underestimate the amount of work required.

Possibly. My point is that for most people, it would be easier to fix a
regular (simple) Makefile (if needed) than this autoconf problem.


>  Certainly my
> experience with packages that use this form of configuration is not
> that good: the config file for the host the developer uses is often
> the only one that's actually correct and up-to-date.

The problem is when you try to put together a platform like texlive which is
built out of several independently maintained packages: there are few
chances the developers do use the same version of auto* stuff than you are.
Without speaking of those packages than can compile with or without kpathsea
etc.

> Some of this may be due to using different versions of autoconf, I
> think.  Can you give some concrete examples?

I think I was refereeing to HAVE_DECL_GETENV (GNU grep, doffutils) vs
HAVE_GETENV_H. I must say I haven't look into it, was merely afraid by the
profusion of symbols refereeing to the same function and some new direction
showing up.

But anyway, my point was: who ensures the stability of this set of features?

Fabrice

From Gerben.Wierda at rna.nl  Sun Oct  3 21:46:25 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sun Oct  3 21:48:06 2004
Subject: [tex-live] (fwd) [Aleph] Wrong patch for LaTeX
In-Reply-To: <20040926121156.GA14868@dbs.uni-hannover.de>
References: <20040926105708.GC29418@gamma.logic.tuwien.ac.at>
	<20040926121156.GA14868@dbs.uni-hannover.de>
Message-ID: <E926A426-1574-11D9-877D-003065B3343E@rna.nl>

I ran into this too. I agree with you in principle, but what does this 
mean for the search trees? Because it is in fact lambda format creation 
that fails (or do I misunderstand something?):

running `omega -ini   -jobname=lambda -progname=lambda lambda.ini' ...
This is Omega, Version 3.141592-1.23.2.3 (Web2C 7.5.3) (INIOMEGA)
Copyright (c) 1994--2000 John Plaice and Yannis Haralambous
(/usr/local/teTeX/share/texmf.tetex/omega/lambda/config/lambda.ini
(/usr/local/teTeX/share/texmf.tetex/omega/lambda/base/lambda.tex
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/latex.ltx
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/texsys.cfg)
./texsys.aux found


\@currdir set to: ./.


Assuming \openin and \input
have the same search path.


Defining UNIX/DOS style filename parser.

catcodes, registers, compatibility for TeX 2,  parameters,
LaTeX2e <2003/12/01>
hacks, control, par, spacing, files, font encodings, lengths,
====================================

Local config file fonttext.cfg used

====================================
(/usr/local/teTeX/share/texmf.tetex/tex/generic/config/fonttext.cfg
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/fonttext.ltx
=== Don't modify this file, use a .cfg file instead ===

(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/omlenc.def)
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/t1enc.def)
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/ot1enc.def)
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/omsenc.def)
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/t1cmr.fd)
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/ot1cmr.fd)
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/ot1cmss.fd)
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/ot1cmtt.fd)))
====================================

Local config file fontmath.cfg used

====================================
(/usr/local/teTeX/share/texmf.tetex/tex/generic/config/fontmath.cfg
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/fontmath.ltx
=== Don't modify this file, use a .cfg file instead ===

(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/omlcmm.fd)
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/omscmsy.fd)
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/omxcmex.fd)
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/ucmr.fd)))
====================================

Local config file preload.cfg used

=====================================
(/usr/local/teTeX/share/texmf.tetex/tex/generic/config/preload.cfg
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/preload.ltx
(/usr/local/teTeX/share/texmf.tetex/tex/generic/encodings/cmex.onm)
(/usr/local/teTeX/share/texmf.tetex/tex/generic/encodings/cmr.onm)
(/usr/local/teTeX/share/texmf.tetex/tex/generic/encodings/cmmi.onm)
(/usr/local/teTeX/share/texmf.tetex/tex/generic/encodings/cmsy.onm)))
page nos., x-ref, environments, center, verbatim, math definitions, 
boxes,
title, sectioning, contents, floats, footnotes, index, bibliography, 
output,
===========================================
Local configuration file hyphen.cfg used
===========================================
(/usr/local/teTeX/share/texmf.tetex/tex/generic/babel/hyphen.cfg
(/usr/local/teTeX/share/texmf.tetex/tex/generic/hyphen/hyphen.tex)
(/usr/local/teTeX/share/texmf.tetex/tex/generic/hyphen/eshyph.tex)
(/usr/local/teTeX/share/texmf.tetex/tex/generic/ruhyphen/ruhyphen.tex
(/usr/local/teTeX/share/texmf.tetex/tex/generic/ruhyphen/catkoi.tex)
(/usr/local/teTeX/share/texmf.tetex/tex/generic/ruhyphen/koi2t2a.tex)
(/usr/local/teTeX/share/texmf.tetex/tex/generic/ruhyphen/ruhyphal.tex)
(/usr/local/teTeX/share/texmf.tetex/tex/generic/ruhyphen/cyryoal.tex)
(/usr/local/teTeX/share/texmf.tetex/tex/generic/ruhyphen/hypht2.tex))
(/usr/local/teTeX/share/texmf.tetex/omega/lambda/omegabook/grmhyph.tex
(/usr/local/teTeX/share/texmf.tetex/omega/lambda/omegabook/grcodes.tex
catcodes, ucccodes and lccodes for Greek)
Hyphenation patterns for polytonic Modern Greek)
(/usr/local/teTeX/share/texmf.tetex/omega/lambda/oinuit/inuit.hpn
Hyphenation patterns for Inuktitut)
(/usr/local/teTeX/share/texmf.tetex/tex/generic/hyphen/dumyhyph.tex)
(/usr/local/teTeX/share/texmf.tetex/tex/generic/hyphen/zerohyph.tex))
=================================
Applying patch file ltpatch.ltx
=================================
(/usr/local/teTeX/share/texmf.tetex/omega/lambda/omegabook/ltpatch.ltx)



!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!! Patch file `ltpatch.ltx' (for version <2001/06/01>)
!! is not suitable for version <2003/12/01> of LaTeX.

!! Please check if initex found an old patch file:
!! --- if so, rename it or delete it, and redo the
!! initex run.
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!


G

On Sep 26, 2004, at 14:11, Thomas Esser wrote:

>> On the aleph ml this email arrived, and in the current texlive there 
>> is
>> still this ltpatch in the omegabook subdir, which may cause problems
>> again. What do we do with it?
>
> formats have to be created using the right search paths. Everything
> else will fail. A system taht is as large as TeX Live cannot work if
> applications pick files from arbitrary places of the texmf tree.
>
> All latex based formats (besides lambda and lamed) should have search
> paths which make sure that tex/latex// is searched before tex/lambda//
> and tex//.
>
> I don't see a problem. Not even a license problem. That "strange"
> ltpatch.ltx is not derived from a file which is covered by lppl, so the
> lppl does not apply.
>
> Thomas
>
> _______________________________________________
> TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live
>

From te at dbs.uni-hannover.de  Sun Oct  3 22:23:08 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sun Oct  3 22:25:00 2004
Subject: [tex-live] (fwd) [Aleph] Wrong patch for LaTeX
In-Reply-To: <E926A426-1574-11D9-877D-003065B3343E@rna.nl>
References: <20040926105708.GC29418@gamma.logic.tuwien.ac.at>
	<20040926121156.GA14868@dbs.uni-hannover.de>
	<E926A426-1574-11D9-877D-003065B3343E@rna.nl>
Message-ID: <20041003202308.GC15511@dbs.uni-hannover.de>

> !! Patch file `ltpatch.ltx' (for version <2001/06/01>)
> !! is not suitable for version <2003/12/01> of LaTeX.

The file has to be updated to work with the new latex. I have done this
in my local version. Later, I have removed the file since Sebastian
wrote that it belongs to this omegabook package which can be removed.

Thomas

From pragma at wxs.nl  Sun Oct  3 22:44:13 2004
From: pragma at wxs.nl (h h extern)
Date: Sun Oct  3 22:46:03 2004
Subject: [tex-live] new man pages
In-Reply-To: <Pine.LNX.4.44.0410031950540.17348-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0410031950540.17348-100000@re86.internetdsl.tpnet.pl>
Message-ID: <4160649D.30702@wxs.nl>

Staszek Wawrykiewicz wrote:

> I've just cleaned texmf/doc/man with new versions (and proper LF
> line endings ;-). As before, cont-* are hard copies of pdfetex

i have no clue what cont-* copies you mean; i never have to copy pdfetex 
to anything context -)

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From karl at freefriends.org  Sun Oct  3 23:56:11 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct  3 23:56:12 2004
Subject: [tex-live] unixinst.iso
Message-ID: <200410032156.i93LuBh26252@tug.org>

As of tonight's build, we should start having a "unixinst" iso image,
instead of an "inst" image, with the windows binaries and packages not
included.  (I may have missed some.)

This is because the new MSI-based Windows installer (which Fabrice is
still working on) requires cab files and cannot use zip files.  And the
Unix side cannot use cab files, all the places we found with cab
libraries for Unix did not support any compression schemes.  (There was
a long thread about this earlier in the year, if anyone cares.)

So we'll make both "unix inst" and "windows inst" CD's (as well as the
DVD with everything).

Not building the "windows inst" CD yet since the cab files aren't present,
etc.

k

From fabrice.popineau at supelec.fr  Mon Oct  4 01:21:02 2004
From: fabrice.popineau at supelec.fr (Fabrice Popineau)
Date: Mon Oct  4 01:22:42 2004
Subject: [tex-live] unixinst.iso
In-Reply-To: <200410032156.i93LuBh26252@tug.org>
Message-ID: <!~!AAAAAJ8bF0glQA9PjsYv2fUVZESED4EA@supelec.fr>

> Not building the "windows inst" CD yet since the cab files aren't present,
> etc.

BTW, once it is done, where do you want me to updload that stuff? Do you
prefer to build the image or do you want me to do it? I can upload it quite
quickly to ftp://ftp.dante.de/pub/fptex/... assuming there is enough room.

Fabrice
-------------- next part --------------
A non-text attachment was scrubbed...
Name: winmail.dat
Type: application/ms-tnef
Size: 1490 bytes
Desc: not available
Url : http://tug.org/mailman/private/tex-live/attachments/20041004/8f30b62b/winmail.bin
From karl at freefriends.org  Mon Oct  4 01:48:51 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Oct  4 01:50:40 2004
Subject: [tex-live] unixinst.iso
In-Reply-To: <!~!AAAAAJ8bF0glQA9PjsYv2fUVZESED4EA@supelec.fr>
Message-ID: <200410032348.i93NmpU32637@f7.net>

    BTW, once it is done, where do you want me to updload that stuff? 

dante or tug is fine.  Anywhere that's convenient for you.

    Do you prefer to build the image or do you want me to do it? 

If you're already totally set up to build an .iso, or if some
Microsoft-specific things have to be done to build the iso (not just
running mkisofs like we do for the others), that's fine.

If not, my preference in principle would be for you to upload the .cab
files and other constituents and tell me what to do, so I can have at
least a vague understanding of what is going on.

    I can upload it quite quickly to
    ftp://ftp.dante.de/pub/fptex/... assuming there is enough room.

If not, we have lots of space available on tug these days.

Thanks,
k

From olaf at infovore.xs4all.nl  Mon Oct  4 12:29:18 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Mon Oct  4 12:27:57 2004
Subject: [tex-live] Build of Oct 2, 22:45 source.development fails
	onMacOS X
In-Reply-To: <20041003184331.9ACA41F31BD@postfix4-1.free.fr> (Fabrice
	Popineau's message of "Sun, 3 Oct 2004 20:43:25 +0200")
References: <20041003184331.9ACA41F31BD@postfix4-1.free.fr>
Message-ID: <87wty67p4x.fsf@infovore.xs4all.nl>

Fabrice Popineau writes:

>> I suspect you underestimate the amount of work required.

> Possibly. My point is that for most people, it would be easier to fix a
> regular (simple) Makefile (if needed) than this autoconf problem.

That's likely true, esp. given the number of mutually
almost-compatible versions of auto* stuff around.

>> Some of this may be due to using different versions of autoconf, I
>> think.  Can you give some concrete examples?

> I think I was refereeing to HAVE_DECL_GETENV (GNU grep, doffutils) vs
> HAVE_GETENV_H. I must say I haven't look into it, was merely afraid by the
> profusion of symbols refereeing to the same function and some new direction
> showing up.

HAVE_GETENV_H: "This machine has the getenv.h header"
HAVE_DECL_GETENV: "This machine has a declaration for getenv()"

> But anyway, my point was: who ensures the stability of this set of features?

Us?  :-(

> Fabrice

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From Fabrice.Popineau at supelec.fr  Mon Oct  4 13:52:15 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Mon Oct  4 13:57:14 2004
Subject: [out of topic] RE: [tex-live] Build of Oct 2,
	22:45 source.development fails onMacOS X
In-Reply-To: <87wty67p4x.fsf@infovore.xs4all.nl>
Message-ID: <200410041152.i94BqH504658@esemetz.metz.supelec.fr>


> HAVE_GETENV_H: "This machine has the getenv.h header"
> HAVE_DECL_GETENV: "This machine has a declaration for getenv()"

+ HAVE_GETENV, which makes 3. This new 3 symbols scheme has been introduced
into some recent GNU packages apparently. What I regret is that when such
changes are made, they are not propagated to all the GNU packages. You could
expect to put the whole set of packages side by side, run your configure
stuff and get something homogeneous. But it does not work like that. 

Somehow, it was one of the differences between FreeBSD philosophy and Linux
philosophy (at least somewhere in the past): you could assemble Linux by
getting components (binaries) from various places without guarantee that
they were made to run together whereas FreeBSD had a release scheme and the
whole stuff (of a given version) is compiled from the same source tree. 

On the other hand I had something quite similar happening here. I had
colleagues wanting to play with the common c++ library and libxml on .Net.
They compiled it using the provided VC++ projects and tried to use it on
another machine. For some unknown reason, it failed to link the simplest
program because of a missing destructor. Probably the compilation
environment for the DLL was different from the one where they tried to
compile the test application. But my point is: VC++ projects are complex
(hideous?) stuff, very painful to look at because you need to endlessly open
dialog boxes to check the parameters.

My point: this library compiles into a dll using a simple command line. So a
simple makefile would have been more appropriate than anything else.

> > But anyway, my point was: who ensures the stability of this set of
> features?
> 
> Us?  :-(

Frightening, isn't it ?!

Fabrice

From polyakov at virginia.forestry.auburn.edu  Mon Oct  4 15:48:32 2004
From: polyakov at virginia.forestry.auburn.edu (Maksym Polyakov)
Date: Mon Oct  4 16:02:23 2004
Subject: [tex-live] unixinst.iso
In-Reply-To: <200410032156.i93LuBh26252@tug.org>
References: <200410032156.i93LuBh26252@tug.org>
Message-ID: <20041004134830.GA9811@virginia.forestry.auburn.edu>

Hi, Karl

On Sun, Oct 03, 2004 at 11:56:11PM +0200, Karl Berry (KB) wrote:

KB> So we'll make both "unix inst" and "windows inst" CD's (as well as the 
KB> DVD with everything). 

I hope "unix inst" will contain windows binaries, because one might want
to install multiple binaries on unix machine and share e.g. via samba 

-- 
MP



From te at dbs.uni-hannover.de  Mon Oct  4 19:07:44 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Mon Oct  4 19:09:30 2004
Subject: [tex-live] letterspacing.tex
Message-ID: <20041004170744.GE24911@dbs.uni-hannover.de>

The license of the file violates the policy of TeX Live (no modifications
are allowed):

    This file, "letterspacing.tex", created by Philip Taylor of RHBNC
    (P.Taylor@Mail.Rhbnc.Ac.Uk) for Kaveh Bazargan of Focal Image
    (Kaveh@Focal.Demon.Co.Uk) may be freely distributed provided that
    no changes whatsoever are made to its contents

and Phil says
  "that original wording is exactly as I would wish it"

So, zap that file?

Thomas

From karl at freefriends.org  Mon Oct  4 19:17:27 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Oct  4 19:19:15 2004
Subject: [tex-live] letterspacing.tex
In-Reply-To: <20041004170744.GE24911@dbs.uni-hannover.de>
Message-ID: <200410041717.i94HHRq11329@f7.net>

        (Kaveh@Focal.Demon.Co.Uk) may be freely distributed provided that
        no changes whatsoever are made to its contents

Sigh.

Let me ask Phil before we zap.  Maybe he wouldn't mind changes if the
file got renamed first.  (Unless you specifically asked him about that?)

Thanks,
k

From sebastian.rahtz at computing-services.oxford.ac.uk  Mon Oct  4 19:18:39 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon Oct  4 19:19:20 2004
Subject: [tex-live] letterspacing.tex
In-Reply-To: <20041004170744.GE24911@dbs.uni-hannover.de>
References: <20041004170744.GE24911@dbs.uni-hannover.de>
Message-ID: <416185EF.9040602@computing-services.oxford.ac.uk>

Thomas Esser wrote:

>The license of the file violates the policy of TeX Live (no modifications
>are allowed):
>
>    This file, "letterspacing.tex", created by Philip Taylor of RHBNC
>    (P.Taylor@Mail.Rhbnc.Ac.Uk) for Kaveh Bazargan of Focal Image
>    (Kaveh@Focal.Demon.Co.Uk) may be freely distributed provided that
>    no changes whatsoever are made to its contents
>
>and Phil says
>  "that original wording is exactly as I would wish it"
>
>So, zap that file?
>  
>
I am afraid so. Sorry, Phil.

sebastian

From te at dbs.uni-hannover.de  Mon Oct  4 19:42:13 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Mon Oct  4 19:43:56 2004
Subject: [tex-live] letterspacing.tex
In-Reply-To: <200410041717.i94HHRq11329@f7.net>
References: <20041004170744.GE24911@dbs.uni-hannover.de>
	<200410041717.i94HHRq11329@f7.net>
Message-ID: <20041004174213.GF24911@dbs.uni-hannover.de>

On Mon, Oct 04, 2004 at 01:17:27PM -0400, Karl Berry wrote:
> file got renamed first.  (Unless you specifically asked him about that?)

Somehow, Frank K?ster has mentioned this...

    To: Frank K?ster <frank@debian.org>
    Cc: 274868-forwarded@bugs.debian.org, Robert Smith <r_q_smith@yahoo.com>,
            Philip TAYLOR <P.Taylor@rhul.ac.uk>
    Subject: Re: Bug#274868: Non-free file license in tetex-base

    Frank K?ster wrote:
    > a Debian user has found that there is a file in teTeX with a non-free
    > license:

    Thanks. I'll take that file out of my current beta. I'll put it back if
    that file gets a free software license.

    > ,----
    > | This file, "letterspacing.tex", created by Philip Taylor of RHBNC
    > | (P.Taylor@Mail.Rhbnc.Ac.Uk) for Kaveh Bazargan of Focal Image
    > | (Kaveh@Focal.Demon.Co.Uk) may be freely distributed provided that
    > | no changes whatsoever are made to its contents
    > `----
    >
    > > There is no other text to suggest that changing the
    > > filename or distributing with patch files would be
    > > acceptable to the author.
    >
    > This is still the same in the current beta, and I think it is also not
    > compliant to the policy you follow for teTeX.

    Right.

    > Do you know anything about the upstream authors? I couldn't find really
    > recent hits for them on Google, but the most recent ones (2003 and 2001,
    > respectively) indicated the old addresses.

    I have added Philip Taylor with a hopefully working email adress to Cc:.

    > P.S. I know that you intend teTeX to be a collection of free software -
    > but I couldn't find anything about that on the homepage at
    > http://www.tug.org/tetex/. Why not include "provide a TeX system that
    > consists only of Free Software" in the list of your aims, with a link to
    > an explanation about your understanding of Free Software?

    Done. Thanks for the idea.

    Thomas

Thomas

From karl at freefriends.org  Mon Oct  4 19:49:28 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Oct  4 19:51:10 2004
Subject: [tex-live] unixinst.iso
In-Reply-To: <20041004134830.GA9811@virginia.forestry.auburn.edu>
Message-ID: <200410041749.i94HnSu19415@f7.net>

    I hope "unix inst" will contain windows binaries, 

Right now, it doesn't.  I'm not sure if there will be enough space.

    because one might want to install multiple binaries on unix machine
    and share e.g. via samba

I know this has been a possibility in the past, but how many people have
made use of it?  Do you?  It's really only useful for Unix TeX geeks
working on Windows, i.e., people who try to make their Windows machines
look like Unix, because there wouldn't be any support files or GUI or
Windows install, just the bare binaries.

In the times I've made the windows binaries available that way, no real
user ever actually touched them.

It would probably be possible to go the other way -- install the windows
binaries from the windows disc and then copy/share them onto the Unix side.

From staw at gust.org.pl  Mon Oct  4 20:29:49 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Mon Oct  4 20:17:59 2004
Subject: [tex-live] unixinst.iso
In-Reply-To: <200410041749.i94HnSu19415@f7.net>
Message-ID: <Pine.LNX.4.44.0410042015250.19344-100000@re86.internetdsl.tpnet.pl>

On Mon, 4 Oct 2004, Karl Berry wrote:

>     I hope "unix inst" will contain windows binaries, 
>     because one might want to install multiple binaries on unix machine
>     and share e.g. via samba
> 
> I know this has been a possibility in the past, but how many people have
> made use of it?  Do you?  It's really only useful for Unix TeX geeks
> working on Windows, i.e., people who try to make their Windows machines
> look like Unix, because there wouldn't be any support files or GUI or
> Windows install, just the bare binaries.

I *know* several installations (esp. in high school laboratories)
where TeX is served from Unix boxes. The same on TeX conferences
like BachoTeX ;-). It is easy to maintain and only need adding
any better editor on the Windows side.

> It would probably be possible to go the other way -- install the windows
> binaries from the windows disc and then copy/share them onto the Unix side.

Somehow heavy, having only CD-ROM (not uncommon DVD), since you cannot
install from cab.

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From cantaro at gmail.com  Mon Oct  4 20:46:59 2004
From: cantaro at gmail.com (Udo Zallmann)
Date: Mon Oct  4 21:19:33 2004
Subject: [tex-live] TexLive on a Live CD
Message-ID: <b3de3aab04100411464c3ef034@mail.gmail.com>

Hello list readers!

I have been thinking of creating a TexLive Live CD that would contain
a minimal Linux system and the TexLive installation. Given that the
compressed DVD image fits on a CD-R (at least it did the last time I
could find it on a server; in the meantime no current DVD image seems
to be downloadable from anywhere) and a quite usable Linux system can
be squeezed in 50 MB, I would like to know if anyone has also been
thinking in something like it, has already made it, and/or knows how
to proceed with such an experiment. Constructive input is very
welcome.

udo
-- 
No seas tan cruel
No busques m?s pretextos
No seas tan cruel
Siempre seremos pr?fugos los dos

From dak at gnu.org  Mon Oct  4 21:58:19 2004
From: dak at gnu.org (David Kastrup)
Date: Mon Oct  4 22:00:00 2004
Subject: [tex-live] TexLive on a Live CD
In-Reply-To: <b3de3aab04100411464c3ef034@mail.gmail.com> (Udo Zallmann's
	message of "Mon, 4 Oct 2004 15:46:59 -0300")
References: <b3de3aab04100411464c3ef034@mail.gmail.com>
Message-ID: <x5fz4u6ysk.fsf@lola.goethe.zz>

Udo Zallmann <cantaro@gmail.com> writes:

> I have been thinking of creating a TexLive Live CD that would
> contain a minimal Linux system and the TexLive installation. Given
> that the compressed DVD image fits on a CD-R (at least it did the
> last time I could find it on a server; in the meantime no current
> DVD image seems to be downloadable from anywhere) and a quite usable
> Linux system can be squeezed in 50 MB, I would like to know if
> anyone has also been thinking in something like it, has already made
> it, and/or knows how to proceed with such an
> experiment. Constructive input is very welcome.

Well, we all have those "wouldn't it be nice" moments where we are
mulling over something we are working with.  So obviously my idea of
this would include a well-configured Emacs with AUCTeX, preview-latex,
RefTeX and probably a few other things.  The all-out-of-one-hand
approach would offer a few incentives for additional functionality.

To wit:

a) all of the dtx documentation files could be compiled with Source
   Specials (to DVI, obviously, instead of PDF) and the respective
   line number information for \DescribeMacro and similar extracted
   into separate files, so that Emacs could fire up the respective
   definitions in either the DVI or dtx when asked to.  Potentially
   useful for source2e, too.  One should also be able to use Source
   Specials for jumping back and forth between DVI and .dtx file.

   If PDF is really necessary, one could compile with a changed
   definition of \DescribeMacro and the macrocode environments that
   would place links like #\fancyref (for \DescribeMacro and similar)
   and #42 (for the line number in the dtx file).

   This is not really so very much Emacs-specific, but would provide
   great integration possibilities with other editors as well.

b) It might be a nice idea to create info files from the documentation
   part of dtx files, too.

For the "I don't want Emacs" fraction, one could add Kile (which has
the disadvantage of dragging the whole KDE stuff onto the disk).  I
don't really like the idea to add LyX: it would basically make the CD
a chimaera between a LyX and a LaTeX solution and would suggest to
people that they can switch easily while LyX actually is a completely
different world with a LaTeX backend only.  Still, the overlap between
a LyX disk and a "pure" LaTeX disk is probably so large as not to
warrant separate projects.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From sebastian.rahtz at computing-services.oxford.ac.uk  Mon Oct  4 22:11:41 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon Oct  4 22:12:09 2004
Subject: [tex-live] TexLive on a Live CD
In-Reply-To: <b3de3aab04100411464c3ef034@mail.gmail.com>
References: <b3de3aab04100411464c3ef034@mail.gmail.com>
Message-ID: <4161AE7D.2000602@computing-services.oxford.ac.uk>

Udo Zallmann wrote:

>I have been thinking of creating a TexLive Live CD that would contain
>a minimal Linux system and the TexLive installation. Given that the
>compressed DVD image fits on a CD-R (at least it did the last time I
>could find it on a server; in the meantime no current DVD image seems
>to be downloadable from anywhere) and a quite usable Linux system can
>be squeezed in 50 MB, I would like to know if anyone has also been
>thinking in something like it, has already made it, and/or knows how
>to proceed with such an experiment. 
>
I have been thinking the opposite direction, of squeezing a subset of
TL onto a Knoppix remaster. My current system has 88mbytes of TL
files, and that provides enough to teach with and do simple work.

One of my long-term aims has always been to provide Debian
packages for all of TeX Live. The idea would be to make each TL
collection into a package. I just have not had time to write the
fairly small script to do the job. When this is done, it will be easy
to take Knoppix, cut out packaes, and add TeX ones, ad lib.

Sebastian

From sebastian.rahtz at computing-services.oxford.ac.uk  Mon Oct  4 22:16:34 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon Oct  4 22:17:01 2004
Subject: [tex-live] TexLive on a Live CD
In-Reply-To: <x5fz4u6ysk.fsf@lola.goethe.zz>
References: <b3de3aab04100411464c3ef034@mail.gmail.com>
	<x5fz4u6ysk.fsf@lola.goethe.zz>
Message-ID: <4161AFA2.7080103@computing-services.oxford.ac.uk>

David Kastrup wrote:

>a) all of the dtx documentation files could be compiled with Source
>   Specials (to DVI, obviously, instead of PDF) and the respective
>   line number information for \DescribeMacro and similar extracted
>   into separate files, so that Emacs could fire up the respective
>   definitions in either the DVI or dtx when asked to.  Potentially
>   useful for source2e, too.  One should also be able to use Source
>   Specials for jumping back and forth between DVI and .dtx file.
>  
>
let's be honest. how many people are capable of
intelligently browsing dtx files?

my own idea of a live CD is one in which the user writes and reads
in XML, and TeX sits in the background as a formatting
engine when needed :-}

Sebastian

From dak at gnu.org  Mon Oct  4 22:32:00 2004
From: dak at gnu.org (David Kastrup)
Date: Mon Oct  4 22:33:50 2004
Subject: [tex-live] TexLive on a Live CD
In-Reply-To: <4161AFA2.7080103@computing-services.oxford.ac.uk> (Sebastian
	Rahtz's message of "Mon, 04 Oct 2004 21:16:34 +0100")
References: <b3de3aab04100411464c3ef034@mail.gmail.com>
	<x5fz4u6ysk.fsf@lola.goethe.zz>
	<4161AFA2.7080103@computing-services.oxford.ac.uk>
Message-ID: <x57jq66x8f.fsf@lola.goethe.zz>

Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> writes:

> David Kastrup wrote:
>
>>a) all of the dtx documentation files could be compiled with Source
>>   Specials (to DVI, obviously, instead of PDF) and the respective
>>   line number information for \DescribeMacro and similar extracted
>>   into separate files, so that Emacs could fire up the respective
>>   definitions in either the DVI or dtx when asked to.  Potentially
>>   useful for source2e, too.  One should also be able to use Source
>>   Specials for jumping back and forth between DVI and .dtx file.
>>  
>>
> let's be honest. how many people are capable of
> intelligently browsing dtx files?

Which makes it desirable to increase that ratio by making it easier to
do so.

> my own idea of a live CD is one in which the user writes and reads
> in XML, and TeX sits in the background as a formatting
> engine when needed :-}

Well, depending on one's point of view that would be an XML CD or a
PostScript CD, as TeX/LaTeX is only an intermediate format in that
scenario.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From karl at freefriends.org  Mon Oct  4 23:09:08 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Oct  4 23:14:53 2004
Subject: [tex-live] TexLive on a Live CD
In-Reply-To: <b3de3aab04100411464c3ef034@mail.gmail.com>
Message-ID: <200410042109.i94L98732428@f7.net>

    in the meantime no current DVD image 

If you're talking about TeX Live, the "current" (2003) release is
available at ftp://tug.org/texlive/Images/texlive-live.iso.bz2.

test-texlive-live.iso for this year's release is available at the same
place, but it's very much "test" still.

From karl at freefriends.org  Tue Oct  5 01:02:02 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Oct  5 01:02:04 2004
Subject: [tex-live] unixinst.iso
In-Reply-To: <Pine.LNX.4.44.0410042015250.19344-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200410042302.i94N22I13978@tug.org>

    I *know* several installations (esp. in high school laboratories)
    where TeX is served from Unix boxes. 

Well, I don't know if it will fit, but we can try it.  For tonight, I
put back most of the windows packages, excluding only xemacs and the
static binaries.  We'll see what that weighs in as.

I also changed the name back to inst.

From kohler at CS.UCLA.EDU  Tue Oct  5 01:11:17 2004
From: kohler at CS.UCLA.EDU (Eddie Kohler)
Date: Tue Oct  5 01:13:22 2004
Subject: [tex-live] location of t1* binaries
In-Reply-To: <20041003171301.GC30269@dbs.uni-hannover.de>
References: <20041003114458.GB13987@muisje>
	<20041003171301.GC30269@dbs.uni-hannover.de>
Message-ID: <B1F1C27C-165A-11D9-8AF5-000A95A6D9BC@cs.ucla.edu>

Hi Thomas,

First off, I'm happy to do this, and I'm happy to make the -lkpathsea 
change you mentioned to lcdf-typetools configure.

But why aren't you just passing t1utils ./configure a '--bindir' 
option??

Eddie


On Oct 3, 2004, at 10:13 AM, Thomas Esser wrote:

>> why are the t1* type utilities placed one level up
>> from the other binaries?
>
> I just have added support for the multi-platform layout to t1utils
> (change #6062). I have done this some time ago (change #4277).
>
> Eddie, the directory layout of TeX Live puts binaries to
> $prefix/bin/$platform. All that you would need to do to support
> this is to add a few lines to configure.in (e.g. directly before
> "AC_OUTPUT(Makefile)"):
>
>     # For teTeX and TeX Live.
>     AC_CANONICAL_HOST
>     AC_ARG_ENABLE(multiplatform,
>       [  --enable-multiplatform  put executables in bin/PLATFORM])
>     test "x$enable_multiplatform" = xyes \
>       && test "x$bindir" = 'x${exec_prefix}/bin' \
>       && bindir="$bindir/$host"
>
> For this to work, you also need to put config.guess / config.sub to the
> top-level directory.
>
> Both, t1utils and lcdf-typetools would benefit from this.
>
> If you accept to add this, then t1utils can be used directly and 
> without
> modification from you.  For lcdf-typetools we still have to make a 
> simple
> adjustment, because we use the kpathsea library from the source tree
> (before it is installed). If you want to support this, too, then I can
> try to send you a suitable patch for this.
>

From fabrice.popineau at supelec.fr  Mon Oct  4 22:29:17 2004
From: fabrice.popineau at supelec.fr (Fabrice Popineau)
Date: Tue Oct  5 01:29:02 2004
Subject: [tex-live] TexLive on a Live CD
In-Reply-To: <4161AE7D.2000602@computing-services.oxford.ac.uk>
Message-ID: <20041004202920.B208521F4EA@postfix4-2.free.fr>

 
> One of my long-term aims has always been to provide Debian
> packages for all of TeX Live. The idea would be to make each TL
> collection into a package. I just have not had time to write the
> fairly small script to do the job. When this is done, it will be easy
> to take Knoppix, cut out packaes, and add TeX ones, ad lib.

There is a Knoppix cd floating around at GUTenberg with a fairly decent TeX
distribution. You should ask on the GUTenberg mailing list. I bet there are
other User groups that have set this up.

Fabrice

From staw at gust.org.pl  Tue Oct  5 02:26:38 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Tue Oct  5 02:14:37 2004
Subject: [tex-live] TexLive on a Live CD
In-Reply-To: <20041004202920.B208521F4EA@postfix4-2.free.fr>
Message-ID: <Pine.LNX.4.44.0410050218330.19751-100000@re86.internetdsl.tpnet.pl>

On Mon, 4 Oct 2004, Fabrice Popineau wrote:

> There is a Knoppix cd floating around at GUTenberg with a fairly decent
> TeX distribution. You should ask on the GUTenberg mailing list. I bet
> there are other User groups that have set this up.

Sure :) GUST members have just prepared SlaX-TL, Slax with full TL2003,
Emacs+AuCTeX and other utilities. Since that is modularized,
it will be quite easy to push the more current TL within some days.

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From te at dbs.uni-hannover.de  Tue Oct  5 07:57:55 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Tue Oct  5 07:59:44 2004
Subject: [tex-live] location of t1* binaries
In-Reply-To: <B1F1C27C-165A-11D9-8AF5-000A95A6D9BC@cs.ucla.edu>
References: <20041003114458.GB13987@muisje>
	<20041003171301.GC30269@dbs.uni-hannover.de>
	<B1F1C27C-165A-11D9-8AF5-000A95A6D9BC@cs.ucla.edu>
Message-ID: <20041005055755.GI24911@dbs.uni-hannover.de>

> First off, I'm happy to do this, and I'm happy to make the -lkpathsea 
> change you mentioned to lcdf-typetools configure.

Ok, thanks. I'll send you the promissed patch later...

> But why aren't you just passing t1utils ./configure a '--bindir' 
> option??

Sounds like a good idea. I'll check...

Thomas

From pragma at wxs.nl  Tue Oct  5 11:14:38 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Tue Oct  5 11:16:22 2004
Subject: [tex-live] letterspacing.tex
In-Reply-To: <20041004170744.GE24911@dbs.uni-hannover.de>
References: <20041004170744.GE24911@dbs.uni-hannover.de>
Message-ID: <416265FE.5040306@wxs.nl>

Thomas Esser wrote:
> The license of the file violates the policy of TeX Live (no modifications
> are allowed):
> 
>     This file, "letterspacing.tex", created by Philip Taylor of RHBNC
>     (P.Taylor@Mail.Rhbnc.Ac.Uk) for Kaveh Bazargan of Focal Image
>     (Kaveh@Focal.Demon.Co.Uk) may be freely distributed provided that
>     no changes whatsoever are made to its contents
> 
> and Phil says
>   "that original wording is exactly as I would wish it"
> 
> So, zap that file?

dunny that one; just zap it; it's probably macro base letterspacing 
which could be implemented easy and is quite certainly done so for 
macropackages

(on the other hand, it's probably ok if one copies the file and changes 
that one)

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From cantaro at gmail.com  Tue Oct  5 14:58:43 2004
From: cantaro at gmail.com (Udo Zallmann)
Date: Tue Oct  5 15:00:23 2004
Subject: [tex-live] TexLive on a Live CD
In-Reply-To: <20041004202920.B208521F4EA@postfix4-2.free.fr>
References: <4161AE7D.2000602@computing-services.oxford.ac.uk>
	<20041004202920.B208521F4EA@postfix4-2.free.fr>
Message-ID: <b3de3aab04100505584ff375c1@mail.gmail.com>

On Mon, 4 Oct 2004 22:29:17 +0200, Fabrice Popineau
<fabrice.popineau@supelec.fr> wrote:

> There is a Knoppix cd floating around at GUTenberg with a fairly decent TeX
> distribution. You should ask on the GUTenberg mailing list. I bet there are
> other User groups that have set this up.

Knoppix up to version 3.3 does have TeX installed. For me the only
thing missing there is the superfonts, and I noticed upon
experimenting that ConTeXt seems to be broken, but that's a thing for
Klaus Knopper, and since TeX is no longer included in Knoppix 3.4 it
probably doesn't make sense to complain there...

udo
-- 
Cuando el cuerpo no espera lo que llaman amor...

From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Oct  5 15:11:24 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Oct  5 15:14:37 2004
Subject: [tex-live] TexLive on a Live CD
In-Reply-To: <b3de3aab04100505584ff375c1@mail.gmail.com>
References: <4161AE7D.2000602@computing-services.oxford.ac.uk>	<20041004202920.B208521F4EA@postfix4-2.free.fr>
	<b3de3aab04100505584ff375c1@mail.gmail.com>
Message-ID: <41629D7C.4000509@computing-services.oxford.ac.uk>

Udo Zallmann wrote:

>Knoppix up to version 3.3 does have TeX installed. For me the only
>thing missing there is the superfonts, and I noticed upon
>experimenting that ConTeXt seems to be broken
>
it was whatever teTeX provided at the time

> but that's a thing for
>Klaus Knopper, and since TeX is no longer included in Knoppix 3.4 it
>probably doesn't make sense to complain there..
>  
>
Klaus himself uses TeX, and was slightly reluctant to remove it,
but it is just too big and bloated to pass muster these days.
I suppose the way forward is to drop all the LaTeX stuff, and just
ship ConTeXt.

Sebastian

From karl at freefriends.org  Tue Oct  5 16:03:35 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Oct  5 16:05:15 2004
Subject: [tex-live] TexLive on a Live CD
In-Reply-To: <41629D7C.4000509@computing-services.oxford.ac.uk>
Message-ID: <200410051403.i95E3Zv27950@f7.net>

    but it is just too big and bloated to pass muster these days.

This seems illogical to me.  Just remove whatever you have to to make it
fit.  That decision is the hard part.  The core web2c etc. is not any
more bloated than it ever has been, as far as I can tell.

Seems pretty pointless to discuss it here, though.

From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Oct  5 16:04:53 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Oct  5 16:08:19 2004
Subject: [tex-live] TexLive on a Live CD
In-Reply-To: <200410051403.i95E3Zv27950@f7.net>
References: <200410051403.i95E3Zv27950@f7.net>
Message-ID: <4162AA05.3080902@computing-services.oxford.ac.uk>

Karl Berry wrote:

>    but it is just too big and bloated to pass muster these days.
>
>This seems illogical to me.  Just remove whatever you have to to make it
>fit.
>
I did. but I still had 80 megabytes. wretched fonts.

the good thing is that I can express my subset in terms of TL
collections, so I am happy

Sebastian

From pragma at wxs.nl  Tue Oct  5 17:56:36 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Tue Oct  5 17:58:18 2004
Subject: [tex-live] TexLive on a Live CD
In-Reply-To: <200410051403.i95E3Zv27950@f7.net>
References: <200410051403.i95E3Zv27950@f7.net>
Message-ID: <4162C434.90400@wxs.nl>

Karl Berry wrote:

>     but it is just too big and bloated to pass muster these days.
> 
> This seems illogical to me.  Just remove whatever you have to to make it
> fit.  That decision is the hard part.  The core web2c etc. is not any
> more bloated than it ever has been, as far as I can tell.
> 
> Seems pretty pointless to discuss it here, though.

but we need to pick up that thread after tl is finished; when isee those 
files come by i think much can go esp in a live system (for instance all 
those metafont things to start with)

maybe next time we should have something xmllive on the dvd, something 
minimal and handy for processing xml, in which case we can stick to a 
few fonts (only outlines and so) and leave out most of the binaries as 
well; it also demonstrates that we progress -)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Tue Oct  5 18:10:16 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Tue Oct  5 18:12:11 2004
Subject: [tex-live] unixinst.iso
In-Reply-To: <Pine.LNX.4.44.0410042015250.19344-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0410042015250.19344-100000@re86.internetdsl.tpnet.pl>
Message-ID: <4162C768.4030502@wxs.nl>

Staszek Wawrykiewicz wrote:

> On Mon, 4 Oct 2004, Karl Berry wrote:
> 
> 
>>    I hope "unix inst" will contain windows binaries, 
>>    because one might want to install multiple binaries on unix machine
>>    and share e.g. via samba
>>
>>I know this has been a possibility in the past, but how many people have
>>made use of it?  Do you?  It's really only useful for Unix TeX geeks
>>working on Windows, i.e., people who try to make their Windows machines
>>look like Unix, because there wouldn't be any support files or GUI or
>>Windows install, just the bare binaries.

i do it as well, but i've given up sharing too much, so i have

   texmf-mswin/bin
   texmf-mswin/web2c
   texmf-linux/bin
   ....

along side

   texmf/web2c

etc, just to avoid any clash with updates, differences in pool files, 
etc; the sharing you hav ein mind only works when you never update or 
update everything at the same time (win, lin, mac, ...)


Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From te at dbs.uni-hannover.de  Tue Oct  5 20:09:52 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Tue Oct  5 20:11:44 2004
Subject: [tex-live] location of t1* binaries
In-Reply-To: <20041005055755.GI24911@dbs.uni-hannover.de>
References: <20041003114458.GB13987@muisje>
	<20041003171301.GC30269@dbs.uni-hannover.de>
	<B1F1C27C-165A-11D9-8AF5-000A95A6D9BC@cs.ucla.edu>
	<20041005055755.GI24911@dbs.uni-hannover.de>
Message-ID: <20041005180952.GD6772@dbs.uni-hannover.de>

On Tue, Oct 05, 2004 at 07:57:55AM +0200, Thomas Esser wrote:
> > First off, I'm happy to do this, and I'm happy to make the -lkpathsea 
> > change you mentioned to lcdf-typetools configure.
> 
> Ok, thanks. I'll send you the promissed patch later...

Now, attatched to this mail.

> > But why aren't you just passing t1utils ./configure a '--bindir' 
> > option??
> 
> Sounds like a good idea. I'll check...

Seems to work, so I think that I don't need this any more.

Thomas
-------------- next part --------------
--- configure.in.orig	2004-09-18 02:19:48.000000000 +0200
+++ configure.in	2004-10-05 20:05:40.102403000 +0200
@@ -129,26 +129,40 @@
     KPSEINTERFACE_O=
     LIBKPATHSEA=
 else
-    if test "x$kpathsea" != x -a "x$kpathsea" != xyes; then
-	CPPFLAGS="$CPPFLAGS -I$kpathsea/include"
-	LDFLAGS="$LDFLAGS -L$kpathsea/lib"
+    if test -d ../../texk/kpathsea; then
+        local_src_kpse=yes
     else
-	kpathsea=yes
+        local_src_kpse=no
     fi
 
-    dnl check for kpathsea/kpathsea.h
-    AC_CHECK_HEADER(kpathsea/kpathsea.h, [kpse_header=yes], [kpse_header=no])
-
-    dnl if not found and kpathsea prefix not set, check /usr/local
-    if test "x$kpse_header" != xyes -a "x$kpathsea" = xyes -a -r /usr/local/include/kpathsea/tex-file.h; then
-	CPPFLAGS="$CPPFLAGS -I/usr/local/include"
-	LDFLAGS="$LDFLAGS -L/usr/local/lib"
-	AC_CHECK_HEADER(kpathsea/tex-file.h, [kpse_header=yes], [kpse_header=no])
+    if test "x$local_src_kpse" = xyes; then
+        CPPFLAGS="$CPPFLAGS -I../../../texk -I\$(srcdir)/../../../texk"
+        LIBKPATHSEA=../../../texk/kpathsea/.libs/libkpathsea.a
+        kpse_header=yes
+        kpse_library=yes
+    else
+        if test "x$kpathsea" != x -a "x$kpathsea" != xyes; then
+	    CPPFLAGS="$CPPFLAGS -I$kpathsea/include"
+	    LDFLAGS="$LDFLAGS -L$kpathsea/lib"
+        else
+	    kpathsea=yes
+        fi
+
+        dnl check for kpathsea/kpathsea.h
+        AC_CHECK_HEADER(kpathsea/kpathsea.h, [kpse_header=yes], [kpse_header=no])
+
+        dnl if not found and kpathsea prefix not set, check /usr/local
+        if test "x$kpse_header" != xyes -a "x$kpathsea" = xyes -a -r /usr/local/include/kpathsea/tex-file.h; then
+	    CPPFLAGS="$CPPFLAGS -I/usr/local/include"
+	    LDFLAGS="$LDFLAGS -L/usr/local/lib"
+	    AC_CHECK_HEADER(kpathsea/tex-file.h, [kpse_header=yes], [kpse_header=no])
+        fi
+
+        dnl check for -lkpathsea
+        AC_CHECK_LIB(kpathsea, kpse_set_program_name, [kpse_library=yes], [kpse_library=no])
+        LIBKPATHSEA='-lkpathsea'
     fi
 
-    dnl check for -lkpathsea
-    AC_CHECK_LIB(kpathsea, kpse_set_program_name, [kpse_library=yes], [kpse_library=no])
-
     dnl bail out if not found
     if test "x$kpse_header" != xyes -o "x$kpse_library" != xyes; then
 	AC_MSG_ERROR([
@@ -165,14 +179,13 @@
     dnl OK, found
     AC_DEFINE(HAVE_KPATHSEA, 1, [Define if you want to use kpathsea.])
     KPSEINTERFACE_O='kpseinterface.$(OBJEXT)'
-    LIBKPATHSEA='-lkpathsea'
 fi
 AC_SUBST([KPSEINTERFACE_O])
 AC_SUBST([LIBKPATHSEA])
 
 AC_ARG_ENABLE(selfauto-set, [  --disable-selfauto-set  disable setting SELFAUTO variables from kpsewhich], :, enable_selfauto_set=yes)
 
-if test "x$enable_selfauto_set" = xyes -a "x$kpathsea" != xno; then
+if test "x$enable_selfauto_set" = xyes -a "x$kpathsea" != xno -a "x$local_src_kpse" != xyes; then
     kpsewhich='kpsewhich'
     test "x$kpathsea" != xyes -a -x "$kpathsea/bin/kpsewhich" && kpsewhich="$kpathsea/bin/kpsewhich"
     SELFAUTOLOC=`$kpsewhich --expand-var='$SELFAUTOLOC' 2>/dev/null`
From kohler at CS.UCLA.EDU  Wed Oct  6 01:21:52 2004
From: kohler at CS.UCLA.EDU (Eddie Kohler)
Date: Wed Oct  6 01:23:50 2004
Subject: [tex-live] location of t1* binaries
In-Reply-To: <20041005180952.GD6772@dbs.uni-hannover.de>
References: <20041003114458.GB13987@muisje>
	<20041003171301.GC30269@dbs.uni-hannover.de>
	<B1F1C27C-165A-11D9-8AF5-000A95A6D9BC@cs.ucla.edu>
	<20041005055755.GI24911@dbs.uni-hannover.de>
	<20041005180952.GD6772@dbs.uni-hannover.de>
Message-ID: <571E3266-1725-11D9-A7B9-000A95A6D9BC@cs.ucla.edu>

Hey Thomas,

Thanks for the patch to lcdf-typetools configure.in.  I've implemented 
a slightly different one; the entire configure.in is attached.  It 
expects TeX Live to supply the configuration argument 
'--with-kpathsea=texk-local'.  I didn't feel 100% comfortable with 
silently changing behavior based on surrounding directory structure.  
Let me know if it fails for you.

Thanks
Eddie
-------------- next part --------------
A non-text attachment was scrubbed...
Name: configure.in
Type: application/octet-stream
Size: 13167 bytes
Desc: not available
Url : http://tug.org/mailman/private/tex-live/attachments/20041005/3ee6f1fc/configure-0001.obj
-------------- next part --------------

From karl at freefriends.org  Wed Oct  6 01:52:13 2004
From: karl at freefriends.org (Karl Berry)
Date: Wed Oct  6 01:52:14 2004
Subject: [tex-live] unix/windows inst, binaries
Message-ID: <200410052352.i95NqDs05983@tug.org>

Well, the inst binary with windows stuff included was within range
(634mb).  Can those of you who wanted it please try it and make sure it
works for you?

I left out xemacs, the win32-static binaries, and a few other programs
Fabrice suggested.

Binary status:
- FreeBSD binaries from Manfred are in.
- sparc-solaris binaries from Maksym are (as far as he/I know) final.
- x86_64 binaries from Tigran are (as far as we know) final.

Only architecture not updated since last year is now i386-solaris.
Baden, if no luck, we can just drop it here.  We can always make it
available from the web later if anyone cares.

Vladimir, if you can update aix and sparc-linux for the t1utils and xdvi
fixes, that would be good, but it's not a showstopper.

Thanks,
k

From staw at gust.org.pl  Wed Oct  6 06:51:38 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Wed Oct  6 06:38:55 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <200410052352.i95NqDs05983@tug.org>
Message-ID: <Pine.LNX.4.44.0410060546380.22301-100000@re86.internetdsl.tpnet.pl>

On Wed, 6 Oct 2004, Karl Berry wrote:

> Well, the inst binary with windows stuff included was within range
> (634mb).  Can those of you who wanted it please try it and make sure it
> works for you?

Some notes, if you like it:
1. before building everynight .iso, texmf/list/ should be updated
2. I've observed that everynight tlrebuild can break correct/updated
   .tpm files, e.g. I updated mex and also mex.tpm (#6100), but
   after that tlrebuild spoiled mex.tpm (#6105), so some small additions
   dissapeared
3. I touched Master/install-pkg* (col.vlist changed to col) so it works
   for --collection. Would you please change the other thing:
   strip "collection-" from the name so 
      sh install-pkg.sh --collection=tex4ht
   instead '... --collection=collection-tex4ht' could work (as
   in the documentation)
4. I touched texmf/web2c/texmf.cnf (after Olaf's #6101 in the sources) and 
   fmtutil.cnf; also collection-pdftex.tpm and scheme-gust.tpm.
All the above #6106.

> I left out xemacs, the win32-static binaries, and a few other programs
> Fabrice suggested.

OK. but small programs like diff, grep or wget could be handy...
 
As for binaries, may I suggest that for the final turn all platform build
should be made from the updated source (not source.development).
It would be consistent that with what we want to distribute as 
source.tar.bz2. Hope that we are at some final point concerning
the sources, or... are we waiting for pdftex 1.20b? :-)

Thanks,

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From badenh at cs.mu.OZ.AU  Wed Oct  6 07:34:18 2004
From: badenh at cs.mu.OZ.AU (Baden Hughes)
Date: Wed Oct  6 07:36:03 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <200410052352.i95NqDs05983@tug.org>
References: <200410052352.i95NqDs05983@tug.org>
Message-ID: <Pine.GSO.4.61.0410061533020.20249@mulga.cs.mu.OZ.AU>


> Only architecture not updated since last year is now i386-solaris.
> Baden, if no luck, we can just drop it here.  We can always make it
> available from the web later if anyone cares.

Still having problems on Solaris 8 and 9 unfortunately. It looks mostly 
like system stuff rather than TL source issues. I might get to finish this 
off in a couple of days, but not much before the weekend at the earliest.

Baden

From Fabrice.Popineau at supelec.fr  Wed Oct  6 08:22:41 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Wed Oct  6 08:24:21 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <Pine.LNX.4.44.0410060546380.22301-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200410060622.i966Mg503259@esemetz.metz.supelec.fr>

> > I left out xemacs, the win32-static binaries, and a few other programs
> > Fabrice suggested.
> 
> OK. but small programs like diff, grep or wget could be handy...

Well but in this case the list of handly things is endless. I provided these
ones specifically because xemacs packages require them. Else people can look
at gnu-win32 on SourceForge, without even go the Cygwin way.

On the other hand it is true that these command line tools are fairly small.

Fabrice

From ms at artcom-gmbh.de  Wed Oct  6 09:31:18 2004
From: ms at artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Wed Oct  6 09:32:58 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <Pine.LNX.4.44.0410060546380.22301-100000@re86.internetdsl.tpnet.pl>
References: <200410052352.i95NqDs05983@tug.org>
	<Pine.LNX.4.44.0410060546380.22301-100000@re86.internetdsl.tpnet.pl>
Message-ID: <20041006073117.GE2336@artcom8.artcom-gmbh.de>

On 2004-10-06 06:51:38 +0200, Staszek Wawrykiewicz wrote:
> source.tar.bz2. Hope that we are at some final point concerning
> the sources, or... are we waiting for pdftex 1.20b? :-)

I hope not, as 1.20b is waiting for TL to be finished. :-)

Best regards
        Martin
-- 
               Martin Schr?der, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From sebastian.rahtz at computing-services.oxford.ac.uk  Wed Oct  6 11:01:41 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Wed Oct  6 11:02:08 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <Pine.LNX.4.44.0410060546380.22301-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0410060546380.22301-100000@re86.internetdsl.tpnet.pl>
Message-ID: <4163B475.3060802@computing-services.oxford.ac.uk>

Staszek Wawrykiewicz wrote:

>
>1. before building everynight .iso, texmf/list/ should be updated
>  
>
surely this is already in the rebuild script?

>2. I've observed that everynight tlrebuild can break correct/updated
>   .tpm files, e.g. I updated mex and also mex.tpm (#6100), but
>   after that tlrebuild spoiled mex.tpm (#6105), so some small additions
>   dissapeared
>  
>
you need to look at why. the assumption is that FP's tpm-mangler
is safe to run on every file. If its not, please diagnose it!

>OK. but small programs like diff, grep or wget could be handy...
>  
>
for goodness sake, this is a typesetting distribution,
not an operating system distribution. If you want to convert
Windows people to use a decent system, give them Knoppix,
don't cover up the cracks with copies of diff and grep

sebastian

From te at dbs.uni-hannover.de  Wed Oct  6 17:39:42 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Wed Oct  6 17:41:31 2004
Subject: [tex-live] location of t1* binaries
In-Reply-To: <571E3266-1725-11D9-A7B9-000A95A6D9BC@cs.ucla.edu>
References: <20041003114458.GB13987@muisje>
	<20041003171301.GC30269@dbs.uni-hannover.de>
	<B1F1C27C-165A-11D9-8AF5-000A95A6D9BC@cs.ucla.edu>
	<20041005055755.GI24911@dbs.uni-hannover.de>
	<20041005180952.GD6772@dbs.uni-hannover.de>
	<571E3266-1725-11D9-A7B9-000A95A6D9BC@cs.ucla.edu>
Message-ID: <20041006153942.GB19718@dbs.uni-hannover.de>

On Tue, Oct 05, 2004 at 04:21:52PM -0700, Eddie Kohler wrote:
> Thanks for the patch to lcdf-typetools configure.in.  I've implemented 
> a slightly different one; the entire configure.in is attached.  It 
> expects TeX Live to supply the configuration argument 
> '--with-kpathsea=texk-local'.

That's fine.

> Let me know if it fails for you.

It fails.

We want to be able to compile TeX Live outside the source dir, that's
why we need to pass
   -I../../../texk -I\$(srcdir)/../../../texk
and check for -d $srcdir/../../texk/kpathsea instead of -d
../../texk/kpathsea (sorry, that was my fault).

The static libkpathsea.a is created in the build directory, so
  -L\$(top_srcdir)/../../texk/kpathsea/.libs
does not help at all.

Next problem is
  AC_CHECK_HEADER(kpathsea/kpathsea.h, [kpse_header=yes], [kpse_header=no])
fails:
  configure:4750: gcc -E  -I$(top_srcdir)/../../texk conftest.c
  conftest.c:25:31: kpathsea/kpathsea.h: No such file or directory

AC_CHECK_LIB(kpathsea, kpse_set_program_name, [kpse_library=yes], [kpse_library=no])
fails, too:
  configure:5009: gcc -W -Wall -o conftest -g -O2  -I$(top_srcdir)/../../texk  -L$(top_srcdir)/../../texk/kpathsea/.libs conftest.c -lkpathsea   >&5
  /usr/bin/ld: cannot find -lkpathsea

In fact, the library does not exist at configure time, because we are
not building in stages.

The patch that I have send you does not try to find the header file or
the libraray if configuring together with a texk source tree. You might
try to check for the header file, but you have to take care of the right
relative path. configure runs at your top-level and the paths that I
have suggested work inside otftotfm where they are needed.

Don't you have a teTeX-beta? You can try to use that for these tests.
Just put your sources into utils/lcdf-typetools and try to build using
  mkdir -p /some/where/build
  cd /some/where/build
  with_kpathsea=texk-local /some/where/tetex-beta/configure
You might need to remove installed kpathsea headers and the installed
library from your system for a real test, though.

Thomas

From karl at freefriends.org  Wed Oct  6 23:16:50 2004
From: karl at freefriends.org (Karl Berry)
Date: Wed Oct  6 23:18:36 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <Pine.LNX.4.44.0410060546380.22301-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200410062116.i96LGoK23232@f7.net>

    1. before building everynight .iso, texmf/list/ should be updated

They are.  Please tell me the problem you're seeing.

    2. I've observed that everynight tlrebuild can break correct/updated
       .tpm files, e.g. I updated mex and also mex.tpm (#6100), but
       after that tlrebuild spoiled mex.tpm (#6105), so some small additions
       dissapeared

I'll look at the changes, but meanwhile if you could tell me
specifically what gets broken by tlrebuild, it would help.

    3. I touched Master/install-pkg* (col.vlist changed to col) so it works
       for --collection. 

Thanks.

       Would you please change the other thing:
       strip "collection-" from the name so 
          sh install-pkg.sh --collection=tex4ht
       instead '... --collection=collection-tex4ht' could work (as
       in the documentation)

Ok, I'll see what I can do.

    OK. but small programs like diff, grep or wget could be handy...

We seem to have room, so I will add them back for now.  They'll have to
be the first to go when we run out of space again, though.

    As for binaries, may I suggest that for the final turn all platform build
    should be made from the updated source (not source.development).

It would be a great deal of trouble for everyone to rebuild the binaries
again.  I see no purpose in doing so merely after copying
source.development to source -- the generated binaries would be exactly
the same.

I would go so far as to suggest that we update source.development to
source after the release, actually, so we can be sure that what is in
source is actually what got released.

    It would be consistent that with what we want to distribute as 
    source.tar.bz2. Hope that we are at some final point concerning
    the sources, 

Yes, we should update source.tar.bz2 now.  Sebastian, how do you do that :)?

    or... are we waiting for pdftex 1.20b? :-)

As far as I know, we are not waiting for anything except (a) windows
installer from Fabrice and (b) documentation update from me +
translations.  Both of which will probably take some time to complete :(.

From polyama at myrealbox.com  Thu Oct  7 02:10:12 2004
From: polyama at myrealbox.com (Maksym Polyakov)
Date: Thu Oct  7 02:11:55 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <200410052352.i95NqDs05983@tug.org>
References: <200410052352.i95NqDs05983@tug.org>
Message-ID: <20041007001012.GA21646@virginia.forestry.auburn.edu>

Hi, Karl

On Wed, Oct 06, 2004 at 01:52:13AM +0200, Karl Berry (KB) wrote:

KB> Well, the inst binary with windows stuff included was within range
KB> (634mb).  Can those of you who wanted it please try it and make sure it
KB> works for you?

I installed from the scratch on solaris, with win32 and spark-solaris
binaries. Here are things I noticed so far:

-- tl90bzip2.dll is missing (required by windvi)

-- when running latex etc. first time, format file is not generated as
on solaris, mktexfmt worked. However mktexfmt did not work for mf -- did
not find mf-nowin.

-- windvi (after I added tl90bzip2.dll and generated mf.base) created
.pk files in current dir.


-- 
MP



From staw at gust.org.pl  Thu Oct  7 07:14:41 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Thu Oct  7 07:01:26 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <4163B475.3060802@computing-services.oxford.ac.uk>
Message-ID: <Pine.LNX.4.44.0410070604050.24363-100000@re86.internetdsl.tpnet.pl>

On Wed, 6 Oct 2004, Sebastian Rahtz wrote:

> >1. before building everynight .iso, texmf/list/ should be updated
> surely this is already in the rebuild script?

Sorry, that's my mistake

> >2. I've observed that everynight tlrebuild can break correct/updated
> >   .tpm files, e.g. I updated mex and also mex.tpm (#6100), but
> >   after that tlrebuild spoiled mex.tpm (#6105), so some small additions
> >   dissapeared
> >
> you need to look at why. the assumption is that FP's tpm-mangler
> is safe to run on every file. If its not, please diagnose it!

Well, I got a kind explanation from Fabrice, so I believe I can include
it here for let other people know what's going on
(briefly, I added some new directories below tex/mex/ for the utf8 
variant of mex, submited the stuff with modified .tpm; nightly recheck
of .tpm files removed my additions from mex.tpm. That's all about my
surprise):

FP> Because there needs to be rules. TDS is only half-way.
FP> Because the script can't guess some things. If you replace mex by 
FP> latex, that would mean the latex (base) package would catch all the 
FP> latex addons.
FP> Your mex package being a format, only files into mex/base/ and 
FP> mex/config/ are looked for. In your case, you need to create a new 
FP> tpm package and make it a requirement for mex.

> >OK. but small programs like diff, grep or wget could be handy...
> >
> for goodness sake, this is a typesetting distribution,
> not an operating system distribution. If you want to convert
> Windows people to use a decent system, give them Knoppix,
> don't cover up the cracks with copies of diff and grep

I'm so sorry... My intention was to include some small files.
I didn't want to get you irritated, but please have a look what 
we have in /MacOSX

-----
some new comments, concerning TL-inst (7 Oct):
full installation works OK (many thanks), also with some more bin 
platforms added.
I tried also "create symlinks in standard directories" and it works
well for binaries, but failed for info and man pages.
install-pkg (live variant) flyies well with various options (Karl,
thanks for correcting it!).
install-pkg (inst) failed for most options.


-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From Gerben.Wierda at rna.nl  Thu Oct  7 08:23:13 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Thu Oct  7 08:24:50 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <200410062116.i96LGoK23232@f7.net>
References: <200410062116.i96LGoK23232@f7.net>
Message-ID: <5E207416-1829-11D9-A557-000D93C1C2FA@rna.nl>

On 6 Oct 2004, at 23:16, Karl Berry wrote:

>     As for binaries, may I suggest that for the final turn all 
> platform build
>     should be made from the updated source (not source.development).
>
> It would be a great deal of trouble for everyone to rebuild the 
> binaries
> again.  I see no purpose in doing so merely after copying
> source.development to source -- the generated binaries would be exactly
> the same.
>
> I would go so far as to suggest that we update source.development to
> source after the release, actually, so we can be sure that what is in
> source is actually what got released.

I think that  not all binaries are in sync with the exact same 
source.development time stamp.

I favour an absolute "code" freeze by moving to source, then a 
recompile window for people to deliver and who does has delivered 100% 
accurate and for the rest you use what you already have.

G

From vvv at vsu.ru  Thu Oct  7 08:46:32 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Thu Oct  7 08:48:13 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <5E207416-1829-11D9-A557-000D93C1C2FA@rna.nl> (Gerben Wierda's
	message of "Thu, 7 Oct 2004 08:23:13 +0200")
References: <200410062116.i96LGoK23232@f7.net>
	<5E207416-1829-11D9-A557-000D93C1C2FA@rna.nl>
Message-ID: <m3llejvxdj.fsf@vvv.vsu.ru>

"GW" == Gerben Wierda writes:

 GW> I favour an absolute "code" freeze by moving to source, then a
 GW> recompile window for people to deliver

That sounds very consistent and definite. When the final build is due
(i.e. all testing has been done, and it is decided to release the
final binaries), we should declare a *freeze* on the sources (and sync
source.development to source, release source.tar.bz2).

Best,
v.

From Fabrice.Popineau at supelec.fr  Thu Oct  7 09:20:56 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Thu Oct  7 09:22:30 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <20041007001012.GA21646@virginia.forestry.auburn.edu>
Message-ID: <200410070720.i977Km520432@esemetz.metz.supelec.fr>

> -- when running latex etc. first time, format file is not generated as
> on solaris, mktexfmt worked. However mktexfmt did not work for mf -- did
> not find mf-nowin.

Oops. :-( 
I remove mf-nowin. There is no point under windows to have a separate
mf-nowin. I need to reinstate a copy of mf.exe -> mf-nowin.exe .

> -- windvi (after I added tl90bzip2.dll and generated mf.base) created
> .pk files in current dir.

In current dir ? How strange. What is TEMP/TMP (env var) set to?

Fabrice

From olaf at infovore.xs4all.nl  Thu Oct  7 09:30:19 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Thu Oct  7 09:31:50 2004
Subject: [tex-live] location of t1* binaries
In-Reply-To: <20041006153942.GB19718@dbs.uni-hannover.de> (Thomas Esser's
	message of "Wed, 6 Oct 2004 17:39:42 +0200")
References: <20041003114458.GB13987@muisje>
	<20041003171301.GC30269@dbs.uni-hannover.de>
	<B1F1C27C-165A-11D9-8AF5-000A95A6D9BC@cs.ucla.edu>
	<20041005055755.GI24911@dbs.uni-hannover.de>
	<20041005180952.GD6772@dbs.uni-hannover.de>
	<571E3266-1725-11D9-A7B9-000A95A6D9BC@cs.ucla.edu>
	<20041006153942.GB19718@dbs.uni-hannover.de>
Message-ID: <878yajx9x0.fsf@infovore.xs4all.nl>

Thomas Esser writes:

> The patch that I have send you does not try to find the header file or
> the libraray if configuring together with a texk source tree. You might
> try to check for the header file, but you have to take care of the right
> relative path. configure runs at your top-level and the paths that I
> have suggested work inside otftotfm where they are needed.

> Don't you have a teTeX-beta? You can try to use that for these tests.
> Just put your sources into utils/lcdf-typetools and try to build using
>   mkdir -p /some/where/build
>   cd /some/where/build
>   with_kpathsea=texk-local /some/where/tetex-beta/configure
> You might need to remove installed kpathsea headers and the installed
> library from your system for a real test, though.

FWIW, I've been playing around with some m4 stuff to handle similar
situations.  The idea would be that you can do something like this to
test for libz and libcurl, respectively.  The examples below are from
a makefile and configuration I've been playing with.  I haven't much
experience yet with putting this stuff in a Makefile.am though.

---- from autoconfig.ac ----
KPSE_WITH_LIB(z, zlib.h, ../zlib)
KPSE_WITH_LIB(curl, curl/curl.h, ../curl/lib, ../curl/include, libcurl.la)
---- fragments from Makefile.in ----
libz_CPPFLAGS = @libz_CPPFLAGS@
libz_LDFLAGS = @libz_LDFLAGS@
libz_LDLIBS = @libz_LDLIBS@
libz_DIR = @libz_DIR@
libz_DEP = @libz_DEP@
libz_LIB = @libz_LIB@

$(libz_LIB):
	(cd $(libz_DIR) && make)


libcurl_CPPFLAGS = @libcurl_CPPFLAGS@
libcurl_LDFLAGS = @libcurl_LDFLAGS@
libcurl_LDLIBS = @libcurl_LDLIBS@
libcurl_DIR = @libcurl_DIR@
libcurl_DEP = @libcurl_DEP@
libcurl_LIB = @libcurl_LIB@

$(libcurl_LIB):
	(cd $(libcurl_DIR) && make)

# DEFS and LIBS are set by configure; meddle at your own risk.
# If you just want to add something, use CPPFLAGS and LDLIBS.
DEFS = @DEFS@
LIBS = @LIBS@

INCLUDES = -I. -I$(srcdir) $(libz_CPPFLAGS) $(libcurl_CPPFLAGS)

## Compilation without libtool
CCcompile = $(CC) $(DEFS) $(INCLUDES) $(CPPFLAGS) $(CFLAGS)
CXXcompile = $(CXX) $(DEFS) $(INCLUDES) $(CPPFLAGS) $(CXXFLAGS)


---- from acinclude.m4 ----

# Determine whether to use a library, and if so, whether to use an
# installed version or compile one ourself, in which case the source
# must be available.  You can specify the libdir and include even if
# you're not using a system library.  The assumption is then that the
# source is not in the default location.
#
# $1 = the library's base name (e.g, 'z' for 'libz')
# $2 = one or more headers to check for
# $3 = relative path to the source of the library
# $4 = default path for includes (optional, default is $3)
# $5 = name of library in the source tree (optional, default is lib$1.a)
#
# We set a number of variables, depending on what options were given:
#   lib$1_CPPFLAGS - Additional CPPFLAGS needed to use lib$1 (e.g, -I)
#   lib$1_LDFLAGS  - Additional LDFLAGS needed to use lib$1 (e.g, -L)
#   lib$1_LDLIBS   - Additional LDLIBS needed to use lib$1 (e.g, -l)
#   lib$1_DIR      - Directory where lib$1 can be built.
#   lib$1_DEP      - Variable to use to depend on lib$1.
#   lib$1_LIB      - Name of the library.
#
# It is an error if --without-lib$1 is not given, but we cannot find
# any trace of the library.
#
AC_DEFUN([KPSE_WITH_LIB],
  [AC_ARG_WITH(lib$1,
    [  --without-lib$1
                          do not use lib$1 library])
  AC_ARG_WITH(system_lib$1,
    [  --with-system-lib$1
                          use installed lib$1 library])
  AC_ARG_WITH(lib$1_libdir,
    [  --with-lib$1-libdir=DIR
                          where to look for lib$1])
  AC_ARG_WITH(lib$1_include,
    [  --with-lib$1-include=DIR
                          where to look for lib$1 headers])
  if test "x$with_lib$1" = "xno"; then
    # --without-LIB was given
    lib$1_CPPFLAGS=
    lib$1_LDFLAGS=
    lib$1_LDLIBS=
    lib$1_DIR=
    lib$1_DEP=
    lib$1_LIB=dummy-lib$1
  else
    # Where to get the lib$1 headers from.
    kpse_with_lib_user_cppflags="$CPPFLAGS"
    if test "x$with_lib$1_include" != x; then
      # Always use a path that was given on command line.
      lib$1_CPPFLAGS="-I$with_lib$1_include"
    elif test "x$with_system_lib$1" = "xyes"; then
      # --with-system-lib$1 was given, assume we know what to do.
      lib$1_CPPFLAGS=
    else
      # Look in default locations first.
      if test "x$4" = x; then
        # Only use inferred default path for includes if it exists.
        if test -d "$ac_srcdir/$3" || test -d "$3"; then
          lib$1_CPPFLAGS='-I$3 -I$(srcdir)/$3'
        fi
      else
        # Only use default path for includes if it exists.
        if test -d "$ac_srcdir/$4" || test -d "$4"; then
          lib$1_CPPFLAGS='-I$4 -I$(srcdir)/$4'
        fi
      fi
      # If lib$1_CPPFLAGS is still empty, we don't have the source
      # where we expect it.  The library wasn't disabled, so pretend
      # --with-system-lib$1 was given.
      if test "x$lib$1_CPPFLAGS" = x; then
        with_system_lib$1=yes
      fi
    fi
    CPPFLAGS="$CPPFLAGS $lib$1_CPPFLAGS"
    AC_CHECK_HEADERS([$2],,AC_MSG_ERROR($2 not found))
    CPPFLAGS="$kpse_with_lib_user_cppflags"

    kpse_with_lib_user_ldflags="$LDFLAGS"
    if test "x$with_lib$1_libdir" != x; then
      # Always use a path that was given on command line.
      lib$1_DIR="$with_lib$1_libdir"
      lib$1_LDFLAGS='-L$(lib$1_DIR)'
    elif test "x$with_system_lib$1" = "xyes"; then
      # --with-system-lib$1 was given, assume we know what to do.
      lib$1_DIR=
      lib$1_LDFLAGS=
    else
      # Fall back on default.  (FIXME: should we check for existence?)
      lib$1_DIR="$3"
      lib$1_LDFLAGS='-L$(lib$1_DIR)'
    fi
    LDFLAGS="$lib$1_LDFLAGS $kpse_with_lib_ldflags"
    if test "$with_system_lib$1" = yes; then
      kpse_with_lib_user_libs="$LIBS"
      AC_CHECK_LIB($1,main,,AC_MSG_ERROR(lib$1 not found))
      LIBS="$kpse_with_lib_user_libs"
      lib$1_LDLIBS="-l$1"
      lib$1_DEP=
      lib$1_LIB=dummy-lib$1
      kpse_with_lib_ldflags="$LDFLAGS"
    elif test "x$5" = x; then
      lib$1_LDLIBS="-l$1"
      lib$1_DEP='$(lib$1_DIR)/lib$1.a'
      lib$1_LIB='$(lib$1_DIR)/lib$1.a'
    else
      lib$1_LDLIBS="-l$1"
      lib$1_DEP='$(lib$1_DIR)/$5'
      lib$1_LIB='$(lib$1_DIR)/$5'
    fi
    LDFLAGS="$kpse_with_lib_user_ldflags"
  fi
  AC_SUBST(lib$1_CPPFLAGS)
  AC_SUBST(lib$1_LDFLAGS)
  AC_SUBST(lib$1_LDLIBS)
  AC_SUBST(lib$1_DIR)
  AC_SUBST(lib$1_DEP)
  AC_SUBST(lib$1_LIB)
])# KPSE_WITH_LIB

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From sebastian.rahtz at computing-services.oxford.ac.uk  Thu Oct  7 10:51:20 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Thu Oct  7 10:54:43 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <200410062116.i96LGoK23232@f7.net>
References: <200410062116.i96LGoK23232@f7.net>
Message-ID: <41650388.3090006@computing-services.oxford.ac.uk>

Karl Berry wrote:

>Yes, we should update source.tar.bz2 now.  Sebastian, how do you do that :)?
>  
>
amazingly,

p4 edit Master/source/source.tar.bz2
cd Build
tar jcf ../Master/source/source.tar.bz2 source
p4 submit

 :-}

seabstiabn

From sebastian.rahtz at computing-services.oxford.ac.uk  Thu Oct  7 10:57:51 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Thu Oct  7 11:01:13 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <Pine.LNX.4.44.0410070604050.24363-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0410070604050.24363-100000@re86.internetdsl.tpnet.pl>
Message-ID: <4165050F.3080708@computing-services.oxford.ac.uk>

Staszek Wawrykiewicz wrote:

>I'm so sorry... My intention was to include some small files
>  
>
all files start small.....

>I didn't want to get you irritated, but please have a look what 
>we have in /MacOSX
>  
>
isnt that there because MacOSX used to be broken?
is it still needed, Gerben?

>install-pkg (inst) failed for most options.
>
>  
>
If no-one (you, me, Karl, anyone) doesnt fix it, we'll have to drop
it in favour of

 #!/bin/sh
 echo Sorry, install-pkg is no longer implemented in TeX Live

sebastian

From karl at freefriends.org  Thu Oct  7 14:36:13 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Oct  7 14:38:25 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <m3llejvxdj.fsf@vvv.vsu.ru>
Message-ID: <200410071236.i97CaDe04354@f7.net>

    When the final build is due

The final build *is* due.  And done, AFAIK (except, Vladimir, for
sparc-linux and aix, as I said, which you're welcome to do any time).
The (Unix) sources *are* frozen, barring severe bugs.  They haven't
changed in some time now.

Sorry, but I really see no purpose in rebuilding Yet Again after some
mythical freeze point.  Either that will (a) do nothing (best case), or
(b) introduce new bugs and new problems (more likely), not to mention
require another round of testing.  More likely to destabilize than
stabilize, in other words.  I don't want to do it.

Gerben, I don't know what other binaries you think are out of date.
Some of the timestamps are older, yes -- for example, some of the x86_64
binaries are still dated in July.  That doesn't mean that the build did
not happen.  It did.  It means the binaries didn't change, that's all.

BTW, I very much doubt any TL release has ever had binaries that
corresponded perfectly to the sources.

k

From vvv at vsu.ru  Thu Oct  7 14:42:50 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Thu Oct  7 14:45:35 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <200410071236.i97CaDe04354@f7.net> (Karl Berry's message of "Thu, 
	7 Oct 2004 08:36:13 -0400")
References: <200410071236.i97CaDe04354@f7.net>
Message-ID: <87ekkad7hx.fsf@video.uic.vsu.ru>

"KB" == Karl Berry writes:

 KB>     When the final build is due

 KB> The final build *is* due.  And done, AFAIK (except, Vladimir, for
 KB> sparc-linux and aix, as I said, which you're welcome to do any
 KB> time).

:-) I'll rebuild sparc-linux and powerpc-aix in the next few days
(i'll try to submit sparc ones later today).

 KB> Sorry, but I really see no purpose in rebuilding Yet Again after
 KB> some mythical freeze point.

I don't propose to do it this year. I'd like to suggest that in the
future there will be a more formal "final freeze point", where the
sources are declared freezed, source tarball is synced and the final
rebuild is announced/requested.

Best,
v.

From karl at freefriends.org  Thu Oct  7 15:50:19 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Oct  7 15:52:03 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <20041007001012.GA21646@virginia.forestry.auburn.edu>
Message-ID: <200410071350.i97DoJD23618@f7.net>

    -- tl90bzip2.dll is missing (required by windvi)

I added a dependency in bin-windvi.tpm to bin-bzip2.tpm.  Thanks.

From polyama at myrealbox.com  Thu Oct  7 17:01:08 2004
From: polyama at myrealbox.com (Maksym Polyakov)
Date: Thu Oct  7 17:02:48 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <200410070720.i977Km520432@esemetz.metz.supelec.fr>
References: <20041007001012.GA21646@virginia.forestry.auburn.edu>
	<200410070720.i977Km520432@esemetz.metz.supelec.fr>
Message-ID: <20041007150108.GB27494@virginia.forestry.auburn.edu>

Hi, Fabrice

On Thu, Oct 07, 2004 at 09:20:56AM +0200, Fabrice Popineau (FP) wrote:

FP> > -- when running latex etc. first time, format file is not generated
FP> as
FP> > on solaris, mktexfmt worked. However mktexfmt did not work for mf -
FP>- did
FP> > not find mf-nowin.
FP> Oops. :-( 
FP> I remove mf-nowin. There is no point under windows to have a separate
FP> mf-nowin. I need to reinstate a copy of mf.exe -> mf-nowin.exe .
FP> > -- windvi (after I added tl90bzip2.dll and generated mf.base) created
FP> > .pk files in current dir.
FP> In current dir ? How strange. What is TEMP/TMP (env var) set to?

The problem is that mktexpk.exe does not recognise VARTEXFONTS  if it is
set like $VARTEXMF/fonts. It should be set like t:/texmf-var/fonts,
which means you cannot use same texmf.cnf for Windows and UNIX side.
IMHO, it's wrong. 


-- 
MP

From Gerben.Wierda at rna.nl  Thu Oct  7 20:34:45 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Thu Oct  7 20:36:21 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <4165050F.3080708@computing-services.oxford.ac.uk>
References: <Pine.LNX.4.44.0410070604050.24363-100000@re86.internetdsl.tpnet.pl>
	<4165050F.3080708@computing-services.oxford.ac.uk>
Message-ID: <8FA7E5DA-188F-11D9-A557-000D93C1C2FA@rna.nl>

On 7 Oct 2004, at 10:57, Sebastian Rahtz wrote:

> Staszek Wawrykiewicz wrote:
>
>> I'm so sorry... My intention was to include some small files
>>
> all files start small.....
>
>> I didn't want to get you irritated, but please have a look what we 
>> have in /MacOSX
>>
> isnt that there because MacOSX used to be broken?
> is it still needed, Gerben?

For older versions of Mac OS X you need bash because the scripts of TL 
do not work with sh.

Is there more than bash there?

G

From sebastian.rahtz at computing-services.oxford.ac.uk  Thu Oct  7 20:42:22 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Thu Oct  7 20:42:51 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <8FA7E5DA-188F-11D9-A557-000D93C1C2FA@rna.nl>
References: <Pine.LNX.4.44.0410070604050.24363-100000@re86.internetdsl.tpnet.pl>
	<4165050F.3080708@computing-services.oxford.ac.uk>
	<8FA7E5DA-188F-11D9-A557-000D93C1C2FA@rna.nl>
Message-ID: <41658E0E.5020900@computing-services.oxford.ac.uk>

Gerben Wierda wrote:

>
> For older versions of Mac OS X you need bash because the scripts of TL 
> do not work with sh.
>
> Is there more than bash there?

# ls /work/texlive/Master/MacOSX/
bash.dmg  bash.tar.gz  II2.dmg  iTM-1.3.15.dmg  README  texshop.dmg

do we care about old versions of MacOSX?

what are II2 and iTM?

sebastian

From vvv at vsu.ru  Thu Oct  7 21:33:31 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Thu Oct  7 21:35:18 2004
Subject: [tex-live] source vs source.development
Message-ID: <m38yaiwcfo.fsf@vvv.vsu.ru>

Hi!

I see that source.tar.bz2 was updated, but as far as i see, the source
directory was not synchronized with source.development...

Best,
v.

From Gerben.Wierda at rna.nl  Thu Oct  7 21:36:30 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Thu Oct  7 21:38:06 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <41658E0E.5020900@computing-services.oxford.ac.uk>
References: <Pine.LNX.4.44.0410070604050.24363-100000@re86.internetdsl.tpnet.pl>
	<4165050F.3080708@computing-services.oxford.ac.uk>
	<8FA7E5DA-188F-11D9-A557-000D93C1C2FA@rna.nl>
	<41658E0E.5020900@computing-services.oxford.ac.uk>
Message-ID: <2FD01BD2-1898-11D9-A557-000D93C1C2FA@rna.nl>

On 7 Oct 2004, at 20:42, Sebastian Rahtz wrote:

> Gerben Wierda wrote:
>
>>
>> For older versions of Mac OS X you need bash because the scripts of 
>> TL do not work with sh.
>>
>> Is there more than bash there?
>
> # ls /work/texlive/Master/MacOSX/
> bash.dmg  bash.tar.gz  II2.dmg  iTM-1.3.15.dmg  README  texshop.dmg

Remove II2.dmg.

> do we care about old versions of MacOSX?

No. 10.2 has bash. So you only lose systems < 10.2

> what are II2 and iTM?

II2 is the my online installer.  iTM is a frontend just like TeXShop. 
Both are open source and free. Mac OS X does not come with X11 so it 
needs some sort of frontend.

II2 can be removed. It is an alternative way of installing.

The README then needs adaptation I guess.

Gerben

From pragma at wxs.nl  Thu Oct  7 21:50:50 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Oct  7 21:52:57 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <2FD01BD2-1898-11D9-A557-000D93C1C2FA@rna.nl>
References: <Pine.LNX.4.44.0410070604050.24363-100000@re86.internetdsl.tpnet.pl>
	<4165050F.3080708@computing-services.oxford.ac.uk>
	<8FA7E5DA-188F-11D9-A557-000D93C1C2FA@rna.nl>
	<41658E0E.5020900@computing-services.oxford.ac.uk>
	<2FD01BD2-1898-11D9-A557-000D93C1C2FA@rna.nl>
Message-ID: <41659E1A.9040904@wxs.nl>

Gerben Wierda wrote:

> No. 10.2 has bash. So you only lose systems < 10.2

no problem since apple expects users to update (i.e. they drop some 
support for older systems and those mac-texies are front runners so i 
guess that they update constantly)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From karl at freefriends.org  Thu Oct  7 22:52:31 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Oct  7 22:54:19 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <2FD01BD2-1898-11D9-A557-000D93C1C2FA@rna.nl>
Message-ID: <200410072052.i97KqVE30887@f7.net>

    No. 10.2 has bash. So you only lose systems < 10.2

Ok, I deleted bash.

    iTM is a frontend just like TeXShop.  Both are open source and
    free. Mac OS X does not come with X11 so it needs some sort of
    frontend.

Is it possible/reasonable to have their actual binaries installed so
they can be used "live"?

    II2 can be removed. It is an alternative way of installing.

As for II2, I thought the idea was that people could use this image to
bootstrap instead of having to download it.  Is that a chimera?  Ok,
it's only 2MB, no big deal.  If you think it's better gone, I'll delete.

Thanks,
k

From karl at freefriends.org  Thu Oct  7 22:57:58 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Oct  7 23:00:08 2004
Subject: [tex-live] source vs source.development
In-Reply-To: <m38yaiwcfo.fsf@vvv.vsu.ru>
Message-ID: <200410072057.i97Kvwx32094@f7.net>

    I see that source.tar.bz2 was updated, but as far as i see, the source
    directory was not synchronized with source.development...

I didn't see a reason to do that now.  In good time ...

From hartmut_henkel at gmx.de  Fri Oct  8 00:14:42 2004
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Fri Oct  8 00:16:22 2004
Subject: [tex-live] README.DE Typos
Message-ID: <Pine.LNX.4.61.0410080009420.2809@hahepc1.hahe>

haven't seen files ./install-tl.sh (mentioned in the README.DE).

Regards, Hartmut


diff README.DE.orig README.DE:

12,13c12,13
<    die begleitende Dokumentation zu spezifische Software-Paketen. Es gibt
<    ein Vielzahl von Anleitungen, die den Einstieg in die Software
---
>    die begleitende Dokumentation zu spezifischen Software-Paketen. Es gibt
>    eine Vielzahl von Anleitungen, die den Einstieg in die Software
21c21
<    Wir empfehlen, dass Sie zun?chst den "Anleitung zum TeX Live-System"
---
>    Wir empfehlen, dass Sie zun?chst die "Anleitung zum TeX Live-System"
25c25
<    enth?lt es ein Kapitel mit Informationen ?ber die Struktur des
---
>    enth?lt sie ein Kapitel mit Informationen ?ber die Struktur des
49c49
<        TeXLive-System (und zum Teil von TeX Live abweichenden
---
>        TeXLive-System (und mit zum Teil von TeX Live abweichenden
71c71
<    Unix- und MacOSX-Benutzer sollten die CD/DVD mit the `Rock Ridge'
---
>    Unix- und MacOSX-Benutzer sollten die CD/DVD mit den `Rock Ridge'
91c91
<    ben?tigen einen Browser (wie z.B. Mozilla, der freien Version des
---
>    ben?tigen einen Browser (wie z. B. Mozilla, die freie Version des
96c96
<      * Zur Dokumentation im HTML-Form auf der TeX-Collection (online).
---
>      * Zur Dokumentation im HTML-Format auf der TeX-Collection (online).
98,100c98,100
<        generiert -- online).
<      * TeX FAQs Deutsch (online), Englisch (pdf -- online), Franz?sisch
<        (online)
---
>        generiert - online).
>      * TeX FAQs Deutsch (online), Englisch (pdf - online), Franz?sisch
>        (online).
107,108c107,108
<        Comprehensive TeX Archive Network (CTAN), dem Online-Datenbestand
<        f?r alle rund um TeX.
---
>        Comprehensive TeX Archive Network (CTAN), den Online-Datenbestand
>        f?r alles rund um TeX.
110,111c110,111
<        weltweit, mit Kontaktinformationen, Mailinglisten usw. wir
<        empfehlen w?rmstens ihrer Usergroup beizutreten.
---
>        weltweit, mit Kontaktinformationen, Mailinglisten usw. Wir
>        empfehlen w?rmstens, Ihrer Usergroup beizutreten.
From karl at freefriends.org  Fri Oct  8 01:07:45 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Oct  8 01:09:27 2004
Subject: [tex-live] README.DE Typos
In-Reply-To: <Pine.LNX.4.61.0410080009420.2809@hahepc1.hahe>
Message-ID: <200410072307.i97N7jv27778@f7.net>

    haven't seen files ./install-tl.sh (mentioned in the README.DE).

install-tl.sh varies depending on the ISO image -- it is either
Master/install-live.sh for the live image, or Master/install-compr.sh
for the compressed image.

(Similarly for install-pkg.)

From Gerben.Wierda at rna.nl  Fri Oct  8 16:30:44 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri Oct  8 16:32:17 2004
Subject: [tex-live] Config question
Message-ID: <A391AEDE-1936-11D9-A557-000D93C1C2FA@rna.nl>

I have one symbol in my own metafont file. WIth TL2004 the following 
happens when the system tries to make it automatically:

Running mktexpk --mfmode / --bdpi 72 --mag 1+0/72 --dpi 72 wierda
mktexpk: Mismatched mode ljfour and resolution 72; ignoring mode.
mktexpk: Can't guess mode for 72 dpi devices.
mktexpk: Use a config file, or update me.

Where does this 72 come from??

Thanks,

G

From olaf at infovore.xs4all.nl  Fri Oct  8 16:46:42 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Fri Oct  8 16:48:35 2004
Subject: [tex-live] Config question
In-Reply-To: <A391AEDE-1936-11D9-A557-000D93C1C2FA@rna.nl> (Gerben Wierda's
	message of "Fri, 8 Oct 2004 16:30:44 +0200")
References: <A391AEDE-1936-11D9-A557-000D93C1C2FA@rna.nl>
Message-ID: <87mzyxi7xp.fsf@infovore.xs4all.nl>

Gerben Wierda writes:

> I have one symbol in my own metafont file. WIth TL2004 the following
> happens when the system tries to make it automatically:

> Running mktexpk --mfmode / --bdpi 72 --mag 1+0/72 --dpi 72 wierda
> mktexpk: Mismatched mode ljfour and resolution 72; ignoring mode.
> mktexpk: Can't guess mode for 72 dpi devices.
> mktexpk: Use a config file, or update me.

> Where does this 72 come from??

Typically this means you have a mktex.cnf lying around, or BDPI set in
the environment.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From te at dbs.uni-hannover.de  Fri Oct  8 22:02:48 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Fri Oct  8 22:04:44 2004
Subject: [tex-live] Config question
In-Reply-To: <A391AEDE-1936-11D9-A557-000D93C1C2FA@rna.nl>
References: <A391AEDE-1936-11D9-A557-000D93C1C2FA@rna.nl>
Message-ID: <20041008200248.GA32012@dbs.uni-hannover.de>

> Where does this 72 come from??

Compile-time default of pdftex? Format build without \pdfpkresolution=600?

Thomas

From vvv at vsu.ru  Sat Oct  9 08:08:10 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Sat Oct  9 08:09:56 2004
Subject: [tex-live] sparc-linux and powerpc-aix binaries
Message-ID: <m3oejco245.fsf@vvv.vsu.ru>

Hi,

i've rebuilt and submitted the sparc-linux and powerpc-aix binaries.

Best,
v.

From te at dbs.uni-hannover.de  Sat Oct  9 10:27:45 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Oct  9 13:18:31 2004
Subject: [tex-live] location of t1* binaries
In-Reply-To: <41678B39.7080100@cs.ucla.edu>
References: <20041003114458.GB13987@muisje>
	<20041003171301.GC30269@dbs.uni-hannover.de>
	<B1F1C27C-165A-11D9-8AF5-000A95A6D9BC@cs.ucla.edu>
	<20041005055755.GI24911@dbs.uni-hannover.de>
	<20041005180952.GD6772@dbs.uni-hannover.de>
	<571E3266-1725-11D9-A7B9-000A95A6D9BC@cs.ucla.edu>
	<20041006153942.GB19718@dbs.uni-hannover.de>
	<41678B39.7080100@cs.ucla.edu>
Message-ID: <20041009082745.GA30274@dbs.uni-hannover.de>

> for me, with a teTeX non-source-tree build.  Rather than 
> '--with-kpathsea=texk-local', it now expects you to supply the 
> configuration argument '--enable-tetex-build'.  Let me know how it works.

Thanks, looks much better now. One problem is that configure has no
access to make variables, so it still fails:

  configure:4748: checking kpathsea/kpathsea.h presence
  configure:4758: gcc -E  -I$(top_builddir)/../../texk -I$(top_srcdir)/../../texk conftest.c
  conftest.c:25:31: kpathsea/kpathsea.h: No such file or directory

If you really want to run
  AC_CHECK_HEADER(kpathsea/kpathsea.h, [kpse_header=yes], [kpse_header=no])
you have to set CPPFLAGS in a way that the shell understands.

In my opinion, there is no need to check for header files if
--enable-tetex-build is set.  In that case, I'd prefer to make no test
or a simpler one, such as
  test -f $srcdir/../../texk/kpathsea/kpathsea.h

Thomas

From kohler at cs.ucla.edu  Sat Oct  9 08:54:49 2004
From: kohler at cs.ucla.edu (Eddie Kohler)
Date: Sat Oct  9 13:33:20 2004
Subject: [tex-live] location of t1* binaries
In-Reply-To: <20041006153942.GB19718@dbs.uni-hannover.de>
References: <20041003114458.GB13987@muisje>
	<20041003171301.GC30269@dbs.uni-hannover.de>
	<B1F1C27C-165A-11D9-8AF5-000A95A6D9BC@cs.ucla.edu>
	<20041005055755.GI24911@dbs.uni-hannover.de>
	<20041005180952.GD6772@dbs.uni-hannover.de>
	<571E3266-1725-11D9-A7B9-000A95A6D9BC@cs.ucla.edu>
	<20041006153942.GB19718@dbs.uni-hannover.de>
Message-ID: <41678B39.7080100@cs.ucla.edu>

Thomas Esser wrote:
> On Tue, Oct 05, 2004 at 04:21:52PM -0700, Eddie Kohler wrote:
> 
>>Thanks for the patch to lcdf-typetools configure.in.  I've implemented 
>>a slightly different one; the entire configure.in is attached.  It 
>>expects TeX Live to supply the configuration argument 
>>'--with-kpathsea=texk-local'.
> 
> 
> That's fine.
> 
> 
>>Let me know if it fails for you.
> 
> 
> It fails.


Hi Thomas,

Thanks for the notes.  The following lcdf-typetools configure.in works now for 
me, with a teTeX non-source-tree build.  Rather than 
'--with-kpathsea=texk-local', it now expects you to supply the configuration 
argument '--enable-tetex-build'.  Let me know how it works.

Eddie

-------------- next part --------------
dnl Process this file with autoconf to produce a configure script.
AC_INIT(NEWS)
AM_INIT_AUTOMAKE(lcdf-typetools, 2.15)
AM_CONFIG_HEADER(config.h)
AM_MAINTAINER_MODE

AC_PROG_MAKE_SET

AC_PROG_CC
AC_PROG_CPP
AC_PROG_CXX
AC_PROG_CXXCPP
if test -n "$GCC" ; then CC="$CC -W -Wall" ; CXX="$CXX -W -Wall" ; fi

dnl AN_MAKEVAR([AR], [AC_PROG_AR])
dnl AN_PROGRAM([ar], [AC_PROG_AR])
dnl AC_DEFUN([AC_PROG_AR], [AC_CHECK_TOOL(AR, ar, :)])
dnl AC_PROG_AR

AC_PROG_RANLIB


dnl Available from the GNU Autoconf Macro Archive at:
dnl http://www.gnu.org/software/ac-archive/htmldoc/ac_cxx_template_objs.html
dnl
AC_DEFUN([AC_CXX_TEMPLATE_OBJS],
[AC_CACHE_CHECK(where template objects are stored, ac_cv_cxx_templobjs,
 [ ac_cv_cxx_templobjs='unknown'
   if test "$GXX" = yes; then
     ac_cv_cxx_templobjs='nowhere'
   else
     case $CXX in
       CC|*/CC)
        cat > conftest.cc <<EOF
template<class T> class A { public : A () {} };
template<class T> void f (const A<T>&) {}
main()
{ A<double> d;
  A<int> i;
  f (d);
  f (i);
  return 0;
}
EOF
        if test "$ac_cv_cxx_templobjs" = 'unknown' ; then
          if test -d Templates.DB ; then
            rm -fr Templates.DB
          fi
          if $CXX $CXXFLAGS -ptr. -c conftest.cc 1> /dev/null 2>&1; then
            if test -d Templates.DB ; then
#             this should be Sun CC <= 4.2
              CXXFLAGS="$CXXFLAGS -ptr."
              if test x"$LIBTOOL" = x ; then
                ac_cv_cxx_templobjs='Templates.DB/*.o'
              else
                ac_cv_cxx_templobjs='Templates.DB/*.lo'
              fi
              rm -fr Templates.DB
            fi
          fi
        fi
        if test "$ac_cv_cxx_templobjs" = 'unknown' ; then
          if test -d SunWS_cache ; then
            rm -fr SunWS_cache
          fi
          if $CXX $CXXFLAGS -c conftest.cc 1> /dev/null 2>&1; then
            if test -d SunWS_cache ; then
#             this should be Sun WorkShop C++ compiler 5.x
#             or Sun Forte C++ compiler >= 6.x
              if test x"$LIBTOOL" = x ; then
                ac_cv_cxx_templobjs='SunWS_cache/*/*.o'
              else
                ac_cv_cxx_templobjs='SunWS_cache/*/*.lo'
              fi
              rm -fr SunWS_cache
            fi
          fi
        fi
        rm -f conftest* ;;
     esac
   fi
   case "x$ac_cv_cxx_templobjs" in
     xunknown|xnowhere)
     TEMPLATE_OBJS="" ;;
     *)
     TEMPLATE_OBJS="$ac_cv_cxx_templobjs" ;;
   esac
   AC_SUBST(TEMPLATE_OBJS)])])

AC_CXX_TEMPLATE_OBJS


dnl
dnl directory searching
dnl

AC_HEADER_DIRENT


dnl
dnl select programs to be compiled
dnl

AC_ARG_ENABLE(cfftot1, [  --disable-cfftot1       do not build the cfftot1 program], :, enable_cfftot1=yes)
AC_ARG_ENABLE(mmafm, [  --disable-mmafm         do not build the mmafm program], :, enable_mmafm=yes)
AC_ARG_ENABLE(mmpfb, [  --disable-mmpfb         do not build the mmpfb program], :, enable_mmpfb=yes)
AC_ARG_ENABLE(otfinfo, [  --disable-otfinfo       do not build the otfinfo program], :, enable_otfinfo=yes)
AC_ARG_ENABLE(otftotfm, [  --disable-otftotfm      do not build the otftotfm program], :, enable_otftotfm=yes)
AC_ARG_ENABLE(t1lint, [  --disable-t1dotlessj    do not build the t1dotlessj program], :, enable_t1dotlessj=yes)
AC_ARG_ENABLE(t1lint, [  --disable-t1lint        do not build the t1lint program], :, enable_t1lint=yes)
AC_ARG_ENABLE(t1testpage, [  --disable-t1testpage    do not build the t1testpage program], :, enable_t1testpage=yes)

SELECTED_SUBDIRS=''
for i in cfftot1 mmafm mmpfb otfinfo otftotfm t1dotlessj t1lint t1testpage; do
    y=`eval 'echo $enable_'"$i"`
    if test "x$y" != xno; then SELECTED_SUBDIRS="$SELECTED_SUBDIRS $i"; fi
done
AC_SUBST(SELECTED_SUBDIRS)


dnl
dnl kpathsea, auto-cfftot1
dnl

AC_ARG_ENABLE(tetex-build, [  --enable-tetex-build    build as part of a teTeX installation], :, enable_tetex_build=no)
AC_ARG_WITH(kpathsea, [  --with-kpathsea=PREFIX  Kpathsea is installed (under PREFIX)],
  [kpathsea=$withval], [kpathsea=])

if test "x$kpathsea" = xno; then
    KPSEINTERFACE_O=
    LIBKPATHSEA=
else
    if test "x$enable_tetex_build" = xyes; then
	if test ! -d $srcdir/../../texk/kpathsea; then
	    AC_MSG_ERROR([
=========================================

You specified --enable-tetex-build, but I can't find the kpathsea
directory.  I expected it to be in $srcdir/../../texk/kpathsea.

=========================================])
	fi
	CPPFLAGS="$CPPFLAGS -I\$(top_builddir)/../../texk -I\$(top_srcdir)/../../texk"
	LDFLAGS="$LDFLAGS -L\$(top_builddir)/../../texk/kpathsea/.libs"
    elif test "x$kpathsea" != x -a "x$kpathsea" != xyes; then
	CPPFLAGS="$CPPFLAGS -I$kpathsea/include"
	LDFLAGS="$LDFLAGS -L$kpathsea/lib"
    else
	kpathsea=yes
    fi

    dnl check for kpathsea/kpathsea.h
    AC_CHECK_HEADER(kpathsea/kpathsea.h, [kpse_header=yes], [kpse_header=no])

    dnl if not found and kpathsea prefix not set, check /usr/local
    if test "x$kpse_header" != xyes -a "x$kpathsea" = xyes -a -r /usr/local/include/kpathsea/tex-file.h; then
	CPPFLAGS="$CPPFLAGS -I/usr/local/include"
	LDFLAGS="$LDFLAGS -L/usr/local/lib"
	AC_CHECK_HEADER(kpathsea/tex-file.h, [kpse_header=yes], [kpse_header=no])
    fi

    dnl check for -lkpathsea
    if test "x$enable_tetex_build" = xyes; then
	kpse_library=yes
    else
	AC_CHECK_LIB(kpathsea, kpse_set_program_name, [kpse_library=yes], [kpse_library=no])
    fi

    dnl bail out if not found
    if test "x$kpse_header" != xyes -o "x$kpse_library" != xyes; then
	AC_MSG_ERROR([
=========================================

I can't find the kpathsea library and/or header files. Tell me where to look
using the --with-kpathsea=PREFIX option (header files should be under
PREFIX/include/kpathsea, and library under PREFIX/lib), or disable support
using --without-kpathsea.

=========================================])
    fi

    dnl OK, found
    AC_DEFINE(HAVE_KPATHSEA, 1, [Define if you want to use kpathsea.])
    KPSEINTERFACE_O='kpseinterface.$(OBJEXT)'
    if test "x$enable_tetex_build" = xyes; then
	LIBKPATHSEA='$(top_builddir)/../../texk/kpathsea/.libs/libkpathsea.a'
    else
	LIBKPATHSEA='-lkpathsea'
    fi
fi
AC_SUBST([KPSEINTERFACE_O])
AC_SUBST([LIBKPATHSEA])

AC_ARG_ENABLE(selfauto-set, [  --disable-selfauto-set  disable setting SELFAUTO variables from kpsewhich], :, enable_selfauto_set=yes)

if test "x$enable_selfauto_set" = xyes -a "x$kpathsea" != xno -a "x$enable_tetex_build" != xyes; then
    kpsewhich='kpsewhich'
    test "x$kpathsea" != xyes -a -x "$kpathsea/bin/kpsewhich" && kpsewhich="$kpathsea/bin/kpsewhich"
    SELFAUTOLOC=`$kpsewhich --expand-var='$SELFAUTOLOC' 2>/dev/null`
    SELFAUTODIR=`$kpsewhich --expand-var='$SELFAUTODIR' 2>/dev/null`
    SELFAUTOPARENT=`$kpsewhich --expand-var='$SELFAUTOPARENT' 2>/dev/null`
    if test -z "$SELFAUTODIR"; then
	AC_MSG_WARN([
=========================================

Could not extract SELFAUTO variables from $kpsewhich.
Either supply the correct PREFIX to --with-kpathsea, or supply
--disable-selfauto-loc.

=========================================])
    fi
    AC_DEFINE_UNQUOTED(SELFAUTOLOC, "$SELFAUTOLOC", [kpsewhich's $SELFAUTOLOC variable])
    AC_DEFINE_UNQUOTED(SELFAUTODIR, "$SELFAUTODIR", [kpsewhich's $SELFAUTODIR variable])
    AC_DEFINE_UNQUOTED(SELFAUTOPARENT, "$SELFAUTOPARENT", [kpsewhich's $SELFAUTOPARENT variable])
fi

AC_ARG_ENABLE(auto-cfftot1, [  --disable-auto-cfftot1  disable running cfftot1 from otftotfm], :, enable_auto_cfftot1=yes)
AC_ARG_ENABLE(auto-t1dotlessj, [  --disable-auto-t1dotlessj disable running t1dotlessj from otftotfm], :, enable_auto_t1dotlessj=yes)

if test "x$enable_auto_cfftot1" = xyes; then
    AC_DEFINE(HAVE_AUTO_CFFTOT1, 1, [Define to run cfftot1 automatically from otftotfm.])
fi
if test "x$enable_auto_t1dotlessj" = xyes; then
    AC_DEFINE(HAVE_AUTO_T1DOTLESSJ, 1, [Define to run t1dotlessj automatically from otftotfm.])
fi


dnl
dnl <new> and/or <new.h>
dnl

AC_LANG_CPLUSPLUS
AC_CACHE_CHECK([whether <new> works], ac_cv_good_new_hdr,
[AC_TRY_LINK([#include <new>], [
  int a;
  int *b = new(&a) int;
  return 0;
], ac_cv_good_new_hdr=yes, ac_cv_good_new_hdr=no)])
if test "$ac_cv_good_new_hdr" = yes; then
   AC_DEFINE(HAVE_NEW_HDR, 1, [Define if <new> exists and works.])
fi
AC_CHECK_HEADERS(new.h)


dnl
dnl functions such as strerror, working strtod, strtoul, time
dnl headers such as unistd.h
dnl

AC_LANG_C
FIXLIBC_O=''
AC_CHECK_FUNCS(strerror, :, FIXLIBC_O='fixlibc.o')

AC_CACHE_CHECK(whether strtod works, ac_cv_working_strtod,
[AC_TRY_RUN([#include <stdio.h>
#include <stdlib.h>
int main(int c, char **v) {
  char s[] = "12 ";
  char *endp;
  double d = strtod(s, &endp);
  exit(*endp == 0 ? 1 : 0);
}], ac_cv_working_strtod=yes, ac_cv_working_strtod=no,
ac_cv_working_strtod=yes)])
if test $ac_cv_working_strtod = no; then 
    FIXLIBC_O='fixlibc.o'
    AC_DEFINE(BROKEN_STRTOD, 1, [Define if strtod is broken.])
fi

AC_CHECK_FUNCS(strtoul ctime mkstemp ftruncate sigaction waitpid)
AC_CHECK_FUNC(floor, :, [AC_CHECK_LIB(m, floor)])
AC_CHECK_FUNC(fabs, :, [AC_CHECK_LIB(m, fabs)])
AC_CHECK_HEADERS(unistd.h fcntl.h sys/time.h sys/wait.h)

AC_SUBST(FIXLIBC_O)


dnl
dnl integer types
dnl

AC_CHECK_HEADERS(inttypes.h, have_inttypes_h=yes, have_inttypes_h=no)
AC_CHECK_HEADERS(sys/types.h, have_sys_types_h=yes, have_sys_types_h=no)

if test $have_inttypes_h = no -a $have_sys_types_h = yes; then
    AC_CACHE_CHECK([for uintXX_t typedefs], ac_cv_uint_t,
    [AC_EGREP_HEADER(dnl
changequote(<<,>>)<<(^|[^a-zA-Z_0-9])uint32_t[^a-zA-Z_0-9]>>changequote([,]),
    sys/types.h, ac_cv_uint_t=yes, ac_cv_uint_t=no)])
fi
if test $have_inttypes_h = no -a $have_sys_types_h = yes -a "$ac_cv_uint_t" = no; then
    AC_CACHE_CHECK([for u_intXX_t typedefs], ac_cv_u_int_t,
    [AC_EGREP_HEADER(dnl
changequote(<<,>>)<<(^|[^a-zA-Z_0-9])u_int32_t[^a-zA-Z_0-9]>>changequote([,]),
    sys/types.h, ac_cv_u_int_t=yes, ac_cv_u_int_t=no)])
fi
if test $have_inttypes_h = yes -o "$ac_cv_uint_t" = yes; then
    :
elif test "$ac_cv_u_int_t" = yes; then
    AC_DEFINE(HAVE_U_INT_TYPES, 1, [Define if you have u_intXX_t types but not uintXX_t types.])
else
    AC_MSG_WARN([
=========================================

Neither uint32_t nor u_int32_t defined by <inttypes.h> or <sys/types.h>!
Assuming "short" has 16 bits and "int" has 32 bits.

=========================================])
    AC_DEFINE(HAVE_FAKE_INT_TYPES, 1, [Define if intXX_t types are not available.])
fi

AC_CHECK_TYPES(uintptr_t, [], [],
[#if HAVE_INTTYPES_H
# include <inttypes.h>
#endif
#if HAVE_SYS_TYPES_H
# include <sys/types.h>
#endif
])

AC_CHECK_SIZEOF(void *)
AC_CHECK_SIZEOF(unsigned long)
AC_CHECK_SIZEOF(unsigned int)


dnl
dnl ntohs, ntohl (need them in C++ code)
dnl

AC_LANG_CPLUSPLUS
AC_CHECK_HEADERS(byteorder.h netinet/in.h sys/param.h)
AC_MSG_CHECKING([whether ntohs and ntohl are defined])
AC_COMPILE_IFELSE(
	[AC_LANG_PROGRAM([[#if HAVE_SYS_TYPES_H
# include <sys/types.h>
#endif
#if HAVE_BYTEORDER_H
# include <byteorder.h>
#elif HAVE_NETINET_IN_H
# include <netinet/in.h>
#elif HAVE_SYS_PARAM_H
# include <sys/param.h>
#endif
]], [[(void) ntohs(0x0020), (void) ntohl(0x03040020);]])],
	[AC_MSG_RESULT(yes)],
	[AC_MSG_RESULT(no)
    AC_MSG_ERROR([
=========================================

Cannot find a definition for ntohs and/or ntohl!

=========================================])])
AC_LANG_C


dnl
dnl is va_list addressable?
dnl

AC_LANG_CPLUSPLUS
AC_CACHE_CHECK([for addressable va_list type], 
    ac_cv_va_list_addr,
    [AC_TRY_COMPILE([#include <stdarg.h>
void f(va_list *) {
}
void g(va_list val) {
    f(&val);
}
void h(int a, ...) {
    va_list val;
    va_start(val, a);
    g(val);
    va_end(val);
}], [h(2, 3, 4);], ac_cv_va_list_addr=yes, ac_cv_va_list_addr=no)])
if test "x$ac_cv_va_list_addr" = xyes; then
    AC_DEFINE(HAVE_ADDRESSABLE_VA_LIST, 1, [Define if the va_list type is addressable.])
fi


dnl
dnl verbatim portions of the header
dnl

AC_DEFINE(HAVE_PERMSTRING, 1, [Define if PermStrings are available.])
AC_DEFINE(MMAFM_RUN_MMPFB, 1, [Define to 0 if you don't want mmafm to run mmpfb when it needs to get an intermediate master conversion program.])
dnl PATHNAME_SEPARATOR?

AH_TOP([#ifndef LCDF_TYPETOOLS_CONFIG_H
#define LCDF_TYPETOOLS_CONFIG_H])

AH_BOTTOM([/* Allow compilation on Windows (thanks, Fabrice Popineau). */
#ifdef WIN32
# include <win32lib.h>
#else
# define CDECL /* nothing */
#endif

#ifdef __cplusplus
extern "C" {
#endif

/* Prototype strerror if we don't have it. */
#if !HAVE_STRERROR
char *strerror(int errno);
#endif

/* Prototype good_strtod if we need it. */
#if BROKEN_STRTOD
double good_strtod(const char *nptr, char **endptr);
#endif

#ifdef __cplusplus
}
/* Get rid of a possible inline macro under C++. */
# define inline inline
#endif

#endif /* LCDF_TYPETOOLS_CONFIG_H */])


dnl
dnl set path variables
dnl

shell_expand () {
  val=`eval echo '$'"$1"`
  while echo "x$val" | fgrep '$' >/dev/null 2>&1; do val=`eval echo "$val"`; done
  eval "$1='$val'"
}

dnl Preset $prefix and $exec_prefix.
test "x$prefix" = xNONE && prefix=$ac_default_prefix
test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'

shell_expand datadir

AC_DEFINE_UNQUOTED(SHAREDIR, "$datadir/lcdf-typetools", [Data directory.])


dnl
dnl Output
dnl

AC_OUTPUT(Makefile liblcdf/Makefile libefont/Makefile t1lint/Makefile t1testpage/Makefile cfftot1/Makefile mmafm/Makefile mmpfb/Makefile otfinfo/Makefile otftotfm/Makefile t1dotlessj/Makefile)
From karl at freefriends.org  Sat Oct  9 16:26:47 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Oct  9 17:56:13 2004
Subject: [tex-live] Re: p4 down?
Message-ID: <200410091426.i99EQlu17684@f7.net>

> The p4 server seems to have died?

I'm wrong, it's a name server problem at daimi.  Guess p4 doesn't
respond to localhost for whatever reason.  Sorry to bother.

From karl at freefriends.org  Sat Oct  9 16:16:43 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Oct  9 17:56:16 2004
Subject: [tex-live] p4 down?
Message-ID: <200410091416.i99EGhA14779@f7.net>

The p4 server seems to have died?

tug$ p4 help
Perforce client error:
	Connect to server failed; check $P4PORT.
	TCP connect to sun.dante.de:1666 failed.
	sun.dante.de: host unknown.

sun.dante.de$ telnet localhost 6466
telnet localhost 6466
Trying 127.0.0.1...
telnet: Unable to connect to remote host: Connection refused


TIA ...
karl

From tigran at aivazian.fsnet.co.uk  Sat Oct  9 19:40:27 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Sat Oct  9 19:42:31 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
Message-ID: <Pine.LNX.4.61.0410091832070.1715@ginsburg.homenet>

Hi,

I have compiled and installed on a couple of research workstations (i386 
and x86_64 archs) the latest (as of 5th October sources) TeX Live but, 
unfortunately, I cannot switch my production environment to it because the 
resulting PDF files which pdflatex generates do not look the same.

Please have a look at these two files:

http://www.bibles.org.uk/bugs

The file old.pdf was generated with pdfeTeX-1.11a and the file new.pdf was 
generated with pdfeTeX-1.20a. Now, if you look carefully the problem is 
apparent even on the first page. The first few words (Hebrew is right to 
left, remember :) are missing, but the last one is correct and is in the 
right place. Looking at the next few pages you will discover the same 
problem. Sometimes it occurs even in the base text rather than in the 
footnotes (as was the case on the first page). I used xpdf and gpdf to 
view the files.

I tried to reproduce it with something easier to debug, like Greek, but 
unfortunately I cannot.

Obviously I installed the fonts and everything exactly like I have done in 
the earlier versions. Any ideas on what could have caused this?

Kind regards
Tigran
=========
http://www.bibles.org.uk

From hartmut_henkel at gmx.de  Sat Oct  9 20:04:12 2004
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Sat Oct  9 20:05:53 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.61.0410091832070.1715@ginsburg.homenet>
References: <Pine.LNX.4.61.0410091832070.1715@ginsburg.homenet>
Message-ID: <Pine.LNX.4.61.0410092000300.6891@hahepc1.hahe>

On Sat, 9 Oct 2004, Tigran Aivazian wrote:

> The file old.pdf was generated with pdfeTeX-1.11a and the file new.pdf was
> generated with pdfeTeX-1.20a. Now, if you look carefully the problem is
> apparent even on the first page. The first few words (Hebrew is right to left,
> remember :) are missing, but the last one is correct and is in the right

FWIW, there seems to be a weird x-shift in the new version, see the huge
numbers 1541.544 and -1678.388 in object 24, so the letters are outside
the page. No idea, why.

3,4c3,4
< /F19 23.91 Tf 169.835 504.596 Td[(My)-1(r)1(y)-1(V)1(h)]TJ 1541.544 0 Td[(ryV)]TJ
< /F24 11.955 Tf -1678.388 -36.718 Td[(')]TJ
---
> /F19 23.91 Tf 169.835 504.596 Td[(My)-1(r)1(y)-1(V)1(h)-274(r)1(yV)]TJ
> /F24 11.955 Tf -136.844 -36.718 Td[(')]TJ

Hartmut

From hartmut_henkel at gmx.de  Sat Oct  9 21:29:14 2004
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Sat Oct  9 21:30:54 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.61.0410092000300.6891@hahepc1.hahe>
References: <Pine.LNX.4.61.0410091832070.1715@ginsburg.homenet>
	<Pine.LNX.4.61.0410092000300.6891@hahepc1.hahe>
Message-ID: <Pine.LNX.4.61.0410092121280.23537@hahepc1.hahe>

On Sat, 9 Oct 2004, Hartmut Henkel wrote:

> On Sat, 9 Oct 2004, Tigran Aivazian wrote:
>
> > The file old.pdf was generated with pdfeTeX-1.11a and the file new.pdf was
> > generated with pdfeTeX-1.20a. Now, if you look carefully the problem is
> > apparent even on the first page. The first few words (Hebrew is right to left,
> > remember :) are missing, but the last one is correct and is in the right

error can be reproduced, seems to be something with etex:

\pdfcompresslevel=0
\nopagenumbers
\TeXXeTstate=1

%\pdfmapline{=tq24 <tq24.pfb}
%\font\tq tq24 at 20pt
%\tq

%problem is even with cmr font:

% this line is ok
%\centerline{\beginR Vyr hVyryM\endR}

% this is broken, Vyr is outside, overfull \hbox!
\beginR\centerline{Vyr hVyryM}\endR

\bye

Hartmut

From fabrice.popineau at supelec.fr  Sat Oct  9 22:08:11 2004
From: fabrice.popineau at supelec.fr (Fabrice Popineau)
Date: Sat Oct  9 22:09:58 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <20041007150108.GB27494@virginia.forestry.auburn.edu>
Message-ID: <20041009200815.247DCC8D1@postfix3-2.free.fr>

> The problem is that mktexpk.exe does not recognise VARTEXFONTS  if it is
> set like $VARTEXMF/fonts. It should be set like t:/texmf-var/fonts,
> which means you cannot use same texmf.cnf for Windows and UNIX side.
> IMHO, it's wrong.

Ok, the problem is that when you map the Master/ dir to a drive, you get :

C:>kpsewhich --expand-var $SELFAUTOPARENT
t:/
C:>

Hence:
C:>kpsewhich --expand-var $VARTEXFONTS
t://texmf-var/fonts

which is ugly. However, I hesitate to change the code so that the first
command returns t: without a slash, because it is an invalid path
specification. On the other hand that would solve your problem.

Need to think about this one.

Fabrice

From polyama at myrealbox.com  Sat Oct  9 22:35:49 2004
From: polyama at myrealbox.com (Maksym Polyakov)
Date: Sat Oct  9 22:58:19 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <20041009200815.247DCC8D1@postfix3-2.free.fr>
References: <20041009200815.247DCC8D1@postfix3-2.free.fr>
Message-ID: <41684BA5.1010803@myrealbox.com>

Meanwhile it worth to mention this as a 'feature'

Fabrice Popineau wrote:

>>The problem is that mktexpk.exe does not recognise VARTEXFONTS  if it is
>>set like $VARTEXMF/fonts. It should be set like t:/texmf-var/fonts,
>>which means you cannot use same texmf.cnf for Windows and UNIX side.
>>IMHO, it's wrong.
>>    
>>
>
>Ok, the problem is that when you map the Master/ dir to a drive, you get :
>
>C:>kpsewhich --expand-var $SELFAUTOPARENT
>t:/
>C:>
>
>Hence:
>C:>kpsewhich --expand-var $VARTEXFONTS
>t://texmf-var/fonts
>
>which is ugly. However, I hesitate to change the code so that the first
>command returns t: without a slash, because it is an invalid path
>specification. On the other hand that would solve your problem.
>
>Need to think about this one.
>
>Fabrice
>
>_______________________________________________
>TeX Live mailing list
>http://tug.org/mailman/listinfo/tex-live
>
>  
>

From fabrice.popineau at supelec.fr  Sat Oct  9 23:02:37 2004
From: fabrice.popineau at supelec.fr (Fabrice Popineau)
Date: Sat Oct  9 23:04:19 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <41684BA5.1010803@myrealbox.com>
Message-ID: <20041009210238.3256DC58B@postfix3-2.free.fr>

I have posted what I think is a fix. Please try it.

Fabrice Popineau
------------------------
e-mail:       Fabrice.Popineau@supelec.fr  |  The difference between theory 
voice-mail:   +33 (0) 387764715            |  and practice, is that
surface-mail: Supelec, 2 rue E. Belin,     |  theoretically,
	      F-57070 Metz 	           |  there is no difference !
 

> -----Message d'origine-----
> De?: Maksym Polyakov [mailto:polyama@myrealbox.com]
> Envoy??: samedi 9 octobre 2004 22:36
> ??: Fabrice Popineau
> Cc?: tex-live@tug.org
> Objet?: Re: [tex-live] unix/windows inst, binaries
> 
> Meanwhile it worth to mention this as a 'feature'
> 


From karl at freefriends.org  Sat Oct  9 23:07:03 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Oct  9 23:08:56 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.61.0410092121280.23537@hahepc1.hahe>
Message-ID: <200410092107.i99L73901551@f7.net>

    error can be reproduced, seems to be something with etex:

The problem happens in DVI output too.  The file below (same as
Hartmut's except with conditionals) gets

Overfull \hbox (20.0pt too wide) in paragraph at lines 16--17
[][][][] |

when processed with etex, the current TL binary for i386-linux, namely:
This is pdfeTeXk, Version 3.141592-1.20a-2.2 (Web2C 7.5.3)

Same error with the etex from TeX Live 2003.  Does not happen with "tex"
(not surprisingly :).

Bernd, Peter, can you help?

Thanks,
karl

--

\ifx\pdfcompresslevel\undefined\else\pdfcompresslevel=0 \fi
\nopagenumbers
\ifx\TeXXeTstate\undefined \let\beginR=\relax \let\endR=\relax \else
   \TeXXeTstate=1 \fi

%problem is even with cmr font:

% this line is ok
%\centerline{\beginR Vyr hVyryM\endR}

% this is broken, Vyr is outside, overfull \hbox!
\beginR\centerline{Vyr hVyryM}\endR

\bye

From moho01ab at student.cbs.dk  Sat Oct  9 23:29:12 2004
From: moho01ab at student.cbs.dk (=?iso-8859-15?Q?Morten_H=F8gholm?=)
Date: Sat Oct  9 23:30:57 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <200410092107.i99L73901551@f7.net>
References: <200410092107.i99L73901551@f7.net>
Message-ID: <opsfmgmyp71jrmup@mail.student.cbs.dk>

On Sat, 09 Oct 2004 17:07:03 -0400, Karl Berry <karl@freefriends.org>  
wrote:

>     error can be reproduced, seems to be something with etex:
>
> The problem happens in DVI output too.  The file below (same as
> Hartmut's except with conditionals) gets
>
> Overfull \hbox (20.0pt too wide) in paragraph at lines 16--17
> [][][][] |
>
> when processed with etex, the current TL binary for i386-linux, namely:
> This is pdfeTeXk, Version 3.141592-1.20a-2.2 (Web2C 7.5.3)
>
> Same error with the etex from TeX Live 2003.  Does not happen with "tex"
> (not surprisingly :).
>
> Bernd, Peter, can you help?

Isn't this advertised behavior? \beginR puts a node on the horizontal  
list, so the overfull box you get in the example is \parindent.
-- 
Morten H?gholm

From karl at freefriends.org  Sat Oct  9 23:38:04 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Oct  9 23:39:53 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <opsfmgmyp71jrmup@mail.student.cbs.dk>
Message-ID: <200410092138.i99Lc4Q07525@f7.net>

    Isn't this advertised behavior? \beginR puts a node on the horizontal  
    list, so the overfull box you get in the example is \parindent.

Ah!  Sorry for my ignorance.  Well, that explains why the simple TeX
file gets the overfull box, but I don't think it explains Tigran's
original problem at http://www.bibles.org.uk/bugs, where characters are
actually missing, eg, printed off the page (at the right-hand side of
the last line on the first page).  Perhaps it is pdf-specific after all.
I did ask Tigran for more info and sources, so hopefully ...

Bernd and Peter, sorry to bother.

From hartmut_henkel at gmx.de  Sat Oct  9 23:41:27 2004
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Sat Oct  9 23:43:07 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <opsfmgmyp71jrmup@mail.student.cbs.dk>
References: <200410092107.i99L73901551@f7.net>
	<opsfmgmyp71jrmup@mail.student.cbs.dk>
Message-ID: <Pine.LNX.4.61.0410092334290.25106@hahepc1.hahe>

On Sat, 9 Oct 2004, [iso-8859-15] Morten H?gholm wrote:

> Isn't this advertised behavior? \beginR puts a node on the horizontal
> list, so the overfull box you get in the example is \parindent.

yes (and this happens also in TL2003), but from the string "Vyr hVyryM"
the Vyr is way outside to the right, and this seems to have the same
origin as Tigran's case. So why is the centerline contents so stretched?
When you set \parindent=0pt, there is nothing on the page.

Regards, Hartmut
From bilotta78 at hotpop.com  Sat Oct  9 23:43:07 2004
From: bilotta78 at hotpop.com (Giuseppe Bilotta)
Date: Sat Oct  9 23:45:34 2004
Subject: [tex-live] Re: bug in the latest TeX Live snapshot.
References: <Pine.LNX.4.61.0410091832070.1715@ginsburg.homenet>
Message-ID: <MPG.1bd279d7c39243c89896f7@news.gmane.org>

Tigran Aivazian wrote:
> Hi,
> 
> I have compiled and installed on a couple of research workstations (i386 
> and x86_64 archs) the latest (as of 5th October sources) TeX Live but, 
> unfortunately, I cannot switch my production environment to it because the 
> resulting PDF files which pdflatex generates do not look the same.
> 
> Please have a look at these two files:
> 
> http://www.bibles.org.uk/bugs
> 
> The file old.pdf was generated with pdfeTeX-1.11a and the file new.pdf was 
> generated with pdfeTeX-1.20a. Now, if you look carefully the problem is 
> apparent even on the first page. The first few words (Hebrew is right to 
> left, remember :) are missing, but the last one is correct and is in the 
> right place. Looking at the next few pages you will discover the same 
> problem. Sometimes it occurs even in the base text rather than in the 
> footnotes (as was the case on the first page). I used xpdf and gpdf to 
> view the files.

Can you compare the DVI outputs from the two versions? Can you 
also try non-pdf e-TeX?

-- 
Giuseppe "Oblomov" Bilotta

Can't you see
It all makes perfect sense
Expressed in dollar and cents
Pounds shillings and pence
                  (Roger Waters)

From karl at freefriends.org  Sun Oct 10 00:21:58 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct 10 00:23:41 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <Pine.LNX.4.44.0410070604050.24363-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200410092221.i99MLwr16038@f7.net>

    I tried also "create symlinks in standard directories" and it works
    well for binaries, but failed for info and man pages.

I've checked in what I hope is a fix for this (in common.sh).
Let me know if still broken ...

thanks,
k

From reinhard.kotucha at web.de  Sun Oct 10 01:16:09 2004
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun Oct 10 01:18:06 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <8FA7E5DA-188F-11D9-A557-000D93C1C2FA@rna.nl>
References: <Pine.LNX.4.44.0410070604050.24363-100000@re86.internetdsl.tpnet.pl>
	<4165050F.3080708@computing-services.oxford.ac.uk>
	<8FA7E5DA-188F-11D9-A557-000D93C1C2FA@rna.nl>
Message-ID: <16744.28985.638737.540874@zarniwoop.ms25.local>

>>>>> "Gerben" == Gerben Wierda <Gerben.Wierda@rna.nl> writes:

    > For older versions of Mac OS X you need bash because the scripts
    > of TL do not work with sh.

Mac OS X TeX is derived from teTeX, AFAIK.  teTeX requires sh but not
bash.  Some time ago I asked Thomas how to write portable shell
scripts.  His answer was amazingly simple:

Use the most ancient UNIX manual pages you can find.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha@web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From Gerben.Wierda at rna.nl  Sun Oct 10 10:41:15 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sun Oct 10 10:42:48 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <16744.28985.638737.540874@zarniwoop.ms25.local>
References: <Pine.LNX.4.44.0410070604050.24363-100000@re86.internetdsl.tpnet.pl>
	<4165050F.3080708@computing-services.oxford.ac.uk>
	<8FA7E5DA-188F-11D9-A557-000D93C1C2FA@rna.nl>
	<16744.28985.638737.540874@zarniwoop.ms25.local>
Message-ID: <259C5FEE-1A98-11D9-A557-000D93C1C2FA@rna.nl>

On 10 Oct 2004, at 01:16, Reinhard Kotucha wrote:

>>>>>> "Gerben" == Gerben Wierda <Gerben.Wierda@rna.nl> writes:
>
>> For older versions of Mac OS X you need bash because the scripts
>> of TL do not work with sh.
>
> Mac OS X TeX is derived from teTeX, AFAIK.  teTeX requires sh but not
> bash.  Some time ago I asked Thomas how to write portable shell
> scripts.  His answer was amazingly simple:
>
> Use the most ancient UNIX manual pages you can find.

As the person actually providing the probably most used redistribution 
of TeX on Mac OS X I can say that my distribution is not based on teTeX 
only. It is based on TeX Live for the programs, teTeX for the main 
texmf tree, with some additions by me. Other distributions, like the 
ones from fink and darwinports as far as I know are indeed based on 
teTeX.

But we are not talking about teTeX or TeX on Mac OS X. We are talking 
about TeX Live on Mac OS X. There I just provide the compiled binaries. 
But I do know that in the past the shell scripts of TeX Live did not 
work on older Mac OS X because it used a zsh based sh emulation and 
bash was not available.

So, to run scripts from the TL CD, on Mac OS X one needs bash. Older 
versions of Mac OS X do not come with bash.

G

From tigran at aivazian.fsnet.co.uk  Sun Oct 10 11:19:31 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Sun Oct 10 11:20:07 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <200410092138.i99Lc4Q07525@f7.net>
Message-ID: <Pine.LNX.4.44.0410101008010.1691-100000@einstein.homenet>

On Sat, 9 Oct 2004, Karl Berry wrote:

>     Isn't this advertised behavior? \beginR puts a node on the horizontal  
>     list, so the overfull box you get in the example is \parindent.
> 
> Ah!  Sorry for my ignorance.  Well, that explains why the simple TeX
> file gets the overfull box, but I don't think it explains Tigran's
> original problem at http://www.bibles.org.uk/bugs, where characters are
> actually missing, eg, printed off the page (at the right-hand side of
> the last line on the first page).  Perhaps it is pdf-specific after all.
> I did ask Tigran for more info and sources, so hopefully ...
> 
> Bernd and Peter, sorry to bother.

Hello,

I have also reproduced it with using latex instead of pdflatex and
generating .dvi files instead of .pdf. The same thing happens, i.e. with 
old TeX Live it works but with the latest some words are shifted far to 
the right and others completely disappear from view (presumably xdvi can't 
show that "far" beyond the end of the page).

As for sources, I can provide the sources of course (they are on 
http://www.bibles.org.uk/src/tnk.tar.gz) but in order to compile them you 
will need Tiqwah fonts and Tiqwah preprocessor, which I am bound by my 
honest word to Yannis Haralambous to not give away under any circumstances 
(he kindly donated Tiqwah to the tnk project for Hebrew Bible typesetting)

Could the problem be ascertained from sources without Tiqwah? If this is
utterly impossible, but some kind person does volunteer to help, I will
gladly give him/her ssh account on my development box where Tiqwah is
installed in restricted way (i.e. you can't copy it outside) where this
can be easily reproduced and pdf file viewed. Both "old" and "new" TeX
Live are installed there (in /usr/local/TeX-new and /usr/local/TeX
respectively) so one can easily switch between the two environments for
debugging.

I tested exactly the same layout but in Greek and the problem did NOT 
happen, so this is probably specific to etex's right-to-left state.

Kind regards
Tigran

From hartmut_henkel at gmx.de  Sun Oct 10 12:41:45 2004
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Sun Oct 10 12:43:26 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.44.0410101008010.1691-100000@einstein.homenet>
References: <Pine.LNX.4.44.0410101008010.1691-100000@einstein.homenet>
Message-ID: <Pine.LNX.4.61.0410101229300.2725@hahepc1.hahe>

On Sun, 10 Oct 2004, Tigran Aivazian wrote:

> Could the problem be ascertained from sources without Tiqwah? If this is

Here's a simple test file with results (without idea what's going on):

\ifx\pdfcompresslevel\undefined\else\pdfcompresslevel=0 \fi
\nopagenumbers
\TeXXeTstate=1

\pdfoutput=1 % or 0, depending on PDF/DVI test

% pdfetex 1.11b, PDF mode: centered text "MyryVh ryV",
%   shifted \parindent, no overfull box mark (!)
% pdfetex 1.11b, DVI mode: centered text "MyryVh ryV",
%   shifted \parindent, overfull box mark
% pdfetex 1.20a, PDF mode: "MyryVh" and overfull box on page
% pdfetex 1.20a, DVI mode: only overfull box mark on page
% (etex 1.20a same as pdfetex 1.20a in DVI mode)

\beginR\centerline{Vyr hVyryM}\endR

\vfill\eject
\parindent=0pt

% pdfetex 1.11b, PDF mode: centered text "MyryVh ryV"
% pdfetex 1.11b, DVI mode: centered text "MyryVh ryV"
% pdfetex 1.20a, PDF mode: page completely empty
% pdfetex 1.20a, DVI mode: page completely empty
% (etex 1.20a same as pdfetex 1.20a in DVI mode)

\beginR\centerline{Vyr hVyryM}\endR

\bye

funny, with 1.20a from \beginR\centerline{aac defghi}\endR one gets only
"ihgfed", but from \beginR\centerline{abc defghi}\endR the page is
empty. So it even depends on the chars.

Regards, Hartmut

From tigran at aivazian.fsnet.co.uk  Sun Oct 10 12:57:20 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Sun Oct 10 12:57:49 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.44.0410101008010.1691-100000@einstein.homenet>
Message-ID: <Pine.LNX.4.44.0410101146360.1691-100000@einstein.homenet>

regarding how those files were built:

$ export LIST="shir"
$ makepdf

or, to build a dvi also do export DVIOUT=1.

I have placed the dvi versions and the build logs to the same URL:

http://www.bibles.org.uk/bugs

Kind regards
Tigran

On Sun, 10 Oct 2004, Tigran Aivazian wrote:

> On Sat, 9 Oct 2004, Karl Berry wrote:
> 
> >     Isn't this advertised behavior? \beginR puts a node on the horizontal  
> >     list, so the overfull box you get in the example is \parindent.
> > 
> > Ah!  Sorry for my ignorance.  Well, that explains why the simple TeX
> > file gets the overfull box, but I don't think it explains Tigran's
> > original problem at http://www.bibles.org.uk/bugs, where characters are
> > actually missing, eg, printed off the page (at the right-hand side of
> > the last line on the first page).  Perhaps it is pdf-specific after all.
> > I did ask Tigran for more info and sources, so hopefully ...
> > 
> > Bernd and Peter, sorry to bother.
> 
> Hello,
> 
> I have also reproduced it with using latex instead of pdflatex and
> generating .dvi files instead of .pdf. The same thing happens, i.e. with 
> old TeX Live it works but with the latest some words are shifted far to 
> the right and others completely disappear from view (presumably xdvi can't 
> show that "far" beyond the end of the page).
> 
> As for sources, I can provide the sources of course (they are on 
> http://www.bibles.org.uk/src/tnk.tar.gz) but in order to compile them you 
> will need Tiqwah fonts and Tiqwah preprocessor, which I am bound by my 
> honest word to Yannis Haralambous to not give away under any circumstances 
> (he kindly donated Tiqwah to the tnk project for Hebrew Bible typesetting)
> 
> Could the problem be ascertained from sources without Tiqwah? If this is
> utterly impossible, but some kind person does volunteer to help, I will
> gladly give him/her ssh account on my development box where Tiqwah is
> installed in restricted way (i.e. you can't copy it outside) where this
> can be easily reproduced and pdf file viewed. Both "old" and "new" TeX
> Live are installed there (in /usr/local/TeX-new and /usr/local/TeX
> respectively) so one can easily switch between the two environments for
> debugging.
> 
> I tested exactly the same layout but in Greek and the problem did NOT 
> happen, so this is probably specific to etex's right-to-left state.
> 
> Kind regards
> Tigran
> 
> 


From tigran at aivazian.fsnet.co.uk  Sun Oct 10 12:58:43 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Sun Oct 10 12:59:10 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.44.0410101146360.1691-100000@einstein.homenet>
Message-ID: <Pine.LNX.4.44.0410101157290.1691-100000@einstein.homenet>

I forgot to add that the problem is seen even on the .dvi result of the 
first pass, so you can ignore the complex stuff to do with multiple passes 
(which is to do with saving marks in a file and then reusing them because 
LaTeX marks and marn's margins are not compatible --- hence the three 
passes needed).

Kind regards
Tigran

On Sun, 10 Oct 2004, Tigran Aivazian wrote:

> regarding how those files were built:
> 
> $ export LIST="shir"
> $ makepdf
> 
> or, to build a dvi also do export DVIOUT=1.
> 
> I have placed the dvi versions and the build logs to the same URL:
> 
> http://www.bibles.org.uk/bugs
> 
> Kind regards
> Tigran
> 
> On Sun, 10 Oct 2004, Tigran Aivazian wrote:
> 
> > On Sat, 9 Oct 2004, Karl Berry wrote:
> > 
> > >     Isn't this advertised behavior? \beginR puts a node on the horizontal  
> > >     list, so the overfull box you get in the example is \parindent.
> > > 
> > > Ah!  Sorry for my ignorance.  Well, that explains why the simple TeX
> > > file gets the overfull box, but I don't think it explains Tigran's
> > > original problem at http://www.bibles.org.uk/bugs, where characters are
> > > actually missing, eg, printed off the page (at the right-hand side of
> > > the last line on the first page).  Perhaps it is pdf-specific after all.
> > > I did ask Tigran for more info and sources, so hopefully ...
> > > 
> > > Bernd and Peter, sorry to bother.
> > 
> > Hello,
> > 
> > I have also reproduced it with using latex instead of pdflatex and
> > generating .dvi files instead of .pdf. The same thing happens, i.e. with 
> > old TeX Live it works but with the latest some words are shifted far to 
> > the right and others completely disappear from view (presumably xdvi can't 
> > show that "far" beyond the end of the page).
> > 
> > As for sources, I can provide the sources of course (they are on 
> > http://www.bibles.org.uk/src/tnk.tar.gz) but in order to compile them you 
> > will need Tiqwah fonts and Tiqwah preprocessor, which I am bound by my 
> > honest word to Yannis Haralambous to not give away under any circumstances 
> > (he kindly donated Tiqwah to the tnk project for Hebrew Bible typesetting)
> > 
> > Could the problem be ascertained from sources without Tiqwah? If this is
> > utterly impossible, but some kind person does volunteer to help, I will
> > gladly give him/her ssh account on my development box where Tiqwah is
> > installed in restricted way (i.e. you can't copy it outside) where this
> > can be easily reproduced and pdf file viewed. Both "old" and "new" TeX
> > Live are installed there (in /usr/local/TeX-new and /usr/local/TeX
> > respectively) so one can easily switch between the two environments for
> > debugging.
> > 
> > I tested exactly the same layout but in Greek and the problem did NOT 
> > happen, so this is probably specific to etex's right-to-left state.
> > 
> > Kind regards
> > Tigran
> > 
> > 
> 
> 
> 

From preining at logic.at  Sun Oct 10 13:48:32 2004
From: preining at logic.at (Norbert Preining)
Date: Sun Oct 10 13:50:12 2004
Subject: [tex-live] p4 sync not working?
Message-ID: <20041010114832.GD14915@gamma.logic.tuwien.ac.at>

Hi!

Strange, the p4 server seems to be a bit dead, because
working:	p4 changes
not working:	p4 sync
Can someone confirm, or is this a problem at my side?

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
"Yes, it's the right planet, all right," he said again.
"Right planet, wrong universe."
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From Gerben.Wierda at rna.nl  Sun Oct 10 14:11:48 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sun Oct 10 14:13:30 2004
Subject: [tex-live] Repeat: mktexpk problem,
	works with TL2003 not with TL2004
Message-ID: <8FBD82EF-1AB5-11D9-88D0-003065B3343E@rna.nl>

I am still having a mktex.cnf problem. I have installed te TL2004  
binaries, a teTeX 2.95.6 texmf tree, some additions by myself and  some  
stuff in my HOME directory. There also live wierda.mf (a symbol font I  
use with two glyphs of my own making) and wierda.tfm (created a while  
ago).

Now, when I try to compile a document with a TL2003 based setting,  
there is no problem whatsoever. But with TL2004 there is. First, let's  
look at finding mktex.cnf

> $ kpsewhich --format='web2c files' mktex.cnf
> /usr/local/teTeX/share/texmf.local/web2c/mktex.cnf
> $ cat `!!`
> cat `kpsewhich --format='web2c files' mktex.cnf`
> : ${MT_FEATURES=varfonts}
> : ${MODE=ljfour}
> : ${BDPI=600}
> : ${DPI=600}
> # uncomment the following line to use ps2pk instead of gsftopk:
> # : ${ps_to_pk=ps2pk}

So, mktex.cnf is available an can be found. It als has settings for DPI  
and BDPI. But what happens when I compile?

> hedwig:~/Documents/Prive/2004/10 gerben$ pdflatex 09-prins.tex
> This is pdfeTeX, Version 3.141592-1.20a-2.2 (Web2C 7.5.3)
> output format initialized to PDF
> entering extended mode
> (./09-prins.tex
> LaTeX2e <2003/12/01>
> Babel <v3.8c> and hyphenation patterns for american, british, french,  
> german, n
> german, dutch, nohyphenation, loaded.
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/ntgclass/brief.cls
> Document Class: brief 1999/03/03 v2.0r NTG LaTeX document class
> ) (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/inputenc.sty
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/umlaute/mac.def))
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/marvosym/marvosym.sty)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/misc/pdfpages.sty
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/ifthen.sty)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/graphics/graphicx.sty
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/graphics/keyval.sty)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/graphics/graphics.sty
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/graphics/trig.sty)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/config/graphics.cfg)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/graphics/pdftex.def)))
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/tools/calc.sty)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/eso-pic/eso-pic.sty
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/ms/everyshi.sty)))
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/hyperref/hyperref.sty
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/hyperref/pd1enc.def)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/config/hyperref.cfg)
> Implicit mode ON; LaTeX internals redefined
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/misc/url.sty))
> *hyperref using driver hpdftex*
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/hyperref/hpdftex.def
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/psnfss/pifont.sty
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/psnfss/upzd.fd)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/psnfss/upsy.fd)))  
> (./09-prins.aux
> ) (/usr/local/teTeX/share/texmf.tetex/tex/context/base/supp-pdf.tex
> (/usr/local/teTeX/share/texmf.tetex/tex/context/base/supp-mis.tex
> loading : Context Support Macros / Miscellaneous
> )
> loading : Context Support Macros / PDF (2004.03.26)
> ) ABD: EveryShipout initializing macros
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/graphics/color.sty
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/config/color.cfg))
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/hyperref/nameref.sty)
> (./09-prins.out) (./09-prins.out)  
> [1{/usr/local/teTeX/share/texmf.local/fonts/m
> ap/pdftex/updmap/pdftex.map}] (./09-prins.aux)  
> ){/usr/local/teTeX/share/texmf.t
> etex/fonts/enc/dvips/tetex/f7b6d320.enc}</usr/local/teTeX/share/ 
> texmf.tetex/fon
> ts/type1/bluesky/cm/cmssq8.pfb></usr/local/teTeX/share/texmf.tetex/ 
> fonts/type1/
> bluesky/cm/cmr10.pfb></usr/local/teTeX/share/texmf.tetex/fonts/type1/ 
> bluesky/cm
> /cmbx7.pfb></usr/local/teTeX/share/texmf.tetex/fonts/type1/bluesky/cm/ 
> cmss10.pf
> b>kpathsea: Running mktexpk --mfmode / --bdpi 72 --mag 1+0/72 --dpi 72  
> wierda
> mktexpk: Mismatched mode ljfour and resolution 72; ignoring mode.
> mktexpk: Can't guess mode for 72 dpi devices.
> mktexpk: Use a config file, or update me.
> kpathsea: Appending font creation commands to missfont.log.

So, my question is. How come this breaks between TL2003 and TL2004?

G

From te at dbs.uni-hannover.de  Sun Oct 10 15:07:07 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sun Oct 10 15:09:01 2004
Subject: [tex-live] Repeat: mktexpk problem,
	works with TL2003 not with TL2004
In-Reply-To: <8FBD82EF-1AB5-11D9-88D0-003065B3343E@rna.nl>
References: <8FBD82EF-1AB5-11D9-88D0-003065B3343E@rna.nl>
Message-ID: <20041010130707.GA19921@dbs.uni-hannover.de>

> >b>kpathsea: Running mktexpk --mfmode / --bdpi 72 --mag 1+0/72 --dpi 72 wierda

The question is why pdftex internally uses pk_resolution=72.

Thomas

From bilotta78 at hotpop.com  Sun Oct 10 15:22:05 2004
From: bilotta78 at hotpop.com (Giuseppe Bilotta)
Date: Sun Oct 10 15:23:53 2004
Subject: [tex-live] Re: bug in the latest TeX Live snapshot.
References: <Pine.LNX.4.44.0410101008010.1691-100000@einstein.homenet>
	<Pine.LNX.4.61.0410101229300.2725@hahepc1.hahe>
Message-ID: <MPG.1bd355e5feb055899896f8@news.gmane.org>

Hartmut Henkel wrote:
> On Sun, 10 Oct 2004, Tigran Aivazian wrote:
> 
> > Could the problem be ascertained from sources without Tiqwah? If this is
> 
> Here's a simple test file with results (without idea what's going on):
> 
> \ifx\pdfcompresslevel\undefined\else\pdfcompresslevel=0 \fi
> \nopagenumbers
> \TeXXeTstate=1
> 
> \pdfoutput=1 % or 0, depending on PDF/DVI test
> 
> % pdfetex 1.11b, PDF mode: centered text "MyryVh ryV",
> %   shifted \parindent, no overfull box mark (!)
> % pdfetex 1.11b, DVI mode: centered text "MyryVh ryV",
> %   shifted \parindent, overfull box mark
> % pdfetex 1.20a, PDF mode: "MyryVh" and overfull box on page
> % pdfetex 1.20a, DVI mode: only overfull box mark on page
> % (etex 1.20a same as pdfetex 1.20a in DVI mode)
> 
> \beginR\centerline{Vyr hVyryM}\endR
> 
> \vfill\eject
> \parindent=0pt
> 
> % pdfetex 1.11b, PDF mode: centered text "MyryVh ryV"
> % pdfetex 1.11b, DVI mode: centered text "MyryVh ryV"
> % pdfetex 1.20a, PDF mode: page completely empty
> % pdfetex 1.20a, DVI mode: page completely empty
> % (etex 1.20a same as pdfetex 1.20a in DVI mode)
> 
> \beginR\centerline{Vyr hVyryM}\endR
> 
> \bye
> 
> funny, with 1.20a from \beginR\centerline{aac defghi}\endR one gets only
> "ihgfed", but from \beginR\centerline{abc defghi}\endR the page is
> empty. So it even depends on the chars.

Uh. This looks like a bug in the latest e-TeX?

-- 
Giuseppe "Oblomov" Bilotta

Can't you see
It all makes perfect sense
Expressed in dollar and cents
Pounds shillings and pence
                  (Roger Waters)

From kakuto at fsci.fuk.kindai.ac.jp  Sun Oct 10 15:24:18 2004
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun Oct 10 15:26:33 2004
Subject: [tex-live] Repeat: mktexpk problem,
	works with TL2003 not with TL2004
In-Reply-To: Your message of "Sun, 10 Oct 2004 15:07:07 +0200"
References: <20041010130707.GA19921@dbs.uni-hannover.de>
Message-ID: <200410101324.i9ADOJ9e002546@jupiter.fsci.fuk.kindai.ac.jp>

Thomas Esser <te@dbs.uni-hannover.de> wrote:

> > >b>kpathsea: Running mktexpk --mfmode / --bdpi 72 --mag 1+0/72 --dpi 72 wierda
> 
> The question is why pdftex internally uses pk_resolution=72.

\pdfpkresolution=600 may not have been dumped.
In pdftex, pdfpkresolution = 72 if <72 and 2400 if >2400:
fixed_pk_resolution := fix_int(pdf_pk_resolution, 72, 2400);

-- 
Akira Kakuto

From te at dbs.uni-hannover.de  Sun Oct 10 15:32:13 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sun Oct 10 15:34:09 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.61.0410101229300.2725@hahepc1.hahe>
References: <Pine.LNX.4.44.0410101008010.1691-100000@einstein.homenet>
	<Pine.LNX.4.61.0410101229300.2725@hahepc1.hahe>
Message-ID: <20041010133213.GB19921@dbs.uni-hannover.de>

> % pdfetex 1.11b, PDF mode: centered text "MyryVh ryV",
> %   shifted \parindent, no overfull box mark (!)
> % pdfetex 1.11b, DVI mode: centered text "MyryVh ryV",
> %   shifted \parindent, overfull box mark
> % pdfetex 1.20a, PDF mode: "MyryVh" and overfull box on page
> % pdfetex 1.20a, DVI mode: only overfull box mark on page
> % (etex 1.20a same as pdfetex 1.20a in DVI mode)

I can add:
  teTeX-2.0.2, pdfeTeX, Version 3.14159-1.10b-2.1 (Web2C 7.4.5)
  teTeX-1.0.2, pdfeTeX, Version 3.14159-13d-2.1 (Web2C 7.3.1)
  both versions, dvi and pdf mode:
      text "MyryVh ryV" shifted \parindent, overfull box mark

Thomas

From Gerben.Wierda at rna.nl  Sun Oct 10 15:33:45 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sun Oct 10 15:35:28 2004
Subject: [tex-live] Found the reason. Was: mktexpk problem,
	works with TL2003 not with TL2004
In-Reply-To: <20041010130707.GA19921@dbs.uni-hannover.de>
References: <8FBD82EF-1AB5-11D9-88D0-003065B3343E@rna.nl>
	<20041010130707.GA19921@dbs.uni-hannover.de>
Message-ID: <02278AE2-1AC1-11D9-88D0-003065B3343E@rna.nl>

On Oct 10, 2004, at 15:07, Thomas Esser wrote:

>>> b>kpathsea: Running mktexpk --mfmode / --bdpi 72 --mag 1+0/72 --dpi 
>>> 72 wierda
>
> The question is why pdftex internally uses pk_resolution=72.

The pdflatex format creation log contains:

> running `pdfetex -ini   -jobname=pdflatex -progname=pdflatex 
> *pdflatex.ini' ...
> This is pdfeTeX, Version 3.141592-1.20a-2.2 (Web2C 7.5.3) (INITEX)
> output format initialized to DVI
> entering extended mode
> (/usr/local/teTeX/share/texmf.tetex/pdftex/latex/config/pdflatex.ini
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/latex.ltx
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/texsys.cfg)
> ./texsys.aux found
>
>
> \@currdir set to: ./.
>
>
> Assuming \openin and \input
> have the same search path.
>
>
> Defining UNIX/DOS style filename parser.
>
> catcodes, registers, compatibility for TeX 2,  parameters,
> LaTeX2e <2003/12/01>
> hacks, control, par, spacing, files, font encodings, lengths,
> ====================================
>
> Local config file fonttext.cfg used
>
> ====================================
> (/usr/local/teTeX/share/texmf.tetex/tex/generic/config/fonttext.cfg
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/fonttext.ltx
> === Don't modify this file, use a .cfg file instead ===
>
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/omlenc.def)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/t1enc.def)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/ot1enc.def)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/omsenc.def)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/t1cmr.fd)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/ot1cmr.fd)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/ot1cmss.fd)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/ot1cmtt.fd)))
> ====================================
>
> Local config file fontmath.cfg used
>
> ====================================
> (/usr/local/teTeX/share/texmf.tetex/tex/generic/config/fontmath.cfg
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/fontmath.ltx
> === Don't modify this file, use a .cfg file instead ===
>
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/omlcmm.fd)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/omscmsy.fd)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/omxcmex.fd)
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/ucmr.fd)))
> ====================================
>
> Local config file preload.cfg used
>
> =====================================
> (/usr/local/teTeX/share/texmf.tetex/tex/generic/config/preload.cfg
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/preload.ltx)) page 
> nos.,
> x-ref, environments, center, verbatim, math definitions, boxes, title,
> sectioning, contents, floats, footnotes, index, bibliography, output,
> ===========================================
> Local configuration file hyphen.cfg used
> ===========================================
> (/usr/local/teTeX/share/texmf.tetex/tex/generic/babel/hyphen.cfg
> (/usr/local/teTeX/share/texmf.tetex/tex/generic/hyphen/hyphen.tex)
> (/usr/local/teTeX/share/texmf.gwtex/tex/generic/hyphen/ukhyphen.tex)
> (/usr/local/teTeX/share/texmf.tetex/tex/generic/hyphen/frhyph.tex
> frhyph.tex - French hyphenation patterns (V2.12) <2002/12/11>)
> (/usr/local/teTeX/share/texmf.tetex/tex/generic/hyphen/dehypht.tex
> German Traditional Hyphenation Patterns `dehypht' Version 3.2a 
> <1999/03/03>
> (Formerly known under the name `ghyph31' and `ghyphen'.))
> (/usr/local/teTeX/share/texmf.tetex/tex/generic/hyphen/dehyphn.tex
> New German Hyphenation Patterns `dehyphn' Rev.31 <2001-05-07> (WaS))
> (/usr/local/teTeX/share/texmf.tetex/tex/generic/hyphen/nehyph.tex)
> (/usr/local/teTeX/share/texmf.tetex/tex/generic/hyphen/zerohyph.tex))
> =================================
> Applying patch file ltpatch.ltx
> =================================
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/ltpatch.ltx)
>  ) )
> Beginning to dump on file pdflatex.fmt
>  (format=pdflatex 2004.10.10)
> 4766 strings of total length 64651
> 44228 memory locations dumped; current usage is 144&42277
> 3210 multiletter control sequences
> \font\nullfont=nullfont
> \font\OMX/cmex/m/n/10=cmex10
> \font\tenln=line10
> \font\tenlnw=linew10
> \font\tencirc=lcircle10
> \font\tencircw=lcirclew10
> \font\OT1/cmr/m/n/5=cmr5
> \font\OT1/cmr/m/n/7=cmr7
> \font\OT1/cmr/m/n/10=cmr10
> \font\OML/cmm/m/it/5=cmmi5
> \font\OML/cmm/m/it/7=cmmi7
> \font\OML/cmm/m/it/10=cmmi10
> \font\OMS/cmsy/m/n/5=cmsy5
> \font\OMS/cmsy/m/n/7=cmsy7
> \font\OMS/cmsy/m/n/10=cmsy10
> 3633 words of font info for 14 preloaded fonts
> 62 hyphenation exceptions
> Hyphenation trie of length 47864 has 1200 ops out of 35111
>   265 for language 5
>   235 for language 4
>   207 for language 3
>   88 for language 2
>   224 for language 1
>   181 for language 0
> No pages of output.
> Transcript written on pdflatex.log.
> fmtutil: /usr/local/teTeX/share/texmf.local/web2c/pdflatex.fmt 
> installed.

And there is the culprit. Because pdflatex.ini from teTeX 2.95.6 
contains

> % Thomas Esser, 1998, 2004. public domain.
> \ifx\pdfoutput\undefined
> \else
>   \ifx\pdfoutput\relax
>   \else
>     \input pdftexconfig
>     \pdfoutput=1
>   \fi
> \fi
>
> \scrollmode
> \input latex.ltx
> \endinput

while the one in TeX Live's Master tree contains

> % Thomas Esser, 1998. public domain.
> \input pdftexconfig.tex
> \scrollmode
> \input latex.ltx
> \endinput

In other words, pdftexconfig.tex is never loaded in my case because the 
ini file in the last teTeX-texmf is not updated (though its author 
notice says it is from 2004 while the one in Master says it is 1998)

Which means I have the following question: is there an update to 
teTeX-texmf coming up?

Thanks,

G

From Gerben.Wierda at rna.nl  Sun Oct 10 15:35:41 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sun Oct 10 15:37:22 2004
Subject: [tex-live] mktexpk addendum, I am using teTeX-texmf 2.96.5.20040711
Message-ID: <478BACD2-1AC1-11D9-88D0-003065B3343E@rna.nl>

I meant teTeX-texmf 2.96.5.20040711, not 2.95.6

G

From te at dbs.uni-hannover.de  Sun Oct 10 15:49:53 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sun Oct 10 15:51:44 2004
Subject: [tex-live] Re: Found the reason. Was: mktexpk problem,
	works with TL2003 not with TL2004
In-Reply-To: <02278AE2-1AC1-11D9-88D0-003065B3343E@rna.nl>
References: <8FBD82EF-1AB5-11D9-88D0-003065B3343E@rna.nl>
	<20041010130707.GA19921@dbs.uni-hannover.de>
	<02278AE2-1AC1-11D9-88D0-003065B3343E@rna.nl>
Message-ID: <20041010134953.GC19921@dbs.uni-hannover.de>

On Sun, Oct 10, 2004 at 03:33:45PM +0200, Gerben Wierda wrote:
> >% Thomas Esser, 1998, 2004. public domain.
> >\ifx\pdfoutput\undefined
> >\else
> >  \ifx\pdfoutput\relax
> >  \else
> >    \input pdftexconfig
> >    \pdfoutput=1
> >  \fi
> >\fi
> >
> >\scrollmode
> >\input latex.ltx
> >\endinput

I don't see why you have a problem with this. pdfetex has \pdfoutput !=
\undefined and \pdfoutput != \relax, so it should go to the code
  \input pdftexconfig
  \pdfoutput=1

The version of pdflatex.ini that you have (from some teTeX-beta) is
still my current version and it works for me:

    $ fmtutil --byfmt pdflatex
    running `pdfetex -ini   -jobname=pdflatex -progname=pdflatex -translate-file=cp227.tcx *pdflatex.ini' ...
    This is pdfeTeX, Version 3.141592-1.20a-2.2 (Web2C 7.5.3) (INITEX)
    ...
    (/software/oss/Text/teTeX-3.0/share/texmf-dist/tex/latex/config/pdflatex.ini
    (/software/oss/Text/teTeX-3.0/share/texmf-dist/tex/generic/config/pdftexconfig.
    ...

Thomas

From daleif at imf.au.dk  Sun Oct 10 16:33:41 2004
From: daleif at imf.au.dk (Lars Madsen)
Date: Sun Oct 10 16:35:24 2004
Subject: [tex-live] p4 sync not working?
In-Reply-To: <20041010114832.GD14915@gamma.logic.tuwien.ac.at>
References: <20041010114832.GD14915@gamma.logic.tuwien.ac.at>
Message-ID: <Pine.LNX.4.61.0410101632370.16462@radagast.imf.au.dk>

Norbert Preining :

> Hi!
>
> Strange, the p4 server seems to be a bit dead, because
> working:	p4 changes
> not working:	p4 sync
> Can someone confirm, or is this a problem at my side?
>
> Best wishes
>
> Norbert
>

if it's still located at Daimi then the problem may be that Daimi made 
some system upgrades saturday, but they should be finished by now.

-- 

/daleif

``You cannot help men permanently by doing for them 
what they could and should do for themselves. ''
  -- Abraham Lincoln

From moho01ab at student.cbs.dk  Sun Oct 10 16:40:09 2004
From: moho01ab at student.cbs.dk (=?iso-8859-15?Q?Morten_H=F8gholm?=)
Date: Sun Oct 10 16:42:11 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.61.0410101229300.2725@hahepc1.hahe>
References: <Pine.LNX.4.44.0410101008010.1691-100000@einstein.homenet>
	<Pine.LNX.4.61.0410101229300.2725@hahepc1.hahe>
Message-ID: <opsfnsc7wk1jrmup@mail.student.cbs.dk>

On Sun, 10 Oct 2004 12:41:45 +0200 (CEST), Hartmut Henkel  
<hartmut_henkel@gmx.de> wrote:

> funny, with 1.20a from \beginR\centerline{aac defghi}\endR one gets only
> "ihgfed", but from \beginR\centerline{abc defghi}\endR the page is
> empty. So it even depends on the chars.

I'm using MiKTeX and I can't confirm the latter. However I think I've  
narrowed it down a little. With a testfile containing the lines

     \beginR\centerline{1}\endR

     $\centerline{2}$

I get this output with \tracingoutput=1 running normal eTeX 2.2 (same  
result with pdfetex).

.\vbox(643.20255+0.0)x100.0, glue set 609.20255fill
..\glue(\topskip) 3.55556
..\hbox(6.44444+0.0)x100.0
...\hbox(0.0+0.0)x0.0
...\beginR
...\hbox(6.44444+0.0)x100.0, glue set 47.5fil
....\glue 0.0 plus 1.0fil minus 1.0fil
....\tenrm 1
....\glue 0.0 plus 1.0fil minus 1.0fil
...\endR
...\penalty 10000
...\glue(\parfillskip) 0.0 plus 1.0fil
...\glue(\rightskip) 0.0
..\glue(\parskip) 0.0 plus 1.0
..\glue(\baselineskip) 5.55556
..\hbox(6.44444+0.0)x100.0
...\hbox(0.0+0.0)x0.0
...\mathon
...\hbox(6.44444+0.0)x100.0, glue set 47.5fil
....\glue 0.0 plus 1.0fil minus 1.0fil
....\tenrm 2
....\glue 0.0 plus 1.0fil minus 1.0fil
...\mathoff
...\penalty 10000
...\glue(\parfillskip) 0.0 plus 1.0fil
...\glue(\rightskip) 0.0
..\glue(\parskip) 0.0 plus 1.0
..\glue(\baselineskip) 5.05556


Judging from this, the contents of both lines should be centered but the  
former is in fact *not* in the output. My guess is that something goes  
wrong in the module <Handle a glue node for mixed...>, but I can't say for  
certain, as I don't speak Pascal very well.

Cheers,
-- 
Morten H?gholm

From karl at freefriends.org  Sun Oct 10 18:29:31 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct 10 18:31:18 2004
Subject: [tex-live] p4 sync not working?
In-Reply-To: <Pine.LNX.4.61.0410101632370.16462@radagast.imf.au.dk>
Message-ID: <200410101629.i9AGTVZ27237@f7.net>

    if it's still located at Daimi then the problem may be that Daimi made 
    some system upgrades saturday, but they should be finished by now.

The p4 server is not now and has never been located at tug -- it's at
sun.dante.de.

What's on tug is the p4 checkout that the nightly builds happen from.


Norbert told me separately that:

    it starts with:
    $ p4 sync
    //depot/Build/cdbuild/logs/log#106 - updating ///usr/TeX/texlive-src/Build/cdbuild/logs/log 

    and then nothing, finish, nothing goes on.

That log file is huge, 37mb, so I suspect it is doing something, it's
just taking a long time.  Anyway, seems something went wrong in my log
rotation script, since it currently includes every change since 2000,
and that's not the way it's supposed to be.  I'll look into that.  Sorry.

From karl at freefriends.org  Sun Oct 10 20:07:38 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct 10 20:07:45 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <opsfnsc7wk1jrmup@mail.student.cbs.dk>
Message-ID: <200410101807.i9AI7cY12350@tug.org>

    My guess is that something goes  
    wrong in the module <Handle a glue node for mixed...>, 

Especially since that appears to be mostly new code in etex 2.2
(although bearing some resemblance to code in the do_glue function in
etex 2.1), seems like a good guess.

Peter, Bernd, in case it's not obvious by now, we really need you.

Here is a simple file.tex, distilling from all the others that have been
posted:

    \output={\shipout\box255}
    \loggingall
    \TeXXeTstate=1

    \parindent=0pt
    \beginR\centerline{Vyr hVyryM}\endR

    \end

Processed with simply "etex file.tex".

There no interesting differences in the .log between etex 2.1 and 2.2
(all the glue set ratios are identical, for example), but the dvi's are
very different -- the text is off the page in 2.2.

Help?!

Thanks,
karl

From moho01ab at student.cbs.dk  Sun Oct 10 20:46:51 2004
From: moho01ab at student.cbs.dk (=?iso-8859-15?Q?Morten_H=F8gholm?=)
Date: Sun Oct 10 20:48:39 2004
Subject: [tex-live] Package freeze
Message-ID: <opsfn3sdjd1jrmup@mail.student.cbs.dk>

Hi all,

Is the package freeze happening tonight?
-- 
Morten H?gholm

From sebastian.rahtz at computing-services.oxford.ac.uk  Sun Oct 10 21:01:47 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Sun Oct 10 21:02:22 2004
Subject: [tex-live] freezing
Message-ID: <4169871B.2060807@computing-services.oxford.ac.uk>

I see no reason to accept more contributions to TeX Live 2004 after 
today. I am not aware
of any outstanding items coming up, or any obvious gaps. If anyone finds 
a problem,
please do NOT install it on the Perforce repository without first 
consulting this list. I am making
some changes/additions between now and midnight tonight (GMT), and then 
I believe
we should accept bug fixes only (and that includes fixing problems of 
duplicate names)

Sebastian

From Gerben.Wierda at rna.nl  Sun Oct 10 21:03:11 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sun Oct 10 21:04:52 2004
Subject: [tex-live] Really found the reason. Was: mktexpk problem,
	works with TL2003 not with TL2004
In-Reply-To: <20041010134953.GC19921@dbs.uni-hannover.de>
References: <8FBD82EF-1AB5-11D9-88D0-003065B3343E@rna.nl>
	<20041010130707.GA19921@dbs.uni-hannover.de>
	<02278AE2-1AC1-11D9-88D0-003065B3343E@rna.nl>
	<20041010134953.GC19921@dbs.uni-hannover.de>
Message-ID: <07E2B167-1AEF-11D9-88D0-003065B3343E@rna.nl>

On Oct 10, 2004, at 15:49, Thomas Esser wrote:

> On Sun, Oct 10, 2004 at 03:33:45PM +0200, Gerben Wierda wrote:
>>> % Thomas Esser, 1998, 2004. public domain.
>>> \ifx\pdfoutput\undefined
>>> \else
>>>  \ifx\pdfoutput\relax
>>>  \else
>>>    \input pdftexconfig
>>>    \pdfoutput=1
>>>  \fi
>>> \fi
>>>
>>> \scrollmode
>>> \input latex.ltx
>>> \endinput
>
> I don't see why you have a problem with this. pdfetex has \pdfoutput !=
> \undefined and \pdfoutput != \relax, so it should go to the code
>   \input pdftexconfig
>   \pdfoutput=1
>
> The version of pdflatex.ini that you have (from some teTeX-beta) is
> still my current version and it works for me:
>
>     $ fmtutil --byfmt pdflatex
>     running `pdfetex -ini   -jobname=pdflatex -progname=pdflatex  
> -translate-file=cp227.tcx *pdflatex.ini' ...
>     This is pdfeTeX, Version 3.141592-1.20a-2.2 (Web2C 7.5.3) (INITEX)
>     ...
>      
> (/software/oss/Text/teTeX-3.0/share/texmf-dist/tex/latex/config/ 
> pdflatex.ini
>      
> (/software/oss/Text/teTeX-3.0/share/texmf-dist/tex/generic/config/ 
> pdftexconfig.
>     ...

But here it does:

> running `pdfetex -ini   -jobname=pdflatex -progname=pdflatex  
> *pdflatex.ini' ...
> This is pdfeTeX, Version 3.141592-1.20a-2.2 (Web2C 7.5.3) (INITEX)
> output format initialized to DVI
> entering extended mode
> (/usr/local/teTeX/share/texmf.tetex/pdftex/latex/config/pdflatex.ini
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/latex.ltx

The reason seems to be that an old fmtutil.cnf is in the way without  
the -translate-file snippet in it.

hedwig:/usr/local/src/INSTALL-TeX/texmf gerben$ diff -c2  
fmtutil.cnf.tl200[34]|grep pdflatex.ini
! pdflatex      pdfetex         language.dat    *pdflatex.ini
! pdflatex      pdfetex         language.dat     
-translate-file=cp227.tcx *pdflatex.ini

Fixing this solves my mktexpk problem (or at least problem one).

But it unconvers another problem which I'll post in a separate message.

G

From Gerben.Wierda at rna.nl  Sun Oct 10 21:12:44 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sun Oct 10 21:14:26 2004
Subject: [tex-live] TL build and missing files?
Message-ID: <5D74E966-1AF0-11D9-88D0-003065B3343E@rna.nl>

After a TL 2004 build (make install), the texmf directory has:

> $ ls texmf/web2c/
> aleph.pool      mktexdir        mktexupd        pdfetex.pool    
> texmf.cnf
> fmtutil.cnf     mktexdir.opt    mp.pool         pdfxtex.pool
> mf.pool         mktexnam        omega.pool      tex-pl.pool
> mktex.opt       mktexnam.opt    pdfetex-pl.pool tex.pool

This makes fmtutil warn because cp227.tcx is missing

warning: Could not open char translation file `cp227.tcx'.

I started looking for that file and found it in Master

> ls texmf/web2c
> aleph.pool      cp8bit.tcx      macce-pl.tcx    mktexnam        
> pdfxtex.pool
> amiga-pl.tcx    fmtutil.cnf     macce-t1.tcx    mktexnam.opt    
> tcvn-t5.tcx
> cp1250cs.tcx    il1-t1.tcx      maz-pl.tcx      mktexupd        
> tex-pl.pool
> cp1250pl.tcx    il2-cs.tcx      mf.pool         mp.pool         
> tex.pool
> cp1250t1.tcx    il2-pl.tcx      mktex.cnf       natural.tcx     
> texmf.cnf
> cp227.tcx       il2-t1.tcx      mktex.opt       omega.pool      
> updmap.cfg
> cp852-cs.tcx    kam-cs.tcx      mktexdir        pdfetex-pl.pool 
> viscii-t5.tcx
> cp852-pl.tcx    kam-t1.tcx      mktexdir.opt    pdfetex.pool

Now, I think the idea was that texmf-dist contains the packages and 
stuff, while texmf contains the stuff installed by a make install. It 
seems to me that the stuff in Master is not 'pure' in that it is not 
only stuff that has been created with make install? How did the *.tcx 
files get there?

If I use TL in combination with a separately created texmf-dist (which 
I do) I expect those .tcx files to be installed with 'make install' or 
if they are not closely related to the program (as the .pool files are) 
then I would expect them to be part of texmf-dist (and thus also 
teTeX-texmf).

G

From te at dbs.uni-hannover.de  Sun Oct 10 21:44:18 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sun Oct 10 21:46:10 2004
Subject: [tex-live] Re: TL build and missing files?
In-Reply-To: <5D74E966-1AF0-11D9-88D0-003065B3343E@rna.nl>
References: <5D74E966-1AF0-11D9-88D0-003065B3343E@rna.nl>
Message-ID: <20041010194418.GA3687@dbs.uni-hannover.de>

> then I would expect them to be part of texmf-dist (and thus also 
> teTeX-texmf).

"make install" does not install this file, so it will be
included in the next teTeX-texmf tarball. However, I doubt that the
-translate-file=cp227.tcx option is releated to your problem of reading
pdftexconfig.tex:

    $ pdfetex -ini   -jobname=pdflatex -progname=pdflatex *pdflatex.ini
    This is pdfeTeX, Version 3.141592-1.20a-2.2 (Web2C 7.5.3) (INITEX)
    ...
    (/software/oss/Text/teTeX-3.0/share/texmf-dist/tex/latex/config/pdflatex.ini
    (/software/oss/Text/teTeX-3.0/share/texmf-dist/tex/generic/config/pdftexconfig.tex)
    ...

Thomas

From Gerben.Wierda at rna.nl  Sun Oct 10 22:05:31 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sun Oct 10 22:07:13 2004
Subject: [tex-live] Re: TL build and missing files?
In-Reply-To: <20041010194418.GA3687@dbs.uni-hannover.de>
References: <5D74E966-1AF0-11D9-88D0-003065B3343E@rna.nl>
	<20041010194418.GA3687@dbs.uni-hannover.de>
Message-ID: <BD3E222B-1AF7-11D9-88D0-003065B3343E@rna.nl>

On Oct 10, 2004, at 21:44, Thomas Esser wrote:

>> then I would expect them to be part of texmf-dist (and thus also
>> teTeX-texmf).
>
> "make install" does not install this file, so it will be
> included in the next teTeX-texmf tarball.

OK. Any plans as to when?

But still, in that case the files should (in TL) reside in texmf-dist 
and not in texmf.

> However, I doubt that the
> -translate-file=cp227.tcx option is releated to your problem of reading
> pdftexconfig.tex

You seem to be right. I have changed it back and the problem of not 
reading pdftexconfig.tex does not reappear. Which makes me wonder what 
the problem was in the first place. I need to investigate some more.

G

From moho01ab at student.cbs.dk  Sun Oct 10 22:45:43 2004
From: moho01ab at student.cbs.dk (=?iso-8859-15?Q?Morten_H=F8gholm?=)
Date: Sun Oct 10 22:47:32 2004
Subject: [tex-live] freezing
In-Reply-To: <4169871B.2060807@computing-services.oxford.ac.uk>
References: <4169871B.2060807@computing-services.oxford.ac.uk>
Message-ID: <opsfn9ahh41jrmup@mail.student.cbs.dk>

On Sun, 10 Oct 2004 20:01:47 +0100, Sebastian Rahtz  
<sebastian.rahtz@computing-services.oxford.ac.uk> wrote:

Hi Sebastian,

> I see no reason to accept more contributions to TeX Live 2004 after  
> today. I am not aware
> of any outstanding items coming up, or any obvious gaps. If anyone finds  
> a problem,
> please do NOT install it on the Perforce repository without first  
> consulting this list. I am making
> some changes/additions between now and midnight tonight (GMT), and then  
> I believe
> we should accept bug fixes only (and that includes fixing problems of  
> duplicate names)

I've made a bug-fix release of my LaTeX packages. I've put two zip  
archives at <http://www.student.cbs.dk/moho01ab/stuff/>. All files in  
these zip achives have been put into one of the subdirectories doc,  
runtime, or source (hope it helps). The archive mh.zip contains all files  
for the "mh" bundle and xfrac.zip contains the files for "xfrac".

Also I see that "empheq" still exists in texmf\doc\latex. It should be  
deleted as it is now part of "mh".

Hope you have time to update them.

Cheers,
-- 
Morten H?gholm

From moho01ab at student.cbs.dk  Sun Oct 10 22:55:14 2004
From: moho01ab at student.cbs.dk (=?iso-8859-15?Q?Morten_H=F8gholm?=)
Date: Sun Oct 10 22:56:57 2004
Subject: [tex-live] freezing
In-Reply-To: <opsfn9ahh41jrmup@mail.student.cbs.dk>
References: <4169871B.2060807@computing-services.oxford.ac.uk>
	<opsfn9ahh41jrmup@mail.student.cbs.dk>
Message-ID: <opsfn9qcqr1jrmup@mail.student.cbs.dk>

On Sun, 10 Oct 2004 22:45:43 +0200, Morten H?gholm  
<moho01ab@student.cbs.dk> wrote:

> Hi Sebastian,

It would appear that my mails to Sebastian bounces. I wonder if any of my  
messages on the list get through to him...?
-- 
Morten H?gholm

From karl at freefriends.org  Sun Oct 10 23:17:22 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct 10 23:19:18 2004
Subject: [tex-live] TL build and missing files?
In-Reply-To: <5D74E966-1AF0-11D9-88D0-003065B3343E@rna.nl>
Message-ID: <200410102117.i9ALHM721406@f7.net>

    Now, I think the idea was that texmf-dist contains the packages and 
    stuff, while texmf contains the stuff installed by a make install. 

Sorry -- this is mostly, but not entirely, the case.  Unfortunately
(perhaps), there's a fourth category of files -- files which are needed,
which don't easily belong to packages, and which have never been
installed by make install.  texmf is used for those too.  Don't want to
create a *fourth* tree, it's bad enough already ...  As a practical
matter, everything about web2c, kpathsea, etc. is in texmf.  It would be
an enormous hassle to change this.

texmf-dist and texmf-doc have strict rules, in that the tpm files for
them are entirely generated automatically (by Tpm.pm), based on package
names -- so that some package "foo" *only* contains files within
directories named "foo".

texmf, on the other hand, has hand-maintained pattern-based tpm's, so
the rules are not as strict.  This is a good thing.

Some time ago, I put a terse README in each texmf* directory, explaining
the situation as I understand it.

    It seems to me that the stuff in Master is not 'pure' in that it is
    not only stuff that has been created with make install? How did the
    *.tcx files get there?

They were simply installed there by hand.  I believe there are many
others, too.

You might argue that everything in texmf that is not installed by make
install should be.  I don't disagree; that would mean creating some
dummy data package in the source that does nothing but copy the files
from source to Master.  That could be ok as a project for next time.

From sebastian.rahtz at computing-services.oxford.ac.uk  Sun Oct 10 23:35:27 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Sun Oct 10 23:36:28 2004
Subject: [tex-live] freezing
In-Reply-To: <opsfn9ahh41jrmup@mail.student.cbs.dk>
References: <4169871B.2060807@computing-services.oxford.ac.uk>
	<opsfn9ahh41jrmup@mail.student.cbs.dk>
Message-ID: <4169AB1F.3060503@computing-services.oxford.ac.uk>

Thanks, Morten, I'll get those in now

se bastian

From moho01ab at student.cbs.dk  Mon Oct 11 00:21:08 2004
From: moho01ab at student.cbs.dk (=?iso-8859-15?Q?Morten_H=F8gholm?=)
Date: Mon Oct 11 00:22:53 2004
Subject: [tex-live] freezing
In-Reply-To: <4169AB1F.3060503@computing-services.oxford.ac.uk>
References: <4169871B.2060807@computing-services.oxford.ac.uk>
	<opsfn9ahh41jrmup@mail.student.cbs.dk>
	<4169AB1F.3060503@computing-services.oxford.ac.uk>
Message-ID: <opsfodpiky1jrmup@mail.student.cbs.dk>

On Sun, 10 Oct 2004 22:35:27 +0100, Sebastian Rahtz  
<sebastian.rahtz@computing-services.oxford.ac.uk> wrote:

> Thanks, Morten, I'll get those in now

Thanks,

After you updated the files I noticed one thing: The file ntheorem.fix is  
a runtime file so should be moved from the "doc\latex\mh" directory to  
"tex\latex\mh"

cheers,
-- 
Morten H?gholm

From sebastian.rahtz at computing-services.oxford.ac.uk  Mon Oct 11 00:24:35 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon Oct 11 00:25:12 2004
Subject: [tex-live] freezing
In-Reply-To: <opsfodpiky1jrmup@mail.student.cbs.dk>
References: <4169871B.2060807@computing-services.oxford.ac.uk>	<opsfn9ahh41jrmup@mail.student.cbs.dk>	<4169AB1F.3060503@computing-services.oxford.ac.uk>
	<opsfodpiky1jrmup@mail.student.cbs.dk>
Message-ID: <4169B6A3.6030501@computing-services.oxford.ac.uk>

Morten H?gholm wrote:

> After you updated the files I noticed one thing: The file ntheorem.fix 
> is  a runtime file so should be moved from the "doc\latex\mh" 
> directory to  "tex\latex\mh"
>

drat. will do

sebastian

From staw at gust.org.pl  Mon Oct 11 00:48:42 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Mon Oct 11 00:33:19 2004
Subject: [tex-live] freezing
In-Reply-To: <4169871B.2060807@computing-services.oxford.ac.uk>
Message-ID: <Pine.LNX.4.44.0410110042300.3454-100000@re86.internetdsl.tpnet.pl>

On Sun, 10 Oct 2004, Sebastian Rahtz wrote:

> I see no reason to accept more contributions to TeX Live 2004 after
> today. I am not aware of any outstanding items coming up, or any obvious
> gaps. If anyone finds a problem, please do NOT install it on the
> Perforce repository without first consulting this list. I am making some
> changes/additions between now and midnight tonight (GMT), and then

OK. Would you please add antt to collection-fontsextra, as the new
version is no more only Polish specific, and some people (including Hans)
will be happy having it.

Thanks,

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From sebastian.rahtz at computing-services.oxford.ac.uk  Mon Oct 11 00:43:19 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon Oct 11 00:43:53 2004
Subject: [tex-live] freezing
In-Reply-To: <Pine.LNX.4.44.0410110042300.3454-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0410110042300.3454-100000@re86.internetdsl.tpnet.pl>
Message-ID: <4169BB07.4030107@computing-services.oxford.ac.uk>

Staszek Wawrykiewicz wrote:

>OK. Would you please add antt to collection-fontsextra, as the new
>version is no more only Polish specific, and some people (including Hans)
>will be happy having it.
>
>  
>
OK

Sebastian

From moho01ab at student.cbs.dk  Mon Oct 11 00:45:36 2004
From: moho01ab at student.cbs.dk (=?iso-8859-15?Q?Morten_H=F8gholm?=)
Date: Mon Oct 11 00:47:19 2004
Subject: [tex-live] freezing
In-Reply-To: <4169B6A3.6030501@computing-services.oxford.ac.uk>
References: <4169871B.2060807@computing-services.oxford.ac.uk>
	<opsfn9ahh41jrmup@mail.student.cbs.dk>
	<4169AB1F.3060503@computing-services.oxford.ac.uk>
	<opsfodpiky1jrmup@mail.student.cbs.dk>
	<4169B6A3.6030501@computing-services.oxford.ac.uk>
Message-ID: <opsfoeuaqj1jrmup@mail.student.cbs.dk>

On Sun, 10 Oct 2004 23:24:35 +0100, Sebastian Rahtz  
<sebastian.rahtz@computing-services.oxford.ac.uk> wrote:

> drat. will do

Thanks. I'm sorry for the inconvenience my package arrangement has caused.  
I promise that my next major update will contain a makefile! (and that I  
won't do a midnight upload of packages right before the deadline).
-- 
Morten H?gholm

From staw at gust.org.pl  Mon Oct 11 01:12:20 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Mon Oct 11 00:56:55 2004
Subject: [tex-live] freezing
In-Reply-To: <4169BB07.4030107@computing-services.oxford.ac.uk>
Message-ID: <Pine.LNX.4.44.0410110108540.3535-100000@re86.internetdsl.tpnet.pl>

On Sun, 10 Oct 2004, Sebastian Rahtz wrote:

> >OK. Would you please add antt to collection-fontsextra, as the new
> >version is no more only Polish specific, and some people (including Hans)
> >will be happy having it.
> >
> OK

Thanks, but I do not see any reason why removing it also from
collection-langpolish ;-)

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From bilotta78 at hotpop.com  Mon Oct 11 01:46:46 2004
From: bilotta78 at hotpop.com (Giuseppe Bilotta)
Date: Mon Oct 11 01:48:44 2004
Subject: [tex-live] Re: freezing
References: <4169871B.2060807@computing-services.oxford.ac.uk>
Message-ID: <MPG.1bd3e84d86738c849896f9@news.gmane.org>

Sebastian Rahtz wrote:
> I see no reason to accept more contributions to TeX Live 2004 after 
> today. I am not aware
> of any outstanding items coming up, or any obvious gaps. If anyone finds 
> a problem,
> please do NOT install it on the Perforce repository without first 
> consulting this list.

Uh, given the bug just discovered in e-TeX 2.2, I would say at 
least that one should stay away from freezing?

-- 
Giuseppe "Oblomov" Bilotta

Can't you see
It all makes perfect sense
Expressed in dollar and cents
Pounds shillings and pence
                  (Roger Waters)

From reinhard.kotucha at web.de  Mon Oct 11 01:48:43 2004
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon Oct 11 01:50:26 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.61.0410092121280.23537@hahepc1.hahe>
References: <Pine.LNX.4.61.0410091832070.1715@ginsburg.homenet>
	<Pine.LNX.4.61.0410092000300.6891@hahepc1.hahe>
	<Pine.LNX.4.61.0410092121280.23537@hahepc1.hahe>
Message-ID: <16745.51803.734701.124831@zarniwoop.ms25.local>

>>>>> "Hartmut" == Hartmut Henkel <hartmut_henkel@gmx.de> writes:

    > error can be reproduced, seems to be something with etex:

    > % this line is ok 
    > %\centerline{\beginR Vyr hVyryM\endR}

It doesn't work for me, "Vyr" is invisible in both cases.

This is my example file:

------------------------------------------------------------------
\pdfcompresslevel=0
\nopagenumbers
\TeXXeTstate=1

\def\verticalrule{\smash{\hbox to 0pt{\hss\vrule 
      width.4pt height0pt depth\vsize\hss}}}

\def\showcenter{\leavevmode
  \verticalrule
  \kern.5\hsize
  \verticalrule
  \kern.5\hsize
  \verticalrule
}

\def\strut{\par\hrule width1sp height\baselineskip\par}


\parindent=0pt
\showcenter


\centerline{\beginR Vyr hVyryM\endR}
\strut
\beginR\centerline{Vyr hVyryM}\endR
\strut
\centerline{\beginR 123 457 789\endR}
\strut
\centerline{\beginR\hbox{123 457 789}\endR}
\strut
\beginR\centerline{\hbox{123 456 789}}\endR
\bye
------------------------------------------------------------------

\showcenter only makes sense if \parindent=0pt.  \strut is used to
split the text into different strings.  You get a BT...ET environment 
for each line then, instead of one containing the whole text.  The
only purpose is to make the output file more readable.

What I get is this:

1 0 0 1 -539.801 -119.128 cm
BT
/F1 9.963 Tf 277.745 747.972 Td[(My)1(ryVh)]TJ 382.784 0 Td[(ry)1(V)]TJ
ET
.....
1 0 0 1 -72 -734.08 cm
BT
/F1 9.963 Tf 346.328 727.161 Td[(My)1(ryVh)]TJ 382.785 0 Td[(ry)1(V)]TJ
ET
.....
1 0 0 1 -72 -713.269 cm
BT
/F1 9.963 Tf 280.263 706.848 Td[(987)]TJ 365.368 0 Td[(754)]TJ 365.368 0 Td[(321)]TJ
ET
.....
1 0 0 1 -72 -694.893 cm
BT
/F1 9.963 Tf 280.263 688.473 Td[(987)-333(754)-334(321)]TJ
ET
.....
1 0 0 1 -72 -676.518 cm
BT
/F1 9.963 Tf 696.789 670.097 Td[(987)-333(654)-334(321)]TJ
ET


If you compare the pdf output of the lines 

   \centerline{\beginR 123 457 789\endR}

and 

   \centerline{\beginR\hbox{123 457 789}\endR}

you'll see that interword glue is not calculated properly unless the
text is inside an \hbox.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha@web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From bilotta78 at hotpop.com  Mon Oct 11 02:10:53 2004
From: bilotta78 at hotpop.com (Giuseppe Bilotta)
Date: Mon Oct 11 02:12:53 2004
Subject: [tex-live] Re: bug in the latest TeX Live snapshot.
References: <Pine.LNX.4.61.0410091832070.1715@ginsburg.homenet>
	<Pine.LNX.4.61.0410092000300.6891@hahepc1.hahe>
	<Pine.LNX.4.61.0410092121280.23537@hahepc1.hahe>
	<16745.51803.734701.124831@zarniwoop.ms25.local>
Message-ID: <MPG.1bd3edf7cdf3c2a79896fa@news.gmane.org>

Reinhard Kotucha wrote:
> >>>>> "Hartmut" == Hartmut Henkel <hartmut_henkel@gmx.de> writes:
> 
>     > error can be reproduced, seems to be something with etex:
> 
>     > % this line is ok 
>     > %\centerline{\beginR Vyr hVyryM\endR}
> 
> It doesn't work for me, "Vyr" is invisible in both cases.
> 

[snip]

> If you compare the pdf output of the lines 
> 
>    \centerline{\beginR 123 457 789\endR}
> 
> and 
> 
>    \centerline{\beginR\hbox{123 457 789}\endR}
> 
> you'll see that interword glue is not calculated properly unless the
> text is inside an \hbox.

The relative block in the \eTeX 2.2 source seem to suggest that 
the changes were done because \TeXXeT (as implemented in e-TeX) 
should be compatible with \TeXeT. Apart from possible bugs (I'm 
not in the vein to debug \eTeX at this time of night :)), does 
anybody have an actually runnable \TeXeT around to see how it 
behaved?

Otherwise, we might just revert that part to the old do_glue() 
routine, which seemed to work right and shouldn't influence the 
other changes in 2.2 ...

-- 
Giuseppe "Oblomov" Bilotta

Can't you see
It all makes perfect sense
Expressed in dollar and cents
Pounds shillings and pence
                  (Roger Waters)

From kohler at cs.ucla.edu  Sun Oct 10 21:04:05 2004
From: kohler at cs.ucla.edu (Eddie Kohler)
Date: Mon Oct 11 04:23:35 2004
Subject: [tex-live] location of t1* binaries
In-Reply-To: <20041009082745.GA30274@dbs.uni-hannover.de>
References: <20041003114458.GB13987@muisje>
	<20041003171301.GC30269@dbs.uni-hannover.de>
	<B1F1C27C-165A-11D9-8AF5-000A95A6D9BC@cs.ucla.edu>
	<20041005055755.GI24911@dbs.uni-hannover.de>
	<20041005180952.GD6772@dbs.uni-hannover.de>
	<571E3266-1725-11D9-A7B9-000A95A6D9BC@cs.ucla.edu>
	<20041006153942.GB19718@dbs.uni-hannover.de>
	<41678B39.7080100@cs.ucla.edu>
	<20041009082745.GA30274@dbs.uni-hannover.de>
Message-ID: <416987A5.1060500@cs.ucla.edu>

Thomas Esser wrote:
>>for me, with a teTeX non-source-tree build.  Rather than 
>>'--with-kpathsea=texk-local', it now expects you to supply the 
>>configuration argument '--enable-tetex-build'.  Let me know how it works.
> 
> 
> Thanks, looks much better now. One problem is that configure has no
> access to make variables, so it still fails:
> 
>   configure:4748: checking kpathsea/kpathsea.h presence
>   configure:4758: gcc -E  -I$(top_builddir)/../../texk -I$(top_srcdir)/../../texk conftest.c
>   conftest.c:25:31: kpathsea/kpathsea.h: No such file or directory
> 
> If you really want to run
>   AC_CHECK_HEADER(kpathsea/kpathsea.h, [kpse_header=yes], [kpse_header=no])
> you have to set CPPFLAGS in a way that the shell understands.
> 
> In my opinion, there is no need to check for header files if
> --enable-tetex-build is set.  In that case, I'd prefer to make no test
> or a simpler one, such as
>   test -f $srcdir/../../texk/kpathsea/kpathsea.h

I followed your advice.  Try this.

Eddie

-------------- next part --------------
dnl Process this file with autoconf to produce a configure script.
AC_INIT(NEWS)
AM_INIT_AUTOMAKE(lcdf-typetools, 2.15)
AM_CONFIG_HEADER(config.h)
AM_MAINTAINER_MODE

AC_PROG_MAKE_SET

AC_PROG_CC
AC_PROG_CPP
AC_PROG_CXX
AC_PROG_CXXCPP
if test -n "$GCC" ; then CC="$CC -W -Wall" ; CXX="$CXX -W -Wall" ; fi

dnl AN_MAKEVAR([AR], [AC_PROG_AR])
dnl AN_PROGRAM([ar], [AC_PROG_AR])
dnl AC_DEFUN([AC_PROG_AR], [AC_CHECK_TOOL(AR, ar, :)])
dnl AC_PROG_AR

AC_PROG_RANLIB


dnl Available from the GNU Autoconf Macro Archive at:
dnl http://www.gnu.org/software/ac-archive/htmldoc/ac_cxx_template_objs.html
dnl
AC_DEFUN([AC_CXX_TEMPLATE_OBJS],
[AC_CACHE_CHECK(where template objects are stored, ac_cv_cxx_templobjs,
 [ ac_cv_cxx_templobjs='unknown'
   if test "$GXX" = yes; then
     ac_cv_cxx_templobjs='nowhere'
   else
     case $CXX in
       CC|*/CC)
        cat > conftest.cc <<EOF
template<class T> class A { public : A () {} };
template<class T> void f (const A<T>&) {}
main()
{ A<double> d;
  A<int> i;
  f (d);
  f (i);
  return 0;
}
EOF
        if test "$ac_cv_cxx_templobjs" = 'unknown' ; then
          if test -d Templates.DB ; then
            rm -fr Templates.DB
          fi
          if $CXX $CXXFLAGS -ptr. -c conftest.cc 1> /dev/null 2>&1; then
            if test -d Templates.DB ; then
#             this should be Sun CC <= 4.2
              CXXFLAGS="$CXXFLAGS -ptr."
              if test x"$LIBTOOL" = x ; then
                ac_cv_cxx_templobjs='Templates.DB/*.o'
              else
                ac_cv_cxx_templobjs='Templates.DB/*.lo'
              fi
              rm -fr Templates.DB
            fi
          fi
        fi
        if test "$ac_cv_cxx_templobjs" = 'unknown' ; then
          if test -d SunWS_cache ; then
            rm -fr SunWS_cache
          fi
          if $CXX $CXXFLAGS -c conftest.cc 1> /dev/null 2>&1; then
            if test -d SunWS_cache ; then
#             this should be Sun WorkShop C++ compiler 5.x
#             or Sun Forte C++ compiler >= 6.x
              if test x"$LIBTOOL" = x ; then
                ac_cv_cxx_templobjs='SunWS_cache/*/*.o'
              else
                ac_cv_cxx_templobjs='SunWS_cache/*/*.lo'
              fi
              rm -fr SunWS_cache
            fi
          fi
        fi
        rm -f conftest* ;;
     esac
   fi
   case "x$ac_cv_cxx_templobjs" in
     xunknown|xnowhere)
     TEMPLATE_OBJS="" ;;
     *)
     TEMPLATE_OBJS="$ac_cv_cxx_templobjs" ;;
   esac
   AC_SUBST(TEMPLATE_OBJS)])])

AC_CXX_TEMPLATE_OBJS


dnl
dnl directory searching
dnl

AC_HEADER_DIRENT


dnl
dnl select programs to be compiled
dnl

AC_ARG_ENABLE(cfftot1, [  --disable-cfftot1       do not build the cfftot1 program], :, enable_cfftot1=yes)
AC_ARG_ENABLE(mmafm, [  --disable-mmafm         do not build the mmafm program], :, enable_mmafm=yes)
AC_ARG_ENABLE(mmpfb, [  --disable-mmpfb         do not build the mmpfb program], :, enable_mmpfb=yes)
AC_ARG_ENABLE(otfinfo, [  --disable-otfinfo       do not build the otfinfo program], :, enable_otfinfo=yes)
AC_ARG_ENABLE(otftotfm, [  --disable-otftotfm      do not build the otftotfm program], :, enable_otftotfm=yes)
AC_ARG_ENABLE(t1lint, [  --disable-t1dotlessj    do not build the t1dotlessj program], :, enable_t1dotlessj=yes)
AC_ARG_ENABLE(t1lint, [  --disable-t1lint        do not build the t1lint program], :, enable_t1lint=yes)
AC_ARG_ENABLE(t1testpage, [  --disable-t1testpage    do not build the t1testpage program], :, enable_t1testpage=yes)

SELECTED_SUBDIRS=''
for i in cfftot1 mmafm mmpfb otfinfo otftotfm t1dotlessj t1lint t1testpage; do
    y=`eval 'echo $enable_'"$i"`
    if test "x$y" != xno; then SELECTED_SUBDIRS="$SELECTED_SUBDIRS $i"; fi
done
AC_SUBST(SELECTED_SUBDIRS)


dnl
dnl kpathsea, auto-cfftot1
dnl

AC_ARG_ENABLE(tetex-build, [  --enable-tetex-build    build as part of a teTeX installation], :, enable_tetex_build=no)
AC_ARG_WITH(kpathsea, [  --with-kpathsea=PREFIX  Kpathsea is installed (under PREFIX)],
  [kpathsea=$withval], [kpathsea=])

if test "x$kpathsea" = xno; then
    KPSEINTERFACE_O=
    LIBKPATHSEA=
else
    if test "x$enable_tetex_build" = xyes; then
	if test ! -d $srcdir/../../texk/kpathsea; then
	    AC_MSG_ERROR([
=========================================

You specified --enable-tetex-build, but I can't find the kpathsea
directory.  I expected it to be in $srcdir/../../texk/kpathsea.

=========================================])
	fi
	CPPFLAGS="$CPPFLAGS -I\$(top_builddir)/../../texk -I\$(top_srcdir)/../../texk"
	LDFLAGS="$LDFLAGS -L\$(top_builddir)/../../texk/kpathsea/.libs"
    elif test "x$kpathsea" != x -a "x$kpathsea" != xyes; then
	CPPFLAGS="$CPPFLAGS -I$kpathsea/include"
	LDFLAGS="$LDFLAGS -L$kpathsea/lib"
    else
	kpathsea=yes
    fi

    dnl check for kpathsea/kpathsea.h
    if test "x$enable_tetex_build" = xyes; then
	kpse_header=yes
    else
	AC_CHECK_HEADER(kpathsea/kpathsea.h, [kpse_header=yes], [kpse_header=no])
    fi

    dnl if not found and kpathsea prefix not set, check /usr/local
    if test "x$kpse_header" != xyes -a "x$kpathsea" = xyes -a -r /usr/local/include/kpathsea/tex-file.h; then
	CPPFLAGS="$CPPFLAGS -I/usr/local/include"
	LDFLAGS="$LDFLAGS -L/usr/local/lib"
	AC_CHECK_HEADER(kpathsea/tex-file.h, [kpse_header=yes], [kpse_header=no])
    fi

    dnl check for -lkpathsea
    if test "x$enable_tetex_build" = xyes; then
	kpse_library=yes
    else
	AC_CHECK_LIB(kpathsea, kpse_set_program_name, [kpse_library=yes], [kpse_library=no])
    fi

    dnl bail out if not found
    if test "x$kpse_header" != xyes -o "x$kpse_library" != xyes; then
	AC_MSG_ERROR([
=========================================

I can't find the kpathsea library and/or header files. Tell me where to look
using the --with-kpathsea=PREFIX option (header files should be under
PREFIX/include/kpathsea, and library under PREFIX/lib), or disable support
using --without-kpathsea.

=========================================])
    fi

    dnl OK, found
    AC_DEFINE(HAVE_KPATHSEA, 1, [Define if you want to use kpathsea.])
    KPSEINTERFACE_O='kpseinterface.$(OBJEXT)'
    if test "x$enable_tetex_build" = xyes; then
	LIBKPATHSEA='$(top_builddir)/../../texk/kpathsea/.libs/libkpathsea.a'
    else
	LIBKPATHSEA='-lkpathsea'
    fi
fi
AC_SUBST([KPSEINTERFACE_O])
AC_SUBST([LIBKPATHSEA])

AC_ARG_ENABLE(selfauto-set, [  --disable-selfauto-set  disable setting SELFAUTO variables from kpsewhich], :, enable_selfauto_set=yes)

if test "x$enable_selfauto_set" = xyes -a "x$kpathsea" != xno -a "x$enable_tetex_build" != xyes; then
    kpsewhich='kpsewhich'
    test "x$kpathsea" != xyes -a -x "$kpathsea/bin/kpsewhich" && kpsewhich="$kpathsea/bin/kpsewhich"
    SELFAUTOLOC=`$kpsewhich --expand-var='$SELFAUTOLOC' 2>/dev/null`
    SELFAUTODIR=`$kpsewhich --expand-var='$SELFAUTODIR' 2>/dev/null`
    SELFAUTOPARENT=`$kpsewhich --expand-var='$SELFAUTOPARENT' 2>/dev/null`
    if test -z "$SELFAUTODIR"; then
	AC_MSG_WARN([
=========================================

Could not extract SELFAUTO variables from $kpsewhich.
Either supply the correct PREFIX to --with-kpathsea, or supply
--disable-selfauto-loc.

=========================================])
    fi
    AC_DEFINE_UNQUOTED(SELFAUTOLOC, "$SELFAUTOLOC", [kpsewhich's $SELFAUTOLOC variable])
    AC_DEFINE_UNQUOTED(SELFAUTODIR, "$SELFAUTODIR", [kpsewhich's $SELFAUTODIR variable])
    AC_DEFINE_UNQUOTED(SELFAUTOPARENT, "$SELFAUTOPARENT", [kpsewhich's $SELFAUTOPARENT variable])
fi

AC_ARG_ENABLE(auto-cfftot1, [  --disable-auto-cfftot1  disable running cfftot1 from otftotfm], :, enable_auto_cfftot1=yes)
AC_ARG_ENABLE(auto-t1dotlessj, [  --disable-auto-t1dotlessj disable running t1dotlessj from otftotfm], :, enable_auto_t1dotlessj=yes)

if test "x$enable_auto_cfftot1" = xyes; then
    AC_DEFINE(HAVE_AUTO_CFFTOT1, 1, [Define to run cfftot1 automatically from otftotfm.])
fi
if test "x$enable_auto_t1dotlessj" = xyes; then
    AC_DEFINE(HAVE_AUTO_T1DOTLESSJ, 1, [Define to run t1dotlessj automatically from otftotfm.])
fi


dnl
dnl <new> and/or <new.h>
dnl

AC_LANG_CPLUSPLUS
AC_CACHE_CHECK([whether <new> works], ac_cv_good_new_hdr,
[AC_TRY_LINK([#include <new>], [
  int a;
  int *b = new(&a) int;
  return 0;
], ac_cv_good_new_hdr=yes, ac_cv_good_new_hdr=no)])
if test "$ac_cv_good_new_hdr" = yes; then
   AC_DEFINE(HAVE_NEW_HDR, 1, [Define if <new> exists and works.])
fi
AC_CHECK_HEADERS(new.h)


dnl
dnl functions such as strerror, working strtod, strtoul, time
dnl headers such as unistd.h
dnl

AC_LANG_C
FIXLIBC_O=''
AC_CHECK_FUNCS(strerror, :, FIXLIBC_O='fixlibc.o')

AC_CACHE_CHECK(whether strtod works, ac_cv_working_strtod,
[AC_TRY_RUN([#include <stdio.h>
#include <stdlib.h>
int main(int c, char **v) {
  char s[] = "12 ";
  char *endp;
  double d = strtod(s, &endp);
  exit(*endp == 0 ? 1 : 0);
}], ac_cv_working_strtod=yes, ac_cv_working_strtod=no,
ac_cv_working_strtod=yes)])
if test $ac_cv_working_strtod = no; then 
    FIXLIBC_O='fixlibc.o'
    AC_DEFINE(BROKEN_STRTOD, 1, [Define if strtod is broken.])
fi

AC_CHECK_FUNCS(strtoul ctime mkstemp ftruncate sigaction waitpid)
AC_CHECK_FUNC(floor, :, [AC_CHECK_LIB(m, floor)])
AC_CHECK_FUNC(fabs, :, [AC_CHECK_LIB(m, fabs)])
AC_CHECK_HEADERS(unistd.h fcntl.h sys/time.h sys/wait.h)

AC_SUBST(FIXLIBC_O)


dnl
dnl integer types
dnl

AC_CHECK_HEADERS(inttypes.h, have_inttypes_h=yes, have_inttypes_h=no)
AC_CHECK_HEADERS(sys/types.h, have_sys_types_h=yes, have_sys_types_h=no)

if test $have_inttypes_h = no -a $have_sys_types_h = yes; then
    AC_CACHE_CHECK([for uintXX_t typedefs], ac_cv_uint_t,
    [AC_EGREP_HEADER(dnl
changequote(<<,>>)<<(^|[^a-zA-Z_0-9])uint32_t[^a-zA-Z_0-9]>>changequote([,]),
    sys/types.h, ac_cv_uint_t=yes, ac_cv_uint_t=no)])
fi
if test $have_inttypes_h = no -a $have_sys_types_h = yes -a "$ac_cv_uint_t" = no; then
    AC_CACHE_CHECK([for u_intXX_t typedefs], ac_cv_u_int_t,
    [AC_EGREP_HEADER(dnl
changequote(<<,>>)<<(^|[^a-zA-Z_0-9])u_int32_t[^a-zA-Z_0-9]>>changequote([,]),
    sys/types.h, ac_cv_u_int_t=yes, ac_cv_u_int_t=no)])
fi
if test $have_inttypes_h = yes -o "$ac_cv_uint_t" = yes; then
    :
elif test "$ac_cv_u_int_t" = yes; then
    AC_DEFINE(HAVE_U_INT_TYPES, 1, [Define if you have u_intXX_t types but not uintXX_t types.])
else
    AC_MSG_WARN([
=========================================

Neither uint32_t nor u_int32_t defined by <inttypes.h> or <sys/types.h>!
Assuming "short" has 16 bits and "int" has 32 bits.

=========================================])
    AC_DEFINE(HAVE_FAKE_INT_TYPES, 1, [Define if intXX_t types are not available.])
fi

AC_CHECK_TYPES(uintptr_t, [], [],
[#if HAVE_INTTYPES_H
# include <inttypes.h>
#endif
#if HAVE_SYS_TYPES_H
# include <sys/types.h>
#endif
])

AC_CHECK_SIZEOF(void *)
AC_CHECK_SIZEOF(unsigned long)
AC_CHECK_SIZEOF(unsigned int)


dnl
dnl ntohs, ntohl (need them in C++ code)
dnl

AC_LANG_CPLUSPLUS
AC_CHECK_HEADERS(byteorder.h netinet/in.h sys/param.h)
AC_MSG_CHECKING([whether ntohs and ntohl are defined])
AC_COMPILE_IFELSE(
	[AC_LANG_PROGRAM([[#if HAVE_SYS_TYPES_H
# include <sys/types.h>
#endif
#if HAVE_BYTEORDER_H
# include <byteorder.h>
#elif HAVE_NETINET_IN_H
# include <netinet/in.h>
#elif HAVE_SYS_PARAM_H
# include <sys/param.h>
#endif
]], [[(void) ntohs(0x0020), (void) ntohl(0x03040020);]])],
	[AC_MSG_RESULT(yes)],
	[AC_MSG_RESULT(no)
    AC_MSG_ERROR([
=========================================

Cannot find a definition for ntohs and/or ntohl!

=========================================])])
AC_LANG_C


dnl
dnl is va_list addressable?
dnl

AC_LANG_CPLUSPLUS
AC_CACHE_CHECK([for addressable va_list type], 
    ac_cv_va_list_addr,
    [AC_TRY_COMPILE([#include <stdarg.h>
void f(va_list *) {
}
void g(va_list val) {
    f(&val);
}
void h(int a, ...) {
    va_list val;
    va_start(val, a);
    g(val);
    va_end(val);
}], [h(2, 3, 4);], ac_cv_va_list_addr=yes, ac_cv_va_list_addr=no)])
if test "x$ac_cv_va_list_addr" = xyes; then
    AC_DEFINE(HAVE_ADDRESSABLE_VA_LIST, 1, [Define if the va_list type is addressable.])
fi


dnl
dnl verbatim portions of the header
dnl

AC_DEFINE(HAVE_PERMSTRING, 1, [Define if PermStrings are available.])
AC_DEFINE(MMAFM_RUN_MMPFB, 1, [Define to 0 if you don't want mmafm to run mmpfb when it needs to get an intermediate master conversion program.])
dnl PATHNAME_SEPARATOR?

AH_TOP([#ifndef LCDF_TYPETOOLS_CONFIG_H
#define LCDF_TYPETOOLS_CONFIG_H])

AH_BOTTOM([/* Allow compilation on Windows (thanks, Fabrice Popineau). */
#ifdef WIN32
# include <win32lib.h>
#else
# define CDECL /* nothing */
#endif

#ifdef __cplusplus
extern "C" {
#endif

/* Prototype strerror if we don't have it. */
#if !HAVE_STRERROR
char *strerror(int errno);
#endif

/* Prototype good_strtod if we need it. */
#if BROKEN_STRTOD
double good_strtod(const char *nptr, char **endptr);
#endif

#ifdef __cplusplus
}
/* Get rid of a possible inline macro under C++. */
# define inline inline
#endif

#endif /* LCDF_TYPETOOLS_CONFIG_H */])


dnl
dnl set path variables
dnl

shell_expand () {
  val=`eval echo '$'"$1"`
  while echo "x$val" | fgrep '$' >/dev/null 2>&1; do val=`eval echo "$val"`; done
  eval "$1='$val'"
}

dnl Preset $prefix and $exec_prefix.
test "x$prefix" = xNONE && prefix=$ac_default_prefix
test "x$exec_prefix" = xNONE && exec_prefix='${prefix}'

shell_expand datadir

AC_DEFINE_UNQUOTED(SHAREDIR, "$datadir/lcdf-typetools", [Data directory.])


dnl
dnl Output
dnl

AC_OUTPUT(Makefile liblcdf/Makefile libefont/Makefile t1lint/Makefile t1testpage/Makefile cfftot1/Makefile mmafm/Makefile mmpfb/Makefile otfinfo/Makefile otftotfm/Makefile t1dotlessj/Makefile)
From vvv at vsu.ru  Mon Oct 11 05:48:04 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Mon Oct 11 05:49:45 2004
Subject: [tex-live] Really found the reason. Was: mktexpk problem,
	works with TL2003 not with TL2004
In-Reply-To: <07E2B167-1AEF-11D9-88D0-003065B3343E@rna.nl> (Gerben Wierda's
	message of "Sun, 10 Oct 2004 21:03:11 +0200")
References: <8FBD82EF-1AB5-11D9-88D0-003065B3343E@rna.nl>
	<20041010130707.GA19921@dbs.uni-hannover.de>
	<02278AE2-1AC1-11D9-88D0-003065B3343E@rna.nl>
	<20041010134953.GC19921@dbs.uni-hannover.de>
	<07E2B167-1AEF-11D9-88D0-003065B3343E@rna.nl>
Message-ID: <m3acut3ogb.fsf@vvv.vsu.ru>

"GW" == Gerben Wierda writes:

 GW> The reason seems to be that an old fmtutil.cnf is in the way
 GW> without the -translate-file snippet in it.

Still, it's unclear how this -translate-file thing can influence on PK
resolution and/or reading of pdftexconfig.

Best,
v.

From preining at logic.at  Mon Oct 11 07:27:46 2004
From: preining at logic.at (Norbert Preining)
Date: Mon Oct 11 07:29:29 2004
Subject: [tex-live] p4 sync not working?
In-Reply-To: <200410101629.i9AGTVZ27237@f7.net>
References: <Pine.LNX.4.61.0410101632370.16462@radagast.imf.au.dk>
	<200410101629.i9AGTVZ27237@f7.net>
Message-ID: <20041011052746.GA11094@gamma.logic.tuwien.ac.at>

On Son, 10 Okt 2004, Karl Berry wrote:
> That log file is huge, 37mb, so I suspect it is doing something, it's
> just taking a long time.  Anyway, seems something went wrong in my log
> rotation script, since it currently includes every change since 2000,
> and that's not the way it's supposed to be.  I'll look into that.  Sorry.

Thanks, today it's working for me.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
THROUCKMORTON (n.)
The soul of a departed madman: one of those now known to inhabit the
timing mechanism of pop-up toasters.
			--- Douglas Adams, The Meaning of Liff

From peb at mppmu.mpg.de  Mon Oct 11 09:52:26 2004
From: peb at mppmu.mpg.de (Peter Breitenlohner)
Date: Mon Oct 11 09:54:40 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <200410101807.i9AI7cY12350@tug.org>
References: <200410101807.i9AI7cY12350@tug.org>
Message-ID: <Pine.LNX.4.60.0410110945010.26020@pcl321.mppmu.mpg.de>

On Sun, 10 Oct 2004, Karl Berry wrote:

I just got a bunch of messages
  	"Re: [tex-live] bug in the latest TeX Live snapshot."
accumulated over the weekend (but there never was the original one without
the Re).


>    My guess is that something goes
>    wrong in the module <Handle a glue node for mixed...>,
>
> Especially since that appears to be mostly new code in etex 2.2
> (although bearing some resemblance to code in the do_glue function in
> etex 2.1), seems like a good guess.

It is supposed to do the same thing as do_glue, but...

> Peter, Bernd, in case it's not obvious by now, we really need you.
>
> Here is a simple file.tex, distilling from all the others that have been
> posted:
>
>    \output={\shipout\box255}
>    \loggingall
>    \TeXXeTstate=1
>
>    \parindent=0pt
>    \beginR\centerline{Vyr hVyryM}\endR
>
>    \end
>
> Processed with simply "etex file.tex".
>
> There no interesting differences in the .log between etex 2.1 and 2.2
> (all the glue set ratios are identical, for example), but the dvi's are
> very different -- the text is off the page in 2.2.

With all the various experiments you have really narrowed down the problem.

I'll have a look and hope to have an answer within a day or so.

regards
Peter Breitenlohner <peb@mppmu.mpg.de>

From sebastian.rahtz at computing-services.oxford.ac.uk  Mon Oct 11 10:04:06 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon Oct 11 10:04:42 2004
Subject: [tex-live] freezing
In-Reply-To: <Pine.LNX.4.44.0410110108540.3535-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0410110108540.3535-100000@re86.internetdsl.tpnet.pl>
Message-ID: <416A3E76.50609@computing-services.oxford.ac.uk>

Staszek Wawrykiewicz wrote:

>
>
>Thanks, but I do not see any reason why removing it also from
>collection-langpolish ;-)
>
>  
>
sorry, I thoyght that was what you mean. can you put it back?

sebastian

From sebastian.rahtz at computing-services.oxford.ac.uk  Mon Oct 11 10:07:02 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon Oct 11 10:07:38 2004
Subject: [tex-live] Re: freezing
In-Reply-To: <MPG.1bd3e84d86738c849896f9@news.gmane.org>
References: <4169871B.2060807@computing-services.oxford.ac.uk>
	<MPG.1bd3e84d86738c849896f9@news.gmane.org>
Message-ID: <416A3F26.3070103@computing-services.oxford.ac.uk>

Giuseppe Bilotta wrote:

>
>Uh, given the bug just discovered in e-TeX 2.2, I would say at 
>least that one should stay away from freezing?
>  
>
Thats a bug in eTeX, not related to the texmf tree.The more parts we 
freeze, the better, to isolate
such things.

extraordinarily bad luck, that foul up in eTeX!

Sebastian

From tigran at aivazian.fsnet.co.uk  Mon Oct 11 11:19:18 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Mon Oct 11 11:22:00 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.60.0410110945010.26020@pcl321.mppmu.mpg.de>
Message-ID: <Pine.LNX.4.44.0410111012551.12348-100000@localhost.localdomain>

On Mon, 11 Oct 2004, Peter Breitenlohner wrote:
> I just got a bunch of messages
>   	"Re: [tex-live] bug in the latest TeX Live snapshot."
> accumulated over the weekend (but there never was the original one without
> the Re).

Hi Peter,

I also didn't receive my own message but I assumed this is because 
tex-live list isn't sending senders their own messages.

Anyway, the original problem is that I compiled a Hebrew text using the
latest TeX Live (either latex or pdflatex) and the output differs from
that produced by older TeX Live.

The dvi, pdf, aux and log files of both "old" and "new" are uploaded here:

 http://www.bibles.org.uk/bugs

The source code of the project is here:
 
http://www.bibles.org.uk/src/tnk.tar.gz

But to compile it you would need access to Tiqwah fonts and preprocessor 
which I am not allowed to distribute. But, if it turns out that the 
problems which the guys here narrowed down is in fact a different bug than 
the one I discovered, I will gladly give you (or anyone else who 
volunteers to help) ssh access to my box where Tiqwah is installed, so you 
could debug it there. I don't think it is to do with Tiqwah but rather 
with etex's different way of doing things inside \beginR\endR when 
\TeXXeTstate=1. Exactly the same layout (Greek NT as opposed to Hebrew OT) 
typeset with Greek (so in "left-to-right" mode) works fine with bold "old" 
and "new" TeX Live.

Kind regards
Tigran

PS. Maybe TeX Live distribution should have some sort of ".version" 
designation inside it's installed copy so I can give more meaningful 
designations instead of "old" and "new".

From moho01ab at student.cbs.dk  Mon Oct 11 11:30:42 2004
From: moho01ab at student.cbs.dk (=?iso-8859-15?Q?Morten_H=F8gholm?=)
Date: Mon Oct 11 11:32:35 2004
Subject: [tex-live] Re: freezing
In-Reply-To: <416A3F26.3070103@computing-services.oxford.ac.uk>
References: <4169871B.2060807@computing-services.oxford.ac.uk>
	<MPG.1bd3e84d86738c849896f9@news.gmane.org>
	<416A3F26.3070103@computing-services.oxford.ac.uk>
Message-ID: <opsfo8pgdl1jrmup@mail.student.cbs.dk>

On Mon, 11 Oct 2004 09:07:02 +0100, Sebastian Rahtz  
<sebastian.rahtz@computing-services.oxford.ac.uk> wrote:

> extraordinarily bad luck, that foul up in eTeX!

Indeed. Although it's kinda lucky it was found and diagnosed now rather  
than in a couple of weeks :-)
-- 
Morten H?gholm

From kaja at daimi.au.dk  Mon Oct 11 11:41:50 2004
From: kaja at daimi.au.dk (Kaja P. Christiansen)
Date: Mon Oct 11 11:43:39 2004
Subject: [tex-live] Re: p4 down?
In-Reply-To: <200410091426.i99EQlu17684@f7.net>
References: <200410091426.i99EQlu17684@f7.net>
Message-ID: <16746.21854.88839.756321@sparkle.daimi.au.dk>


Karl Berry writes:

 > > The p4 server seems to have died?
 > 
 > I'm wrong, it's a name server problem at daimi.  Guess p4 doesn't
 > respond to localhost for whatever reason.

The host machine for the name server was upgraded to 3AS
last Saturday. The upgrade took longer than expected -
it started at 9 am MET and ended at 5 pm, I am told.

Sorry for not alerting in time and for the confusion it caused.

Kaja

From preining at logic.at  Mon Oct 11 13:22:29 2004
From: preining at logic.at (Norbert Preining)
Date: Mon Oct 11 13:24:08 2004
Subject: [tex-live] seminar.con and asking questions
Message-ID: <20041011112229.GB31464@gamma.logic.tuwien.ac.at>

Hi!

One of our users just asked me something like:
	Why the hell is seminar asking me for SeminarColorVersion
	and SeminarPaperVersion? THis is new!

Ok, I found out that this is done in
	seminar.con
head of it:
%%%%%%%%%%%%%%%%%%%%%%%%%%% -*- Mode: Latex -*- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% seminar.con --- Customization of the Seminar document class.
%%                 We take care to do this for easy adaptations in other
%%                 institutions and contexts.
%%
%% Author          : Denis GIROU (CNRS/IDRIS - France) <Denis.Girou@idris.fr>
%% Created the     : 1993
%% Last mod. by    : Denis GIROU (CNRS/IDRIS - France) <Denis.Girou@idris.fr>
%% Last mod. the   : Wed Jun 19 19:31:03 2002
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def\FileVersion{3.1}
\def\FileDate{June 19, 2002}
...


Is it our intention to ship this file together with seminar class? If
yes, I have to inform our users about the upgrade.


Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
HARPENDEN (n.)
The coda to a phone conversion, consisting of about eight exchanges,
by which people try gracefully to get off the line.
			--- Douglas Adams, The Meaning of Liff

From Gerben.Wierda at rna.nl  Mon Oct 11 13:44:40 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Mon Oct 11 13:46:22 2004
Subject: [tex-live] Re: freezing
In-Reply-To: <416A3F26.3070103@computing-services.oxford.ac.uk>
References: <4169871B.2060807@computing-services.oxford.ac.uk>
	<MPG.1bd3e84d86738c849896f9@news.gmane.org>
	<416A3F26.3070103@computing-services.oxford.ac.uk>
Message-ID: <23722.159.46.248.232.1097495080.squirrel@159.46.248.232>

> Giuseppe Bilotta wrote:
>
>>
>>Uh, given the bug just discovered in e-TeX 2.2, I would say at
>>least that one should stay away from freezing?
>>
>>
> Thats a bug in eTeX, not related to the texmf tree.The more parts we
> freeze, the better, to isolate
> such things.
>
> extraordinarily bad luck, that foul up in eTeX!

Extraordinarily good luck if you ask me. Normally these kind of bugs are
found after release. Now you did find it in the nick of time.

I do have a request. Can we run thefollowing check on the texmf trees:

Check for duplicate entries (e.g. packages keeping outdated copies of
files that are available elsewhere). Initial idea for a perl script:
a. Take a find on the texmf tree and read it into a perl array
b. Write a sort function that sorts on the basis of filename, not directory
c. Sort the array
d. Walk the array and print out all full path entries with duplicate
filenames
Reason: I think I saw a while back that some config cfg file was
replicated in csplain (if I recall correctly) and I am not sure if that is
really safe. I have had situations in the past where these duplicates did
exist and fouled things up.

Gerben

From sebastian.rahtz at computing-services.oxford.ac.uk  Mon Oct 11 13:46:07 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon Oct 11 13:49:54 2004
Subject: [tex-live] Re: freezing
In-Reply-To: <23722.159.46.248.232.1097495080.squirrel@159.46.248.232>
References: <4169871B.2060807@computing-services.oxford.ac.uk>	<MPG.1bd3e84d86738c849896f9@news.gmane.org>	<416A3F26.3070103@computing-services.oxford.ac.uk>
	<23722.159.46.248.232.1097495080.squirrel@159.46.248.232>
Message-ID: <416A727F.1060105@computing-services.oxford.ac.uk>

Gerben Wierda wrote:

>Check for duplicate entries (e.g. packages keeping outdated copies of
>files that are available elsewhere). Initial idea for a perl script:
>  
>
you mean like //depot/Build/cdbuild/dupl.pl, which I ran yesterday ? :-}

sebastian

From Fabrice.Popineau at supelec.fr  Mon Oct 11 15:16:36 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Mon Oct 11 15:18:27 2004
Subject: [tex-live] Re: freezing
In-Reply-To: <23722.159.46.248.232.1097495080.squirrel@159.46.248.232>
Message-ID: <200410111316.i9BDGT505389@esemetz.metz.supelec.fr>

> Check for duplicate entries (e.g. packages keeping outdated copies of

This is already done by tpm-factory.pl that Karl runs every night. However,
it checks for all duplicates. There are lots of README.

Fabrice

From karl at freefriends.org  Mon Oct 11 15:45:01 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Oct 11 15:46:48 2004
Subject: [tex-live] Re: freezing
In-Reply-To: <200410111316.i9BDGT505389@esemetz.metz.supelec.fr>
Message-ID: <200410111345.i9BDj1o07187@f7.net>

    This is already done by tpm-factory.pl that Karl runs every night. However,
    it checks for all duplicates. There are lots of README.

Actually, I don't run that dup check, precisely for the reason you state
-- there are too many duplicates reported, about which nothing can or
need be done, to be useful.

I didn't know about Sebastian's script before, I'll look into running that.
Moot point for now, though.

From sebastian.rahtz at computing-services.oxford.ac.uk  Mon Oct 11 15:45:37 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon Oct 11 15:49:32 2004
Subject: [tex-live] Re: freezing
In-Reply-To: <200410111345.i9BDj1o07187@f7.net>
References: <200410111345.i9BDj1o07187@f7.net>
Message-ID: <416A8E81.4020605@computing-services.oxford.ac.uk>

Karl Berry wrote:

>-- there are too many duplicates reported, about which nothing can or
>need be done, to be useful.
>
>I didn't know about Sebastian's script before, I'll look into running that.
>  
>
there is no point running any regular check unless someone
reads the results and can act on them intelligently. I sorted out
half a dozen last night, and it was painful.

Sebastian

From Fabrice.Popineau at supelec.fr  Mon Oct 11 15:52:23 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Mon Oct 11 15:54:09 2004
Subject: [tex-live] Re: freezing
In-Reply-To: <416A8E81.4020605@computing-services.oxford.ac.uk>
Message-ID: <200410111352.i9BDqH508093@esemetz.metz.supelec.fr>

> there is no point running any regular check unless someone
> reads the results and can act on them intelligently. I sorted out
> half a dozen last night, and it was painful.

Karl, where are you log files stored ?

It should be quite easy to add an option to filter out some common names
based on regexp.

Fabrice


From karl at freefriends.org  Mon Oct 11 16:29:19 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Oct 11 16:31:00 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.44.0410111012551.12348-100000@localhost.localdomain>
Message-ID: <200410111429.i9BETJm19869@f7.net>

    I also didn't receive my own message but I assumed this is because 
    tex-live list isn't sending senders their own messages.

This is a mailman option, and anyone can change it for themselves.
And by default, it is on, so people do receive their own posts.

In your case, Tigran, your address tigran@aivazian.fsnet.co.uk was
apparently automatically set to not receive mail because mailman noticed
mail to you was bouncing.  So I don't know how you were receiving any
tex-live mail at all, unless you're subscribed under a second address.

    PS. Maybe TeX Live distribution should have some sort of ".version" 
    designation inside it's installed copy so I can give more meaningful 
    designations instead of "old" and "new".

"TeX Live 2003" vs. "TeX Live 2004".  I suppose that we could insert the
build date into the 00*.TL files, or somewhere.

Each program has its own version number (usually about a zillion of them :),
so I usually report things by saying "tex blah-blah-blah, distributed
with TL 2003".

Whatever.

Thanks,
k

From karl at freefriends.org  Mon Oct 11 16:29:19 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Oct 11 16:31:35 2004
Subject: [tex-live] seminar.con and asking questions
In-Reply-To: <20041011112229.GB31464@gamma.logic.tuwien.ac.at>
Message-ID: <200410111429.i9BETJV19843@f7.net>

Hi Norbert,

    Is it our intention to ship this file together with seminar class? 

Well, now that you've reported this problem, maybe not.

I added seminar.con and seminar.bg2 on oct 2 because of a bug report by
Haig Krikorian to texhax.  (Change #6040).

I also wrote Denis Girou at the time (he wrote those seminar.* files),
but he did not reply.

Unfortunately, I cited the message in that change description
incorrectly (May 9 instead of May 19) -- the right one is below.  (And
it isn't in the texhax archives for no reason I can figure out.)

So, I'm not sure of the best thing to do.  Maybe we should just revert
to the versions on CTAN, even though they are older, since there is this
change in behavior.

k


Date: Wed, 19 May 2004 11:35:00 -0700
From: "Haig Krikorian" <haig-krikorian@adelphia.net>
To: <fabrice.popineau@supelec.fr>,
   <sebastian.rahtz@computing-services.oxford.ac.uk>,
   "Robin Fairbairns" <Robin.Fairbairns@cl.cam.ac.uk>, <karl@freefriends.org>,
   <support@tug.org>
Subject: Thanks for you recent emails....

You all have been great..

I believe that I have found the problem I was having with the Seminar
package.

In the Seminar package from TUG the version of the
seminar.bg2 file is dated \def\fileversion{1.7}.. while the version
I have is \def\FileVersion{2.1} which I have attached.

The other problem is that the file seminar.con is missing from the release
which I have also attached.

after adding these files the TUG Latex ran sucessfully and generated the dvi
file.

I do not know however if you are aware of issues with the DVI Viewer from
TUG.

For example, this same TUG generated DVI file when displayed by PcTex is
fine, the TUG DVI viewer appears to have issues with rotated text and the
positioning of scaled text.  I have not tested the PDF generation
capabilities.

I can provide a detailed example if you are interested.

- Haig

[And he attached the two files that I checked in]

From preining at logic.at  Mon Oct 11 19:09:08 2004
From: preining at logic.at (Norbert Preining)
Date: Mon Oct 11 19:10:55 2004
Subject: [tex-live] seminar.con and asking questions
In-Reply-To: <200410111429.i9BETJV19843@f7.net>
References: <20041011112229.GB31464@gamma.logic.tuwien.ac.at>
	<200410111429.i9BETJV19843@f7.net>
Message-ID: <20041011170908.GC28150@gamma.logic.tuwien.ac.at>

On Mon, 11 Okt 2004, Karl Berry wrote:
>     Is it our intention to ship this file together with seminar class? 
> 
> Well, now that you've reported this problem, maybe not.
> 
> I added seminar.con and seminar.bg2 on oct 2 because of a bug report by
> Haig Krikorian to texhax.  (Change #6040).

I would say that this is definitely a file to be removed. It changed the
layout etc of all the slides my colleague had (and he is a TeXnician, or
TeXpert, but do write good simple TeX files without hacks ;-), and this
is *not* what we want to have.

Can you please remove it!

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
DRAFFAN (n.)
An infuriating person who always manages to look much more dashing
that anyone else by turning up unshaven and hangover at a formal
party.
			--- Douglas Adams, The Meaning of Liff

From te at dbs.uni-hannover.de  Mon Oct 11 19:10:08 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Mon Oct 11 19:12:25 2004
Subject: [tex-live] seminar.con and asking questions
In-Reply-To: <200410111429.i9BETJV19843@f7.net>
References: <20041011112229.GB31464@gamma.logic.tuwien.ac.at>
	<200410111429.i9BETJV19843@f7.net>
Message-ID: <20041011171008.GB3687@dbs.uni-hannover.de>

> Well, now that you've reported this problem, maybe not.

fwiw, I have the following one-liner in teTeX:

    $ cat texmf-dist/tex/latex/seminar/seminar.con
    \renewcommand{\printlandscape}{\special{landscape}}

The file dates from 1998, so I have it for quite a long time now.

Thomas

From te at dbs.uni-hannover.de  Mon Oct 11 19:20:02 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Mon Oct 11 19:21:56 2004
Subject: [tex-live] location of t1* binaries
In-Reply-To: <416987A5.1060500@cs.ucla.edu>
References: <20041003114458.GB13987@muisje>
	<20041003171301.GC30269@dbs.uni-hannover.de>
	<B1F1C27C-165A-11D9-8AF5-000A95A6D9BC@cs.ucla.edu>
	<20041005055755.GI24911@dbs.uni-hannover.de>
	<20041005180952.GD6772@dbs.uni-hannover.de>
	<571E3266-1725-11D9-A7B9-000A95A6D9BC@cs.ucla.edu>
	<20041006153942.GB19718@dbs.uni-hannover.de>
	<41678B39.7080100@cs.ucla.edu>
	<20041009082745.GA30274@dbs.uni-hannover.de>
	<416987A5.1060500@cs.ucla.edu>
Message-ID: <20041011172002.GC3687@dbs.uni-hannover.de>

> I followed your advice.  Try this.

That works now, thanks. One problem which now remains is a missing
dependency. Something like the following in otftotfm/Makefile.am:

otftotfm_DEPENDENCIES = ../libefont/libefont.a ../liblcdf/liblcdf.a @KPSEINTERFACE_O@ @LIBKPATHSEA@
@LIBKPATHSEA@:
	cd ../../../texk/kpathsea; $(MAKE)

This works for a tetex-enabled build, but you need to find a "cleaner"
solution to cover the non-tetex-enabled build. Maybe, define a variable
LIBKPATHSEADEP which you set to empty in non-tetex-enabled build and to
$(LIBKPATHSEA) in a tetex-enabled build.

Thomas

From karl at freefriends.org  Mon Oct 11 19:26:55 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Oct 11 19:28:41 2004
Subject: [tex-live] location of t1* binaries
In-Reply-To: <20041011172002.GC3687@dbs.uni-hannover.de>
Message-ID: <200410111726.i9BHQt101513@f7.net>

            cd ../../../texk/kpathsea; $(MAKE)

BTW, this has nothing to do with the issue at hand, but I've found it
good practice to always write "cd <dir> && <command>" rather than "cd
<dir>; <command>" in Makefiles, shell scripts, etc.  That way, if the cd
fails for whatever reason, the <command> is not run in the wrong
directory, which can occasionally lead to havoc.

From karl at freefriends.org  Mon Oct 11 19:35:43 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Oct 11 19:37:56 2004
Subject: [tex-live] seminar.con and asking questions
In-Reply-To: <20041011170908.GC28150@gamma.logic.tuwien.ac.at>
Message-ID: <200410111735.i9BHZhf03179@f7.net>

    Can you please remove it!

Ok, I deleted seminar.bg2 and changed seminar.con to Thomas's one liner.
Glad it got noticed.  I'll tell Haig.

From te at dbs.uni-hannover.de  Mon Oct 11 22:33:50 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Mon Oct 11 22:35:37 2004
Subject: [tex-live] seminar.con and asking questions
In-Reply-To: <200410111735.i9BHZhf03179@f7.net>
References: <20041011170908.GC28150@gamma.logic.tuwien.ac.at>
	<200410111735.i9BHZhf03179@f7.net>
Message-ID: <20041011203350.GE3687@dbs.uni-hannover.de>

>     Can you please remove it!
> 
> Ok, I deleted seminar.bg2 and changed seminar.con to Thomas's one liner.
> Glad it got noticed.  I'll tell Haig.

What's the reason for removing seminar.bg2? It is not loaded
automatically, and as far as I see it does no harm:

    \typeout{seminar.bg2: various corrections for the Seminar document class added
    since seminar.bug (waiting Seminar 98)^^J%

Looking for seminar.bg2 with google shows that the file *is* in common
use.

Thomas

From karl at freefriends.org  Mon Oct 11 23:00:21 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Oct 11 23:02:07 2004
Subject: [tex-live] seminar.con and asking questions
In-Reply-To: <20041011203350.GE3687@dbs.uni-hannover.de>
Message-ID: <200410112100.i9BL0L419861@f7.net>

    What's the reason for removing seminar.bg2? 

Right, should have reverted to the previous version.  Done that now.  Sorry.

From preining at logic.at  Mon Oct 11 23:01:03 2004
From: preining at logic.at (Norbert Preining)
Date: Mon Oct 11 23:02:43 2004
Subject: [tex-live] seminar.con and asking questions
In-Reply-To: <20041011203350.GE3687@dbs.uni-hannover.de>
References: <20041011170908.GC28150@gamma.logic.tuwien.ac.at>
	<200410111735.i9BHZhf03179@f7.net>
	<20041011203350.GE3687@dbs.uni-hannover.de>
Message-ID: <20041011210103.GB9939@gamma.logic.tuwien.ac.at>

On Mon, 11 Okt 2004, Thomas Esser wrote:
> > Ok, I deleted seminar.bg2 and changed seminar.con to Thomas's one liner.
> > Glad it got noticed.  I'll tell Haig.
> 
> What's the reason for removing seminar.bg2? It is not loaded
> automatically, and as far as I see it does no harm:

Ok, I don't know about seminar.bg2, probably it was/is a real addition
to the seminar.cls package, but the seminar.con definitely lookes fishy,
and in fact changed seminar.cls layout in a strange way.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
LUDLOW (n.)
A wad of newspaper, folded tablenapkin or lump of cardboard put under
a wobbly table or chair to make it stand-up straight. It is perhaps
not widely known that air-ace Sir Douglas Bader used to get about on
an enormous pair of ludlows before he had his artificial legs fitted.
			--- Douglas Adams, The Meaning of Liff

From te at dbs.uni-hannover.de  Tue Oct 12 05:12:18 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Tue Oct 12 05:14:05 2004
Subject: [tex-live] small change to updmap script!?
Message-ID: <20041012031218.GA11879@dbs.uni-hannover.de>

Hartmut has notified me, that updmap does not handle all possible comment
conventions. That means that the generated map files might still contain
comments of some of the input map files. E.g. dvips/zefonts/slantcm.map
has
  * This is slantcm.map
  * Slanted versions of some cm fonts for dvips
  * (zefonts package, version 2.0) Robert Fuster, September 16 1998
  *

The change is as simple as

    $ diff -r updmap /t/src/tetex-src/texk/tetex/updmap
    33a34,35
    > #   Mi Okt  6 16:37:49 CEST 2004
    > #      commenty may start with any of *#;%
    93c95
    < version=1091353379 # seconds since `00:00:00 1970-01-01 UTC'
    ---
    > version=1097073550 # seconds since `00:00:00 1970-01-01 UTC'
    911c913
    <       -e '/^%/d' \
    ---
    >       -e '/^[*#;%]/d' \

Apply or not?

Thomas

From hartmut_henkel at gmx.de  Tue Oct 12 09:04:46 2004
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue Oct 12 09:06:30 2004
Subject: [tex-live] bug in the latest TeX Live snapshot.
In-Reply-To: <16745.51803.734701.124831@zarniwoop.ms25.local>
References: <Pine.LNX.4.61.0410091832070.1715@ginsburg.homenet>
	<Pine.LNX.4.61.0410092000300.6891@hahepc1.hahe>
	<Pine.LNX.4.61.0410092121280.23537@hahepc1.hahe>
	<16745.51803.734701.124831@zarniwoop.ms25.local>
Message-ID: <Pine.LNX.4.61.0410120853230.2089@hahepc1.hahe>

On Mon, 11 Oct 2004, Reinhard Kotucha wrote:

> >>>>> "Hartmut" == Hartmut Henkel <hartmut_henkel@gmx.de> writes:
>
>     > error can be reproduced, seems to be something with etex:
>
>     > % this line is ok
>     > %\centerline{\beginR Vyr hVyryM\endR}
>
> It doesn't work for me, "Vyr" is invisible in both cases.

Oh yes, just confirmed with the original texlive 2004 pdfetex. There is
a subtle difference: My pdfetex at home includes also the inofficial
untested pdftex patches (notably the 115 one) from sarovar, and these
seem to influence the etex behavior in PDF mode. Just in case you are
wondering about some remaining inconsistency in the mails, after etex
has been repaired :-)

I've uploaded the files:

www.circuitwizard.de/misc/r.pdf - the one from texlive 2004
www.circuitwizard.de/misc/r-patch.pdf - the patched one

Regards, Hartmut

From peb at mppmu.mpg.de  Tue Oct 12 11:55:07 2004
From: peb at mppmu.mpg.de (Peter Breitenlohner)
Date: Tue Oct 12 11:57:27 2004
Subject: [tex-live] Fixed: bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.60.0410110945010.26020@pcl321.mppmu.mpg.de>
References: <200410101807.i9AI7cY12350@tug.org>
	<Pine.LNX.4.60.0410110945010.26020@pcl321.mppmu.mpg.de>
Message-ID: <Pine.LNX.4.60.0410121114270.25677@pcl321.mppmu.mpg.de>

On Mon, 11 Oct 2004, Peter Breitenlohner wrote:

> On Sun, 10 Oct 2004, Karl Berry wrote:
>
>>    My guess is that something goes
>>    wrong in the module <Handle a glue node for mixed...>,
>> 
>> Especially since that appears to be mostly new code in etex 2.2
>> (although bearing some resemblance to code in the do_glue function in
>> etex 2.1), seems like a good guess.
>
> It is supposed to do the same thing as do_glue, but...
>
>> Here is a simple file.tex, distilling from all the others that have been
>> posted:
>> 
>>    \output={\shipout\box255}
>>    \loggingall
>>    \TeXXeTstate=1
>> 
>>    \parindent=0pt
>>    \beginR\centerline{Vyr hVyryM}\endR
>> 
>>    \end
>> 
>> Processed with simply "etex file.tex".

Hi Karl,

you were almost right. The bug was in the reverse function that is used to
reverse all or part of the contents of an hbox in order to achieve
right-to-left typesetting. The bug was caused by not initializing the local
variable g_order; consequently some glue stetch/shrink was not accounted
for, thus the bad positioning of reversed text.

It is really a pitty that 'gcc -O2 -Wall' is almost useless due to the
amount of the produced noise, otherwise that would certainly have shown the
uninitialized variable.

The bug was most visible when reversing a complete box, but there might also
have been some subtle differences when reversing just a segment.

Karl, Thomas, Olaf, and everybody else,

attached is a file "etex-bugfix-2004-10-12.tar.gz" containing:
1.	patch-24-etex-glue-rounding-bug
2.	ChangeLog, etex.ch
3.	etex.fix

(1) this patch contains the diffs to be applied to texk/web2c/etexdir.
Strictly speaking other people are not authorized to modify etex.ch; hereby
they have my permission to do so by applying this patch, provided they use a
patch program that properly sets the time stamps of modified files (such as
GNU patch with the option "-Z").

(2) these are the two modified files resulting from (1). Please keep the
timestamps!

(3) alternatively one could replace the empty file etexdir/etex.fix by this
one.

Olaf, Thomas,

can you please update the web2c and teTeX tarballs and see that things get
propagated to TeXlive.

regards
Peter Breitenlohner <peb@mppmu.mpg.de>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: etex-bugfix-2004-10-12.tar.gz
Type: application/octet-stream
Size: 60071 bytes
Desc: 
Url : http://tug.org/mailman/private/tex-live/attachments/20041012/5da82a9f/etex-bugfix-2004-10-12.tar-0001.obj
From moho01ab at student.cbs.dk  Tue Oct 12 15:15:38 2004
From: moho01ab at student.cbs.dk (=?iso-8859-15?Q?Morten_H=F8gholm?=)
Date: Tue Oct 12 15:17:28 2004
Subject: [tex-live] Fancyvrb version numbers.
Message-ID: <opsfrdsctf1jrmup@mail.student.cbs.dk>

Here's post from Maurizio Loreti on comp.text.tex

%%%%%%%%
I have on my home system a version of fancyvrb.sty that is identified
by:

\def\fileversion{2.7, with DG/SPQR fixes}
\def\filedate{2000/03/21}

while on CTANs, under tex-archive/macros/latex/contrib/fancyvrb/
I find a fancyvrb.dtx containing:

\def\fileversion{2.6, with DG/SPQR fixes}
\def\filedate{1998/07/17}

I am wondering: have CTANs an old version?  Is my version wrong?  I do
not remember from where I got it...
%%%%%%%

Sebastian, I see that v2.7 was zapped at one point and replaced with v2.6  
- do you know if the reason simply is that Denis has v2.7 lying around and  
hasn't published it? He's tough to get in touch with these days...
-- 
Morten H?gholm

From vvv at vsu.ru  Tue Oct 12 15:46:00 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Tue Oct 12 15:49:35 2004
Subject: [tex-live] Fixed: bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.60.0410121114270.25677@pcl321.mppmu.mpg.de> (Peter
	Breitenlohner's message of "Tue, 12 Oct 2004 11:55:07 +0200 (CEST)")
References: <200410101807.i9AI7cY12350@tug.org>
	<Pine.LNX.4.60.0410110945010.26020@pcl321.mppmu.mpg.de>
	<Pine.LNX.4.60.0410121114270.25677@pcl321.mppmu.mpg.de>
Message-ID: <87fz4kaw2v.fsf@video.uic.vsu.ru>

Hi!

 PB> attached is a file "etex-bugfix-2004-10-12.tar.gz" containing:
 PB> 1. patch-24-etex-glue-rounding-bug 2. ChangeLog, etex.ch
 PB> 3. etex.fix

I compared the file etex.ch whihc you sent with the file etex.ch from
TeX Live repository. Here's one suspicious chunk:

@@ -1328,7 +1330,7 @@
 @x [27] m.468 l.9202 - e-TeX basic
 @d number_code=0 {command code for \.{\\number}}
 @y
-\eTeX\ adds \.{\\eTeXrevision} such that |job_name_code| remains last.
+\eTeX\ adds \.{\\eTeXrevision}} such that |job_name_code| remains last.

 @d number_code=0 {command code for \.{\\number}}
 @z

(i.e. line 1333 in your etex.ch contains unpaired closing curly
brace).

Best,
v.

From vvv at vsu.ru  Tue Oct 12 16:13:42 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Tue Oct 12 16:17:17 2004
Subject: [tex-live] aleph uses an outdated etex.ch?
Message-ID: <87brf8ausp.fsf@video.uic.vsu.ru>

Hi!

we have 2 different copies of etex.ch in source.development:

TeX/texk/web2c/alephdir/etex.ch
TeX/texk/web2c/etexdir/etex.ch

(the file in aleph is older).  First, it's unclear why aleph has it's
own etex.ch when all others (e.g. etex, pdfetex, eomega) are using the
same etex.ch. This creates confusion. Second, it means that aleph is
not up2date WRT the etex's bugfixes and improvements.

Best,
v.

From peb at mppmu.mpg.de  Tue Oct 12 16:48:36 2004
From: peb at mppmu.mpg.de (Peter Breitenlohner)
Date: Tue Oct 12 16:50:18 2004
Subject: [tex-live] Fixed: bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.60.0410121114270.25677@pcl321.mppmu.mpg.de>
References: <200410101807.i9AI7cY12350@tug.org>
	<Pine.LNX.4.60.0410110945010.26020@pcl321.mppmu.mpg.de>
	<Pine.LNX.4.60.0410121114270.25677@pcl321.mppmu.mpg.de>
Message-ID: <Pine.LNX.4.60.0410121643060.3010@pcl321.mppmu.mpg.de>

On Tue, 12 Oct 2004, Peter Breitenlohner wrote:

In my mail earlier today I sent you the wrong files. Sorry. I had prepared
all this on my notebook, from files that were missing one earlier bug fix.

Here again the attachement, this times with the correct files.

regards		Peter Breitenlohner

>> On Sun, 10 Oct 2004, Karl Berry wrote:
>> 
>>>    My guess is that something goes
>>>    wrong in the module <Handle a glue node for mixed...>,
>>> 
>>> Especially since that appears to be mostly new code in etex 2.2
>>> (although bearing some resemblance to code in the do_glue function in
>>> etex 2.1), seems like a good guess.
>> 
>> It is supposed to do the same thing as do_glue, but...
>> 
>>> Here is a simple file.tex, distilling from all the others that have been
>>> posted:
>>> 
>>>    \output={\shipout\box255}
>>>    \loggingall
>>>    \TeXXeTstate=1
>>> 
>>>    \parindent=0pt
>>>    \beginR\centerline{Vyr hVyryM}\endR
>>> 
>>>    \end
>>> 
>>> Processed with simply "etex file.tex".
>
> Hi Karl,
>
> you were almost right. The bug was in the reverse function that is used to
> reverse all or part of the contents of an hbox in order to achieve
> right-to-left typesetting. The bug was caused by not initializing the local
> variable g_order; consequently some glue stetch/shrink was not accounted
> for, thus the bad positioning of reversed text.
>
> It is really a pitty that 'gcc -O2 -Wall' is almost useless due to the
> amount of the produced noise, otherwise that would certainly have shown the
> uninitialized variable.
>
> The bug was most visible when reversing a complete box, but there might also
> have been some subtle differences when reversing just a segment.
>
> Karl, Thomas, Olaf, and everybody else,
>
> attached is a file "etex-bugfix-2004-10-12.tar.gz" containing:
> 1.	patch-24-etex-glue-rounding-bug
> 2.	ChangeLog, etex.ch
> 3.	etex.fix
>
> (1) this patch contains the diffs to be applied to texk/web2c/etexdir.
> Strictly speaking other people are not authorized to modify etex.ch; hereby
> they have my permission to do so by applying this patch, provided they use a
> patch program that properly sets the time stamps of modified files (such as
> GNU patch with the option "-Z").
>
> (2) these are the two modified files resulting from (1). Please keep the
> timestamps!
>
> (3) alternatively one could replace the empty file etexdir/etex.fix by this
> one.
>
> Olaf, Thomas,
>
> can you please update the web2c and teTeX tarballs and see that things get
> propagated to TeXlive.
>
> regards
> Peter Breitenlohner <peb@mppmu.mpg.de>

Peter Breitenlohner <peb@mppmu.mpg.de>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: etex-bugfix-2004-10-12.tar.gz
Type: application/octet-stream
Size: 60120 bytes
Desc: 
Url : http://tug.org/mailman/private/tex-live/attachments/20041012/a5cde2eb/etex-bugfix-2004-10-12.tar-0001.obj
From tigran at aivazian.fsnet.co.uk  Tue Oct 12 17:19:08 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Tue Oct 12 17:19:36 2004
Subject: [tex-live] Fixed: bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.60.0410121643060.3010@pcl321.mppmu.mpg.de>
References: <200410101807.i9AI7cY12350@tug.org>
	<Pine.LNX.4.60.0410110945010.26020@pcl321.mppmu.mpg.de>
	<Pine.LNX.4.60.0410121114270.25677@pcl321.mppmu.mpg.de>
	<Pine.LNX.4.60.0410121643060.3010@pcl321.mppmu.mpg.de>
Message-ID: <Pine.LNX.4.61.0410121616510.2852@ezer.homenet>

Dear Peter and everyone else,

Thank you very much for fixing this bug. I will try to apply those patches 
in my local TeX Live copy and rebuild it and test if the PDF files now 
come out OK. If I can't then I will wait for things to be propagated into 
TeX Live's sources and do rsync/recompile from the official sources.

Kind regards
Tigran

On Tue, 12 Oct 2004, Peter Breitenlohner wrote:

> On Tue, 12 Oct 2004, Peter Breitenlohner wrote:
>
> In my mail earlier today I sent you the wrong files. Sorry. I had prepared
> all this on my notebook, from files that were missing one earlier bug fix.
>
> Here again the attachement, this times with the correct files.
>
> regards		Peter Breitenlohner
>
>>> On Sun, 10 Oct 2004, Karl Berry wrote:
>>> 
>>>>    My guess is that something goes
>>>>    wrong in the module <Handle a glue node for mixed...>,
>>>> 
>>>> Especially since that appears to be mostly new code in etex 2.2
>>>> (although bearing some resemblance to code in the do_glue function in
>>>> etex 2.1), seems like a good guess.
>>> 
>>> It is supposed to do the same thing as do_glue, but...
>>> 
>>>> Here is a simple file.tex, distilling from all the others that have been
>>>> posted:
>>>> 
>>>>    \output={\shipout\box255}
>>>>    \loggingall
>>>>    \TeXXeTstate=1
>>>> 
>>>>    \parindent=0pt
>>>>    \beginR\centerline{Vyr hVyryM}\endR
>>>> 
>>>>    \end
>>>> 
>>>> Processed with simply "etex file.tex".
>> 
>> Hi Karl,
>> 
>> you were almost right. The bug was in the reverse function that is used to
>> reverse all or part of the contents of an hbox in order to achieve
>> right-to-left typesetting. The bug was caused by not initializing the local
>> variable g_order; consequently some glue stetch/shrink was not accounted
>> for, thus the bad positioning of reversed text.
>> 
>> It is really a pitty that 'gcc -O2 -Wall' is almost useless due to the
>> amount of the produced noise, otherwise that would certainly have shown the
>> uninitialized variable.
>> 
>> The bug was most visible when reversing a complete box, but there might 
>> also
>> have been some subtle differences when reversing just a segment.
>> 
>> Karl, Thomas, Olaf, and everybody else,
>> 
>> attached is a file "etex-bugfix-2004-10-12.tar.gz" containing:
>> 1.	patch-24-etex-glue-rounding-bug
>> 2.	ChangeLog, etex.ch
>> 3.	etex.fix
>> 
>> (1) this patch contains the diffs to be applied to texk/web2c/etexdir.
>> Strictly speaking other people are not authorized to modify etex.ch; hereby
>> they have my permission to do so by applying this patch, provided they use 
>> a
>> patch program that properly sets the time stamps of modified files (such as
>> GNU patch with the option "-Z").
>> 
>> (2) these are the two modified files resulting from (1). Please keep the
>> timestamps!
>> 
>> (3) alternatively one could replace the empty file etexdir/etex.fix by this
>> one.
>> 
>> Olaf, Thomas,
>> 
>> can you please update the web2c and teTeX tarballs and see that things get
>> propagated to TeXlive.
>> 
>> regards
>> Peter Breitenlohner <peb@mppmu.mpg.de>
>
> Peter Breitenlohner <peb@mppmu.mpg.de>

From te at dbs.uni-hannover.de  Tue Oct 12 18:42:26 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Tue Oct 12 18:44:21 2004
Subject: [tex-live] Re: TL build and missing files?
In-Reply-To: <BD3E222B-1AF7-11D9-88D0-003065B3343E@rna.nl>
References: <5D74E966-1AF0-11D9-88D0-003065B3343E@rna.nl>
	<20041010194418.GA3687@dbs.uni-hannover.de>
	<BD3E222B-1AF7-11D9-88D0-003065B3343E@rna.nl>
Message-ID: <20041012164226.GD11879@dbs.uni-hannover.de>

On Sun, Oct 10, 2004 at 10:05:31PM +0200, Gerben Wierda wrote:
> OK. Any plans as to when?

I will hopefully have time to make at least one new teTeX-beta this month.

Thomas

From Robin.Fairbairns at cl.cam.ac.uk  Tue Oct 12 20:40:08 2004
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Tue Oct 12 20:41:50 2004
Subject: [tex-live] fancyvrb
Message-ID: <E1CHRZA-0000xE-00@mta1.cl.cam.ac.uk>

i'm told tex live (last year's) has an update of fancyvrb that's not
been released to ctan.

should we remove the outdated version on ctan?

robin

From olaf at infovore.xs4all.nl  Tue Oct 12 21:28:39 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Tue Oct 12 21:30:42 2004
Subject: [tex-live] Fixed: bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.60.0410121643060.3010@pcl321.mppmu.mpg.de> (Peter
	Breitenlohner's message of "Tue, 12 Oct 2004 16:48:36 +0200 (CEST)")
References: <200410101807.i9AI7cY12350@tug.org>
	<Pine.LNX.4.60.0410110945010.26020@pcl321.mppmu.mpg.de>
	<Pine.LNX.4.60.0410121114270.25677@pcl321.mppmu.mpg.de>
	<Pine.LNX.4.60.0410121643060.3010@pcl321.mppmu.mpg.de>
Message-ID: <871xg3enx4.fsf@infovore.xs4all.nl>

Peter Breitenlohner writes:

> On Tue, 12 Oct 2004, Peter Breitenlohner wrote:
> In my mail earlier today I sent you the wrong files. Sorry. I had prepared
> all this on my notebook, from files that were missing one earlier bug fix.

> Here again the attachement, this times with the correct files.

Change 6199.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From Gerben.Wierda at rna.nl  Tue Oct 12 21:29:27 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Tue Oct 12 21:31:08 2004
Subject: [tex-live] Code freeze?
Message-ID: <0838EEB7-1C85-11D9-88D0-003065B3343E@rna.nl>

Two questions:

1. Since we now all have to recreate binaries, can we do the "move 
source.development to source" first and ask people to build their 
binaries from there? It is not that crucial for me, but i like the 
cleanness of it (source = production, source.development is 
development).
2. Has the etex.ch possible problem with aleph been resolved?

Gerben

From tigran at aivazian.fsnet.co.uk  Tue Oct 12 22:08:56 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Tue Oct 12 22:09:24 2004
Subject: [tex-live] Fixed: bug in the latest TeX Live snapshot.
In-Reply-To: <871xg3enx4.fsf@infovore.xs4all.nl>
References: <200410101807.i9AI7cY12350@tug.org>
	<Pine.LNX.4.60.0410110945010.26020@pcl321.mppmu.mpg.de>
	<Pine.LNX.4.60.0410121114270.25677@pcl321.mppmu.mpg.de>
	<Pine.LNX.4.60.0410121643060.3010@pcl321.mppmu.mpg.de>
	<871xg3enx4.fsf@infovore.xs4all.nl>
Message-ID: <Pine.LNX.4.61.0410122047390.3663@ezer.homenet>

Hi Olaf,

On Tue, 12 Oct 2004, Olaf Weber wrote:
> Change 6199.

Does this mean I can rsync the sources from tug.org and the fix will be 
already there?

Btw, I have tested Peter's fix on a local TeX Live tree and it works fine! 
Thanks again.

Karl, I guess I will need to rebuild the x86_64 binaries? I will do that 
when you give me the go ahead; maybe there are other fixes --- e.g. is 
xdvi-motif.bin already listed as a valid x86_64 binary so it gets 
installed?

Kind regards
Tigran

From olaf at infovore.xs4all.nl  Tue Oct 12 22:38:06 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Tue Oct 12 22:39:58 2004
Subject: [tex-live] Fixed: bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.61.0410122047390.3663@ezer.homenet> (Tigran
	Aivazian's message of "Tue, 12 Oct 2004 21:08:56 +0100 (BST)")
References: <200410101807.i9AI7cY12350@tug.org>
	<Pine.LNX.4.60.0410110945010.26020@pcl321.mppmu.mpg.de>
	<Pine.LNX.4.60.0410121114270.25677@pcl321.mppmu.mpg.de>
	<Pine.LNX.4.60.0410121643060.3010@pcl321.mppmu.mpg.de>
	<871xg3enx4.fsf@infovore.xs4all.nl>
	<Pine.LNX.4.61.0410122047390.3663@ezer.homenet>
Message-ID: <87vfdfd64x.fsf@infovore.xs4all.nl>

Tigran Aivazian writes:

> Hi Olaf,
> On Tue, 12 Oct 2004, Olaf Weber wrote:
>> Change 6199.

> Does this mean I can rsync the sources from tug.org and the fix will
> be already there?

Yes.

I've also rebuilt the IRIX binaries.

> Btw, I have tested Peter's fix on a local TeX Live tree and it works
> fine! Thanks again.

> Karl, I guess I will need to rebuild the x86_64 binaries? I will do
> that when you give me the go ahead; maybe there are other fixes ---
> e.g. is xdvi-motif.bin already listed as a valid x86_64 binary so it
> gets installed?

> Kind regards
> Tigran

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From staw at gust.org.pl  Tue Oct 12 23:07:48 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Tue Oct 12 22:51:22 2004
Subject: [tex-live] Fixed: bug in the latest TeX Live snapshot.
In-Reply-To: <87vfdfd64x.fsf@infovore.xs4all.nl>
Message-ID: <Pine.LNX.4.44.0410122303560.6944-100000@re86.internetdsl.tpnet.pl>

On Tue, 12 Oct 2004, Olaf Weber wrote:

> Tigran Aivazian writes:
> > Hi Olaf,
> > On Tue, 12 Oct 2004, Olaf Weber wrote:
> >> Change 6199.
> 
> > Does this mean I can rsync the sources from tug.org and the fix will
> > be already there?
> 
> Yes.

As I see, not yet. sources aren't in sync with source.development
There are some small other things, like texk/tetex/texdoctk and updmap
and utils/t1utils/

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From karl at freefriends.org  Tue Oct 12 22:58:46 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Oct 12 23:00:38 2004
Subject: [tex-live] Code freeze?
In-Reply-To: <0838EEB7-1C85-11D9-88D0-003065B3343E@rna.nl>
Message-ID: <200410122058.i9CKwkT05661@f7.net>

    1. Since we now all have to recreate binaries, can we do the "move 
    source.development to source" first and ask people to build their 
    binaries from there? It is not that crucial for me, but i like the 
    cleanness of it (source = production, source.development is 
    development).

I have no problem with doing this now, makes sense to me.  But I feel it
is Sebastian's decision.  Sebastian?

    2. Has the etex.ch possible problem with aleph been resolved?

My understanding was that it was intentional that aleph is using an
older etex.ch, that is, Giuseppe hasn't had the chance to integrate 2.2
yet.  (Giuseppe, please correct/confirm ...)  So I don't think there is
a problem there.

From karl at freefriends.org  Tue Oct 12 23:00:28 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Oct 12 23:02:12 2004
Subject: [tex-live] Fixed: bug in the latest TeX Live snapshot.
In-Reply-To: <Pine.LNX.4.44.0410122303560.6944-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200410122100.i9CL0S305968@f7.net>

    As I see, not yet. sources aren't in sync with source.development

Hmm.  I thought source.development was up to date.

    There are some small other things, like texk/tetex/texdoctk and updmap
    and utils/t1utils/

Are you saying that source.development needs these other changes?
I thought all that stuff has been checked in (to src.dev).

(Aside from the configure.in changes that Thomas and Eddie have been
discussing, which doesn't need to be checked in, and IMHO, shouldn't be,
at this point.)

From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Oct 12 23:40:31 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Oct 12 23:41:03 2004
Subject: [tex-live] Code freeze?
In-Reply-To: <200410122058.i9CKwkT05661@f7.net>
References: <200410122058.i9CKwkT05661@f7.net>
Message-ID: <416C4F4F.2010001@computing-services.oxford.ac.uk>

I have integrated source with source.development, and made a new source 
archive
in Master.

So far as I am concerned, we should now consider everything frozen.
No additions or features, just

 - new set of binaries all around for pdfetex
 - bug fixes in packages and collections
 - documentation
 - installation systems

I don't intend to update any packages in the texmf tree unless
they are purely documentation, or fix very bad bugs,
or if their authors pay me lots of money.

Sebastian

From kakuto at fsci.fuk.kindai.ac.jp  Tue Oct 12 23:53:29 2004
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Tue Oct 12 23:55:17 2004
Subject: [tex-live] aleph uses an outdated etex.ch?
In-Reply-To: Your message of "Tue, 12 Oct 2004 18:13:42 +0400"
References: <87brf8ausp.fsf@video.uic.vsu.ru>
Message-ID: <200410122153.i9CLrUcf018145@jupiter.fsci.fuk.kindai.ac.jp>

Vladimir Volovich <vvv@vsu.ru>
> (the file in aleph is older).  First, it's unclear why aleph has it's
> own etex.ch when all others (e.g. etex, pdfetex, eomega) are using the
> same etex.ch. This creates confusion. 

It may be there for the reference. Actually it is never used.

-- 
Akira Kakuto

From Gerben.Wierda at rna.nl  Wed Oct 13 00:14:34 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Wed Oct 13 00:16:15 2004
Subject: [tex-live] Fwd: [OS X TeX] pdftex 1.20a
Message-ID: <18F9CD67-1C9C-11D9-88D0-003065B3343E@rna.nl>

I am asking for more info, but this person reported a problem which did 
not appear with a TL2003-based setup.

Given that it used to work and given that I haven't changed memory 
settings afaik, it might indicate a memory leak. I am investigating.

G

Begin forwarded message:

> From: Alexandru Scorpan <ascorpan@math.ufl.edu>
> Date: October 13, 2004 00:01:31 CEST
> To: "TeX on Mac OS X Mailing List" <MacOSX-TeX@email.esm.psu.edu>
> Subject: Re: [OS X TeX] pdftex 1.20a
> Reply-To: "TeX on Mac OS X Mailing List" <MacOSX-TeX@email.esm.psu.edu>
>
> Just installed the new experimental tree, and tried it on my huge 
> 600-page/250-LaTeX pictures document.  It failed on page 250 with the 
> happy message:
>
> ! Font OT1/ppl/b/n/6.06705=pplb7t at 6.06705pt not loaded: Not enough 
> room left
>
> Any quick fixes for this?
>
> -- Alex
>
> --------------------- Info ---------------------
> Mac-TeX Website: http://www.esm.psu.edu/mac-tex/
>           & FAQ: http://latex.yauh.de/faq/
> TeX FAQ: http://www.tex.ac.uk/faq
> List Post: <mailto:MacOSX-TeX@email.esm.psu.edu>
>
>
>

From bilotta78 at hotpop.com  Wed Oct 13 01:37:52 2004
From: bilotta78 at hotpop.com (Giuseppe Bilotta)
Date: Wed Oct 13 01:40:05 2004
Subject: [tex-live] Re: aleph uses an outdated etex.ch?
References: <87brf8ausp.fsf@video.uic.vsu.ru>
Message-ID: <MPG.1bd6893e112a87349896fb@news.gmane.org>

Vladimir Volovich wrote:
> Hi!
> 
> we have 2 different copies of etex.ch in source.development:
> 
> TeX/texk/web2c/alephdir/etex.ch
> TeX/texk/web2c/etexdir/etex.ch
> 
> (the file in aleph is older).  First, it's unclear why aleph has it's
> own etex.ch when all others (e.g. etex, pdfetex, eomega) are using the
> same etex.ch. This creates confusion. Second, it means that aleph is
> not up2date WRT the etex's bugfixes and improvements.

The etex.ch in the alephdir is only used for reference, it is 
not used in the actual sources, because the changes in Omega 
are so extensive that it is not possible to simple patch it 
with e-TeX to obtain Aleph. 

This also means that the fixes in etex 2.2 are not included in 
Aleph. But it is important to notice that of these fixes, the 
only one which would affect Aleph is the one concerning 
\lastnode stuff. To my knowledge, the other fixes concern 
sparse array management (which is not in Aleph) and RTL 
typesetting, which again is not included in Aleph (of course).

Yes, I need to fix the lastnodestuff. I'm rather busy for the 
time being, so it'll have to wait, for the moment.

Of course, one thing that would be very nice is if the e-TeX 
change file was split in multiple changefiles, each one 
implementing a feature. This would easy my job, for the future 
too :) Peter, do you think this can be done?

-- 
Giuseppe "Oblomov" Bilotta

Can't you see
It all makes perfect sense
Expressed in dollar and cents
Pounds shillings and pence
                  (Roger Waters)

From bilotta78 at hotpop.com  Wed Oct 13 01:40:04 2004
From: bilotta78 at hotpop.com (Giuseppe Bilotta)
Date: Wed Oct 13 01:51:54 2004
Subject: [tex-live] Re: Code freeze?
References: <0838EEB7-1C85-11D9-88D0-003065B3343E@rna.nl>
	<200410122058.i9CKwkT05661@f7.net>
Message-ID: <MPG.1bd689bea81a85d09896fc@news.gmane.org>

Karl Berry wrote:
>     2. Has the etex.ch possible problem with aleph been resolved?
> 
> My understanding was that it was intentional that aleph is using an
> older etex.ch, that is, Giuseppe hasn't had the chance to integrate 2.2
> yet.  (Giuseppe, please correct/confirm ...)  So I don't think there is
> a problem there.

Answered in another post.

If having two files with the same name is a problem, etex.ch in 
alephdir could be renamed to etex21.ch; since it's not actually 
used, this won't affect the building process.

-- 
Giuseppe "Oblomov" Bilotta

Can't you see
It all makes perfect sense
Expressed in dollar and cents
Pounds shillings and pence
                  (Roger Waters)

From staw at gust.org.pl  Wed Oct 13 05:51:16 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Wed Oct 13 05:34:41 2004
Subject: [tex-live] Code freeze?
In-Reply-To: <416C4F4F.2010001@computing-services.oxford.ac.uk>
Message-ID: <Pine.LNX.4.44.0410130521490.7866-100000@re86.internetdsl.tpnet.pl>

On Tue, 12 Oct 2004, Sebastian Rahtz wrote:

> I have integrated source with source.development, and made a new source 
> archive in Master.

New build for i386-linux from source tarball submited (#6207).
However built from source.development: pdfetex and pdfxtex differ
in some bytes (??).
Could some differences in web2/pdftexdir/ in source/ and 
source.development/ have any influence?

Thanks,

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From ms at artcom-gmbh.de  Wed Oct 13 09:39:46 2004
From: ms at artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Wed Oct 13 09:41:30 2004
Subject: [tex-live] Fwd: [OS X TeX] pdftex 1.20a
In-Reply-To: <18F9CD67-1C9C-11D9-88D0-003065B3343E@rna.nl>
References: <18F9CD67-1C9C-11D9-88D0-003065B3343E@rna.nl>
Message-ID: <20041013073946.GK4044@artcom8.artcom-gmbh.de>

On 2004-10-13 00:14:34 +0200, Gerben Wierda wrote:
> I am asking for more info, but this person reported a problem which did 
> not appear with a TL2003-based setup.
> 
> Given that it used to work and given that I haven't changed memory 
> settings afaik, it might indicate a memory leak. I am investigating.

Typing H would have been helpfull:

------------- tex.web -------------
@ @<Apologize for not loading...@>=
begin start_font_error_message;
print(" not loaded: Not enough room left");
@.Font x=xx not loaded...@>
help4("I'm afraid I won't be able to make use of this font,")@/
("because my memory for character-size data is too small.")@/
("If you're really stuck, ask a wizard to enlarge me.")@/
("Or maybe try `I\font<same font id>=<name of loaded font>'.");
error; goto done;
end
------------- tex.web -------------

Best regards
        Martin
-- 
               Martin Schr?der, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ftpmaint at alan.smcvt.edu  Wed Oct 13 17:08:15 2004
From: ftpmaint at alan.smcvt.edu (Jim Hefferon)
Date: Wed Oct 13 17:32:51 2004
Subject: [tex-live] Re: fancyvrb
In-Reply-To: <E1CHRZA-0000xE-00@mta1.cl.cam.ac.uk> (message from Robin
	Fairbairns on Tue, 12 Oct 2004 19:40:08 +0100)
References: <E1CHRZA-0000xE-00@mta1.cl.cam.ac.uk>
Message-ID: <200410131508.i9DF8FF15546@alan.smcvt.edu>


   i'm told tex live (last year's) has an update of fancyvrb that's not
   been released to ctan.

   should we remove the outdated version on ctan?

I'd say yes.

Jim

From karl at freefriends.org  Wed Oct 13 20:51:01 2004
From: karl at freefriends.org (Karl Berry)
Date: Wed Oct 13 20:52:46 2004
Subject: [tex-live] Code freeze?
In-Reply-To: <Pine.LNX.4.44.0410130521490.7866-100000@re86.internetdsl.tpnet.pl>
Message-ID: <200410131851.i9DIp1L30163@f7.net>

    However built from source.development: pdfetex and pdfxtex differ in
    some bytes (??).  Could some differences in web2/pdftexdir/ in
    source/ and source.development/ have any influence?

I looked at the output of 
diff -u2r source*/TeX/texk/web2c/pdftexdir.  All the differences are in
the $Id$ lines.  In some cases, the $Id$'s end up in the binaries (I
looked at the strings(1) output).  So that would explain the difference.
(Whew.)

Thanks,
k

From Gerben.Wierda at rna.nl  Wed Oct 13 22:20:28 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Wed Oct 13 22:22:12 2004
Subject: [tex-live] Fwd: [OS X TeX] pdftex 1.20a
In-Reply-To: <20041013073946.GK4044@artcom8.artcom-gmbh.de>
References: <18F9CD67-1C9C-11D9-88D0-003065B3343E@rna.nl>
	<20041013073946.GK4044@artcom8.artcom-gmbh.de>
Message-ID: <5318D330-1D55-11D9-ABB0-000D93C1C2FA@rna.nl>

Yes, I got that now and the document uses more than 1000 fonts (500k of 
5M char memory). Did the setting fro font_max change between TL2003 and 
TL2004?

> ! Font OT1/ppl/b/n/6.06705=pplb7t at 6.06705pt not loaded: Not enough 
> room left
> .
> <to be read again>
>                    relax
> l.865 ...Frac{11\mkern2mu}{8}}$--Conjecture \Open]
>
> ? x
>
> Here is how much of TeX's memory you used:
>  8753 strings out of 95314
>  111090 string characters out of 1186783
>  622281 words of memory out of 1000000
>  11088 multiletter control sequences out of 10000+50000
>  465816 words of font info for 1000 fonts, out of 500000 for 1000
>  186 hyphenation exceptions out of 1000
>  46i,24n,55p,796b,633s stack positions out of 
> 1500i,500n,5000p,200000b,5000s
>  987 PDF objects out of 300000
>  0 named destinations out of 131072
>  23046 words of extra memory for PDF output out of 65536

There is a lot of

> Package pdfcprot Info: File pplmnTS1.cpa{} used for the adjustment
> (pdfcprot)             of the char protruding. It seems that it isn't 
> the one
> (pdfcprot)             you intended to use. on input line 44.
> LaTeX Font Info:    Font shape `T1/ppl/bx/n' in size <8> not available
> (Font)              Font shape `T1/ppl/b/n' tried instead on input 
> line 44.
> Package pdfcprot Info: I didn't find pplbxnT1.cpa.
> (pdfcprot)              As a fallback I will try pplmnT1.cpa. on input 
> line 44.
>
> Package pdfcprot Info: File pplmnT1.cpa{} used for the adjustment
> (pdfcprot)             of the char protruding. It seems that it isn't 
> the one
> (pdfcprot)             you intended to use. on input line 44.
> LaTeX Font Info:    Font shape `TS1/ppl/bx/n' in size <8> not available
> (Font)              Font shape `TS1/ppl/b/n' tried instead on input 
> line 44.
> Package pdfcprot Info: I didn't find pplbxnTS1.cpa.
> (pdfcprot)              As a fallback I will try pplmnTS1.cpa. on 
> input line 44
> .
> Package pdfcprot Info: File pplmnTS1.cpa{} used for the adjustment
> (pdfcprot)             of the char protruding. It seems that it isn't 
> the one
> (pdfcprot)             you intended to use. on input line 44.
> LaTeX Font Info:    Try loading font information for T1+cmss on input 
> line 44.
>
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/t1cmss.fd
> File: t1cmss.fd 1999/05/25 v2.5h Standard LaTeX font definitions
> )
> Package pdfcprot Info: I didn't find cmssbxnT1.cpa.
> (pdfcprot)              As a fallback I will try pplmnT1.cpa. on input 
> line 44.
>
> Package pdfcprot Info: File pplmnT1.cpa{} used for the adjustment
> (pdfcprot)             of the char protruding. It seems that it isn't 
> the one
> (pdfcprot)             you intended to use. on input line 44.
> LaTeX Font Info:    Try loading font information for TS1+cmss on input 
> line 44.
>
>
> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/ts1cmss.fd
> File: ts1cmss.fd 1999/05/25 v2.5h Standard LaTeX font definitions
> )
> Package pdfcprot Info: I didn't find cmssbxnTS1.cpa.
> (pdfcprot)              As a fallback I will try pplmnTS1.cpa. on 
> input line 44
> .
> Package pdfcprot Info: File pplmnTS1.cpa{} used for the adjustment
> (pdfcprot)             of the char protruding. It seems that it isn't 
> the one
> (pdfcprot)             you intended to use. on input line 44.
> Package pdfcprot Info: I didn't find cmssbxnT1.cpa.
> (pdfcprot)              As a fallback I will try pplmnT1.cpa. on input 
> line 44.
>
> Package pdfcprot Info: File pplmnT1.cpa{} used for the adjustment
> (pdfcprot)             of the char protruding. It seems that it isn't 
> the one
> (pdfcprot)             you intended to use. on input line 44.
> Package pdfcprot Info: I didn't find cmssbxnTS1.cpa.
> (pdfcprot)              As a fallback I will try pplmnTS1.cpa. on 
> input line 44
> .


G


On 13 Oct 2004, at 09:39, Martin Schr?der wrote:

> On 2004-10-13 00:14:34 +0200, Gerben Wierda wrote:
>> I am asking for more info, but this person reported a problem which 
>> did
>> not appear with a TL2003-based setup.
>>
>> Given that it used to work and given that I haven't changed memory
>> settings afaik, it might indicate a memory leak. I am investigating.
>
> Typing H would have been helpfull:
>
> ------------- tex.web -------------
> @ @<Apologize for not loading...@>=
> begin start_font_error_message;
> print(" not loaded: Not enough room left");
> @.Font x=xx not loaded...@>
> help4("I'm afraid I won't be able to make use of this font,")@/
> ("because my memory for character-size data is too small.")@/
> ("If you're really stuck, ask a wizard to enlarge me.")@/
> ("Or maybe try `I\font<same font id>=<name of loaded font>'.");
> error; goto done;
> end
> ------------- tex.web -------------
>
> Best regards
>         Martin
> -- 
>                Martin Schr?der, ms@artcom-gmbh.de
>      ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
>           Voice +49 421 20419-44 / Fax +49 421 20419-10
>                     http://www.artcom-gmbh.de
>
> _______________________________________________
> TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live
>

From Gerben.Wierda at rna.nl  Wed Oct 13 22:48:13 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Wed Oct 13 22:50:19 2004
Subject: [tex-live] Fwd: [OS X TeX] pdftex 1.20a
Message-ID: <4281EBED-1D59-11D9-ABB0-000D93C1C2FA@rna.nl>

On 13 Oct 2004, at 22:20, Gerben Wierda wrote:

> Yes, I got that now and the document uses more than 1000 fonts (500k  
> of 5M char memory). Did the setting fro font_max change between TL2003  
> and TL2004?

hermione-e:/usr/local/src/INSTALL-TeX/texmf gerben$ find  
/usr/local/perforce/TeXLive/Build -name texmf.cnf -exec grep -H  
font_max {} \;
/usr/local/perforce/TeXLive/Build/source/TeX/texk/kpathsea/texmf.cnf: 
font_max         =              2000
/usr/local/perforce/TeXLive/Build/source.development/TeX/texk/kpathsea/ 
texmf.cnf:font_max = 1000

My source directory contains TL2003. source.development contains  
TL2004. Why the lowering? And can we put this back to what it was?

G

>
>> ! Font OT1/ppl/b/n/6.06705=pplb7t at 6.06705pt not loaded: Not enough  
>> room left
>> .
>> <to be read again>
>>                    relax
>> l.865 ...Frac{11\mkern2mu}{8}}$--Conjecture \Open]
>>
>> ? x
>>
>> Here is how much of TeX's memory you used:
>>  8753 strings out of 95314
>>  111090 string characters out of 1186783
>>  622281 words of memory out of 1000000
>>  11088 multiletter control sequences out of 10000+50000
>>  465816 words of font info for 1000 fonts, out of 500000 for 1000
>>  186 hyphenation exceptions out of 1000
>>  46i,24n,55p,796b,633s stack positions out of  
>> 1500i,500n,5000p,200000b,5000s
>>  987 PDF objects out of 300000
>>  0 named destinations out of 131072
>>  23046 words of extra memory for PDF output out of 65536
>
> There is a lot of
>
>> Package pdfcprot Info: File pplmnTS1.cpa{} used for the adjustment
>> (pdfcprot)             of the char protruding. It seems that it isn't  
>> the one
>> (pdfcprot)             you intended to use. on input line 44.
>> LaTeX Font Info:    Font shape `T1/ppl/bx/n' in size <8> not available
>> (Font)              Font shape `T1/ppl/b/n' tried instead on input  
>> line 44.
>> Package pdfcprot Info: I didn't find pplbxnT1.cpa.
>> (pdfcprot)              As a fallback I will try pplmnT1.cpa. on  
>> input line 44.
>>
>> Package pdfcprot Info: File pplmnT1.cpa{} used for the adjustment
>> (pdfcprot)             of the char protruding. It seems that it isn't  
>> the one
>> (pdfcprot)             you intended to use. on input line 44.
>> LaTeX Font Info:    Font shape `TS1/ppl/bx/n' in size <8> not  
>> available
>> (Font)              Font shape `TS1/ppl/b/n' tried instead on input  
>> line 44.
>> Package pdfcprot Info: I didn't find pplbxnTS1.cpa.
>> (pdfcprot)              As a fallback I will try pplmnTS1.cpa. on  
>> input line 44
>> .
>> Package pdfcprot Info: File pplmnTS1.cpa{} used for the adjustment
>> (pdfcprot)             of the char protruding. It seems that it isn't  
>> the one
>> (pdfcprot)             you intended to use. on input line 44.
>> LaTeX Font Info:    Try loading font information for T1+cmss on input  
>> line 44.
>>
>> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/t1cmss.fd
>> File: t1cmss.fd 1999/05/25 v2.5h Standard LaTeX font definitions
>> )
>> Package pdfcprot Info: I didn't find cmssbxnT1.cpa.
>> (pdfcprot)              As a fallback I will try pplmnT1.cpa. on  
>> input line 44.
>>
>> Package pdfcprot Info: File pplmnT1.cpa{} used for the adjustment
>> (pdfcprot)             of the char protruding. It seems that it isn't  
>> the one
>> (pdfcprot)             you intended to use. on input line 44.
>> LaTeX Font Info:    Try loading font information for TS1+cmss on  
>> input line 44.
>>
>>
>> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/ts1cmss.fd
>> File: ts1cmss.fd 1999/05/25 v2.5h Standard LaTeX font definitions
>> )
>> Package pdfcprot Info: I didn't find cmssbxnTS1.cpa.
>> (pdfcprot)              As a fallback I will try pplmnTS1.cpa. on  
>> input line 44
>> .
>> Package pdfcprot Info: File pplmnTS1.cpa{} used for the adjustment
>> (pdfcprot)             of the char protruding. It seems that it isn't  
>> the one
>> (pdfcprot)             you intended to use. on input line 44.
>> Package pdfcprot Info: I didn't find cmssbxnT1.cpa.
>> (pdfcprot)              As a fallback I will try pplmnT1.cpa. on  
>> input line 44.
>>
>> Package pdfcprot Info: File pplmnT1.cpa{} used for the adjustment
>> (pdfcprot)             of the char protruding. It seems that it isn't  
>> the one
>> (pdfcprot)             you intended to use. on input line 44.
>> Package pdfcprot Info: I didn't find cmssbxnTS1.cpa.
>> (pdfcprot)              As a fallback I will try pplmnTS1.cpa. on  
>> input line 44
>> .
>
>
> G
>
>
> On 13 Oct 2004, at 09:39, Martin Schr?der wrote:
>
>> On 2004-10-13 00:14:34 +0200, Gerben Wierda wrote:
>>> I am asking for more info, but this person reported a problem which  
>>> did
>>> not appear with a TL2003-based setup.
>>>
>>> Given that it used to work and given that I haven't changed memory
>>> settings afaik, it might indicate a memory leak. I am investigating.
>>
>> Typing H would have been helpfull:
>>
>> ------------- tex.web -------------
>> @ @<Apologize for not loading...@>=
>> begin start_font_error_message;
>> print(" not loaded: Not enough room left");
>> @.Font x=xx not loaded...@>
>> help4("I'm afraid I won't be able to make use of this font,")@/
>> ("because my memory for character-size data is too small.")@/
>> ("If you're really stuck, ask a wizard to enlarge me.")@/
>> ("Or maybe try `I\font<same font id>=<name of loaded font>'.");
>> error; goto done;
>> end
>> ------------- tex.web -------------
>>
>> Best regards
>>         Martin
>> -- 
>>                Martin Schr?der, ms@artcom-gmbh.de
>>      ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
>>           Voice +49 421 20419-44 / Fax +49 421 20419-10
>>                     http://www.artcom-gmbh.de
>>
>> _______________________________________________
>> TeX Live mailing list
>> http://tug.org/mailman/listinfo/tex-live
>>
>
> _______________________________________________
> TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live
>


From Gerben.Wierda at rna.nl  Wed Oct 13 23:04:56 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Wed Oct 13 23:06:38 2004
Subject: Fwd: [tex-live] Fwd: [OS X TeX] pdftex 1.20a
Message-ID: <892275E2-1D5B-11D9-ABB0-000D93C1C2FA@rna.nl>

On 13 Oct 2004, at 22:20, Gerben Wierda wrote:

> Yes, I got that now and the document uses more than 1000 fonts (500k  
> of 5M char memory). Did the setting fro font_max change between TL2003  
> and TL2004?

hermione-e:/usr/local/src/INSTALL-TeX/texmf gerben$ find  
/usr/local/perforce/TeXLive/Build -name texmf.cnf -exec grep -H  
font_max {} \;
/usr/local/perforce/TeXLive/Build/source/TeX/texk/kpathsea/texmf.cnf: 
font_max         =              2000
/usr/local/perforce/TeXLive/Build/source.development/TeX/texk/kpathsea/ 
texmf.cnf:font_max = 1000

My source directory contains TL2003. source.development contains  
TL2004. Why the lowering? And can we put this back to what it was?

G

>
>> ! Font OT1/ppl/b/n/6.06705=pplb7t at 6.06705pt not loaded: Not enough  
>> room left
>> .
>> <to be read again>
>>                    relax
>> l.865 ...Frac{11\mkern2mu}{8}}$--Conjecture \Open]
>>
>> ? x
>>
>> Here is how much of TeX's memory you used:
>>  8753 strings out of 95314
>>  111090 string characters out of 1186783
>>  622281 words of memory out of 1000000
>>  11088 multiletter control sequences out of 10000+50000
>>  465816 words of font info for 1000 fonts, out of 500000 for 1000
>>  186 hyphenation exceptions out of 1000
>>  46i,24n,55p,796b,633s stack positions out of  
>> 1500i,500n,5000p,200000b,5000s
>>  987 PDF objects out of 300000
>>  0 named destinations out of 131072
>>  23046 words of extra memory for PDF output out of 65536
>
> There is a lot of
>
>> Package pdfcprot Info: File pplmnTS1.cpa{} used for the adjustment
>> (pdfcprot)             of the char protruding. It seems that it isn't  
>> the one
>> (pdfcprot)             you intended to use. on input line 44.
>> LaTeX Font Info:    Font shape `T1/ppl/bx/n' in size <8> not available
>> (Font)              Font shape `T1/ppl/b/n' tried instead on input  
>> line 44.
>> Package pdfcprot Info: I didn't find pplbxnT1.cpa.
>> (pdfcprot)              As a fallback I will try pplmnT1.cpa. on  
>> input line 44.
>>
>> Package pdfcprot Info: File pplmnT1.cpa{} used for the adjustment
>> (pdfcprot)             of the char protruding. It seems that it isn't  
>> the one
>> (pdfcprot)             you intended to use. on input line 44.
>> LaTeX Font Info:    Font shape `TS1/ppl/bx/n' in size <8> not  
>> available
>> (Font)              Font shape `TS1/ppl/b/n' tried instead on input  
>> line 44.
>> Package pdfcprot Info: I didn't find pplbxnTS1.cpa.
>> (pdfcprot)              As a fallback I will try pplmnTS1.cpa. on  
>> input line 44
>> .
>> Package pdfcprot Info: File pplmnTS1.cpa{} used for the adjustment
>> (pdfcprot)             of the char protruding. It seems that it isn't  
>> the one
>> (pdfcprot)             you intended to use. on input line 44.
>> LaTeX Font Info:    Try loading font information for T1+cmss on input  
>> line 44.
>>
>> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/t1cmss.fd
>> File: t1cmss.fd 1999/05/25 v2.5h Standard LaTeX font definitions
>> )
>> Package pdfcprot Info: I didn't find cmssbxnT1.cpa.
>> (pdfcprot)              As a fallback I will try pplmnT1.cpa. on  
>> input line 44.
>>
>> Package pdfcprot Info: File pplmnT1.cpa{} used for the adjustment
>> (pdfcprot)             of the char protruding. It seems that it isn't  
>> the one
>> (pdfcprot)             you intended to use. on input line 44.
>> LaTeX Font Info:    Try loading font information for TS1+cmss on  
>> input line 44.
>>
>>
>> (/usr/local/teTeX/share/texmf.tetex/tex/latex/base/ts1cmss.fd
>> File: ts1cmss.fd 1999/05/25 v2.5h Standard LaTeX font definitions
>> )
>> Package pdfcprot Info: I didn't find cmssbxnTS1.cpa.
>> (pdfcprot)              As a fallback I will try pplmnTS1.cpa. on  
>> input line 44
>> .
>> Package pdfcprot Info: File pplmnTS1.cpa{} used for the adjustment
>> (pdfcprot)             of the char protruding. It seems that it isn't  
>> the one
>> (pdfcprot)             you intended to use. on input line 44.
>> Package pdfcprot Info: I didn't find cmssbxnT1.cpa.
>> (pdfcprot)              As a fallback I will try pplmnT1.cpa. on  
>> input line 44.
>>
>> Package pdfcprot Info: File pplmnT1.cpa{} used for the adjustment
>> (pdfcprot)             of the char protruding. It seems that it isn't  
>> the one
>> (pdfcprot)             you intended to use. on input line 44.
>> Package pdfcprot Info: I didn't find cmssbxnTS1.cpa.
>> (pdfcprot)              As a fallback I will try pplmnTS1.cpa. on  
>> input line 44
>> .
>
>
> G
>
>
> On 13 Oct 2004, at 09:39, Martin Schr?der wrote:
>
>> On 2004-10-13 00:14:34 +0200, Gerben Wierda wrote:
>>> I am asking for more info, but this person reported a problem which  
>>> did
>>> not appear with a TL2003-based setup.
>>>
>>> Given that it used to work and given that I haven't changed memory
>>> settings afaik, it might indicate a memory leak. I am investigating.
>>
>> Typing H would have been helpfull:
>>
>> ------------- tex.web -------------
>> @ @<Apologize for not loading...@>=
>> begin start_font_error_message;
>> print(" not loaded: Not enough room left");
>> @.Font x=xx not loaded...@>
>> help4("I'm afraid I won't be able to make use of this font,")@/
>> ("because my memory for character-size data is too small.")@/
>> ("If you're really stuck, ask a wizard to enlarge me.")@/
>> ("Or maybe try `I\font<same font id>=<name of loaded font>'.");
>> error; goto done;
>> end
>> ------------- tex.web -------------
>>
>> Best regards
>>         Martin
>> -- 
>>                Martin Schr?der, ms@artcom-gmbh.de
>>      ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
>>           Voice +49 421 20419-44 / Fax +49 421 20419-10
>>                     http://www.artcom-gmbh.de
>>
>> _______________________________________________
>> TeX Live mailing list
>> http://tug.org/mailman/listinfo/tex-live
>>
>
> _______________________________________________
> TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live
>


From staw at gust.org.pl  Wed Oct 13 23:23:51 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Wed Oct 13 23:07:02 2004
Subject: [tex-live] Fwd: [OS X TeX] pdftex 1.20a
In-Reply-To: <4281EBED-1D59-11D9-ABB0-000D93C1C2FA@rna.nl>
Message-ID: <Pine.LNX.4.44.0410132316190.8882-100000@re86.internetdsl.tpnet.pl>

On Wed, 13 Oct 2004, Gerben Wierda wrote:

> /usr/local/perforce/TeXLive/Build/source/TeX/texk/kpathsea/texmf.cnf: 
> font_max         =              2000
> /usr/local/perforce/TeXLive/Build/source.development/TeX/texk/kpathsea/ 
> texmf.cnf:font_max = 1000
> 
> My source directory contains TL2003. source.development contains  
> TL2004. Why the lowering? And can we put this back to what it was?

Anyway, we're distributing Master/texmf/web2c/texmf.cnf:
font_max     = 2000

There are some reasons that this file is adjusted by hand, eg.
% TEMP = /var/tmp
which couldn't work on Win32, etc.

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From Gerben.Wierda at rna.nl  Wed Oct 13 23:23:09 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Wed Oct 13 23:24:51 2004
Subject: [tex-live] Fwd: [OS X TeX] pdftex 1.20a
In-Reply-To: <Pine.LNX.4.44.0410132316190.8882-100000@re86.internetdsl.tpnet.pl>
References: <Pine.LNX.4.44.0410132316190.8882-100000@re86.internetdsl.tpnet.pl>
Message-ID: <14BD7896-1D5E-11D9-ABB0-000D93C1C2FA@rna.nl>

On 13 Oct 2004, at 23:23, Staszek Wawrykiewicz wrote:

> On Wed, 13 Oct 2004, Gerben Wierda wrote:
>
>> /usr/local/perforce/TeXLive/Build/source/TeX/texk/kpathsea/texmf.cnf:
>> font_max         =              2000
>> /usr/local/perforce/TeXLive/Build/source.development/TeX/texk/ 
>> kpathsea/
>> texmf.cnf:font_max = 1000
>>
>> My source directory contains TL2003. source.development contains
>> TL2004. Why the lowering? And can we put this back to what it was?
>
> Anyway, we're distributing Master/texmf/web2c/texmf.cnf:
> font_max     = 2000
>
> There are some reasons that this file is adjusted by hand, eg.
> % TEMP = /var/tmp
> which couldn't work on Win32, etc.

Sorry, I get the feeling it is the other way around. The ones I found  
differ between TL2003 and TL2004 and are both created by "make install"  
and are independent from Master.  The one in Master for instance does  
not have TEXMFDIST (while this is how the Master structure is today).  
It seems more to me that the one in Master is less updated than the one  
in source.development. Oh, and /var/tmp does not exist on every unix...

Anyway, does anybody have a problem with me changing texmf.in so that  
it has font_max as it was in TL2003? Because I do use the one from  
source(.development) like teTeX does afaik.

G

From staw at gust.org.pl  Thu Oct 14 00:04:30 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Wed Oct 13 23:47:29 2004
Subject: [tex-live] Fwd: [OS X TeX] pdftex 1.20a
In-Reply-To: <14BD7896-1D5E-11D9-ABB0-000D93C1C2FA@rna.nl>
Message-ID: <Pine.LNX.4.44.0410132357170.9010-100000@re86.internetdsl.tpnet.pl>

On Wed, 13 Oct 2004, Gerben Wierda wrote:

> > Anyway, we're distributing Master/texmf/web2c/texmf.cnf:
> > font_max     = 2000
> 
> Sorry, I get the feeling it is the other way around. The ones I found  
> differ between TL2003 and TL2004 and are both created by "make install"  
> and are independent from Master.  The one in Master for instance does  
> not have TEXMFDIST (while this is how the Master structure is today).  
> It seems more to me that the one in Master is less updated than the one  
> in source.development. Oh, and /var/tmp does not exist on every unix...

Please do sync. Master/texmf/web2c/texmf.cnf 
-r--r--r--    1 staw     staw        21444 Oct 10 13:33 texmf.cnf
and _contains_:
TEXMFDIST = $SELFAUTOPARENT/texmf-dist
...
% TEMP =                        /var/tmp
...
font_max         =              2000
 
> Anyway, does anybody have a problem with me changing texmf.in so that  
> it has font_max as it was in TL2003? Because I do use the one from  
> source(.development) like teTeX does afaik.
 
No need, as you can see.

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From staw at gust.org.pl  Thu Oct 14 00:12:34 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Wed Oct 13 23:55:33 2004
Subject: [tex-live] Fwd: [OS X TeX] pdftex 1.20a
In-Reply-To: <14BD7896-1D5E-11D9-ABB0-000D93C1C2FA@rna.nl>
Message-ID: <Pine.LNX.4.44.0410140007130.9066-100000@re86.internetdsl.tpnet.pl>

Sorry, I've just written:
>> Anyway, does anybody have a problem with me changing texmf.in so that
>> it has font_max as it was in TL2003? Because I do use the one from
>> source(.development) like teTeX does afaik.

> No need, as you can see.

As for "texmf.in", you are right. Sorry again.

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From karl at freefriends.org  Thu Oct 14 01:49:18 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Oct 14 01:51:10 2004
Subject: [tex-live] Fwd: [OS X TeX] pdftex 1.20a
In-Reply-To: <14BD7896-1D5E-11D9-ABB0-000D93C1C2FA@rna.nl>
Message-ID: <200410132349.i9DNnI604458@f7.net>

    The one in Master for instance does  
    not have TEXMFDIST

?

tug$ \grep TEXMFDIST /home/karl/src/Master/texmf/web2c/texmf.cnf                
TEXMFDIST = $SELFAUTOPARENT/texmf-dist                                          
TEXMF =                 {$HOMETEXMF,!!$VARTEXMF,$TEXMFLOCAL,!!$TEXMFMAIN,!!$TEX\
MFDIST}                

    Anyway, does anybody have a problem with me changing texmf.in so that  
    it has font_max as it was in TL2003? Because I do use the one from  
    source(.development) like teTeX does afaik.

Seems like a very desirable change to me, to keep the .in and the
generated file in sync.  Thanks.

From Gerben.Wierda at rna.nl  Thu Oct 14 20:09:07 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Thu Oct 14 20:10:49 2004
Subject: [tex-live] Fwd: Notes about TeX i-package 14/10/2004
Message-ID: <24206FA2-1E0C-11D9-ABB0-000D93C1C2FA@rna.nl>

I get this report from one of my users:

Begin forwarded message:

> - The 'listings' package in gwTeX (v1.3) seems to be throwing errors,
> whereas the version in teTeX (v1.2) doesn't:
>
> The error I get is:
>
> Runaway argument?
> {\expandafter \let \expandafter
> ! Forbidden control sequence found while scanning use of \lst@lExtend.
> <inserted text>
>                 \par
> l.56 \begin{document}
>
> ?
> ! Too many }'s.
> <to be read again> ...\the \@tempcnta \endcsname }
>                                                   \expandafter \let 
> \csname ...
> l.56 \begin{document}
>
> ?
>
> I don't get this error if I remove tex/latex/listings/* from gwTeX.

From Gerben.Wierda at rna.nl  Thu Oct 14 21:46:32 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Thu Oct 14 21:48:13 2004
Subject: [tex-live] What is the best readme for the tree structure changes?
Message-ID: <BFBBC8C4-1E19-11D9-ABB0-000D93C1C2FA@rna.nl>

What is the best place to read what has changed in the tree structure 
(e.g. map file locations and such)?

Thanks,

G

From karl at freefriends.org  Thu Oct 14 23:15:05 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Oct 14 23:16:56 2004
Subject: [tex-live] What is the best readme for the tree structure changes?
In-Reply-To: <BFBBC8C4-1E19-11D9-ABB0-000D93C1C2FA@rna.nl>
Message-ID: <200410142115.i9ELF5t30666@f7.net>

    What is the best place to read what has changed in the tree structure 
    (e.g. map file locations and such)?

I wrote a terse summary of what changed as part of TDS 1.1:
  http://tug.org/tds/tds.html#History

As far as TL goes, I'm still working on the doc and trying to put all
the changes together, from pdftex/NEWS and all the other change sources.
(I'm not looking forward to it.  If anyone can help summarize what
changed between TL'03 and TL'04, please write me.)

FWIW, Hans kindly sent me the following info about "compatible settings"
which I plan to put in the doc.  (Hans, I don't what the "textools"
utility is -- one of yours, I assume.  Doesn't seem to be in TL,
although there is a textools.rb?)

k


Date: Wed, 13 Oct 2004 21:31:18 +0200
From: Hans Hagen <pragma@wxs.nl>
To: Karl Berry <karl@freefriends.org>, Hartmut Henkel <hartmut_henkel@gmx.de>
Subject: Re: bug in pdftex

Karl Berry wrote:

> Yes.  Can you determine exactly what settings people should put in
> texmf.cnf?

just appendin hgi think that we should append the old locations for enc 
and map files, since it was map files that could not be found; the 
problem is that there is no clue given.

here i have:

ENCFONTS      = .;$TEXMF/{fonts/enc,dvips}//

TEXPSHEADERS  = 
.;$TEXMF/{fonts/{enc,map,type1,truetype},dvips,pdftex,tex}//;$TEXMF/{etex,tex,pdftex,dvips,fonts/type1}//
TEXFONTMAPS   = 
.;$TEXMF/{fonts/map//,fontname};$TEXMF/{pdftex,dvips}/config;$TEXMF/{pdftex,dvips}//
TEXCONFIG         = .;$TEXMF/{fonts/map,dvips,pdftex,dvipdfmx,dvipdfm}//

actually, an option is to put a small file somewhere with just those 
settings, since users can put it in their local tree; on th eother hand, 
once they know this, they can repair the tree (textools --fixtexmftree ...)

From karl at freefriends.org  Thu Oct 14 23:31:07 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Oct 14 23:32:54 2004
Subject: [tex-live] Fwd: Notes about TeX i-package 14/10/2004
In-Reply-To: <24206FA2-1E0C-11D9-ABB0-000D93C1C2FA@rna.nl>
Message-ID: <200410142131.i9ELV7X01791@f7.net>

    > - The 'listings' package in gwTeX (v1.3) seems to be throwing errors,
    > whereas the version in teTeX (v1.2) doesn't:

Drat.  Can you or your user report the problem to the listings author?
Apparently that is Carsten Heinz <cheinz@gmx.de>.

I suggest sending him an entire input document that fails, for effective
debugging.

Thanks,
k

From pragma at wxs.nl  Fri Oct 15 09:12:24 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Oct 15 09:14:07 2004
Subject: [tex-live] What is the best readme for the tree structure changes?
In-Reply-To: <200410142115.i9ELF5t30666@f7.net>
References: <200410142115.i9ELF5t30666@f7.net>
Message-ID: <416F7858.2010606@wxs.nl>

Karl Berry wrote:

> which I plan to put in the doc.  (Hans, I don't what the "textools"
> utility is -- one of yours, I assume.  Doesn't seem to be in TL,
> although there is a textools.rb?)

that's it: instead of all kind of small utilities, i now package things 
in textools.rb, pdftools.rb, xmltools.rb (and exatools.rb)

 > Textools

TeXTools | --downcasefilenames [--recurse] [--force]
TeXTools | --findfile          filename    [--recurse]
TeXTools | --fixafmfiles       [pattern]   [--recurse]
TeXTools | --fixtexmftrees     [texmfroot] [--force]
TeXTools | --hidemapnames      [pattern]   [--recurse]
TeXTools | --mactodos          [pattern]   [--recurse]
TeXTools | --removemapnames    [pattern]   [--recurse]
TeXTools | --replace           filename    [--force]
TeXTools | --restoremapnames   [pattern]   [--recurse]
TeXTools | --stripformfeeds    [--recurse] [--force]
TeXTools | --unzipfiles        [pattern]   [--recurse]
TeXTools | --videmapnames      [pattern]   [--recurse]

so, there is a bit more in there (and more coming) for instance, running

 > textools --findfile texnansi.enc

can be quite instructive (in older trees)

options like unzipfiles were needed for getting the gzipped afm files 
right, fixafmfiles repairs comments (else some tex related binaries may 
segfault), *mapfiles removes dangerous Name entries (sometimes needed), etc

Hans
-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From Gerben.Wierda at rna.nl  Fri Oct 15 15:55:02 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri Oct 15 15:56:46 2004
Subject: [tex-live] TEXINPUTS problem
Message-ID: <CFD725D0-1EB1-11D9-88D0-003065B3343E@rna.nl>

Here is an issue about kpathsea. Question at the end.

Begin forwarded message:

> From: Jonathan Kew <jonathan_kew@sil.org>
> Date: October 15, 2004 14:51:28 CEST
> To: "TeX on Mac OS X Mailing List" <MacOSX-TeX@email.esm.psu.edu>
> Subject: Re: [OS X TeX] Re: Context problem
> Reply-To: "TeX on Mac OS X Mailing List" <MacOSX-TeX@email.esm.psu.edu>
>
> On 15 Oct 2004, at 1:05 pm, Ross Moore wrote:
>
>> Hi Jonathan, and Bruno
>>
>> On 15/10/2004, at 8:13 PM, Jonathan Kew wrote:
>>
>>> On 15 Oct 2004, at 10:50 am, Bruno Voisin wrote:
>>>> PS: Some technical details. With TL 2004, during creation of 
>>>> pdfLaTeX you'll get:
>>>>
>>>>> running `etex -ini   -jobname=latex -progname=latex *latex.ini' ...
>>>>> This is pdfeTeX, Version 3.141592-1.20a-2.2 (Web2C 7.5.3) (INITEX)
>>>>> ...
>>>>> (/usr/local/teTeX/share/texmf.tetex/tex/generic/babel/hyphen.cfg
>>>>> ...
>>>
>>>> On the other hand during creation of XeLaTeX you'll get:
>>>>
>>>>> running `xetex -ini   -jobname=xelatex -progname=xelatex 
>>>>> *xelatex.ini' ...
>>>>> This is XeTeX, Version 3.14159-2.1-0.871 (Web2C 7.5.2) (INITEX)
>>>>> ...
>>>>> (/usr/local/teTeX/share/texmf.tetex/tex/cslatex/hyphen.cfg
>>>>> ...
>>>
>>> There's the problem: searching for hyphen.cfg, xetex is finding the 
>>> file in tex/cslatex in preference to the one in tex/generic/babel.
>>
>> OK, maybe this is a symptom of a feature that I call the "matrix 
>> transpose" problem.
>
> Maybe; or maybe it's simply because the order of kpathsearch 
> subdirectory searching at any given level is unspecified (according to 
> the docs I've seen); or maybe the algorithms used in kpathsearch have 
> changed in TeXLive 2004?
>
> In any case, it can probably be fixed by providing appropriate 
> TEXINPUTS.xetex and TEXINPUTS.xelatex entries (look at the 
> pdftex/pdflatex entries for inspiration) in texmf.cnf. In the absence 
> of program-specific entries, it will be using a default TEXINPUTS that 
> apparently allows the cslatex stuff to be found ahead of 
> generic/babel, but more specific paths should correct this.
>
> Perhaps that's enough of a clue for someone with TL2004 installed to 
> get things working?

The texmf.cnf made from texmf.in has this:

> % TEXINPUTS is for TeX input files -- i.e., anything to be found by 
> \input
> % or \openin, including .sty, .eps, etc.
>
> % Plain TeX.  Have the command tex check all directories as a last
> % resort, we may have plain-compatible stuff anywhere.
> TEXINPUTS.tex = .;$TEXMF/tex/{plain,generic,}//
>
> % pdfTeX.  This form of the input paths is borrowed from teTeX.  A 
> certain
> % variant of TDS is assumed here, unaffected by the build variables.
> TEXINPUTS.pdfcslatex = 
> .;$TEXMF/{pdftex,tex}/{cslatex,csplain,latex,generic,}//
> TEXINPUTS.pdfcsplain = .;$TEXMF/{pdftex,tex}/{csplain,plain,generic,}//
> TEXINPUTS.pdfjadetex = .;$TEXMF/{pdftex,tex}/{jadetex,plain,generic,}//
> TEXINPUTS.pdflatex = .;$TEXMF/{pdftex,tex}/{latex,generic,}//
> TEXINPUTS.pdfmex   = .;$TEXMF/{pdftex,tex}/{mex,plain,generic,}//
> TEXINPUTS.pdftex   = .;$TEXMF/{pdftex,tex}/{plain,generic,}//
> TEXINPUTS.pdfamstex = .;$TEXMF/{pdftex,tex}/{amstex,plain,generic,}//
> % The pdftexinfo entry is obsolete.
> TEXINPUTS.pdftexinfo = .;$TEXMF/{pdftex,tex}/{texinfo,plain,generic,}//
>
> % pdfeTeX.
> TEXINPUTS.pdfelatex = 
> .;$TEXMF/{pdfetex,pdftex,etex,tex}/{latex,generic,}//
> TEXINPUTS.pdfetex   = 
> .;$TEXMF/{pdfetex,pdftex,etex,tex}/{plain,generic,}//
>
> % pdfxTeX.
> TEXINPUTS.pdfxlatex = 
> .;$TEXMF/{pdfxtex,pdftex,etex,tex}/{latex,generic,}//
> TEXINPUTS.pdfxtex   = 
> .;$TEXMF/{pdfxtex,pdftex,etex,tex}/{plain,generic,}//
>
> % Earlier entries override later ones, so put this last.
> TEXINPUTS = .;$TEXMF/tex/{$progname,generic,}//

Given that, I cannot figure out why in the case of progname = xelatex 
it will find stuff in cslatex before generic.

Can someone explain this to me?

G

From olaf at infovore.xs4all.nl  Fri Oct 15 17:19:14 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Fri Oct 15 17:21:12 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <CFD725D0-1EB1-11D9-88D0-003065B3343E@rna.nl> (Gerben Wierda's
	message of "Fri, 15 Oct 2004 15:55:02 +0200")
References: <CFD725D0-1EB1-11D9-88D0-003065B3343E@rna.nl>
Message-ID: <87655c2eml.fsf@infovore.xs4all.nl>

Gerben Wierda writes:

> Can someone explain this to me?

The output of

    kpsewhich --progname=xetex --var-value=TEXINPUTS
    kpsewhich --progname=xetex --show-path=.tex

may be of interest, esp. on the machine where the problem is seen.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From Gerben.Wierda at rna.nl  Fri Oct 15 18:09:41 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri Oct 15 18:11:24 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <87655c2eml.fsf@infovore.xs4all.nl>
References: <CFD725D0-1EB1-11D9-88D0-003065B3343E@rna.nl>
	<87655c2eml.fsf@infovore.xs4all.nl>
Message-ID: <9EE5BB74-1EC4-11D9-88D0-003065B3343E@rna.nl>

On Oct 15, 2004, at 17:19, Olaf Weber wrote:

> Gerben Wierda writes:
>
>> Can someone explain this to me?
>
> The output of
>
>     kpsewhich --progname=xetex --var-value=TEXINPUTS
>     kpsewhich --progname=xetex --show-path=.tex
>
> may be of interest, esp. on the machine where the problem is seen.

$ kpsewhich --progname=xetex --var-value=TEXINPUTS
.:{/Volumes/Data/Users/gerben/Library/texmf,!!/usr/local/teTeX/share/ 
texmf.local,!!/usr/local/teTeX/share/texmf.gwtex,!!/usr/local/teTeX/ 
share/texmf.tetex,!!/usr/local/teTeX/share/texmf}/tex/{xetex,generic,}/ 
/

$ kpsewhich --progname=xetex --show-path=.tex
.:/Volumes/Data/Users/gerben/Library/texmf/tex/xetex//:!!/usr/local/ 
teTeX/share/texmf.local/tex/xetex//:!!/usr/local/teTeX/share/ 
texmf.gwtex/tex/xetex//:!!/usr/local/teTeX/share/texmf.tetex/tex/xetex/ 
/:!!/usr/local/teTeX/share/texmf/tex/xetex//:/Volumes/Data/Users/ 
gerben/Library/texmf/tex/generic//:!!/usr/local/teTeX/share/ 
texmf.local/tex/generic//:!!/usr/local/teTeX/share/texmf.gwtex/tex/ 
generic//:!!/usr/local/teTeX/share/texmf.tetex/tex/generic//:!!/usr/ 
local/teTeX/share/texmf/tex/generic//:/Volumes/Data/Users/gerben/ 
Library/texmf/tex///:!!/usr/local/teTeX/share/texmf.local/tex///:!!/ 
usr/local/teTeX/share/texmf.gwtex/tex///:!!/usr/local/teTeX/share/ 
texmf.tetex/tex///:!!/usr/local/teTeX/share/texmf/tex///

G

From Gerben.Wierda at rna.nl  Fri Oct 15 20:00:11 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri Oct 15 20:01:54 2004
Subject: [tex-live] jadetex compatibility with TL2003
Message-ID: <0ED4070E-1ED4-11D9-88D0-003065B3343E@rna.nl>

The current pdfjadetex.ini has

\input pdftexconfig.tex
\input jadetex.ltx
\dump
\endinput

which makes it incompatible with TL2003. (It is one of the few things 
in my dist that break with new stuff in the old setup). I maintain the 
old setup next to the new because that speeds up adaptation (people are 
more willing to use something if they know they can get a working 
situation by going back.

I was thinking about adding an empty pdftexconfig.tex somewhere in the 
TL2003 setup. This works. Any bad effects to be expected?

Thanks,

G

From karl at freefriends.org  Fri Oct 15 22:20:35 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Oct 15 22:22:25 2004
Subject: [tex-live] jadetex compatibility with TL2003
In-Reply-To: <0ED4070E-1ED4-11D9-88D0-003065B3343E@rna.nl>
Message-ID: <200410152020.i9FKKZ215456@f7.net>

    I was thinking about adding an empty pdftexconfig.tex somewhere in the 
    TL2003 setup. This works. Any bad effects to be expected?

Seems like a good answer to me.

From kakuto at fsci.fuk.kindai.ac.jp  Sat Oct 16 01:18:37 2004
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Sat Oct 16 01:20:28 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: Your message of "Fri, 15 Oct 2004 18:09:41 +0200"
References: <9EE5BB74-1EC4-11D9-88D0-003065B3343E@rna.nl>
Message-ID: <200410152318.i9FNIdfM013338@jupiter.fsci.fuk.kindai.ac.jp>

> On Oct 15, 2004, at 17:19, Olaf Weber wrote:
> 
> > Gerben Wierda writes:
> >
> >> Can someone explain this to me?
> >
> > The output of
> >
> >     kpsewhich --progname=xetex --var-value=TEXINPUTS
> >     kpsewhich --progname=xetex --show-path=.tex
> >
> > may be of interest, esp. on the machine where the problem is seen.
> 
> $ kpsewhich --progname=xetex --var-value=TEXINPUTS
> .:{/Volumes/Data/Users/gerben/Library/texmf,!!/usr/local/teTeX/share/ 
> texmf.local,!!/usr/local/teTeX/share/texmf.gwtex,!!/usr/local/teTeX/ 
> share/texmf.tetex,!!/usr/local/teTeX/share/texmf}/tex/{xetex,generic,}/ 
> /
> 
> $ kpsewhich --progname=xetex --show-path=.tex
> .:/Volumes/Data/Users/gerben/Library/texmf/tex/xetex//:!!/usr/local/ 
> teTeX/share/texmf.local/tex/xetex//:!!/usr/local/teTeX/share/ 
> texmf.gwtex/tex/xetex//:!!/usr/local/teTeX/share/texmf.tetex/tex/xetex/ 
> /:!!/usr/local/teTeX/share/texmf/tex/xetex//:/Volumes/Data/Users/ 
> gerben/Library/texmf/tex/generic//:!!/usr/local/teTeX/share/ 
> texmf.local/tex/generic//:!!/usr/local/teTeX/share/texmf.gwtex/tex/ 
> generic//:!!/usr/local/teTeX/share/texmf.tetex/tex/generic//:!!/usr/ 
> local/teTeX/share/texmf/tex/generic//:/Volumes/Data/Users/gerben/ 
> Library/texmf/tex///:!!/usr/local/teTeX/share/texmf.local/tex///:!!/ 
> usr/local/teTeX/share/texmf.gwtex/tex///:!!/usr/local/teTeX/share/ 
> texmf.tetex/tex///:!!/usr/local/teTeX/share/texmf/tex///

The above shows that TEXINPUTS.xetex is not defined and the
default TEXINPUTS is used.
However, tex/generic/babel/hyphen.cfg should be found first
compared with tex/cslatex/hyphen.cfg, even in the above setting.

I suspect that xetex is based on the other Kpathsearch, because
the banner says Web2C 7.5.2:

This is XeTeX, Version 3.14159-2.1-0.871 (Web2C 7.5.2) (INITEX)
-- 
Akira Kakuto

From Gerben.Wierda at rna.nl  Sat Oct 16 01:44:22 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat Oct 16 01:46:09 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <200410152318.i9FNIdfM013338@jupiter.fsci.fuk.kindai.ac.jp>
References: <9EE5BB74-1EC4-11D9-88D0-003065B3343E@rna.nl>
	<200410152318.i9FNIdfM013338@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <23D54ED0-1F04-11D9-88D0-003065B3343E@rna.nl>

On Oct 16, 2004, at 01:18, Akira Kakuto wrote:

>> On Oct 15, 2004, at 17:19, Olaf Weber wrote:
>>
>>> Gerben Wierda writes:
>>>
>>>> Can someone explain this to me?
>>>
>>> The output of
>>>
>>>     kpsewhich --progname=xetex --var-value=TEXINPUTS
>>>     kpsewhich --progname=xetex --show-path=.tex
>>>
>>> may be of interest, esp. on the machine where the problem is seen.
>>
>> $ kpsewhich --progname=xetex --var-value=TEXINPUTS
>> .:{/Volumes/Data/Users/gerben/Library/texmf,!!/usr/local/teTeX/share/
>> texmf.local,!!/usr/local/teTeX/share/texmf.gwtex,!!/usr/local/teTeX/
>> share/texmf.tetex,!!/usr/local/teTeX/share/texmf}/tex/ 
>> {xetex,generic,}/
>> /
>>
>> $ kpsewhich --progname=xetex --show-path=.tex
>> .:/Volumes/Data/Users/gerben/Library/texmf/tex/xetex//:!!/usr/local/
>> teTeX/share/texmf.local/tex/xetex//:!!/usr/local/teTeX/share/
>> texmf.gwtex/tex/xetex//:!!/usr/local/teTeX/share/texmf.tetex/tex/ 
>> xetex/
>> /:!!/usr/local/teTeX/share/texmf/tex/xetex//:/Volumes/Data/Users/
>> gerben/Library/texmf/tex/generic//:!!/usr/local/teTeX/share/
>> texmf.local/tex/generic//:!!/usr/local/teTeX/share/texmf.gwtex/tex/
>> generic//:!!/usr/local/teTeX/share/texmf.tetex/tex/generic//:!!/usr/
>> local/teTeX/share/texmf/tex/generic//:/Volumes/Data/Users/gerben/
>> Library/texmf/tex///:!!/usr/local/teTeX/share/texmf.local/tex///:!!/
>> usr/local/teTeX/share/texmf.gwtex/tex///:!!/usr/local/teTeX/share/
>> texmf.tetex/tex///:!!/usr/local/teTeX/share/texmf/tex///
>
> The above shows that TEXINPUTS.xetex is not defined and the
> default TEXINPUTS is used.

Yes. I could fix it by adding XeTeX entries to texmf.cnf

I added them to texmf.in in Master and source.development (failed to do  
so in source because of conflicts)

> However, tex/generic/babel/hyphen.cfg should be found first
> compared with tex/cslatex/hyphen.cfg, even in the above setting.

Yes, that is weird.

G

From polyama at myrealbox.com  Sat Oct 16 06:10:32 2004
From: polyama at myrealbox.com (Maksym Polyakov)
Date: Sat Oct 16 06:12:16 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <20041007001012.GA21646@virginia.forestry.auburn.edu>
References: <200410052352.i95NqDs05983@tug.org>
	<20041007001012.GA21646@virginia.forestry.auburn.edu>
Message-ID: <20041016041032.GA10361@virginia.forestry.auburn.edu>

Hi, 

Installed from test-texlive2004-inst-20041015.iso on sparc-solaris with
sparc-solaris and win32 binaries. Under Windows:

-- tl90bzip2.dll (needed by windvi) was not installed again 
-- mktexfmt did not work as before, wanting mf-nowin
 

On Wed, Oct 06, 2004 at 07:10:12PM -0500, Maksym Polyakov (MP) wrote:

MP> Hi, Karl
MP> On Wed, Oct 06, 2004 at 01:52:13AM +0200, Karl Berry (KB) wrote:
MP> KB> Well, the inst binary with windows stuff included was within range
MP> KB> (634mb).  Can those of you who wanted it please try it and make
MP> sure it
MP> KB> works for you?
MP> I installed from the scratch on solaris, with win32 and spark-solaris
MP> binaries. Here are things I noticed so far:
MP> -- tl90bzip2.dll is missing (required by windvi)
MP> -- when running latex etc. first time, format file is not generated as
MP> on solaris, mktexfmt worked. However mktexfmt did not work for mf --
MP> did
MP> not find mf-nowin.
MP> -- windvi (after I added tl90bzip2.dll and generated mf.base) created
MP> ..pk files in current dir.
MP> -- 
MP> MP
MP> _______________________________________________
MP> TeX Live mailing list
MP> http://tug.org/mailman/listinfo/tex-live

-- 
Maksym Polyakov



From polyama at myrealbox.com  Sat Oct 16 06:11:06 2004
From: polyama at myrealbox.com (Maksym Polyakov)
Date: Sat Oct 16 06:12:47 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <20041009210238.3256DC58B@postfix3-2.free.fr>
References: <41684BA5.1010803@myrealbox.com>
	<20041009210238.3256DC58B@postfix3-2.free.fr>
Message-ID: <20041016041106.GB10361@virginia.forestry.auburn.edu>

Hi, Fabrice

On Sat, Oct 09, 2004 at 11:02:37PM +0200, Fabrice Popineau (FP) wrote:

FP> I have posted what I think is a fix. Please try it.

It works now. 


-- 
Maksym Polyakov



From Gerben.Wierda at rna.nl  Sat Oct 16 07:38:46 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat Oct 16 07:40:31 2004
Subject: [tex-live] TL2004 vs TL2003 change
Message-ID: <A5F1B626-1F35-11D9-88D0-003065B3343E@rna.nl>

One user reported:

Begin forwarded message:

> PS:  What was a bit unexpected was that the pagebreaks changed;  which 
> creates a bit of extra work for me, since I am in the final stages 
> with the biggie, and nicely accommodating 250 floats can be a pain.  I 
> am not complaining, am just surprised.

Should that have happened?

G

From dak at gnu.org  Sat Oct 16 09:42:24 2004
From: dak at gnu.org (David Kastrup)
Date: Sat Oct 16 09:44:08 2004
Subject: [tex-live] TL2004 vs TL2003 change
In-Reply-To: <A5F1B626-1F35-11D9-88D0-003065B3343E@rna.nl> (Gerben Wierda's
	message of "Sat, 16 Oct 2004 07:38:46 +0200")
References: <A5F1B626-1F35-11D9-88D0-003065B3343E@rna.nl>
Message-ID: <x5ekjzyuqn.fsf@lola.goethe.zz>

Gerben Wierda <Gerben.Wierda@rna.nl> writes:

> One user reported:
>
> Begin forwarded message:
>
>> PS:  What was a bit unexpected was that the pagebreaks changed;
>> which creates a bit of extra work for me, since I am in the final
>> stages with the biggie, and nicely accommodating 250 floats can be a
>> pain.  I am not complaining, am just surprised.
>
> Should that have happened?

Depends on what packages where used, and most importantly, whether the
OP used the -src-specials option.  In the latter case, all bets are
off: page breaks may change from version to version at their leasure,
and of course also when compared to without the option.

In TeXlive7, we even had indentation after chapter and section
headings.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From olaf at infovore.xs4all.nl  Sat Oct 16 12:41:06 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Sat Oct 16 12:42:51 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <200410152318.i9FNIdfM013338@jupiter.fsci.fuk.kindai.ac.jp> (Akira
	Kakuto's message of "Sat, 16 Oct 2004 08:18:37 +0900")
References: <9EE5BB74-1EC4-11D9-88D0-003065B3343E@rna.nl>
	<200410152318.i9FNIdfM013338@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <87y8i70wu5.fsf@infovore.xs4all.nl>

Akira Kakuto writes:

[...]

> The above shows that TEXINPUTS.xetex is not defined and the
> default TEXINPUTS is used.
> However, tex/generic/babel/hyphen.cfg should be found first
> compared with tex/cslatex/hyphen.cfg, even in the above setting.

Exactly.

> I suspect that xetex is based on the other Kpathsearch, because
> the banner says Web2C 7.5.2:

> This is XeTeX, Version 3.14159-2.1-0.871 (Web2C 7.5.2) (INITEX)

For this purpose, the kpathsea version should not make a differemce.

Gerben, are you able to reproduce this problem yourself?  In
particular, can you reproduce it with kpsewhich, like this?

   kpsewhich --progname=latex hyphen.cfg
   kpsewhich --progname=xelatex hyphen.cfg

Why is the xetex binary from Web2C 7.5.2, and etex from Web2C 7.5.3?

On 15 Oct 2004, at 10:50 am, Bruno Voisin wrote:
"  PS: Some technical details. With TL 2004, during creation of
"  pdfLaTeX you'll get:
" 
" running `etex -ini   -jobname=latex -progname=latex *latex.ini' ...
" This is pdfeTeX, Version 3.141592-1.20a-2.2 (Web2C 7.5.3) (INITEX)
" ...
" (/usr/local/teTeX/share/texmf.tetex/tex/generic/babel/hyphen.cfg
" ...
"
" On the other hand during creation of XeLaTeX you'll get:
"
" running `xetex -ini   -jobname=xelatex -progname=xelatex *xelatex.ini' ...
" This is XeTeX, Version 3.14159-2.1-0.871 (Web2C 7.5.2) (INITEX)
" ...
" (/usr/local/teTeX/share/texmf.tetex/tex/cslatex/hyphen.cfg
" ...

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From olaf at infovore.xs4all.nl  Sat Oct 16 12:44:23 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Sat Oct 16 12:46:19 2004
Subject: [tex-live] TL2004 vs TL2003 change
In-Reply-To: <x5ekjzyuqn.fsf@lola.goethe.zz> (David Kastrup's message of
	"Sat, 16 Oct 2004 09:42:24 +0200")
References: <A5F1B626-1F35-11D9-88D0-003065B3343E@rna.nl>
	<x5ekjzyuqn.fsf@lola.goethe.zz>
Message-ID: <87u0sv0woo.fsf@infovore.xs4all.nl>

David Kastrup writes:
> Gerben Wierda <Gerben.Wierda@rna.nl> writes:
>> One user reported:

>> Begin forwarded message:

>>> PS:  What was a bit unexpected was that the pagebreaks changed;
>>> which creates a bit of extra work for me, since I am in the final
>>> stages with the biggie, and nicely accommodating 250 floats can be a
>>> pain.  I am not complaining, am just surprised.

>> Should that have happened?

> Depends on what packages where used, and most importantly, whether the
> OP used the -src-specials option.  In the latter case, all bets are
> off: page breaks may change from version to version at their leasure,
> and of course also when compared to without the option.

> In TeXlive7, we even had indentation after chapter and section
> headings.

Or to put it differently, the -src-specials option is broken (affects
the layout in some cases).  Trying to fix it broke it in a different
and worse way, so those changes were backed out.  But it is still
broken, and it looks like it would require major surgery to tex to do
a comprehensive fix.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From vvv at vsu.ru  Sat Oct 16 13:33:58 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Sat Oct 16 13:35:42 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <87y8i70wu5.fsf@infovore.xs4all.nl> (Olaf Weber's message of
	"Sat, 16 Oct 2004 12:41:06 +0200")
References: <9EE5BB74-1EC4-11D9-88D0-003065B3343E@rna.nl>
	<200410152318.i9FNIdfM013338@jupiter.fsci.fuk.kindai.ac.jp>
	<87y8i70wu5.fsf@infovore.xs4all.nl>
Message-ID: <m3ekjyrj6h.fsf@vvv.vsu.ru>

Hi!

"OW" == Olaf Weber writes:

 >> This is XeTeX, Version 3.14159-2.1-0.871 (Web2C 7.5.2) (INITEX)

I didn't hear about the XeTeX before, and found it's website via
google, and read the follwing license statement at
http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&item_id=xetex_download

================================
XeTeX license

XeTeX is copyright .AN)1994-2004 by SIL International.

This software is copyright by SIL International. However, in the
spirit of academic community, we do grant users of the software the
right to share it freely with their colleagues, provided this is not
done for commercial gain. The software distributed in this way may
represent work in progress, and bears no warranty, either expressed or
implied.

This program is derived from e-TeX, by the NTS team; e-TeX in turn is
derived from Donald E. Knuth$B!G(Bs TeX.

TeX is a trademark of the American Mathematical Society. e-TeX is a
trademark of the NTS Group.
================================

I wonder, is it allowed to distribute GPL'ed components (XeTeX links
with kpathsea, and uses Web2C's files) with such clearly non-free
license?

Best,
v.

From dak at gnu.org  Sat Oct 16 14:43:18 2004
From: dak at gnu.org (David Kastrup)
Date: Sat Oct 16 14:45:02 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <m3ekjyrj6h.fsf@vvv.vsu.ru> (Vladimir Volovich's message of
	"Sat, 16 Oct 2004 15:33:58 +0400")
References: <9EE5BB74-1EC4-11D9-88D0-003065B3343E@rna.nl>
	<200410152318.i9FNIdfM013338@jupiter.fsci.fuk.kindai.ac.jp>
	<87y8i70wu5.fsf@infovore.xs4all.nl> <m3ekjyrj6h.fsf@vvv.vsu.ru>
Message-ID: <x5is9ax28p.fsf@lola.goethe.zz>

Vladimir Volovich <vvv@vsu.ru> writes:

> "OW" == Olaf Weber writes:
>
>  >> This is XeTeX, Version 3.14159-2.1-0.871 (Web2C 7.5.2) (INITEX)
>
> I didn't hear about the XeTeX before, and found it's website via
> google, and read the follwing license statement at
> http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&item_id=xetex_download
>
> ================================
> XeTeX license
>
> XeTeX is copyright ?1994-2004 by SIL International.

No other copyrights?  Sounds like an omission here.

> This software is copyright by SIL International. However, in the
> spirit of academic community, we do grant users of the software the
> right to share it freely with their colleagues, provided this is not
> done for commercial gain. The software distributed in this way may
> represent work in progress, and bears no warranty, either expressed or
> implied.

[...]

> I wonder, is it allowed to distribute GPL'ed components (XeTeX links
> with kpathsea, and uses Web2C's files) with such clearly non-free
> license?

The GPL would have this to say:

      4. You may not copy, modify, sublicense, or distribute the
    Program except as expressly provided under this License.  Any
    attempt otherwise to copy, modify, sublicense or distribute the
    Program is void, and will automatically terminate your rights
    under this License.  However, parties who have received copies, or
    rights, from you under this License will not have their licenses
    terminated so long as such parties remain in full compliance.

      5. You are not required to accept this License, since you have
    not signed it.  However, nothing else grants you permission to
    modify or distribute the Program or its derivative works.  These
    actions are prohibited by law if you do not accept this License.
    Therefore, by modifying or distributing the Program (or any work
    based on the Program), you indicate your acceptance of this
    License to do so, and all its terms and conditions for copying,
    distributing or modifying the Program or works based on it.

      6. Each time you redistribute the Program (or any work based on
    the Program), the recipient automatically receives a license from
    the original licensor to copy, distribute or modify the Program
    subject to these terms and conditions.  You may not impose any
    further restrictions on the recipients' exercise of the rights
    granted herein.  You are not responsible for enforcing compliance
    by third parties to this License.

      7. If, as a consequence of a court judgment or allegation of
    patent infringement or for any other reason (not limited to patent
    issues), conditions are imposed on you (whether by court order,
    agreement or otherwise) that contradict the conditions of this
    License, they do not excuse you from the conditions of this
    License.  If you cannot distribute so as to satisfy simultaneously
    your obligations under this License and any other pertinent
    obligations, then as a consequence you may not distribute the
    Program at all.  For example, if a patent license would not permit
    royalty-free redistribution of the Program by all those who
    receive copies directly or indirectly through you, then the only
    way you could satisfy both it and this License would be to refrain
    entirely from distribution of the Program.


However, neither web2c nor kpathsea are licensed under the GPL.  The
web2c manual has this to say:

    File: web2c.info,  Node: Legalisms,  Next: References,  Prev: Font utilities,  Up: Top

    Legalisms
    *********

      In general, each file has its own copyright notice stating the copying
    permissions for that file.  Following is a summary.

      The Web2c system itself and most of the original WEB source files are
    public domain.

      `tex.web', the MLTeX code, `mf.web', and `bibtex.web', are
    copyrighted by their authors.  They may be copied verbatim, but may be
    modified only through a `.ch' file.

      MetaPost-related files, including `mp.web' itself, are copyrighted
    under X-like terms; the precise notice is included below.

      Finally, almost all of the Kpathsea library is covered by the GNU
    Library General Public License, but part of one file is covered by the
    regular GNU General Public License (*note Introduction:
    (kpathsea)Introduction.).  Therefore, the _binaries_ resulting from a
    standard Web2c compilation are also covered by the GPL; so if you
    (re)distribute the binaries, you must also (offer to) distribute the
    complete source that went into those binaries.  See the files `COPYING'
    and `COPYING.LIB' for complete details on the GPL and LGPL.


In contrast to that statement, the introduction to kpathsea for
TeXlive2003 states without exception:

      We distribute the library under the GNU Library General Public
    License (LGPL).  In short, this means if you write a program using
    the library, you must (offer to) distribute the source to the
    library, along with any changes you have made, and allow anyone to
    modify the library source and distribute their modifications.  It
    does not mean you have to distribute the source to your program,
    although we hope you will.  See the files `COPYING' and
    `COPYING.LIB' for the text of the GNU licenses.


So unless this passage has changed since TeXlive2003, I don't see how
XeTeX would be forced to come under the GPL.  Either case, either the
web2c introduction should be amended to remove the wrong statement
about kpathsea, or the kpathsea introduction should be changed to
mention the alluded file.  Perhaps this has happened since then.

However, I think that whether or not distributing XeTeX would be
impacted by the GPL, the TeXlive policies would clearly disallow
including nosell software like that.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From karl at freefriends.org  Sat Oct 16 15:42:39 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Oct 16 15:44:53 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <m3ekjyrj6h.fsf@vvv.vsu.ru>
Message-ID: <200410161342.i9GDgdI23660@f7.net>

    I didn't hear about the XeTeX before, and found it's website via
    google, and read the follwing license statement at

As David says, the license is technically ok.

However, I'd like to ask anyone who cares to write to Jonathan and
encourage him to release xetex under some free license, such as the GPL,
so the user groups can distribute it on TL wherever.  As it stands, we
cannot even include it on the DVD, where we put other
useful-but-non-DFSG-free stuff (such as Utopia), since we are doing that
for "commercial gain".

k

From Gerben.Wierda at rna.nl  Sat Oct 16 15:52:10 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat Oct 16 15:53:53 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <87y8i70wu5.fsf@infovore.xs4all.nl>
References: <9EE5BB74-1EC4-11D9-88D0-003065B3343E@rna.nl>
	<200410152318.i9FNIdfM013338@jupiter.fsci.fuk.kindai.ac.jp>
	<87y8i70wu5.fsf@infovore.xs4all.nl>
Message-ID: <933A6C5D-1F7A-11D9-88D0-003065B3343E@rna.nl>

On Oct 16, 2004, at 12:41, Olaf Weber wrote:

> Akira Kakuto writes:
>
> [...]
>
>> The above shows that TEXINPUTS.xetex is not defined and the
>> default TEXINPUTS is used.
>> However, tex/generic/babel/hyphen.cfg should be found first
>> compared with tex/cslatex/hyphen.cfg, even in the above setting.
>
> Exactly.
>
>> I suspect that xetex is based on the other Kpathsearch, because
>> the banner says Web2C 7.5.2:
>
>> This is XeTeX, Version 3.14159-2.1-0.871 (Web2C 7.5.2) (INITEX)
>
> For this purpose, the kpathsea version should not make a differemce.
>
> Gerben, are you able to reproduce this problem yourself?  In
> particular, can you reproduce it with kpsewhich, like this?

Yes, I could, but not with kpsewhich

>
>    kpsewhich --progname=latex hyphen.cfg
>    kpsewhich --progname=xelatex hyphen.cfg


fonttext.cfg in this case. kpsewhich no problem:

hedwig:~ gerben$ kpsewhich --progname=xelatex fonttext.cfg
/usr/local/teTeX/share/texmf.tetex/tex/generic/config/fonttext.cfg
hedwig:~ gerben$ kpsewhich --progname=latex fonttext.cfg
/usr/local/teTeX/share/texmf.tetex/tex/generic/config/fonttext.cfg

xetex, problem:

running `xetex -ini   -jobname=xelatex -progname=xelatex *xelatex.ini' 
...
This is XeTeX, Version 3.14159-2.1-0.88 (Web2C 7.5.2) (INITEX)
entering extended mode
(/usr/local/teTeX/share/texmf.local/tex/xetex/xelatex.ini
(/usr/local/teTeX/share/texmf.local/tex/xetex/xplain.tex)
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/latex.ltx
(/usr/local/teTeX/share/texmf.tetex/tex/latex/base/texsys.cfg)
./texsys.aux found


\@currdir set to: ./.


Assuming \openin and \input
have the same search path.


Defining UNIX/DOS style filename parser.

catcodes, registers, compatibility for TeX 2,  parameters,
LaTeX2e <2003/12/01>
hacks, control, par, spacing, files, font encodings, lengths,
====================================

Local config file fonttext.cfg used

====================================
(/usr/local/teTeX/share/texmf.tetex/tex/cslatex/fonttext.cfg

I tried using the kpsewhich from TL2003:

hedwig:~ gerben$ sudo cp 
/usr/local/Build/TeXLive/bin/powerpc-apple-darwin-current/kpsewhich 
/usr/local/teTeX/bin/powerpc-apple-darwin-current/kpsewhich.752
Password:
hedwig:~ gerben$ kpsewhich.752 --progname=xelatex fonttext.cfg
/usr/local/teTeX/share/texmf.tetex/tex/generic/config/fonttext.cfg

again, no problem.

Note, the TEXINPUTS.xetex variable fixes the problem. But it remains 
weird.

G

> Why is the xetex binary from Web2C 7.5.2, and etex from Web2C 7.5.3?
>
> On 15 Oct 2004, at 10:50 am, Bruno Voisin wrote:
> "  PS: Some technical details. With TL 2004, during creation of
> "  pdfLaTeX you'll get:
> "
> " running `etex -ini   -jobname=latex -progname=latex *latex.ini' ...
> " This is pdfeTeX, Version 3.141592-1.20a-2.2 (Web2C 7.5.3) (INITEX)
> " ...
> " (/usr/local/teTeX/share/texmf.tetex/tex/generic/babel/hyphen.cfg
> " ...
> "
> " On the other hand during creation of XeLaTeX you'll get:
> "
> " running `xetex -ini   -jobname=xelatex -progname=xelatex 
> *xelatex.ini' ...
> " This is XeTeX, Version 3.14159-2.1-0.871 (Web2C 7.5.2) (INITEX)
> " ...
> " (/usr/local/teTeX/share/texmf.tetex/tex/cslatex/hyphen.cfg
> " ...
>
> -- 
> Olaf Weber
>
>                (This space left blank for technical reasons.)
>
> _______________________________________________
> TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live
>

From Gerben.Wierda at rna.nl  Sat Oct 16 15:54:14 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sat Oct 16 15:55:57 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <200410161342.i9GDgdI23660@f7.net>
References: <200410161342.i9GDgdI23660@f7.net>
Message-ID: <DD6F69B8-1F7A-11D9-88D0-003065B3343E@rna.nl>

Jonathan is already aware of this, is also committed (as far as I know) 
to providing this, but cannot act on his own accord and is comitted 
first to providing something working I guess. Probably he will even 
have problems continuing to finish the work if he adds the legalese 
first (my guess)

Gerben

On Oct 16, 2004, at 15:42, Karl Berry wrote:

>     I didn't hear about the XeTeX before, and found it's website via
>     google, and read the follwing license statement at
>
> As David says, the license is technically ok.
>
> However, I'd like to ask anyone who cares to write to Jonathan and
> encourage him to release xetex under some free license, such as the 
> GPL,
> so the user groups can distribute it on TL wherever.  As it stands, we
> cannot even include it on the DVD, where we put other
> useful-but-non-DFSG-free stuff (such as Utopia), since we are doing 
> that
> for "commercial gain".
>
> k
>
> _______________________________________________
> TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live
>

From preining at logic.at  Sat Oct 16 17:15:03 2004
From: preining at logic.at (Norbert Preining)
Date: Sat Oct 16 17:16:46 2004
Subject: [tex-live] question concerning env variables of texmf.cnf
Message-ID: <20041016151503.GB2299@gamma.logic.tuwien.ac.at>

Hi friends!

I vaguely remember that it was possible to set
	TEXMF=foobar:
in my environment and due to the final : the `real' search path was the
one from kpsewhich texmf.cnf with foobar prefixed.

Did this change at some time?

Reason: I want to add another texmf tree for my private use, but it
should *not* be the ~/texmf, but one more. My idea was to set
	TEXMF=~/texmf-fc:
and get in total all the usual search path combined with the above
prefixed.

Is there another way to achieve this without setting all the variables
by hand?

Thanks a lot and all the best

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
AFFCOT (n.)
The sort of fart you hope people will talk after.
			--- Douglas Adams, The Meaning of Liff

From te at dbs.uni-hannover.de  Sat Oct 16 17:29:24 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Oct 16 17:31:11 2004
Subject: [tex-live] ptexmac.h out of sync?
Message-ID: <20041016152924.GB28053@dbs.uni-hannover.de>

The copies in /t/texlive/Build/source.development/TeX/texk/*dvipsk
look suspicious...

te@gauss:~> find /t/texlive/Build/source.development/TeX/ /t/src/tetex-src -name ptexmac.h | xargs md5sum
e7ab5dbee92e531d4bf854823d63b887  /t/texlive/Build/source.development/TeX/texk/dvipsk/ptexmac.h
e7ab5dbee92e531d4bf854823d63b887  /t/texlive/Build/source.development/TeX/texk/odvipsk/ptexmac.h
dc81f4c81efb748833eb50da6839f5e4  /t/texlive/Build/source.development/TeX/texk/web2c/pdftexdir/ptexmac.h
dc81f4c81efb748833eb50da6839f5e4  /t/src/tetex-src/texk/web2c/pdftexdir/ptexmac.h
dc81f4c81efb748833eb50da6839f5e4  /t/src/tetex-src/texk/dvipsk/ptexmac.h
dc81f4c81efb748833eb50da6839f5e4  /t/src/tetex-src/texk/odvipsk/ptexmac.h

Thomas

From te at dbs.uni-hannover.de  Sat Oct 16 17:39:45 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Oct 16 17:41:32 2004
Subject: [tex-live] question concerning env variables of texmf.cnf
In-Reply-To: <20041016151503.GB2299@gamma.logic.tuwien.ac.at>
References: <20041016151503.GB2299@gamma.logic.tuwien.ac.at>
Message-ID: <20041016153945.GC28053@dbs.uni-hannover.de>

> 	TEXMF=foobar:

This works for variables that are directly associated with a search
path, such as $TEXINPUTS. $TEXMF is just a stupid variable without real
kpathsea magic. Ot with other words, kpathsea does not know the concept
of texmf trees.

You can use brace expansion, as in:
  TEXMF="{~/texmf-fc,`kpsewhich -var-value=TEXMF`}"; export TEXMF

Thomas

From preining at logic.at  Sat Oct 16 17:49:16 2004
From: preining at logic.at (Norbert Preining)
Date: Sat Oct 16 17:50:57 2004
Subject: [tex-live] question concerning env variables of texmf.cnf
In-Reply-To: <20041016153945.GC28053@dbs.uni-hannover.de>
References: <20041016151503.GB2299@gamma.logic.tuwien.ac.at>
	<20041016153945.GC28053@dbs.uni-hannover.de>
Message-ID: <20041016154916.GA29554@gamma.logic.tuwien.ac.at>

On Sam, 16 Okt 2004, Thomas Esser wrote:
> You can use brace expansion, as in:
>   TEXMF="{~/texmf-fc,`kpsewhich -var-value=TEXMF`}"; export TEXMF

Great, thanks, this did work.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
"Yes, it's the right planet, all right," he said again.
"Right planet, wrong universe."
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From karl at freefriends.org  Sat Oct 16 18:17:38 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Oct 16 18:19:25 2004
Subject: [tex-live] ptexmac.h out of sync?
In-Reply-To: <20041016152924.GB28053@dbs.uni-hannover.de>
Message-ID: <200410161617.i9GGHcQ25239@f7.net>

    The copies in /t/texlive/Build/source.development/TeX/texk/*dvipsk
    look suspicious...

Non-functional difference:
<     if (pdfbufsize - n < 0)                             \
---
>     if (pdfbufsize < n)                                 \

So no recompile needed.  I did check in the version from pdftexdir,
though, to both source and source.development.

Thanks,
karl

From te at dbs.uni-hannover.de  Sat Oct 16 18:28:18 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Oct 16 18:30:05 2004
Subject: [tex-live] ptexmac.h out of sync?
In-Reply-To: <200410161617.i9GGHcQ25239@f7.net>
References: <20041016152924.GB28053@dbs.uni-hannover.de>
	<200410161617.i9GGHcQ25239@f7.net>
Message-ID: <20041016162818.GG28053@dbs.uni-hannover.de>

> Non-functional difference:

Hm...

p4 describe 5444

Thomas

From karl at freefriends.org  Sat Oct 16 18:38:40 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Oct 16 18:40:29 2004
Subject: [tex-live] ptexmac.h out of sync?
In-Reply-To: <20041016162818.GG28053@dbs.uni-hannover.de>
Message-ID: <200410161638.i9GGceE30386@f7.net>

    > Non-functional difference:
    Hm...
    p4 describe 5444

Which results in:
> pdftex: fix bug in png inclusion with long lines (patch to ptexmac.h)

Well, maybe some of the variables are unsigned.  In that case, I guess
x-y<0 may not be equivalent to x<y, although I can't say I'm sure about
that.  Can't imagine when else it would be different.

However, I don't think it matters.  dvips is never going to include .png
files anyway, afaik.  Furthermore, it only uses ptexmac.h in writet1.c.
I don't feel like checking exhaustively, but at a glance none of the
macros using pdfbufsize (the macro that changed) are used in writet1.c.

Wdyt?

From te at dbs.uni-hannover.de  Sat Oct 16 18:40:20 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Oct 16 18:42:12 2004
Subject: [tex-live] jadetex compatibility with TL2003
In-Reply-To: <0ED4070E-1ED4-11D9-88D0-003065B3343E@rna.nl>
References: <0ED4070E-1ED4-11D9-88D0-003065B3343E@rna.nl>
Message-ID: <20041016164020.GH28053@dbs.uni-hannover.de>

> I was thinking about adding an empty pdftexconfig.tex somewhere in the 
> TL2003 setup. This works. Any bad effects to be expected?

Why use an empty file instead of the real one? Setting 
  \pdfoutput=1
  \pdfpagewidth=210 true mm
  \pdfpageheight=297 true mm
  \pdfpkresolution=600
should't do any harm even on older vesions of pdftex ...

Different versions of the same file can cause trouble / confusion...

Thomas

From te at dbs.uni-hannover.de  Sat Oct 16 18:44:30 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sat Oct 16 18:46:16 2004
Subject: [tex-live] ptexmac.h out of sync?
In-Reply-To: <200410161638.i9GGceE30386@f7.net>
References: <20041016162818.GG28053@dbs.uni-hannover.de>
	<200410161638.i9GGceE30386@f7.net>
Message-ID: <20041016164430.GI28053@dbs.uni-hannover.de>

> However, I don't think it matters.  dvips is never going to include .png

Ok, I agree that is does not matter (for dvips; the answer for pdftex
would be different, I think).

Thanks for checking,

Thomas

From dak at gnu.org  Sat Oct 16 18:49:15 2004
From: dak at gnu.org (David Kastrup)
Date: Sat Oct 16 18:50:58 2004
Subject: [tex-live] ptexmac.h out of sync?
In-Reply-To: <200410161617.i9GGHcQ25239@f7.net> (Karl Berry's message of
	"Sat, 16 Oct 2004 12:17:38 -0400")
References: <200410161617.i9GGHcQ25239@f7.net>
Message-ID: <x5u0sutxpw.fsf@lola.goethe.zz>

karl@freefriends.org (Karl Berry) writes:

>     The copies in /t/texlive/Build/source.development/TeX/texk/*dvipsk
>     look suspicious...
>
> Non-functional difference:
> <     if (pdfbufsize - n < 0)                             \
> ---
>>     if (pdfbufsize < n)                                 \

That's not non-functional per se.

<URL:http://www.ntg.nl/pipermail/ntg-pdftex/2004-July/000592.html>

If either n or pdfbufsize is of an unsigned type, pdfbufsize-n < 0 is
always false.  Even if both are of a signed type, the expressions are
only equivalent as long as both variables actually have the same sign.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From vvv at vsu.ru  Sat Oct 16 19:28:42 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Sat Oct 16 19:31:06 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <x5is9ax28p.fsf@lola.goethe.zz> (David Kastrup's message of "Sat, 
	16 Oct 2004 14:43:18 +0200")
References: <9EE5BB74-1EC4-11D9-88D0-003065B3343E@rna.nl>
	<200410152318.i9FNIdfM013338@jupiter.fsci.fuk.kindai.ac.jp>
	<87y8i70wu5.fsf@infovore.xs4all.nl> <m3ekjyrj6h.fsf@vvv.vsu.ru>
	<x5is9ax28p.fsf@lola.goethe.zz>
Message-ID: <m3acumr2r9.fsf@vvv.vsu.ru>

"DK" == David Kastrup writes:

 DK> However, neither web2c nor kpathsea are licensed under the GPL.
 DK> The web2c manual has this to say:

 DK> So unless this passage has changed since TeXlive2003, I don't see
 DK> how XeTeX would be forced to come under the GPL.  Either case,
 DK> either the web2c introduction should be amended to remove the
 DK> wrong statement about kpathsea, or the kpathsea introduction
 DK> should be changed to mention the alluded file.  Perhaps this has
 DK> happened since then.

I've read the following in the README file in source/TeX/texk/web2c
directory:

==================
Web2c is free software.  The files I wrote (originally for the Free
Software Foundation) are covered by the GNU General Public License --
see the files COPYING*.  Knuth's original sources are covered by their
own copyright -- see the beginning of tex.web, mf.web, etc.  You can get
the original files on their own from CTAN:/systems/knuth; you can get
MetaPost from ftp://netlib.att.com/netlib/research/metapost.tar.Z
(see also http://cm.bell-labs.com/who/hobby/MetaPost.html).
==================

Also, tex --version says:

TeX 3.141592 (Web2C 7.5.3)
kpathsea version 3.5.3
Copyright (C) 1997-2004 D.E. Knuth.
Kpathsea is copyright (C) 1997-2004 Free Software Foundation, Inc.
There is NO warranty.  Redistribution of this software is
covered by the terms of both the TeX copyright and
the GNU General Public License.
For more information about these matters, see the files
named COPYING and the TeX source.
Primary author of TeX: D.E. Knuth.
Kpathsea written by Karl Berry and others.

Nowhere i see the LGPL here. So, it is very well possible that XeTeX
is violating the GPL.

Best,
v.

From karl at freefriends.org  Sat Oct 16 20:04:53 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Oct 16 20:07:05 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <m3acumr2r9.fsf@vvv.vsu.ru>
Message-ID: <200410161804.i9GI4rv18445@f7.net>

    Web2c is free software.  The files I wrote (originally for the Free
    Software Foundation) are covered by the GNU General Public License --

I guess I forgot to update that README.  I made almost all of Kpathsea
LGPL at one point, and Olaf rewrote the brace-expansion code to finish
it off.  

    Kpathsea is copyright (C) 1997-2004 Free Software Foundation, Inc.

That's wrong.

    covered by the terms of both the TeX copyright and
    the GNU General Public License.

That's wrong too.

The simplest version message would probably be something like:

  TeX 3.141592 (Web2C 7.5.3)
  kpathsea version 3.5.3
  Copyright (C) 1978-2004 D.E. Knuth.  [[Why did this start in 97?]]
  This is free software; see the source for copying conditions.
  There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A
  PARTICULAR PURPOSE.

This is the same text as cp --version.

But they've been wrong for 10 years or more.  Please, let's not force
ourselves to do another rebuild just to fix the damn version message.
Next year is soon enough.  Technically, the version message has no legal
relevance, it's just informational.

(BTW, Vladimir, if you want to rebuild powerpc-aix and sparc64-linux
again to get peb's e-tex fix, now would be a good time. :)

    So, it is very well possible that XeTeX is violating the GPL.

No, it isn't in violation, and that is good.

Thanks,
k

From karl at freefriends.org  Sat Oct 16 20:23:55 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Oct 16 20:25:37 2004
Subject: [tex-live] unix/windows inst, binaries
In-Reply-To: <20041016041032.GA10361@virginia.forestry.auburn.edu>
Message-ID: <200410161823.i9GINtM22840@f7.net>

    -- tl90bzip2.dll (needed by windvi) was not installed again 

I just tried specifying the basic scheme (s a), and just the w32
binaries, and I got tl090bzip2.dll installed in bin/win32.

Please tell me the exact sequence you are giving to the install script.


BTW, Maksym, if you could rebuild sparc-solaris now, to get the pdfetex
fix, that would be excellent.

Thanks,
karl

From jonathan_kew at sil.org  Sat Oct 16 19:28:39 2004
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Sat Oct 16 20:30:35 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <933A6C5D-1F7A-11D9-88D0-003065B3343E@rna.nl>
References: <9EE5BB74-1EC4-11D9-88D0-003065B3343E@rna.nl>
	<200410152318.i9FNIdfM013338@jupiter.fsci.fuk.kindai.ac.jp>
	<87y8i70wu5.fsf@infovore.xs4all.nl>
	<933A6C5D-1F7A-11D9-88D0-003065B3343E@rna.nl>
Message-ID: <D1605901-1F98-11D9-A7EF-000393BD674C@sil.org>

On 16 Oct 2004, at 2:52 pm, Gerben Wierda wrote:

> On Oct 16, 2004, at 12:41, Olaf Weber wrote:
>
>> Akira Kakuto writes:
>>
>> [...]
>>
>>> The above shows that TEXINPUTS.xetex is not defined and the
>>> default TEXINPUTS is used.
>>> However, tex/generic/babel/hyphen.cfg should be found first
>>> compared with tex/cslatex/hyphen.cfg, even in the above setting.
>>
>> Exactly.
>>
>>> I suspect that xetex is based on the other Kpathsearch, because
>>> the banner says Web2C 7.5.2:
>>
>>> This is XeTeX, Version 3.14159-2.1-0.871 (Web2C 7.5.2) (INITEX)
>>
>> For this purpose, the kpathsea version should not make a differemce.

It seems that it does. I installed a TL2004 setup, and confirmed that 
kpsewhich finds babel/hyphen.cfg using either the program-specific 
TEXINPUTS or the default:

Kew-PowerBookG4:~ jonathan$ kpsewhich --progname latex hyphen.cfg
/usr/local/teTeX/share/texmf.tetex/tex/generic/babel/hyphen.cfg
Kew-PowerBookG4:~ jonathan$ kpsewhich --progname cslatex hyphen.cfg
/usr/local/teTeX/share/texmf.tetex/tex/cslatex/hyphen.cfg
Kew-PowerBookG4:~ jonathan$ kpsewhich hyphen.cfg
/usr/local/teTeX/share/texmf.tetex/tex/generic/babel/hyphen.cfg

However, when I run an older kpsewhich (not sure of the precise Web2C 
version it's from; it's a year or so old) with the TL2004 texmf tree, I 
get different results:

Kew-PowerBookG4:~ jonathan$ kpsewhich-old --progname latex hyphen.cfg
/usr/local/teTeX/share/texmf.tetex/tex/generic/babel/hyphen.cfg
Kew-PowerBookG4:~ jonathan$ kpsewhich-old --progname cslatex hyphen.cfg
/usr/local/teTeX/share/texmf.tetex/tex/cslatex/hyphen.cfg
Kew-PowerBookG4:~ jonathan$ kpsewhich-old hyphen.cfg
/usr/local/teTeX/share/texmf.tetex/tex/cslatex/hyphen.cfg   <<-- here's 
the problem case

So it appears that the behavior of kpathsearch has changed along the 
way.

An immediate fix for the XeTeX problem with TL2004, as Gerben has 
already established, is to add TEXINPUTS.xetex and TEXINPUTS.xelatex 
entries to the configuration. In any case, I'll update the Web2C 
version used for XeTeX sometime soon, to bring it into line with the 
rest of the tools.

Jonathan

From vvv at vsu.ru  Sat Oct 16 20:41:28 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Sat Oct 16 20:43:37 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <200410161804.i9GI4rv18445@f7.net> (Karl Berry's message of "Sat, 
	16 Oct 2004 14:04:53 -0400")
References: <200410161804.i9GI4rv18445@f7.net>
Message-ID: <m3zn2mpktj.fsf@vvv.vsu.ru>

"KB" == Karl Berry writes:

 KB> I guess I forgot to update that README.  I made almost all of
 KB> Kpathsea LGPL at one point, and Olaf rewrote the brace-expansion
 KB> code to finish it off.

grep 'GNU General Public License' *
in the kpathsea directory shows quite a few files...

So XeTeX does violate the GPL.

Best,
v.

From vvv at vsu.ru  Sat Oct 16 20:47:18 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Sat Oct 16 20:49:37 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <200410161804.i9GI4rv18445@f7.net> (Karl Berry's message of "Sat, 
	16 Oct 2004 14:04:53 -0400")
References: <200410161804.i9GI4rv18445@f7.net>
Message-ID: <m3y8i6pkjt.fsf@vvv.vsu.ru>

"KB" == Karl Berry writes:

 KB> I guess I forgot to update that README.  I made almost all of
 KB> Kpathsea LGPL at one point, and Olaf rewrote the brace-expansion
 KB> code to finish it off.

> grep 'GNU General Public License' *
> in the kpathsea directory shows quite a few files...

> So XeTeX does violate the GPL.

well, maybe not since most of these files are not in the kpathsea
library but in executables like kpsecheck.

But the license texts need to be looked at, and fixed, to match
whatever is correct.

And what about Web2C: does it introduce some GPL code into the
executable built with Web2C?

Best,
v.

From karl at freefriends.org  Sat Oct 16 20:55:21 2004
From: karl at freefriends.org (Karl Berry)
Date: Sat Oct 16 20:57:34 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <m3zn2mpktj.fsf@vvv.vsu.ru>
Message-ID: <200410161855.i9GItLC30184@f7.net>

    grep 'GNU General Public License' *
    in the kpathsea directory shows quite a few files...

Right, as you said in your followup, most of them are standalone
binaries, not part of the library.  So they aren't linked into xetex.

The two that may be part of the library are tex-hush and xgetcwd.
Whether those functions are actually linked to xetex, I don't know --
it's quite possible they aren't.  They should be changed to the LGPL.  I
wrote them, and I hereby declare that to be the case.

    And what about Web2C: does it introduce some GPL code into the
    executable built with Web2C?

Not to my knowledge.  If it does, it's a mistake.

Vladimir, why are you looking for trouble like this :)?

If you want to find technical legal problems, there are plenty of them
around.  But aren't there better things to spend time on?

k

From vvv at vsu.ru  Sat Oct 16 21:22:39 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Sat Oct 16 21:25:06 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <200410161804.i9GI4rv18445@f7.net> (Karl Berry's message of "Sat, 
	16 Oct 2004 14:04:53 -0400")
References: <200410161804.i9GI4rv18445@f7.net>
Message-ID: <m3u0supiww.fsf@vvv.vsu.ru>

"KB" == Karl Berry writes:

 KB> (BTW, Vladimir, if you want to rebuild powerpc-aix and
 KB> sparc64-linux again to get peb's e-tex fix, now would be a good
 KB> time. :)

i've submitted new powerpc aix and sparc linux binaries...

Best,
v.

From vvv at vsu.ru  Sat Oct 16 21:28:12 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Sat Oct 16 21:31:00 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <200410161855.i9GItLC30184@f7.net> (Karl Berry's message of "Sat, 
	16 Oct 2004 14:55:21 -0400")
References: <200410161855.i9GItLC30184@f7.net>
Message-ID: <m3pt3ipinn.fsf@vvv.vsu.ru>

"KB" == Karl Berry writes:

 KB> Vladimir, why are you looking for trouble like this :)?

 KB> If you want to find technical legal problems, there are plenty of
 KB> them around.  But aren't there better things to spend time on?

I'm not looking for technical legal problems, i just wanted more
software to be under GPL. :-)

It's a pity that apparently the messages that announce the GPL as a
license for parts of TeX and/or Web2C and/or kpathsea may appear to be
false.

Best,
v.

From kakuto at fsci.fuk.kindai.ac.jp  Sun Oct 17 02:52:49 2004
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun Oct 17 02:54:44 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: Your message of "Sat, 16 Oct 2004 18:28:39 +0100"
References: <D1605901-1F98-11D9-A7EF-000393BD674C@sil.org>
Message-ID: <200410170052.i9H0qpSk019948@jupiter.fsci.fuk.kindai.ac.jp>

Jonathan wrote:
> Kew-PowerBookG4:~ jonathan$ kpsewhich-old hyphen.cfg
> /usr/local/teTeX/share/texmf.tetex/tex/cslatex/hyphen.cfg   <<-- here's 
> the problem case

Then the output of

    kpsewhich-old --var-value=TEXINPUTS
    kpsewhich-old --show-path=.tex

may be of interest.

-- 
Akira Kakuto

From kakuto at fsci.fuk.kindai.ac.jp  Sun Oct 17 03:02:38 2004
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Sun Oct 17 03:04:29 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: Your message of "Sat, 16 Oct 2004 18:28:39 +0100"
References: <D1605901-1F98-11D9-A7EF-000393BD674C@sil.org>
Message-ID: <200410170102.i9H12dr9019977@jupiter.fsci.fuk.kindai.ac.jp>

> >>> I suspect that xetex is based on the other Kpathsearch, because
> >>> the banner says Web2C 7.5.2:
> >>
> >>> This is XeTeX, Version 3.14159-2.1-0.871 (Web2C 7.5.2) (INITEX)
> >>
> >> For this purpose, the kpathsea version should not make a differemce.
> 
> It seems that it does. I installed a TL2004 setup, and confirmed that 
> kpsewhich finds babel/hyphen.cfg using either the program-specific 
> TEXINPUTS or the default:

Probably I've found a reason.
In the old version, "progname" is not defined. Thus
TEXINPUTS = .;$TEXMF/tex/{$progname,generic,}//
is the same as
TEXINPUTS = .;$TEXMF/tex/{,generic,}//        % :-)

-- 
Akira Kakuto

From jonathan_kew at sil.org  Sun Oct 17 10:27:59 2004
From: jonathan_kew at sil.org (Jonathan Kew)
Date: Sun Oct 17 10:29:45 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <200410170102.i9H12dr9019977@jupiter.fsci.fuk.kindai.ac.jp>
References: <D1605901-1F98-11D9-A7EF-000393BD674C@sil.org>
	<200410170102.i9H12dr9019977@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <741224BA-2016-11D9-A7EF-000393BD674C@sil.org>

On 17 Oct 2004, at 2:02 am, Akira Kakuto wrote:

> Probably I've found a reason.
> In the old version, "progname" is not defined. Thus
> TEXINPUTS = .;$TEXMF/tex/{$progname,generic,}//
> is the same as
> TEXINPUTS = .;$TEXMF/tex/{,generic,}//        % :-)

Yes, that explains it. Nice to know the correct explanation rather than  
just a vague "something changed"!

Confirmed by:
Kew-PowerBookG4:~ jonathan$ kpsewhich-old --show-path=.tex
.:/Users/jonathan/Library/texmf/tex///:!!/usr/local/teTeX/share/ 
texmf.local/tex///:!!/usr/local/teTeX/share/texmf.gwtex/tex///:!!/usr/ 
local/teTeX/share/texmf.tetex/tex///:!!/usr/local/teTeX/share/texmf/ 
tex///:/Users/jonathan/Library/texmf/tex/generic//:!!/usr/local/teTeX/ 
share/texmf.local/tex/generic//:!!/usr/local/teTeX/share/texmf.gwtex/ 
tex/generic//:!!/usr/local/teTeX/share/texmf.tetex/tex/generic//:!!/ 
usr/local/teTeX/share/texmf/tex/generic//:/Users/jonathan/Library/ 
texmf/tex///:!!/usr/local/teTeX/share/texmf.local/tex///:!!/usr/local/ 
teTeX/share/texmf.gwtex/tex///:!!/usr/local/teTeX/share/texmf.tetex/ 
tex///:!!/usr/local/teTeX/share/texmf/tex///

(Note the ..../tex/// items, arising from the empty $progname.)

If I remove the "$progname," option from TEXINPUTS in texmf.cnf, then  
the correct hyphen.cfg is found.

xetex will catch up with the new web2c sometime soon, I hope.  
Meanwhile, adding program-specific TEXINPUTS entries avoids the issue.

Many thanks,

Jonathan

From te at dbs.uni-hannover.de  Sun Oct 17 10:52:07 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sun Oct 17 10:55:02 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <741224BA-2016-11D9-A7EF-000393BD674C@sil.org>
References: <D1605901-1F98-11D9-A7EF-000393BD674C@sil.org>
	<200410170102.i9H12dr9019977@jupiter.fsci.fuk.kindai.ac.jp>
	<741224BA-2016-11D9-A7EF-000393BD674C@sil.org>
Message-ID: <20041017085207.GA12513@dbs.uni-hannover.de>

> >In the old version, "progname" is not defined. Thus

Hm... People who mix a new teTeX or TeX Live with other "old" applications
can run into the same trap. Maybe, we sould set

  # $progname: kpathsea v. 3.5.3 or later overwrites this at runtime. To
  # avoid empty expansions from binaries linked against an earlier
  # version of the library, we set $progname to something non-empty:
  progname = unset

in texmf.cnf.

Olaf?

Thomas

From Gerben.Wierda at rna.nl  Sun Oct 17 11:11:37 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sun Oct 17 11:13:22 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <20041017085207.GA12513@dbs.uni-hannover.de>
References: <D1605901-1F98-11D9-A7EF-000393BD674C@sil.org>
	<200410170102.i9H12dr9019977@jupiter.fsci.fuk.kindai.ac.jp>
	<741224BA-2016-11D9-A7EF-000393BD674C@sil.org>
	<20041017085207.GA12513@dbs.uni-hannover.de>
Message-ID: <8C7292D1-201C-11D9-88D0-003065B3343E@rna.nl>

On Oct 17, 2004, at 10:52, Thomas Esser wrote:

>>> In the old version, "progname" is not defined. Thus
>
> Hm... People who mix a new teTeX or TeX Live with other "old" 
> applications
> can run into the same trap. Maybe, we sould set
>
>   # $progname: kpathsea v. 3.5.3 or later overwrites this at runtime. 
> To
>   # avoid empty expansions from binaries linked against an earlier
>   # version of the library, we set $progname to something non-empty:
>   progname = unset
>
> in texmf.cnf.
>
> Olaf?

Elegant. Note that I did adapt texmf.in in source.development and 
Master with XeTeX entries (harmless after all) but that I did not 
succeed in adapting the one in source because it had numoerous other 
changes pending. maybe someone can fix that or make sure that source is 
up to date with the (new) freeze status of source.development.

G

From donecerisfelix at poczta.onet.pl  Sat Oct 16 22:55:17 2004
From: donecerisfelix at poczta.onet.pl (mihau)
Date: Sun Oct 17 15:42:52 2004
Subject: [tex-live] arabtex
Message-ID: <406781193.20041016225517@poczta.onet.pl>

are there any versions of tex-live containing arabtex and
small enough to fit on a single CD ?
may be not a single but not DVD anyway

thank you

From olaf at infovore.xs4all.nl  Sun Oct 17 13:23:26 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Sun Oct 17 17:03:20 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <20041017085207.GA12513@dbs.uni-hannover.de> (Thomas Esser's
	message of "Sun, 17 Oct 2004 10:52:07 +0200")
References: <D1605901-1F98-11D9-A7EF-000393BD674C@sil.org>
	<200410170102.i9H12dr9019977@jupiter.fsci.fuk.kindai.ac.jp>
	<741224BA-2016-11D9-A7EF-000393BD674C@sil.org>
	<20041017085207.GA12513@dbs.uni-hannover.de>
Message-ID: <87r7nxr3kh.fsf@infovore.xs4all.nl>

Thomas Esser writes:

>> >In the old version, "progname" is not defined. Thus

> Hm... People who mix a new teTeX or TeX Live with other "old" applications
> can run into the same trap. Maybe, we sould set

>   # $progname: kpathsea v. 3.5.3 or later overwrites this at runtime. To
>   # avoid empty expansions from binaries linked against an earlier
>   # version of the library, we set $progname to something non-empty:
>   progname = unset

> in texmf.cnf.

> Olaf?

That would make sense.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From karl at freefriends.org  Sun Oct 17 17:21:57 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct 17 17:23:40 2004
Subject: [tex-live] arabtex
In-Reply-To: <406781193.20041016225517@poczta.onet.pl>
Message-ID: <200410171521.i9HFLvO19658@f7.net>

    are there any versions of tex-live containing arabtex and
    small enough to fit on a single CD ?

Sadly, no.  ArabTeX's license is something like "free for scientific
use".  Since TL is distributed by user groups to raise funds, it can't
be included.

Regards,
karl

From Gerben.Wierda at rna.nl  Sun Oct 17 17:41:56 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Sun Oct 17 17:43:40 2004
Subject: [tex-live] arabtex
In-Reply-To: <200410171521.i9HFLvO19658@f7.net>
References: <200410171521.i9HFLvO19658@f7.net>
Message-ID: <139D7E1C-2053-11D9-88D0-003065B3343E@rna.nl>

On Oct 17, 2004, at 17:21, Karl Berry wrote:

>     are there any versions of tex-live containing arabtex and
>     small enough to fit on a single CD ?
>
> Sadly, no.  ArabTeX's license is something like "free for scientific
> use".  Since TL is distributed by user groups to raise funds, it can't
> be included.

That is what the web site says, but the readme says:

	ArabTeX is copyrighted by the author. If you use the system for
	scientific work please give appropriate credit to the software
	and the author (e.g. in the colophon of a monograph.) We also
	appreciate a complimentary copy of any scientific work produced
	with ArabTeX.

	ArabTeX may be redistributed and/or modified under the terms
    	of the LaTeX Project Public License distributed from CTAN
    	archives in the directory "macros/latex/base/lppl.txt"; either
    	version 1 of the License, or (at your option) any later version.

G

From karl at freefriends.org  Sun Oct 17 17:53:24 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct 17 17:55:18 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <8C7292D1-201C-11D9-88D0-003065B3343E@rna.nl>
Message-ID: <200410171553.i9HFrOq26864@f7.net>

    I did not succeed in adapting the one in source because it had
    numoerous other changes pending. maybe someone can fix that or make
    sure that source is up to date with the (new) freeze status of
    source.development.

Gerben, you have source/.../texmf.in open for edit right now.  Can you
either check it in or revert it?

As far as I know source and source.development should have exactly the
same files right now.  As far as texmf.in goes, it should be the same as
teTeX, again AFAIK.  TeX Live doesn't use it, as we know (see next message).

In any case, I checked in the Master/texmf/web2c/texmf.cnf with the
progname setting.  Hope it works out.  (The XeTeX settings you added are
still there too.)

Thanks,
k

From karl at freefriends.org  Sun Oct 17 18:04:41 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct 17 18:06:22 2004
Subject: [tex-live] TeX Live texmf.cnf vs. texmf.in
Message-ID: <200410171604.i9HG4fU28963@f7.net>

In looking at the source.development/.../texmf.in vs. the
Master/.../texmf.cnf, the main difference is apparently the use of
$progname in TEXINPUTS:

texmf.in:  TEXINPUTS = .;$TEXMF/tex/{$progname,generic,}//
texmf.cnf: TEXINPUTS = .;$TEXMF/tex/{generic,}//

And consequent major reduction in the path settings.

I'm a little scared to make that change in texmf.cnf now, but maybe I
shouldn't be.

In general, it seems like it would be nice to autogenerate the Web2c
texmf.cnf from teTeX, to avoid drift.  It doesn't seem impossible.  Oh
well, maybe another year.

Thanks,
k

From te at dbs.uni-hannover.de  Sun Oct 17 19:18:57 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sun Oct 17 19:20:54 2004
Subject: [tex-live] updmap improvement
Message-ID: <20041017171857.GB7613@dbs.uni-hannover.de>

Code-freeze, I know, but updates to scripts don't require rebuilds.
What about this updmap update? In any case, feedback about these message
texts is very welcome...

BTW: the manpage of updmap does not yet have any information about
mapWarn messages...

Thomas

--- /t/texlive/Build/source.development/TeX/texk/tetex/updmap	2004-10-12 18:02:51.000000000 +0200
+++ ./updmap	2004-10-17 19:13:54.800880830 +0200
@@ -31,6 +31,8 @@
 
 ###############################################################################
 # program history:
+#   So Okt 17 19:07:17 CEST 2004
+#      improved warnings / error messages
 #   Mi Okt  6 16:37:49 CEST 2004
 #      commenty may start with any of *#;%
 #   Sun Aug  1 11:42:14 CEST 2004, te
@@ -92,7 +94,7 @@
 test -n "${ZSH_VERSION+set}" && alias -g '${1+"$@"}'='"$@"'
 
 # the version string
-version=1097073550 # seconds since `00:00:00 1970-01-01 UTC'
+version=1098032865 # seconds since `00:00:00 1970-01-01 UTC'
                    # date '+%s' (with GNU date)
 
 ###############################################################################
@@ -140,7 +142,7 @@
 ###############################################################################
 warn()
 {
-  echo "$progname: $1." >&2
+  echo "$@." | fmt | sed "s@^@$progname: @" >&2
 }
 
 ###############################################################################
@@ -988,7 +990,18 @@
   verboseMsg
 
   if test -f $mapWarnFatal; then
-    warn "Severe problems during map file lookup, see mapWarn messages. Consult the manualpage for details"
+    m="Some map files have not been found in the right location. Either,"
+    m="$m they have not been found at all (watch out for notFound messages in"
+    m="$m the previous output) or they have only been found in an obsolete"
+    m="$m location (badLocation messages). To fix this, put an appropriate"
+    m="$m map file into place or remove unavailable map files from the"
+    m="$m configuration file. Note that the location for map files has"
+    m="$m been changed. More information about the changed search paths"
+    m="$m are given in secion 1.1 (History) of the TDS document, version"
+    m="$m 1.1. You propably can read this document by executing the command"
+    m="$m \`texdoc tds'"
+
+    warn "$m"
     return 1
   fi
 
@@ -1061,7 +1074,19 @@
     $dvipsoutputdir/ps2pk.map >&2
   verboseMsg
 
-  test -f $mapWarnCalled && warn "Warnings caused during map file lookup, see mapWarn messages. Consult the manualpage for details"
+  if test -f $mapWarnCalled; then
+    m="Some map files have been found in an obsolete location. This"
+    m="$m is not an error per se, but please consider to remove duplicates"
+    m="$m from the old location. If you inspect the previous log output,"
+    m="$m you might see warnings about obsoleteCopy (means that an identical"
+    m="$m copy of the use map file has been found in the obsolete search path)"
+    m="$m and/or about manualResolve (means that an file with different content"
+    m="$m than the used map file has been found in the obsolete search path)."
+    m="$m More information about the changed search paths are given in secion"
+    m="$m 1.1 (History) of the TDS document, version 1.1. You propably can read"
+    m="$m this document by executing the command \`texdoc tds'"
+    warn "$m"
+  fi
   return 0
 }
 

From karl at freefriends.org  Sun Oct 17 19:45:04 2004
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct 17 19:46:53 2004
Subject: [tex-live] updmap improvement
In-Reply-To: <20041017171857.GB7613@dbs.uni-hannover.de>
Message-ID: <200410171745.i9HHj4T21480@f7.net>

    What about this updmap update? 

Seems good to me.  The map file changes will probably cause more trouble
than everything else put together, so anything we can do to help people
will be good.

Can you check it in to all the bin/ dirs, too?

    In any case, feedback about these message texts is very welcome...

    m="$m is not an error per se, but please consider to remove duplicates"
to remove -> removing


However, my biggest suggestion for these messages would be to include
specific information.  That is, the exact paths to the map files and/or
entries that caused problems, and/or the exact path to the log file I'm
supposed to look at.  (If all that is in there, that's great -- just
didn't look like it.)

Reading the general principles in the TDS will not help people get their
fonts back, it'll probably just frustrate them.

Maybe Hans' script(s) could somehow be mentioned, too, but I don't know
precisely what to suggest there.

Thanks,
k

From preining at logic.at  Sun Oct 17 19:47:59 2004
From: preining at logic.at (Norbert Preining)
Date: Sun Oct 17 19:49:41 2004
Subject: [tex-live] updmap improvement
In-Reply-To: <20041017171857.GB7613@dbs.uni-hannover.de>
References: <20041017171857.GB7613@dbs.uni-hannover.de>
Message-ID: <20041017174759.GB1428@gamma.logic.tuwien.ac.at>

On Son, 17 Okt 2004, Thomas Esser wrote:
> Code-freeze, I know, but updates to scripts don't require rebuilds.
> What about this updmap update? In any case, feedback about these message
> texts is very welcome...

Good idea, I definitely would say it is a good idea to put this into the
scripts.

Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
BEREPPER
The irrevocable and sturdy fart released in the presence of royalty,
which sounds quite like a small motorbike passing by (but not enough
to be confused with one).
			--- Douglas Adams, The Meaning of Liff

From te at dbs.uni-hannover.de  Sun Oct 17 19:50:38 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sun Oct 17 19:52:24 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <200410171553.i9HFrOq26864@f7.net>
References: <8C7292D1-201C-11D9-88D0-003065B3343E@rna.nl>
	<200410171553.i9HFrOq26864@f7.net>
Message-ID: <20041017175038.GC7613@dbs.uni-hannover.de>

On Sun, Oct 17, 2004 at 11:53:24AM -0400, Karl Berry wrote:
> As far as I know source and source.development should have exactly the
> same files right now.  As far as texmf.in goes, it should be the same as
> teTeX, again AFAIK.  TeX Live doesn't use it, as we know (see next message).

teTeX's search paths reflect precisely the needs for searching teTeX's
texmf tree using the current status of our applications. This means that
all search paths are set to the absolute minimum. My file differs in the
following (typical) examples from Olaf's (- is web2c version; + is my version):

"engine" level, I only have tex:
    -TEXINPUTS.pdfmex   = .;$TEXMF/{pdftex,tex}/{mex,plain,generic,}//
    +TEXINPUTS.pdfmex   = .;$TEXMF/tex/{mex,plain,generic,}//

all format names unique, no subdir:
    -TEXFORMATS = .;$TEXMF/web2c/{$engine,}//
    +TEXFORMATS = .;$TEXMF/web2c

bib / bst searching:
    -BIBINPUTS = .;$TEXMF/bibtex/{bib,}//
    -BSTINPUTS = .;$TEXMF/bibtex/{bst,}//
    +BIBINPUTS = .;$TEXMF/bibtex/bib//
    +BSTINPUTS = .;$TEXMF/bibtex/bst//

So, the question is: what shall be in TL's sources, my settings or Olaf's?

The other differences somehow should be cleaned up. By transforming
all engine stuff to tex in Olaf's file, running a diff against my file,
and removeing the above stuff, the remaining differences are:

-TEXINPUTS.pdfxlatex = .;$TEXMF/tex/{latex,generic,}//
-TEXINPUTS.pdfxtex   = .;$TEXMF/tex/{plain,generic,}//
-TEXINPUTS.xelatex = .;$TEXMF/tex/{latex,generic,}//
-TEXINPUTS.xetex   = .;$TEXMF/tex/{plain,generic,}//
-OTFFONTS = .;$TEXMF/fonts/otf/{xetex,}//
-TEXINPUTS.elambda = .;$TEXMF/tex/{lambda,latex,generic,}//
-TEXINPUTS.eomega = .;$TEXMF/tex/{plain,generic,}//
-TEXINPUTS.alambda = .;$TEXMF/tex/{lambda,latex,generic,}//
-TEXINPUTS.lamed = .;$TEXMF/tex/{lambda,latex,generic,}//
+TEXINPUTS.lamed = .;$TEXMF/tex/{lamed,lambda,latex,generic,}//

Questions:
  - shall I add pdfxlatex pdfxtex to my file (I guess yes)
  - shall I add xelatex xetex? (Gerben?)
  - why has xetex a special precedence within fonts/otf (for *all*
    applications)? This looks wrong.
  - drop elambda eomega alambda?
  - which path for lamed (I have added lamed at the formats level)?

Thomas

From te at dbs.uni-hannover.de  Sun Oct 17 20:08:44 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Sun Oct 17 20:10:33 2004
Subject: [tex-live] updmap improvement
In-Reply-To: <200410171745.i9HHj4T21480@f7.net>
References: <20041017171857.GB7613@dbs.uni-hannover.de>
	<200410171745.i9HHj4T21480@f7.net>
Message-ID: <20041017180844.GD7613@dbs.uni-hannover.de>

First of all, thanks for the feedback, Karl!

On Sun, Oct 17, 2004 at 01:45:04PM -0400, Karl Berry wrote:
> Can you check it in to all the bin/ dirs, too?

Ok, will do (after we have finnished this hopefully short discussion).

> to remove -> removing

Thanks.

> However, my biggest suggestion for these messages would be to include
> specific information.  That is, the exact paths to the map files and/or
> entries that caused problems, and/or the exact path to the log file I'm
> supposed to look at.  (If all that is in there, that's great -- just
> didn't look like it.)

The log that I am refering to is the screen output (shall I be more
specific about it?). The files are all mentioned in the screen output.
The problem is that the output is large (even with just the small setup
of teTeX) and that the user will propably not notice the warning that
pop up in the middle. That's why I have implemented the summary message
at the end. Two examples (one with warnings, one with errors):

Here is what I get after
# add an empty file at an obsolete location:
$ touch /software/oss/Text/teTeX-3.0/share/texmf-dist/dvips/antt.map

# make a copy to an obsolete location
$ cp /software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/psnfss/charter.map \
     /software/oss/Text/teTeX-3.0/share/texmf-dist/dvips

This gives the following screen output:

$ updmap 
using config file /software/oss/Text/teTeX-3.0/share/texmf-local/web2c/updmap.cfg
using dvips output directory /software/oss/Text/teTeX-3.0/share/texmf-local/fonts/map/dvips/updmap
using pdftex output directory /software/oss/Text/teTeX-3.0/share/texmf-local/fonts/map/pdftex/updmap
using dvipdfm output directory /software/oss/Text/teTeX-3.0/share/texmf-local/fonts/map/dvipdfm/updmap

updmap is creating new map files using the following configuration:
  prefer outlines: true
  texhash enabled: true
  download standard fonts (dvips): false
  download standard fonts (pdftex): true
  download standard fonts (dvipdfm): true

Scanning for LW35 support files
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/dvips35.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/pdftex35.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/dvipdfm35.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/ps2pk35.map'

Scanning for MixedMap entries:
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/bsr-interpolated.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/bsr.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/cc-pl/ccpl.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/misc/cs.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/misc/eurosym.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/hoekwater.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/pl/pl.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/ttcmex.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/vntex/vnr.map'

Scanning for Map entries:
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/antp/antp.map'
mapWarn manualResolve /software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/antt/antt.map /software/oss/Text/teTeX-3.0/share/texmf-dist/dvips/antt.map
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/antt/antt.map'
mapWarn obsoleteCopy /software/oss/Text/teTeX-3.0/share/texmf-dist/dvips/charter.map
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/psnfss/charter.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/misc/cmcyr.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/contnav.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/lm/cork-lm.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/misc/dstroke.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/psnfss/fpls.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/misc/marvosym.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/mathpple.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/mt-belleek.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/omega/omega.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/psnfss/pazo.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/pxfonts.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/qfonts/qbk.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/qfonts/qcr.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/qfonts/qhv.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/qfonts/qpl.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/qfonts/qtm.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/lm/qx-lm.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/qfonts/qzc.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/lm/texnansi-lm.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/lm/ts1-lm.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/txfonts.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/urwvn/urwvn.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/xypic/xypic.map'

texhash: Updating /software/oss/Text/teTeX-3.0/share/texmf-local/ls-R... 
texhash: Updating /software/oss/Text/teTeX-3.0/share/texmf/ls-R... 
texhash: Updating /software/oss/Text/teTeX-3.0/share/texmf-dist/ls-R... 
texhash: Updating /var/tmp/texfonts/ls-R... 
texhash: Done.

Files generated:
-rw-r--r--  1 te users 18462 2004-10-17 19:56 /software/oss/Text/teTeX-3.0/share/texmf-local/fonts/map/dvipdfm/updmap/dvipdfm_dl14.map
-rw-r--r--  1 te users 19089 2004-10-17 19:56 /software/oss/Text/teTeX-3.0/share/texmf-local/fonts/map/dvipdfm/updmap/dvipdfm_ndl14.map
-rw-r--r--  1 te users  8817 2004-10-17 19:56 /software/oss/Text/teTeX-3.0/share/texmf-local/fonts/map/dvips/updmap/builtin35.map
-rw-r--r--  1 te users 12876 2004-10-17 19:56 /software/oss/Text/teTeX-3.0/share/texmf-local/fonts/map/dvips/updmap/download35.map
-rw-r--r--  1 te users 58759 2004-10-17 19:56 /software/oss/Text/teTeX-3.0/share/texmf-local/fonts/map/dvips/updmap/ps2pk.map
-rw-r--r--  1 te users 40425 2004-10-17 19:56 /software/oss/Text/teTeX-3.0/share/texmf-local/fonts/map/dvips/updmap/psfonts_pk.map
-rw-r--r--  1 te users 54706 2004-10-17 19:56 /software/oss/Text/teTeX-3.0/share/texmf-local/fonts/map/dvips/updmap/psfonts_t1.map
-rw-r--r--  1 te users 58766 2004-10-17 19:56 /software/oss/Text/teTeX-3.0/share/texmf-local/fonts/map/pdftex/updmap/pdftex_dl14.map
-rw-r--r--  1 te users 57216 2004-10-17 19:56 /software/oss/Text/teTeX-3.0/share/texmf-local/fonts/map/pdftex/updmap/pdftex_ndl14.map

updmap: Some map files have been found in an obsolete location. This is not
updmap: an error per se, but please consider removing duplicates from the old
updmap: location. If you inspect the previous log output, you might see warnings
updmap: about obsoleteCopy (means that an identical copy of the use map file
updmap: has been found in the obsolete search path) and/or about manualResolve
updmap: (means that an file with different content than the used map file has been
updmap: found in the obsolete search path). More information about the changed
updmap: search paths are given in secion 1.1 (History) of the TDS document,
updmap: version 1.1. You propably can read this document by executing the command
updmap: `texdoc tds'.




After more serious manipulations:
  $ mv /software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/qfonts/qtm.map \
       /software/oss/Text/teTeX-3.0/share/texmf-dist/dvips
  $ gzip /software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/xypic/xypic.map
we get:

te@gauss:/t/texlive/Master/texmf-dist> updmap
using config file /software/oss/Text/teTeX-3.0/share/texmf-local/web2c/updmap.cfg
using dvips output directory /software/oss/Text/teTeX-3.0/share/texmf-local/fonts/map/dvips/updmap
using pdftex output directory /software/oss/Text/teTeX-3.0/share/texmf-local/fonts/map/pdftex/updmap
using dvipdfm output directory /software/oss/Text/teTeX-3.0/share/texmf-local/fonts/map/dvipdfm/updmap

updmap is creating new map files using the following configuration:
  prefer outlines: true
  texhash enabled: true
  download standard fonts (dvips): false
  download standard fonts (pdftex): true
  download standard fonts (dvipdfm): true

Scanning for LW35 support files
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/dvips35.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/pdftex35.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/dvipdfm35.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/ps2pk35.map'

Scanning for MixedMap entries:
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/bsr-interpolated.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/bsr.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/cc-pl/ccpl.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/misc/cs.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/misc/eurosym.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/hoekwater.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/pl/pl.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/ttcmex.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/vntex/vnr.map'

Scanning for Map entries:
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/antp/antp.map'
mapWarn manualResolve /software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/antt/antt.map /software/oss/Text/teTeX-3.0/share/texmf-dist/dvips/antt.map
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/antt/antt.map'
mapWarn obsoleteCopy /software/oss/Text/teTeX-3.0/share/texmf-dist/dvips/charter.map
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/psnfss/charter.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/misc/cmcyr.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/contnav.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/lm/cork-lm.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/misc/dstroke.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/psnfss/fpls.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/misc/marvosym.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/mathpple.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/mt-belleek.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/omega/omega.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/psnfss/pazo.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/pxfonts.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/qfonts/qbk.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/qfonts/qcr.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/qfonts/qhv.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/qfonts/qpl.map'
mapWarn badLocation /software/oss/Text/teTeX-3.0/share/texmf-dist/dvips/qtm.map
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/lm/qx-lm.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/qfonts/qzc.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/lm/texnansi-lm.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/lm/ts1-lm.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/tetex/txfonts.map'
using map file `/software/oss/Text/teTeX-3.0/share/texmf-dist/fonts/map/dvips/urwvn/urwvn.map'
mapWarn notFound xypic.map

updmap: Some map files have not been found in the right location. Either, they
updmap: have not been found at all (watch out for notFound messages in the
updmap: previous output) or they have only been found in an obsolete location
updmap: (badLocation messages). To fix this, put an appropriate map file into
updmap: place or remove unavailable map files from the configuration file. Note
updmap: that the location for map files has been changed. More information about
updmap: the changed search paths are given in secion 1.1 (History) of the TDS
updmap: document, version 1.1. You propably can read this document by executing
updmap: the command `texdoc tds'.

> Reading the general principles in the TDS will not help people get their
> fonts back, it'll probably just frustrate them.

Do we have a better document? If not, I shall write something for
teTeX-3.0 and point to that.

> Maybe Hans' script(s) could somehow be mentioned, too, but I don't know
> precisely what to suggest there.

I fear that automatic scripts can do more harm than good, i.e. generate
duplicates in fonts/map (e.g. by moving an old psfonts.map). What language
are Hans's scripts written in? On what platforms have they been tested?

Thomas (open to suggestions and hoping to improve updamp by this discussion)

From sebastian.rahtz at computing-services.oxford.ac.uk  Sun Oct 17 21:39:01 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Sun Oct 17 21:39:47 2004
Subject: [tex-live] arabtex
In-Reply-To: <406781193.20041016225517@poczta.onet.pl>
References: <406781193.20041016225517@poczta.onet.pl>
Message-ID: <4172CA55.7040906@computing-services.oxford.ac.uk>

mihau wrote:

>are there any versions of tex-live containing arabtex and
>small enough to fit on a single CD ?
>  
>

The next TeX Live has ArabTeX on

Sebastian Rahtz

From olaf at infovore.xs4all.nl  Sun Oct 17 22:16:41 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Sun Oct 17 22:24:52 2004
Subject: [tex-live] updmap improvement
In-Reply-To: <20041017171857.GB7613@dbs.uni-hannover.de> (Thomas Esser's
	message of "Sun, 17 Oct 2004 19:18:57 +0200")
References: <20041017171857.GB7613@dbs.uni-hannover.de>
Message-ID: <87ekjxqevq.fsf@infovore.xs4all.nl>

Thomas Esser writes:

> Code-freeze, I know, but updates to scripts don't require rebuilds.
> What about this updmap update? In any case, feedback about these message
> texts is very welcome...

Note that even if these don't require a rebuild, changed scripts still
need to be updated in each bin/architecture directory.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From olaf at infovore.xs4all.nl  Sun Oct 17 22:14:46 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Sun Oct 17 22:24:58 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <20041017175038.GC7613@dbs.uni-hannover.de> (Thomas Esser's
	message of "Sun, 17 Oct 2004 19:50:38 +0200")
References: <8C7292D1-201C-11D9-88D0-003065B3343E@rna.nl>
	<200410171553.i9HFrOq26864@f7.net>
	<20041017175038.GC7613@dbs.uni-hannover.de>
Message-ID: <87is99qeyx.fsf@infovore.xs4all.nl>

Thomas Esser writes:
> On Sun, Oct 17, 2004 at 11:53:24AM -0400, Karl Berry wrote:

>> As far as I know source and source.development should have exactly the
>> same files right now.  As far as texmf.in goes, it should be the same as
>> teTeX, again AFAIK.  TeX Live doesn't use it, as we know (see next message).

One thing that surprised me is that texmf/web2c/texmf.cnf contains
'original texmf.cnf --', which means that if you do a full build it
gets overwritten.  This is perhaps not a good thing.

> teTeX's search paths reflect precisely the needs for searching teTeX's
> texmf tree using the current status of our applications. This means that
> all search paths are set to the absolute minimum. My file differs in the
> following (typical) examples from Olaf's (- is web2c version; + is my
> version):

> "engine" level, I only have tex:
>     -TEXINPUTS.pdfmex   = .;$TEXMF/{pdftex,tex}/{mex,plain,generic,}//
>     +TEXINPUTS.pdfmex   = .;$TEXMF/tex/{mex,plain,generic,}//

I plead backward compatibility with older texmf trees.

> all format names unique, no subdir:
>     -TEXFORMATS = .;$TEXMF/web2c/{$engine,}//
>     +TEXFORMATS = .;$TEXMF/web2c

> bib / bst searching:
>     -BIBINPUTS = .;$TEXMF/bibtex/{bib,}//
>     -BSTINPUTS = .;$TEXMF/bibtex/{bst,}//
>     +BIBINPUTS = .;$TEXMF/bibtex/bib//
>     +BSTINPUTS = .;$TEXMF/bibtex/bst//

For this case, I'm envisioning "simplified" trees where all bibtex
related files are just under texmf/bibtex.  For example, a tree in
someone's home directory could be like that.

> So, the question is: what shall be in TL's sources, my settings or Olaf's?

> The other differences somehow should be cleaned up. By transforming
> all engine stuff to tex in Olaf's file, running a diff against my file,
> and removeing the above stuff, the remaining differences are:

> -TEXINPUTS.pdfxlatex = .;$TEXMF/tex/{latex,generic,}//
> -TEXINPUTS.pdfxtex   = .;$TEXMF/tex/{plain,generic,}//
> -TEXINPUTS.xelatex = .;$TEXMF/tex/{latex,generic,}//
> -TEXINPUTS.xetex   = .;$TEXMF/tex/{plain,generic,}//
> -OTFFONTS = .;$TEXMF/fonts/otf/{xetex,}//
> -TEXINPUTS.elambda = .;$TEXMF/tex/{lambda,latex,generic,}//
> -TEXINPUTS.eomega = .;$TEXMF/tex/{plain,generic,}//
> -TEXINPUTS.alambda = .;$TEXMF/tex/{lambda,latex,generic,}//
> -TEXINPUTS.lamed = .;$TEXMF/tex/{lambda,latex,generic,}//
> +TEXINPUTS.lamed = .;$TEXMF/tex/{lamed,lambda,latex,generic,}//

Not all of these are from my version, I think.

> Questions:
>   - shall I add pdfxlatex pdfxtex to my file (I guess yes)
>   - shall I add xelatex xetex? (Gerben?)
>   - why has xetex a special precedence within fonts/otf (for *all*
>     applications)? This looks wrong.
>   - drop elambda eomega alambda?
>   - which path for lamed (I have added lamed at the formats level)?

Note that TeX-live (and even teTeX) may be in a position to make
assumptions about the texmf trees that web2c cannot make.

> Thomas

> _______________________________________________
> TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From kakuto at fsci.fuk.kindai.ac.jp  Mon Oct 18 03:18:30 2004
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Mon Oct 18 03:20:19 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: Your message of "Sun, 17 Oct 2004 19:50:38 +0200"
References: <20041017175038.GC7613@dbs.uni-hannover.de>
Message-ID: <200410180118.i9I1IVod024431@jupiter.fsci.fuk.kindai.ac.jp>

> all format names unique, no subdir:
>     -TEXFORMATS = .;$TEXMF/web2c/{$engine,}//
>     +TEXFORMATS = .;$TEXMF/web2c

I think there are users who need both
$TEXMF/web2c/aleph/cont-en.fmt and
$TEXMF/web2c/pdfetex/cont-en.fmt,
mainly for that purpose $engine had been introduced.

-- 
Akira Kakuto

From te at dbs.uni-hannover.de  Mon Oct 18 08:12:57 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Mon Oct 18 08:14:45 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <200410180118.i9I1IVod024431@jupiter.fsci.fuk.kindai.ac.jp>
References: <20041017175038.GC7613@dbs.uni-hannover.de>
	<200410180118.i9I1IVod024431@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <20041018061257.GA7575@dbs.uni-hannover.de>

On Mon, Oct 18, 2004 at 10:18:30AM +0900, Akira Kakuto wrote:
> I think there are users who need both
> $TEXMF/web2c/aleph/cont-en.fmt and
> $TEXMF/web2c/pdfetex/cont-en.fmt,

context users don't use
  pdfetex \&cont-en
  aleph \&cont-en
directly.

They use texexec with options, so texexec could make the base format names
unique. As long as this does not happen, teTeX/context users cannot use
both engines at the same time. teTeX uses fmtutil for format generation
and fmtutil has this restriction about unique format names since ever.

> mainly for that purpose $engine had been introduced.

Oh, I thought that it was introduces as an additional cause for trouble.

Thomas

From olaf at infovore.xs4all.nl  Mon Oct 18 08:47:55 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Mon Oct 18 08:49:50 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <20041017175038.GC7613@dbs.uni-hannover.de> (Thomas Esser's
	message of "Sun, 17 Oct 2004 19:50:38 +0200")
References: <8C7292D1-201C-11D9-88D0-003065B3343E@rna.nl>
	<200410171553.i9HFrOq26864@f7.net>
	<20041017175038.GC7613@dbs.uni-hannover.de>
Message-ID: <87sm8cplno.fsf@infovore.xs4all.nl>

Thomas Esser writes:

> -TEXINPUTS.xelatex = .;$TEXMF/tex/{latex,generic,}//
> -TEXINPUTS.xetex   = .;$TEXMF/tex/{plain,generic,}//
> -OTFFONTS = .;$TEXMF/fonts/otf/{xetex,}//

>   - shall I add xelatex xetex? (Gerben?)
>   - why has xetex a special precedence within fonts/otf (for *all*
>     applications)? This looks wrong.

These three are not in the web2c sources.  Note also that (defauly)
kpathsea doesn't use OTFFONTS at all -- I think that's an xetex
extension.  (kpathsea uses OPENTYPEFONTS instead)

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From pragma at wxs.nl  Sun Oct 17 21:28:29 2004
From: pragma at wxs.nl (h h extern)
Date: Mon Oct 18 09:10:43 2004
Subject: [tex-live] arabtex
In-Reply-To: <139D7E1C-2053-11D9-88D0-003065B3343E@rna.nl>
References: <200410171521.i9HFLvO19658@f7.net>
	<139D7E1C-2053-11D9-88D0-003065B3343E@rna.nl>
Message-ID: <4172C7DD.2090707@wxs.nl>

Gerben Wierda wrote:

> On Oct 17, 2004, at 17:21, Karl Berry wrote:
> 
>>     are there any versions of tex-live containing arabtex and
>>     small enough to fit on a single CD ?
>>
>> Sadly, no.  ArabTeX's license is something like "free for scientific
>> use".  Since TL is distributed by user groups to raise funds, it can't
>> be included.

maybe tug uses tex live to raise funds, but not the ntg and as far as i 
know neither dante;

anyhow, since the user groups distribute tex live as part of a bigger 
whole, arabtex can go into texmf-extra on the dvd; if the texmf.cnf file 
includes $TEXMFEXTRA (plus a suitable fallback value) then users only 
have to copy that tree

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Mon Oct 18 09:16:00 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Mon Oct 18 09:18:05 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <200410180118.i9I1IVod024431@jupiter.fsci.fuk.kindai.ac.jp>
References: <20041017175038.GC7613@dbs.uni-hannover.de>
	<200410180118.i9I1IVod024431@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <41736DB0.9040203@wxs.nl>

Akira Kakuto wrote:
>>all format names unique, no subdir:
>>    -TEXFORMATS = .;$TEXMF/web2c/{$engine,}//
>>    +TEXFORMATS = .;$TEXMF/web2c
> 
> 
> I think there are users who need both
> $TEXMF/web2c/aleph/cont-en.fmt and
> $TEXMF/web2c/pdfetex/cont-en.fmt,

indeed

> mainly for that purpose $engine had been introduced.

when dropping the different suffixes in favor of one the engine subpath 
was introduced as a means to distinguish formats; now dropping the 
{$engine,} part sounds strange to me; it also sort of renders future 
discussions about changes in tds/web2c useless

so, i vote against dropping {#engine,}

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Mon Oct 18 09:17:36 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Mon Oct 18 09:19:24 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <20041018061257.GA7575@dbs.uni-hannover.de>
References: <20041017175038.GC7613@dbs.uni-hannover.de>
	<200410180118.i9I1IVod024431@jupiter.fsci.fuk.kindai.ac.jp>
	<20041018061257.GA7575@dbs.uni-hannover.de>
Message-ID: <41736E10.6090604@wxs.nl>

Thomas Esser wrote:

> They use texexec with options, so texexec could make the base format names
> unique. As long as this does not happen, teTeX/context users cannot use

i have no plans for that (texexec supports --engine and that's as far as 
i will go)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From te at dbs.uni-hannover.de  Mon Oct 18 09:40:37 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Mon Oct 18 09:42:26 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <41736E10.6090604@wxs.nl>
References: <20041017175038.GC7613@dbs.uni-hannover.de>
	<200410180118.i9I1IVod024431@jupiter.fsci.fuk.kindai.ac.jp>
	<20041018061257.GA7575@dbs.uni-hannover.de>
	<41736E10.6090604@wxs.nl>
Message-ID: <20041018074037.GA10854@dbs.uni-hannover.de>

Hi Hans,

> i have no plans for that (texexec supports --engine and that's as far as 
> i will go)

A new command line switch is not what I am asking for. texexec has some
means to adopt to various characteristics of a TeX systems (by different
setting of TeXShell in texexec.ini). The characteristic of teTeX is that
all format files are stored in a single directory and that all extensions
for all engines are the same.

One solution to store file names for different engines is to use the
scheme $engine/file.fmt. One other is file-$engine.fmt. All that I am
asking for is to support the second scheme internally. If you have no
time to implement it, we might fined someone else to do this. Would
you accept such an extension to texexec?

Thomas

From te at dbs.uni-hannover.de  Mon Oct 18 10:18:32 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Mon Oct 18 10:20:20 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <41736DB0.9040203@wxs.nl>
References: <20041017175038.GC7613@dbs.uni-hannover.de>
	<200410180118.i9I1IVod024431@jupiter.fsci.fuk.kindai.ac.jp>
	<41736DB0.9040203@wxs.nl>
Message-ID: <20041018081832.GC10854@dbs.uni-hannover.de>

> so, i vote against dropping {#engine,}

Assume we have the new scheme, that means that the user will get
latex.fmt in $TEXMFMAIN/web2c/pdfetex. Now, Joe User, knowing about hist
$TEXMFLOCAL tree (he is told that this has a higher precedence than the
system's trees) puts foo.fmt and a new latex.fmt to
  $TEXMFLOCAL/web2c

Joe User finds that he can use foo.fmt and latex.fmt, but to his suprise,
he gets the old latex.fmt.

How do you explain that to him?

Thomas

From pragma at wxs.nl  Mon Oct 18 11:04:04 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Mon Oct 18 11:05:55 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <20041018081832.GC10854@dbs.uni-hannover.de>
References: <20041017175038.GC7613@dbs.uni-hannover.de>
	<200410180118.i9I1IVod024431@jupiter.fsci.fuk.kindai.ac.jp>
	<41736DB0.9040203@wxs.nl>
	<20041018081832.GC10854@dbs.uni-hannover.de>
Message-ID: <41738704.4020902@wxs.nl>

Thomas Esser wrote:
>>so, i vote against dropping {#engine,}
> 
> 
> Assume we have the new scheme, that means that the user will get
> latex.fmt in $TEXMFMAIN/web2c/pdfetex. Now, Joe User, knowing about hist
> $TEXMFLOCAL tree (he is told that this has a higher precedence than the
> system's trees) puts foo.fmt and a new latex.fmt to
>   $TEXMFLOCAL/web2c
> 
> Joe User finds that he can use foo.fmt and latex.fmt, but to his suprise,
> he gets the old latex.fmt.
> 
> How do you explain that to him?

in the same way as that you are going to explain that he/she needs to 
move/fix his other files (enc, map, script and whatever changes the new 
tds brings): either use a clean tree, or remove your old formats/mems

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Mon Oct 18 11:12:06 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Mon Oct 18 11:13:56 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <20041018074037.GA10854@dbs.uni-hannover.de>
References: <20041017175038.GC7613@dbs.uni-hannover.de>
	<200410180118.i9I1IVod024431@jupiter.fsci.fuk.kindai.ac.jp>
	<20041018061257.GA7575@dbs.uni-hannover.de>
	<41736E10.6090604@wxs.nl>
	<20041018074037.GA10854@dbs.uni-hannover.de>
Message-ID: <417388E6.8090108@wxs.nl>

Hi Thoma
s
> One solution to store file names for different engines is to use the
> scheme $engine/file.fmt. One other is file-$engine.fmt. All that I am
> asking for is to support the second scheme internally. If you have no
> time to implement it, we might fined someone else to do this. Would
> you accept such an extension to texexec?

i can implement such an extension in a few minutes, however: i already 
spent way to much time fixing all kind of aspects in my local trees (and 
trees that are used on machines that server our projects) that i'm not 
going to do it this year; also, fix upon fix is not the solution, esp if 
we keep in mind that there are more distributions than web2c;

Adding a prefix would mean ending up with old formats as well; so, i'm 
only going to implement such a thing when i reimplement texexec (which 
is on my agenda) because then i can also take care of all those downward 
compatible issues (cleanup etc);

(i have many more tools than texexec alone, and spent a lot of time on 
keeping my trees managable; this years changes in the tds 
[enc,map,script] already made me decide that for me personally , this 
year is kind of wasted, much work, no benefits; i'd rather spent my time 
on manuals)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From te at dbs.uni-hannover.de  Mon Oct 18 11:34:52 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Mon Oct 18 11:36:40 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <41738704.4020902@wxs.nl>
References: <20041017175038.GC7613@dbs.uni-hannover.de>
	<200410180118.i9I1IVod024431@jupiter.fsci.fuk.kindai.ac.jp>
	<41736DB0.9040203@wxs.nl>
	<20041018081832.GC10854@dbs.uni-hannover.de>
	<41738704.4020902@wxs.nl>
Message-ID: <20041018093452.GA15886@dbs.uni-hannover.de>

> in the same way as that you are going to explain that he/she needs to 
> move/fix his other files (enc, map, script and whatever changes the new 
> tds brings): either use a clean tree, or remove your old formats/mems

You are wrong here. You cannot use the same explanation. I don't set up
the search paths for map / enc files to look at new and old places. So,
users will not get into trouble by "random" access to old files that they
don't want.

Yes, it forces users to move their files, but users get a clear error
message if something is not found. Troubleshooting complicated search
paths is a completely different matter.

So, Hans, please explain this to Joe User.

Thomas

From te at dbs.uni-hannover.de  Mon Oct 18 11:41:18 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Mon Oct 18 11:43:05 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <417388E6.8090108@wxs.nl>
References: <20041017175038.GC7613@dbs.uni-hannover.de>
	<200410180118.i9I1IVod024431@jupiter.fsci.fuk.kindai.ac.jp>
	<20041018061257.GA7575@dbs.uni-hannover.de>
	<41736E10.6090604@wxs.nl>
	<20041018074037.GA10854@dbs.uni-hannover.de>
	<417388E6.8090108@wxs.nl>
Message-ID: <20041018094118.GB15886@dbs.uni-hannover.de>

> trees that are used on machines that server our projects) that i'm not 
> going to do it this year; also, fix upon fix is not the solution, esp if 

Maybe, I can find someone else to implement it for teTeX. Else, users
of teTeX+Context have to wait an additional year until they can make
use of Aleph and pdfetex at the same time.

Thomas

From pragma at wxs.nl  Mon Oct 18 12:12:05 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Mon Oct 18 12:13:56 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <20041018094118.GB15886@dbs.uni-hannover.de>
References: <20041017175038.GC7613@dbs.uni-hannover.de>
	<200410180118.i9I1IVod024431@jupiter.fsci.fuk.kindai.ac.jp>
	<20041018061257.GA7575@dbs.uni-hannover.de>
	<41736E10.6090604@wxs.nl>
	<20041018074037.GA10854@dbs.uni-hannover.de>
	<417388E6.8090108@wxs.nl>
	<20041018094118.GB15886@dbs.uni-hannover.de>
Message-ID: <417396F5.1040905@wxs.nl>

Thomas Esser wrote:
>>trees that are used on machines that server our projects) that i'm not 
>>going to do it this year; also, fix upon fix is not the solution, esp if 
> 
> 
> Maybe, I can find someone else to implement it for teTeX. Else, users
> of teTeX+Context have to wait an additional year until they can make
> use of Aleph and pdfetex at the same time.

no, they can use

   --engine

or say

   set UseEnginePath to false

in their texexec.ini file

I implemented that after the tds/engine dicussion took place as a 
safeguard. This means that users who want that can use pdfetex and aleph 
at the same time.

(thinking about it, i think i could as well have kept the efmt and afmt 
suffix since one can specify the format)

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From karl at freefriends.org  Mon Oct 18 19:52:26 2004
From: karl at freefriends.org (Karl Berry)
Date: Mon Oct 18 19:54:08 2004
Subject: [tex-live] arabtex
In-Reply-To: <4172C7DD.2090707@wxs.nl>
Message-ID: <200410181752.i9IHqQ531671@f7.net>

    maybe tug uses tex live to raise funds, but not the ntg and as far as i 
    know neither dante;

Well, it's arguable whether being a benefit of membership violates
certain "nocommercial" licenses.  But let's not spend time on it,
because, see below:

    arabtex can go into texmf-extra on the dvd

"nosell" (in CTAN terms) software definitely can't be included on the
DVD.  Lehmann's and TUG, at least, do sell those discs.

Anyway, it's a moot point as far as arabtex goes, since it's actually in
TL now, as Sebastian informed us, since the author changed the license
(yay).  I was wrong about that.  Sorry for that confusion.

k

From karl at freefriends.org  Tue Oct 19 00:13:56 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Oct 19 00:15:39 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <87is99qeyx.fsf@infovore.xs4all.nl>
Message-ID: <200410182213.i9IMDun10046@f7.net>

    Note that TeX-live (and even teTeX) may be in a position to make
    assumptions about the texmf trees that web2c cannot make.

True.

    So, the question is: what shall be in TL's sources, my settings or Olaf's?

Please correct me if I'm wrong, but I have the impression that Gerben is
the only person actually using the texmf.cnf from the TL source tree.
TL itself doesn't use it, we have our own, hand-maintained, in the
Master tree.  Thomas doesn't use it, he has his own private sources.

If this is true, then I think it would be logical to make the source
texmf.in's be whatever Gerben wants.

We could keep the web2c texmf.in's as texmf.in-web2c or some such, for
the sake of documentation/use by others.  Ditto teTeX, if teTeX's files
need to be different than gwTeX's.

How does that sound?

Best,
karl

P.S. Does Jonathan know about the OTFFONTS vs. OPENTYPEFONTS name
difference, so these can be reconciled going forward?

From vvv at vsu.ru  Tue Oct 19 09:46:13 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Tue Oct 19 09:48:00 2004
Subject: [tex-live] arabtex
In-Reply-To: <200410181752.i9IHqQ531671@f7.net> (Karl Berry's message of "Mon, 
	18 Oct 2004 13:52:26 -0400")
References: <200410181752.i9IHqQ531671@f7.net>
Message-ID: <m3lle3noai.fsf@vvv.vsu.ru>

"KB" == Karl Berry writes:

 KB> Anyway, it's a moot point as far as arabtex goes, since it's
 KB> actually in TL now, as Sebastian informed us, since the author
 KB> changed the license (yay).  I was wrong about that.  Sorry for
 KB> that confusion.

I'm curious whether the following text is part of the license:

	ArabTeX is copyrighted by the author. If you use the system for
	scientific work please give appropriate credit to the software
	and the author (e.g. in the colophon of a monograph.) We also
	appreciate a complimentary copy of any scientific work produced
	with ArabTeX.

and if so, does it combine well with LPPL? I would feel uncomfortable
if i would ignore this demand when using arabtex, thus i would not
consider this as "free".

Best,
v.

From taco at elvenkind.com  Tue Oct 19 10:04:59 2004
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue Oct 19 10:06:42 2004
Subject: [tex-live] arabtex
In-Reply-To: <m3lle3noai.fsf@vvv.vsu.ru>
References: <200410181752.i9IHqQ531671@f7.net>
	<m3lle3noai.fsf@vvv.vsu.ru>
Message-ID: <20041019100459.634e14c1@glenlivet.elvenkind.com>

On Tue, 19 Oct 2004 11:46:13 +0400, Vladimir wrote:

> I'm curious whether the following text is part of the license:

	Klaus Lagally <lagally@informatik.uni-stuttgart.de>
 
-- 
groeten,

Taco

From dak at gnu.org  Tue Oct 19 10:10:36 2004
From: dak at gnu.org (David Kastrup)
Date: Tue Oct 19 10:12:56 2004
Subject: [tex-live] arabtex
In-Reply-To: <m3lle3noai.fsf@vvv.vsu.ru> (Vladimir Volovich's message of
	"Tue, 19 Oct 2004 11:46:13 +0400")
References: <200410181752.i9IHqQ531671@f7.net> <m3lle3noai.fsf@vvv.vsu.ru>
Message-ID: <x54qkr5ds3.fsf@lola.goethe.zz>

Vladimir Volovich <vvv@vsu.ru> writes:

> "KB" == Karl Berry writes:
>
>  KB> Anyway, it's a moot point as far as arabtex goes, since it's
>  KB> actually in TL now, as Sebastian informed us, since the author
>  KB> changed the license (yay).  I was wrong about that.  Sorry for
>  KB> that confusion.
>
> I'm curious whether the following text is part of the license:
>
> 	ArabTeX is copyrighted by the author. If you use the system for
> 	scientific work please give appropriate credit to the software
> 	and the author (e.g. in the colophon of a monograph.) We also
> 	appreciate a complimentary copy of any scientific work produced
> 	with ArabTeX.
>
> and if so, does it combine well with LPPL?

It is a plea, not a demand.  Look up "please" and "appreciate" in a
dictionary of your choice.

> I would feel uncomfortable if i would ignore this demand when using
> arabtex, thus i would not consider this as "free".

It is not illegal to feel uncomfortable.  The licence is what you are
allowed to do without legal repercussions, not what you are allowed to
do feeling comfortable.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From Gerben.Wierda at rna.nl  Tue Oct 19 10:23:13 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Tue Oct 19 10:24:57 2004
Subject: [tex-live] [Fwd: Re: Problem with listings.sty and xy-pic]
Message-ID: <12115.159.46.248.227.1098174193.squirrel@159.46.248.227>

listings.sty has been bugfixed (conflict with xy-pic). Can we get this on
TL2004 still?

G

---------------------------- Original Message ----------------------------
Subject: Re: Problem with listings.sty and xy-pic
Date:    Tue, October 19, 2004 9:48
To:      "Gerben Wierda" <gerben.wierda@rna.nl>
--------------------------------------------------------------------------

Hi again,

I've just tested the patch I was sent, and this fixes the problem.  The 
updated version is now at

http://www.ctan.org/tex-archive/macros/latex/contrib/listings/

(lstpatch.sty)

Regards,

Ben



From Gerben.Wierda at rna.nl  Tue Oct 19 10:31:40 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Tue Oct 19 10:33:22 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
Message-ID: <28632.159.46.248.227.1098174700.squirrel@159.46.248.227>

In TL2003 one could have a +myfonts.map in pdftex.cfg for a map file that
was to be used by pdftex but not by dvips. What is the TL2004 way of doing
this?

Thanks,

G

From pragma at wxs.nl  Tue Oct 19 10:47:23 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Tue Oct 19 10:49:28 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <28632.159.46.248.227.1098174700.squirrel@159.46.248.227>
References: <28632.159.46.248.227.1098174700.squirrel@159.46.248.227>
Message-ID: <4174D49B.9020000@wxs.nl>

Gerben Wierda wrote:
> In TL2003 one could have a +myfonts.map in pdftex.cfg for a map file that
> was to be used by pdftex but not by dvips. What is the TL2004 way of doing
> this?

a possibility is:

\pdfmapfile{+myfonts.map}

in your document

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From vvv at vsu.ru  Tue Oct 19 10:58:30 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Tue Oct 19 11:01:33 2004
Subject: [tex-live] arabtex
In-Reply-To: <x54qkr5ds3.fsf@lola.goethe.zz> (David Kastrup's message of "Tue, 
	19 Oct 2004 10:10:36 +0200")
References: <200410181752.i9IHqQ531671@f7.net> <m3lle3noai.fsf@vvv.vsu.ru>
	<x54qkr5ds3.fsf@lola.goethe.zz>
Message-ID: <m37jpnm6dl.fsf@vvv.vsu.ru>

"DK" == David Kastrup writes:

 >> and if so, does it combine well with LPPL?

 DK> It is a plea, not a demand.  Look up "please" and "appreciate" in
 DK> a dictionary of your choice.

Thanks for clarification. I was thinking of the possibility of using
the word "please" as a polite form of a demand.

(e.g. "please give appropriate credit, otherwise you will be violating
the license")

Best,
v.

From te at dbs.uni-hannover.de  Tue Oct 19 11:48:28 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Tue Oct 19 11:50:16 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <4174D49B.9020000@wxs.nl>
References: <28632.159.46.248.227.1098174700.squirrel@159.46.248.227>
	<4174D49B.9020000@wxs.nl>
Message-ID: <20041019094828.GC2440@dbs.uni-hannover.de>

> \pdfmapfile{+myfonts.map}
> in your document

With dvips and (old) pdftex, it was possible to set up fonts globally
on the system in a way that does not affect documents.  Now, if we add
such things into documents, it will make them less portable.

I thought that it would at least be possible to use pdftexconfig.tex and
to store the information about map files in the format. While this is
already a step back (format generation time vs. document processing time),
it did not even work in my tests. Adding

  \catcode`\{=1
  \catcode`\}=2
  \pdfmapfile{+foo.map}
  \catcode`\{=12
  \catcode`\}=12

to pdftexconfig.tex did not cause foo.map to be read (neither at format
generation time nor while processing a document using the new format).

Does this mean, that we can only define the map files in the documents
and no longer anywhere outside? Or, does it mean that updmap will be
the only way to set up fonts globally for pdftex?

Thomas

From pragma at wxs.nl  Tue Oct 19 12:26:02 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Tue Oct 19 12:27:53 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <20041019094828.GC2440@dbs.uni-hannover.de>
References: <28632.159.46.248.227.1098174700.squirrel@159.46.248.227>
	<4174D49B.9020000@wxs.nl>
	<20041019094828.GC2440@dbs.uni-hannover.de>
Message-ID: <4174EBBA.6070901@wxs.nl>

Thomas Esser wrote:

>>\pdfmapfile{+myfonts.map}
>>in your document
> 
> 
> With dvips and (old) pdftex, it was possible to set up fonts globally
> on the system in a way that does not affect documents.  Now, if we add
> such things into documents, it will make them less portable.

normally fonts (that is, commercial ones) cannot be distributed and 
therefore the docs are not portable in more than one aspect

> I thought that it would at least be possible to use pdftexconfig.tex and
> to store the information about map files in the format. While this is
> already a step back (format generation time vs. document processing time),
> it did not even work in my tests. Adding
> 
>   \catcode`\{=1
>   \catcode`\}=2
>   \pdfmapfile{+foo.map}
>   \catcode`\{=12
>   \catcode`\}=12
> 
> to pdftexconfig.tex did not cause foo.map to be read (neither at format
> generation time nor while processing a document using the new format).

that's a question for hartmut who knows the dirty bits of map loading

> Does this mean, that we can only define the map files in the documents
> and no longer anywhere outside? Or, does it mean that updmap will be
> the only way to set up fonts globally for pdftex?

a macro package can load a default file, for instance:

\everyjob{\input localfonts.map\relax}

(preferably with some test if the file is present)

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From sebastian.rahtz at computing-services.oxford.ac.uk  Tue Oct 19 13:14:48 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue Oct 19 13:19:27 2004
Subject: [tex-live] arabtex
In-Reply-To: <m3lle3noai.fsf@vvv.vsu.ru>
References: <200410181752.i9IHqQ531671@f7.net> <m3lle3noai.fsf@vvv.vsu.ru>
Message-ID: <4174F728.1020105@computing-services.oxford.ac.uk>

Vladimir Volovich wrote:

>	ArabTeX is copyrighted by the author. If you use the system for
>	scientific work please give appropriate credit to the software
>	and the author (e.g. in the colophon of a monograph.) We also
>	appreciate a complimentary copy of any scientific work produced
>	with ArabTeX.
>
>and if so, does it combine well with LPPL? I would feel uncomfortable
>if i would ignore this demand when using arabtex, thus i would not
>consider this as "free".
>  
>
saying "please give" and  "we appreciate" are acceptable,
as I understand FSF thinking, as they are merely a request,
not a condition

Sebastian

From Gerben.Wierda at rna.nl  Tue Oct 19 14:01:55 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Tue Oct 19 14:03:38 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <4174D49B.9020000@wxs.nl>
References: <28632.159.46.248.227.1098174700.squirrel@159.46.248.227>
	<4174D49B.9020000@wxs.nl>
Message-ID: <21083.159.46.248.226.1098187315.squirrel@159.46.248.226>

> Gerben Wierda wrote:
>> In TL2003 one could have a +myfonts.map in pdftex.cfg for a map file
>> that
>> was to be used by pdftex but not by dvips. What is the TL2004 way of
>> doing
>> this?
>
> a possibility is:
>
> \pdfmapfile{+myfonts.map}

Nice. But that is per-document, not per-engine.

G

From pragma at wxs.nl  Tue Oct 19 14:08:56 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Tue Oct 19 14:10:47 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <21083.159.46.248.226.1098187315.squirrel@159.46.248.226>
References: <28632.159.46.248.227.1098174700.squirrel@159.46.248.227>
	<4174D49B.9020000@wxs.nl>
	<21083.159.46.248.226.1098187315.squirrel@159.46.248.226>
Message-ID: <417503D8.8020805@wxs.nl>

Gerben Wierda wrote:

>>\pdfmapfile{+myfonts.map} 
> 
> Nice. But that is per-document, not per-engine.

once dvipdfmx supports this syntax (under construction) a highlevel 
macro can take care of different engines; that is what i do here

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From te at dbs.uni-hannover.de  Tue Oct 19 14:10:30 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Tue Oct 19 14:12:19 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <200410182213.i9IMDun10046@f7.net>
References: <87is99qeyx.fsf@infovore.xs4all.nl>
	<200410182213.i9IMDun10046@f7.net>
Message-ID: <20041019121030.GE2440@dbs.uni-hannover.de>

> Master tree.  Thomas doesn't use it, he has his own private sources.

I have a few clear differences which are mainly because I want to set
the paths more resrictive than Olaf (for good reasons on both sides).
Nevertheless, the version in the TL repository helps me to track changes
that have been made to the file.

> If this is true, then I think it would be logical to make the source
> texmf.in's be whatever Gerben wants.

Ok.

> We could keep the web2c texmf.in's as texmf.in-web2c or some such, for
> the sake of documentation/use by others.  Ditto teTeX, if teTeX's files
> need to be different than gwTeX's.

Ok. We should have an eye on the differences, however, and try to avoid
arbitrary differences.

I have checked in my file as texmf.in-teTeX (#6267).

Thomas

From Gerben.Wierda at rna.nl  Tue Oct 19 14:23:56 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Tue Oct 19 14:25:39 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <20041019094828.GC2440@dbs.uni-hannover.de>
References: <28632.159.46.248.227.1098174700.squirrel@159.46.248.227>
	<4174D49B.9020000@wxs.nl> <20041019094828.GC2440@dbs.uni-hannover.de>
Message-ID: <16975.159.46.248.232.1098188636.squirrel@159.46.248.232>

>> \pdfmapfile{+myfonts.map}
>> in your document
>
> With dvips and (old) pdftex, it was possible to set up fonts globally
> on the system in a way that does not affect documents.  Now, if we add
> such things into documents, it will make them less portable.
>
> I thought that it would at least be possible to use pdftexconfig.tex and
> to store the information about map files in the format. While this is
> already a step back (format generation time vs. document processing time),
> it did not even work in my tests. Adding
>
>   \catcode`\{=1
>   \catcode`\}=2
>   \pdfmapfile{+foo.map}
>   \catcode`\{=12
>   \catcode`\}=12
>
> to pdftexconfig.tex did not cause foo.map to be read (neither at format
> generation time nor while processing a document using the new format).
>
> Does this mean, that we can only define the map files in the documents
> and no longer anywhere outside? Or, does it mean that updmap will be
> the only way to set up fonts globally for pdftex?
>

My guess would be that updmap needs to have some way to know that certain
map files are only to be used for certain engines.

G

From Gerben.Wierda at rna.nl  Tue Oct 19 14:25:46 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Tue Oct 19 14:27:30 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <20041019121030.GE2440@dbs.uni-hannover.de>
References: <87is99qeyx.fsf@infovore.xs4all.nl>
	<200410182213.i9IMDun10046@f7.net>
	<20041019121030.GE2440@dbs.uni-hannover.de>
Message-ID: <2435.159.46.248.226.1098188746.squirrel@159.46.248.226>

>> Master tree.  Thomas doesn't use it, he has his own private sources.
>
> I have a few clear differences which are mainly because I want to set
> the paths more resrictive than Olaf (for good reasons on both sides).
> Nevertheless, the version in the TL repository helps me to track changes
> that have been made to the file.
>
>> If this is true, then I think it would be logical to make the source
>> texmf.in's be whatever Gerben wants.
>
> Ok.
>
>> We could keep the web2c texmf.in's as texmf.in-web2c or some such, for
>> the sake of documentation/use by others.  Ditto teTeX, if teTeX's files
>> need to be different than gwTeX's.
>
> Ok. We should have an eye on the differences, however, and try to avoid
> arbitrary differences.
>
> I have checked in my file as texmf.in-teTeX (#6267).

Why is there a difference between texmf.in.teTeX and texmf.in?

G

From karl at freefriends.org  Tue Oct 19 14:30:22 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Oct 19 14:32:14 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <2435.159.46.248.226.1098188746.squirrel@159.46.248.226>
Message-ID: <200410191230.i9JCUMR01029@f7.net>

    Why is there a difference between texmf.in.teTeX and texmf.in?

Gerben, do you need a different texmf.in than teTeX?

If not, then they can/should be the same.

From te at dbs.uni-hannover.de  Tue Oct 19 15:33:06 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Tue Oct 19 15:35:06 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <16975.159.46.248.232.1098188636.squirrel@159.46.248.232>
References: <28632.159.46.248.227.1098174700.squirrel@159.46.248.227>
	<4174D49B.9020000@wxs.nl>
	<20041019094828.GC2440@dbs.uni-hannover.de>
	<16975.159.46.248.232.1098188636.squirrel@159.46.248.232>
Message-ID: <20041019133306.GE1099@dbs.uni-hannover.de>

> My guess would be that updmap needs to have some way to know that certain
> map files are only to be used for certain engines.

Adding things that say: these map modules only for application a, these
others only for application b is against the 'keep it simple' design of
updmap. That's something that the application should provide, i.e. dvips's
  p +foo.map
in config.ps.

All applications used to have such a feature: dvips, xdvik, dvipdfm,
pdftex. Did we really loose pdftex here? Is this intentional? Martin?

Thomas

From hartmut_henkel at gmx.de  Tue Oct 19 19:42:20 2004
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue Oct 19 19:50:25 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <4174EBBA.6070901@wxs.nl>
References: <28632.159.46.248.227.1098174700.squirrel@159.46.248.227>
	<4174D49B.9020000@wxs.nl> <20041019094828.GC2440@dbs.uni-hannover.de>
	<4174EBBA.6070901@wxs.nl>
Message-ID: <Pine.LNX.4.61.0410191937260.1420@hahepc1.hahe>

On Tue, 19 Oct 2004, Hans Hagen wrote:

> Thomas Esser wrote:
>
> > Does this mean, that we can only define the map files in the
> > documents and no longer anywhere outside? Or, does it mean that
> > updmap will be the only way to set up fonts globally for pdftex?
>
> a macro package can load a default file, for instance:
>
> \everyjob{\input localfonts.map\relax}

This was tried out by pawcoo <jackos1@poczta.onet.pl> for some .ini
file, and it works, see his mail in the pdftex list from 21 Jul 2004:

\input plain
...
\everyjob\expandafter{\the\everyjob\pdfmapfile{+acchsh.map}}
...
\dump

I've put it into the pdftex manual.

Regards, Hartmut

From Gerben.Wierda at rna.nl  Tue Oct 19 21:43:00 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Tue Oct 19 21:44:37 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <Pine.LNX.4.61.0410191937260.1420@hahepc1.hahe>
References: <28632.159.46.248.227.1098174700.squirrel@159.46.248.227>
	<4174D49B.9020000@wxs.nl>
	<20041019094828.GC2440@dbs.uni-hannover.de>
	<4174EBBA.6070901@wxs.nl>
	<Pine.LNX.4.61.0410191937260.1420@hahepc1.hahe>
Message-ID: <154AB8B6-2207-11D9-BEF0-000D93C1C2FA@rna.nl>

On 19 Oct 2004, at 19:42, Hartmut Henkel wrote:

> On Tue, 19 Oct 2004, Hans Hagen wrote:
>
>> Thomas Esser wrote:
>>
>>> Does this mean, that we can only define the map files in the
>>> documents and no longer anywhere outside? Or, does it mean that
>>> updmap will be the only way to set up fonts globally for pdftex?
>>
>> a macro package can load a default file, for instance:
>>
>> \everyjob{\input localfonts.map\relax}
>
> This was tried out by pawcoo <jackos1@poczta.onet.pl> for some .ini
> file, and it works, see his mail in the pdftex list from 21 Jul 2004:
>
> \input plain
> ...
> \everyjob\expandafter{\the\everyjob\pdfmapfile{+acchsh.map}}
> ...
> \dump
>
> I've put it into the pdftex manual.

Still, this is far from ideal because it requires a format dump to 
work. Whereas with the config system before it was done during a normal 
run. It was even possible to have a pdftex.cfg in a project directory.

G

From te at dbs.uni-hannover.de  Tue Oct 19 21:54:18 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Tue Oct 19 21:56:07 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <154AB8B6-2207-11D9-BEF0-000D93C1C2FA@rna.nl>
References: <28632.159.46.248.227.1098174700.squirrel@159.46.248.227>
	<4174D49B.9020000@wxs.nl>
	<20041019094828.GC2440@dbs.uni-hannover.de>
	<4174EBBA.6070901@wxs.nl>
	<Pine.LNX.4.61.0410191937260.1420@hahepc1.hahe>
	<154AB8B6-2207-11D9-BEF0-000D93C1C2FA@rna.nl>
Message-ID: <20041019195418.GA19326@dbs.uni-hannover.de>

On Tue, Oct 19, 2004 at 09:43:00PM +0200, Gerben Wierda wrote:
> Still, this is far from ideal because it requires a format dump to 
> work. Whereas with the config system before it was done during a normal 

Even more: it is a maintenance nightmare. I don't see that we can put
this into a central point (e.g. pdftexconfig.tex) which works for *all*
formats.

I see that this solution works with plain. The code even works if executed
before plain.tex is loaded (if the right carcodes are assigned). But,
I don't see that this works with e.g. latex.

Thomas

From pragma at wxs.nl  Tue Oct 19 22:02:29 2004
From: pragma at wxs.nl (h h extern)
Date: Tue Oct 19 22:04:21 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <154AB8B6-2207-11D9-BEF0-000D93C1C2FA@rna.nl>
References: <28632.159.46.248.227.1098174700.squirrel@159.46.248.227>
	<4174D49B.9020000@wxs.nl>
	<20041019094828.GC2440@dbs.uni-hannover.de>
	<4174EBBA.6070901@wxs.nl>
	<Pine.LNX.4.61.0410191937260.1420@hahepc1.hahe>
	<154AB8B6-2207-11D9-BEF0-000D93C1C2FA@rna.nl>
Message-ID: <417572D5.2080907@wxs.nl>

Gerben Wierda wrote:

>> \input plain
>> ...
>> \everyjob\expandafter{\the\everyjob\pdfmapfile{+acchsh.map}}
>> ...
>> \dump
>>
>> I've put it into the pdftex manual.

> Still, this is far from ideal because it requires a format dump to work. 
> Whereas with the config system before it was done during a normal run. 
> It was even possible to have a pdftex.cfg in a project directory.

you can do, along those lines:

=== pdftex-map.tex ===

\pdfmapfile{+acchsh.map}

===

with:

\everyjob\expandafter{\the\everyjob\input pdftex-map.tex\relax}}

in the format, you then have a runtime loaded file pdftex-map.tex, 
either or not in your local path

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From hartmut_henkel at gmx.de  Tue Oct 19 22:16:14 2004
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue Oct 19 22:18:02 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <417572D5.2080907@wxs.nl>
References: <28632.159.46.248.227.1098174700.squirrel@159.46.248.227>
	<4174D49B.9020000@wxs.nl> <20041019094828.GC2440@dbs.uni-hannover.de>
	<4174EBBA.6070901@wxs.nl>
	<Pine.LNX.4.61.0410191937260.1420@hahepc1.hahe>
	<154AB8B6-2207-11D9-BEF0-000D93C1C2FA@rna.nl> <417572D5.2080907@wxs.nl>
Message-ID: <Pine.LNX.4.61.0410192212040.2534@hahepc1.hahe>

On Tue, 19 Oct 2004, h h extern wrote:

> === pdftex-map.tex ===
>
> \pdfmapfile{+acchsh.map}

this pdftex-map.tex could be even a general mypdftexconfig.tex file. But
as Thomas noted...

> \everyjob\expandafter{\the\everyjob\input pdftex-map.tex\relax}}

...won't work with latex.ltx as it seems to mangle the \everyjob. Maybe
one could hook onto the \dump, ugly...

Regards, Hartmut

From fabrice.popineau at supelec.fr  Tue Oct 19 22:41:00 2004
From: fabrice.popineau at supelec.fr (Fabrice Popineau)
Date: Tue Oct 19 22:43:03 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <154AB8B6-2207-11D9-BEF0-000D93C1C2FA@rna.nl>
Message-ID: <20041019204117.85F4E173543@postfix3-1.free.fr>

 
> Still, this is far from ideal because it requires a format dump to
> work. Whereas with the config system before it was done during a normal
> run. It was even possible to have a pdftex.cfg in a project directory.

This is the real nightmare: you have a pdftex.cfg in your current directory
and you don't understand why your 'default' pdftex behaviour doesn't apply. 
And what if you 'lose' the pdftex.cfg, when giving the .tex files to someone
else for example and you forget to add the pdftex.cfg file.

At some point, you will have to give your whole tex distribution to make
sure the document is compiled somewhere else (texmf.cnf, updmap.cfg,
pdftex.cfg, whatelse ? Ah ! The .tex files sure ;-) )

Maybe I'm completely off, but from what I read, I'm convinced that having
the font specification stated in the document itself is a Good Thing (tm),
at least as good as it is to state the encoding used.

Fabrice

From karl at freefriends.org  Tue Oct 19 22:43:10 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Oct 19 22:44:52 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <417572D5.2080907@wxs.nl>
Message-ID: <200410192043.i9JKhAS12498@f7.net>

    \pdfmapfile{+acchsh.map}

Please excuse my ignorance, but what are these map files that are only
supposed to be loaded with pdftex?  (I can't find acchsh.map on CTAN,
etc.)  Why would you want to only use map files with one program and not
all?

From hartmut_henkel at gmx.de  Tue Oct 19 23:40:19 2004
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue Oct 19 23:42:03 2004
Subject: [tex-live] .map files: DOSish lines
Message-ID: <Pine.LNX.4.61.0410192335170.3293@hahepc1.hahe>

just found that there are still a few DOSish line endings in pdftex.map
(and the other .map files):

SkakNew*
fru*

not that it would matter. Any policy?

Regards, Hartmut

From te at dbs.uni-hannover.de  Wed Oct 20 07:26:54 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Wed Oct 20 07:28:41 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <200410192043.i9JKhAS12498@f7.net>
References: <417572D5.2080907@wxs.nl> <200410192043.i9JKhAS12498@f7.net>
Message-ID: <20041020052654.GB7926@dbs.uni-hannover.de>

> Please excuse my ignorance, but what are these map files that are only
> supposed to be loaded with pdftex?  (I can't find acchsh.map on CTAN,

Truetype fonts for example.

Thomas

From olaf at infovore.xs4all.nl  Wed Oct 20 08:55:33 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Wed Oct 20 08:57:24 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <20041019204117.85F4E173543@postfix3-1.free.fr> (Fabrice
	Popineau's message of "Tue, 19 Oct 2004 22:41:00 +0200")
References: <20041019204117.85F4E173543@postfix3-1.free.fr>
Message-ID: <87brexg9p6.fsf@infovore.xs4all.nl>

Fabrice Popineau writes:

>> Still, this is far from ideal because it requires a format dump to
>> work. Whereas with the config system before it was done during a normal
>> run. It was even possible to have a pdftex.cfg in a project directory.

> This is the real nightmare: you have a pdftex.cfg in your current directory
> and you don't understand why your 'default' pdftex behaviour doesn't apply. 
> And what if you 'lose' the pdftex.cfg, when giving the .tex files to someone
> else for example and you forget to add the pdftex.cfg file.

> At some point, you will have to give your whole tex distribution to make
> sure the document is compiled somewhere else (texmf.cnf, updmap.cfg,
> pdftex.cfg, whatelse ? Ah ! The .tex files sure ;-) )

> Maybe I'm completely off, but from what I read, I'm convinced that having
> the font specification stated in the document itself is a Good Thing (tm),
> at least as good as it is to state the encoding used.

One thing that helps gathering the files used in a job is the filename
recorder (the -recorder option).

For the general point, I agree with Fabrice.  The goal really should
be that (say) pdfetex.fmt is the same everywhere, and that additional
fonts etc being used are somehow made explicit in the .tex input
files.

Otherwise, you endanger one of the strong points of TeX, which is the
ability to replicate your typesetting.  And this not just when handing
the input files to someone else, but even when handing them to
yourself, half a year later.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From pragma at wxs.nl  Wed Oct 20 09:13:14 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Wed Oct 20 09:14:58 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <20041019204117.85F4E173543@postfix3-1.free.fr>
References: <20041019204117.85F4E173543@postfix3-1.free.fr>
Message-ID: <4176100A.7050703@wxs.nl>

Fabrice Popineau wrote:

> Maybe I'm completely off, but from what I read, I'm convinced that having
> the font specification stated in the document itself is a Good Thing (tm),
> at least as good as it is to state the encoding used.

indeed, just as it's good to have the document encoding specified 
somehow (instead of some remapping-on-the-fly i.e. tcx remapping 
specified on the command line versus in the document)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Wed Oct 20 09:18:01 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Wed Oct 20 09:19:50 2004
Subject: [tex-live] TL2004: adding a map to pdftex only
In-Reply-To: <200410192043.i9JKhAS12498@f7.net>
References: <200410192043.i9JKhAS12498@f7.net>
Message-ID: <41761129.5070809@wxs.nl>

Karl Berry wrote:

>     \pdfmapfile{+acchsh.map}
> 
> Please excuse my ignorance, but what are these map files that are only
> supposed to be loaded with pdftex?  (I can't find acchsh.map on CTAN,
> etc.)  Why would you want to only use map files with one program and not
> all?

because the programs can have different syntaxes / options (in my opnion 
we should move to an xml based map file syntax, properly tagged and 
extensible)

(i discussed this map loading etc issue with the dvipdfmx maintainers, 
and they are willing to/in the process of implementing \pdfmapfile|line 
like specials; and having the same map syntax would be great as well (i 
think they need more due to the more advanced encoding support of 
dvipdfmx); i dunno about dvips, but it would be nice if it would also 
kind of conform to what pdftex does

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Wed Oct 20 09:21:25 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Wed Oct 20 09:23:19 2004
Subject: [tex-live] .map files: DOSish lines
In-Reply-To: <Pine.LNX.4.61.0410192335170.3293@hahepc1.hahe>
References: <Pine.LNX.4.61.0410192335170.3293@hahepc1.hahe>
Message-ID: <417611F5.8030403@wxs.nl>

Hartmut Henkel wrote:

> just found that there are still a few DOSish line endings in pdftex.map
> (and the other .map files):

hm, there is nothing wrong with <cr><lf> in my opinion [that used to be 
the new line sequence on my typewriter]; it would be nice if the tools 
in the tex suite were not sensitive to line endings at all (i.e. treat 
cr|lf|crlf|lfcr the same, so that we can exchange windows, unix and mac 
files without problems; afm files have a similar problem)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From karl at freefriends.org  Wed Oct 20 03:28:30 2004
From: karl at freefriends.org (Karl Berry)
Date: Wed Oct 20 09:33:18 2004
Subject: [tex-live] change list for doc
Message-ID: <200410200128.i9K1SUT20014@f7.net>

All,

I've written up a first cut at the list of changes in TL 2004, excepting
anything relating to Windows, which will have to come later (*).

Please look over the attached pdf and if you think of anything else that
should be included, let me know.  (I haven't checked in the new sources
yet, but will be doing that soon.)

I haven't yet written a draft for the mapenc.html web page referred in
the first item, about the infamous backward incompatibility.  Thomas and
I will work on that soon, but I want to get the doc to the translators
asap.

Thanks,
karl

(*) Fabrice or anyone -- besides switching to the MSI-based installer,
are there are other notable changes for Windows that will affect users?

-------------- next part --------------
A non-text attachment was scrubbed...
Name: cur.pdf
Type: application/pdf
Size: 209831 bytes
Desc: not available
Url : http://tug.org/mailman/private/tex-live/attachments/20041019/d7ddeed4/cur-0001.pdf
From kakuto at fsci.fuk.kindai.ac.jp  Wed Oct 20 09:51:59 2004
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Wed Oct 20 09:53:49 2004
Subject: [tex-live] change list for doc
In-Reply-To: Your message of "Tue, 19 Oct 2004 21:28:30 -0400"
References: <200410200128.i9K1SUT20014@f7.net>
Message-ID: <200410200752.i9K7q0oV009959@jupiter.fsci.fuk.kindai.ac.jp>

> I've written up a first cut at the list of changes in TL 2004, excepting
> anything relating to Windows, which will have to come later (*).

    .map files are now searched for in subdirectories of fonts/map
    only (in each texmf tree),
    along the TEXFONTS path. 

"along the TEXFONTMAPS path." will be better.
 
-- 
Akira Kakuto

From dak at gnu.org  Wed Oct 20 10:02:39 2004
From: dak at gnu.org (David Kastrup)
Date: Wed Oct 20 10:04:28 2004
Subject: [tex-live] change list for doc
In-Reply-To: <200410200128.i9K1SUT20014@f7.net> (Karl Berry's message of
	"Tue, 19 Oct 2004 21:28:30 -0400")
References: <200410200128.i9K1SUT20014@f7.net>
Message-ID: <x5acuhddgg.fsf@lola.goethe.zz>

karl@freefriends.org (Karl Berry) writes:

> I've written up a first cut at the list of changes in TL 2004,
> excepting anything relating to Windows, which will have to come
> later (*).

Well, I saw the following from the last year:

    TEX, METAFONT, and MetaPost now, by default, output 8-bit input
    characters as themselves in output (e.g., \write) files, log
    files, and the terminal, i.e., not translated using the ^^
    notation. In TEX Live 7, this translation was dependent on the
    system locale settings; now, locale settings do not influence the
    TEX programs' behavior. If for some reason you need the ^^ output,
    rename the file texmf/web2c/cp8bit.tcx. (Future releases will have
    cleaner ways to control this.)

I lost track of the discussion and don't know what the state of this
year is.  However, if it is the same as the above, I would want to
point out that with utf8 input, the error context that TeX provides
will contain partially unicode sequences after the possible ... at the
start of an error context and before the possible ... at the end of an
error context.

I also don't know what this will make of shown boxes with utf-8
characters.

Multibyte and TeX are not pretty.  And this holds for Omega as well,
since it uses the same TeX/web2c mechanisms at that level.

So if TeX is still transparent, a warning about the effects on utf-8
might be appropriate.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From te at dbs.uni-hannover.de  Wed Oct 20 21:31:56 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Wed Oct 20 21:33:40 2004
Subject: [tex-live] updmap update / #6280
Message-ID: <20041020193156.GA22984@dbs.uni-hannover.de>

Hi,

I just have updated updmap in source / source.development and
Master/bin/*. The new version has significant better error
messages / warnings to help people with the transition to the
new directory layout.

Additionally, the programs writes a transcript. Please, check it
on your platforms and report any problems.

To check the new error messages / warnings, you can
  - remove a map file mentioned in the config file from your texmf tree
  - copy a file from fonts/map to dvips (old location)
  - move a file from fonts/map to dvips (old location)
  - create an empty file in the old location, e.g. texmf-local/dvips/marvosym.map

Thomas

From karl at freefriends.org  Wed Oct 20 23:21:56 2004
From: karl at freefriends.org (Karl Berry)
Date: Wed Oct 20 23:23:40 2004
Subject: [tex-live] ok for tab to be printable?
Message-ID: <200410202121.i9KLLuh30976@f7.net>

I noticed that the Web2C manual
(http://tug.org/texlive/devsrc/Master/texmf/doc/web2c/web2c.html#TCX-files)
says:

    you shouldn't make the following characters printable: @code{^^I} (TAB),
    ... since @TeX{} uses them in various ways.

But we do make tab printable in cp227.tcx.  Is this really a problem?
I can't even remember if I wrote the above statement, but if I did, I
don't remember what I was thinking of.  A quick look at tex.web did not
glean any special uses of tab.

Any ideas?  I figure we can probably just drop that from web2c.texi?

Thanks,
k

From karl at freefriends.org  Thu Oct 21 01:19:43 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Oct 21 01:21:26 2004
Subject: [tex-live] updated English doc
Message-ID: <200410202319.i9KNJhU29363@f7.net>

Hi everyone,

I've submitted the new version of the English documentation, including
the various suggestions for the change list (thanks), etc.  The Windows
sections are unchanged until we know what changes are needed, but
everything else is there and up-to-date, as far as I know.  (I'm sure I
missed some things.)

PDF:
http://tug.org/texlive/devsrc/Master/texmf-doc/doc/english/texlive-en/live.pdf

Source:
http://tug.org/texlive/devsrc/Master/texmf-doc/source/english/texlive-en/live.tex
http://tug.org/texlive/devsrc/Master/texmf-doc/source/english/texlive-en/tex-live.sty

No HTML for the moment.  Eitan and I are working on that, it'll be there soon.

Any comments or suggestions are welcome.  I'm going to be away Thu-Mon,
back online Tuesday.  So I'll answer any mail about it next week.

FYI, I'm asking the translators (on the tldoc list) to start at their end.

Thanks,
k

From slodi at deis.unibo.it  Thu Oct 21 01:50:33 2004
From: slodi at deis.unibo.it (Stefano Lodi)
Date: Thu Oct 21 01:55:14 2004
Subject: [tex-live] initex '&FORMAT' with whizzytex
Message-ID: <4176F9C9.4070208@deis.unibo.it>

I installed TexLive on a loop filessytem and checked that it formats 
correctly various latex sources of mine.  I run into problems when 
installing the whizzytex package for emacs. Both during installation 
tests and normal operation, I believe whizzytex builds a format for its 
own use by running a command such as

initex '&$FORMAT'  <somecommands>

In TeXLive this seems to rebuild  $FORMAT in web2c by 'etex -ini 
-jobname...'  Any help on how one could simulate the "old" behaviour so 
that I can feed the whizzytex script with a initex wrapper it can use, 
is appreciated.

I'm pasting below the transcript of the whizzytex installation. (Some 
details have been omitted.)  The failed command which tests if a format 
can be built is

initex '&latex' dummy > initex.log && [ -f dummy.fmt ]

transcript follows.

Stefano

##################################
knoppix@ttyp1[whizzytex-1.2.0]$ make all
...
Running INITEX=initex  ... kpathsea: Running mktexfmt latex.fmt
running `etex -ini   -jobname=latex -progname=latex *latex.ini' ...
This is e-TeXk, Version 3.141592-2.1 (Web2C 7.5.2) (INITEX)
%&-line parsing enabled.
(/KNOPPIX/usr/local/TeX/texmf/web2c/cp8bit.tcx)
entering extended mode
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/config/latex.ini
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/latex.ltx
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/texsys.cfg)
./texsys.aux found


\@currdir set to: ./.


Assuming \openin and \input
have the same search path.


Defining UNIX/DOS style filename parser.

catcodes, registers, compatibility for TeX 2,  parameters,
LaTeX2e <2001/06/01>
hacks, control, par, spacing, files, font encodings, lengths,
====================================

Local config file fonttext.cfg used

====================================
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/fonttext.cfg
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/fonttext.ltx
=== Don't modify this file, use a .cfg file instead ===

(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/omlenc.def)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/t1enc.def)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/ot1enc.def)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/omsenc.def)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/t1cmr.fd)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/ot1cmr.fd)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/ot1cmss.fd)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/ot1cmtt.fd)))
====================================

Local config file fontmath.cfg used

====================================
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/fontmath.cfg
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/fontmath.ltx
=== Don't modify this file, use a .cfg file instead ===

(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/omlcmm.fd)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/omscmsy.fd)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/omxcmex.fd)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/ucmr.fd)))
====================================

Local config file preload.cfg used

=====================================
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/preload.cfg
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/preload.ltx)) page nos., 
x-ref,
environments, center, verbatim, math definitions, boxes, title, sectioning,
contents, floats, footnotes, index, bibliography, output,
===========================================
Local configuration file hyphen.cfg used
===========================================
(/KNOPPIX/usr/local/TeX/texmf/tex/generic/babel/hyphen.cfg
(/KNOPPIX/usr/local/TeX/texmf/tex/generic/hyphen/ushyph.tex)
(/KNOPPIX/usr/local/TeX/texmf/tex/generic/hyphen/dumyhyph.tex)
(/KNOPPIX/usr/local/TeX/texmf/tex/generic/hyphen/zerohyph.tex)
(/KNOPPIX/usr/local/TeX/texmf/tex/generic/hyphen/gbhyph.tex)
(/KNOPPIX/usr/local/TeX/texmf/tex/generic/hyphen/ithyph.tex))
=================================
Applying patch file ltpatch.ltx
=================================
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/ltpatch.ltx)
) )
Beginning to dump on file latex.efmt
(format=latex 2004.10.19)
4268 strings of total length 56234
43665 memory locations dumped; current usage is 144&41726
3092 multiletter control sequences
\font\nullfont=nullfont
\font\OMX/cmex/m/n/10=cmex10
\font\tenln=line10
\font\tenlnw=linew10
\font\tencirc=lcircle10
\font\tencircw=lcirclew10
\font\OT1/cmr/m/n/5=cmr5
\font\OT1/cmr/m/n/7=cmr7
\font\OT1/cmr/m/n/10=cmr10
\font\OML/cmm/m/it/5=cmmi5
\font\OML/cmm/m/it/7=cmmi7
\font\OML/cmm/m/it/10=cmmi10
\font\OMS/cmsy/m/n/5=cmsy5
\font\OMS/cmsy/m/n/7=cmsy7
\font\OMS/cmsy/m/n/10=cmsy10
3633 words of font info for 14 preloaded fonts
22 hyphenation exceptions
Hyphenation trie of length 17036 has 437 ops out of 35111
 30 for language 4
 224 for language 3
 2 for language 1
 181 for language 0
No pages of output.
Transcript written on latex.log.
fmtutil: /KNOPPIX/usr/local/TeX/texmf-var/web2c/latex.efmt installed.

*** Error:

 Command failed:

     initex '&latex' dummy > initex.log && [ -f dummy.fmt ]

From karl at freefriends.org  Thu Oct 21 15:17:44 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Oct 21 15:19:39 2004
Subject: [tex-live] initex '&FORMAT' with whizzytex
In-Reply-To: <4176F9C9.4070208@deis.unibo.it>
Message-ID: <200410211317.i9LDHiH07225@f7.net>

Hi Stefano,

    Any help on how one could simulate the "old" behaviour so 
    that I can feed the whizzytex script with a initex wrapper it can use, 
    is appreciated.

If you make initex a symlink to pdfetex, in the TL bin directory, it
should work.  As in:
cd /wherever/tl/bin/i386-linux
ln -s pdfetex initex

If that's inconvenient, you could make an initex shell script (and put
it anywhere):

#!/bin/sh
exec /wherever/tl/bin/i386-linux/pdfetex -ini "$@"

I just tried both of these and got a dummy.fmt from a dummy.tex
containing the one line "\dump".

Why does it need a format, anyway?  Are there that many macros?  Just curious.

Hope this helps ...

karl

From slodi at deis.unibo.it  Fri Oct 22 01:04:56 2004
From: slodi at deis.unibo.it (Stefano Lodi)
Date: Fri Oct 22 01:10:59 2004
Subject: [tex-live] initex '&FORMAT' with whizzytex
In-Reply-To: <200410211317.i9LDHiH07225@f7.net>
References: <200410211317.i9LDHiH07225@f7.net>
Message-ID: <41784098.40006@deis.unibo.it>

Thanks for replying Karl. 
Karl Berry wrote:

>Hi Stefano,
>
>    Any help on how one could simulate the "old" behaviour so 
>    that I can feed the whizzytex script with a initex wrapper it can use, 
>    is appreciated.
>
>If you make initex a symlink to pdfetex, in the TL bin directory, it
>should work.  As in:
>cd /wherever/tl/bin/i386-linux
>ln -s pdfetex initex
>
>If that's inconvenient, you could make an initex shell script (and put
>it anywhere):
>
>#!/bin/sh
>exec /wherever/tl/bin/i386-linux/pdfetex -ini "$@"
>
>I just tried both of these and got a dummy.fmt from a dummy.tex
>containing the one line "\dump".
>  
>
There must be something terribly wrong with my installations (I tried 
TeXLive on two different systems, user the same iso file for both 
installations).  Here's what I get:

/usr/local/TeXLive/bin/i386-linux> ./pdfetex '&latex'
This is pdfeTeXk, Version 3.141592-1.11a-2.1 (Web2C 7.5.2)
 %&-line parsing enabled.
 (/usr/local/TeXLive/texmf/web2c/cp8bit.tcx)
(Fatal format file error; I'm stymied)

~> /usr/local/TeXLive/bin/i386-linux/pdfetex '&latex' dummy.tex
This is pdfeTeXk, Version 3.141592-1.11a-2.1 (Web2C 7.5.2)
 %&-line parsing enabled.
 (/usr/local/TeXLive/texmf/web2c/cp8bit.tcx)
(Fatal format file error; I'm stymied)

>Why does it need a format, anyway?  Are there that many macros?  Just curious.
>
>Hope this helps ...
>
>karl
>  
>


-- 
Dr. Stefano Lodi                        home page: www-db.deis.unibo.it/~slodi
Dept. of Electr. C. Sc. & Systems          e-mail: slodi@deis.unibo.it
University of Bologna                         tel: +39-051-20(93560)
via Risorgimento 2                            fax: +39-051-20(93540)
I-40136 Bologna BO, Italy


From olaf at infovore.xs4all.nl  Fri Oct 22 11:34:33 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Fri Oct 22 11:36:45 2004
Subject: [tex-live] initex '&FORMAT' with whizzytex
In-Reply-To: <200410211317.i9LDHiH07225@f7.net> (Karl Berry's message of
	"Thu, 21 Oct 2004 09:17:44 -0400")
References: <200410211317.i9LDHiH07225@f7.net>
Message-ID: <871xfrayfq.fsf@infovore.xs4all.nl>

Karl Berry writes:

> Hi Stefano,
>     Any help on how one could simulate the "old" behaviour so 
>     that I can feed the whizzytex script with a initex wrapper it can use, 
>     is appreciated.

> If you make initex a symlink to pdfetex, in the TL bin directory, it
> should work.  As in:
> cd /wherever/tl/bin/i386-linux
> ln -s pdfetex initex

I don't think this would: pdfetex will not recognize 'initex' as a
special name implying the -ini option.  The better suggestion is a
wrapper script.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From olaf at infovore.xs4all.nl  Fri Oct 22 11:36:18 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Fri Oct 22 11:38:20 2004
Subject: [tex-live] initex '&FORMAT' with whizzytex
In-Reply-To: <41784098.40006@deis.unibo.it> (Stefano Lodi's message of "Fri,
	22 Oct 2004 01:04:56 +0200")
References: <200410211317.i9LDHiH07225@f7.net> <41784098.40006@deis.unibo.it>
Message-ID: <87wtxj9jsd.fsf@infovore.xs4all.nl>

Stefano Lodi writes:

> There must be something terribly wrong with my installations (I tried
> TeXLive on two different systems, user the same iso file for both
> installations).  Here's what I get:

> /usr/local/TeXLive/bin/i386-linux> ./pdfetex '&latex'
> This is pdfeTeXk, Version 3.141592-1.11a-2.1 (Web2C 7.5.2)
>  %&-line parsing enabled.
>  (/usr/local/TeXLive/texmf/web2c/cp8bit.tcx)
> (Fatal format file error; I'm stymied)

This almost certainly means pdfetex is not the engine for which the
latex format was created (it will be in the upcoming TeX-live).  You
may want to verify to which engine the latex symlink points, and use
that one.

-- 
Olaf Weber

               (This space left blank for technical reasons.)

From dak at gnu.org  Fri Oct 22 14:25:16 2004
From: dak at gnu.org (David Kastrup)
Date: Fri Oct 22 14:27:05 2004
Subject: [tex-live] initex '&FORMAT' with whizzytex
In-Reply-To: <87wtxj9jsd.fsf@infovore.xs4all.nl> (Olaf Weber's message of
	"Fri, 22 Oct 2004 11:36:18 +0200")
References: <200410211317.i9LDHiH07225@f7.net> <41784098.40006@deis.unibo.it>
	<87wtxj9jsd.fsf@infovore.xs4all.nl>
Message-ID: <x57jpj6itv.fsf@lola.goethe.zz>

Olaf Weber <olaf@infovore.xs4all.nl> writes:

> Stefano Lodi writes:
>
>> There must be something terribly wrong with my installations (I tried
>> TeXLive on two different systems, user the same iso file for both
>> installations).  Here's what I get:
>
>> /usr/local/TeXLive/bin/i386-linux> ./pdfetex '&latex'
>> This is pdfeTeXk, Version 3.141592-1.11a-2.1 (Web2C 7.5.2)
>>  %&-line parsing enabled.
>>  (/usr/local/TeXLive/texmf/web2c/cp8bit.tcx)
>> (Fatal format file error; I'm stymied)
>
> This almost certainly means pdfetex is not the engine for which the
> latex format was created (it will be in the upcoming TeX-live).  You
> may want to verify to which engine the latex symlink points, and use
> that one.

We basically had the same problem with preview-latex, which also uses
predumped formats.  The only reliable way with a web2c-based system of
the last years to dump and restore a format I have found is to use

latex -ini '&latex' whatever '\dump'

and then

latex '&whatever' ...

resp.

pdflatex -ini '&pdflatex' whatever '\dump'

pdflatex '&whatever'

Anything else will cause problem with one or the other format/engine
combination from the last few years.

You might want to report that suggestion to the author of WhizzyTeX
(as a friendly hint from the competition).

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From rainer at klueting.de  Fri Oct 22 14:10:28 2004
From: rainer at klueting.de (Rainer Klueting)
Date: Fri Oct 22 14:35:09 2004
Subject: [tex-live] Bug in updmap?!
Message-ID: <417914D4.19338.E18EC1@localhost>

Hi,

I just subscribed to this mailing list, and here I am reporting a 
bug. That doesn't sound like good style. But I was encouraged to 
do so by several people in the usenet-group de.comp.text.tex.

To make a lengthy story short: After some troubles getting a 
newly installed postscript font working, usenet-people gave me the 
advice to register my new map-file by

updmap --enable Map xyz.map

instead of telling me to edit updmap.cfg first and then simply 
calling updmap without any option (which did it for me, later on). 
As you may know, updmap is present in TeXLive as an exe-file and 
a perl-script.

I tried the above command. It failed, telling me:

using config file c:/Programme/TeXLive/texmf-
var/web2c/updmap.cfg
type=Map,map=1
configReplace c:/Programme/TeXLive/texmf-
var/web2c/updmap.cfg, ^#!\s*Map\s*1, Map 1
c:/Programme/TeXLive/texmf-var/web2c/updmap.cfg unchanged. 
Map files not recreated.

Please watch the expression ^#!\s*Map\s*1, Map 1. This is 
obviously a regular expression which is meant to "activate" or 
"enable" a map-file in updmap.cfg. It is meant to

replace line: #! Map xyz.map
by line: Map xyz.map

But it doesn't, because the name of the map-file is replaced by the 
number "1", whatever file name you give.

Similar errors surface, if you give updmap some of the other legal 
options. Whenever you give three tokens to the commandline, as 
in

updmap --enable Map xyz.map
or in
updmap --setoption <option> <argument>

the third token, the <argument>, will not be accepted, neither by 
updmap.exe nor by updmap.pl.

My version of updmap.pl is said to be of 2002, author Thomas 
Esser. I wrote to Thomas, but he told me he didn't write the perl-
version of the script. He wasn't sure but guessed Fabrice Popineau 
might have converted his Bourne-script to perl and additionally 
compiled an exe.

I'm no more than a beginner in perl; I didn't find the fault in the 
script on my first glance. I wonder if there is already a fixed 
version available.

Regards

-- 
Rainer Klueting
Stuttgart, Germany

From slodi at deis.unibo.it  Fri Oct 22 19:50:35 2004
From: slodi at deis.unibo.it (Stefano Lodi)
Date: Fri Oct 22 19:56:01 2004
Subject: [tex-live] initex '&FORMAT' with whizzytex
In-Reply-To: <871xfrayfq.fsf@infovore.xs4all.nl>
References: <200410211317.i9LDHiH07225@f7.net>
	<871xfrayfq.fsf@infovore.xs4all.nl>
Message-ID: <4179486B.8060909@deis.unibo.it>

Thanks Olaf.  Initex is linked to  tex.  But if  I write

$ tex '&latex' dummy.tex

where dummy tex contains just \dump,  the  format is indeed built, but 
in web2c, and it's named latex.fmt; not in '.'  named dummy.fmt as I'd 
expect (see the last but one line in the output)
The error message is still  there. Perhaps &-line parsing should be 
disabled?  I'm just guessing.

This is TeXk, Version 3.141592 (Web2C 7.5.2)
%&-line parsing enabled.
(/KNOPPIX/usr/local/TeX/texmf/web2c/cp8bit.tcx)
kpathsea: Running mktexfmt latex.fmt
running `etex -ini   -jobname=latex -progname=latex *latex.ini' ...
This is e-TeXk, Version 3.141592-2.1 (Web2C 7.5.2) (INITEX)
%&-line parsing enabled.
(/KNOPPIX/usr/local/TeX/texmf/web2c/cp8bit.tcx)
entering extended mode
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/config/latex.ini
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/latex.ltx
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/texsys.cfg)
./texsys.aux found


\@currdir set to: ./.


Assuming \openin and \input
have the same search path.


Defining UNIX/DOS style filename parser.

catcodes, registers, compatibility for TeX 2,  parameters,
LaTeX2e <2001/06/01>
hacks, control, par, spacing, files, font encodings, lengths,
====================================

Local config file fonttext.cfg used

====================================
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/fonttext.cfg
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/fonttext.ltx
=== Don't modify this file, use a .cfg file instead ===

(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/omlenc.def)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/t1enc.def)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/ot1enc.def)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/omsenc.def)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/t1cmr.fd)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/ot1cmr.fd)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/ot1cmss.fd)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/ot1cmtt.fd)))
====================================

Local config file fontmath.cfg used

====================================
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/fontmath.cfg
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/fontmath.ltx
=== Don't modify this file, use a .cfg file instead ===

(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/omlcmm.fd)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/omscmsy.fd)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/omxcmex.fd)
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/ucmr.fd)))
====================================

Local config file preload.cfg used

=====================================
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/preload.cfg
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/preload.ltx)) page nos., 
x-ref,
environments, center, verbatim, math definitions, boxes, title, sectioning,
contents, floats, footnotes, index, bibliography, output,
===========================================
Local configuration file hyphen.cfg used
===========================================
(/KNOPPIX/usr/local/TeX/texmf/tex/generic/babel/hyphen.cfg
(/KNOPPIX/usr/local/TeX/texmf/tex/generic/hyphen/ushyph.tex)
(/KNOPPIX/usr/local/TeX/texmf/tex/generic/hyphen/dumyhyph.tex)
(/KNOPPIX/usr/local/TeX/texmf/tex/generic/hyphen/zerohyph.tex)
(/KNOPPIX/usr/local/TeX/texmf/tex/generic/hyphen/gbhyph.tex)
(/KNOPPIX/usr/local/TeX/texmf/tex/generic/hyphen/ithyph.tex))
=================================
Applying patch file ltpatch.ltx
=================================
(/KNOPPIX/usr/local/TeX/texmf/tex/latex/base/ltpatch.ltx)
) )
Beginning to dump on file latex.efmt
(format=latex 2004.10.22)
4268 strings of total length 56234
43665 memory locations dumped; current usage is 144&41726
3092 multiletter control sequences
\font\nullfont=nullfont
\font\OMX/cmex/m/n/10=cmex10
\font\tenln=line10
\font\tenlnw=linew10
\font\tencirc=lcircle10
\font\tencircw=lcirclew10
\font\OT1/cmr/m/n/5=cmr5
\font\OT1/cmr/m/n/7=cmr7
\font\OT1/cmr/m/n/10=cmr10
\font\OML/cmm/m/it/5=cmmi5
\font\OML/cmm/m/it/7=cmmi7
\font\OML/cmm/m/it/10=cmmi10
\font\OMS/cmsy/m/n/5=cmsy5
\font\OMS/cmsy/m/n/7=cmsy7
\font\OMS/cmsy/m/n/10=cmsy10
3633 words of font info for 14 preloaded fonts
22 hyphenation exceptions
Hyphenation trie of length 17036 has 437 ops out of 35111
 30 for language 4
 224 for language 3
 2 for language 1
 181 for language 0
No pages of output.
Transcript written on latex.log.
fmtutil: /KNOPPIX/usr/local/TeX/texmf-var/web2c/latex.efmt installed.
(Fatal format file error; I'm stymied)


-Stefano

Olaf Weber wrote:

>Karl Berry writes:
>
>  
>
>>Hi Stefano,
>>    Any help on how one could simulate the "old" behaviour so 
>>    that I can feed the whizzytex script with a initex wrapper it can use, 
>>    is appreciated.
>>    
>>
>
>  
>
>>If you make initex a symlink to pdfetex, in the TL bin directory, it
>>should work.  As in:
>>cd /wherever/tl/bin/i386-linux
>>ln -s pdfetex initex
>>    
>>
>
>I don't think this would: pdfetex will not recognize 'initex' as a
>special name implying the -ini option.  The better suggestion is a
>wrapper script.
>  
>

From bnb at ams.org  Fri Oct 22 20:14:45 2004
From: bnb at ams.org (Barbara Beeton)
Date: Fri Oct 22 20:16:31 2004
Subject: [tex-live] last minute update to ams-latex
Message-ID: <Pine.GSO.4.53.0410221407170.2323@sun06.ams.org>

thomas esser has just called my attention to several
erroneous versions of files in the ams-latex collection
as posted on ctan and the ams site.

in particular, amsmath.dtx was a version left unfinished
by michael downes that should not have gotten into
general distribution.  (amscd.sty and subeqn.tex were
also not in synch, but those are less critical.)

repairs have been made, and the correct versions are
now posted on the ams site, obtainable as a tds-compliant
zip file at
    ftp://ftp.ams.org/pub/tex/amslatex.zip
and also as separate files in an arrangement that is
mirrored to ctan.  i'm about to notify the ctan crew
that this has happened so that they can trigger the
mirror.

if at all possible, the corrected files should get into
the tex live collection now under construction.

thanks.
							-- bb

From preining at logic.at  Fri Oct 22 20:42:17 2004
From: preining at logic.at (Norbert Preining)
Date: Fri Oct 22 20:44:03 2004
Subject: [tex-live] recompile dvips?
Message-ID: <20041022184217.GA3060@gamma.logic.tuwien.ac.at>

Hi friends!

Change 6295 on 2004/10/22 by rokicki@rokicki 'Fixed the typo in the previous '
Change 6294 on 2004/10/22 by rokicki@rokicki 'Fixed a defect where <[file1 <f'

Should we recompile?



Best wishes

Norbert

-------------------------------------------------------------------------------
Norbert Preining <preining AT logic DOT at>         Technische Universit?t Wien
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
`We've got to find out what people want from fire, how
they relate to it, what sort of image it has for them.'
The crowd were tense. They were expecting something
wonderful from Ford.
`Stick it up your nose,' he said.
`Which is precisely the sort of thing we need to know,'
insisted the girl, `Do people want fire that can be fitted
nasally?'
                 --- Ford "debating" what to do with fire with a marketing
                 --- girl.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From fabrice.popineau at supelec.fr  Fri Oct 22 21:54:47 2004
From: fabrice.popineau at supelec.fr (Fabrice Popineau)
Date: Fri Oct 22 21:56:24 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <417914D4.19338.E18EC1@localhost>
Message-ID: <20041022195438.66CED1F05DA@postfix4-1.free.fr>

> updmap --enable Map xyz.map

I'll check the behaviour but the first problem is that you can't call it the
same way you call the shell script :

updmap --enable Map=xyz.map

if I recall correctly. The message you get with --help should say that (it
does with the latest version anyway). Also the comment at the beginning of
the file says:

# updmap: utility to maintain map files for outline fonts.
#
# Thomas Esser, (C) 2002. Public domain.
# Fabrice Popineau, for the Perl version.

Yes, I did translate almost literally the shell script into perl.

Fabrice


From te at dbs.uni-hannover.de  Fri Oct 22 22:03:58 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Fri Oct 22 22:05:56 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <41736DB0.9040203@wxs.nl>
References: <20041017175038.GC7613@dbs.uni-hannover.de>
	<200410180118.i9I1IVod024431@jupiter.fsci.fuk.kindai.ac.jp>
	<41736DB0.9040203@wxs.nl>
Message-ID: <20041022200358.GA17873@dbs.uni-hannover.de>

> >I think there are users who need both
> >$TEXMF/web2c/aleph/cont-en.fmt and

I just noticed that the current version of context (from your website)
fails to build a format with the aleph engine:

    ...
    ) (/software/oss/Text/teTeX-3.0/share/texmf-dist/tex/context/base/core-job.tex
    loading        : Context Core Macros / Job Handling
    ! Undefined control sequence.
    l.374 \ifnum\number\pdftexversion
                                     <120

Thomas

From vvv at vsu.ru  Fri Oct 22 22:17:50 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Fri Oct 22 22:19:36 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <20041022195438.66CED1F05DA@postfix4-1.free.fr> (Fabrice
	Popineau's message of "Fri, 22 Oct 2004 21:54:47 +0200")
References: <20041022195438.66CED1F05DA@postfix4-1.free.fr>
Message-ID: <m3breujymp.fsf@vvv.vsu.ru>

"FP" == Fabrice Popineau writes:

 FP> I'll check the behaviour but the first problem is that you can't
 FP> call it the same way you call the shell script :

 FP> updmap --enable Map=xyz.map

 FP> if I recall correctly.

The way to call a shell script is:

updmap --enable Map xyz.map

I.e. you should change your converted script to use this syntax to
avoid incompatibility. AFAIR, this has already been discussed long
time ago.

$ updmap --help
Usage: updmap [option] ... [command]
 
Valid options:
  --cnffile file             specify configuration file
  --dvipsoutputdir directory   specify output directory (dvips syntax)
  --pdftexoutputdir directory  specify output directory (pdftex syntax)
  --dvipdfmoutputdir directory specify output directory (dvipdfm syntax)
  --outputdir directory      specify output directory (for all files)
  --nohash                   do not run texhash
  --nomkmap                  do not recreate map files
  --quiet                    reduce verbosity
 
Valid commands:
  --edit                     edit updmap.cfg file
  --help                     show this message
  --showoptions item         show alternatives for options
  --setoption option value   set option where option is one
                             of dvipsPreferOutline, LW35, dvipsDownloadBase35
                             or pdftexDownloadBase14
  --enable maptype mapfile   add or enable a Map or MixedMap
  --disable mapfile          disable Map or MixedMap for mapfile
  --listmaps                 list all active and inactive maps

Best,
v.

From pragma at wxs.nl  Fri Oct 22 22:51:33 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Oct 22 22:53:40 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <20041022200358.GA17873@dbs.uni-hannover.de>
References: <20041017175038.GC7613@dbs.uni-hannover.de>
	<200410180118.i9I1IVod024431@jupiter.fsci.fuk.kindai.ac.jp>
	<41736DB0.9040203@wxs.nl>
	<20041022200358.GA17873@dbs.uni-hannover.de>
Message-ID: <417972D5.3040609@wxs.nl>

Thomas Esser wrote:
>>>I think there are users who need both
>>>$TEXMF/web2c/aleph/cont-en.fmt and
> 
> 
> I just noticed that the current version of context (from your website)
> fails to build a format with the aleph engine:
> 
>     ...
>     ) (/software/oss/Text/teTeX-3.0/share/texmf-dist/tex/context/base/core-job.tex
>     loading        : Context Core Macros / Job Handling
>     ! Undefined control sequence.
>     l.374 \ifnum\number\pdftexversion
>                                      <120
> 

oeps, corrected in attached file, sorry for the inconvenience

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: core-job.zip
Type: application/zip
Size: 3591 bytes
Desc: not available
Url : http://tug.org/mailman/private/tex-live/attachments/20041022/ee36f65a/core-job-0001.zip
From te at dbs.uni-hannover.de  Fri Oct 22 22:58:42 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Fri Oct 22 23:00:35 2004
Subject: [tex-live] TEXINPUTS problem
In-Reply-To: <417972D5.3040609@wxs.nl>
References: <20041017175038.GC7613@dbs.uni-hannover.de>
	<200410180118.i9I1IVod024431@jupiter.fsci.fuk.kindai.ac.jp>
	<41736DB0.9040203@wxs.nl>
	<20041022200358.GA17873@dbs.uni-hannover.de>
	<417972D5.3040609@wxs.nl>
Message-ID: <20041022205842.GA27561@dbs.uni-hannover.de>

> oeps, corrected in attached file,

Thanks, works!

> sorry for the inconvenience

Nothing really bad happened. I am glad that I had that line that builds an
aleph based cont-en in my configuration, so I noticed that when installing
the latest version of teTeX (with a very-up-to-date texmf tree).

Thomas

From staw at gust.org.pl  Fri Oct 22 23:48:59 2004
From: staw at gust.org.pl (Staszek Wawrykiewicz)
Date: Fri Oct 22 23:36:27 2004
Subject: [tex-live] recompile dvips?
In-Reply-To: <20041022184217.GA3060@gamma.logic.tuwien.ac.at>
Message-ID: <Pine.LNX.4.44.0410222332350.17902-100000@re86.internetdsl.tpnet.pl>

On Fri, 22 Oct 2004, Norbert Preining wrote:

> Hi friends!
> 
> Change 6295 on 2004/10/22 by rokicki@rokicki 'Fixed the typo in the previous '
> Change 6294 on 2004/10/22 by rokicki@rokicki 'Fixed a defect where <[file1 <f'
> 
> Should we recompile?

Hmmm... Officially TL is frozen, but I was asked to recompile tex4ht.
Karl with Eitan are fighting to reach some stable point and
they promissed doing that within next few days.
Thomas also corrected slightly makeindex, so perhaps it would be wise
to make another build next week. I'm only asking...
Sebastian?

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl


From te at dbs.uni-hannover.de  Fri Oct 22 23:53:04 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Fri Oct 22 23:54:53 2004
Subject: [tex-live] recompile dvips?
In-Reply-To: <Pine.LNX.4.44.0410222332350.17902-100000@re86.internetdsl.tpnet.pl>
References: <20041022184217.GA3060@gamma.logic.tuwien.ac.at>
	<Pine.LNX.4.44.0410222332350.17902-100000@re86.internetdsl.tpnet.pl>
Message-ID: <20041022215304.GA30193@dbs.uni-hannover.de>

> Thomas also corrected slightly makeindex, so perhaps it would be wise
> to make another build next week. I'm only asking...

For sure, this does not justify a complete rebuild.

Thomas

From sebastian.rahtz at computing-services.oxford.ac.uk  Sat Oct 23 13:41:19 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Sat Oct 23 13:43:03 2004
Subject: [tex-live] recompile dvips?
In-Reply-To: <20041022215304.GA30193@dbs.uni-hannover.de>
References: <20041022184217.GA3060@gamma.logic.tuwien.ac.at>
	<Pine.LNX.4.44.0410222332350.17902-100000@re86.internetdsl.tpnet.pl>
	<20041022215304.GA30193@dbs.uni-hannover.de>
Message-ID: <20041023114118.GA11900@herald.ox.ac.uk>

I don't think anyone should recompile at this stage.


sebastian

From fabrice.popineau at supelec.fr  Sat Oct 23 17:19:28 2004
From: fabrice.popineau at supelec.fr (Fabrice Popineau)
Date: Sat Oct 23 17:21:06 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <m3breujymp.fsf@vvv.vsu.ru>
Message-ID: <20041023151919.487C61CD195@postfix4-1.free.fr>

> The way to call a shell script is:

I claim for too long that those shell scripts are damageable to portability.

> 
> updmap --enable Map xyz.map
> 
> I.e. you should change your converted script to use this syntax to
> avoid incompatibility. AFAIR, this has already been discussed long
> time ago.

This kind of syntax is weird. Perl has getopt().
I won't change it ... feel free to do so.

Fabrice


From slodi at deis.unibo.it  Sat Oct 23 19:15:11 2004
From: slodi at deis.unibo.it (Stefano Lodi)
Date: Sat Oct 23 19:20:45 2004
Subject: [tex-live] initex '&FORMAT' with whizzytex
In-Reply-To: <87655279ar.fsf@infovore.xs4all.nl>
References: <200410211317.i9LDHiH07225@f7.net>	<871xfrayfq.fsf@infovore.xs4all.nl>
	<41794658.2030401@deis.unibo.it>
	<87655279ar.fsf@infovore.xs4all.nl>
Message-ID: <417A919F.6070003@deis.unibo.it>

Dear Olaf,

Olaf Weber wrote:

>Stefano Lodi writes:
>
>  
>
>>Thanks Olaf.  Initex is linked to  tex.  But if  I write
>>$ tex '&latex' dummy.tex
>>    
>>
>
>The question is not what initex is linked to, but what latex is linked
>to.  You need to use etex.
>  
>
you are right.  I read your reply hastily.  I think now it works, but I 
will check carefully and report back in more detail ASAP.

-Stefano

-- 
Dr. Stefano Lodi                        home page: www-db.deis.unibo.it/~slodi
Dept. of Electr. C. Sc. & Systems          e-mail: slodi@deis.unibo.it
University of Bologna                         tel: +39-051-20(93560)
via Risorgimento 2                            fax: +39-051-20(93540)
I-40136 Bologna BO, Italy


From pragma at wxs.nl  Mon Oct 25 14:58:54 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Mon Oct 25 15:00:36 2004
Subject: [tex-live] recompile dvips?
In-Reply-To: <20041022215304.GA30193@dbs.uni-hannover.de>
References: <20041022184217.GA3060@gamma.logic.tuwien.ac.at>
	<Pine.LNX.4.44.0410222332350.17902-100000@re86.internetdsl.tpnet.pl>
	<20041022215304.GA30193@dbs.uni-hannover.de>
Message-ID: <417CF88E.7000603@wxs.nl>

Hi,

here i get:

 >vptovf
vftovp: Need one to three file arguments.
Try `vftovp --help' for more information.

Can someone check the windows binary path in the master repository for 
this? (p f swap)

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From sebastian.rahtz at computing-services.oxford.ac.uk  Mon Oct 25 15:15:48 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon Oct 25 15:16:25 2004
Subject: [tex-live] last minute update to ams-latex
In-Reply-To: <Pine.GSO.4.53.0410221407170.2323@sun06.ams.org>
References: <Pine.GSO.4.53.0410221407170.2323@sun06.ams.org>
Message-ID: <417CFC84.4020708@computing-services.oxford.ac.uk>

TL is now in the same updated state as teTeX

sebastian

From slodi at deis.unibo.it  Mon Oct 25 15:21:43 2004
From: slodi at deis.unibo.it (Stefano Lodi)
Date: Mon Oct 25 15:27:28 2004
Subject: [tex-live] initex '&FORMAT' with whizzytex
In-Reply-To: <87655279ar.fsf@infovore.xs4all.nl>
References: <200410211317.i9LDHiH07225@f7.net>	<871xfrayfq.fsf@infovore.xs4all.nl>
	<41794658.2030401@deis.unibo.it>
	<87655279ar.fsf@infovore.xs4all.nl>
Message-ID: <417CFDE7.8020708@deis.unibo.it>

Olaf Weber wrote:

>Stefano Lodi writes:
>
>  
>
>>Thanks Olaf.  Initex is linked to  tex.  But if  I write
>>$ tex '&latex' dummy.tex
>>    
>>
>
>The question is not what initex is linked to, but what latex is linked
>to.  You need to use etex.
>
>  
>
>>The error message is still  there. Perhaps &-line parsing should be
>>disabled?  I'm just guessing.
>>    
>>
>
>  
>
>>This is TeXk, Version 3.141592 (Web2C 7.5.2)
>> %&-line parsing enabled.
>> (/KNOPPIX/usr/local/TeX/texmf/web2c/cp8bit.tcx)
>>kpathsea: Running mktexfmt latex.fmt
>>running `etex -ini   -jobname=latex -progname=latex *latex.ini' ...
>>This is e-TeXk, Version 3.141592-2.1 (Web2C 7.5.2) (INITEX)
>>    
>>
>          ^^^^^^
>
>  
>
As to my last message, to be more precise it worked by configuring with

$ ./configure -initex einitex -fmt efmt

Then, in the checkconfig script: [ -f dummy.fmt ] should be changed to [ 
-f dummy.$FMT ].

Whizzytex is an Emacs minor mode for incremental viewing of LaTeX 
documents.  As to your question Karl, I am quoting the author of 
whizzytex, Didier Remy:

"WhizzyTeX spends all of its free time recompiling very small slices of 
yourdocument so it must do it very fast, really as fast as possible. 
Today's explosion of macro packages makes latex initialization process 
as slow as processing 10-20 pages of the document. For small documents 
of 1-3 pages, having precompiled a specialized format speeds up 
compilation of the document by a factor of 5-10."

I am also curious about the semantics of programs in tex-live.  I am not 
familiar with it and its history (indeed it's my first time with 
tex-live).  Why einitex has the same semantics initex used to have (so 
that one can type einitex '&latex' mymacros.tex), whereas initex itself 
now has a different semantics? I think this feature differs from most 
other implementations.


Thanks so much to both of you Karl and Olaf for helping me solve the issue.

-Stefano

-- 
Dr. Stefano Lodi                        home page: www-db.deis.unibo.it/~slodi
Dept. of Electr. C. Sc. & Systems          e-mail: slodi@deis.unibo.it
University of Bologna                         tel: +39-051-20(93560)
via Risorgimento 2                            fax: +39-051-20(93540)
I-40136 Bologna BO, Italy


From Gerben.Wierda at rna.nl  Mon Oct 25 20:47:35 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Mon Oct 25 20:49:21 2004
Subject: [tex-live] cont-en symlink to pdfetex?
Message-ID: <5627C2D0-26B6-11D9-882A-000D93C1C2FA@rna.nl>

One of my users of a TL2004 based system gets:

> TeXExec 4.3 - ConTeXt / PRAGMA ADE 1997-2004
>
>             executable : pdfetex
>                 format : cont-en
>              inputfile : 2004-05-02_Calvo
>                 output : pdftex
>              interface : en
>           current mode : none
>                TeX run : 1
>
> sh: line 1: cont-en: command not found
>
>            return code : 32512
>               run time : 0 seconds
>
>         total run time : 1 seconds
> This is pdfeTeX, Version 3.141592-1.20a-2.2 (Web2C 7.5.3)
>  (/usr/local/teTeX/share/texmf.tetex/web2c/natural.tcx)
> **
> ! End of file on the terminal... why?

It turns out there is no cont-en symlink. I tried running texlinks, but 
to no avail.

Where should I look for a solution?

G

From sebastian.rahtz at computing-services.oxford.ac.uk  Mon Oct 25 21:14:17 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon Oct 25 21:15:23 2004
Subject: [tex-live] cont-en symlink to pdfetex?
In-Reply-To: <5627C2D0-26B6-11D9-882A-000D93C1C2FA@rna.nl>
References: <5627C2D0-26B6-11D9-882A-000D93C1C2FA@rna.nl>
Message-ID: <417D5089.6090009@computing-services.oxford.ac.uk>

Gerben Wierda wrote:

> One of my users of a TL2004 based system gets:
>
>> TeXExec 4.3 - ConTeXt / PRAGMA ADE 1997-2004
>>
>>             executable : pdfetex
>>                 format : cont-en
>>              inputfile : 2004-05-02_Calvo
>>                 output : pdftex
>>              interface : en
>>           current mode : none
>>                TeX run : 1
>>
>> sh: line 1: cont-en: command not found
>
this shouldn't happen. texexec calls pdfetex with a --fmt, not by making 
a command.

sebastian

From te at dbs.uni-hannover.de  Mon Oct 25 21:56:21 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Mon Oct 25 21:58:31 2004
Subject: [tex-live] cont-en symlink to pdfetex?
In-Reply-To: <5627C2D0-26B6-11D9-882A-000D93C1C2FA@rna.nl>
References: <5627C2D0-26B6-11D9-882A-000D93C1C2FA@rna.nl>
Message-ID: <20041025195621.GA12734@dbs.uni-hannover.de>

> It turns out there is no cont-en symlink. I tried running texlinks, but 
> to no avail.

cont-en is built with -progname=context by fmtutil or texexec. It should
never be used without this switch, so some kind of wrapper is needed.
This wrapper exists (texexec) and it does not need the symlink.

So, to avoid some user error, texlinks does not create links for the
cont-?? formats.

Thomas

From Gerben.Wierda at rna.nl  Mon Oct 25 22:09:28 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Mon Oct 25 22:11:14 2004
Subject: [tex-live] cont-en symlink to pdfetex?
In-Reply-To: <20041025195621.GA12734@dbs.uni-hannover.de>
References: <5627C2D0-26B6-11D9-882A-000D93C1C2FA@rna.nl>
	<20041025195621.GA12734@dbs.uni-hannover.de>
Message-ID: <C663CCAF-26C1-11D9-882A-000D93C1C2FA@rna.nl>

It turned out this user had an old ConTeXT laying around.

G

On 25 Oct 2004, at 21:56, Thomas Esser wrote:

>> It turns out there is no cont-en symlink. I tried running texlinks, 
>> but
>> to no avail.
>
> cont-en is built with -progname=context by fmtutil or texexec. It 
> should
> never be used without this switch, so some kind of wrapper is needed.
> This wrapper exists (texexec) and it does not need the symlink.
>
> So, to avoid some user error, texlinks does not create links for the
> cont-?? formats.
>
> Thomas
>

From Gerben.Wierda at rna.nl  Mon Oct 25 22:42:27 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Mon Oct 25 22:44:14 2004
Subject: [tex-live] Mpost TexLive 2004 problem?
Message-ID: <61E41C44-26C6-11D9-882A-000D93C1C2FA@rna.nl>

Can someone help me with this one?

> causes GhostScript (via epstopdf) to report an error:
>
> 	Error: /undefined in cmmi7
> Operand stack:
>    (B)
> Execution stack:
>    %interp_exit   .runexec2   --nostringval--   --nostringval--   
> --nostringval--   2   %stopped_push   --nostringval--   
> --nostringval--   --nostringval--   false   1   %stopped_push   1   3  
>  %oparray_pop   1   3   %oparray_pop   1   3   %oparray_pop   1   3   
> %oparray_pop   .runexec2   --nostringval--   --nostringval--   
> --nostringval--   2   %stopped_push   --nostringval--
> Dictionary stack:
>    --dict:1111/1686(ro)(G)--   --dict:0/20(G)--   --dict:69/200(L)--
> Current allocation mode is local
> AFPL Ghostscript 8.13: Unrecoverable error, exit code 1
>
>
> I have included a MetaPost file illustrating the problem :
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Graphics.zip
Type: application/zip
Size: 11456 bytes
Desc: not available
Url : http://tug.org/mailman/private/tex-live/attachments/20041025/55719c63/Graphics-0001.zip
-------------- next part --------------
>

mpost graphics.mp
epstopdf graphics.1 -outfile=graphics.1.pdf

fails while it worked in TL2003. I can reproduce this here. Can anybody 
on this list?

Thanks,

G
From pragma at wxs.nl  Mon Oct 25 23:45:26 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Mon Oct 25 23:47:28 2004
Subject: [tex-live] Mpost TexLive 2004 problem?
In-Reply-To: <61E41C44-26C6-11D9-882A-000D93C1C2FA@rna.nl>
References: <61E41C44-26C6-11D9-882A-000D93C1C2FA@rna.nl>
Message-ID: <417D73F6.50304@wxs.nl>

Gerben Wierda wrote:

> Can someone help me with this one?
> 
>> causes GhostScript (via epstopdf) to report an error:
>>
>>     Error: /undefined in cmmi7
>> Operand stack:
>>    (B)
>> Execution stack:
>>    %interp_exit   .runexec2   --nostringval--   --nostringval--   
>> --nostringval--   2   %stopped_push   --nostringval--   
>> --nostringval--   --nostringval--   false   1   %stopped_push   1   3  
>>  %oparray_pop   1   3   %oparray_pop   1   3   %oparray_pop   1   3   
>> %oparray_pop   .runexec2   --nostringval--   --nostringval--   
>> --nostringval--   2   %stopped_push   --nostringval--
>> Dictionary stack:
>>    --dict:1111/1686(ro)(G)--   --dict:0/20(G)--   --dict:69/200(L)--
>> Current allocation mode is local
>> AFPL Ghostscript 8.13: Unrecoverable error, exit code 1
>>
>>
>> I have included a MetaPost file illustrating the problem :
> 
>>
> 
> mpost graphics.mp
> epstopdf graphics.1 -outfile=graphics.1.pdf
> 
> fails while it worked in TL2003. I can reproduce this here. Can anybody 
> on this list?

was that the same gs version? 8.13/14 are rather buggy, try 8.31 which 
is better

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From hartmut_henkel at gmx.de  Mon Oct 25 23:46:00 2004
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Mon Oct 25 23:47:50 2004
Subject: [tex-live] Mpost TexLive 2004 problem?
In-Reply-To: <61E41C44-26C6-11D9-882A-000D93C1C2FA@rna.nl>
References: <61E41C44-26C6-11D9-882A-000D93C1C2FA@rna.nl>
Message-ID: <Pine.LNX.4.61.0410252337550.11020@hahepc1.hahe>

On Mon, 25 Oct 2004, Gerben Wierda wrote:

> Can someone help me with this one?
>
> > causes GhostScript (via epstopdf) to report an error:
> >
> > 	Error: /undefined in cmmi7
>
> mpost graphics.mp
> epstopdf graphics.1 -outfile=graphics.1.pdf
>
> fails while it worked in TL2003. I can reproduce this here. Can
> anybody on this list?

same error here. epstopdf doesn't trigger the tex run to embed the tex
string (IMHO it never did; i wonder how it should have worked in TL 03).
Do either

mptopdf --raw graphics.mp

or

mptopdf graphics.mp

Both give the wanted result.

Regards, Hartmut

From hartmut_henkel at gmx.de  Tue Oct 26 00:48:57 2004
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue Oct 26 00:50:43 2004
Subject: [tex-live] Mpost TexLive 2004 problem?
In-Reply-To: <Pine.LNX.4.61.0410252337550.11020@hahepc1.hahe>
References: <61E41C44-26C6-11D9-882A-000D93C1C2FA@rna.nl>
	<Pine.LNX.4.61.0410252337550.11020@hahepc1.hahe>
Message-ID: <Pine.LNX.4.61.0410260006450.11264@hahepc1.hahe>

On Mon, 25 Oct 2004, Hartmut Henkel wrote:

> epstopdf doesn't trigger the tex run to embed the tex string

utter nonsense, sorry. New try: the graphics.1 isn't a ready .eps file
as the fshow operator and the cmmi7 font aren't defined (but the TeX
part is done ok already). Therefore epstopdf can't work. E. g. if you
set prologues:=1; after "mpost graphics" you get the missing lines

 /cmmi7 /CMMI7 def
/fshow {exch findfont exch scalefont setfont show}bind def

in graphics.1 that make gs happy. In addition gs would need a CMMI7
entry in its Fontmap file to get epstopdf run correctly. Maybe the
prologues line got lost? (All this is simplified by mptopdf.)

Regards, Hartmut

From te at dbs.uni-hannover.de  Tue Oct 26 08:10:24 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Tue Oct 26 08:12:17 2004
Subject: [tex-live] location of t1* binaries
In-Reply-To: <417DD848.5010001@cs.ucla.edu>
References: <B1F1C27C-165A-11D9-8AF5-000A95A6D9BC@cs.ucla.edu>
	<20041005055755.GI24911@dbs.uni-hannover.de>
	<20041005180952.GD6772@dbs.uni-hannover.de>
	<571E3266-1725-11D9-A7B9-000A95A6D9BC@cs.ucla.edu>
	<20041006153942.GB19718@dbs.uni-hannover.de>
	<41678B39.7080100@cs.ucla.edu>
	<20041009082745.GA30274@dbs.uni-hannover.de>
	<416987A5.1060500@cs.ucla.edu>
	<20041011172002.GC3687@dbs.uni-hannover.de>
	<417DD848.5010001@cs.ucla.edu>
Message-ID: <20041026061024.GA3271@dbs.uni-hannover.de>

Hi Eddie,

> OK, finally got around to this.  The diff is attached!

yes, that looks right and even better than my suggested patch. So,
this means that your source tarball is now "plug into a teTeX / TeX Live
source tree" ready. That's great, because anybody can now easily follow
your updates.

For this year, the source tree of TeX Live is already frozen, so I don't
think that your change will be followed immediately. But, to make sure
that things will work next time, I just have added
  : ${enable_tetex_build=yes}
  export enable_tetex_build
to tetex.ac in my source tree.

Thanks a lot,

Thomas

From kohler at cs.ucla.edu  Tue Oct 26 06:53:28 2004
From: kohler at cs.ucla.edu (Eddie Kohler)
Date: Tue Oct 26 09:58:57 2004
Subject: [tex-live] location of t1* binaries
In-Reply-To: <20041011172002.GC3687@dbs.uni-hannover.de>
References: <20041003114458.GB13987@muisje>
	<20041003171301.GC30269@dbs.uni-hannover.de>
	<B1F1C27C-165A-11D9-8AF5-000A95A6D9BC@cs.ucla.edu>
	<20041005055755.GI24911@dbs.uni-hannover.de>
	<20041005180952.GD6772@dbs.uni-hannover.de>
	<571E3266-1725-11D9-A7B9-000A95A6D9BC@cs.ucla.edu>
	<20041006153942.GB19718@dbs.uni-hannover.de>
	<41678B39.7080100@cs.ucla.edu>
	<20041009082745.GA30274@dbs.uni-hannover.de>
	<416987A5.1060500@cs.ucla.edu>
	<20041011172002.GC3687@dbs.uni-hannover.de>
Message-ID: <417DD848.5010001@cs.ucla.edu>

Hi Thomas,

Thomas Esser wrote:
>>I followed your advice.  Try this.
> 
> 
> That works now, thanks. One problem which now remains is a missing
> dependency. Something like the following in otftotfm/Makefile.am:
> 
> otftotfm_DEPENDENCIES = ../libefont/libefont.a ../liblcdf/liblcdf.a @KPSEINTERFACE_O@ @LIBKPATHSEA@
> @LIBKPATHSEA@:
> 	cd ../../../texk/kpathsea; $(MAKE)
> 
> This works for a tetex-enabled build, but you need to find a "cleaner"
> solution to cover the non-tetex-enabled build. Maybe, define a variable
> LIBKPATHSEADEP which you set to empty in non-tetex-enabled build and to
> $(LIBKPATHSEA) in a tetex-enabled build.
> 
> Thomas

OK, finally got around to this.  The diff is attached!

Eddie
-------------- next part --------------
? +ansi
? +gcc34
? +kpathsea
? +nokpathsea
? ChangeLog
? EC.enc
? UnicodeData.txt
? include
? missfont.log
? otf.com
? tds.pdf
? test
? texput.log
? w.sh
? x.aux
? x.dvi
? x.log
? x.pdf
? x.ps
? x.tex
? x.tex2
Index: configure.in
===================================================================
RCS file: /u/f6/kohler/cvsroot/src/lcdf-typetools/configure.in,v
retrieving revision 1.97
retrieving revision 1.98
diff -u -r1.97 -r1.98
--- configure.in	10 Oct 2004 19:03:36 -0000	1.97
+++ configure.in	26 Oct 2004 04:51:54 -0000	1.98
@@ -188,12 +188,15 @@
     KPSEINTERFACE_O='kpseinterface.$(OBJEXT)'
     if test "x$enable_tetex_build" = xyes; then
 	LIBKPATHSEA='$(top_builddir)/../../texk/kpathsea/.libs/libkpathsea.a'
+	LIBKPATHSEA_DEP="$LIBKPATHSEA"
     else
 	LIBKPATHSEA='-lkpathsea'
+	LIBKPATHSEA_DEP=''
     fi
 fi
 AC_SUBST([KPSEINTERFACE_O])
 AC_SUBST([LIBKPATHSEA])
+AC_SUBST([LIBKPATHSEA_DEP])
 
 AC_ARG_ENABLE(selfauto-set, [  --disable-selfauto-set  disable setting SELFAUTO variables from kpsewhich], :, enable_selfauto_set=yes)
 
Index: otftotfm/Makefile.am
===================================================================
RCS file: /u/f6/kohler/cvsroot/src/lcdf-typetools/otftotfm/Makefile.am,v
retrieving revision 1.20
retrieving revision 1.21
diff -u -r1.20 -r1.21
--- otftotfm/Makefile.am	16 Jun 2004 04:54:14 -0000	1.20
+++ otftotfm/Makefile.am	26 Oct 2004 04:51:54 -0000	1.21
@@ -17,9 +17,12 @@
 EXTRA_otftotfm_SOURCES = kpseinterface.c kpseinterface.h
 
 otftotfm_LDADD = ../libefont/libefont.a ../liblcdf/liblcdf.a @KPSEINTERFACE_O@ @LIBKPATHSEA@
-otftotfm_DEPENDENCIES = ../libefont/libefont.a ../liblcdf/liblcdf.a @KPSEINTERFACE_O@
+otftotfm_DEPENDENCIES = ../libefont/libefont.a ../liblcdf/liblcdf.a @KPSEINTERFACE_O@ @LIBKPATHSEA_DEP@
 
 INCLUDES = -I$(top_srcdir)/include
 CLEANFILES = @TEMPLATE_OBJS@
 
 EXTRA_DIST = otftotfm.1
+
+$(top_builddir)/../../texk/kpathsea/.libs/libkpathsea.a:
+	cd $(top_builddir)/../../texk/kpathsea && $(MAKE)
From Gerben.Wierda at rna.nl  Tue Oct 26 22:14:51 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Tue Oct 26 22:16:36 2004
Subject: [tex-live] Fwd: [OS X TeX] New TeX i-Package released
Message-ID: <B1B7538A-278B-11D9-882A-000D93C1C2FA@rna.nl>

The beamer class is not TL2004 ready:

Begin forwarded message:

> From: Maarten Sneep <maarten.sneep@xs4all.nl>
> Date: 26 October 2004 22:00:24 GMT+02:00
> To: "TeX on Mac OS X Mailing List" <MacOSX-TeX@email.esm.psu.edu>
> Subject: Re: [OS X TeX] New TeX i-Package released
> Reply-To: "TeX on Mac OS X Mailing List" <MacOSX-TeX@email.esm.psu.edu>
>
> On 26 okt 2004, at 18:37, Piet van Oostrum wrote:
>
>> The last problem is very strange, and I haven't been able to diagnose 
>> it
>> properly. I have a file that uses beamer, but through my own class. 
>> It runs
>> properly with pdflatex, but not with latex. In the latter case it 
>> gives a
>> strange undefined control sequence. I must investigate what causes 
>> tris.
>>
>> ! Undefined control sequence.
>> \GenericError  ...
>>                                                     #4  \errhelp 
>> \@err@     ...
>> l.13 \maketitle
>
> How does Beamer test for pdflatex? if it uses an old construct like
>
> \ifx\pdfoutput\undefined
>  ....
> \else
>  ....
> \fi
>
> it will fail under latex, since both latex and pdflatex define this 
> macro (they just set it to different values).
>
> The proper way would be to use the ifpdf package.
>
> Maarten
>
> --------------------- Info ---------------------
> Mac-TeX Website: http://www.esm.psu.edu/mac-tex/
>           & FAQ: http://latex.yauh.de/faq/
> TeX FAQ: http://www.tex.ac.uk/faq
> List Post: <mailto:MacOSX-TeX@email.esm.psu.edu>
>
>
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1700 bytes
Desc: not available
Url : http://tug.org/mailman/private/tex-live/attachments/20041026/997df8bd/attachment.bin
From te at dbs.uni-hannover.de  Tue Oct 26 22:40:38 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Tue Oct 26 22:42:38 2004
Subject: [tex-live] Fwd: [OS X TeX] New TeX i-Package released
In-Reply-To: <B1B7538A-278B-11D9-882A-000D93C1C2FA@rna.nl>
References: <B1B7538A-278B-11D9-882A-000D93C1C2FA@rna.nl>
Message-ID: <20041026204038.GA11781@dbs.uni-hannover.de>

> The beamer class is not TL2004 ready: 

Can I please get a sample document? I'd like to check teTeX, too.

Thanks,

Thomas

From karl at freefriends.org  Tue Oct 26 23:03:01 2004
From: karl at freefriends.org (Karl Berry)
Date: Tue Oct 26 23:05:02 2004
Subject: [tex-live] Fwd: [OS X TeX] New TeX i-Package released
In-Reply-To: <B1B7538A-278B-11D9-882A-000D93C1C2FA@rna.nl>
Message-ID: <200410262103.i9QL31005945@f7.net>

    \ifx\pdfoutput\undefined

Actually, this test works in TL 2004 (but not in current teTeX, last I knew).

A sample document is needed to know for sure if that is the problem.

From karl at freefriends.org  Wed Oct 27 03:08:55 2004
From: karl at freefriends.org (Karl Berry)
Date: Wed Oct 27 03:10:43 2004
Subject: [tex-live] recompile dvips?
In-Reply-To: <417CF88E.7000603@wxs.nl>
Message-ID: <200410270108.i9R18t201679@f7.net>

     >vptovf
    vftovp: Need one to three file arguments.
    Try `vftovp --help' for more information.

    Can someone check the windows binary path in the master repository for 
    this? (p f swap)

I can't check Windows, but it's correct on Unix, FWIW.

If required, I suspect Fabrice will not have too much trouble making
this fix :).

k

From karl at freefriends.org  Thu Oct 28 01:57:35 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Oct 28 01:59:27 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <20041023151919.487C61CD195@postfix4-1.free.fr>
Message-ID: <200410272357.i9RNvZO24824@f7.net>

    This kind of syntax is weird. 

Well, whitespace between option names and values predates --opt=value by
a good many years and is the standard in POSIX, etc.  (Not that I like
it, myself.)

    Perl has getopt().

Yes, and Perl getopt supports "--opt value" as well as "--opt=value".
I believe Vladimir's original bug report shows that this is not the
problem, although I can't investigate for sure.

Furthermore, it appears to me that the original updmap shell script also
supports "--opt value" and "--opt=value".

So as far as this minor detail goes, I think everything is ok.

(And I agree with your implied suggestion that it would be better if we
all used the same code that could run on any platform.  Meanwhile, life
is short.)

k

From vvv at vsu.ru  Thu Oct 28 08:54:54 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Thu Oct 28 08:57:02 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <200410272357.i9RNvZO24824@f7.net> (Karl Berry's message of "Wed, 
	27 Oct 2004 19:57:35 -0400")
References: <200410272357.i9RNvZO24824@f7.net>
Message-ID: <m3fz3z8h8h.fsf@vvv.vsu.ru>


 >    This kind of syntax is weird. 

 KB> Well, whitespace between option names and values predates
 KB> --opt=value by a good many years and is the standard in POSIX,
 KB> etc.  (Not that I like it, myself.)

In this case, we pass two "values" to the --enable option: map type
(Map or MixedMap) and map file name:
  --enable Map foo.map

 >    Perl has getopt().

 KB> Yes, and Perl getopt supports "--opt value" as well as
 KB> "--opt=value".  I believe Vladimir's original bug report shows
 KB> that this is not the problem, although I can't investigate for
 KB> sure.

It was not my original bug report (it was Rainer Klueting
<rainer@klueting.de>). I just intervened in the discussion, pointing
out that Fabrice's ported updmap.pl is incompatible with unix updmap.

 KB> Furthermore, it appears to me that the original updmap shell
 KB> script also supports "--opt value" and "--opt=value".

No. It only supports one syntax with spaces.

 KB> So as far as this minor detail goes, I think everything is ok.

It caused confusion to a user who wanted to call updmap on windows the
same way as he used to call it on unix (updmap --enable Map xyz.map),
but that did not work because of incompatible syntax.

 KB> (And I agree with your implied suggestion that it would be better
 KB> if we all used the same code that could run on any platform.
 KB> Meanwhile, life is short.)

Best,
v.

From vvv at vsu.ru  Thu Oct 28 09:22:11 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Thu Oct 28 09:23:57 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <m3fz3z8h8h.fsf@vvv.vsu.ru> (Vladimir Volovich's message of "Thu, 
	28 Oct 2004 10:54:54 +0400")
References: <200410272357.i9RNvZO24824@f7.net> <m3fz3z8h8h.fsf@vvv.vsu.ru>
Message-ID: <m37jpb8fz0.fsf@vvv.vsu.ru>

"VV" == Vladimir Volovich writes:

 KB> Furthermore, it appears to me that the original updmap shell
 KB> script also supports "--opt value" and "--opt=value".

 VV> No. It only supports one syntax with spaces.

I meant that for the --enable option only.  In case of this option, as
we know, one passes 2 parameters, so POSIX way would not work (and
doesn't look good): --enable=Map foo.map
So updmap supports only one way to call --enable: with spaces.

Best,
v.

From te at dbs.uni-hannover.de  Thu Oct 28 10:04:49 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Thu Oct 28 10:06:39 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <200410272357.i9RNvZO24824@f7.net>
References: <20041023151919.487C61CD195@postfix4-1.free.fr>
	<200410272357.i9RNvZO24824@f7.net>
Message-ID: <20041028080449.GC23178@dbs.uni-hannover.de>

> Furthermore, it appears to me that the original updmap shell script also
> supports "--opt value" and "--opt=value".

I can change the updmap script to support:
  updmap --enable 'Map foo.map'
  updmap --enable='Map foo.map'
(similar for the other options which currently don't have a "=" syntax).

Of course, I'd like to keep
  updmap --enable Map foo.map
for backward compatibility.

Would that help? Fabrice?

Thomas

From vvv at vsu.ru  Thu Oct 28 10:46:59 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Thu Oct 28 10:48:44 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <20041028080449.GC23178@dbs.uni-hannover.de> (Thomas Esser's
	message of "Thu, 28 Oct 2004 10:04:49 +0200")
References: <20041023151919.487C61CD195@postfix4-1.free.fr>
	<200410272357.i9RNvZO24824@f7.net>
	<20041028080449.GC23178@dbs.uni-hannover.de>
Message-ID: <m33bzz8c1o.fsf@vvv.vsu.ru>

"TE" == Thomas Esser writes:

 >> Furthermore, it appears to me that the original updmap shell
 >> script also supports "--opt value" and "--opt=value".

 TE> I can change the updmap script to support: updmap --enable 'Map
 TE> foo.map' updmap --enable='Map foo.map' (similar for the other
 TE> options which currently don't have a "=" syntax).

To me, the syntax --enable='Map foo.map' looks ugly
And it does not match what Fabrice is using: --enable Map=foo.map
so it will just create one more weird wariation of syntax.

If i had to change it, i would use --enable-map and --enable-mixedmap
options which accept one parameter (filename).

 TE> Of course, I'd like to keep updmap --enable Map foo.map for
 TE> backward compatibility.

Best,
v.

From Fabrice.Popineau at supelec.fr  Thu Oct 28 11:33:23 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Thu Oct 28 11:35:08 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <m33bzz8c1o.fsf@vvv.vsu.ru> (Vladimir Volovich's message of "Thu, 
	28 Oct 2004 12:46:59 +0400")
References: <20041023151919.487C61CD195@postfix4-1.free.fr>
	<200410272357.i9RNvZO24824@f7.net>
	<20041028080449.GC23178@dbs.uni-hannover.de>
	<m33bzz8c1o.fsf@vvv.vsu.ru>
Message-ID: <3bzzrxuk.fsf@esemetz.metz.supelec.fr>


> If i had to change it, i would use --enable-map and --enable-mixedmap
> options which accept one parameter (filename).

I would vote for this one too.

Fabrice

From te at dbs.uni-hannover.de  Thu Oct 28 11:37:39 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Thu Oct 28 11:39:29 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <3bzzrxuk.fsf@esemetz.metz.supelec.fr>
References: <20041023151919.487C61CD195@postfix4-1.free.fr>
	<200410272357.i9RNvZO24824@f7.net>
	<20041028080449.GC23178@dbs.uni-hannover.de>
	<m33bzz8c1o.fsf@vvv.vsu.ru> <3bzzrxuk.fsf@esemetz.metz.supelec.fr>
Message-ID: <20041028093739.GA3897@dbs.uni-hannover.de>

> I would vote for this one too.

On the other hand, I don't want to make the old call invalid, which
means that my script will continue to allow --enable Map foo.map.

Which means that you are either incompatible with that or that you have to
support this, too. So, I wonder if it is worth adding the other options.

Thomas

From pragma at wxs.nl  Thu Oct 28 11:59:48 2004
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Oct 28 12:01:39 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <20041028093739.GA3897@dbs.uni-hannover.de>
References: <20041023151919.487C61CD195@postfix4-1.free.fr>
	<200410272357.i9RNvZO24824@f7.net>
	<20041028080449.GC23178@dbs.uni-hannover.de>
	<m33bzz8c1o.fsf@vvv.vsu.ru> <3bzzrxuk.fsf@esemetz.metz.supelec.fr>
	<20041028093739.GA3897@dbs.uni-hannover.de>
Message-ID: <4180C314.2070801@wxs.nl>

Thomas Esser wrote:

>>I would vote for this one too.
> 
> 
> On the other hand, I don't want to make the old call invalid, which
> means that my script will continue to allow --enable Map foo.map.

i see no problem in that; say that users on windows use that option 
(which will not happen if it's not documented), they will notice that it 
does not work and revert two the split alternative.

> Which means that you are either incompatible with that or that you have to
> support this, too. So, I wonder if it is worth adding the other options.

How bad is it not to be compatible with that option? Is it widely used? 
If so, it would had given problems on windows in the past (i guess). 
Also, this tex live is already not downward compatible in other aspects, 
so why bother with it here -)

somehow it sounds weird to me to try to keep a shell and perl script 
compatible to that level

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From Fabrice.Popineau at supelec.fr  Thu Oct 28 13:41:04 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Thu Oct 28 13:42:49 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <20041028093739.GA3897@dbs.uni-hannover.de> (Thomas Esser's
	message of "Thu, 28 Oct 2004 11:37:39 +0200")
References: <20041023151919.487C61CD195@postfix4-1.free.fr>
	<200410272357.i9RNvZO24824@f7.net>
	<20041028080449.GC23178@dbs.uni-hannover.de>
	<m33bzz8c1o.fsf@vvv.vsu.ru> <3bzzrxuk.fsf@esemetz.metz.supelec.fr>
	<20041028093739.GA3897@dbs.uni-hannover.de>
Message-ID: <vfcvcbov.fsf@esemetz.metz.supelec.fr>

>> I would vote for this one too.
> On the other hand, I don't want to make the old call invalid, which means that
> my script will continue to allow --enable Map foo.map.

> Which means that you are either incompatible with that or that you have to
> support this, too. So, I wonder if it is worth adding the other options.

At least, we could recommend a common syntax ...

Fabrice

From tigran at aivazian.fsnet.co.uk  Thu Oct 28 13:26:17 2004
From: tigran at aivazian.fsnet.co.uk (Tigran Aivazian)
Date: Thu Oct 28 13:47:46 2004
Subject: [tex-live] bug in attachfile.sty 
Message-ID: <Pine.LNX.4.61.0410281221140.15303@ginsburg.homenet>

Hello,

I haven't heard from Scott Pakin about this bug, so I am forwarding to a 
wider audience in hope that someone knows how to correctly set mimetype in 
\attachfile (i.e. /Subtype value of /EmbeddedFile attachment).

More generically, how would one propagate a TeX string containing slash 
"/" into a PDF string? Trying to do something like this:

\pdfstringdef{\textp}{text\#2Fplain}

ends up with the value /text\0432Fplain in the PDF file which is not what 
we want.

Also, the reason I am emailing tex-live is because TeX Live includes 
attachfile package and the email below contains a simple bugfix (/Subtype 
is a name and not a string according to the PDF spec).

Kind regards
Tigran

---------- Forwarded message ----------
Date: Sun, 24 Oct 2004 22:16:12 +0100 (BST)
From: Tigran Aivazian <tigran@bibles.org.uk>
To: Scott Pakin <pakin@uiuc.edu>
Subject: bug in attachfile.sty

Hello Scott,

I am using your attachfile package and am very happy with it.

However, there is a small glitch in the way it handles the 'mimetypes' setup 
option. For example, if I write:

attachfilesetup{%
         description={Tiqwah source code},%
         mimetype={text/plain},%
         print={false},%
         author={Tigran Aivazian},%
         timezone={Z}% Z means GMT.
}

The resulting PDF file contains the following object:

7 0 obj <<
  /Type /EmbeddedFile /Subtype (text/plain)
/Length 35
/Filter /FlateDecode
>>

i.e. it handles /Subtype as a string. But the PDF spec says it is a name, and 
looking at a PDF file with attachment created by Adobe Acrobat I see /Subtype 
values like this:

/Subtype /application#2Foctet-stream

Now, if I modify your package as follows:

@@ -245,7 +245,7 @@
  \def\atfi@mimetype{}
  \define@key{AtFi}{mimetype}{%
    \atfi@pdfstringdef\atfi@mimetype{#1}%
-  \edef\atfi@mimetype{/Subtype (\atfi@mimetype)}%
+  \edef\atfi@mimetype{/Subtype /\atfi@mimetype}%
  }
  \define@key{AtFi}{icon}{%
    \def\atfi@icon{/Name /#1}%

then the mimetypes value will be stored as a name, but it is very difficult to 
set the value '/' in there.

I tried mimetypes=text\#2Fplain, but I end up with
/Subtype /text\0432Fplain which is wrong.

Can you please tell me how to set the slash in "text/plain" correctly?
And is the above fix to attachfile.sty correct or do you have a proper fix?

Kind regards
Tigran

=========
http://www.bibles.org.uk/pdf/bibles (both tnk.pdf and HebrewNT.pdf use 
attachfile to embed their own source code in the PDF files)

From tantau at cs.tu-berlin.de  Wed Oct 27 13:39:18 2004
From: tantau at cs.tu-berlin.de (Till Tantau)
Date: Thu Oct 28 15:00:43 2004
Subject: [tex-live] Re: Fwd: [OS X TeX] New TeX i-Package released
In-Reply-To: <B1B7538A-278B-11D9-882A-000D93C1C2FA@rna.nl>
References: <B1B7538A-278B-11D9-882A-000D93C1C2FA@rna.nl>
Message-ID: <200410271339.18094.tantau@cs.tu-berlin.de>

On Dienstag, 26. Oktober 2004 22:14, Gerben Wierda wrote:
> The beamer class is not TL2004 ready:
>
> Begin forwarded message:
> > From: Maarten Sneep <maarten.sneep@xs4all.nl>
> > Date: 26 October 2004 22:00:24 GMT+02:00
> > To: "TeX on Mac OS X Mailing List" <MacOSX-TeX@email.esm.psu.edu>
> > Subject: Re: [OS X TeX] New TeX i-Package released
> > Reply-To: "TeX on Mac OS X Mailing List" <MacOSX-TeX@email.esm.psu.edu>
> >
> > On 26 okt 2004, at 18:37, Piet van Oostrum wrote:
> >> The last problem is very strange, and I haven't been able to diagnose
> >> it
> >> properly. I have a file that uses beamer, but through my own class.
> >> It runs
> >> properly with pdflatex, but not with latex. In the latter case it
> >> gives a
> >> strange undefined control sequence. I must investigate what causes
> >> tris.
> >>
> >> ! Undefined control sequence.
> >> \GenericError  ...
> >>                                                     #4  \errhelp
> >> \@err@     ...
> >> l.13 \maketitle
> >
> > How does Beamer test for pdflatex? if it uses an old construct like
> >
> > \ifx\pdfoutput\undefined
> >  ....
> > \else
> >  ....
> > \fi
> >
> > it will fail under latex, since both latex and pdflatex define this
> > macro (they just set it to different values).
> >
> > The proper way would be to use the ifpdf package.

Hi!

I got this email as a copy, so I'm a bit out-of-the-loop with respect to the 
context. The error *may* be caused by a bug in pgf 0.64 having to do with 
usage of the calc package and shadows. If the problem disappears when the 
calc package is not included, then the cvs version of pgf 0.64 will fix this 
problem.

Concerning pgf's pdfoutput test: Currently, pgf currently does:

\ifx\pdfoutput\@undefined \newcount\pdfoutput \fi
\ifx\pdfoutput\relax \newcount\pdfoutput \fi

Subsequently, \ifcase\pdfoutput is used to test whether pdflatex is used or 
not. 

Since several people have complained about this (some package seem to require 
\pdfoutput to be totally undefined if latex is used), in the next version I 
might switch to a "conservative" test for \pdfoutput. I'll have a look at 
ifpdf.

Hoping this helps,
Till

P.S.: Bugfixed versions of pgf (0.65) and beamer (3.10) are scheduled for end 
of text week.

-- 
Till Tantau <tantau@cs.tu-berlin.de>, http://tal.cs.tu-berlin.de/tantau

From bneron at pasteur.fr  Thu Oct 28 11:48:15 2004
From: bneron at pasteur.fr (Bertrand Neron)
Date: Thu Oct 28 15:00:48 2004
Subject: [tex-live] where are the binaries
Message-ID: <20041028094815.GB32531@caroline.sis.pasteur.fr>

I have a mac G5 running on mac OSX 10.3.5 . and I 'd like to install
tex packages from TexLive cd.
I have downloaded the iso image from a CTAN mirror and burn a cd. 
Then I ran the installation script as described in documentation. 
I choose the gutemberg scheme. all seems goes right. 
But when the instalation was finished, I haven't found any bianries anywhere?. 
the FAQ, man, info, texmf ... have been created in /usr/Tex but There isn't
 a bin directory ?

I send you the output of the installation srcipt and the contain of the /usr/tex
directory.
any help will be greatly appreciated.

sincerely,

--
bertrand Neron
-------------- next part --------------
/Volumes/TeXLive-2003$sudo sh install-tl.sh 
Welcome to TeX Live.

Initializing collections... Counting selected collections... Done counting.
Calculating disk space requirements for collections...Done calculating.
Counting selected collections... Done counting.
Calculating disk space requirements for collections...Done calculating.
Done initializing collections.
Initializing system packages... Done initializing systems.
Counting selected collections... Done counting.
Calculating disk space requirements for collections...Done calculating.
Counting selected collections... Done counting.
Calculating disk space requirements for collections...Done calculating.

A Generic basic TeXLive scheme      F TeXLive for Omega users
B Generic full TeXLive scheme       G Generic recommended TeXLive schem
C GUST TeXLive scheme               H The XEmTeX bundle TeXLive scheme
D GUTenberg TeXLive scheme          I XML typesetting scheme
E Live TeXLive scheme

Current scheme is [texlive_gutenberg]
[Collections: basic bibtexextra context documentation etex extrabin
fontbin fontsrecommended fontsextra genericextra htmlxml langfrench
langgerman latex latexextra latexrecommended mathextra metapost
pdftex pictures plainextra fontsrecommended psutils] [Packages: ]
    Press <R> to return to main menu, <Q> to quit
      or press key to select a scheme: r
Counting selected collections... Done counting.
Calculating disk space requirements for collections...Done calculating.

===> Note: Letters/digits in <angle brackets> indicate menu items <===
===>       for commands or configurable options                   <===

    Proposed platform: 
    <P> over-ride system detection and choose platform
    <B> binary systems:           out of 11
    <S> Installation scheme (texlive_gutenberg)
    [customizing installation scheme:
       <C> standard collections   <L> language collections]
    22 out of 57, disk space required: 208206 kB
    <D> directories:
      TEXDIR      (The main TeX directory)        : /usr/TeX     
      TEXMFLOCAL  (Directory for local styles etc): /usr/TeX/texmf-local
      VARTEXMF (Directory for local config)       : /usr/TeX/texmf-var
    <O> options:
       [ ] alternate directory for generated fonts ()
       [ ] create symlinks in standard directories
       [ ] do not install macro/font doc tree
       [ ] do not install macro/font source tree
    <I> start installation
    <H> help,  <Q> quit

Enter command: i
Preparing destination directories... Done preparing.
install-tl.sh: line 347: test: =: unary operator expected
* Preparing list of packages to be installed.
..............................
* Unpacking zip files for packages. 
.....................................................................-> pdftex.1 -> pdftex.1 -> pdftex.1 ............-> etex.1 -> etex.1 .......-> mktexpk.1 -> mktexlsr.1 -> windex .....-> mf.1 -> mf.1 .-> mpost.1 -> mpost.1 ..-> omega.1 -> omega.1 -> omega.1 .-> pdftex.1 -> pdftex.1 -> pdftex.1 ........-> allcm.1 .-> tex.1 -> tex.1 ................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................* Done unpacking.
Fixing permissions in /usr/TeX... Done fixing permissions.
Setting up directories for automatic font creation... Done setting up directories.
Clean fmtutil.cnf in /usr/TeX/texmf-var/web2c... 
Set local tree $SELFAUTOPARENT/texmf-local in /usr/TeX/texmf/web2c/texmf.cnf... Set variant tree $SELFAUTOPARENT/texmf-var in /usr/TeX/texmf/web2c/texmf.cnf... Done fixing texmf.cnf
Testing for /usr/TeX/bin//texconfig....
updating map files 

See ./index.html for links to documentation.
The TeX Live web site (http://www.tug.org/texlive/)
will contain any updates and corrections.

Welcome to TeX Live!



$ls -l /usr/TeX/
total 0
drwxr-xr-x   5 root  wheel   170 28 Oct 11:37 FAQ
drwxr-xr-x  48 root  wheel  1632 28 Oct 11:38 info
drwxr-xr-x   9 root  wheel   306 28 Oct 11:37 man
drwxr-xr-x  33 root  wheel  1122 28 Oct 11:38 texmf
drwxr-xr-x   8 root  wheel   272 28 Oct 11:34 texmf-local
drwxrwxrwx   4 root  wheel   136 28 Oct 11:34 texmf-var
drwxr-xr-x   3 root  wheel   102 28 Oct 11:37 usergrps
From karl at freefriends.org  Thu Oct 28 15:41:50 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Oct 28 15:43:44 2004
Subject: [tex-live] where are the binaries
In-Reply-To: <20041028094815.GB32531@caroline.sis.pasteur.fr>
Message-ID: <200410281341.i9SDfo030162@f7.net>

Greetings,

Thanks for including the log.  Makes it possible to debug :).

        <B> binary systems:           out of 11

For whatever reason, it did not detect what kind of system you are on.
Use the B option to choose the binaries to install.

BTW, if you are up for testing the forthcoming release, you could get
the test-texlive-inst.iso image (from http://tug.org/ftp/texlive/Images)
and give it a whirl ...  (The French documentation translation isn't
updated yet, but the English is mostly there.)

Regards,
k

From michel.bovani at wanadoo.fr  Thu Oct 28 15:51:46 2004
From: michel.bovani at wanadoo.fr (Michel Bovani)
Date: Thu Oct 28 15:53:38 2004
Subject: [tex-live] where are the binaries
In-Reply-To: <200410281341.i9SDfo030162@f7.net>
References: <200410281341.i9SDfo030162@f7.net>
Message-ID: <824F34AB-28E8-11D9-AA5E-000393DC945E@wanadoo.fr>


Le 28 oct. 04, ? 15:41, Karl Berry a ?crit :

> Greetings,
>
> Thanks for including the log.  Makes it possible to debug :).
>
>         <B> binary systems:           out of 11
>
> For whatever reason, it did not detect what kind of system you are on.
> Use the B option to choose the binaries to install.

In fact, platform recognition does not work on a macintosh (tl 2003 on 
macOSX 10.3).

It is better to use the P option, because, using the B option will only 
install the binaries (without configuration, format generation etc.)


-- 
Michel Bovani

From te at dbs.uni-hannover.de  Thu Oct 28 16:10:39 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Thu Oct 28 16:12:31 2004
Subject: [tex-live] Re: Fwd: [OS X TeX] New TeX i-Package released
In-Reply-To: <200410271339.18094.tantau@cs.tu-berlin.de>
References: <B1B7538A-278B-11D9-882A-000D93C1C2FA@rna.nl>
	<200410271339.18094.tantau@cs.tu-berlin.de>
Message-ID: <20041028141039.GB4694@dbs.uni-hannover.de>

> Concerning pgf's pdfoutput test: Currently, pgf currently does:

To me, it looks fine. In the long run, people will learn that the pure
presence of \pdfoutput does not mean that the pdftex engine is used in
PDF writing mode.

> P.S.: Bugfixed versions of pgf (0.65) and beamer (3.10) are scheduled for end 
> of text week.

Great!

Thomas

From karl at freefriends.org  Thu Oct 28 18:05:35 2004
From: karl at freefriends.org (Karl Berry)
Date: Thu Oct 28 18:07:22 2004
Subject: [tex-live] where are the binaries
In-Reply-To: <824F34AB-28E8-11D9-AA5E-000393DC945E@wanadoo.fr>
Message-ID: <200410281605.i9SG5Zv01925@f7.net>

    In fact, platform recognition does not work on a macintosh (tl 2003 on 
    macOSX 10.3).

Can you (or anyone) confirm that it works in the upcoming TL 2004?

Thanks,
k

From te at dbs.uni-hannover.de  Thu Oct 28 18:32:00 2004
From: te at dbs.uni-hannover.de (Thomas Esser)
Date: Thu Oct 28 18:34:00 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <vfcvcbov.fsf@esemetz.metz.supelec.fr>
References: <20041023151919.487C61CD195@postfix4-1.free.fr>
	<200410272357.i9RNvZO24824@f7.net>
	<20041028080449.GC23178@dbs.uni-hannover.de>
	<m33bzz8c1o.fsf@vvv.vsu.ru> <3bzzrxuk.fsf@esemetz.metz.supelec.fr>
	<20041028093739.GA3897@dbs.uni-hannover.de>
	<vfcvcbov.fsf@esemetz.metz.supelec.fr>
Message-ID: <20041028163200.GH4694@dbs.uni-hannover.de>

> At least, we could recommend a common syntax ...

I could check it in. Shall I?

Thomas

--- /t/texlive/Build/source.development/TeX/texk/tetex/updmap	2004-10-27 09:32:20.000000000 +0200
+++ /t/src/tetex-src/texk/tetex/updmap	2004-10-28 17:45:47.076614713 +0200
@@ -24,13 +24,20 @@
 #                              of dvipsPreferOutline, LW35, dvipsDownloadBase35
 #                              or pdftexDownloadBase14
 #   --enable maptype mapfile   add or enable a Map or MixedMap
+#   --enablemap mapfile        add or enable a Map
+#   --enablemixedmap mapfile   add or enable a MixedMap
 #   --disable mapfile          disable Map or MixedMap for mapfile
+#   --syncwithtrees            entries with unavailable map files will be
+#                              disabled in the config file
 #   --listmaps                 list all active and inactive maps
-#
+#   --listavailablemaps        same as --listmaps, but filter out
+#                              unavailable map files
 ###############################################################################
 
 ###############################################################################
 # program history:
+#   Do Okt 28 17:34:54 CEST 2004
+#      add --enablemap / --enablemixedmap
 #   Mi Okt 20 19:17:19 CEST 2004
 #      transcript added; even better warnings / error messages
 #   So Okt 17 19:07:17 CEST 2004
@@ -128,6 +135,8 @@
                              of dvipsPreferOutline, LW35, dvipsDownloadBase35
                              or pdftexDownloadBase14
   --enable maptype mapfile   add or enable a Map or MixedMap
+  --enablemap mapfile        add or enable a Map
+  --enablemixedmap mapfile   add or enable a MixedMap
   --disable mapfile          disable Map or MixedMap for mapfile
   --syncwithtrees            entries with unavailable map files will be
                              disabled in the config file
@@ -964,11 +973,31 @@
           test $# -ge 3 || { abort "--enable needs two parameters: mapType mapFile"; }
           cmd=enable; enableMapType=$2; enableMapFile=$3; shift; shift
           ;;
+      --enablemap)
+          cmd=enable; enableMapType=Map; enableMapFile=$2
+          shift
+          ;;
+      --enablemap=*)
+          enableMapFile=`echo "$1" | sed 's/--enablemap=//'`
+          cmd=enable; enableMapType=Map
+          ;;
+      --enablemixedmap)
+          cmd=enable; enableMapType=MixedMap; enableMapFile=$2
+          shift
+          ;;
+      --enablemixedmap=*)
+          enableMapFile=`echo "$1" | sed 's/--enablemixedmap=//'`
+          cmd=enable; enableMapType=MixedMap
+          ;;
       --syncwithtrees)
           cmd=syncwithtrees;;
       --disable)
           cmd=disable; disableMapFile=$2; shift
           ;;
+      --disable=*)
+          disableMapFile=`echo "$1" | sed 's/--disable=//'`
+          cmd=disable
+          ;;
       --edit|-e)
           cmd=edit;;
       --listmaps|-l)

From markus.kohm at gmx.de  Thu Oct 28 18:44:59 2004
From: markus.kohm at gmx.de (Markus Kohm)
Date: Thu Oct 28 18:47:30 2004
Subject: [tex-live] Re: Fwd: [OS X TeX] New TeX i-Package released
In-Reply-To: <200410271339.18094.tantau@cs.tu-berlin.de>
References: <B1B7538A-278B-11D9-882A-000D93C1C2FA@rna.nl>
	<200410271339.18094.tantau@cs.tu-berlin.de>
Message-ID: <200410281844.59348@KOMA020467>

Am Mittwoch, 27. Oktober 2004 13:39 schrieb Till Tantau:
> \ifx\pdfoutput\@undefined \newcount\pdfoutput \fi
> \ifx\pdfoutput\relax \newcount\pdfoutput \fi

You may do this simply, this way:

\begingroup\expandafter\expandafter\expandafter\endgroup
\expandafter\ifx\csname pdfoutput\endcsname\relax\newcount\pdfoutput\fi

This may be some chars more but you'd have only one then- and (not in this 
case) one else-part. So the mistake changing only one of them can't happen.

Markus

From jojo at jojosoft.de  Fri Oct 29 03:06:46 2004
From: jojo at jojosoft.de (=?ISO-8859-1?Q?Marcel_K=F6ppen?=)
Date: Fri Oct 29 03:15:40 2004
Subject: [tex-live] where are the binaries
In-Reply-To: <200410281605.i9SG5Zv01925@f7.net>
References: <200410281605.i9SG5Zv01925@f7.net>
Message-ID: <CDFBF23E-2946-11D9-92C8-000D932D6B8C@jojosoft.de>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi,

Am 28.10.2004 um 18:05 schrieb Karl Berry:

>     In fact, platform recognition does not work on a macintosh (tl 
> 2003 on
>     macOSX 10.3).
>
> Can you (or anyone) confirm that it works in the upcoming TL 2004?

it does not work on MacOSX 10.3.X, since $system ist set to 
"powerpc-darwin7.X.0" which does not match "powerpc-darwin[56]*" in 
utils.sh.

Regards,

Marcel
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.2.6 (Darwin)

iD8DBQFBgZfCgoun6QcxmjURAg57AJ0Qarig25bQICRSTlHojy1UJ2DTBgCeL+Cr
TcuBd1x+xsmi8Y6O3QV3Rbs=
=5Nqd
-----END PGP SIGNATURE-----

From Gerben.Wierda at rna.nl  Fri Oct 29 09:03:34 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri Oct 29 09:31:05 2004
Subject: [tex-live] where are the binaries
In-Reply-To: <CDFBF23E-2946-11D9-92C8-000D932D6B8C@jojosoft.de>
References: <200410281605.i9SG5Zv01925@f7.net>
	<CDFBF23E-2946-11D9-92C8-000D932D6B8C@jojosoft.de>
Message-ID: <A66E0782-2978-11D9-8AAC-000D93C1C2FA@rna.nl>


On 29 Oct 2004, at 03:06, Marcel K?ppen wrote:

> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Hi,
>
> Am 28.10.2004 um 18:05 schrieb Karl Berry:
>
>>     In fact, platform recognition does not work on a macintosh (tl 
>> 2003 on
>>     macOSX 10.3).
>>
>> Can you (or anyone) confirm that it works in the upcoming TL 2004?
>
> it does not work on MacOSX 10.3.X, since $system ist set to 
> "powerpc-darwin7.X.0" which does not match "powerpc-darwin[56]*" in 
> utils.sh.

And besides adding the 7, make sure you add the 8 and 9 also because 
next spring we will get 10.4 which undoubtedly will have darwin 8.

G

From Gerben.Wierda at rna.nl  Fri Oct 29 09:01:41 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri Oct 29 09:31:13 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <20041028163200.GH4694@dbs.uni-hannover.de>
References: <20041023151919.487C61CD195@postfix4-1.free.fr>
	<200410272357.i9RNvZO24824@f7.net>
	<20041028080449.GC23178@dbs.uni-hannover.de>
	<m33bzz8c1o.fsf@vvv.vsu.ru> <3bzzrxuk.fsf@esemetz.metz.supelec.fr>
	<20041028093739.GA3897@dbs.uni-hannover.de>
	<vfcvcbov.fsf@esemetz.metz.supelec.fr>
	<20041028163200.GH4694@dbs.uni-hannover.de>
Message-ID: <629E2162-2978-11D9-8AAC-000D93C1C2FA@rna.nl>

This is really messing up my system. It means I have to work with yet  
another version of updmap in my installer. From a personal perspective  
(and the extra mess this is causing for me) I am against it.

I already encountered other syntax changes without semantics (e.g.  
sphyph.tex renamed to eshyph.tex).

So is this *really* necessary?

G

On 28 Oct 2004, at 18:32, Thomas Esser wrote:

>> At least, we could recommend a common syntax ...
>
> I could check it in. Shall I?
>
> Thomas
>
> ---  
> /t/texlive/Build/source.development/TeX/texk/tetex/updmap	2004-10-27  
> 09:32:20.000000000 +0200
> +++ /t/src/tetex-src/texk/tetex/updmap	2004-10-28 17:45:47.076614713  
> +0200
> @@ -24,13 +24,20 @@
>  #                              of dvipsPreferOutline, LW35,  
> dvipsDownloadBase35
>  #                              or pdftexDownloadBase14
>  #   --enable maptype mapfile   add or enable a Map or MixedMap
> +#   --enablemap mapfile        add or enable a Map
> +#   --enablemixedmap mapfile   add or enable a MixedMap
>  #   --disable mapfile          disable Map or MixedMap for mapfile
> +#   --syncwithtrees            entries with unavailable map files  
> will be
> +#                              disabled in the config file
>  #   --listmaps                 list all active and inactive maps
> -#
> +#   --listavailablemaps        same as --listmaps, but filter out
> +#                              unavailable map files
>   
> ####################################################################### 
> ########
>
>   
> ####################################################################### 
> ########
>  # program history:
> +#   Do Okt 28 17:34:54 CEST 2004
> +#      add --enablemap / --enablemixedmap
>  #   Mi Okt 20 19:17:19 CEST 2004
>  #      transcript added; even better warnings / error messages
>  #   So Okt 17 19:07:17 CEST 2004
> @@ -128,6 +135,8 @@
>                               of dvipsPreferOutline, LW35,  
> dvipsDownloadBase35
>                               or pdftexDownloadBase14
>    --enable maptype mapfile   add or enable a Map or MixedMap
> +  --enablemap mapfile        add or enable a Map
> +  --enablemixedmap mapfile   add or enable a MixedMap
>    --disable mapfile          disable Map or MixedMap for mapfile
>    --syncwithtrees            entries with unavailable map files will  
> be
>                               disabled in the config file
> @@ -964,11 +973,31 @@
>            test $# -ge 3 || { abort "--enable needs two parameters:  
> mapType mapFile"; }
>            cmd=enable; enableMapType=$2; enableMapFile=$3; shift; shift
>            ;;
> +      --enablemap)
> +          cmd=enable; enableMapType=Map; enableMapFile=$2
> +          shift
> +          ;;
> +      --enablemap=*)
> +          enableMapFile=`echo "$1" | sed 's/--enablemap=//'`
> +          cmd=enable; enableMapType=Map
> +          ;;
> +      --enablemixedmap)
> +          cmd=enable; enableMapType=MixedMap; enableMapFile=$2
> +          shift
> +          ;;
> +      --enablemixedmap=*)
> +          enableMapFile=`echo "$1" | sed 's/--enablemixedmap=//'`
> +          cmd=enable; enableMapType=MixedMap
> +          ;;
>        --syncwithtrees)
>            cmd=syncwithtrees;;
>        --disable)
>            cmd=disable; disableMapFile=$2; shift
>            ;;
> +      --disable=*)
> +          disableMapFile=`echo "$1" | sed 's/--disable=//'`
> +          cmd=disable
> +          ;;
>        --edit|-e)
>            cmd=edit;;
>        --listmaps|-l)
>
> _______________________________________________
> TeX Live mailing list
> http://tug.org/mailman/listinfo/tex-live
>

From J.Fine at open.ac.uk  Fri Oct 29 11:15:28 2004
From: J.Fine at open.ac.uk (Jonathan Fine)
Date: Fri Oct 29 11:17:25 2004
Subject: [tex-live] Roundtripping LaTeX to XML
Message-ID: <clt1ng$c0m$1@sea.gmane.org>

There is interest where I work in roundtripping LaTeX to and
from XML.

I'm posting this message to learn about what is already out
there, and to find others who are interested in this.

Our LaTeX documents are quite simple - no verbatim or other
changes of catcodes, or other complicated processing.

I am already aware of TeXML, which is a DTD for encoding
LaTeX documents in XML, and translating such to LaTeX.
    http://getfo.sourceforge.net/texml/
    http://www.tug.org/TUG99-web/pdf/lovell.pdf

A google search for "Latex to MathML and Back" brings up
    Latex to MathML and back: A case study of Elsevier journals
      http://www.tug.org/practicaltex2004/preprints/bazargan.txt
    From LaTeX to MathML and Back with TeX4ht and PassiveTeX
      http://www.cse.ohio-state.edu/~gurari/docs/mml-00/mml-00.html
      http://www.mathmlconference.org/2000/presentations.html
which are also of interest.

Thanks in advance if you can help.

==

The rest of this posting is a statement of requirements.

We have a known set of documents. Let mydoc.tex be one such.

We want filters tex2xml, xml2tex such that
    $ cat mydoc.tex | tex2xml | xml2tex > mydoc2.tex
produces a file mydoc2.tex and now we want mydoc.tex and
mydoc2.tex to produce identical dvi output when typeset
by TeX.

We want some of the output of tex2xml to be useful.

For example
   \section{My Title}\label{myid} ...
might produce
   <section id='myid'>
     <heading>My Title</heading> ...

Some of the output of tex2xml can be CDATA raw TeX or the
like.

Finally, extending tex2xml and xml2tex should be fairly
easy.  To reduce the amount of CDATA raw TeX.


Jonathan
-- 
Jonathan Fine
The Open University, Milton Keynes, England



From J.Fine at open.ac.uk  Fri Oct 29 11:19:00 2004
From: J.Fine at open.ac.uk (Jonathan Fine)
Date: Fri Oct 29 11:21:51 2004
Subject: [tex-live] Re: Roundtripping LaTeX to XML - wrong newsgroup
Message-ID: <clt1u7$cia$1@sea.gmane.org>

"Jonathan Fine" <J.Fine@open.ac.uk> wrote in message news:...
<snip>

Please accept my apologies.

I sent my carefully composed message to the wrong newsgroup!

I meant to send it to comp.text.tex.


Please DO NOT respond to the posting in this newsgroup.

Instead, if you are interested, find and respond to the
thread on c.t.t.

Once again, my apologies for my mistake.


Jonathan



From sebastian.rahtz at computing-services.oxford.ac.uk  Fri Oct 29 11:24:22 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Fri Oct 29 11:24:59 2004
Subject: [tex-live] Roundtripping LaTeX to XML
In-Reply-To: <clt1ng$c0m$1@sea.gmane.org>
References: <clt1ng$c0m$1@sea.gmane.org>
Message-ID: <41820C46.6010008@computing-services.oxford.ac.uk>

Jonathan Fine wrote:

>There is interest where I work in roundtripping LaTeX to and
>from XML.
>  
>
Its an interesting (if sterile, in my view) topic, but what does it have 
to do with TeX Live?

Please, start the discussion in another forum.

Sebastian

PS your requirements don't explain *why* you want round-tripping!

From Fabrice.Popineau at supelec.fr  Fri Oct 29 11:55:44 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Fri Oct 29 11:57:27 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <629E2162-2978-11D9-8AAC-000D93C1C2FA@rna.nl> (Gerben Wierda's
	message of "Fri, 29 Oct 2004 09:01:41 +0200")
References: <20041023151919.487C61CD195@postfix4-1.free.fr>
	<200410272357.i9RNvZO24824@f7.net>
	<20041028080449.GC23178@dbs.uni-hannover.de>
	<m33bzz8c1o.fsf@vvv.vsu.ru> <3bzzrxuk.fsf@esemetz.metz.supelec.fr>
	<20041028093739.GA3897@dbs.uni-hannover.de>
	<vfcvcbov.fsf@esemetz.metz.supelec.fr>
	<20041028163200.GH4694@dbs.uni-hannover.de>
	<629E2162-2978-11D9-8AAC-000D93C1C2FA@rna.nl>
Message-ID: <7jp9j1b3.fsf@esemetz.metz.supelec.fr>


> So is this *really* necessary?

yes.

F.

From vvv at vsu.ru  Fri Oct 29 12:20:24 2004
From: vvv at vsu.ru (Vladimir Volovich)
Date: Fri Oct 29 12:22:12 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <7jp9j1b3.fsf@esemetz.metz.supelec.fr> (Fabrice Popineau's
	message of "Fri, 29 Oct 2004 11:55:44 +0200")
References: <20041023151919.487C61CD195@postfix4-1.free.fr>
	<200410272357.i9RNvZO24824@f7.net>
	<20041028080449.GC23178@dbs.uni-hannover.de>
	<m33bzz8c1o.fsf@vvv.vsu.ru> <3bzzrxuk.fsf@esemetz.metz.supelec.fr>
	<20041028093739.GA3897@dbs.uni-hannover.de>
	<vfcvcbov.fsf@esemetz.metz.supelec.fr>
	<20041028163200.GH4694@dbs.uni-hannover.de>
	<629E2162-2978-11D9-8AAC-000D93C1C2FA@rna.nl>
	<7jp9j1b3.fsf@esemetz.metz.supelec.fr>
Message-ID: <873bzxltav.fsf@vvv.vsu.ru>

"FP" == Fabrice Popineau writes:

 >> So is this *really* necessary?

 FP> yes.

Here's how I see this (somewhat confusing :).

currently updmap on unix supports only syntax like
"--enable Map foo.map"

currently updmap on windows (your ported version) is incompatible with
unix and requires a different syntax:
"--enable Map=foo.map"

Even if Thomas adds new syntax "--enablemap foo.map", he wants to
preserve the current behavior for compatibility.

Then, presumably, you will add such suntax to your ported updmap too,
and we will have 3 variants of syntax instead of 2 as we have now.

Also, unix's updmap will support only 2 of them:
"--enable Map foo.map" and "--enablemap foo.map"
but and windows' updmap will support only 2 of them
"--enable Map=foo.map" and "--enablemap foo.map"

I.e. adding --enablemap option will not make updmap on unix and on
windows completely compatible: they will still be uncompatible, unless
you implement support for "--enable Map foo.map" syntax.

So if they will not be compatible (read: if you will not add support
for "--enable Map foo.map" syntax), then the answer "yes" is unclear.

And if they will be compatible (read: if you will add support for
"--enable Map foo.map" syntax), then why bother with adding
"--enablemap foo.map".

Still, even if you add support for "--enable Map foo.map",
unix's updmap is not going to add support for "--enable Map=foo.map".

Therefore, i think that the BEST solution to this problem is
for you to REPLACE syntax "--enable Map=foo.map" in your ported updmap
with syntax "--enable Map foo.map" (and do not support it at all).
And do not change updmap on unix at all.

That will make updmap compatible on both unix and windows, and will
make the number of different variations on syntax minimal.

Best,
v.

From rspindle at emba.uvm.edu  Thu Oct 28 18:05:30 2004
From: rspindle at emba.uvm.edu (rspindle@emba.uvm.edu)
Date: Fri Oct 29 13:19:23 2004
Subject: [tex-live] EPS files and dvi
Message-ID: <1098979530.418118ca132db@webmail.emba.uvm.edu>

TUG:

About a year and a half ago, I installed Tex-Live from CD. I've found that 
when I try to include (using includegraphics) an eps file, Latex compiles 
fine, but when I try to look at it with dvi, I get a "missing gsdll32.dll" 
error. 

Can you tell me how to track this down. Does it have something to do with 
ghost script?

Thanks for any help!
Rich Spindler

From Fabrice.Popineau at supelec.fr  Fri Oct 29 13:32:05 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Fri Oct 29 13:33:57 2004
Subject: [tex-live] EPS files and dvi
In-Reply-To: <1098979530.418118ca132db@webmail.emba.uvm.edu>
	(rspindle@emba.uvm.edu's message of "Thu, 28 Oct 2004 12:05:30 -0400")
References: <1098979530.418118ca132db@webmail.emba.uvm.edu>
Message-ID: <vfctvjyi.fsf@esemetz.metz.supelec.fr>

> TUG: About a year and a half ago, I installed Tex-Live from CD. I've
> found that when I try to include (using includegraphics) an eps file,
> Latex compiles fine, but when I try to look at it with dvi, I get a
> "missing gsdll32.dll" error.

> Can you tell me how to track this down. Does it have something to do
> with ghost script?

Definitely. You need to install a ghostscript version, accessible from
your PATH. One solution to do so is to run TeXSetup and install the
optional ghostscript package.

Fabrice

From karl at freefriends.org  Fri Oct 29 13:42:44 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Oct 29 13:45:10 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <873bzxltav.fsf@vvv.vsu.ru>
Message-ID: <200410291142.i9TBgie26571@f7.net>

    Therefore, i think that the BEST solution to this problem is
    for you to REPLACE syntax "--enable Map=foo.map" in your ported updmap

AFAIK, this would mean completely rewriting argument parsing, because
getopt could not be used.  Fabrice has already said he's not going to do
that.  (Doesn't sound like a good idea to me, either.)

    unix's updmap is not going to add support for "--enable Map=foo.map".

I don't see the problem with supporting --enable maptype=mapfile in Unix.
That can be supported alongside --enable maptype mapfile, it's easily
distinguishable.  

Gerben, the existing syntax will continue to be supported either way.
So I don't see how this would affect you?

k

From Gerben.Wierda at rna.nl  Fri Oct 29 13:44:03 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri Oct 29 13:45:45 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <873bzxltav.fsf@vvv.vsu.ru>
References: <20041023151919.487C61CD195@postfix4-1.free.fr>
	<200410272357.i9RNvZO24824@f7.net>
	<20041028080449.GC23178@dbs.uni-hannover.de>
	<m33bzz8c1o.fsf@vvv.vsu.ru> <3bzzrxuk.fsf@esemetz.metz.supelec.fr>
	<20041028093739.GA3897@dbs.uni-hannover.de>
	<vfcvcbov.fsf@esemetz.metz.supelec.fr>
	<20041028163200.GH4694@dbs.uni-hannover.de>
	<629E2162-2978-11D9-8AAC-000D93C1C2FA@rna.nl>
	<7jp9j1b3.fsf@esemetz.metz.supelec.fr> <873bzxltav.fsf@vvv.vsu.ru>
Message-ID: <D4F1D12B-299F-11D9-BEEC-000D93C1C2FA@rna.nl>

On 29 Oct 2004, at 12:20, Vladimir Volovich wrote:

> "FP" == Fabrice Popineau writes:
>
>>> So is this *really* necessary?
>
>  FP> yes.
>
> Here's how I see this (somewhat confusing :).
>
> currently updmap on unix supports only syntax like
> "--enable Map foo.map"
>
> currently updmap on windows (your ported version) is incompatible with
> unix and requires a different syntax:
> "--enable Map=foo.map"
>
> Even if Thomas adds new syntax "--enablemap foo.map", he wants to
> preserve the current behavior for compatibility.
>
> Then, presumably, you will add such suntax to your ported updmap too,
> and we will have 3 variants of syntax instead of 2 as we have now.
>
> Also, unix's updmap will support only 2 of them:
> "--enable Map foo.map" and "--enablemap foo.map"
> but and windows' updmap will support only 2 of them
> "--enable Map=foo.map" and "--enablemap foo.map"
>
> I.e. adding --enablemap option will not make updmap on unix and on
> windows completely compatible: they will still be uncompatible, unless
> you implement support for "--enable Map foo.map" syntax.
>
> So if they will not be compatible (read: if you will not add support
> for "--enable Map foo.map" syntax), then the answer "yes" is unclear.
>
> And if they will be compatible (read: if you will add support for
> "--enable Map foo.map" syntax), then why bother with adding
> "--enablemap foo.map".
>
> Still, even if you add support for "--enable Map foo.map",
> unix's updmap is not going to add support for "--enable Map=foo.map".
>
> Therefore, i think that the BEST solution to this problem is
> for you to REPLACE syntax "--enable Map=foo.map" in your ported updmap
> with syntax "--enable Map foo.map" (and do not support it at all).
> And do not change updmap on unix at all.

I agree completely. updmap on Windows is a port of updmap on unix. The 
fact that you have not ported it as is now suddenly means that I have 
to rewrite and add to my stuff and that is a lot of work. Unless Thomas 
drops the old syntax in which case a lot of makefiles, scripts etc in 
the unix world will break (including mine).

Personally, I agree with Vladimir. You want a port of the updmap too. 
Fine. You port the updmap tool. It is not that much work to parse the 
options as updmap does it with perl, you just can't use getopt.

> That will make updmap compatible on both unix and windows, and will
> make the number of different variations on syntax minimal.

G

From Fabrice.Popineau at supelec.fr  Fri Oct 29 13:57:40 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Fri Oct 29 13:59:35 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <D4F1D12B-299F-11D9-BEEC-000D93C1C2FA@rna.nl> (Gerben Wierda's
	message of "Fri, 29 Oct 2004 13:44:03 +0200")
References: <20041023151919.487C61CD195@postfix4-1.free.fr>
	<200410272357.i9RNvZO24824@f7.net>
	<20041028080449.GC23178@dbs.uni-hannover.de>
	<m33bzz8c1o.fsf@vvv.vsu.ru> <3bzzrxuk.fsf@esemetz.metz.supelec.fr>
	<20041028093739.GA3897@dbs.uni-hannover.de>
	<vfcvcbov.fsf@esemetz.metz.supelec.fr>
	<20041028163200.GH4694@dbs.uni-hannover.de>
	<629E2162-2978-11D9-8AAC-000D93C1C2FA@rna.nl>
	<7jp9j1b3.fsf@esemetz.metz.supelec.fr> <873bzxltav.fsf@vvv.vsu.ru>
	<D4F1D12B-299F-11D9-BEEC-000D93C1C2FA@rna.nl>
Message-ID: <d5z1u47f.fsf@esemetz.metz.supelec.fr>


> I agree completely. updmap on Windows is a port of updmap on unix. The
> fact that you have not ported it as is now suddenly means that I have
> to rewrite and add to my stuff and that is a lot of work. Unless
                                              ^^^^^^^^^^^^^
??? Aren't you using Thomas script? 

> Personally, I agree with Vladimir. You want a port of the updmap
> too. Fine. You port the updmap tool. It is not that much work to parse
> the options as updmap does it with perl, you just can't use getopt.

As I already said: just do it.

Do you really know what you guys are doing? 

This year BachoTeX meeting ended up with a bunch of "recommendations"
(call them the name you want) to make this project behave more
correctly. That turned up into a major crisis. Unfortunately, it is not
by ignoring problems that you solve them. They will just strike back.

You talk about a lot of work. My guess is that you don't know what you
are talking about. 

Most  things  that   are  input into  TeXLive   are   without  any prior
discussion. Which means the day before releasing it, you see some script
or  some   new program  coming in  and  I should  spend   my time  to be
compatible with that? 

My position will be very clear: I give up unless someone can prove that
this mess is going somewhere. 

Fabrice


From Gerben.Wierda at rna.nl  Fri Oct 29 14:00:24 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri Oct 29 14:02:07 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <200410291142.i9TBgie26571@f7.net>
References: <200410291142.i9TBgie26571@f7.net>
Message-ID: <1DA5EA01-29A2-11D9-BEEC-000D93C1C2FA@rna.nl>

On 29 Oct 2004, at 13:42, Karl Berry wrote:

>     Therefore, i think that the BEST solution to this problem is
>     for you to REPLACE syntax "--enable Map=foo.map" in your ported 
> updmap
>
> AFAIK, this would mean completely rewriting argument parsing, because
> getopt could not be used.  Fabrice has already said he's not going to 
> do
> that.  (Doesn't sound like a good idea to me, either.)

It is no problem at all. If Fabrice does not want to do that, it is his 
choice. But it is *not* difficult, *nor* a lot of work. If he does not 
want to be compatible, why should the entire unix world suffer (because 
suffer it will if an incompatible syntax surfaces and I am not looking 
forward to all the support I will have to provide for people complaing 
with me that their normal operations stop working (that is, if Thomas 
removes the old syntax).

>     unix's updmap is not going to add support for "--enable 
> Map=foo.map".
>
> I don't see the problem with supporting --enable maptype=mapfile in 
> Unix.
> That can be supported alongside --enable maptype mapfile, it's easily
> distinguishable.
>
> Gerben, the existing syntax will continue to be supported either way.
> So I don't see how this would affect you?

If it will be supported, I am not affected. But I still think that it 
is not fair that Fabrice wants to copy something from the unix side and 
then the unix side has to adapt to the fact that he does not want to 
support it as is. Should we also change the syntax for fmtutil and 
every other sh tool which does not use getopt?

G

From karl at freefriends.org  Fri Oct 29 14:00:26 2004
From: karl at freefriends.org (Karl Berry)
Date: Fri Oct 29 14:02:38 2004
Subject: [tex-live] where are the binaries
In-Reply-To: <CDFBF23E-2946-11D9-92C8-000D932D6B8C@jojosoft.de>
Message-ID: <200410291200.i9TC0Q032705@f7.net>

    it does not work on MacOSX 10.3.X, since $system ist set to 
    "powerpc-darwin7.X.0" which does not match "powerpc-darwin[56]*" in 
    utils.sh.

Thanks.  I changed it.

From Gerben.Wierda at rna.nl  Fri Oct 29 14:11:05 2004
From: Gerben.Wierda at rna.nl (Gerben Wierda)
Date: Fri Oct 29 14:12:48 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <d5z1u47f.fsf@esemetz.metz.supelec.fr>
References: <20041023151919.487C61CD195@postfix4-1.free.fr>
	<200410272357.i9RNvZO24824@f7.net>
	<20041028080449.GC23178@dbs.uni-hannover.de>
	<m33bzz8c1o.fsf@vvv.vsu.ru> <3bzzrxuk.fsf@esemetz.metz.supelec.fr>
	<20041028093739.GA3897@dbs.uni-hannover.de>
	<vfcvcbov.fsf@esemetz.metz.supelec.fr>
	<20041028163200.GH4694@dbs.uni-hannover.de>
	<629E2162-2978-11D9-8AAC-000D93C1C2FA@rna.nl>
	<7jp9j1b3.fsf@esemetz.metz.supelec.fr> <873bzxltav.fsf@vvv.vsu.ru>
	<D4F1D12B-299F-11D9-BEEC-000D93C1C2FA@rna.nl>
	<d5z1u47f.fsf@esemetz.metz.supelec.fr>
Message-ID: <9B9F715C-29A3-11D9-BEEC-000D93C1C2FA@rna.nl>

On 29 Oct 2004, at 13:57, Fabrice Popineau wrote:

>
>> I agree completely. updmap on Windows is a port of updmap on unix. The
>> fact that you have not ported it as is now suddenly means that I have
>> to rewrite and add to my stuff and that is a lot of work. Unless
>                                               ^^^^^^^^^^^^^
> ??? Aren't you using Thomas script?

My system sits on top of TeX Live / teTeX and it shields the users from 
the command line. Thus, I have written packages which contain perl 
scripts. These packages are as robust as I can make them (given my 
time) and thus will for instance not call updmap --enable without 
having checked by running updmap --help and figuring out if --enable is 
available. If it is not, I install an updated version. So far so good, 
but some tools have changed between TL2003 and TL2004 in such a way 
(fmtutil for instance) that I cannot just use the TL2004 version in an 
(also supported) TL2003 setting. With new syntax added, I would have to 
do a lot of rewriting supporting even more variants. My package already 
has about 2000 lines of perl. And that is only the TeX i-Package.

>> Personally, I agree with Vladimir. You want a port of the updmap
>> too. Fine. You port the updmap tool. It is not that much work to parse
>> the options as updmap does it with perl, you just can't use getopt.
>
> As I already said: just do it.

Windows is not my area. I stay on Mac OS X and there I can use the unix 
stuff. That you can't on Windows is too bad for Windows (and there is 
more too bad for Windows, but I digress).

> Do you really know what you guys are doing?
>
> This year BachoTeX meeting ended up with a bunch of "recommendations"
> (call them the name you want) to make this project behave more
> correctly. That turned up into a major crisis. Unfortunately, it is not
> by ignoring problems that you solve them. They will just strike back.
>
> You talk about a lot of work. My guess is that you don't know what you
> are talking about.

Let's first get even: Given the fact that I have authored thousands and 
probably tens of thousands of lines of perl, your guess is wrong. I 
think you have no idea what my redistribution does.

Let's now get civilized again: these kind of comments do not help. 
Calling each other dumb is not going to help.

> Most  things  that   are  input into  TeXLive   are   without  any 
> prior
> discussion. Which means the day before releasing it, you see some 
> script
> or  some   new program  coming in  and  I should  spend   my time  to 
> be
> compatible with that?
>
> My position will be very clear: I give up unless someone can prove that
> this mess is going somewhere.

I don't care to much unless the syntax is going to change without 
backward compatibility in which case I will be very pissed off. And I 
can certify that parsing the command line options in your script 
without getopt is a lot less work than me having to contend with yet 
another variation that I have to shield from the user or pay the price 
in an additional load of support questions from people who's scripts 
suddenly have stopped working.

G

From Fabrice.Popineau at supelec.fr  Fri Oct 29 14:22:10 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Fri Oct 29 14:23:55 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <9B9F715C-29A3-11D9-BEEC-000D93C1C2FA@rna.nl> (Gerben Wierda's
	message of "Fri, 29 Oct 2004 14:11:05 +0200")
References: <20041023151919.487C61CD195@postfix4-1.free.fr>
	<200410272357.i9RNvZO24824@f7.net>
	<20041028080449.GC23178@dbs.uni-hannover.de>
	<m33bzz8c1o.fsf@vvv.vsu.ru> <3bzzrxuk.fsf@esemetz.metz.supelec.fr>
	<20041028093739.GA3897@dbs.uni-hannover.de>
	<vfcvcbov.fsf@esemetz.metz.supelec.fr>
	<20041028163200.GH4694@dbs.uni-hannover.de>
	<629E2162-2978-11D9-8AAC-000D93C1C2FA@rna.nl>
	<7jp9j1b3.fsf@esemetz.metz.supelec.fr> <873bzxltav.fsf@vvv.vsu.ru>
	<D4F1D12B-299F-11D9-BEEC-000D93C1C2FA@rna.nl>
	<d5z1u47f.fsf@esemetz.metz.supelec.fr>
	<9B9F715C-29A3-11D9-BEEC-000D93C1C2FA@rna.nl>
Message-ID: <3bzxu32l.fsf@esemetz.metz.supelec.fr>


> Windows is not my area. I stay on Mac OS X and there I can use the
> unix stuff. That you can't on Windows is too bad for Windows (and
> there is more too bad for Windows, but I digress).

It depends on whose side you are. There are certainly much more users on
the windows side, like it or not.

> I don't care to much unless the syntax is going to change without
> backward compatibility in which case I will be very pissed off. And I

As I can read what Thomas offered, it is backward compatible. So I still
don't understand your attitude. If you can't cope with a backward
compatible change, then there is a problem.

Fabrice


From sebastian.rahtz at computing-services.oxford.ac.uk  Fri Oct 29 14:25:08 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Fri Oct 29 14:25:48 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <d5z1u47f.fsf@esemetz.metz.supelec.fr>
References: <20041023151919.487C61CD195@postfix4-1.free.fr>	<200410272357.i9RNvZO24824@f7.net>	<20041028080449.GC23178@dbs.uni-hannover.de>	<m33bzz8c1o.fsf@vvv.vsu.ru>
	<3bzzrxuk.fsf@esemetz.metz.supelec.fr>	<20041028093739.GA3897@dbs.uni-hannover.de>	<vfcvcbov.fsf@esemetz.metz.supelec.fr>	<20041028163200.GH4694@dbs.uni-hannover.de>	<629E2162-2978-11D9-8AAC-000D93C1C2FA@rna.nl>	<7jp9j1b3.fsf@esemetz.metz.supelec.fr>
	<873bzxltav.fsf@vvv.vsu.ru>	<D4F1D12B-299F-11D9-BEEC-000D93C1C2FA@rna.nl>
	<d5z1u47f.fsf@esemetz.metz.supelec.fr>
Message-ID: <418236A4.4020207@computing-services.oxford.ac.uk>

Fabrice Popineau wrote:

>This year BachoTeX meeting ended up with a bunch of "recommendations"
>(call them the name you want) to make this project behave more
>correctly.
>
Please, lets not go back to that!

>Most  things  that   are  input into  TeXLive   are   without  any prior
>discussion.
>
That's not at all fair. There is endless discussion on this list and others,
and both Thomas and Olaf (who do most of the work in this area) have
a very conservative attitude toward change, for which I salute them. It is,
if I may so, _you_ who is more cavalier about introducing changes and 
additions
to the system!

>My position will be very clear: I give up unless someone can prove that
>this mess is going somewhere.
>
I expect people are saying that daily on lists for 1001 projects all 
over the world.
It's the price we pay for a semi-democratic loose organisation. For the 
most part,
it works moderately well, but it does not respond well to a crisis. 
Thats a group
responsibility to sort out, which isn't solved by shouting at Gerben. 
Both you and Gerben
have a tendency to get angry and shout at people, but I don't think it 
ever helps.

For what its worth, yes, I know I have in the past been as emotional as 
you and Gerben,
with an equal desire to blame someone :-}

Sebastian

-------------- next part --------------
A non-text attachment was scrubbed...
Name: sebastian.rahtz.vcf
Type: text/x-vcard
Size: 286 bytes
Desc: not available
Url : http://tug.org/mailman/private/tex-live/attachments/20041029/12e16c5a/sebastian.rahtz-0001.vcf
From sebastian.rahtz at computing-services.oxford.ac.uk  Fri Oct 29 14:54:55 2004
From: sebastian.rahtz at computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Fri Oct 29 14:55:42 2004
Subject: [tex-live] shouting at people
Message-ID: <41823D9F.3040306@computing-services.oxford.ac.uk>

OK, guys, for the record

 * Fabrice is shouting today
 * Thomas never shouts
 * Gerban and I have shouted in the past
 * None of us has a "tendency"

get back to work, slaves.

sebastian
-------------- next part --------------
A non-text attachment was scrubbed...
Name: sebastian.rahtz.vcf
Type: text/x-vcard
Size: 286 bytes
Desc: not available
Url : http://tug.org/mailman/private/tex-live/attachments/20041029/45b1c921/sebastian.rahtz.vcf
From Fabrice.Popineau at supelec.fr  Fri Oct 29 15:04:20 2004
From: Fabrice.Popineau at supelec.fr (Fabrice Popineau)
Date: Fri Oct 29 15:06:16 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <418236A4.4020207@computing-services.oxford.ac.uk> (Sebastian
	Rahtz's message of "Fri, 29 Oct 2004 13:25:08 +0100")
References: <20041023151919.487C61CD195@postfix4-1.free.fr>
	<200410272357.i9RNvZO24824@f7.net>
	<20041028080449.GC23178@dbs.uni-hannover.de>
	<m33bzz8c1o.fsf@vvv.vsu.ru> <3bzzrxuk.fsf@esemetz.metz.supelec.fr>
	<20041028093739.GA3897@dbs.uni-hannover.de>
	<vfcvcbov.fsf@esemetz.metz.supelec.fr>
	<20041028163200.GH4694@dbs.uni-hannover.de>
	<629E2162-2978-11D9-8AAC-000D93C1C2FA@rna.nl>
	<7jp9j1b3.fsf@esemetz.metz.supelec.fr> <873bzxltav.fsf@vvv.vsu.ru>
	<D4F1D12B-299F-11D9-BEEC-000D93C1C2FA@rna.nl>
	<d5z1u47f.fsf@esemetz.metz.supelec.fr>
	<418236A4.4020207@computing-services.oxford.ac.uk>
Message-ID: <7jp9smjv.fsf@esemetz.metz.supelec.fr>


> out, which isn't solved by shouting at Gerben. Both you and Gerben
> have a tendency to get angry and shout at people, but I don't think it
> ever helps.

I won't deny it. And you  know that I'm fed up with the way
things are going for many months now.

> For what its worth, yes, I know I have in the past been as emotional
> as you and Gerben, with an equal desire to blame someone :-}

But I'm definitely not looking for  someone to blame. 

I'm merely stating a fact that the kind of discussion about updmap is _a
non-sense_, because   this   syntax should  have   been  discussed prior
introducing it, not after.

If I referred back to this BachoTeX meeting (I didn't attend btw), it is
simply to stress that the lack of clear design decisions from whatever
management team (that does not exist anyway) results in the situation we
are now.

On one  side you have   people working on   this project on their  _free
time_. 

On the other  side, LUGs needing it to  _sell it_ to users. 

The   first ones  look for  simple  solutions  to   their  problems, but
unfortunately, clearly to _their platform_ problems only.

But      users  want  more.   They    want    compatibility, they   want
reliability. Many of  this year changes have  cost lots of time to  many
people, not only to  the 4 or 5  of us. And there  is no  guarantee that
this will have ever an end the way we are working.

On a very related topic,   I sent a note to   the current DANTE  meeting
which I have attached. Don't know if someone will  read it there, but it
explains (very shortly)   why I think  both CTAN/Distributions  meetings
DANTE has organized  have felt to fulfil their  expectations (or mine at
least).  The   way described there  of doing   things could  change what
distributions are. I    expect  people on  this  list   to  already have
understood my point   of view on  this  topic. If  not it will  make  it
clearer.

Read it as my last contribution, for what it worth. And blame me for
what I did (or what I didn't).

Fabrice

What does it take to install/update a \LaTeX{} package today? Find the right
directory on CTAN. Find the right file(s) to download, in the best case an
archive. Uncompress it to some temporary folder. Process the \texttt{.ins}
and/or \texttt{.dtx} files. Install all the files under your TDS compliant texmf
tree, which can become a little bit clumsy: sometimes, you have fonts, metapost
files, etc. to dispatch into a dozen of different places. Do not forget to
rebuild your texmf database. And then, if you are lucky, you can work with your
new package. All this processing is at best boring, at worst a source of error.

What would it take to relieve users from this? I have often heard that it is
impossible. In fact it is not, and that doesn't require a lot. It is indeed
possible to automate \TeX{} package installation, at least for the vast majority
of \TeX{} packages. How is it possible?

First, I guess that by now everybody has heard about TDS compliant texmf
trees. The \TeX{} Directory Structure normalize file location. But its
requirements are not strong enough for automation. The TDS requirements have
been made with only one problem in mind: acceleration of file search into big
texmf trees. So basically, the TDS restricts the places where to look for
certain kind of files. For example, all \texttt{.sty} \LaTeX{} files have to be
located somewhere under \path|texmf/tex/latex/|.

If we want to automate package management, we have to comply with stronger
requirements. The TDS has to be augmented with rules identifying a unique places
for each package. Moreover, a connexion has to be made between the symbolic name
of the package and those places. Assume we register for a \texttt{foo} package
and this name has not yet been taken. Then a bunch of directories  are
automatically assigned to this package:
texmf/fonts/source/public/foo/
texmf/fonts/tfm/public/foo/
...
texmf/fonts/tfm/tex/foo/...
texmf/fonts/tfm/tex/latex/foo/
texmf/fonts/tfm/tex/context/foo/
...
texmf/doc/foo/
...
That means that all the `foo' files are located under one of these directories
and no `foo' file is located outside of them.

The exact rules are a little bit more complex, because given the existing state
of affairs, we have to consider a couple of different cases. The first obvious
case is the one of the format files themselves, like the base \LaTeX{}
files. Given that \LaTeX{} is a package, contributions can be provided. So the
base files have to be located into:
texmf/tex/latex/base/
texmf/tex/latex/config/
and not into texmf/tex/latex/ itself.

How does this help with automation? If we follow these stricter rules, we are
able to automatically construct the list of `foo' files given a reference texmf tree that
has the files. Therefore, we can create an archive of these files. Now on the
client side, we can archive or wipe out all of his current `foo' files, download
the newest archive and unpack it.

We can also run tools to ensure consistency on the client texmf tree: make
sure that no `foo' file appear under one of the `bar' directories for example. 

What would it take to CTAN to evolve towards this kind of automation? 

First, it
would require that authors register their package names. There have been a
couple of clashes in the past, like some `pl' package to typeset Prolog code,
and the `pl' package for Polish fonts.

Once unique names are ensured, it would require from authors that they upload
ready to use fragments of texmf tree. In the current situation, there are too
many different ways to install a package, with different instructions. It would
be much better to relieve the user from that and let the author upload what he
thinks is the right way to arrange the files into the texmf tree. Moreover, the
kind of consistency tools cited above could be run by the server on the package
to check that the 'enhance TDS' guidelines are respected.

Finally, it would require to have a web service infrastructure capable of
delivering the archives. The Graham Catalogue could be used to build a first
index to search among the packages. No need to look for complex indexing
methods. Then simple client tools could be developed
to list the installed packages, to look for a new package or for updates.

This way of doing things would change the structure of distributions. They could
be reduced to the simple list of binaries and specific files. That means you
could get a < 10Mb archive of TeXLive 2004 and run the package maintenance
client to download whatever packages you need. 

It is to be noted that these ideas of an enhanced TDS have been implemented for the texmf-dist tree
of TeXLive 2004, not without some reluctance from sceptical people. It is also
to be noted that Christian Schenk (MiKTeX author) has offered to develop the web
service infrastructure, but without any reply (to my knowledge). My guess is that he might well do
it by himself and  build a parallel and much more efficient way of downloading
packages.

So the question is: is that community getting old and dying or will it adapt to
more modern tools and methods? For me, the way to go is clear: why doing by hand
something that the machine can do for me?

From olaf at infovore.xs4all.nl  Sat Oct 30 00:12:31 2004
From: olaf at infovore.xs4all.nl (Olaf Weber)
Date: Sat Oct 30 00:14:26 2004
Subject: [tex-live] Bug in updmap?!
In-Reply-To: <200410291142.i9TBgie26571@f7.net> (Karl Berry's message of
	"Fri, 29 Oct 2004 07:42:44 -0400")
References: <200410291142.i9TBgie26571@f7.net>
Message-ID: <87zn25mawg.fsf@infovore.xs4all.nl>

Karl Berry writes:

>     Therefore, i think that the BEST solution to this problem is
>     for you to REPLACE syntax "--enable Map=foo.map" in your ported updmap

> AFAIK, this would mean completely rewriting argument parsing, because
> getopt could not be used.  Fabrice has already said he's not going to do
> that.  (Doesn't sound like a good idea to me, either.)

IIRC this can be done in the presence of getopt, provided it is the
GNU implementation from kpathsea: you bump optind yourself once for
each additional argument you consume.

>     unix's updmap is not going to add support for "--enable Map=foo.map".

> I don't see the problem with supporting --enable maptype=mapfile in Unix.
> That can be supported alongside --enable maptype mapfile, it's easily
> distinguishable.

For mutual interoperability that would be nice to have.

> Gerben, the existing syntax will continue to be supported either way.
> So I don't see how this would affect you?

-- 
Olaf Weber

               (This space left blank for technical reasons.)

