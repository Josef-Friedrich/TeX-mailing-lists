From StaW@gust.org.pl  Tue Mar  7 02:55:56 2000
From: StaW@gust.org.pl (Staszek Wawrykiewicz)
Date: Tue, 7 Mar 2000 03:55:56 +0100 (MET)
Subject: TL5 March, 03
Message-ID: <Pine.LNX.4.21.0003070354520.5191-100000@chronos.ipipan.gda.pl>

TL5 2000.03.03
==============

The main disandvantage are changed datestamps of the files :-(

/catalog/    please remove it
/emacs-20.6/  something new. Do we have it on the final TL?
/man/man1/   cont-de, cont-en, cont-nl links to pdftex? Now I understand
             why Fabrice has html files ;-) Missleading.
/systems/macintosh/  empty; do we have stuff for Mac? Look at the main,
             introductory readme.html

---- /support tree
What about ghostscript? If we will have 5.50, please reinsert 
/support/ghostscript/gs550dos.zip from TL4, OK?

/support/ps_conv/  remove (we have already newer ps_conv.zip)

It can be added to the /support tree from dante:
/support/ps2eps/    free
/support/pstoedit/  GPL

For Win people, perhaps the actual info-zip stuff:
CTAN://tools/info-zip/WIN32/unz540xN.exe
                            wiz500xN.exe
                            zip23xN.exe
can be also added to /support/

------------
Please consider adding to texmf/doc/
CTAN://info/webguide/ 
            TrueType/
            FirstSteps/

-----------------
texmf/doc/html/tex4ht/  should be updated
texmf/doc/tetex/        should be updated
-----------------
texmf/fonts/pk/ljfour/public/cs/ only installed during `Recommended' install?

----------------
Installation on Linux
=====================
..... (VARTEXMF  not set)
Setting VARTEXMF in texmf.cnf... Done unsetting vartexmf.
..... the last message
   texconfig init
to initialize your system and create local copies of
format files. The log of this will be placed in
/usr/TeX/texconfig.log

As expected, running `texconfig init' does the same work already done
by install-cd.sh. Again we have:

install_link failed for /usr/TeX/bin/i386-linux/hugetex. File already exists.
install_link failed for /usr/TeX/bin/i386-linux/hugelatex. File already exists.
install_link failed for /usr/TeX/bin/i386-linux/texinfo. File already exists.
...
-------------
Even when Omega was not installed:

install_link failed for /usr/TeX/bin/i386-linux/lambda. File already exists.

------------
texconfig run
=============
selecting e.g. spanish instead of german and french hyphenation,
something wrong with jadetex/jadepdftex:

Package babel Warning: No hyphenation patterns were loaded for
(babel)                the language `German'
(babel)                I will use the patterns loaded for \language=0 instead.

) (/usr/TeX/texmf/tex/generic/babel/frenchb.ldf

Package babel Warning: No hyphenation patterns were loaded for
(babel)                the language `French'
(babel)                I will use the patterns loaded for \language=0 instead.

WARNING: Elsevier font setup not found
...
WARNING: mmasym package not loaded. some symbols will fail

------------

What to do? Perhaps it would be wise to include `Needed formats'
into install script? And then decide not to install/generate more then
20 MB of formats everytime when texconfig run. It would be tedious for
somebody in New Zeeland to generate again and again e.g. Polish 
or cont-nl formats ;-)

-------------
Since install-cd.sh do not inform the user what is in real in every 
level/package we need some abreviated list for each level in 
the documentation or on the CD. 

Staszek Wawrykiewicz
email: staw@gust.org.pl


From beebe@math.utah.edu  Tue Mar  7 12:43:34 2000
From: beebe@math.utah.edu (Nelson H. F. Beebe)
Date: Tue, 7 Mar 2000 05:43:34 -0700 (MST)
Subject: TL5 March, 03
Message-ID: <CMM.0.91.0.952433014.beebe@suncore.math.utah.edu>

Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> writes on
Tue, 7 Mar 2000 03:55:56 +0100 (MET):

>> What about ghostscript? If we will have 5.50, please reinsert
>> /support/ghostscript/gs550dos.zip from TL4, OK?

ghostscript 6.00 came out in early February 2000; I am a ghostscript
beta tester, and I can tell you that a very great deal of work has
been done on it since the 5.50 version, particularly for PDF support.

Therefore, if the Aladdin Public License terms are acceptable for
inclusion on the TeXLive 5 CD-ROM, then 6.00 should definitely be the
version distributed.  Details are available at

	http://www.cs.wisc.edu/~ghost/aladdin/get600.html

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- Center for Scientific Computing       FAX: +1 801 585 1640, +1 801 581 4148 -
- University of Utah                    Internet e-mail: beebe@math.utah.edu  -
- Department of Mathematics, 322 INSCC      beebe@acm.org  beebe@computer.org -
- 155 S 1400 E RM 233                       beebe@ieee.org                    -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------

From sebastian.rahtz@computing-services.oxford.ac.uk  Tue Mar  7 13:12:24 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue, 7 Mar 2000 13:12:24 +0000 (GMT)
Subject: TL5 March, 03
In-Reply-To: <CMM.0.91.0.952433014.beebe@suncore.math.utah.edu>
References: <CMM.0.91.0.952433014.beebe@suncore.math.utah.edu>
Message-ID: <14533.56.803278.69783@spqr.oucs.ox.ac.uk>

Nelson H. F. Beebe writes:

 > Therefore, if the Aladdin Public License terms are acceptable for
 > inclusion on the TeXLive 5 CD-ROM, then 6.00 should definitely be the
 > version distributed.  

Very sadly, the license is _not_ acceptable. The Aladdin license does not
meet the Debian guidelines. It says

"Distribution of the Program or any work based on the Program by a
commercial organization to any third party is prohibited if any
payment is made in connection with   such distribution,"

(and as explained further in the license)

which would preclude our CD being included in the back of a TeX book,
as Addison Wesley have just asked me if they may do. I am absolutely
sure that I want to be able let AW do this with no further ado. I do
NOT want to say to them "yes, if you contact Peter Deutsch and strike
a deal with him" (never mind Bernard Gaulle!)

Of course, TUG can make a superset of TeX Live, with GS 6, and give it 
to members.

Sebastian


From beebe@math.utah.edu  Tue Mar  7 13:16:19 2000
From: beebe@math.utah.edu (Nelson H. F. Beebe)
Date: Tue, 7 Mar 2000 06:16:19 -0700 (MST)
Subject: TL5 March, 03
In-Reply-To: Your message of Tue, 7 Mar 2000 13:12:24 +0000 (GMT)
Message-ID: <CMM.0.91.0.952434979.beebe@suncore.math.utah.edu>

>> Very sadly, the license is _not_ acceptable.

OK, thanks for checking.  It might, however, be worth putting a README-6.00
file in the gs5.50 distribution telling users how to get the latest version.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- Center for Scientific Computing       FAX: +1 801 585 1640, +1 801 581 4148 -
- University of Utah                    Internet e-mail: beebe@math.utah.edu  -
- Department of Mathematics, 322 INSCC      beebe@acm.org  beebe@computer.org -
- 155 S 1400 E RM 233                       beebe@ieee.org                    -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------

From sebastian.rahtz@computing-services.oxford.ac.uk  Wed Mar  8 13:02:21 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Wed, 8 Mar 2000 13:02:21 +0000 (GMT)
Subject: TeX Live 5, the end game
In-Reply-To: <Pine.LNX.4.21.0003070354520.5191-100000@chronos.ipipan.gda.pl>
References: <Pine.LNX.4.21.0003070354520.5191-100000@chronos.ipipan.gda.pl>
Message-ID: <14534.20317.539849.358159@spqr.oucs.ox.ac.uk>

I think it is time to make some firm plans.

I have just agreed to supply Addison Wesley Germany with a CD master
of TeX Live 5, for inclusion in the back of Kopka and Daly, in 2 weeks 
time. They accept that it may not have a working or final Windows
install system, but I have promised that the Unix install and
binaries, and the texmf tree, will be up to date and internally
consistent. I think I can deliver this, and I propose to call this TeX 
Live 5a.

At about the same time, the Polish group want a CD. I propose to make
them as good a product as I can (with Staszek's help), and deliver it
as TeX Live 5b.

This leaves TUG, and the other user groups. What I propose to do is
keep TeX Live 5b up to date, ready to deliver to TUG as TeX Live 5c,
for whenever TUG gets the documentation ready, works out a production
schedule, and makes deals with any user groups who want to play.

Does this sound agreeable?

The bottom lines

 1) I want to freeze TeX Live 5's texmf tree in the next 2 weeks
 2) Delivery of the master CD to TUG for distribution to members must
    be dependent on someone else working out a production system etc

Sebastian


From root@freefriends.org  Wed Mar  8 15:44:59 2000
From: root@freefriends.org (root)
Date: Wed, 8 Mar 2000 10:44:59 -0500
Subject: TeX Live 5, the end game
Message-ID: <200003081544.KAA29827@freefriends.org>

    They accept that it may not have a working or final Windows
    install system

Wow, I'm surprised.  But whatever.

    Does this sound agreeable?

Sounds fine to me.  Amazing work as always :).

    for whenever TUG gets the documentation ready, 

I don't know that there's going to be any special documentation written,
that project will probably have to wait.

     2) Delivery of the master CD to TUG for distribution to members must
        be dependent on someone else working out a production system etc

Yipes.

From sebastian.rahtz@computing-services.oxford.ac.uk  Wed Mar  8 15:53:10 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Wed, 8 Mar 2000 15:53:10 +0000 (GMT)
Subject: TeX Live 5, the end game
In-Reply-To: <200003081544.KAA29827@freefriends.org>
References: <200003081544.KAA29827@freefriends.org>
Message-ID: <14534.30566.47748.722533@spqr.oucs.ox.ac.uk>

root writes:
 >     They accept that it may not have a working or final Windows
 >     install system
 > 
 > Wow, I'm surprised.  But whatever.

they don't have much choice!

 >     for whenever TUG gets the documentation ready, 
 > 
 > I don't know that there's going to be any special documentation written,
 > that project will probably have to wait.

its Art's master plan to make TUG's CD worth more, isnt it?

TUG could also of course put non-free software on the CD like
Ghostscript 6, winedt, CMacTeX, french etc if it wanted

 >      2) Delivery of the master CD to TUG for distribution to members must
 >         be dependent on someone else working out a production system etc
 > 
 > Yipes.

quite. i hope its clear that I am not going to do any of this....

sebastian


From kaja@daimi.au.dk  Wed Mar  8 17:48:45 2000
From: kaja@daimi.au.dk (Kaja P. Christiansen)
Date: Wed, 8 Mar 2000 18:48:45 +0100 (MET)
Subject: TeX Live 5, the end game
In-Reply-To: <14534.20317.539849.358159@spqr.oucs.ox.ac.uk>
References: <Pine.LNX.4.21.0003070354520.5191-100000@chronos.ipipan.gda.pl>
 <14534.20317.539849.358159@spqr.oucs.ox.ac.uk>
Message-ID: <14534.37502.2201.460961@sparkle.daimi.au.dk>



Sebastian Rahtz writes:

 > I have promised that the Unix install and
 > binaries, and the texmf tree, will be up to date and internally
 > consistent.

I've added sets of binaries today - more information follows in 
a separate letter to texlive list.

 > At about the same time, the Polish group want a CD. I propose to make
 > them as good a product as I can (with Staszek's help), and deliver it
 > as TeX Live 5b.
 > 
 > This leaves TUG, and the other user groups. What I propose to do is
 > keep TeX Live 5b up to date, ready to deliver to TUG as TeX Live 5c,

It all sounds good. (I guess TeX Live 5c means is actually TeXlive 5 ?)

Kaja


From kaja@daimi.au.dk  Wed Mar  8 17:50:33 2000
From: kaja@daimi.au.dk (Kaja P. Christiansen)
Date: Wed, 8 Mar 2000 18:50:33 +0100 (MET)
Subject: new binaries for TL5
Message-ID: <14534.37609.325806.854070@sparkle.daimi.au.dk>



As agreed with Sebastian, I had a look at making the TL5 binaries 
for Solaris, HP-UX, SGI and Linux (available platforms at Computer 
Science Department here).

I started with Build script, hoping to 'make world' (and \relax),
which should build teTeX tree, extra utilities, binaries, formats, ...
It wasn't very relaxing, but the world built itself, eventually :-)

In short, programs compile cleanly under Solaris7, while HPUX and SGI
*take time* and several hand-made adjustments. I'd be glad to provide 
a list of encountered problems. I've also kept most of the intermediate
log files, for details.

Three sets of binaries have been uploaded to sun2.dante.de today:

  platform     OS release      directory

  Sun          SunOS 5.7       /texlive/bin/sparc-sun-solaris2.7
  HPUX         HP-UX 10.20     /texlive/bin/hppa2.0-hp-hpux10.20
  SGI          IRIX64 6.5      /texlive/bin/mips-sgi-irix6.5

They are based on sources dated Feb 29.

A few comments:

 - HPUX and SGI: texinfo didn't build. relevant binaries are based on 
   the original texinfo-4.0 from gnu distribution.

 - SGI: freetype didn't build, is missing.

 - directory texmf-local (current TEXMFLOCAL) should be present for
   'texconfig init', otherwise texconfig crashes looking for config.ps file.
   (there is texmf-localconfig, but it doesn't seem to be used for anything).

Cheers
kaja

From sebastian.rahtz@computing-services.oxford.ac.uk  Wed Mar  8 20:28:21 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Wed, 8 Mar 2000 20:28:21 +0000 (GMT)
Subject: new binaries for TL5
In-Reply-To: <14534.37609.325806.854070@sparkle.daimi.au.dk>
References: <14534.37609.325806.854070@sparkle.daimi.au.dk>
Message-ID: <14534.47077.846108.683592@localhost.localdomain>

does anyone have a tame RS6000, Openstep, or FreeBSD system?

sebastian


From sebastian.rahtz@computing-services.oxford.ac.uk  Wed Mar  8 20:27:44 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Wed, 8 Mar 2000 20:27:44 +0000 (GMT)
Subject: new binaries for TL5
In-Reply-To: <14534.37609.325806.854070@sparkle.daimi.au.dk>
References: <14534.37609.325806.854070@sparkle.daimi.au.dk>
Message-ID: <14534.47040.670991.396844@localhost.localdomain>

Kaja P. Christiansen writes:
 > As agreed with Sebastian, I had a look at making the TL5 binaries 
 > for Solaris, HP-UX, SGI and Linux (available platforms at Computer 
 > Science Department here).

can you make some Linux binaries available to compare with mine?

 > In short, programs compile cleanly under Solaris7, while HPUX and SGI
 > *take time* and several hand-made adjustments. I'd be glad to provide 
 > a list of encountered problems.

please do!!! I'd like to fix anything I can. not least because I am
going to ask you to repeat the exercise next week.

 >   Sun          SunOS 5.7       /texlive/bin/sparc-sun-solaris2.7
 >   HPUX         HP-UX 10.20     /texlive/bin/hppa2.0-hp-hpux10.20
 >   SGI          IRIX64 6.5      /texlive/bin/mips-sgi-irix6.5
great, many thanks

 >  - HPUX and SGI: texinfo didn't build. relevant binaries are based on 
 >    the original texinfo-4.0 from gnu distribution.
can you talk to Fabrice when he comes back from Dante?

 >  - SGI: freetype didn't build, is missing.
can you tell me where it failed?

 >  - directory texmf-local (current TEXMFLOCAL) should be present for
 >    'texconfig init', otherwise texconfig crashes looking for config.ps file.
 >    (there is texmf-localconfig, but it doesn't seem to be used for anything).

um. i had better check that

sebastian


From karl@freefriends.org  Thu Mar  9 04:44:26 2000
From: karl@freefriends.org (Karl Berry)
Date: Wed, 8 Mar 2000 23:44:26 -0500
Subject: TeX Live 5, the end game
Message-ID: <200003090444.XAA31406@freefriends.org>

    its Art's master plan to make TUG's CD worth more, isnt it?

When I asked, Art said he unfortunately won't have time to pursue that
for this release.

    TUG could also of course put non-free software on the CD like
    Ghostscript 6, winedt, CMacTeX, french etc if it wanted

I would strongly oppose that.

    quite. i hope its clear that I am not going to do any of this....

It's clear.

Hoping-someone-else-will-step-forward-karl

From kaja@daimi.au.dk  Thu Mar  9 19:52:47 2000
From: kaja@daimi.au.dk (Kaja P. Christiansen)
Date: Thu, 9 Mar 2000 20:52:47 +0100 (MET)
Subject: new binaries for TL5
In-Reply-To: <14534.47040.670991.396844@localhost.localdomain>
References: <14534.37609.325806.854070@sparkle.daimi.au.dk>
 <14534.47040.670991.396844@localhost.localdomain>
Message-ID: <14536.271.620286.23739@sparkle.daimi.au.dk>



Sebastian Rahtz writes:

 > can you make some Linux binaries available to compare with mine?

I hope to have something soon after the weekend, maybe on Monday.

 >  > I'd be glad to provide 
 >  > a list of encountered problems.
 > 
 > please do!!! I'd like to fix anything I can. 

Right now I am making my succinct notes into something intelligible.

 >  >  - HPUX and SGI: texinfo didn't build. relevant binaries are based on 
 >  >    the original texinfo-4.0 from gnu distribution.
 > can you talk to Fabrice when he comes back from Dante?

OK.

 >  >  - SGI: freetype didn't build, is missing.
 > can you tell me where it failed?

It fails during make in freetype/po, with an error message:
  `Makefile' line 95: Syntax error
As it turns out, the freetype/po/POTFILES list is not getting created, so 
an empty string ended by '/' slips into the Makefile and Irix doesn't like it.

Actually, I patched it yesterday, just to see whether everything was OK, 
but forgot to type the final 'make', so 2 programs were still missing 
(they are on dante's site now). And I was puzzled today by not being able 
to reproduce the error :-)

Kaja


From ogawa@teleport.com  Thu Mar  9 23:49:40 2000
From: ogawa@teleport.com (Arthur Ogawa)
Date: Thu, 09 Mar 2000 15:49:40 -0800
Subject: TeX Live 5, the end game
References: <200003092240.RAA01992@freefriends.org>
Message-ID: <38C83890.9CF0251C@teleport.com>

Karl Berry wrote:
> 
>     of having things like ghostscript and acrobat come to them on cd.
> 
> Ghostscript will be on the CD.  It will just be gs 5.50 instead of 6.0.

This I do not understand. I thought I saw Sebastian post that TL5a and
TL5b would not have GhostScript on it. As I understood his message, TUG
would have the option of putting GS on the TL5 CD that TUG distributes
(other packages were also mentioned, among them CMacTeX). Did I
misinterpret his message?

Also, I hope it is clear that GS of any sort on TeX Live means that
Peter Deutch's licensing restrictions apply, that is, the CD is not to
be distributed as an inducement for a commercial offering. Do these
restrictions meet with your approval? I know that Sebastian declined to
incorporate GS on TL5a and TL5b expressly so that he would not be
restrained in this way.

Also, the manufacture and sale of TL4a to LUGs was handled by Patricia
Monohon and me (as volunteers), and I have reassembled the same team for
this year. The office would still be involved in the billing of the
recipients and the inventory of the CD-ROMs that TUG will distribute for
the remainder of the year.

Arthur

From StaW@gust.org.pl  Fri Mar 10 01:37:28 2000
From: StaW@gust.org.pl (Staszek Wawrykiewicz)
Date: Fri, 10 Mar 2000 02:37:28 +0100 (MET)
Subject: TL5 games
Message-ID: <Pine.LNX.4.21.0003100236560.8494-100000@chronos.ipipan.gda.pl>

> At about the same time, the Polish group want a CD. I propose to make
> them as good a product as I can (with Staszek's help), and deliver it
> as TeX Live 5b.

I hope that 5b will contain win setup and texconfig
and all problems with configuration wil be clear to explain it shortly
in the texlive doc.
Do we have a package list for updating the descriptions in texlive doc?

texmf.cnf: it's good time to remove one more $TEXMFBETA

More about documentations for TL5:
I think that other available translations of lshort from CTAN should
be added (for completeness and other groups).
Moreover, lshort/english is out-of-date. Please update.
It's difficult to check other versions because of datestamps :-(

Cannot connect to sun2.dante.de for 2 days...

Staszek Wawrykiewicz
email: staw@gust.org.pl


From sebastian.rahtz@computing-services.oxford.ac.uk  Fri Mar 10 09:02:12 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Fri, 10 Mar 2000 09:02:12 +0000 (GMT)
Subject: TeX Live 5, the end game
In-Reply-To: <38C83890.9CF0251C@teleport.com>
References: <200003092240.RAA01992@freefriends.org>
 <38C83890.9CF0251C@teleport.com>
Message-ID: <14536.47636.504265.433372@spqr.oucs.ox.ac.uk>

Arthur Ogawa writes:
 > > Ghostscript will be on the CD.  It will just be gs 5.50 instead of 6.0.
 > 
 > This I do not understand. I thought I saw Sebastian post that TL5a and
 > TL5b would not have GhostScript on it. As I understood his message, TUG
 > would have the option of putting GS on the TL5 CD that TUG distributes
 > (other packages were also mentioned, among them CMacTeX). Did I
 > misinterpret his message?

yes. TeX Live 5 will have *Gnu* ghostscript, not the current, better,
Aladdin GS


 > Also, I hope it is clear that GS of any sort on TeX Live means that
 > Peter Deutch's licensing restrictions apply

not so. the license changes when the release goes from Aladdin to Gnu

Sebastian


From sebastian.rahtz@computing-services.oxford.ac.uk  Fri Mar 10 09:06:51 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Fri, 10 Mar 2000 09:06:51 +0000 (GMT)
Subject: TL5 games
In-Reply-To: <Pine.LNX.4.21.0003100236560.8494-100000@chronos.ipipan.gda.pl>
References: <Pine.LNX.4.21.0003100236560.8494-100000@chronos.ipipan.gda.pl>
Message-ID: <14536.47915.579379.42724@spqr.oucs.ox.ac.uk>

Staszek Wawrykiewicz writes:
 > > At about the same time, the Polish group want a CD. I propose to make
 > > them as good a product as I can (with Staszek's help), and deliver it
 > > as TeX Live 5b.
 > 
 > I hope that 5b will contain win setup and texconfig
I hope so too....

 > and all problems with configuration wil be clear to explain it shortly
 > in the texlive doc.

my main priority now is to work through your very valuable notes on
configuration and make a new test release for you to try

 > Do we have a package list for updating the descriptions in texlive doc?
thats high on my list too

 > I think that other available translations of lshort from CTAN should
 > be added (for completeness and other groups).
 > Moreover, lshort/english is out-of-date. Please update.
yes, I am working on that

please be aware that TL5 as of today is 700 megabytes. I badly need to 
lose 50 megabytes of something. suggestions?

 > It's difficult to check other versions because of datestamps :-(
and that

sebastian


From kaja@daimi.au.dk  Fri Mar 10 12:11:31 2000
From: kaja@daimi.au.dk (Kaja P. Christiansen)
Date: Fri, 10 Mar 2000 13:11:31 +0100 (MET)
Subject: TeX Live 5, the end game
In-Reply-To: <14536.47636.504265.433372@spqr.oucs.ox.ac.uk>
References: <200003092240.RAA01992@freefriends.org>
 <38C83890.9CF0251C@teleport.com>
 <14536.47636.504265.433372@spqr.oucs.ox.ac.uk>
Message-ID: <14536.58995.387145.450302@sparkle.daimi.au.dk>


Sebastian Rahtz writes:

 > yes. TeX Live 5 will have *Gnu* ghostscript, not the current, better,
 > Aladdin GS

How about adding gv (x11 frontend to gnu ghostscript) previewer on the CD?
It has GPL licence, will add only a few Mb, and is able preview the PDF
documents as well!

Kaja


From StaW@gust.org.pl  Sat Mar 11 03:54:37 2000
From: StaW@gust.org.pl (Staszek Wawrykiewicz)
Date: Sat, 11 Mar 2000 04:54:37 +0100 (MET)
Subject: texmf.cnf for BLU
Message-ID: <Pine.LNX.4.21.0003110452550.22444-100000@chronos.ipipan.gda.pl>

It is still not clear what can be changed in the local/user
configuration. For example, teTeX 1.0.7 texconfig do not make a copy of
texmf.cnf to the $VARTEXMF (if it was set, and as it was in previous
versions).
I can understand the idea of having some optimization or not allowing
somebody to mess such important file and making all needed local
changes by running only texconfig, but I'd like suggest to leave some
freedom to many experienced users (in many cases, they know better
what should be done with TeX stuff configuration than their admins ;-)

There are several reasons for having local|user|$VARTEXMF texmf.cnf:
1. the user can have his own format file, so, e.g., TEXINPUTS should be
   modified (preferably) in the texmf.cnf local copy.

   As it can be seen from many mails:
2. TEXEDIT can be set by the the user to the prefered editor. Some prefer
   vi, some emacs, etc. Again, local texmf.cnf is the best place.

3. The user can add another variant of pdf(*)tex in texmf/web2c/fmtutil.cnf
Please have a look at the actual fragment of texmf.cnf from
TeX Live5 alpha:
----
% PostScript headers, prologues (.pro), encodings (.enc) and fonts;
% this is also where pdftex finds included figures files!

TEXPSHEADERS.pdflatex   = .;$TEXMF/{tex,pdftex,dvips,fonts/type1}//
TEXPSHEADERS.pdfelatex  = .;$TEXMF/{tex,pdftex,dvips,fonts/type1}//
TEXPSHEADERS.pdftexinfo = .;$TEXMF/{tex,pdftex,dvips,fonts/type1}//
TEXPSHEADERS.pdfcslatex = .;$TEXMF/{tex,pdftex,dvips,fonts/type1}//
TEXPSHEADERS.pdfcsplain = .;$TEXMF/{tex,pdftex,dvips,fonts/type1}//
TEXPSHEADERS.pdfetex    = .;$TEXMF/{tex,pdftex,dvips,fonts/type1}//
TEXPSHEADERS.pdfjadetex = .;$TEXMF/{tex,pdftex,dvips,fonts/type1}//
TEXPSHEADERS.pdfmex     = .;$TEXMF/{tex,pdftex,dvips,fonts/type1}//
TEXPSHEADERS.pdftex     = .;$TEXMF/{tex,pdftex,dvips,fonts/type1}//
TEXPSHEADERS.pdftexinfo = .;$TEXMF/{tex,pdftex,dvips,fonts/type1}//
TEXPSHEADERS.cont-de    = .;$TEXMF/{tex,pdftex,dvips,fonts/type1}//
TEXPSHEADERS.cont-en    = .;$TEXMF/{tex,pdftex,dvips,fonts/type1}//
TEXPSHEADERS.cont-nl    = .;$TEXMF/{tex,pdftex,dvips,fonts/type1}//
TEXPSHEADERS.context    = .;$TEXMF/{etex,tex,pdftex,dvips,fonts/type1}//
TEXPSHEADERS = .;$TEXMF/{dvips,fonts/type1,pdftex}//

---
For each variant of pdf(*)tex we have exactly the same value (??!).
If the user add (in fmtutil.cnf) some other variant (say: pdfplatex),
he has to introduce also at least 2 lines in texmf.cnf:

TEXINPUTS.pdfplatex  = .;$TEXMF/{pdftex,tex}/{platex,latex,generic,}//
(it is really needed for some optimization)
...
TEXPSHEADERS.pdfplatex   = .;$TEXMF/{tex,pdftex,dvips,fonts/type1}//
(it is _not_ really needed, but I do not know how to change it
for all pdf* variants)

The last one variable is rather not for ``where pdftex finds included 
figures files!'', I'm rather sure that nobody put his figures here ;-), 
but is _very important for finding first_ texmf/pdftex/config/psfonts.map
(which, in turn, can be different from texmf/dvips/config/psfonts.map).

The last question: if pdf* do not use psfonts.map from the dvips/config/
(or it use it as the last resort) why it use the same file name?
Some time ago it used pdftex.map and it was enought clear...
I remember Thomas' work with updmap. Perhaps old ideas are not so bad...

Staszek Wawrykiewicz
email: staw@gust.org.pl


From olsak@math.feld.cvut.cz  Mon Mar 13 09:35:23 2000
From: olsak@math.feld.cvut.cz (Petr Olsak)
Date: Mon, 13 Mar 2000 10:35:23 +0100 (MET)
Subject: the fonts like phvr8a are missing in tested TeXlive
Message-ID: <Pine.LNX.3.96.1000313102321.14501A-100000@newton.feld.cvut.cz>


Hello TeXlive editors,

I have sent the bugreport to texlive@tug.org about fontname problem or
p*8a missing fonts problem. This problem is still not solved in tested
texmf tree at sun2.dante.de.

I am not able to solve this because doing some changes in texmf tree
correctly (in order to keeping a consistence with some database files) is
too difficult to me. 

I suppose: 

# vi texmf/fontname/texfonts.map

remove (or comment out) the line "include adobe.map"

More better:

Return the support of p*8a fonts to the psfonts.map staff. These names
were supported in some older versions of web2c and dvips. I dont know why
this support is missing in current verions.

Petr Olsak

---------- Forwarded message ----------
Date: Wed, 9 Feb 2000 14:11:09 +0100 (MET)
From: Petr Olsak <olsak@math.feld.cvut.cz>
To: texlive@tug.org
Subject: why the adobe.map is present in font aliases?


Hello,

I was found some special problem with font aliasing in our actual (and
all pre) version of TeXlive.

There is a font alias algorithm described in kpathsea documentation.
This aliasing is configured via texmf/fontname/texfonts.map.
The historical reason is clear: the lcircle10<->circle10 alias has his
significance. But why the adobe.map file is included?

I prepared some example in sun2:/texlive/whyfontname.
There is a virtual font AHelvetica.vf used in test.dvi.
This virtual font points to font Helvetica (sure, this name).
The psfonts.map includes one line: "Helvetica Helvetica".
Thus the dvips works OK:
1. AHelvetica points to Helvetica
2. Helvetica is in psfonts.map, so the Helvetica PSfont is
   used but not downloaded.

On the other hand, the xdvi works very bad:
1. AHelvetica points to Helvetica
2. Helvetica*.pk is not found, the aliases are used.
3. Aliases in adobe.map say: this is the phvr8a font!
4. The phvr8a.*pk is not found, so the mktexpk is run.
5. mktexpk does not found the phvr8a in psfonts.map, so Metafont is run
6. Metafont crashes.

I mean that the problem has to be solved.

Petr Olsak


From te@informatik.uni-hannover.de  Mon Mar 13 13:23:18 2000
From: te@informatik.uni-hannover.de (Thomas Esser)
Date: Mon, 13 Mar 2000 14:23:18 +0100 (MET)
Subject: texdoctk
Message-ID: <200003131323.OAA25913@regulus.informatik.uni-hannover.de>

Hi,

Thomas Ruedas has released a doc browser written in Perl/Tk. Since the
doc tree in TL is different from teTeX's, adjustmens in the doc database
might be needed.

If you want to look at texdoctk-0.3.0, you can download it from
  http://www.geophysik.uni-frankfurt.de/~ruedas/progs.html

Thomas

From te@informatik.uni-hannover.de  Mon Mar 13 13:26:22 2000
From: te@informatik.uni-hannover.de (Thomas Esser)
Date: Mon, 13 Mar 2000 14:26:22 +0100 (MET)
Subject: texdoctk
Message-ID: <200003131326.OAA25993@regulus.informatik.uni-hannover.de>

As for texdoctk-0.3.0, the URL is:
  http://www.geophysik.uni-frankfurt.de/~ruedas/download/texdoctk-0.3.0.tar.gz

The link on the web page
  http://www.geophysik.uni-frankfurt.de/~ruedas/progs.html#texdoctk
still points to the 0.2 version.

Thomas

From te@informatik.uni-hannover.de  Mon Mar 13 13:18:14 2000
From: te@informatik.uni-hannover.de (Thomas Esser)
Date: Mon, 13 Mar 2000 14:18:14 +0100 (MET)
Subject: texmf.cnf for BLU
Message-ID: <200003131318.OAA25872@regulus.informatik.uni-hannover.de>

>  TEXMFCNF = .:{$SELFAUTOLOC,$SELFAUTODIR,$SELFAUTOPARENT}\
>  {,{/share,}/texmf{.local,}/web2c};c;/TeX/texmf/web2c
> 
> If I changed that to
> 
>  TEXMFCNF = .:{$VARTEXMF,$SELFAUTOLOC,$SELFAUTODIR,$SELFAUTOPARENT}\
>  {,{/share,}/texmf{.local,}/web2c};c;/TeX/texmf/web2c
> 
> then the programs would search whatever was the value of VARTEXMF set
> in the texmf.cnf at compile time, yes? if someone changes VARTEXMF at

- $VARTEXMF should be $VARTEXMF/web2c
- variables on the right side of "=" will be expanded at runtime, not
  at build time
- it does not work as expected :-(

To my last point: you usually set VARTEXMF in a texmf.cnf file and not
in the environment. But, for searching texmf.cnf files, only environment
variables and the compile-time path are considered, so there is no way
for a clean solution.

Sorry for suggesting using VARTEXMF in the search path of texmf.cnf.
It was a bad idea which does not work. I don't see an easy way (without
environment variables) which helps to maintain texmf.cnf in $VARTEXMF.

Thomas

From te@informatik.uni-hannover.de  Sat Mar 11 13:06:27 2000
From: te@informatik.uni-hannover.de (Thomas Esser)
Date: Sat, 11 Mar 2000 14:06:27 +0100 (MET)
Subject: texmf.cnf for BLU
Message-ID: <200003111306.OAA11966@regulus.informatik.uni-hannover.de>

> The last one variable is rather not for ``where pdftex finds included 
> figures files!'', I'm rather sure that nobody put his figures here ;-), 
> but is _very important for finding first_ texmf/pdftex/config/psfonts.map
> (which, in turn, can be different from texmf/dvips/config/psfonts.map).
> 
> The last question: if pdf* do not use psfonts.map from the dvips/config/
> (or it use it as the last resort) why it use the same file name?

Good questions. Playing games with search paths should be avoided whenever
it is possible.

> I remember Thomas' work with updmap. Perhaps old ideas are not so bad...

:-)

Thomas

From te@informatik.uni-hannover.de  Sat Mar 11 13:00:35 2000
From: te@informatik.uni-hannover.de (Thomas Esser)
Date: Sat, 11 Mar 2000 14:00:35 +0100 (MET)
Subject: texmf.cnf for BLU
Message-ID: <200003111300.OAA11905@regulus.informatik.uni-hannover.de>

Hi Staszek et. al.,

> It is still not clear what can be changed in the local/user
> configuration. For example, teTeX 1.0.7 texconfig do not make a copy of
> texmf.cnf to the $VARTEXMF (if it was set, and as it was in previous
> versions).

This only makes sense, if you compile kpathsea with $VARTEXMF included
in the search path for texmf.cnf files (before everything else). This is
not the case in standard teTeX, so it is correct not to copy texmf.cnf
into the VARTEXMF tree.

It does not help to set TEXMFCNF inside some texmf.cnf file to something
that includes $VARTEXMF. For texmf.cnf files, the *compile time* path
is important (I think that we all agree on not to rely on environment
variables).

For TeX Live 5, it might be possible to do this change. One migth even
consider to include $HOMETEXMF.

> There are several reasons for having local|user|$VARTEXMF texmf.cnf:

Sure, you are right.

Thomas

From Fabrice.Popineau@supelec.fr  Sat Mar 11 08:38:50 2000
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: 11 Mar 2000 09:38:50 +0100
Subject: texmf.cnf for BLU
In-Reply-To: "Staszek Wawrykiewicz"'s message of "Sat, 11 Mar 2000 04:54:37 +0100 (MET)"
References: <Pine.LNX.4.21.0003110452550.22444-100000@chronos.ipipan.gda.pl>
Message-ID: <u8zzpq4th.fsf@supelec.fr>

* Staszek Wawrykiewicz <StaW@gust.org.pl> writes:

> It is still not clear what can be changed in the local/user
> configuration.

My intended setup scheme will be the following (unless someone come
with fine objections !) :

- copy original texmf.cnf to texmf_local/web2c
- change :

HOMETEXMF = $HOME/texmf (if $HOME available)
TEXMFLOCAL = $SELFAUTOPARENT/texmf_local
VARTEXFONTS = $TEXMFLOCAL/fonts
TEXMF = {$HOMETEXMF,!!$TEXMFLOCAL,!!$TEXMFMAIN}

- change the environment :

FPTEX = c:\Local\TeX
PATH = %FPTEX%\bin\win32;%PATH%
TEXMFCNF = %FPTEX%\texmf_local\web2c

And that shoud be all.

Some other configuration files will be copied to the $TEXMFLOCAL tree:
config.ps, pdftex.cfg, mktex.cnf, psfonts.map (?)

I just want that people be able to erase the TEXMFMAIN tree, unpack a
new one and not loose their main settings.

Fabrice


From pflynn@imbolc.ucc.ie  Mon Mar 13 12:34:13 2000
From: pflynn@imbolc.ucc.ie (Peter Flynn)
Date: Mon, 13 Mar 2000 12:34:13 +0000 (GMT)
Subject: TL5 games
In-Reply-To: <Pine.LNX.4.21.0003100236560.8494-100000@chronos.ipipan.gda.pl> from "Staszek Wawrykiewicz" at Mar 10, 2000 02:37:28 AM
Message-ID: <200003131234.MAA15662@imbolc.ucc.ie>

> I hope that 5b will contain win setup and texconfig

I hope it will contain an all-default no-questions
setup that does not require clicking through 30+
screens to accept all defaults.

///Peter

From ruedas@geophysik.uni-frankfurt.de  Mon Mar 13 14:29:35 2000
From: ruedas@geophysik.uni-frankfurt.de (Thomas Ruedas)
Date: Mon, 13 Mar 2000 15:29:35 +0100
Subject: texdoctk
Message-ID: <38CCFB4F.9F7DD93C@geophysik.uni-frankfurt.de>

Hello,

Thomas Esser <te@informatik.uni-hannover.de>, Mon, 13 Mar 2000 14:26:22
+0100 (MET)
>The link on the web page
>  http://www.geophysik.uni-frankfurt.de/~ruedas/progs.html#texdoctk
>still points to the 0.2 version.
I have updated the link, sorry for any inconvenience.
Regards,
-- 
------------------------------------------------------------------------
Thomas Ruedas
Institute of Meteorology and Geophysics, J.W.Goethe University Frankfurt
e-mail: ruedas@geophysik.uni-frankfurt.de
http://www.geophysik.uni-frankfurt.de/~ruedas/
------------------------------------------------------------------------

From ruedas@geophysik.uni-frankfurt.de  Mon Mar 13 16:26:28 2000
From: ruedas@geophysik.uni-frankfurt.de (Thomas Ruedas)
Date: Mon, 13 Mar 2000 17:26:28 +0100
Subject: texdoctk
References: <200003131323.OAA25913@regulus.informatik.uni-hannover.de> <14541.3392.53471.168193@spqr.oucs.ox.ac.uk>
Message-ID: <38CD16B4.814C3AED@geophysik.uni-frankfurt.de>

Hello,
>Value of <HANDLE> construct can be "0"; test with defined() at ./texdoctk line >65535.
>Value of <HANDLE> construct can be "0"; test with defined() at ./texdoctk line >65535.
>Value of <HANDLE> construct can be "0"; test with defined() at ./texdoctk line >65535.
Which Perl version do you have? I got this crap as well on my Linux box
at home (Perl v.5.004, IIRC), but didn't notice any particular problems;
note that I have the -w option in the first script line. I can't test
now if it would disappear if you take it away, because with the slightly
newer Perl here (AIX, Perl v.5.005_03) it doesn't show up.
>Read on closed filehandle <UPDATES> at ./texdoctk line 56.
>Use of uninitialized value at ./texdoctk line 57.
Lines 54-56 are
    my $updates=join('/',($texmfmain,"updates.dat"));
    open(UPDATES,"$updates");
    $line=<UPDATES>;
so updates.dat is expected to be in $TEXMFMAIN. Could it really be in
another place or be absent at all? I don't know if you tried as root or
as a normal user; the file must be world-readable, I guess.
Please tell me about that, so that I can make a workaround.
>But I cannot see a trivial way to keep it up to date or extend the database
I can't either, but I am prepared to maintain databases for the original
releases of new teTeX texmf versions as well, of course. Maintaining the
database for local specials naturally is the duty of the local sysadmin,
but just adding a line if you install a *new* package should not be such
a tremendous effort.
I don't think there can be a trivial way, because the frontend needs a
kind of slogan for the user to know what a package is about, and also
some keywords maybe, for the search.
>would it be better NOT to give the path of files, but just let
>kpsewhich find them?
Running kpsewhich when a file is selected, you mean? However, I am not
sure if kpsewhich would find the correct result in each case (although
in most cases, it would). But there are some files or at least
possibilities of file names such as index.html or README which are or in
future versions might be not unique.

Thomas
-- 
------------------------------------------------------------------------
Thomas Ruedas
Institute of Meteorology and Geophysics, J.W.Goethe University Frankfurt
e-mail: ruedas@geophysik.uni-frankfurt.de
http://www.geophysik.uni-frankfurt.de/~ruedas/
------------------------------------------------------------------------

From ruedas@geophysik.uni-frankfurt.de  Mon Mar 13 17:08:05 2000
From: ruedas@geophysik.uni-frankfurt.de (Thomas Ruedas)
Date: Mon, 13 Mar 2000 18:08:05 +0100
Subject: texdoctk
References: <200003131323.OAA25913@regulus.informatik.uni-hannover.de>
 <14541.3392.53471.168193@spqr.oucs.ox.ac.uk>
 <38CD16B4.814C3AED@geophysik.uni-frankfurt.de> <14541.6182.188955.179173@spqr.oucs.ox.ac.uk>
Message-ID: <38CD2075.A2EB6AC4@geophysik.uni-frankfurt.de>

Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk>:
>I tried on a non-teTeX trr (TeX Live) where I do not have updates.dat
Wouldn't it be possible to copy one of the database files
(texdoc-102.dat possibly) to texdoc-local.dat and then modify that
according to the TeXLive directory tree as described in the README under
INSTALLATION? texdoctk first looks for texdoc-local.dat, and only if
that is not there it tries to read updates.dat.
>ideally, you would get this information from the Williams Catalogue
>database, though it is not currently in there in the format you would
>need.
That would be a major effort, I guess, and I don't see a simple and
reliable way of extracting keywords from it. Besides, it would still
make it necessary to maintain a certain kind of database so that a
possible script for the generation of the final database knows which
docs of which packages are there at all at the local site.

Thomas
-- 
------------------------------------------------------------------------
Thomas Ruedas
Institute of Meteorology and Geophysics, J.W.Goethe University Frankfurt
e-mail: ruedas@geophysik.uni-frankfurt.de
http://www.geophysik.uni-frankfurt.de/~ruedas/
------------------------------------------------------------------------

From Fabrice.Popineau@supelec.fr  Mon Mar 13 17:18:16 2000
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: 13 Mar 2000 18:18:16 +0100
Subject: TL5 games
In-Reply-To: Peter Flynn's message of "Mon, 13 Mar 2000 12:34:13 +0000 (GMT)"
References: <200003131234.MAA15662@imbolc.ucc.ie>
Message-ID: <uya7m94br.fsf@supelec.fr>

* Peter Flynn <pflynn@imbolc.ucc.ie> writes:

> I hope it will contain an all-default no-questions setup that does
> not require clicking through 30+ screens to accept all defaults.

It might even run in batch mode ... ;-)

Fabrice


From sebastian.rahtz@computing-services.oxford.ac.uk  Mon Mar 13 16:32:38 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon, 13 Mar 2000 16:32:38 +0000 (GMT)
Subject: texdoctk
In-Reply-To: <38CD16B4.814C3AED@geophysik.uni-frankfurt.de>
References: <200003131323.OAA25913@regulus.informatik.uni-hannover.de>
 <14541.3392.53471.168193@spqr.oucs.ox.ac.uk>
 <38CD16B4.814C3AED@geophysik.uni-frankfurt.de>
Message-ID: <14541.6182.188955.179173@spqr.oucs.ox.ac.uk>

Thomas Ruedas writes:

 > Which Perl version do you have? I got this crap as well on my Linux box
 > at home (Perl v.5.004, IIRC), but didn't notice any particular problems;

yes thats what I have on my Linux box here

 > >Read on closed filehandle <UPDATES> at ./texdoctk line 56.
 > >Use of uninitialized value at ./texdoctk line 57.
 > Lines 54-56 are
 >     my $updates=join('/',($texmfmain,"updates.dat"));
 >     open(UPDATES,"$updates");
 >     $line=<UPDATES>;
 > so updates.dat is expected to be in $TEXMFMAIN. Could it really be in
 > another place or be absent at all? I don't know if you tried as root or
 > as a normal user; the file must be world-readable, I guess.

I tried on a non-teTeX trr (TeX Live) where I do not have updates.dat, 
so I guess you need to allow for it not existing at all

 > but just adding a line if you install a *new* package should not be such
 > a tremendous effort.
no, if one can think of what category to use

 > I don't think there can be a trivial way, because the frontend needs a
 > kind of slogan for the user to know what a package is about, and also
 > some keywords maybe, for the search.

ideally, you would get this information from the Williams Catalogue
database, though it is not currently in there in the format you would
need. 

 > Running kpsewhich when a file is selected, you mean? However, I am not
 > sure if kpsewhich would find the correct result in each case (although
 > in most cases, it would). But there are some files or at least
 > possibilities of file names such as index.html or README which are or in
 > future versions might be not unique.

true, of course

sebastian


From sebastian.rahtz@computing-services.oxford.ac.uk  Sat Mar 11 21:41:31 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Sat, 11 Mar 2000 21:41:31 +0000 (GMT)
Subject: texmf.cnf for BLU
In-Reply-To: <200003111300.OAA11905@regulus.informatik.uni-hannover.de>
References: <200003111300.OAA11905@regulus.informatik.uni-hannover.de>
Message-ID: <14538.48523.611799.537427@localhost.localdomain>

Thomas Esser writes:
 > This only makes sense, if you compile kpathsea with $VARTEXMF included
 > in the search path for texmf.cnf files (before everything else). This is
 > not the case in standard teTeX, so it is correct not to copy texmf.cnf
 > into the VARTEXMF tree.
 > 
 > It does not help to set TEXMFCNF inside some texmf.cnf file to something
 > that includes $VARTEXMF. For texmf.cnf files, the *compile time* path
 > is important (I think that we all agree on not to rely on environment
 > variables).
 > 
 > For TeX Live 5, it might be possible to do this change. One migth even
 > consider to include $HOMETEXMF.

Can you explain this a bit more? my build-time texmf.cnf says

 TEXMFCNF = .:{$SELFAUTOLOC,$SELFAUTODIR,$SELFAUTOPARENT}\
 {,{/share,}/texmf{.local,}/web2c};c;/TeX/texmf/web2c

If I changed that to

 TEXMFCNF = .:{$VARTEXMF,$SELFAUTOLOC,$SELFAUTODIR,$SELFAUTOPARENT}\
 {,{/share,}/texmf{.local,}/web2c};c;/TeX/texmf/web2c

then the programs would search whatever was the value of VARTEXMF set
in the texmf.cnf at compile time, yes? if someone changes VARTEXMF at
install time, it does not have any effect, because at that stage it
has not read texmf.cnf.

Fabrice's proposal only works because he *does* set some environment
variables:

FPTEX = c:\Local\TeX
PATH = %FPTEX%\bin\win32;%PATH%
TEXMFCNF = %FPTEX%\texmf_local\web2c

and hard-wires in this texmf_local tree.

I am reluctant to follow this, because by default it forces the
original and the local trees to be on the same drive. If someone wants
to install the original on a read-only system, and have local
configuration on a writeable system, they are screwed unless they set
environment variables, which we do not want to do.

Staszek, since you are on the same system as me, can you describe
exactly how you would ideally like the TeX system a) compiled, and b)
installed?

sebastian


From kaja@daimi.au.dk  Mon Mar 13 17:24:48 2000
From: kaja@daimi.au.dk (Kaja P. Christiansen)
Date: Mon, 13 Mar 2000 18:24:48 +0100 (MET)
Subject: new binaries for TL5
In-Reply-To: <14534.47040.670991.396844@localhost.localdomain>
References: <14534.37609.325806.854070@sparkle.daimi.au.dk>
 <14534.47040.670991.396844@localhost.localdomain>
Message-ID: <14541.9312.731277.306817@sparkle.daimi.au.dk>


Sebastian Rahtz writes:

 > can you make some Linux binaries available to compare with mine?

I've just uploaded Linux binaries to sun2.dante.de - directory:
texlive/bin/i686-pc-linux-gnu. Enjoy!

Kaja


From StaW@gust.org.pl  Mon Mar 13 05:06:14 2000
From: StaW@gust.org.pl (Staszek Wawrykiewicz)
Date: Mon, 13 Mar 2000 06:06:14 +0100 (MET)
Subject: texmf.cnf for BLU (2)
In-Reply-To: <14538.47550.88139.959836@localhost.localdomain>
Message-ID: <Pine.LNX.4.21.0003130605210.21814-100000@chronos.ipipan.gda.pl>

Fabrice:
FP> TEXMFLOCAL = $SELFAUTOPARENT/texmf_local
FP> ...
FP> FPTEX = c:\Local\TeX
FP> PATH = %FPTEX%\bin\win32;%PATH%
FP> TEXMFCNF = %FPTEX%\texmf_local\web2c
FP> ...
FP> Some other configuration files will be copied to the $TEXMFLOCAL tree:
FP> config.ps, pdftex.cfg, mktex.cnf, psfonts.map (?)

Since we are talking about TeX Live, please have in mind also 
running it directly from the CD and both (Unix and Win32) worlds.
1. Please consider using naming scheme for both worlds:
   I'd propose rather TeX-local (not texmf_local with underscore), or
   texmf.local, or something similar what is already set in TL texmf.cnf
2. If you tell the user: set your VARTEXMF, everything work fine for both 
   cases: when running from the CD and when installing on the hard disk
   (with extra local tree for user configuration). VARTEXMF can be set
   to $HOME/texmf (if $HOME is available), or even to $TEXMFLOCAL for
   installations on the HD ($SELFAUTOPARENT/... should now work).
   You do not need to set $TEXMFCNF in the environement. I've tested 
   several situations on win32, even e.g., 
   a) I have only $PATH set to binaries
   b) $VARTEXMF is set to some directory in the main texmf.cnf
   c) all changes are made in $VARTEXMF/web2c/texmf.cnf and other files
      under $VARTEXMF/ (config.ps etc).
   I do not see any important difference when setting $TEXMFCNF in the env.,
   quite the same can be setting here $VARTEXMF. Why, please read bellow.
3. Since on Unix/Linux we do not have another util for building the
   local tree, texconfig _can_ build such tree automagically _only_
   when VARTEXMF is set. That's why suggest considering it so
   and important.
4. Let's see the situation: the admin installed TL stuff on the server
   and also use local configuration for the group of users (just to remove
   and to update the main texmf, as you wrote). using $VARTEXMF still
   allow the BLU to have his local tree with configuration files (he can
   have his own profile with $VARTEXMF set).      

SW>> ... For example, teTeX 1.0.7 texconfig do not make a copy of
SW>> texmf.cnf to the $VARTEXMF (if it was set, and as it was in previous
SW>> versions).

Thomas:
TE> This only makes sense, if you compile kpathsea with $VARTEXMF included
TE> in the search path for texmf.cnf files (before everything else). This is
TE> not the case in standard teTeX, so it is correct not to copy texmf.cnf
TE> into the VARTEXMF tree.

Again, for TL running directly from the CD: the user can set $PATH and
$VARTEXMF, and this is the only way for running texconfig init and have build
the local tree, but by now, we do not have here texmf.cnf 
(also empty texmf/pdftex/config/ is made, without pdftex.cnf). 

Now, thanks to Thomas, I found another problem for TL5, which I've tested):
# kpsewhich --expand-var \$TEXMF
{/root/texmf,/mnt/cdrom/texmf-local,!!/usr/TeX.local,!!/mnt/cdrom/texmf}
    (removed $TEXMFBETA for clarity)
# kpsewhich --expand-var \$VARTEXMF
/usr/TeX.local
# kpsewhich --expand-var \$TEXMFCNF
.:{/mnt/cdrom/bin/i386-linux,/mnt/cdrom/bin,/mnt/cdrom}{,{/share,}/texmf{.local,}/web2c}:c:/TeX/texmf/web2c

So I have needed local tree built, but even I have a copy of texmf.cnf here,
any changes here have no sense. Again, many thanks to Thomas for pointing 
that:

TE> For texmf.cnf files, the *compile time* path
TE> is important (I think that we all agree on not to rely on environment
TE> variables).
TE>
TE> For TeX Live 5, it might be possible to do this change. One migth even
TE> consider to include $HOMETEXMF.

Sebastian:
SR> Staszek, since you are on the same system as me, can you describe
SR> exactly how you would ideally like the TeX system a) compiled, and b)
SR> installed?

Uff... I'm only a small tester. I only want to find a good compromise
for the whole stuff, as well as clarity in documenting it.
Well, for the TL5, to conclude:
1. follow Thomas' hint of compiling with $VARTEXMF, or include in temf.cnf
what you suggested:
  
> TEXMFCNF = .:{$VARTEXMF,$SELFAUTOLOC,$SELFAUTODIR,$SELFAUTOPARENT}\
> {,{/share,}/texmf{.local,}/web2c};c;/TeX/texmf/web2c
(I didn't tested it, but it seems to be OK, but less optimal for win32,
and what Fabrice propose ;-)

2. For TL5 texmf.cnf:

TEXMFMAIN = $SELFAUTOPARENT/texmf
TEXMFLOCAL = $SELFAUTOPARENT/texmf-local
 (Fabrice, would you please follow it?)

VARTEXMF = $SELFAUTOPARENT/texmf-var
 (can be changed during install, or set by user while running TL 
  directly from the CD; running texsetup for win32 (can be as TEXMFLOCAL), 
  set it in env. vars by the user in other cases, e.g., to $HOME/texmf , etc.)
TEXMF = {$HOMETEXMF,$TEXMFLOCAL,!!$VARTEXMF,!!$TEXMFMAIN}
 (can be left _as is_, please observe removing $BETATEST, there are many
  chances that user set $VARTEXMF for $HOMETEXMF, or we can suggest him
  to make such set: $VARTEXMF=$HOME/texmf in the documentation -- it will work
  for running from the CD, or for installed stuff on the server).
TEMP = /var/tmp
 (is it OK on win32, Fabrice?)

----
About pdftex:
SW>> TEXPSHEADERS.pdflatex   = .;$TEXMF/{tex,pdftex,dvips,fonts/type1}//

SR> point taken. I think its too late now to change pdftex for my TeX Live 
SR> release, but Thanh should really change pdftex to look at the `normal' 
SR> path for Type1 fonts

OK, we can leave it. I think that for `pdftex engine' it should rather scan
.;$TEXMF/{pdftex,tex,dvips,fonts/type1}// for all variants (see the small
difference ;-), but it can be just one in texmf.cnf. It is not only for
finding Type1 fonts.
TL6 will be also the next year...

Staszek Wawrykiewicz
email: staw@gust.org.pl


From sebastian.rahtz@computing-services.oxford.ac.uk  Sat Mar 11 21:25:18 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Sat, 11 Mar 2000 21:25:18 +0000 (GMT)
Subject: texmf.cnf for BLU
In-Reply-To: <Pine.LNX.4.21.0003110452550.22444-100000@chronos.ipipan.gda.pl>
References: <Pine.LNX.4.21.0003110452550.22444-100000@chronos.ipipan.gda.pl>
Message-ID: <14538.47550.88139.959836@localhost.localdomain>

Staszek Wawrykiewicz writes:
 > It is still not clear what can be changed in the local/user
 > configuration. For example, teTeX 1.0.7 texconfig do not make a copy of
 > texmf.cnf to the $VARTEXMF (if it was set, and as it was in previous
 > versions).

um. you want us to change the install programs to copy texmf.cnf if
VARTEXMF is set? I'll experiment.

 > Please have a look at the actual fragment of texmf.cnf from
 > TeX Live5 alpha:
 > ----
 > % PostScript headers, prologues (.pro), encodings (.enc) and fonts;
 > % this is also where pdftex finds included figures files!
 > 
 > TEXPSHEADERS.pdflatex   = .;$TEXMF/{tex,pdftex,dvips,fonts/type1}//

point taken. I think its too late now to change pdftex for my TeX Live 
release, but Thanh should really change pdftex to look at the `normal' 
path for Type1 fonts

 > The last one variable is rather not for ``where pdftex finds included 
 > figures files!'', I'm rather sure that nobody put his figures here ;-), 
 > but is _very important for finding first_ texmf/pdftex/config/psfonts.map
 > (which, in turn, can be different from texmf/dvips/config/psfonts.map).
 > 
 > The last question: if pdf* do not use psfonts.map from the dvips/config/
 > (or it use it as the last resort) why it use the same file name?
 > Some time ago it used pdftex.map and it was enought clear...

I assume that Thanh though that people _would_ use the same file, but
now we see that it isn't such a good idea (they two files in my setup
are rather different, though both derived automatically from the same
sources). 

I am not sure how to solve either of your concerns about *.pdf* in
texmf.cnf,  to be honest. I certainly agree that what we have now is messy

Sebastian


From sebastian.rahtz@computing-services.oxford.ac.uk  Sat Mar 11 22:32:48 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Sat, 11 Mar 2000 22:32:48 +0000
Subject: documentation for TeX Live 5
Message-ID: <5681-Sat11Mar2000223248+0000-sebastian.rahtz@oucs.ox.ac.uk>

I currently have copies of the documentation for TeX Live 4 in
Deutsch, English, French, Polish, and Slovak. I need to get these
minimally updated.

If I supply a "diff" between old and new versions of the English
documentation, can I have volunteers to make the changes to the other 
language versions, please? Otherwise I will have to do it myself, with 
possibly disastrous consequences..

My changes are mostly minor, and usually involve cuttting things out.
One big change is that I propose to omit the catalogue of packages,
since it seems better to browse Williams' Catalogue. I will of course
be checking the CD stuff against the Williams Catalogue and getting
updates to him.

Sadly, I do not think it is practical at this stage to convert the
documentation to XML :-}

Sebastian


From sebastian.rahtz@computing-services.oxford.ac.uk  Mon Mar 13 16:05:31 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon, 13 Mar 2000 16:05:31 +0000 (GMT)
Subject: TL5 games
In-Reply-To: <200003131234.MAA15662@imbolc.ucc.ie>
References: <Pine.LNX.4.21.0003100236560.8494-100000@chronos.ipipan.gda.pl>
 <200003131234.MAA15662@imbolc.ucc.ie>
Message-ID: <14541.4555.205500.743337@spqr.oucs.ox.ac.uk>

Peter Flynn writes:
 > > I hope that 5b will contain win setup and texconfig
 > 
 > I hope it will contain an all-default no-questions
 > setup that does not require clicking through 30+
 > screens to accept all defaults.

That is in the hands  of The Master of Metz.

on a Real Operating System, its only a few letters and returns

Sebastian



From sebastian.rahtz@computing-services.oxford.ac.uk  Mon Mar 13 15:46:08 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon, 13 Mar 2000 15:46:08 +0000 (GMT)
Subject: texdoctk
In-Reply-To: <200003131323.OAA25913@regulus.informatik.uni-hannover.de>
References: <200003131323.OAA25913@regulus.informatik.uni-hannover.de>
Message-ID: <14541.3392.53471.168193@spqr.oucs.ox.ac.uk>

I have to admit, it's rather nice. But I cannot see a trivial way to
keep it up to date or extend the database

would it be better NOT to give the path of files, but just let
kpsewhich find them?

Sebastian


From Fabrice.Popineau@supelec.fr  Mon Mar 13 19:38:04 2000
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: 13 Mar 2000 20:38:04 +0100
Subject: texmf.cnf for BLU
In-Reply-To: "Sebastian Rahtz"'s message of "Sat, 11 Mar 2000 21:41:31 +0000 (GMT)"
References: <200003111300.OAA11905@regulus.informatik.uni-hannover.de> <14538.48523.611799.537427@localhost.localdomain>
Message-ID: <uln3m8xur.fsf@supelec.fr>

* Sebastian Rahtz <sebastian.rahtz@computing-services.oxford.ac.uk> writes:

> If I changed that to

>  TEXMFCNF = .:{$VARTEXMF,$SELFAUTOLOC,$SELFAUTODIR,$SELFAUTOPARENT}\
> {,{/share,}/texmf{.local,}/web2c};c;/TeX/texmf/web2c

> then the programs would search whatever was the value of VARTEXMF
> set in the texmf.cnf at compile time, yes? if someone changes
> VARTEXMF at install time, it does not have any effect, because at
> that stage it has not read texmf.cnf.

Yes, you will need to set $VARTEXMF in the environment. The $SELFAUTO*
variables are processed ok because they are in the environment.

> Fabrice's proposal only works because he *does* set some environment
> variables:

> FPTEX = c:\Local\TeX PATH = %FPTEX%\bin\win32;%PATH% TEXMFCNF =
> %FPTEX%\texmf_local\web2c

> and hard-wires in this texmf_local tree.

> I am reluctant to follow this, because by default it forces the
> original and the local trees to be on the same drive. If someone
> wants to install the original on a read-only system, and have local
> configuration on a writeable system, they are screwed unless they
> set environment variables, which we do not want to do.

Yes, this is the drawback. But there is an egg_and_chicken problem
there : you can't say that the location of texmf.cnf is in
... texmf.cnf itself.

I agree that  my setting is  not perfect, but  it is simple enough for
the average windows user who sets this up on his personal machine. The
$TEXMFLOCAL tree  is usually small   compared to $TEXMFMAIN for  those
users. People setting  up this in a network  environment are  bound to
adjust it.

Anyway, all suggestions about what to set up are welcome. My only
requirement is that $TEXMFMAIN is not used, and that it can be erased
and replaced. 

Fabrice



From Fabrice.Popineau@supelec.fr  Mon Mar 13 19:58:01 2000
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: 13 Mar 2000 20:58:01 +0100
Subject: texmf.cnf for BLU (2)
In-Reply-To: "Staszek Wawrykiewicz"'s message of "Mon, 13 Mar 2000 06:06:14 +0100 (MET)"
References: <Pine.LNX.4.21.0003130605210.21814-100000@chronos.ipipan.gda.pl>
Message-ID: <ud7oy8wxi.fsf@supelec.fr>

* Staszek Wawrykiewicz <StaW@gust.org.pl> writes:


> TEXMFLOCAL = $SELFAUTOPARENT/texmf-local 
> (Fabrice, would you please follow it?)
Yes ...

> VARTEXMF = $SELFAUTOPARENT/texmf-var (can be changed during install,
> or set by user while running TL directly from the CD;

I can use this, if it is needed by Unix.

> TEMP = /var/tmp (is it OK on win32, Fabrice?)

Well, I hope that every windows system have the TEMP variable already
set, so that it will always override this setting, which points to a
non-existent directory on the vast majority of windows machines.

Maybe I should check in the early initialisation of kpathsea that TEMP
points somewhere. But why TEMP, not TMP ?

Also, please consider setting :

TEXMFCNF = .;$VARTEXMF/web2c;{$SELFAUTOLOC,$SELFAUTODIR,$SELFAUTOPARENT}{,{/share,}/texmf{.local,}/web2c};$TETEXDIR;$TEXMF/web2c;@web2c@

rather than the proposed setting where $VARTEXMF was set along
$SELFAUTOLOC : it will be found faster. And remember that _it won't
have any effect if $VARTEXMF is not set in the environment_.

Last thing : I hope that the texmf.cnf file will have ';' as directory
separators ;-)

Fabrice


From Fabrice.Popineau@supelec.fr  Wed Mar 15 17:19:28 2000
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: 15 Mar 2000 18:19:28 +0100
Subject: TeXSetup.exe
Message-ID: <upusw178f.fsf@supelec.fr>

Can anybody grab this on the perforce server and try to run it :

Master/setupw32/TeXSetupw32

It is not finished, but I'd first like to know if it runs somewhere
else than here.

Try :
TeXSetupw32 --help
TeXSetupw32 --dry-run --source-dir=c:\TeXLive\setupw32

It tries to find the tpm files relatively to the location it is run
from.

Thanks for any suggestion / report;

-- 
Fabrice


From StaW@gust.org.pl  Thu Mar 16 04:04:47 2000
From: StaW@gust.org.pl (Staszek Wawrykiewicz)
Date: Thu, 16 Mar 2000 05:04:47 +0100 (MET)
Subject: TeXSetup.exe
In-Reply-To: <upusw178f.fsf@supelec.fr>
Message-ID: <Pine.LNX.4.21.0003160504080.27039-100000@chronos.ipipan.gda.pl>


> TeXSetupw32 --help
> TeXSetupw32 --dry-run --source-dir=c:\TeXLive\setupw32

I hope you mean TeXSetup.exe (TeXSetupw32 ?)

On Win95:
Error: (free translation from Polish messages ;-)
TEXSETUP.EXE connected to missing export SHELL32.DLL:SHGetSpecialFolderPathA

Staszek Wawrykiewicz
email: staw@gust.org.pl


From Fabrice.Popineau@supelec.fr  Fri Mar 17 11:56:18 2000
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: 17 Mar 2000 12:56:18 +0100
Subject: New set of win32 binaries
In-Reply-To: Sebastian Rahtz's message of "Thu, 16 Mar 2000 16:15:08 +0000 (GMT)"
Message-ID: <ur9d9kdy5.fsf_-_@supelec.fr>


Let me know if something is missing or even if there are unneeded
files.

There is also a first try of ht*.exe commands to run TeX4ht. I have
tested them only very lightly.

Thanks for any report / suggestion,

-- 
Fabrice


From sebastian.rahtz@computing-services.oxford.ac.uk  Fri Mar 17 12:04:31 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Fri, 17 Mar 2000 12:04:31 +0000 (GMT)
Subject: New set of win32 binaries
In-Reply-To: <ur9d9kdy5.fsf_-_@supelec.fr>
References: <ur9d9kdy5.fsf_-_@supelec.fr>
Message-ID: <14546.8015.497579.688944@spqr.oucs.ox.ac.uk>

Great.

I am going to burn a CD now and start testing things.

For the benefit of everyone else, the TeX Live 5a master is now almost 
closed. I am awaiting some corrections to the CJK package from Werner 
Lemberg (it is now much better), and I know an update to PSTricks is
coming, but I hope the texmf tree is now clean.

Remaining tasks

 - waiting for final binaries from Kaja, and still need an RS6000 to
    play on
 - waiting for Indic bundle from Radhakrishnan
 - documentation tree changes (I have some unfinished work prompted by 
    Staszek)
 - the setup/install/config stuff from Staszek to consider
 - revisions to documentation
 - first version of real windows installer from Fabrice
 - endless checking of consistency

and then I burn the CD a week today (24th). corrections are possible
up to the 23rd.

sebastian


From kaja@daimi.au.dk  Fri Mar 17 12:39:44 2000
From: kaja@daimi.au.dk (Kaja P. Christiansen)
Date: Fri, 17 Mar 2000 13:39:44 +0100 (MET)
Subject: New set of solaris7 binaries
In-Reply-To: <14546.8015.497579.688944@spqr.oucs.ox.ac.uk>
References: <ur9d9kdy5.fsf_-_@supelec.fr>
 <14546.8015.497579.688944@spqr.oucs.ox.ac.uk>
Message-ID: <14546.10128.344662.434734@sparkle.daimi.au.dk>


Sebastian Rahtz writes:

 > Remaining tasks
 > 
 >  - waiting for final binaries from Kaja, and still need an RS6000 to
 >     play on

I uploaded the new set of Solaris7 binaries earlier today,
and count on having SGI and HPUX (and Linux?) pretty soon.

Kaja


From kaja@daimi.au.dk  Fri Mar 17 13:01:26 2000
From: kaja@daimi.au.dk (Kaja P. Christiansen)
Date: Fri, 17 Mar 2000 14:01:26 +0100 (MET)
Subject: New set of win32 binaries
In-Reply-To: <14546.8015.497579.688944@spqr.oucs.ox.ac.uk>
References: <ur9d9kdy5.fsf_-_@supelec.fr>
 <14546.8015.497579.688944@spqr.oucs.ox.ac.uk>
Message-ID: <14546.11430.712132.907096@sparkle.daimi.au.dk>



Sebastian Rahtz writes:

 > Lemberg (it is now much better), and I know an update to PSTricks is
 > coming, but I hope the texmf tree is now clean.

Please update texmf/.../psnfss for TeXLive 5...

I stumbled on outdated ot1pnc.fd yesterday (one of our users needed it).
The version in /texlive/Master/texmf is:

   [1998/11/05 Fontinst v1.800 font definitions for OT1/pnc.]

while it should have the CTAN content/version:

   [1998/07/06 Fontinst v1.800 font definitions for OT1/pnc.]

(the version on TeXLive4 was too old too!)

Kaja


From kaja@daimi.au.dk  Fri Mar 17 19:10:51 2000
From: kaja@daimi.au.dk (Kaja P. Christiansen)
Date: Fri, 17 Mar 2000 20:10:51 +0100 (MET)
Subject: New(er) binaries for HP and SGI
Message-ID: <14546.33595.64352.303254@sparkle.daimi.au.dk>


I uploaded new binaries for HP and SGI (218 programs each) to sun2.dante.de.
The Linux set is in the making.

The build process under hpux and irix is still rather problematic. Mostly 
due to the Makefiles which HP and SGI can't handle (reported previously),
but also the @MAINTAINER_MODE_TRUE@ (?) which slipped into the sources.

I had to apply XXX patches on these two architectures to build the programs,
so don't blame me :-)...

---

On all architectures (including Solaris and Linux), the build process 
breaks down in the teTeX directory - where building includes a call 
to 'texconfig init', which needs the config.ps file, which is not found...
texmf-local tree (there is none) with config.ps (at least), or initialising
config.ps in texmf-var would be good.

Is it possible - in texlive/Master source - to replace the 
teTeX-1.0/texk/xdvik/depend.mk file with a modified version with which 
SGI and HPUC could cope? The file doesn't seem to be auto-generated 
by anything and the patch is trivial.

Kaja


From sebastian.rahtz@computing-services.oxford.ac.uk  Tue Mar 21 16:33:52 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Tue, 21 Mar 2000 16:33:52 +0000 (GMT)
Subject: Proposal for TeXLive-n CDs
In-Reply-To: <CMM.0.91.0.953650983.beebe@suncore.math.utah.edu>
References: <CMM.0.91.0.953650983.beebe@suncore.math.utah.edu>
Message-ID: <14551.42096.184186.763573@spqr.oucs.ox.ac.uk>

Nelson H. F. Beebe writes:
 > Since the TeXlive-n CDs are bursting at the seams, we are never going
 > to be able to fit all of the desired binary distributions on a single
 > CD.
true. one could easily double the number of binary sets

 > However, why not put a pointer on the CD to
 > http://www.tug.org/texliveN/bin/ (N = 1, 2, 3, ...)  that will always
 > have the latest binary trees for each architecture.

indeed, that is precisely the way Fabrice and I are thinking with
the .tpm files (http://sun2.dante.de/Master/texmf/tpm/). the plan is
to have them point at multiple resources, including ones on the net.

the Win32 installer which Fabrice is working frantically on at this
moment has started the process; it offers to download some non-free
software for you at install time (eg winedt, gs6, french package), and 
clearly we can have future versions of this program do upgrades.

 > On the TeXLive-4 CD, they range in size from 9MB (i386-linux-libc5) to
 > 22MB (hppa1.1-hpux10.10), with an average of 14MB.  Thus, people could
 > transfer them over the Web, and we could maintain a permanent
 > repository for each issued CD that could include both updated trees
 > (e.g., compiled with newer compilers or higher optimization levels),
 > and new trees that weren't ready in time for the CD burn, or were not
 > widely-enough used to justify space (e.g., non-Intel Linux, FreeBSD,
 > OpenBSD, NetBSD, ...).

we do have FreeBSD this time, actually :-}

 > Indeed, FreeBSD has an interesting idea: the tree /usr/ports contains
 > in each directory a simple Makefile, and a configuration file that
 > tells where on the Internet the master source resides, but with no
 > source present in the directory.  When you do
 > 
 > % cd /usr/ports/packagename
 > % make

I can imagine making that work

I do agree that the whole install thing is the way to develop, there
are several papers about it at TUG2000....

Sebastian


From sebastian.rahtz@computing-services.oxford.ac.uk  Mon Mar 27 11:42:23 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Mon, 27 Mar 2000 11:42:23 +0100 (BST)
Subject: texlive 5a --> 5b
Message-ID: <14559.15119.490709.968202@spqr.oucs.ox.ac.uk>

I posted a CD to Addison Wesley last Friday, and that release is
complete. Now the fun can start, in time for April 10th, when the Poles
want to press a CD for BachoTeX.

I'd urge all and everyone to try the current state of TL, and find
flaws, in the next week. I propose to make no changes at all for until 
next Monday, and simply accumulate error reports. 

http://sun2.dante.de/Images/texlive.iso is a CD image I just built; if 
you can drag that over and burn yourself a CD, you'll have guarenteed fun.

Sebastian


From Fabrice.Popineau@supelec.fr  Tue Mar 28 21:15:43 2000
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: 28 Mar 2000 22:15:43 +0200
Subject: mktex.cnf
In-Reply-To: Sebastian Rahtz's message of "Tue, 28 Mar 2000 09:39:36 +0100 (BST)"
Message-ID: <uaeji6ec0.fsf_-_@supelec.fr>


Given the current  texmf.cnf, is it  harmless (maybe even useful !) to
have this mktex.cnf :

: ${MT_FEATURES=appendonlydir:varfonts:fontmaps}
: ${MODE=ljfour}
: ${BDPI=600}

instead of the current one ?

-- 
Fabrice


From StaW@gust.org.pl  Wed Mar 29 16:11:14 2000
From: StaW@gust.org.pl (Staszek Wawrykiewicz)
Date: Wed, 29 Mar 2000 17:11:14 +0200 (MET DST)
Subject: mktex.cnf
In-Reply-To: <uaeji6ec0.fsf_-_@supelec.fr>
Message-ID: <Pine.LNX.4.21.0003291709380.3799-100000@chronos.ipipan.gda.pl>

On 28 Mar 2000, Fabrice Popineau wrote:

> Given the current  texmf.cnf, is it  harmless (maybe even useful !) to
> have this mktex.cnf :
> 
> : ${MT_FEATURES=appendonlydir:varfonts:fontmaps}
> : ${MODE=ljfour}
> : ${BDPI=600}
> 
> instead of the current one ?

Sure! Without it the user cannot write to nonwritable $TEXMFMAIN/fonts
What about:

# uncomment the following line to use ps2pk instead of gsftopk:
# : ${ps_to_pk=ps2pk}

lines in mktex.cnf? I see gsftopk is default at compile time. However
some may want to play with ps2pk ;-)

Staszek Wawrykiewicz
email: staw@gust.org.pl


From StaW@gust.org.pl  Thu Mar 30 05:14:24 2000
From: StaW@gust.org.pl (Staszek Wawrykiewicz)
Date: Thu, 30 Mar 2000 06:14:24 +0200 (MET DST)
Subject: TL5 from March 28th
Message-ID: <Pine.LNX.4.21.0003300613240.21738-100000@chronos.ipipan.gda.pl>

Uff, some opinions about installation of TL5 from March 28th on Linux
recommended installation (as usual ;-)

> Fixing permissions in /usr/TeX... Done fixing permissions.
> Setting up directories for automatic font creation... Done setting up directories.
> Set local tree $SELFAUTOPARENT/texmf-local in /usr/TeX/texmf/web2c/texmf.cnf...
> Done fixing texmf.cnf

For the moment it serves for nothing... Such tree wasn't built.

> ...
> clean fmtutil.cnf in /usr/TeX/texmf/web2c... Done fixing fmtutil.cnf

As previously it has most of formats unblocked :-( 
1. install-cd.sh copied all formats to proposed /usr/TeX/texmf/web2c
   this point is acceptable...
2. for a strange reason /usr/TeX/texmf-var/ was created with the _same_ copy
   of fmtutil.cnf and then all formats were regenerated (during install), 
   so we have another 24 MB on disk. To be exact, I didn't selected creation 
   of var (alternate directory for configuration)

I can guess a mistake with texmf-var and texmf-local ;-)

-----
BLU can hapilly start texconfig (great!) but his local automagically
created tree is full of formats because of previous steps.
Hardly acceptable!

Nevertheless, I believe that such situation is more and more close to 
the ideas of easy and clear configuration from both (admin and BLU) sides:
1. do not touch fmtutil.cnf when copying it from the CD
2. clean up the mess with texmf-var and texmf-local for install script
 
The worst experience was replacing fmtutil.cnf in texmf-var/web2c/ 
by a clean one from the CD, and then running texconfig from BLU account. 
texmf-var/web2c/fmtutil.cnf was ignored and again, at the start of
texconfig, BLU has all mess with many megabytes of formats. 
It seems quite clear: the admin can touch the global 
$VARTEXMF/web2c/fmtutil.cnf and generate any format he decides,
but $TEMFMAIN/web2c/fmtutil.cnf _should be_ as simple as possible
because of bahaviour of texconfig I do not still understand (regeneration 
of all formats _before_ any user decission what have to be done).

-----
Recommended installation copies texmf/fonts/pk/ljfour/public/cs/ ???? Only!
The same is on win32.


Staszek Wawrykiewicz
email: staw@gust.org.pl


From sebastian.rahtz@computing-services.oxford.ac.uk  Thu Mar 30 09:41:58 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Thu, 30 Mar 2000 09:41:58 +0100 (BST)
Subject: TL5 from March 28th
In-Reply-To: <Pine.LNX.4.21.0003300613240.21738-100000@chronos.ipipan.gda.pl>
References: <Pine.LNX.4.21.0003300613240.21738-100000@chronos.ipipan.gda.pl>
Message-ID: <14563.4950.760354.865037@spqr.oucs.ox.ac.uk>

Staszek Wawrykiewicz writes:

 > > clean fmtutil.cnf in /usr/TeX/texmf/web2c... Done fixing fmtutil.cnf
 > 
 > As previously it has most of formats unblocked :-( 

but as I keep saying, why does it matter?

 > 1. install-cd.sh copied all formats to proposed /usr/TeX/texmf/web2c
 >    this point is acceptable...

i now think that it should not copy any format files at all, but
always create them

 > 2. for a strange reason /usr/TeX/texmf-var/ was created with the _same_ copy
 >    of fmtutil.cnf and then all formats were regenerated (during install), 
 >    so we have another 24 MB on disk. To be exact, I didn't selected creation 
 >    of var (alternate directory for configuration)

but it *always* uses VAR, it just has a default value

 > I can guess a mistake with texmf-var and texmf-local ;-)
 > 
 > -----
 > BLU can hapilly start texconfig (great!) but his local automagically
 > created tree is full of formats because of previous steps.
 > Hardly acceptable!

why not? his tree is full of formats that correspond to the 
sources he installed. if he does a basic install, it will try to build 
pdftex.fmt, and fail, rightly.

 > Nevertheless, I believe that such situation is more and more close to 
 > the ideas of easy and clear configuration from both (admin and BLU) sides:
 > 1. do not touch fmtutil.cnf when copying it from the CD

but then you'll never be able to build format files unless you edit it 
by hand

 > 2. clean up the mess with texmf-var and texmf-local for install script
i claim that there is no mess...

 > The worst experience was replacing fmtutil.cnf in texmf-var/web2c/ 
 > by a clean one from the CD, and then running texconfig from BLU account. 
 > texmf-var/web2c/fmtutil.cnf  was ignored and again,

i need to look at that

 > It seems quite clear: the admin can touch the global 
 > $VARTEXMF/web2c/fmtutil.cnf and generate any format he decides,
 > but $TEMFMAIN/web2c/fmtutil.cnf _should be_ as simple as possible

ok. let me see if I can achieve this

 > Recommended installation copies texmf/fonts/pk/ljfour/public/cs/
 > ???? Only!

as expected. thats what the .tpm files say. propose changes to the
.tpm files.....

 > The same is on win32.
win32 install should now be identical to linux; they read the same
files


sebastian


From StaW@gust.org.pl  Thu Mar 30 13:27:51 2000
From: StaW@gust.org.pl (Staszek Wawrykiewicz)
Date: Thu, 30 Mar 2000 14:27:51 +0200 (MET DST)
Subject: TL5 from March 28th
In-Reply-To: <14563.4950.760354.865037@spqr.oucs.ox.ac.uk>
Message-ID: <Pine.LNX.4.21.0003301427060.25877-100000@chronos.ipipan.gda.pl>

SW>> BLU can hapilly start texconfig (great!) but his local automagically
SW>> created tree is full of formats because of previous steps.
SW>> Hardly acceptable!

SR> why not? his tree is full of formats that correspond to the
SR> sources he installed. if he does a basic install, it will try to build
SR> pdftex.fmt, and fail, rightly.

No, the sources were *installed by the admin*. And the whole stuff, in most
cases `Recommended' or even `Full' installation (also megabytes of formats)
is in $TEXMFMAIN.
Every BLU (normal user) *cannot* have another 20-30mb when starting
texconfig.

SW>> 1. do not touch fmtutil.cnf when copying it from the CD
SR> but then you'll never be able to build format files unless you edit it
SR> by hand

That's why we have texconfig and invoke it for administrative tasks.

Steps for the ADMIN:
1. he installs $TEXMFMAIN tree.
2. $TEXMFMAIN/web2c/fmtutil.cnf has 2 formats unblocked (as on CD)
3. During install $VARTEXMF tree is also created by default, OK.
4. $VARTEXMF/web2c/ can contain all formats regenerated and fmtutil.cnf
   accordingly prepared.

Steps for simple user (BLU):
1. he can run programs as installed by Admin
2. he can start texconfig which builds for him
   a _small_ $HOME/texmf tree with some configuration files
   (important when BLU has local printer, etc.)
3. he can add/generate private copy of really needed format,
   e.g. latex with some other hyphenation patterns, since all needed
   source files are in $TEXMFMAIN

Staszek Wawrykiewicz
email: staw@gust.org.pl


From sebastian.rahtz@computing-services.oxford.ac.uk  Fri Mar 31 13:43:18 2000
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Fri, 31 Mar 2000 13:43:18 +0100
Subject: installation sequence
Message-ID: <E12b0li-0000WF-00@ermine.ox.ac.uk>

I have changed the Unix installation so that:

 a) no .fmt, .efmt, .mem or .base files are ever installed
    but they are all on the CD
 c) fmtutil.cnf is copied to $VARTEXMF/web2c and edited to make almost
    everything visible
 c) at the end of installation, texconfig runs and creates all
    the fmt/mem/base files which it can, based on what you
    installed. this happens in $VARTEXMF/web2c
  
This should mean that $TEXMFMAIN is format-file-free.

Win32 follows on when Fabrice has a moment.

I _hope_ this is what Staszek wants :-}

Sebastian


