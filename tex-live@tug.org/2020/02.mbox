From tkt.asakura at gmail.com  Sat Feb  1 09:15:16 2020
From: tkt.asakura at gmail.com (Takuto ASAKURA)
Date: Sat, 1 Feb 2020 17:15:16 +0900
Subject: About Texdoc release and tlpdb
Message-ID: <AB654608-CDA3-4FBD-80EA-B192496BBC89@gmail.com>


Hi Karl, Norbert, and All,

I'm planning to release a new version of Texdoc tomorrow.

Meanwhile, I noticed that, in the tlpdb, documents for the
latex-base-dev package are more "detailed" than those for the
main latex package.

>From line 138573 in the tlpdb (r53620):

	name latex
	[...]
	 texmf-dist/doc/latex/base/README.md
	 texmf-dist/doc/latex/base/alltt.pdf
	 texmf-dist/doc/latex/base/bugs.txt
	 texmf-dist/doc/latex/base/cfgguide.pdf
	 texmf-dist/doc/latex/base/cfgguide.tex
	 texmf-dist/doc/latex/base/changes.old.txt
	 texmf-dist/doc/latex/base/changes.txt
	 texmf-dist/doc/latex/base/classes.pdf
	 texmf-dist/doc/latex/base/clsguide.pdf
	 texmf-dist/doc/latex/base/clsguide.tex
	 texmf-dist/doc/latex/base/cmfonts.pdf
	 texmf-dist/doc/latex/base/cyrguide.pdf
	 texmf-dist/doc/latex/base/cyrguide.tex
	 texmf-dist/doc/latex/base/doc.pdf
	 texmf-dist/doc/latex/base/docstrip.pdf
	 texmf-dist/doc/latex/base/encguide.pdf
	 texmf-dist/doc/latex/base/encguide.tex
	 texmf-dist/doc/latex/base/exscale.pdf
	 texmf-dist/doc/latex/base/fix-cm.pdf
	 texmf-dist/doc/latex/base/fntguide.pdf
	 texmf-dist/doc/latex/base/fntguide.tex
	 texmf-dist/doc/latex/base/graphpap.pdf
	 texmf-dist/doc/latex/base/ifthen.pdf
	 texmf-dist/doc/latex/base/inputenc.pdf
	 texmf-dist/doc/latex/base/latexchanges.pdf
	 texmf-dist/doc/latex/base/latexchanges.tex
	 texmf-dist/doc/latex/base/latexrelease.pdf
	 texmf-dist/doc/latex/base/latexsym.pdf
	[...]

and from line 139041:

	name latex-base-dev
	[...]
	docfiles size=5563
	 texmf-dist/doc/latex-dev/base/README.md details="Readme"
	 texmf-dist/doc/latex-dev/base/alltt.pdf
	 texmf-dist/doc/latex-dev/base/bugs.txt
	 texmf-dist/doc/latex-dev/base/cfgguide.pdf details="Configuration guide"
	 texmf-dist/doc/latex-dev/base/cfgguide.tex
	 texmf-dist/doc/latex-dev/base/changes.old.txt
	 texmf-dist/doc/latex-dev/base/changes.txt
	 texmf-dist/doc/latex-dev/base/classes.pdf
	 texmf-dist/doc/latex-dev/base/clsguide.pdf details="Class and package programming guide"
	 texmf-dist/doc/latex-dev/base/clsguide.tex
	 texmf-dist/doc/latex-dev/base/cmfonts.pdf
	 texmf-dist/doc/latex-dev/base/cyrguide.pdf details="Cyrillic languages guide"
	 texmf-dist/doc/latex-dev/base/cyrguide.tex
	 texmf-dist/doc/latex-dev/base/doc.pdf
	 texmf-dist/doc/latex-dev/base/docstrip.pdf
	 texmf-dist/doc/latex-dev/base/encguide.pdf details="Font encoding guide"
	 texmf-dist/doc/latex-dev/base/encguide.tex
	 texmf-dist/doc/latex-dev/base/exscale.pdf
	 texmf-dist/doc/latex-dev/base/fix-cm.pdf
	 texmf-dist/doc/latex-dev/base/fntguide.pdf details="Font selection guide"
	 texmf-dist/doc/latex-dev/base/fntguide.tex
	 texmf-dist/doc/latex-dev/base/graphpap.pdf
	 texmf-dist/doc/latex-dev/base/ifthen.pdf
	 texmf-dist/doc/latex-dev/base/inputenc.pdf
	 texmf-dist/doc/latex-dev/base/latexchanges.pdf details="Details of changes to LaTeX2e"
	 texmf-dist/doc/latex-dev/base/latexchanges.tex
	 texmf-dist/doc/latex-dev/base/latexrelease.pdf
	 texmf-dist/doc/latex-dev/base/latexsym.pdf
	[...]

I understood that you think the "details" part of tlpdb is not
so informative, maybe that is true, but it seems weird that
latex-base-dev, which is less important than the actual latex
package, has more "detailed" information.

For instance, Texdoc gives bonus for the documents with the
details entry. Current situation lead us to the wrong way,
since we want to prioritize the latex package than the latex-dev.

Please take the either of removing details of latex-dev or
adding the same details parts for the latex package.

Thanks,
Takuto



From karl at freefriends.org  Mon Feb  3 00:04:59 2020
From: karl at freefriends.org (Karl Berry)
Date: Sun, 2 Feb 2020 16:04:59 -0700
Subject: About Texdoc release and tlpdb
In-Reply-To: <AB654608-CDA3-4FBD-80EA-B192496BBC89@gmail.com>
Message-ID: <202002022304.012N4x85030894@freefriends.org>

Hi Takuto - well, the just-made release of latex2e now has "details" in
the Catalogue for the various documents, so I guess it'll work out. -k

From angelo.g0 at libero.it  Mon Feb  3 10:22:11 2020
From: angelo.g0 at libero.it (Angelo Graziosi)
Date: Mon, 3 Feb 2020 10:22:11 +0100 (CET)
Subject: About biber installation [Android]
Message-ID: <1998274047.617630.1580721731450@mail1.libero.it>

Recently I installed Termux (https://termux.com) on an Android device (a tablet, 4 GiB+128 GiB).

Termux is a sort of Linux distribution based on Debian. It has the texlive-full package but rebuilding some documents it fails because that system does not have biber. So I asked to Temux people. They point me to this _recipe_: "https://github.com/termux/termux-packages/issues/981#issuecomment-575897769", which really I do not understand much. Really I need to install 30 min of download perl modules? I install regularly TL on GNU/Linux, macOS and Windows+WSL with install-tl script and never I had issues with biber.

Maybe you have some suggestion..

TIA,
 Angelo.

From jfbu at free.fr  Mon Feb  3 12:28:14 2020
From: jfbu at free.fr (jfbu)
Date: Mon, 3 Feb 2020 12:28:14 +0100
Subject: Can doc/ contain documentation independently of source/
Message-ID: <95576246-4AC1-40C0-92B4-60FF2A12831D@free.fr>

Hi,

So far I have mainly interpreted TDS structure as asking for source/
to contain the source not only of macro files but also of the complete
documentation.

As a result, for my packages with source distributed as .dtx files
(which is almost all my packages) I may embed into the
.dtx files things such as README.md, CHANGES or even Makefiles needed
to build documentation and reconstruct a full package.tds.zip.

I am wondering, accepting for the duraction of this discussion
that the whole .dtx concept actually continues
to make sense nowadays, whether I should not bundle things a bit
differently and consider that xint.dtx should only be a container
of the package documentation stricto sensu and macro files.

Things such as README, CHANGES, Manifest, Makefiles
being left outside and only included in doc/ but not in the dtx
which ends up in source/.  I.e. the shipped bundle would still
provide the means to both produce the complete documentation
and macro files, but this would go perhaps via using a contributed
Makefile or other means located in doc/, which to work would
of course would need to have foo.dtx available too.

But foo.dtx by itself would only be a container of macro files
and perhaps of some user-manual.

For example for xint which I updated recently, in the process
I removed some previous duplication (I had been going
quite overboard with both a CHANGES.html and CHANGES.pdf
for example). But currently the xint.dtx still contains 
CHANGES in markdown format, as well as shell scripts
which can use pandoc to produce CHANGES.html
as distributed in the doc/ section too.

I am considering removing entirely from the xint.dtx
all these things ; and distribute directly only a CHANGES.html
produced at home.

Thus CHANGES.html will qualify as its own source but be in doc/

Also a Makefile (currently extractable from xint.dtx as Makefile.mk)
would end up in doc/ but not be in the source/xint.dtx

In fact source/ would contain only xint.dtx (I have also dropped
xint.ins which always had been purely optional as xint.dtx
self-extracts).

And doc/ would contain Makefile, CHANGES.html, README.md,
xint.pdf and sourcexint.pdf.

The source/ would thus only contain the source for xint.pdf
and sourcexint.pdf production, and of course of the macros files xint*.sty
but not for the other stuff (which nevertheless are an indispensible
part of the user documentation).

In the longer term, I think the whole concept of stripping xint*.sty files
is somewhat dated and I would prefer an approach ? la Python
where the macro files have their docstrings and the CTAN uploads
do not included a bulky PDF documentation byt only the 
macro files and the user has means to consult the docstrings.

This would not preclude having some dedicated xint.pdf user manual,
but at least in the case of code documentation would include it
in only one place, not duplicated in a "dtx" and in a "pdf".

I even wonder after all why one should include the TeX source
of a pdf documentation at all and why not directly the PDF ?

Then what would actually source/ serve to ? There would be
only tex/ for the macro files containing docstrings
and doc/ for extra documentation including the means
to extract the docstrings.

That TeX would mean a bit more time to load the macro files
looks irrelevant nowadays.

For my package polexpr I distributed the documentation as
an html file polexpr.html which is produced via DocUtils
from reStructuredText source, polexpr.txt, but also there
I wonder why distribute at all this "source" and not uniquely
the html ?

In brief, shouldn't there be some project about reducing
duplication in the TDS trees?

Please, if replying CC my address as I don't subscribe to the list,

Jean-Fran?ois



From bvoisin at icloud.com  Mon Feb  3 13:20:08 2020
From: bvoisin at icloud.com (Bruno Voisin)
Date: Mon, 3 Feb 2020 13:20:08 +0100
Subject: texdoc error about realpath
Message-ID: <9D540B76-1F4C-45D0-9178-C48481D697AB@icloud.com>

Since applying TeX Live updates this morning, texdoc is returning the error message

sh: realpath: command not found

It's still working (the required doc opens up as expected), but there's this message every time.

The above on the Mac (macOS 10.15 Catalina) with MacTeX 2019 updated via TeX Live Utility (a Mac version of tlmgr).

I'm reporting this here after seeing <https://tug.org/pipermail/tex-live/2020-February/044664.html> which seems to say texdoc has just been updated.

Regarding the version:

% texdoc --version
sh: realpath: command not found
Texdoc 3.2 (2020-02-02)
[...]

Bruno Voisin

From joseph.wright at morningstar2.co.uk  Mon Feb  3 14:55:22 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 3 Feb 2020 13:55:22 +0000
Subject: Can doc/ contain documentation independently of source/
In-Reply-To: <95576246-4AC1-40C0-92B4-60FF2A12831D@free.fr>
References: <95576246-4AC1-40C0-92B4-60FF2A12831D@free.fr>
Message-ID: <05cb7cfd-725c-c0b9-e32c-8b313216c0cc@morningstar2.co.uk>

Hello Jean-Fran?ois,
> So far I have mainly interpreted TDS structure as asking for source/
> to contain the source not only of macro files but also of the complete
> documentation.

I think that's the usual reading.

> As a result, for my packages with source distributed as .dtx files
> (which is almost all my packages) I may embed into the
> .dtx files things such as README.md, CHANGES or even Makefiles needed
> to build documentation and reconstruct a full package.tds.zip.
 >
> I am wondering, accepting for the duraction of this discussion
> that the whole .dtx concept actually continues
> to make sense nowadays, whether I should not bundle things a bit
> differently and consider that xint.dtx should only be a container
> of the package documentation stricto sensu and macro files.
> 
> Things such as README, CHANGES, Manifest, Makefiles
> being left outside and only included in doc/ but not in the dtx
> which ends up in source/.  I.e. the shipped bundle would still
> provide the means to both produce the complete documentation
> and macro files, but this would go perhaps via using a contributed
> Makefile or other means located in doc/, which to work would
> of course would need to have foo.dtx available too.

For small packages, there is an attraction in having a single source. 
However, the LaTeX team's idea with .dtx files is rather more toward 
them being the source for the code + code docs, with other files 
separate. For example, all of the core team stuff has README files, 
scripts, etc. as separate files, and the scripts or whatever don't even 
go to CTAN. (Makefiles or whatever depend on having some known 
development set up, so are likely useful more in a source repository for 
a small number of devs than on CTAN for users.)

> But foo.dtx by itself would only be a container of macro files
> and perhaps of some user-manual.
> 
> For example for xint which I updated recently, in the process
> I removed some previous duplication (I had been going
> quite overboard with both a CHANGES.html and CHANGES.pdf
> for example). But currently the xint.dtx still contains
> CHANGES in markdown format, as well as shell scripts
> which can use pandoc to produce CHANGES.html
> as distributed in the doc/ section too.
> 
> I am considering removing entirely from the xint.dtx
> all these things ; and distribute directly only a CHANGES.html
> produced at home.
> 
> Thus CHANGES.html will qualify as its own source but be in doc/
> 
> Also a Makefile (currently extractable from xint.dtx as Makefile.mk)
> would end up in doc/ but not be in the source/xint.dtx
> 
> In fact source/ would contain only xint.dtx (I have also dropped
> xint.ins which always had been purely optional as xint.dtx
> self-extracts).
> 
> And doc/ would contain Makefile, CHANGES.html, README.md,
> xint.pdf and sourcexint.pdf.
> 
> The source/ would thus only contain the source for xint.pdf
> and sourcexint.pdf production, and of course of the macros files xint*.sty
> but not for the other stuff (which nevertheless are an indispensible
> part of the user documentation).
> 
> In the longer term, I think the whole concept of stripping xint*.sty files
> is somewhat dated and I would prefer an approach ? la Python
> where the macro files have their docstrings and the CTAN uploads
> do not included a bulky PDF documentation byt only the
> macro files and the user has means to consult the docstrings.
> 
> This would not preclude having some dedicated xint.pdf user manual,
> but at least in the case of code documentation would include it
> in only one place, not duplicated in a "dtx" and in a "pdf".

One can take various views with code documentation. Again, the approach 
of the team has been to aim for one foo.tex file as the source for 
*user* documentation, and one foo.dtx as the source for documented code. 
One can skip typesetting the latter, particularly for smaller, simpler 
packages, but the source misses things like cross-refs, indexing, etc. 
So there it very much depends how you imagine people using your sources. 
(For the LaTeX kernel, things are quite possibly different from a 
one-file .dtx of a few 10s of lines.)

> I even wonder after all why one should include the TeX source
> of a pdf documentation at all and why not directly the PDF ?

Without the source, the PDF can't go into TeX Live as the ability to 
build binary files like PDFs is a key part of the requirements for e.g. 
Debian. If you are worried about space/size, the PDFs are also where the 
hit is: the sources will always be much smaller.

> Then what would actually source/ serve to ? There would be
> only tex/ for the macro files containing docstrings
> and doc/ for extra documentation including the means
> to extract the docstrings.
> 
> That TeX would mean a bit more time to load the macro files
> looks irrelevant nowadays.

One approach taken by some authors is to put the code docs at the end of 
the .sty, thus avoiding the load time issue. But you are right that the 
time hit for simply having comments in a .sty or similar is today 
trivial. (Things like pgf are documented that way without obvious impact.)

> For my package polexpr I distributed the documentation as
> an html file polexpr.html which is produced via DocUtils
> from reStructuredText source, polexpr.txt, but also there
> I wonder why distribute at all this "source" and not uniquely
> the html ?
> 
> In brief, shouldn't there be some project about reducing
> duplication in the TDS trees?

Well, 'duplication' depends what you mean: a PDF is not really 
'duplication' of a source, having the source file twice on the other 
hand is.

Joseph


From tkt.asakura at gmail.com  Mon Feb  3 15:28:54 2020
From: tkt.asakura at gmail.com (Takuto ASAKURA)
Date: Mon, 3 Feb 2020 23:28:54 +0900
Subject: texdoc error about realpath
In-Reply-To: <9D540B76-1F4C-45D0-9178-C48481D697AB@icloud.com>
References: <9D540B76-1F4C-45D0-9178-C48481D697AB@icloud.com>
Message-ID: <5A6D6FAA-E1A4-43A4-911F-1E26FCD92DC8@gmail.com>


Hi Bruno,

thank you for reporting this.

I'm working on the issue:

	https://github.com/TeX-Live/texdoc/issues/52

Should be fixed in a while.

Best,
Takuto

> On 2020/02/03, at 21:20, Bruno Voisin via tex-live <tex-live at tug.org> wrote:
> 
> Since applying TeX Live updates this morning, texdoc is returning the error message
> 
> sh: realpath: command not found
> 
> It's still working (the required doc opens up as expected), but there's this message every time.
> 
> The above on the Mac (macOS 10.15 Catalina) with MacTeX 2019 updated via TeX Live Utility (a Mac version of tlmgr).
> 
> I'm reporting this here after seeing <https://tug.org/pipermail/tex-live/2020-February/044664.html> which seems to say texdoc has just been updated.
> 
> Regarding the version:
> 
> % texdoc --version
> sh: realpath: command not found
> Texdoc 3.2 (2020-02-02)
> [...]
> 
> Bruno Voisin



From jfbu at free.fr  Mon Feb  3 16:10:41 2020
From: jfbu at free.fr (jfbu)
Date: Mon, 3 Feb 2020 16:10:41 +0100
Subject: Can doc/ contain documentation independently of source/
In-Reply-To: <05cb7cfd-725c-c0b9-e32c-8b313216c0cc@morningstar2.co.uk>
References: <95576246-4AC1-40C0-92B4-60FF2A12831D@free.fr>
 <05cb7cfd-725c-c0b9-e32c-8b313216c0cc@morningstar2.co.uk>
Message-ID: <8593C0A5-65A1-4A28-A1AA-76154361278C@free.fr>

Hi Joseph

> Hello Jean-Fran?ois,
>> So far I have mainly interpreted TDS structure as asking for source/
>> to contain the source not only of macro files but also of the complete
>> documentation.
> 
> I think that's the usual reading.

Ok,

> 
>> ...
>> Things such as README, CHANGES, Manifest, Makefiles
>> being left outside and only included in doc/ but not in the dtx
>> which ends up in source/.  ...
> 
> For small packages, there is an attraction in having a single source. However, the LaTeX team's idea with .dtx files is rather more toward them being the source for the code + code docs, with other files separate.

This looks quite sensible to me indeed,

> For example, all of the core team stuff has README files, scripts, etc. as separate files, and the scripts or whatever don't even go to CTAN. (Makefiles or whatever depend on having some known development set up, so are likely useful more in a source repository for a small number of devs than on CTAN for users.)

Yes, I have two layers: my own private environment and the actual final step when the upload to CTAN is prepared. Then the dtx may include a Makefile not for my own usage but for end user usage who would like to rebuild all the docs (assuming the environment provides some non TeX things such as pandoc). I am not including my own shell scripts and Makefile in the distributed dtx. This actually caused in a bug in xint.zip production where "tex" not "etex" ended up being used for doc-stripping causing a problem in changes file in markdown then html. My everyday routine never saw it as it was using non public production methods.

I now wonder if I have should worry at all about providing ways to distros or users to actually build in an automatized manner a TDS ready hierarchy.

Not providing this simply means for me removing contribution of a Makefile (or a texlua based system like the LaTeX team develops).

Later in your message you mention pgf/TikZ and indeed I had noticed they used standard TeX comments and I actually found that rather more readable than distracting macrocode environment end and start tags all over the place.

However I wonder if one can build the TikZ manual from the actual material end user end up having in their TeXLive (or MikTeX) trees.  I think I tried once but quickly dropped it.


> 
>> But foo.dtx by itself would only be a container of macro files
>> and perhaps of some user-manual.
>> [...]
>> This would not preclude having some dedicated xint.pdf user manual,
>> but at least in the case of code documentation would include it
>> in only one place, not duplicated in a "dtx" and in a "pdf".
> 
> One can take various views with code documentation. Again, the approach of the team has been to aim for one foo.tex file as the source for *user* documentation, and one foo.dtx as the source for documented code.

I think this is definitely reasonable. I never work with my "user" documentation in a dtx with code source, but have a script doing the fusion at build time only. I am now starting to think it is even better to not create humongous dtx at all indeed.

> One can skip typesetting the latter, particularly for smaller, simpler packages, but the source misses things like cross-refs, indexing, etc. So there it very much depends how you imagine people using your sources. (For the LaTeX kernel, things are quite possibly different from a one-file .dtx of a few 10s of lines.)

as I have an inkling for local table of contents I do imagine my users happy with PDF format and I care about that with dedicated headers for navigation. I myself use my own PDF often for navigating in my source, but I dropped all index production as PDF search has always been enough of a help if somehow the local table of contents are not enough.

> 
>> I even wonder after all why one should include the TeX source
>> of a pdf documentation at all and why not directly the PDF ?
> 
> Without the source, the PDF can't go into TeX Live as the ability to build binary files like PDFs is a key part of the requirements for e.g. Debian.

I don't want to be too much of a non-compliant guy, but here I seriously doubt that documentation should fall into same requirements as actual binary files representing software. For me a Unicode document in Chinese is as unreadable as a compressed PDF file representing French text.



> If you are worried about space/size, the PDFs are also where the hit is: the sources will always be much smaller.

I use latex+dvipdfmx for size issues.

> 
>> Then what would actually source/ serve to ? There would be
>> only tex/ for the macro files containing docstrings
>> and doc/ for extra documentation including the means
>> to extract the docstrings.
>> That TeX would mean a bit more time to load the macro files
>> looks irrelevant nowadays.
> 
> One approach taken by some authors is to put the code docs at the end of the .sty, thus avoiding the load time issue. But you are right that the time hit for simply having comments in a .sty or similar is today trivial. (Things like pgf are documented that way without obvious impact.)

Large codebase can probably not have code comments too far from actual code. Yes the pgf files are rather pleasant to visit. But I don't think one can produce from them a cross-linked reference PDF like you do at LaTeX3?

> 
>> For my package polexpr I distributed the documentation as
>> an html file polexpr.html which is produced via DocUtils
>> from reStructuredText source, polexpr.txt, but also there
>> I wonder why distribute at all this "source" and not uniquely
>> the html ?
>> In brief, shouldn't there be some project about reducing
>> duplication in the TDS trees?
> 
> Well, 'duplication' depends what you mean: a PDF is not really 'duplication' of a source, having the source file twice on the other hand is.


This is where the whole dtx concept is a problem (in my original post I started saying I was accepting it but I realize now I had started questioning it by the end of my post).
Because it means the source code is present at least twice if not thrice:

- actual source code in tex/latex/ or tex/generic or etc...
- commented source code in text format in source/
- commented source code in PDF format in doc/

Best,

Jean-Fran?ois



From joseph.wright at morningstar2.co.uk  Mon Feb  3 17:02:56 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 3 Feb 2020 16:02:56 +0000
Subject: Can doc/ contain documentation independently of source/
In-Reply-To: <8593C0A5-65A1-4A28-A1AA-76154361278C@free.fr>
References: <95576246-4AC1-40C0-92B4-60FF2A12831D@free.fr>
 <05cb7cfd-725c-c0b9-e32c-8b313216c0cc@morningstar2.co.uk>
 <8593C0A5-65A1-4A28-A1AA-76154361278C@free.fr>
Message-ID: <24b1836a-cd8b-b41a-0297-f46d921fff3a@morningstar2.co.uk>

On 03/02/2020 15:10, jfbu wrote:
> Later in your message you mention pgf/TikZ and indeed I had noticed they used standard TeX comments and I actually found that rather more readable than distracting macrocode environment end and start tags all over the place.
> 
> However I wonder if one can build the TikZ manual from the actual material end user end up having in their TeXLive (or MikTeX) trees.  I think I tried once but quickly dropped it.

I'm not saying it's trivial: the LaTeX core sources are also somewhat 
'interesting' by hand. But the key is that the source material *for the 
docs* is there. People who want to manually build stuff will likely want 
to integrate into their own tool-chain in any case.

>>> I even wonder after all why one should include the TeX source
>>> of a pdf documentation at all and why not directly the PDF ?
>>
>> Without the source, the PDF can't go into TeX Live as the ability to build binary files like PDFs is a key part of the requirements for e.g. Debian.
> 
> I don't want to be too much of a non-compliant guy, but here I seriously doubt that documentation should fall into same requirements as actual binary files representing software. For me a Unicode document in Chinese is as unreadable as a compressed PDF file representing French text.

Like I say, this is an external restriction in that sense: some projects 
require that documentation has sources it it's not plain text, and they 
won't include it otherwise.

>> If you are worried about space/size, the PDFs are also where the hit is: the sources will always be much smaller.
> 
> I use latex+dvipdfmx for size issues.

Still much bigger than the sources! (LuaTeX does a better job than 
pdfTeX, a trick that Heiko has used in the past to keep things smaller.)

>>> Then what would actually source/ serve to ? There would be
>>> only tex/ for the macro files containing docstrings
>>> and doc/ for extra documentation including the means
>>> to extract the docstrings.
>>> That TeX would mean a bit more time to load the macro files
>>> looks irrelevant nowadays.
>>
>> One approach taken by some authors is to put the code docs at the end of the .sty, thus avoiding the load time issue. But you are right that the time hit for simply having comments in a .sty or similar is today trivial. (Things like pgf are documented that way without obvious impact.)
> 
> Large codebase can probably not have code comments too far from actual code. Yes the pgf files are rather pleasant to visit. But I don't think one can produce from them a cross-linked reference PDF like you do at LaTeX3?

Not, they have (that I know of) no PDF version. Perhaps the ConTeXt 
sources might be worth looking at: they are less markup-rich than the 
LaTeX ones, but do have some markup (though I am not sure if it's still 
'live').

>>> For my package polexpr I distributed the documentation as
>>> an html file polexpr.html which is produced via DocUtils
>>> from reStructuredText source, polexpr.txt, but also there
>>> I wonder why distribute at all this "source" and not uniquely
>>> the html ?
>>> In brief, shouldn't there be some project about reducing
>>> duplication in the TDS trees?
>>
>> Well, 'duplication' depends what you mean: a PDF is not really 'duplication' of a source, having the source file twice on the other hand is.
> 
> 
> This is where the whole dtx concept is a problem (in my original post I started saying I was accepting it but I realize now I had started questioning it by the end of my post).
> Because it means the source code is present at least twice if not thrice:
> 
> - actual source code in tex/latex/ or tex/generic or etc...
> - commented source code in text format in source/
> - commented source code in PDF format in doc/

You are free to provide your files in whatever form you feel best. If 
you want to have a PDF version, you need some source to create them, but 
that could be used 'live' if you wished. For example, you could arrange 
a 'driver' stub in sources/ and have your .sty files will mark-up which 
were then loaded by the 'stub'.

Joseph


From zarniwhoop at ntlworld.com  Mon Feb  3 21:12:46 2020
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Mon, 3 Feb 2020 20:12:46 +0000
Subject: About biber installation [Android]
In-Reply-To: <1998274047.617630.1580721731450@mail1.libero.it>
References: <1998274047.617630.1580721731450@mail1.libero.it>
Message-ID: <20200203201246.GA8542@llamedos.localdomain>

On Mon, Feb 03, 2020 at 10:22:11AM +0100, Angelo Graziosi via tex-live wrote:
> Recently I installed Termux (https://termux.com) on an Android device (a tablet, 4 GiB+128 GiB).
> 
> Termux is a sort of Linux distribution based on Debian. It has the texlive-full package but rebuilding some documents it fails because that system does not have biber. So I asked to Temux people. They point me to this _recipe_: "https://github.com/termux/termux-packages/issues/981#issuecomment-575897769", which really I do not understand much. Really I need to install 30 min of download perl modules? I install regularly TL on GNU/Linux, macOS and Windows+WSL with install-tl script and never I had issues with biber.
> 
> Maybe you have some suggestion..
> 
> TIA,
>  Angelo.

Biber uses a vast amount of perl modules (when you include the
dependencies for each).  If you are on a platform where upstream
provides biber binaries, the modules are "rolled up" into the binary.

For those of us who build everything from source, the perl
dependencies for biber are vast (particularly if you wish to run all
the tests for each perl module).

So, either you need to install the modules, or else persuade someone
else to provide a binary.  Sorry.

?en
-- 
We had folksingers in the lower bar for six months back home where
I worked.  In the end we had to get a man in with a ferret.
                   -- Polly, in "Interesting Times"

From jfbu at free.fr  Mon Feb  3 22:40:55 2020
From: jfbu at free.fr (jfbu)
Date: Mon, 3 Feb 2020 22:40:55 +0100
Subject: Can doc/ contain documentation independently of source/
In-Reply-To: <24b1836a-cd8b-b41a-0297-f46d921fff3a@morningstar2.co.uk>
References: <95576246-4AC1-40C0-92B4-60FF2A12831D@free.fr>
 <05cb7cfd-725c-c0b9-e32c-8b313216c0cc@morningstar2.co.uk>
 <8593C0A5-65A1-4A28-A1AA-76154361278C@free.fr>
 <24b1836a-cd8b-b41a-0297-f46d921fff3a@morningstar2.co.uk>
Message-ID: <19E2A35F-0124-4214-856C-1DA358A81701@free.fr>


Le 3 f?vr. 2020 ? 17:02, Joseph Wright <joseph.wright at morningstar2.co.uk> a ?crit :

> On 03/02/2020 15:10, jfbu wrote:
>> Later in your message you mention pgf/TikZ and indeed I had noticed they used standard TeX comments and I actually found that rather more readable than distracting macrocode environment end and start tags all over the place.
>> However I wonder if one can build the TikZ manual from the actual material end user end up having in their TeXLive (or MikTeX) trees.  I think I tried once but quickly dropped it.
> 
> I'm not saying it's trivial: the LaTeX core sources are also somewhat 'interesting' by hand. But the key is that the source material *for the docs* is there. People who want to manually build stuff will likely want to integrate into their own tool-chain in any case.
> 
>>>> I even wonder after all why one should include the TeX source
>>>> of a pdf documentation at all and why not directly the PDF ?
>>> 
>>> Without the source, the PDF can't go into TeX Live as the ability to build binary files like PDFs is a key part of the requirements for e.g. Debian.
>> I don't want to be too much of a non-compliant guy, but here I seriously doubt that documentation should fall into same requirements as actual binary files representing software. For me a Unicode document in Chinese is as unreadable as a compressed PDF file representing French text.
> 
> Like I say, this is an external restriction in that sense: some projects require that documentation has sources it it's not plain text, and they won't include it otherwise.
> 
>>> If you are worried about space/size, the PDFs are also where the hit is: the sources will always be much smaller.
>> I use latex+dvipdfmx for size issues.
> 
> Still much bigger than the sources! (LuaTeX does a better job than pdfTeX, a trick that Heiko has used in the past to keep things smaller.)
> 
>>>> Then what would actually source/ serve to ? There would be
>>>> only tex/ for the macro files containing docstrings
>>>> and doc/ for extra documentation including the means
>>>> to extract the docstrings.
>>>> That TeX would mean a bit more time to load the macro files
>>>> looks irrelevant nowadays.
>>> 
>>> One approach taken by some authors is to put the code docs at the end of the .sty, thus avoiding the load time issue. But you are right that the time hit for simply having comments in a .sty or similar is today trivial. (Things like pgf are documented that way without obvious impact.)
>> Large codebase can probably not have code comments too far from actual code. Yes the pgf files are rather pleasant to visit. But I don't think one can produce from them a cross-linked reference PDF like you do at LaTeX3?
> 
> Not, they have (that I know of) no PDF version. Perhaps the ConTeXt sources might be worth looking at: they are less markup-rich than the LaTeX ones, but do have some markup (though I am not sure if it's still 'live').
> 
>>>> For my package polexpr I distributed the documentation as
>>>> an html file polexpr.html which is produced via DocUtils
>>>> from reStructuredText source, polexpr.txt, but also there
>>>> I wonder why distribute at all this "source" and not uniquely
>>>> the html ?
>>>> In brief, shouldn't there be some project about reducing
>>>> duplication in the TDS trees?
>>> 
>>> Well, 'duplication' depends what you mean: a PDF is not really 'duplication' of a source, having the source file twice on the other hand is.
>> This is where the whole dtx concept is a problem (in my original post I started saying I was accepting it but I realize now I had started questioning it by the end of my post).
>> Because it means the source code is present at least twice if not thrice:
>> - actual source code in tex/latex/ or tex/generic or etc...
>> - commented source code in text format in source/
>> - commented source code in PDF format in doc/
> 
> You are free to provide your files in whatever form you feel best. If you want to have a PDF version, you need some source to create them, but that could be used 'live' if you wished. For example, you could arrange a 'driver' stub in sources/ and have your .sty files will mark-up which were then loaded by the 'stub'.


Replying sort of simultaneously to all paragraphs: I think Linux distros would really enjoy a "texdoc" which would compile on the fly the needed documentation.

Currently I have 2,1G from /usr/local/texlive/2019/texmf-dist/doc (on my TL2019 install which is not a full one). I am certainly not using more than 100MB at maximum out of it. (I am a great defender of reading documentation but I, like most people, have some familiarity only with a minority of contributed packages).

If there was a more or less standardized way for package authors to lay out the process to build the PDFs, then a "super texdoc" could build the needed PDFs only when requested.

With such system in place, size of TeX install would decrease by an order of magnitude.

I understand the frailty of this, but now if you agree the process above has no robustness, then we whouls agree then that the Linux distros insisting on having text sources is disputable as it is not guaranteed one can always with certainty build out of them. What is the point of sources which one can not be guaranteed to build out of them, not only now but also next year?
 
My above suggestion is thus very unlikely to ever happen; because it would require adding to the TeX ecosystem a real standardized procedure of dependencies. I believe the permanent evolution of contributed packages makes it impossible to guarantee one can build a package documentation during the full year of a TeXLive life span. I would be surprised to hear that there is a single Linux distro TeX packaging which goes through the process of building from source the documentations of thousands of packages.

Thus my conclusion is that the Linux distros requirement is incoherent. Either they should have insisted that each documentation is distributed as text files with a complete and working recipe to build to binary format, not only working on the first day of TeXLive release but also on day + 364 or they should accept that documentation is not software and as such there is little logic into requiring text format sources; which nobody ever compiles apart from upstream package authors.

Best,

Jean-Fran?ois

From joseph.wright at morningstar2.co.uk  Mon Feb  3 22:52:37 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 3 Feb 2020 21:52:37 +0000
Subject: Can doc/ contain documentation independently of source/
In-Reply-To: <19E2A35F-0124-4214-856C-1DA358A81701@free.fr>
References: <95576246-4AC1-40C0-92B4-60FF2A12831D@free.fr>
 <05cb7cfd-725c-c0b9-e32c-8b313216c0cc@morningstar2.co.uk>
 <8593C0A5-65A1-4A28-A1AA-76154361278C@free.fr>
 <24b1836a-cd8b-b41a-0297-f46d921fff3a@morningstar2.co.uk>
 <19E2A35F-0124-4214-856C-1DA358A81701@free.fr>
Message-ID: <898d150a-118a-d4b6-2edd-cadbd1f836ae@morningstar2.co.uk>

On 03/02/2020 21:40, jfbu wrote:
> 
> Le 3 f?vr. 2020 ? 17:02, Joseph Wright <joseph.wright at morningstar2.co.uk> a ?crit :
> 
>> On 03/02/2020 15:10, jfbu wrote:
>>> Later in your message you mention pgf/TikZ and indeed I had noticed they used standard TeX comments and I actually found that rather more readable than distracting macrocode environment end and start tags all over the place.
>>> However I wonder if one can build the TikZ manual from the actual material end user end up having in their TeXLive (or MikTeX) trees.  I think I tried once but quickly dropped it.
>>
>> I'm not saying it's trivial: the LaTeX core sources are also somewhat 'interesting' by hand. But the key is that the source material *for the docs* is there. People who want to manually build stuff will likely want to integrate into their own tool-chain in any case.
>>
>>>>> I even wonder after all why one should include the TeX source
>>>>> of a pdf documentation at all and why not directly the PDF ?
>>>>
>>>> Without the source, the PDF can't go into TeX Live as the ability to build binary files like PDFs is a key part of the requirements for e.g. Debian.
>>> I don't want to be too much of a non-compliant guy, but here I seriously doubt that documentation should fall into same requirements as actual binary files representing software. For me a Unicode document in Chinese is as unreadable as a compressed PDF file representing French text.
>>
>> Like I say, this is an external restriction in that sense: some projects require that documentation has sources it it's not plain text, and they won't include it otherwise.
>>
>>>> If you are worried about space/size, the PDFs are also where the hit is: the sources will always be much smaller.
>>> I use latex+dvipdfmx for size issues.
>>
>> Still much bigger than the sources! (LuaTeX does a better job than pdfTeX, a trick that Heiko has used in the past to keep things smaller.)
>>
>>>>> Then what would actually source/ serve to ? There would be
>>>>> only tex/ for the macro files containing docstrings
>>>>> and doc/ for extra documentation including the means
>>>>> to extract the docstrings.
>>>>> That TeX would mean a bit more time to load the macro files
>>>>> looks irrelevant nowadays.
>>>>
>>>> One approach taken by some authors is to put the code docs at the end of the .sty, thus avoiding the load time issue. But you are right that the time hit for simply having comments in a .sty or similar is today trivial. (Things like pgf are documented that way without obvious impact.)
>>> Large codebase can probably not have code comments too far from actual code. Yes the pgf files are rather pleasant to visit. But I don't think one can produce from them a cross-linked reference PDF like you do at LaTeX3?
>>
>> Not, they have (that I know of) no PDF version. Perhaps the ConTeXt sources might be worth looking at: they are less markup-rich than the LaTeX ones, but do have some markup (though I am not sure if it's still 'live').
>>
>>>>> For my package polexpr I distributed the documentation as
>>>>> an html file polexpr.html which is produced via DocUtils
>>>>> from reStructuredText source, polexpr.txt, but also there
>>>>> I wonder why distribute at all this "source" and not uniquely
>>>>> the html ?
>>>>> In brief, shouldn't there be some project about reducing
>>>>> duplication in the TDS trees?
>>>>
>>>> Well, 'duplication' depends what you mean: a PDF is not really 'duplication' of a source, having the source file twice on the other hand is.
>>> This is where the whole dtx concept is a problem (in my original post I started saying I was accepting it but I realize now I had started questioning it by the end of my post).
>>> Because it means the source code is present at least twice if not thrice:
>>> - actual source code in tex/latex/ or tex/generic or etc...
>>> - commented source code in text format in source/
>>> - commented source code in PDF format in doc/
>>
>> You are free to provide your files in whatever form you feel best. If you want to have a PDF version, you need some source to create them, but that could be used 'live' if you wished. For example, you could arrange a 'driver' stub in sources/ and have your .sty files will mark-up which were then loaded by the 'stub'.
> 
> 
> Replying sort of simultaneously to all paragraphs: I think Linux distros would really enjoy a "texdoc" which would compile on the fly the needed documentation.
> 
> Currently I have 2,1G from /usr/local/texlive/2019/texmf-dist/doc (on my TL2019 install which is not a full one). I am certainly not using more than 100MB at maximum out of it. (I am a great defender of reading documentation but I, like most people, have some familiarity only with a minority of contributed packages).
> 
> If there was a more or less standardized way for package authors to lay out the process to build the PDFs, then a "super texdoc" could build the needed PDFs only when requested.
> 
> With such system in place, size of TeX install would decrease by an order of magnitude.
> 
> I understand the frailty of this, but now if you agree the process above has no robustness, then we whouls agree then that the Linux distros insisting on having text sources is disputable as it is not guaranteed one can always with certainty build out of them. What is the point of sources which one can not be guaranteed to build out of them, not only now but also next year?
>   
> My above suggestion is thus very unlikely to ever happen; because it would require adding to the TeX ecosystem a real standardized procedure of dependencies. I believe the permanent evolution of contributed packages makes it impossible to guarantee one can build a package documentation during the full year of a TeXLive life span. I would be surprised to hear that there is a single Linux distro TeX packaging which goes through the process of building from source the documentations of thousands of packages.
> 
> Thus my conclusion is that the Linux distros requirement is incoherent. Either they should have insisted that each documentation is distributed as text files with a complete and working recipe to build to binary format, not only working on the first day of TeXLive release but also on day + 364 or they should accept that documentation is not software and as such there is little logic into requiring text format sources; which nobody ever compiles apart from upstream package authors.
> 
> Best,
> 
> Jean-Fran?ois
> 

Hello Jean-Fran?ois,

By far the most likely requirement for 'build the PDF on the fly' is to 
have a more-or-less *complete* TeX system installed. That's fine for 
devs, MacTeX users, ..., but for a lot of Linux distros, 
"texlive-recommended" or whatever is probably what people have. That 
leaves them open to the 'which packages do people pick' issue. The only 
way one could have such a set up would be to have a much more rigid 
approach to the entire ecosystem: CTAN are very very laid back compared 
to some other archives, so it's really a non-starter.

The LaTeX team are providing some standard tools (l3build) and do try to 
give guidance on approaches, classes, etc. But then there is 
flexibility, and people have their preferred approaches. I very much 
double one could get *enough* people to buy in.

There's also the whole business of time: it takes several minutes to 
build source2e even on a fast machine, and of course we need multiple 
runs, indexing, etc.

Joseph

From karl at freefriends.org  Tue Feb  4 00:29:13 2020
From: karl at freefriends.org (Karl Berry)
Date: Mon, 3 Feb 2020 16:29:13 -0700
Subject: Can doc/ contain documentation independently of source/
In-Reply-To: <95576246-4AC1-40C0-92B4-60FF2A12831D@free.fr>
Message-ID: <202002032329.013NTDPW017001@freefriends.org>

As far as I'm concerned, the difference between doc/ and source/ is
essentially meaningless. The vast number of files in the gray area
between might be assigned to either one. (I long ago suggested simply
merging source/ into doc/ and getting rid of source/, but other people
did not like that idea. So fine.)

Also, I might override the distinction for any particular package
whenever I feel it is better. Specifically, for smaller packages, I feel
it is more helpful for users to keep everything in its doc/ directory
instead of moving a single file or two (e.g., a Makefile) to source/,
apart from all the things it operates on. That just seems senseless.

I complain about many things to uploaders, but their assignment of files
to doc/ and source/ (when they make one) is one thing I just accept. I
don't think it makes any practical difference.

If I were trying to make a package's pdf, the first thing I would do is
merge any doc/ and source/ directories into one.

As for recreating in general: it's supposed to be possible, with the
exception that if the original doc uses some weird (e.g., system) font
purely for aesthetic purposes, it's ok to require changing the source to
use a free font. Not that it's anything I ever recommend or suggest or
like, but that decision was made long ago.

Since we don't, in fact, try to recreate pdfs (or whatever) from
sources, I have no doubt that the sources are insufficient in some
cases. All I can suggest is contacting the package author. There is no
requirement that it be easy to remake.

The primary purpose of requiring sources is not about recreating the
pdfs as distributing, but for the general reason for free software in
the first place: so that if someone enhances the package, they can also
update the documentation. In principle.

Best,
Karl

From joseph.wright at morningstar2.co.uk  Tue Feb  4 10:16:26 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 4 Feb 2020 09:16:26 +0000
Subject: Can doc/ contain documentation independently of source/
In-Reply-To: <202002032329.013NTDPW017001@freefriends.org>
References: <202002032329.013NTDPW017001@freefriends.org>
Message-ID: <71cb0bdb-c991-8490-ae4e-65d097cccc18@morningstar2.co.uk>

On 03/02/2020 23:29, Karl Berry wrote:
> As far as I'm concerned, the difference between doc/ and source/ is
> essentially meaningless. The vast number of files in the gray area
> between might be assigned to either one. (I long ago suggested simply
> merging source/ into doc/ and getting rid of source/, but other people
> did not like that idea. So fine.)

For l3build, the logic we've gone for is

- source/ is for material which contains lines that go into tex/, etc.
- doc/ is for PDFs and material that is used to produce them, but where
   no lines go directly into tex/ (plus .txt files, etc.)

An alternative logic would be

- doc/ is purely PDFs and text files
- source/ is all the sources

Perhaps the latter is actually clearer, as it means that the doc/ 
subtree is 'things to read' only ...

> As for recreating in general: it's supposed to be possible, with the
> exception that if the original doc uses some weird (e.g., system) font
> purely for aesthetic purposes, it's ok to require changing the source to
> use a free font. Not that it's anything I ever recommend or suggest or
> like, but that decision was made long ago.
> 
> Since we don't, in fact, try to recreate pdfs (or whatever) from
> sources, I have no doubt that the sources are insufficient in some
> cases. All I can suggest is contacting the package author. There is no
> requirement that it be easy to remake.
> 
> The primary purpose of requiring sources is not about recreating the
> pdfs as distributing, but for the general reason for free software in
> the first place: so that if someone enhances the package, they can also
> update the documentation. In principle.

Indeed. The build scripts or whatever are nice but not essential: one 
can find a way to build a .dtx or whatever to a PDF. But without the 
source files you can't do that even by hand.

Joseph


From jfbu at free.fr  Tue Feb  4 10:37:29 2020
From: jfbu at free.fr (jfbu)
Date: Tue, 4 Feb 2020 10:37:29 +0100
Subject: Can doc/ contain documentation independently of source/
In-Reply-To: <71cb0bdb-c991-8490-ae4e-65d097cccc18@morningstar2.co.uk>
References: <202002032329.013NTDPW017001@freefriends.org>
 <71cb0bdb-c991-8490-ae4e-65d097cccc18@morningstar2.co.uk>
Message-ID: <f0740e31-1be8-99ad-cebc-bc1d24a23d9e@free.fr>

Hi Karl, and Joseph,
>>
>> The primary purpose of requiring sources is not about recreating the
>> pdfs as distributing, but for the general reason for free software in
>> the first place: so that if someone enhances the package, they can also
>> update the documentation. In principle.
> 
> Indeed. The build scripts or whatever are nice but not essential: one can find a way to build a .dtx or whatever to a PDF. But without the source files you can't do that even by hand.

Thanks Karl for pointing this out.
I did not have this in mind, but I should have.

I would say this weltanschauung
predates our current era where most open source projects
have a publicly available access, even often to
the version control project history, or some
part of it.
I understand a distro maintainer may feel like
it is best to distribute also such sources.
Nevertheless, why should it be to a secondary
entity (the distribution) to feel responsible
for providing means to end users to engage
into forking distributed packages? The whole
thing does not look completely sound to me.
It looks even like a kind of appropriation
manoeuver by those secondary distributors.
As an author I could estimate it is my right
to keep a hand on how people can and will
fork my projects, and for this to keep having
my hands on how that process should be enacted.

Besides, as you say, this is "in principle".
Best,

Jean-Fran?ois



From tljack at forallx.net  Tue Feb  4 15:50:57 2020
From: tljack at forallx.net (jack)
Date: Tue, 4 Feb 2020 07:50:57 -0700
Subject: compliation failure of minimal latex documents
Message-ID: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>

Yesterday I did a tlmgr --update, and immediately simple documents broke,
showing the following error:

! LaTeX Error: File `l3backend-pdfmode.def' not found

This error also is spewed for typsetting the simplest latex document I can
imagine: one word in the body, and a preamble consisting of
\documentclass{article} and \begin{document}.

I'm really hoping this is an oversight that's easily fixed in whatever
part of core latex thinks it needs l3backend.  I don't see why a simple
latex document with zero \usepackage calls needs to depend on experimental
latex3 stuff.

Moreover, the `tlmgr info` output for "l3backend" doesn't even tell me
what collection (if any) it belongs to.  It should belong to
collection-latex, though evidently it does not.

Otherwise, even the simplest latex documents would require more than the
"latex fundamental packages" (as the description for collection-latex
reads).

Also, we'd have some package in collection-latex depending on
collection-latexrecommended (I presume).  There's no point to having
collection-latex if you can't do anything without *also* having
collection-latexsomethingelse.

Recently there's been an alarming lack of attention paid to which
collection things wind up in.  I'm thinking specifically of the recent
oberdiek debacle: anything split from oberdiek should have gone in the
same collection that oberdiek was in.  That's because some stuff in
collection-latex depends on oberdiek.  But some of it wound up elsewhere,
including collection-latexextra(!!!).  (That should really be fixed, BTW.)

This meant that upon unexpected compliation failure of non-fancy documents
I had to go hunt for these scattered oberdiek packages one-by-one,
manually, instead of having them automatically updated along with
collection-latex.  That is poor UX.

To be fair, I don't have collection-latexrecommended installed; instead I
have several its packages installed individually.  I try to keep my
installation as trim as possible.  I don't need, and never will need,
e.g., koma-script. Nevertheless, it remains the case that compiling a
minimal latex document shouldn't require latex-recommended.

Either a simple latex document shouldn't depend on l3backend, or l3backend
needs to be in collection-latex.

-jack


From phe.h.o1 at gmail.com  Tue Feb  4 16:10:11 2020
From: phe.h.o1 at gmail.com (Phelype Oleinik)
Date: Tue, 4 Feb 2020 12:10:11 -0300
Subject: compliation failure of minimal latex documents
In-Reply-To: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
Message-ID: <CANfjC0_Qbavou+mwrfBig5tduUhnsxQZJCmcO4puK=ws1A9JLg@mail.gmail.com>

Hi Jack,

On Tue, Feb 4, 2020 at 11:52 AM jack <tljack at forallx.net> wrote:
>
> I'm really hoping this is an oversight that's easily fixed in whatever
> part of core latex thinks it needs l3backend.  I don't see why a simple
> latex document with zero \usepackage calls needs to depend on experimental
> latex3 stuff.

The code layer of the LaTeX3 kernel (expl3) is no longer experimental
(even though the expl3 name suggests otherwise), and since the
2020-02-02 release, we pre-load expl3 in the LaTeX kernel (you can
read more about that in `texdoc ltnews31`).

However expl3 is loaded in the kernel *only if* expl3.ltx exists, which
means you have l3kernel installed, which belongs to
collection-latexrecommended, same as l3backend, so you should also
have l3backend, unless your installation is incomplete, for some reason.

> Moreover, the `tlmgr info` output for "l3backend" doesn't even tell me
> what collection (if any) it belongs to.  It should belong to
> collection-latex, though evidently it does not.

My `tlmgr info l3backend` ends with:
  collection:  collection-latexrecommended

> Recently there's been an alarming lack of attention paid to which
> collection things wind up in.  I'm thinking specifically of the recent
> oberdiek debacle: anything split from oberdiek should have gone in the
> same collection that oberdiek was in.  That's because some stuff in
> collection-latex depends on oberdiek.  But some of it wound up elsewhere,
> including collection-latexextra(!!!).  (That should really be fixed, BTW.)
>
> This meant that upon unexpected compliation failure of non-fancy documents
> I had to go hunt for these scattered oberdiek packages one-by-one,
> manually, instead of having them automatically updated along with
> collection-latex.  That is poor UX.

If I'm not mistaken you can send a list of these dependencies to
this mailing list and someone will take care of adding it to tlmgr...

Phelype

From d.p.carlisle at gmail.com  Tue Feb  4 16:17:57 2020
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 4 Feb 2020 15:17:57 +0000
Subject: compliation failure of minimal latex documents
In-Reply-To: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
Message-ID: <CAEW6iOhfPM0xvqWjQzJgfPjQQnOh5i4t018FtToikZ4Pkn305A@mail.gmail.com>

On

>
> Recently there's been an alarming lack of attention paid to which
> collection things wind up in.  I'm thinking specifically of the recent
> oberdiek debacle:



It achieved the main aims of making the packages maintainable.
Would you prefer they all just became unmaintained?

anything split from oberdiek should have gone in the
> same collection that oberdiek was in.  That's because some stuff in
> collection-latex depends on oberdiek.  But some of it wound up elsewhere,
> including collection-latexextra(!!!).  (That should really be fixed, BTW.)
>
>
>
Perhaps some things could have been done differently but  putting all the
split out packages in the same core as the original oberdiek shouldn't be
an aim.

Heiko's collection included well over a hundred packages ranging from
really useful, to less generally useful to (by now) not working at all.

Having them all in one oberdiek bundle forced the whole collection on
essentially everyone (apart from being a nightmare to maintain)

So splitting them out and letting them be classified separately was
intentional.


David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200204/e3919a5c/attachment.html>

From Neal.Stoughton at wu.ac.at  Tue Feb  4 16:27:40 2020
From: Neal.Stoughton at wu.ac.at (Stoughton, Neal)
Date: Tue, 4 Feb 2020 15:27:40 +0000
Subject: texlive manager crashes
Message-ID: <d596523c0eb34cf4bb13c79d55df27b7@wu.ac.at>

I need some help.  I cannot update my texlive installation.  Running the texlive manager to update files, crashes the app.  In fact it crashed the whole device (green screen).  I tried to click the "updateable"  icon and then I get the error.  Here is a screenshot of the error I got.  Can somebody please help me?  Thanks.

[A screenshot of a social media post  Description automatically generated]

--
Neal Stoughton

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200204/c5bc4538/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 146425 bytes
Desc: image001.png
URL: <https://tug.org/pipermail/tex-live/attachments/20200204/c5bc4538/attachment-0001.png>

From manfred at dante.de  Tue Feb  4 17:31:02 2020
From: manfred at dante.de (Manfred Lotz)
Date: Tue, 4 Feb 2020 17:31:02 +0100
Subject: compliation failure of minimal latex documents
In-Reply-To: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
Message-ID: <20200204173102.047a1e34@hogwart>

On Tue, 4 Feb 2020 07:50:57 -0700
"jack" <tljack at forallx.net> wrote:

> Recently there's been an alarming lack of attention paid to which
> collection things wind up in. 

I think if things go wrong this is not intentional. 

You should kindly consider that many people work hard (unpaid) in their
spare time to make all these things possible. 

So my personal view is that I have the utmost respect to all those
people be it the LaTeX team, Karl Berry, or all the others (hundreds)
who make things happen. 


-- 
Manfred

From joseph.wright at morningstar2.co.uk  Tue Feb  4 17:54:54 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 4 Feb 2020 16:54:54 +0000
Subject: compliation failure of minimal latex documents
In-Reply-To: <20200204173102.047a1e34@hogwart>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
 <20200204173102.047a1e34@hogwart>
Message-ID: <47b65add-a688-91ae-99e8-c3214a45bd38@morningstar2.co.uk>

On 04/02/2020 16:31, Manfred Lotz wrote:
> On Tue, 4 Feb 2020 07:50:57 -0700
> "jack" <tljack at forallx.net> wrote:
> 
>> Recently there's been an alarming lack of attention paid to which
>> collection things wind up in.
> 
> I think if things go wrong this is not intentional.

Tracking down all of the dependencies is tricky, as it's only really 
doable by using a system stripped back deliberately. That does get done, 
but it's not instant. Moreover, TeX Live's dependency tracking has never 
been intended to be 'complete': at best it is guidance.

(For many people, installing all of TeX Live is their default position, 
so these things don't even show up.)

Joseph

From preining at logic.at  Tue Feb  4 21:02:37 2020
From: preining at logic.at (Norbert Preining)
Date: Wed, 5 Feb 2020 05:02:37 +0900
Subject: compliation failure of minimal latex documents
In-Reply-To: <CANfjC0_Qbavou+mwrfBig5tduUhnsxQZJCmcO4puK=ws1A9JLg@mail.gmail.com>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
 <CANfjC0_Qbavou+mwrfBig5tduUhnsxQZJCmcO4puK=ws1A9JLg@mail.gmail.com>
Message-ID: <20200204200237.456gh72qgrytbhgn@burischnitzel.preining.info>

Hi,

I agree that *not* having collection-latexrecommended installed is
sub-optimal, but latex should work without it, indeed.

On Tue, 04 Feb 2020, Phelype Oleinik wrote:
> However expl3 is loaded in the kernel *only if* expl3.ltx exists, which
> means you have l3kernel installed, which belongs to
> collection-latexrecommended, same as l3backend, so you should also
> have l3backend, unless your installation is incomplete, for some reason.

But then it should **also** work with a not loaded expl3, please.

So bottom line
- if expl3 is **required** for latex, then it should be in
  collection-latex
- if it is included only if available, then latx **must not break**
  if it is not

Please look into this, thanks

Concerning the oberdiek bundle, enough answers already, all of them
fully correct.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From joseph.wright at morningstar2.co.uk  Tue Feb  4 21:09:25 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 4 Feb 2020 20:09:25 +0000
Subject: compliation failure of minimal latex documents
In-Reply-To: <20200204200237.456gh72qgrytbhgn@burischnitzel.preining.info>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
 <CANfjC0_Qbavou+mwrfBig5tduUhnsxQZJCmcO4puK=ws1A9JLg@mail.gmail.com>
 <20200204200237.456gh72qgrytbhgn@burischnitzel.preining.info>
Message-ID: <3c7dd8fc-515c-5684-77ee-9188f2eb8c2b@morningstar2.co.uk>

On 04/02/2020 20:02, Norbert Preining wrote:
>> However expl3 is loaded in the kernel *only if* expl3.ltx exists, which
>> means you have l3kernel installed, which belongs to
>> collection-latexrecommended, same as l3backend, so you should also
>> have l3backend, unless your installation is incomplete, for some reason.
> 
> But then it should **also** work with a not loaded expl3, please.
> 
> So bottom line
> - if expl3 is **required** for latex, then it should be in
>    collection-latex

That's going to be the case for new features, but at present there are 
no changes that require that

> - if it is included only if available, then latx **must not break**
>    if it is not

It doesn't break at present; no expl3, no attempt to load expl3.

> Please look into this, thanks

Who exactly is that addressed to? The LaTeX team do not control 
packaging in TL. I'd imagine that l3kernel should have l3backend as a 
dependency, but I've no idea if that helps with collections.

Joseph

From phe.h.o1 at gmail.com  Tue Feb  4 21:15:11 2020
From: phe.h.o1 at gmail.com (Phelype Oleinik)
Date: Tue, 4 Feb 2020 17:15:11 -0300
Subject: compliation failure of minimal latex documents
In-Reply-To: <20200204200237.456gh72qgrytbhgn@burischnitzel.preining.info>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
 <CANfjC0_Qbavou+mwrfBig5tduUhnsxQZJCmcO4puK=ws1A9JLg@mail.gmail.com>
 <20200204200237.456gh72qgrytbhgn@burischnitzel.preining.info>
Message-ID: <CANfjC085_2a=F-L6CwfFfYZ-q=fpZjuXw=YNYOzwY0pFWGUXRw@mail.gmail.com>

Hi Norbert,

> But then it should **also** work with a not loaded expl3, please.

It does, yes. When building the format we check if expl3.ltx
exists, and only if it does, then expl3 is preloaded, otherwise
nothing happens (thus it doesn't break).

But Jack's installation seems to have expl3, so
collection-latexrecommended should be there and thus also
l3backend. But this doesn't seem to be the case: as I said,
it seems he has expl3 but not l3backend, which are in the
same collection.

Meanwhile nothing in the LaTeX kernel requires expl3, it
is only preloaded.

Phelype

From joseph.wright at morningstar2.co.uk  Tue Feb  4 21:23:43 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 4 Feb 2020 20:23:43 +0000
Subject: compliation failure of minimal latex documents
In-Reply-To: <3c7dd8fc-515c-5684-77ee-9188f2eb8c2b@morningstar2.co.uk>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
 <CANfjC0_Qbavou+mwrfBig5tduUhnsxQZJCmcO4puK=ws1A9JLg@mail.gmail.com>
 <20200204200237.456gh72qgrytbhgn@burischnitzel.preining.info>
 <3c7dd8fc-515c-5684-77ee-9188f2eb8c2b@morningstar2.co.uk>
Message-ID: <deae911c-8e15-416b-71f4-a7c0009db18b@morningstar2.co.uk>

On 04/02/2020 20:09, Joseph Wright wrote:
>> Please look into this, thanks
> 
> Who exactly is that addressed to? The LaTeX team do not control 
> packaging in TL. I'd imagine that l3kernel should have l3backend as a 
> dependency, but I've no idea if that helps with collections.
> 
> Joseph

Checking, that's already the case ...

Joseph

From preining at logic.at  Tue Feb  4 21:25:17 2020
From: preining at logic.at (Norbert Preining)
Date: Wed, 5 Feb 2020 05:25:17 +0900
Subject: compliation failure of minimal latex documents
In-Reply-To: <3c7dd8fc-515c-5684-77ee-9188f2eb8c2b@morningstar2.co.uk>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
 <CANfjC0_Qbavou+mwrfBig5tduUhnsxQZJCmcO4puK=ws1A9JLg@mail.gmail.com>
 <20200204200237.456gh72qgrytbhgn@burischnitzel.preining.info>
 <3c7dd8fc-515c-5684-77ee-9188f2eb8c2b@morningstar2.co.uk>
Message-ID: <20200204202517.sxcxw2t2tt3mc6te@burischnitzel.preining.info>

Hi Joseph,

> It doesn't break at present; no expl3, no attempt to load expl3.

Hmm, but then why did happen what the OP posted?
I only see a bug report that an empty latex document cannot be compiled,
and that l3backend is tried to be loaded. If this happens, out of
whatever reason, something is wrong.

Ok, we always said that package-package requirements are not fully
defined, and one needs to install the resp collection to get everything
necessary.

Could it be that the OP had
- l3kernel (expl3.sty) installed
- l3backend *not* installed
?

In this case, we probably need a inter-package dep 
	l3kernel -> l3backend
or similar

> TL. I'd imagine that l3kernel should have l3backend as a dependency, but
> I've no idea if that helps with collections.

Are there any other of these dependencies?

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Tue Feb  4 21:26:21 2020
From: preining at logic.at (Norbert Preining)
Date: Wed, 5 Feb 2020 05:26:21 +0900
Subject: compliation failure of minimal latex documents
In-Reply-To: <CANfjC085_2a=F-L6CwfFfYZ-q=fpZjuXw=YNYOzwY0pFWGUXRw@mail.gmail.com>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
 <CANfjC0_Qbavou+mwrfBig5tduUhnsxQZJCmcO4puK=ws1A9JLg@mail.gmail.com>
 <20200204200237.456gh72qgrytbhgn@burischnitzel.preining.info>
 <CANfjC085_2a=F-L6CwfFfYZ-q=fpZjuXw=YNYOzwY0pFWGUXRw@mail.gmail.com>
Message-ID: <20200204202621.addkaimmwx22bg2v@burischnitzel.preining.info>

On Tue, 04 Feb 2020, Phelype Oleinik wrote:
> But Jack's installation seems to have expl3, so
> collection-latexrecommended should be there and thus also

No, he mentioned he does not have collection-latexrecommended installed,
but only a few packages.

I agree that this is a bordercase, which we do not support actually.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Tue Feb  4 21:30:14 2020
From: preining at logic.at (Norbert Preining)
Date: Wed, 5 Feb 2020 05:30:14 +0900
Subject: compliation failure of minimal latex documents
In-Reply-To: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
Message-ID: <20200204203014.u6ddwbfr42x7wg3h@burischnitzel.preining.info>

Hi Jack,

On Tue, 04 Feb 2020, jack wrote:
> ! LaTeX Error: File `l3backend-pdfmode.def' not found

> Also, we'd have some package in collection-latex depending on
> collection-latexrecommended (I presume).  There's no point to having
> collection-latex if you can't do anything without *also* having
> collection-latexsomethingelse.
[...]
> To be fair, I don't have collection-latexrecommended installed; instead I
> have several its packages installed individually.  I try to keep my

We (TeX Live) do not guarantee that this will work, and we *never* said
that it will work.

You seem to have l3kernel installed, but not l3backend, which is in
collection-latexrecommended, but NOT l3backend, which is in the same
collection.

We don't support this, and it is up to you to fix incompatibilities by
using
	tlmgr search --global
to find the respective package that is missing.

Bottomline: either do what we recommend, that is install whole
collections, or fix missing packages yourself.

But please don't complain about the end of the world.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Tue Feb  4 21:35:52 2020
From: preining at logic.at (Norbert Preining)
Date: Wed, 5 Feb 2020 05:35:52 +0900
Subject: compliation failure of minimal latex documents
In-Reply-To: <deae911c-8e15-416b-71f4-a7c0009db18b@morningstar2.co.uk>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
 <CANfjC0_Qbavou+mwrfBig5tduUhnsxQZJCmcO4puK=ws1A9JLg@mail.gmail.com>
 <20200204200237.456gh72qgrytbhgn@burischnitzel.preining.info>
 <3c7dd8fc-515c-5684-77ee-9188f2eb8c2b@morningstar2.co.uk>
 <deae911c-8e15-416b-71f4-a7c0009db18b@morningstar2.co.uk>
Message-ID: <20200204203552.3q5dvvt4eo3l64jx@burischnitzel.preining.info>

On Tue, 04 Feb 2020, Joseph Wright wrote:
> Checking, that's already the case ...

Umpf, indeed ... that is strange. I checked now that it also installs
necessary stuff:
install only minimal stuff, then

[~] tlmgr install l3kernel
tlmgr: package repository /home/norbert/public_html/tlnet (verified)
[1/2, ??:??/??:??] install: l3backend [12k]
[2/2, 00:00/00:00] install: l3kernel [145k]
running mktexlsr ...
done running mktexlsr.


I think we can close this case ... 

???

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From phe.h.o1 at gmail.com  Tue Feb  4 21:37:12 2020
From: phe.h.o1 at gmail.com (Phelype Oleinik)
Date: Tue, 4 Feb 2020 17:37:12 -0300
Subject: compliation failure of minimal latex documents
In-Reply-To: <20200204202517.sxcxw2t2tt3mc6te@burischnitzel.preining.info>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
 <CANfjC0_Qbavou+mwrfBig5tduUhnsxQZJCmcO4puK=ws1A9JLg@mail.gmail.com>
 <20200204200237.456gh72qgrytbhgn@burischnitzel.preining.info>
 <3c7dd8fc-515c-5684-77ee-9188f2eb8c2b@morningstar2.co.uk>
 <20200204202517.sxcxw2t2tt3mc6te@burischnitzel.preining.info>
Message-ID: <CANfjC083tNfigTTw7TE=7PqEcB=HECgm3rezq2jUHO-wLBRPRA@mail.gmail.com>

On Tue, Feb 4, 2020 at 5:28 PM Norbert Preining <preining at logic.at> wrote:
>
> Hi Joseph,
>
> > It doesn't break at present; no expl3, no attempt to load expl3.
>
> Hmm, but then why did happen what the OP posted?
> I only see a bug report that an empty latex document cannot be compiled,
> and that l3backend is tried to be loaded. If this happens, out of
> whatever reason, something is wrong.
>
> Ok, we always said that package-package requirements are not fully
> defined, and one needs to install the resp collection to get everything
> necessary.
>
> Could it be that the OP had
> - l3kernel (expl3.sty) installed
> - l3backend *not* installed
> ?

Exactly, that's what I was trying to say.

> In this case, we probably need a inter-package dep
>         l3kernel -> l3backend
> or similar

Yes, that's true. This dependency is already listed in the
entry for l3kernel.

Phelype

From preining at logic.at  Tue Feb  4 21:37:46 2020
From: preining at logic.at (Norbert Preining)
Date: Wed, 5 Feb 2020 05:37:46 +0900
Subject: compliation failure of minimal latex documents
In-Reply-To: <20200204203014.u6ddwbfr42x7wg3h@burischnitzel.preining.info>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
 <20200204203014.u6ddwbfr42x7wg3h@burischnitzel.preining.info>
Message-ID: <20200204203746.wafb3oawyaaeu7um@burischnitzel.preining.info>

Hi Jack,

> > To be fair, I don't have collection-latexrecommended installed; instead I
> > have several its packages installed individually.  I try to keep my
> 
> We (TeX Live) do not guarantee that this will work, and we *never* said
> that it will work.
> 
> You seem to have l3kernel installed, but not l3backend, which is in
> collection-latexrecommended, but NOT l3backend, which is in the same
> collection.

And, in addition, you seem to have installed packages with
	--no-depends
because installing l3kernel does require already l3backend:

[~] tlmgr install l3kernel
tlmgr: package repository /home/norbert/public_html/tlnet (verified)
[1/2, ??:??/??:??] install: l3backend [12k]
[2/2, 00:00/00:00] install: l3kernel [145k]
running mktexlsr ...
done running mktexlsr.


So you obviously preferred to shoot yourself in the foot by ignoring
every single safety measure we provide.


Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From joseph.wright at morningstar2.co.uk  Tue Feb  4 21:54:06 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 4 Feb 2020 20:54:06 +0000
Subject: compliation failure of minimal latex documents
In-Reply-To: <20200204203746.wafb3oawyaaeu7um@burischnitzel.preining.info>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
 <20200204203014.u6ddwbfr42x7wg3h@burischnitzel.preining.info>
 <20200204203746.wafb3oawyaaeu7um@burischnitzel.preining.info>
Message-ID: <8d3fa1a8-2f7f-0a99-71ab-1d37c420ac5d@morningstar2.co.uk>

On 04/02/2020 20:37, Norbert Preining wrote:
> Hi Jack,
> 
>>> To be fair, I don't have collection-latexrecommended installed; instead I
>>> have several its packages installed individually.  I try to keep my
>>
>> We (TeX Live) do not guarantee that this will work, and we *never* said
>> that it will work.
>>
>> You seem to have l3kernel installed, but not l3backend, which is in
>> collection-latexrecommended, but NOT l3backend, which is in the same
>> collection.
> 
> And, in addition, you seem to have installed packages with
> 	--no-depends
> because installing l3kernel does require already l3backend:
> 
> [~] tlmgr install l3kernel
> tlmgr: package repository /home/norbert/public_html/tlnet (verified)
> [1/2, ??:??/??:??] install: l3backend [12k]
> [2/2, 00:00/00:00] install: l3kernel [145k]
> running mktexlsr ...
> done running mktexlsr.

I suspect the flow has been something like

- Install l3kernel some time ago, before l3backend was a dep
- Update just LaTeX
- Find the issue

Joseph


From joseph.wright at morningstar2.co.uk  Tue Feb  4 22:02:37 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 4 Feb 2020 21:02:37 +0000
Subject: compliation failure of minimal latex documents
In-Reply-To: <20200204203014.u6ddwbfr42x7wg3h@burischnitzel.preining.info>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
 <20200204203014.u6ddwbfr42x7wg3h@burischnitzel.preining.info>
Message-ID: <d9c84d39-3fc6-3324-c8a7-87e8d6c2756d@morningstar2.co.uk>

On 04/02/2020 20:30, Norbert Preining wrote:
> You seem to have l3kernel installed, but not l3backend, which is in
> collection-latexrecommended, but NOT l3backend, which is in the same
> collection.

Probably l3kernel and l3backend should be moved to be installed 
alongside latex-base in all cases.

Joseph

From norbert at preining.info  Tue Feb  4 22:14:37 2020
From: norbert at preining.info (Norbert Preining)
Date: Wed, 5 Feb 2020 06:14:37 +0900
Subject: compliation failure of minimal latex documents
In-Reply-To: <8d3fa1a8-2f7f-0a99-71ab-1d37c420ac5d@morningstar2.co.uk>
 <d9c84d39-3fc6-3324-c8a7-87e8d6c2756d@morningstar2.co.uk>
Message-ID: <20200204211437.ia57456sop4y6s4i@burischnitzel.preining.info>

Hi Joseph,

> - Install l3kernel some time ago, before l3backend was a dep
> - Update just LaTeX
> - Find the issue

Hmmm, but the update should pull in l3backend, too ...

But anyway, yes:

> Probably l3kernel and l3backend should be moved to be installed alongside
> latex-base in all cases.

I think this would be a good idea.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Tue Feb  4 23:17:34 2020
From: karl at freefriends.org (Karl Berry)
Date: Tue, 4 Feb 2020 15:17:34 -0700
Subject: Can doc/ contain documentation independently of source/
In-Reply-To: <f0740e31-1be8-99ad-cebc-bc1d24a23d9e@free.fr>
Message-ID: <202002042217.014MHY1C002110@freefriends.org>

    As an author I could estimate it is my right

It is not your "right" to control distribution if you intend to
distribute free software. That's the whole point. -k

From karl at freefriends.org  Tue Feb  4 23:43:41 2020
From: karl at freefriends.org (Karl Berry)
Date: Tue, 4 Feb 2020 15:43:41 -0700
Subject: compliation failure of minimal latex documents
In-Reply-To: <d9c84d39-3fc6-3324-c8a7-87e8d6c2756d@morningstar2.co.uk>
Message-ID: <202002042243.014Mhfo7003416@freefriends.org>

1) I moved l3backend and l3kernel (but not the other l3*) to
collection-latex from collection-latexrecommended.

2) I also made them both "triggers" for format rebuilding for all latex
formats. Previously only l3kernel was. (I suspect that it is how tljack
ended up with his scenario of only l3kernel installed.)

At present, it seems no files from l3backend are read at .fmt time, but
maybe that will change tonight. In any case, clearly it also needs to be
installed if l3kernel is, so fine.  --thanks, karl.

From joseph.wright at morningstar2.co.uk  Tue Feb  4 23:47:40 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 4 Feb 2020 22:47:40 +0000
Subject: compliation failure of minimal latex documents
In-Reply-To: <202002042243.014Mhfo7003416@freefriends.org>
References: <202002042243.014Mhfo7003416@freefriends.org>
Message-ID: <5e1c1a2c-9ca2-a57e-7846-1a39cb2a7a1e@morningstar2.co.uk>

On 04/02/2020 22:43, Karl Berry wrote:
> 1) I moved l3backend and l3kernel (but not the other l3*) to
> collection-latex from collection-latexrecommended.
> 
> 2) I also made them both "triggers" for format rebuilding for all latex
> formats. Previously only l3kernel was. (I suspect that it is how tljack
> ended up with his scenario of only l3kernel installed.)
> 
> At present, it seems no files from l3backend are read at .fmt time, but
> maybe that will change tonight. In any case, clearly it also needs to be
> installed if l3kernel is, so fine.  --thanks, karl.

The split is quite deliberate: l3backend is the 'dynamic' stuff that's 
shared by l3kernel, l3packages, l3experimental. The idea of moving it 
out of l3kernel was precisely that updating l3backend does *not* entail 
a format rebuild, as it only contains stuff that is loaded 
'dynamically'. But it is *required* by l3kernel, so all sounds good.

Joseph


From karl at freefriends.org  Wed Feb  5 00:52:37 2020
From: karl at freefriends.org (Karl Berry)
Date: Tue, 4 Feb 2020 16:52:37 -0700
Subject: compliation failure of minimal latex documents
In-Reply-To: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
Message-ID: <202002042352.014NqbST005733@freefriends.org>

    I'm thinking specifically of the recent oberdiek

FYI, for every package split from oberdiek, I have looked at every
\usepackage, \RequirePackage, etc. in the TL tree to get an idea of
where it is used, and chosen the collection accordingly. I've surely
made suboptimal assignments sometimes, but "lack of attention" is not
what happened.  If you have a bug about a specific package to report,
report it.

In general, your desire to have an installation as "trim as possible",
while understandable, means you are going to run into these issues from
time to time. Maybe you'd be happier with MiKTeX and have the necessary
packages installed on the fly. --karl

From P.Taylor at Rhul.Ac.Uk  Wed Feb  5 01:00:42 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 5 Feb 2020 00:00:42 +0000
Subject: [EXT] compliation failure of minimal latex documents
In-Reply-To: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
Message-ID: <b25b44ec-cefd-2f65-429a-1a8683c39412@Rhul.Ac.Uk>

jack wrote:

> [I have a problem ...]
>
> To be fair, I don't have collection-latexrecommended installed; instead I
> have several its packages installed individually.  I try to keep my
> installation as trim as possible.  I don't need, and never will need,
> e.g., koma-script.

I don't need, and will never need, 999.999% of TeX Live.? Yet I install 
the full thing, and have done so since at least 2008 without ever 
deleting an older version.? Storage these days costs nothing (I just 
added an Intel 1TB M.2 SSD for less than GBP 90-00), and if installing 
everything can make /my/ life easier, then I am certain that it can do 
the same for you.? Bite the bullet, install everything, save yourself 
(and others) never-ending grief.

Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200205/cfb53ffc/attachment.html>

From maximilian.noethe at tu-dortmund.de  Wed Feb  5 09:59:24 2020
From: maximilian.noethe at tu-dortmund.de (=?UTF-8?Q?Maximilian_N=c3=b6the?=)
Date: Wed, 5 Feb 2020 09:59:24 +0100
Subject: compliation failure of minimal latex documents
In-Reply-To: <47b65add-a688-91ae-99e8-c3214a45bd38@morningstar2.co.uk>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
 <20200204173102.047a1e34@hogwart>
 <47b65add-a688-91ae-99e8-c3214a45bd38@morningstar2.co.uk>
Message-ID: <11bd2052-d947-c8aa-eee1-9f847d839301@tu-dortmund.de>

Hi all,


> (For many people, installing all of TeX Live is their default 
> position, so these things don't even show up.)

I think this last thing is something that should be seriously 
reconsidered and maybe a working group for a plan be formed.
With the magnitude a full TeX Live (over 6GB) has reached now, it is 
always a pain, even if one has the disk space and the bandwidth to 
download it fast.

Cheers
Max


From joseph.wright at morningstar2.co.uk  Wed Feb  5 10:09:58 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 5 Feb 2020 09:09:58 +0000
Subject: compliation failure of minimal latex documents
In-Reply-To: <11bd2052-d947-c8aa-eee1-9f847d839301@tu-dortmund.de>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
 <20200204173102.047a1e34@hogwart>
 <47b65add-a688-91ae-99e8-c3214a45bd38@morningstar2.co.uk>
 <11bd2052-d947-c8aa-eee1-9f847d839301@tu-dortmund.de>
Message-ID: <fa1bc519-66b9-5370-dc5b-a56f2db0ad8d@morningstar2.co.uk>

On 05/02/2020 08:59, Maximilian N?the wrote:
> Hi all,
> 
> 
>> (For many people, installing all of TeX Live is their default 
>> position, so these things don't even show up.)
> 
> I think this last thing is something that should be seriously 
> reconsidered and maybe a working group for a plan be formed.
> With the magnitude a full TeX Live (over 6GB) has reached now, it is 
> always a pain, even if one has the disk space and the bandwidth to 
> download it fast.

There are various collections already, so users can choose a smaller set 
up. Skipping source/doc is by far the easiest way to reduce size, but at 
the cost of documentation.

I meant primarily that the sort of people who test stuff tend to have a 
full install. That's unlikely to change even if the installation default 
were to. (For example, I have Win32 TL'09-TL'19 + MiKTeX + a Linux VM 
with TL'19 + WSL TL'19, all on my laptop SSD.)

Joseph


From siepo at bitmuis.nl  Wed Feb  5 11:24:53 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Wed, 5 Feb 2020 11:24:53 +0100
Subject: texlive manager crashes
In-Reply-To: <d596523c0eb34cf4bb13c79d55df27b7@wu.ac.at>
References: <d596523c0eb34cf4bb13c79d55df27b7@wu.ac.at>
Message-ID: <20200205102453.GA1183@bitmuis.nl>

On Tue, Feb 04, 2020 at 03:27:40PM +0000, Stoughton, Neal wrote:
> I need some help.  I cannot update my texlive installation.  Running the texlive manager to update files, crashes the app.  In fact it crashed the whole device (green screen).  I tried to click the "updateable"  icon and then I get the error.  Here is a screenshot of the error I got.  Can somebody please help me?  Thanks.

It looks like an error in the error handler. I found a small number
of places in the code which could generate such an error, which I
shall fix.

Meanwhile, you can try another mirror, or update from an
administrative command prompt; I assume from the location of your
installation that it is installed for all users. The command is:

tlmgr update --all

By the way: the dialog box has a button 'Details >>' which provides
additional information.

-- 
Siep Kroonenberg

From borisv at lk.net  Wed Feb  5 23:57:38 2020
From: borisv at lk.net (Boris Veytsman)
Date: Wed, 5 Feb 2020 14:57:38 -0800
Subject: compliation failure of minimal latex documents
In-Reply-To: <11bd2052-d947-c8aa-eee1-9f847d839301@tu-dortmund.de> (message
 from Maximilian =?utf-8?Q?N=C3=B6the?= on Wed, 5 Feb 2020 09:59:24 +0100)
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
 <20200204173102.047a1e34@hogwart>
 <47b65add-a688-91ae-99e8-c3214a45bd38@morningstar2.co.uk>
 <11bd2052-d947-c8aa-eee1-9f847d839301@tu-dortmund.de>
Message-ID: <202002052257.015MvcG0000855@bilbo.localnet>

MN> From: Maximilian N?the <maximilian.noethe at tu-dortmund.de>
MN> Date: Wed, 5 Feb 2020 09:59:24 +0100



>> (For many people, installing all of TeX Live is their default 
>> position, so these things don't even show up.)

MN> I think this last thing is something that should be seriously 
MN> reconsidered and maybe a working group for a plan be formed.
MN> With the magnitude a full TeX Live (over 6GB) has reached now, it is 
MN> always a pain, even if one has the disk space and the bandwidth to 
MN> download it fast.

I think we could build upon what used to be schemas: self-consistent
and sufficient set of collections for a certain task or group of
tasks.

-- 
Good luck

-Boris

"It's no sweat, Henry.  Russ made it back to Bugtown before he died.  So he'll
regenerate in a couple of days.  It's just awful sloppy of him to get killed in
the first place.  Humph!"
		-- Ron Post, Post Brothers Comics

From karl at freefriends.org  Thu Feb  6 00:13:11 2020
From: karl at freefriends.org (Karl Berry)
Date: Wed, 5 Feb 2020 16:13:11 -0700
Subject: Can doc/ contain documentation independently of source/
In-Reply-To: <71cb0bdb-c991-8490-ae4e-65d097cccc18@morningstar2.co.uk>
Message-ID: <202002052313.015NDBRs022248@freefriends.org>

    - doc/ is for PDFs and material that is used to produce them, 

FWIW, I think it is good for the direct sources for a pdf to be in the
same directory as the pdf. It has helped me plenty of times to be able
to look at / grep text files that are "right there". --best, karl.

From murrayeisenberg at gmail.com  Thu Feb  6 00:31:29 2020
From: murrayeisenberg at gmail.com (Murray Eisenberg)
Date: Wed, 5 Feb 2020 18:31:29 -0500
Subject: realpath error message from texdoc command
Message-ID: <53130158-AF75-4E71-95D2-6FCD08467B4F@gmail.com>

In TeXLive 2019, with the latest updates from CTAN applied in TeXLiveUtility, whenever now I execute the texdoc command, even though it works, I also get the error message:

	sh: realpath: command not found

This is under macOS Catalina (10.15.3).

What?s wrong?
---
Murray Eisenberg			murrayeisenberg at gmail.com
503 King Farm Blvd #101	Home (240)-246-7240
Rockville, MD 20850-6667	Mobile (413)-427-5334


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200205/e2a0487b/attachment.html>

From norbert at preining.info  Thu Feb  6 01:30:30 2020
From: norbert at preining.info (Norbert Preining)
Date: Thu, 6 Feb 2020 09:30:30 +0900
Subject: compliation failure of minimal latex documents
In-Reply-To: <202002052257.015MvcG0000855@bilbo.localnet>
References: <1de2bed841f058a7e2e5f7080eba18b5.squirrel@box5445.bluehost.com>
 <20200204173102.047a1e34@hogwart>
 <47b65add-a688-91ae-99e8-c3214a45bd38@morningstar2.co.uk>
 <11bd2052-d947-c8aa-eee1-9f847d839301@tu-dortmund.de>
 <202002052257.015MvcG0000855@bilbo.localnet>
Message-ID: <20200206003030.cumwtiosw7f7hmiu@burischnitzel.preining.info>

Hi Boris, hi all,

On Wed, 05 Feb 2020, Boris Veytsman wrote:
> I think we could build upon what used to be schemas: self-consistent
> and sufficient set of collections for a certain task or group of
> tasks.

Over the last 15 years I have heard many people coming forward proposing
better splitting/packaging schemata, but not one single has
materialized.

Karl and me are both happy to hear about actual proposals that take all
the TeX Live packages and some constraints in hand, but none has come.

So let us see again ...

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From jfbu at free.fr  Thu Feb  6 09:32:02 2020
From: jfbu at free.fr (jfbu)
Date: Thu, 6 Feb 2020 09:32:02 +0100
Subject: Can doc/ contain documentation independently of source/
In-Reply-To: <202002042217.014MHY1C002110@freefriends.org>
References: <202002042217.014MHY1C002110@freefriends.org>
Message-ID: <7E446EA5-731A-4A84-A2EE-3B845F78E766@free.fr>


Hi Karl,

>    As an author I could estimate it is my right
> 
> It is not your "right" to control distribution if you intend to
> distribute free software. That's the whole point. -k

Please consider my wording as the one of some un-educated person
encountering some advanced civilization and expressing raw reactions,
not polished by community culture. I will have to think about this.
Thanks for your comments.
Best,
Jean-Fran?ois



From Neal.Stoughton at wu.ac.at  Thu Feb  6 15:32:54 2020
From: Neal.Stoughton at wu.ac.at (Stoughton, Neal)
Date: Thu, 6 Feb 2020 14:32:54 +0000
Subject: packages not found
Message-ID: <c1ba68714226490d99fd3e60c5f841d8@wu.ac.at>

Hello.  I am a new user of this TeXLive.  I installed the most basic installation because I have very little space on my tablet device.  But when I try running Lualatex to process the file it stops with errors like:  "LaTeX Error:  File 'luainputenc.sty' not found." Is there some way to get the installation to just prompt me to install it automatically?  I have no idea which packages I am missing.  Thanks.

--
Neal Stoughton

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200206/02970a6b/attachment.html>

From d.p.carlisle at gmail.com  Thu Feb  6 15:40:39 2020
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 6 Feb 2020 14:40:39 +0000
Subject: packages not found
In-Reply-To: <c1ba68714226490d99fd3e60c5f841d8@wu.ac.at>
References: <c1ba68714226490d99fd3e60c5f841d8@wu.ac.at>
Message-ID: <CAEW6iOire9QFsJBRvE8Lye_4OWSKrwdDxfK-neK-1V5k1PUi2Q@mail.gmail.com>

On Thu, 6 Feb 2020 at 14:34, Stoughton, Neal <Neal.Stoughton at wu.ac.at>
wrote:

> Hello.  I am a new user of this TeXLive.  I installed the most basic
> installation because I have very little space on my tablet device.  But
> when I try running Lualatex to process the file it stops with errors like:
> ?LaTeX Error:  File ?luainputenc.sty? not found.? Is there some way to get
> the installation to just prompt me to install it automatically?  I have no
> idea which packages I am missing.  Thanks.
>
>
>
texlive doesn't do auto installation

tlmgr install luainputenc

should install the package (incidentally luainputenc is a rather tricky and
specialised beast so a simpler (and usually recommended) alternative would
be not to load that package in your document).

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200206/e02de7b2/attachment.html>

From zdenek.wagner at gmail.com  Thu Feb  6 15:46:29 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 6 Feb 2020 15:46:29 +0100
Subject: packages not found
In-Reply-To: <CAEW6iOire9QFsJBRvE8Lye_4OWSKrwdDxfK-neK-1V5k1PUi2Q@mail.gmail.com>
References: <c1ba68714226490d99fd3e60c5f841d8@wu.ac.at>
 <CAEW6iOire9QFsJBRvE8Lye_4OWSKrwdDxfK-neK-1V5k1PUi2Q@mail.gmail.com>
Message-ID: <CAC1phyYME45Ryz-5_q7fY9psE0EuWXBd+cLwnnB2G8-yBj7hRw@mail.gmail.com>

?t 6. 2. 2020 v 15:40 odes?latel David Carlisle <d.p.carlisle at gmail.com> napsal:
>
>
>
> On Thu, 6 Feb 2020 at 14:34, Stoughton, Neal <Neal.Stoughton at wu.ac.at> wrote:
>>
>> Hello.  I am a new user of this TeXLive.  I installed the most basic installation because I have very little space on my tablet device.  But when I try running Lualatex to process the file it stops with errors like:  ?LaTeX Error:  File ?luainputenc.sty? not found.? Is there some way to get the installation to just prompt me to install it automatically?  I have no idea which packages I am missing.  Thanks.
>>
>>
>
> texlive doesn't do auto installation
>
> tlmgr install luainputenc
>
> should install the package (incidentally luainputenc is a rather tricky and specialised beast so a simpler (and usually recommended) alternative would be not to load that package in your document).
>
Lualatex works natively in unicode, therefore it is better to have the
input files in unicode (e.g. UTF-8) and not use luainputenc. Anyway,
lualatex is not the most basic, so in the future you will most
probably have to install packages as David suggested. In addition, TeX
Live does not guarantee dependences at the package level, so after
installing a package the compilation could stop due to another missing
package.

> David
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


From news3 at nililand.de  Thu Feb  6 15:40:06 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 6 Feb 2020 15:40:06 +0100
Subject: packages not found
References: <c1ba68714226490d99fd3e60c5f841d8@wu.ac.at>
Message-ID: <5g8xll63jnl6$.dlg@nililand.de>

Am Thu, 6 Feb 2020 14:32:54 +0000 schrieb Stoughton, Neal:

> Hello.  I am a new user of this TeXLive.  I installed the most
> basic installation because I have very little space on my tablet
> device.  But when I try running Lualatex to process the file it
> stops with errors like:  "LaTeX Error:  File 'luainputenc.sty'
> not found." Is there some way to get the installation to just
> prompt me to install it automatically? 

No, miktex has an on-the-fly installation but not texlive.

> I have no idea which packages I am missing.  

Well luainputenc.sty is in the luainputenc package. You can find
this out with 

tlmgr search --global --file luainputenc.sty

But why do you use the sty? Imho it is quite unnecessary today.


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From daleif at math.au.dk  Thu Feb  6 16:22:02 2020
From: daleif at math.au.dk (Lars Madsen)
Date: Thu, 6 Feb 2020 15:22:02 +0000
Subject: packages not found
In-Reply-To: <c1ba68714226490d99fd3e60c5f841d8@wu.ac.at>
References: <c1ba68714226490d99fd3e60c5f841d8@wu.ac.at>
Message-ID: <AM0PR01MB62907F60D125307BFD16729AF21D0@AM0PR01MB6290.eurprd01.prod.exchangelabs.com>

If you are on a tablet with limited space why not just use overleaf.com instead? Then everything runs in the cloud


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math<http://au.dk/daleif at imf> / More information: http://au.dk/en/daleif at math<http://au.dk/en/daleif at imf>

________________________________
From: tex-live <tex-live-bounces+daleif=imf.au.dk at tug.org> on behalf of Stoughton, Neal <Neal.Stoughton at wu.ac.at>
Sent: 06 February 2020 15:32
To: tex-live at tug.org <tex-live at tug.org>
Subject: packages not found


Hello.  I am a new user of this TeXLive.  I installed the most basic installation because I have very little space on my tablet device.  But when I try running Lualatex to process the file it stops with errors like:  ?LaTeX Error:  File ?luainputenc.sty? not found.? Is there some way to get the installation to just prompt me to install it automatically?  I have no idea which packages I am missing.  Thanks.



--

Neal Stoughton


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200206/afe95655/attachment.html>

From Neal.Stoughton at wu.ac.at  Thu Feb  6 17:03:17 2020
From: Neal.Stoughton at wu.ac.at (Stoughton, Neal)
Date: Thu, 6 Feb 2020 16:03:17 +0000
Subject: packages not found
In-Reply-To: <AM0PR01MB62907F60D125307BFD16729AF21D0@AM0PR01MB6290.eurprd01.prod.exchangelabs.com>
References: <c1ba68714226490d99fd3e60c5f841d8@wu.ac.at>
 <AM0PR01MB62907F60D125307BFD16729AF21D0@AM0PR01MB6290.eurprd01.prod.exchangelabs.com>
Message-ID: <d155b4e04770470b80db922c0fa577ba@wu.ac.at>

I appreciate the suggestion.  I wasn't aware of this method.  But all my work involves collaboration, so my coauthors and I use onedrive folder sharing.  It looks like this site charges money which we would rather not spend on.

From: Lars Madsen <daleif at math.au.dk>
Sent: Thursday, February 6, 2020 10:22 AM
To: Stoughton, Neal <Neal.Stoughton at wu.ac.at>; tex-live at tug.org
Subject: Re: packages not found

If you are on a tablet with limited space why not just use overleaf.com instead? Then everything runs in the cloud


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math<http://au.dk/daleif at imf> / More information: http://au.dk/en/daleif at math<http://au.dk/en/daleif at imf>

________________________________
From: tex-live <tex-live-bounces+daleif=imf.au.dk at tug.org<mailto:tex-live-bounces+daleif=imf.au.dk at tug.org>> on behalf of Stoughton, Neal <Neal.Stoughton at wu.ac.at<mailto:Neal.Stoughton at wu.ac.at>>
Sent: 06 February 2020 15:32
To: tex-live at tug.org<mailto:tex-live at tug.org> <tex-live at tug.org<mailto:tex-live at tug.org>>
Subject: packages not found


Hello.  I am a new user of this TeXLive.  I installed the most basic installation because I have very little space on my tablet device.  But when I try running Lualatex to process the file it stops with errors like:  "LaTeX Error:  File 'luainputenc.sty' not found." Is there some way to get the installation to just prompt me to install it automatically?  I have no idea which packages I am missing.  Thanks.



--

Neal Stoughton


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200206/76347f16/attachment-0001.html>

From Neal.Stoughton at wu.ac.at  Thu Feb  6 17:05:30 2020
From: Neal.Stoughton at wu.ac.at (Stoughton, Neal)
Date: Thu, 6 Feb 2020 16:05:30 +0000
Subject: packages not found
In-Reply-To: <CAEW6iOire9QFsJBRvE8Lye_4OWSKrwdDxfK-neK-1V5k1PUi2Q@mail.gmail.com>
References: <c1ba68714226490d99fd3e60c5f841d8@wu.ac.at>
 <CAEW6iOire9QFsJBRvE8Lye_4OWSKrwdDxfK-neK-1V5k1PUi2Q@mail.gmail.com>
Message-ID: <13e683edcf7244618a1f8195c830304d@wu.ac.at>

Ouch.  That?s not good.  I am probably using a hundred packages that might need to be installed and the process of running LuaLateX over and over and adding them in one by one sounds like an enormous process.  There has to be a better way.

From: David Carlisle <d.p.carlisle at gmail.com>
Sent: Thursday, February 6, 2020 9:41 AM
To: Stoughton, Neal <Neal.Stoughton at wu.ac.at>
Cc: tex-live at tug.org
Subject: Re: packages not found



On Thu, 6 Feb 2020 at 14:34, Stoughton, Neal <Neal.Stoughton at wu.ac.at<mailto:Neal.Stoughton at wu.ac.at>> wrote:
Hello.  I am a new user of this TeXLive.  I installed the most basic installation because I have very little space on my tablet device.  But when I try running Lualatex to process the file it stops with errors like:  ?LaTeX Error:  File ?luainputenc.sty? not found.? Is there some way to get the installation to just prompt me to install it automatically?  I have no idea which packages I am missing.  Thanks.


texlive doesn't do auto installation

tlmgr install luainputenc

should install the package (incidentally luainputenc is a rather tricky and specialised beast so a simpler (and usually recommended) alternative would be not to load that package in your document).

David

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200206/6d9b414a/attachment.html>

From karl at freefriends.org  Thu Feb  6 19:17:54 2020
From: karl at freefriends.org (Karl Berry)
Date: Thu, 6 Feb 2020 11:17:54 -0700
Subject: packages not found
In-Reply-To: <13e683edcf7244618a1f8195c830304d@wu.ac.at>
Message-ID: <202002061817.016IHssx026344@freefriends.org>

The "easier way" is to use miktex. Sorry.

Although ... there is also a script "texliveonfly" which purports to do
dynamic downloads with TL (it runs the engine and reads the error
messages as it goes, I guess). I didn't write it and have never tried
it. If you want to try it, you can install it with
  tlmgr install texliveonfly
And then run texliveonfly --help, except I'll append that below so you
can see if you want to try it. If you do, I'll be interested to hear if
it does the job. --best, karl.

$ texliveonfly --help
Usage: 

	texliveonfly [options] file.tex

Use option --help for more info.

This program downloads TeX Live packages "on the fly" while compiling .tex
documents.  Some of its default options can be directly changed in
texliveonfly.  For example, the default compiler can be edited on line 4.

Options:
  --version             show program's version number and exit
  -h, --help            print this help text and exit
  -c COMPILER, --compiler=COMPILER
                        your LaTeX compiler; defaults to pdflatex
  -a ARGS, --arguments=ARGS
                        arguments to pass to compiler; default is: "-synctex=1
                        -interaction=nonstopmode"
  --texlive_bin=LOCATION
                        Custom location for the TeX Live bin folder
  --terminal_only       Forces us to assume we can run only in this terminal.
                        Permission escalators will appear here rather than
                        graphically or in a new terminal.
  -s OPTION, --speech_when=OPTION
                        Toggles speech-synthesized notifications (where
                        supported).  OPTION can be "always", "never",
                        "installing", "failed", or some combination.
  -f, --fail_silently   If tlmgr cannot be found, compile document anyway.

Copyright (C) 2011 Saitulaa Naranong.  This program comes with ABSOLUTELY NO
WARRANTY; see the GNU General Public License v3 for more info.

From preining at logic.at  Fri Feb  7 01:39:02 2020
From: preining at logic.at (Norbert Preining)
Date: Fri, 7 Feb 2020 09:39:02 +0900
Subject: Disappearing quoteleft in luatex
Message-ID: <20200207003902.oelvdhh2wdzlqjjj@bulldog.preining.info>

Dear all,

I see a strange thing happening with the following document all with
uptodate TeX Live:

\documentclass{article}
\usepackage{fontspec}
\setmainfont{Gaultier}
\begin{document}
Hello `World'
\end{document}

xelatex: ok
lualatex: quoteleft character is missing
lualatex-dev with [RawFeature={mode=harf;}]: ok

So it seems that the lualatex font loader seems to be broken here.

The character is present in the font
	325 (0x145) U+2018 "quoteleft" LEFT SINGLE QUOTATION MARK
and separate from the quoteright.

Any suggestions how to fix these kind of errors?

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From tex at 2krueger.de  Fri Feb  7 02:33:03 2020
From: tex at 2krueger.de (Marcel Fabian =?utf-8?Q?Kr=C3=BCger?=)
Date: Fri, 7 Feb 2020 02:33:03 +0100
Subject: [Dev-luatex] Disappearing quoteleft in luatex
In-Reply-To: <20200207003902.oelvdhh2wdzlqjjj@bulldog.preining.info>
References: <20200207003902.oelvdhh2wdzlqjjj@bulldog.preining.info>
Message-ID: <20200207013303.izoflxvjheok6eew@yoga>

On Fri, Feb 07, 2020 at 09:39:02AM +0900, Norbert Preining wrote:
> Dear all,
> 
> I see a strange thing happening with the following document all with
> uptodate TeX Live:
> 
> \documentclass{article}
> \usepackage{fontspec}
> \setmainfont{Gaultier}
> \begin{document}
> Hello `World'
> \end{document}
> 
> xelatex: ok
> lualatex: quoteleft character is missing
> lualatex-dev with [RawFeature={mode=harf;}]: ok
> 
> So it seems that the lualatex font loader seems to be broken here.
> 
> The character is present in the font
> 	325 (0x145) U+2018 "quoteleft" LEFT SINGLE QUOTATION MARK
> and separate from the quoteright.

The "quoteleft" is present, but you are dealing with an odd font which
does not have a ASCII "grave" (U+0060). Given that the replacement is
implemented as a glyph substitution it only works if the original glyph
exists.

> 
> Any suggestions how to fix these kind of errors?

Use a proper font or input ? directly. You can probably also manually
add a lookup to the fontloader which includes these replacement without
checking if the original characters exists, but I'm currently not sure
if that might break something.

Best,
Marcel

From preining at logic.at  Fri Feb  7 03:31:57 2020
From: preining at logic.at (Norbert Preining)
Date: Fri, 7 Feb 2020 11:31:57 +0900
Subject: [Dev-luatex] Disappearing quoteleft in luatex
In-Reply-To: <20200207013303.izoflxvjheok6eew@yoga>
References: <20200207003902.oelvdhh2wdzlqjjj@bulldog.preining.info>
 <20200207013303.izoflxvjheok6eew@yoga>
Message-ID: <20200207023157.yexf3bfhf6h6zxi5@bulldog.preining.info>

Hi Marcel,

thanks for your answer.

On Fri, 07 Feb 2020, Marcel Fabian Kr?ger wrote:
> The "quoteleft" is present, but you are dealing with an odd font which
> does not have a ASCII "grave" (U+0060). Given that the replacement is
> implemented as a glyph substitution it only works if the original glyph
> exists.

Indeed, it is not there, only U+0300 gravecomb. Strange.

So does that mean that the luatex fontloader uses U+0060 instead of the
quoteleft for ` ?

And harfbuzz (xetex, lualatex-dev with harf) uses the quoteleft for `?

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From akiyks at gmail.com  Sun Feb  9 08:58:50 2020
From: akiyks at gmail.com (Akira Yokosawa)
Date: Sun, 9 Feb 2020 16:58:50 +0900
Subject: pdflatex error with fvextra and nimbusmono font
Message-ID: <2455b077-4e5b-6ec5-d4e7-6f8048070abb@gmail.com>

Hi,

I recently updated my TeX Live 2019 installation.
After the update, some of my LaTeX sources end up in errors.

Following is the MWE which is OK on a not-yet-updated machine:

---
\documentclass[10pt]{article}

\usepackage[T1]{fontenc}
\usepackage[defaultsups]{newtxtext}
\usepackage{textcomp}
\usepackage{nimbusmono}
\usepackage{fvextra}
\usepackage{hyperref}

\begin{document}

\section{Test}

This is a test of ``nimbusmono'' font with ``fvextra'' package.
Figure~\ref{fig:Verbatim Example} shows an example of ``Verbatim''.

\begin{figure}
\begin{Verbatim}
ABCDEFGHIJKLMNOPQRSTUVWXYZ
abcdefghijklmnopqrstuvwxyz
0123456789
!"#$%&`'()-+*=/\_^~<>?@[]{}|,.
\end{Verbatim}
\label{fig:Verbatim Example}
\caption{Verbatim Example}
\end{figure}

\end{document}
---

On the updated machine, pdflatex fails with a message saying:

    !pdfTeX error: pdflatex (file fontools_ts1.enc): cannot open encoding file for reading
     ==> Fatal error occurred, no output PDF file produced!

If you replace "nimbusmono" with another monospace font such as
"inconsolata" or "newtxtt", pdflatex successfully produces PDF.

As you see, in the MWE above, "fvextra" is not necessary.
If you use just "fancyvrb", "nimbusmono" works fine.

I see that major upgrade in the font system is underway now.
Is this an intermittent issue and expected to be fixed soon?
 
Any hints are more than welcome!

        Thanks, Akira

From d.p.carlisle at gmail.com  Sun Feb  9 11:32:23 2020
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sun, 9 Feb 2020 10:32:23 +0000
Subject: pdflatex error with fvextra and nimbusmono font
In-Reply-To: <2455b077-4e5b-6ec5-d4e7-6f8048070abb@gmail.com>
References: <2455b077-4e5b-6ec5-d4e7-6f8048070abb@gmail.com>
Message-ID: <CAEW6iOirr0=A3mq0t8ZQiL0f5AasvCz2E1R2w8OJ=GZKpTWmKQ@mail.gmail.com>

It works for me (texlive updated today with latex2e 2020-02-02 patch level
1)
,and the file you report missing is

kpsewhich fontools_ts1.enc
/usr/local/texlive/2019/texmf-dist/fonts/enc/dvips/fontools/fontools_ts1.enc

check with

tlmgr info fontools

that you have fontools installed.

David



On Sun, 9 Feb 2020 at 08:00, Akira Yokosawa <akiyks at gmail.com> wrote:

> Hi,
>
> I recently updated my TeX Live 2019 installation.
> After the update, some of my LaTeX sources end up in errors.
>
> Following is the MWE which is OK on a not-yet-updated machine:
>
> ---
> \documentclass[10pt]{article}
>
> \usepackage[T1]{fontenc}
> \usepackage[defaultsups]{newtxtext}
> \usepackage{textcomp}
> \usepackage{nimbusmono}
> \usepackage{fvextra}
> \usepackage{hyperref}
>
> \begin{document}
>
> \section{Test}
>
> This is a test of ``nimbusmono'' font with ``fvextra'' package.
> Figure~\ref{fig:Verbatim Example} shows an example of ``Verbatim''.
>
> \begin{figure}
> \begin{Verbatim}
> ABCDEFGHIJKLMNOPQRSTUVWXYZ
> abcdefghijklmnopqrstuvwxyz
> 0123456789
> !"#$%&`'()-+*=/\_^~<>?@[]{}|,.
> \end{Verbatim}
> \label{fig:Verbatim Example}
> \caption{Verbatim Example}
> \end{figure}
>
> \end{document}
> ---
>
> On the updated machine, pdflatex fails with a message saying:
>
>     !pdfTeX error: pdflatex (file fontools_ts1.enc): cannot open encoding
> file for reading
>      ==> Fatal error occurred, no output PDF file produced!
>
> If you replace "nimbusmono" with another monospace font such as
> "inconsolata" or "newtxtt", pdflatex successfully produces PDF.
>
> As you see, in the MWE above, "fvextra" is not necessary.
> If you use just "fancyvrb", "nimbusmono" works fine.
>
> I see that major upgrade in the font system is underway now.
> Is this an intermittent issue and expected to be fixed soon?
>
> Any hints are more than welcome!
>
>         Thanks, Akira
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200209/dff41ca3/attachment.html>

From akiyks at gmail.com  Sun Feb  9 12:04:08 2020
From: akiyks at gmail.com (Akira Yokosawa)
Date: Sun, 9 Feb 2020 20:04:08 +0900
Subject: pdflatex error with fvextra and nimbusmono font
In-Reply-To: <CAEW6iOirr0=A3mq0t8ZQiL0f5AasvCz2E1R2w8OJ=GZKpTWmKQ@mail.gmail.com>
References: <2455b077-4e5b-6ec5-d4e7-6f8048070abb@gmail.com>
 <CAEW6iOirr0=A3mq0t8ZQiL0f5AasvCz2E1R2w8OJ=GZKpTWmKQ@mail.gmail.com>
Message-ID: <d7c67e1a-e7c2-c9e7-2a54-edd75d907c7b@gmail.com>

On Sun, 9 Feb 2020 10:32:23 +0000, David Carlisle wrote:
> It works for me (texlive updated today with latex2e 2020-02-02 patch level
> 1)
> ,and the file you report missing is
> 
> kpsewhich fontools_ts1.enc
> /usr/local/texlive/2019/texmf-dist/fonts/enc/dvips/fontools/fontools_ts1.enc
> 
> check with
> 
> tlmgr info fontools
> 
> that you have fontools installed.

Thanks!

Indeed I didn't have fontools installed.

After installing it, the problem is fixed.

I have both collection-latexextra and collection-fontsextra installed,
but not collection-fontutils.

I thought TeX Live is aware of collection-level dependencies.
Isn't it the case any more?

        Thanks, Akira

> 
> David
> 
> 
> 
> On Sun, 9 Feb 2020 at 08:00, Akira Yokosawa <akiyks at gmail.com> wrote:
> 
>> Hi,
>>
>> I recently updated my TeX Live 2019 installation.
>> After the update, some of my LaTeX sources end up in errors.
>>
>> Following is the MWE which is OK on a not-yet-updated machine:
>>
>> ---
>> \documentclass[10pt]{article}
>>
>> \usepackage[T1]{fontenc}
>> \usepackage[defaultsups]{newtxtext}
>> \usepackage{textcomp}
>> \usepackage{nimbusmono}
>> \usepackage{fvextra}
>> \usepackage{hyperref}
>>
>> \begin{document}
>>
>> \section{Test}
>>
>> This is a test of ``nimbusmono'' font with ``fvextra'' package.
>> Figure~\ref{fig:Verbatim Example} shows an example of ``Verbatim''.
>>
>> \begin{figure}
>> \begin{Verbatim}
>> ABCDEFGHIJKLMNOPQRSTUVWXYZ
>> abcdefghijklmnopqrstuvwxyz
>> 0123456789
>> !"#$%&`'()-+*=/\_^~<>?@[]{}|,.
>> \end{Verbatim}
>> \label{fig:Verbatim Example}
>> \caption{Verbatim Example}
>> \end{figure}
>>
>> \end{document}
>> ---
>>
>> On the updated machine, pdflatex fails with a message saying:
>>
>>     !pdfTeX error: pdflatex (file fontools_ts1.enc): cannot open encoding
>> file for reading
>>      ==> Fatal error occurred, no output PDF file produced!
>>
>> If you replace "nimbusmono" with another monospace font such as
>> "inconsolata" or "newtxtt", pdflatex successfully produces PDF.
>>
>> As you see, in the MWE above, "fvextra" is not necessary.
>> If you use just "fancyvrb", "nimbusmono" works fine.
>>
>> I see that major upgrade in the font system is underway now.
>> Is this an intermittent issue and expected to be fixed soon?
>>
>> Any hints are more than welcome!
>>
>>         Thanks, Akira
>>
> 

From akiyks at gmail.com  Sun Feb  9 15:29:44 2020
From: akiyks at gmail.com (Akira Yokosawa)
Date: Sun, 9 Feb 2020 23:29:44 +0900
Subject: pdflatex error with fvextra and nimbusmono font
In-Reply-To: <d7c67e1a-e7c2-c9e7-2a54-edd75d907c7b@gmail.com>
References: <2455b077-4e5b-6ec5-d4e7-6f8048070abb@gmail.com>
 <CAEW6iOirr0=A3mq0t8ZQiL0f5AasvCz2E1R2w8OJ=GZKpTWmKQ@mail.gmail.com>
 <d7c67e1a-e7c2-c9e7-2a54-edd75d907c7b@gmail.com>
Message-ID: <a23e3d4a-51eb-f4ad-7f25-bf4f1ab78121@gmail.com>

On Sun, 9 Feb 2020 20:04:08 +0900, Akira Yokosawa wrote:
> On Sun, 9 Feb 2020 10:32:23 +0000, David Carlisle wrote:
>> It works for me (texlive updated today with latex2e 2020-02-02 patch level
>> 1)
>> ,and the file you report missing is
>>
>> kpsewhich fontools_ts1.enc
>> /usr/local/texlive/2019/texmf-dist/fonts/enc/dvips/fontools/fontools_ts1.enc
>>
>> check with
>>
>> tlmgr info fontools
>>
>> that you have fontools installed.
> 
> Thanks!
> 
> Indeed I didn't have fontools installed.
> 
> After installing it, the problem is fixed.
> 
> I have both collection-latexextra and collection-fontsextra installed,
> but not collection-fontutils.
> 
> I thought TeX Live is aware of collection-level dependencies.
> Isn't it the case any more?

Please ignore this question.
I was confused by the difference in user mode installation.
I did user mode install of TeX Live this time, and I missed the fact that
inter-collection dependencies are not covered by tlmgr.

Sorry for all the noise.

         Regards, Akira

> 
>         Thanks, Akira
> 
>>
>> David
>>
>>
>>
>> On Sun, 9 Feb 2020 at 08:00, Akira Yokosawa <akiyks at gmail.com> wrote:
>>
>>> Hi,
>>>
>>> I recently updated my TeX Live 2019 installation.
>>> After the update, some of my LaTeX sources end up in errors.
>>>
>>> Following is the MWE which is OK on a not-yet-updated machine:
>>>
>>> ---
>>> \documentclass[10pt]{article}
>>>
>>> \usepackage[T1]{fontenc}
>>> \usepackage[defaultsups]{newtxtext}
>>> \usepackage{textcomp}
>>> \usepackage{nimbusmono}
>>> \usepackage{fvextra}
>>> \usepackage{hyperref}
>>>
>>> \begin{document}
>>>
>>> \section{Test}
>>>
>>> This is a test of ``nimbusmono'' font with ``fvextra'' package.
>>> Figure~\ref{fig:Verbatim Example} shows an example of ``Verbatim''.
>>>
>>> \begin{figure}
>>> \begin{Verbatim}
>>> ABCDEFGHIJKLMNOPQRSTUVWXYZ
>>> abcdefghijklmnopqrstuvwxyz
>>> 0123456789
>>> !"#$%&`'()-+*=/\_^~<>?@[]{}|,.
>>> \end{Verbatim}
>>> \label{fig:Verbatim Example}
>>> \caption{Verbatim Example}
>>> \end{figure}
>>>
>>> \end{document}
>>> ---
>>>
>>> On the updated machine, pdflatex fails with a message saying:
>>>
>>>     !pdfTeX error: pdflatex (file fontools_ts1.enc): cannot open encoding
>>> file for reading
>>>      ==> Fatal error occurred, no output PDF file produced!
>>>
>>> If you replace "nimbusmono" with another monospace font such as
>>> "inconsolata" or "newtxtt", pdflatex successfully produces PDF.
>>>
>>> As you see, in the MWE above, "fvextra" is not necessary.
>>> If you use just "fancyvrb", "nimbusmono" works fine.
>>>
>>> I see that major upgrade in the font system is underway now.
>>> Is this an intermittent issue and expected to be fixed soon?
>>>
>>> Any hints are more than welcome!
>>>
>>>         Thanks, Akira
>>>
>>

From karl at freefriends.org  Mon Feb 10 00:15:22 2020
From: karl at freefriends.org (Karl Berry)
Date: Sun, 9 Feb 2020 16:15:22 -0700
Subject: pdflatex error with fvextra and nimbusmono font
In-Reply-To: <d7c67e1a-e7c2-c9e7-2a54-edd75d907c7b@gmail.com>
Message-ID: <202002092315.019NFMuR002735@freefriends.org>

    >>     !pdfTeX error: pdflatex (file fontools_ts1.enc): cannot open encoding

I added a dependency on fontools to nimbus15, which is the package which
actually contains the various fonts that use fontools_ts1.enc, as far as
I could see. Thanks for the report.

    I thought TeX Live is aware of collection-level dependencies.
    Isn't it the case any more?

Although we have said so, I'm afraid it has never been 100% true.

In this case, the fontools package is primarily about the font utility
programs it divides. It would not be right for it to be part of
collection-fontsextra, which are the actual fonts, which is a huge
collection, one of the most likely to be omitted.

And, on the other hand, I think it is only good to reuse pre-existing
.enc (or any other) files, as the nimbus15 author (thanks Michael) has
done here. So this particular dependency is unavoidably
cross-collection, as far as I can imagine. --best, karl.

From pablgonz at educarchile.cl  Mon Feb 10 15:41:05 2020
From: pablgonz at educarchile.cl (=?UTF-8?Q?Pablo_Gonz=C3=A1lez_L?=)
Date: Mon, 10 Feb 2020 11:41:05 -0300
Subject: Query regarding the output of --recorder?
In-Reply-To: <mailman.11.1581332403.25855.tex-live@tug.org>
References: <mailman.11.1581332403.25855.tex-live@tug.org>
Message-ID: <CANeU4n_+mSg+h7zu4LxvjvuXtMc0ZBVqUPf-SY7wJTBw7EHTAA@mail.gmail.com>

Hi, everybody, I have a little query regarding the output generated by
'--recorder'. I know that in the .fls file the lines of the files read and
written during the compilation of a document (one or more times) are added, my
question is, why some lines are duplicated consecutively?
For example:
$ pdflatex --interaction=batchmode --recorder sample2e
generates:
PWD /home/pablo
INPUT /usr/local/texlive/2019/texmf.cnf
INPUT /usr/local/texlive/2019/texmf-dist/web2c/texmf.cnf
INPUT /usr/local/texlive/2019/texmf-var/web2c/pdftex/pdflatex.fmt
INPUT /usr/local/texlive/2019/texmf-dist/tex/latex/base/sample2e.tex
OUTPUT sample2e.log
INPUT /usr/local/texlive/2019/texmf-dist/tex/latex/base/article.cls
INPUT /usr/local/texlive/2019/texmf-dist/tex/latex/base/article.cls
INPUT /usr/local/texlive/2019/texmf-dist/tex/latex/base/size10.clo
INPUT /usr/local/texlive/2019/texmf-dist/tex/latex/base/size10.clo
INPUT /usr/local/texlive/2019/texmf-dist/tex/latex/l3backend/l3backend-pdfmode.def
INPUT /usr/local/texlive/2019/texmf-dist/tex/latex/l3backend/l3backend-pdfmode.def
INPUT sample2e.aux
INPUT sample2e.aux
OUTPUT sample2e.aux
INPUT /usr/local/texlive/2019/texmf-dist/fonts/map/fontname/texfonts.map
INPUT /usr/local/texlive/2019/texmf-dist/fonts/tfm/public/cm/cmr17.tfm
INPUT /usr/local/texlive/2019/texmf-dist/fonts/tfm/public/cm/cmr12.tfm
INPUT /usr/local/texlive/2019/texmf-dist/fonts/tfm/public/cm/cmr8.tfm
INPUT /usr/local/texlive/2019/texmf-dist/fonts/tfm/public/cm/cmr6.tfm
INPUT /usr/local/texlive/2019/texmf-dist/fonts/tfm/public/cm/cmmi12.tfm
INPUT /usr/local/texlive/2019/texmf-dist/fonts/tfm/public/cm/cmmi8.tfm
INPUT /usr/local/texlive/2019/texmf-dist/fonts/tfm/public/cm/cmmi6.tfm
INPUT /usr/local/texlive/2019/texmf-dist/fonts/tfm/public/cm/cmsy10.tfm
INPUT /usr/local/texlive/2019/texmf-dist/fonts/tfm/public/cm/cmsy8.tfm
INPUT /usr/local/texlive/2019/texmf-dist/fonts/tfm/public/cm/cmsy6.tfm
INPUT /usr/local/texlive/2019/texmf-dist/fonts/tfm/public/cm/cmr12.tfm
INPUT /usr/local/texlive/2019/texmf-dist/fonts/tfm/public/cm/cmbx12.tfm
INPUT /usr/local/texlive/2019/texmf-dist/fonts/tfm/jknappen/ec/tcrm1000.tfm
INPUT /usr/local/texlive/2019/texmf-dist/tex/latex/base/omscmr.fd
INPUT /usr/local/texlive/2019/texmf-dist/tex/latex/base/omscmr.fd
INPUT /usr/local/texlive/2019/texmf-dist/fonts/tfm/public/cm/cmti10.tfm
OUTPUT sample2e.pdf
INPUT /usr/local/texlive/2019/texmf-var/fonts/map/pdftex/updmap/pdftex.map
INPUT sample2e.aux
INPUT /usr/local/texlive/2019/texmf-dist/fonts/enc/dvips/cm-super/cm-super-ts1.enc
INPUT /usr/local/texlive/2019/texmf-dist/fonts/type1/public/amsfonts/cm/cmbx12.pfb
INPUT /usr/local/texlive/2019/texmf-dist/fonts/type1/public/amsfonts/cm/cmex10.pfb
INPUT /usr/local/texlive/2019/texmf-dist/fonts/type1/public/amsfonts/cm/cmmi10.pfb
INPUT /usr/local/texlive/2019/texmf-dist/fonts/type1/public/amsfonts/cm/cmmi7.pfb
INPUT /usr/local/texlive/2019/texmf-dist/fonts/type1/public/amsfonts/cm/cmr10.pfb
INPUT /usr/local/texlive/2019/texmf-dist/fonts/type1/public/amsfonts/cm/cmr12.pfb
INPUT /usr/local/texlive/2019/texmf-dist/fonts/type1/public/amsfonts/cm/cmr17.pfb
INPUT /usr/local/texlive/2019/texmf-dist/fonts/type1/public/amsfonts/cm/cmr6.pfb
INPUT /usr/local/texlive/2019/texmf-dist/fonts/type1/public/amsfonts/cm/cmr7.pfb
INPUT /usr/local/texlive/2019/texmf-dist/fonts/type1/public/amsfonts/cm/cmr8.pfb
INPUT /usr/local/texlive/2019/texmf-dist/fonts/type1/public/amsfonts/cm/cmsy10.pfb
INPUT /usr/local/texlive/2019/texmf-dist/fonts/type1/public/amsfonts/cm/cmsy7.pfb
INPUT /usr/local/texlive/2019/texmf-dist/fonts/type1/public/amsfonts/cm/cmti10.pfb
INPUT /usr/local/texlive/2019/texmf-dist/fonts/type1/public/cm-super/sfrm1000.pfb

And these lines are duplicated
INPUT /usr/local/texlive/2019/texmf-dist/tex/latex/base/article.cls
INPUT /usr/local/texlive/2019/texmf-dist/tex/latex/base/article.cls
INPUT /usr/local/texlive/2019/texmf-dist/tex/latex/base/size10.clo
INPUT /usr/local/texlive/2019/texmf-dist/tex/latex/base/size10.clo
INPUT /usr/local/texlive/2019/texmf-dist/tex/latex/l3backend/l3backend-pdfmode.def
INPUT /usr/local/texlive/2019/texmf-dist/tex/latex/l3backend/l3backend-pdfmode.def

and they've only been loaded once.
Saludos

From phe.h.o1 at gmail.com  Mon Feb 10 15:56:39 2020
From: phe.h.o1 at gmail.com (Phelype Oleinik)
Date: Mon, 10 Feb 2020 11:56:39 -0300
Subject: Query regarding the output of --recorder?
In-Reply-To: <CANeU4n_+mSg+h7zu4LxvjvuXtMc0ZBVqUPf-SY7wJTBw7EHTAA@mail.gmail.com>
References: <mailman.11.1581332403.25855.tex-live@tug.org>
 <CANeU4n_+mSg+h7zu4LxvjvuXtMc0ZBVqUPf-SY7wJTBw7EHTAA@mail.gmail.com>
Message-ID: <CANfjC0-B6cdCmnWvztU8od7F-LKHFwsGzu9Rta=rJ7XcFanGZQ@mail.gmail.com>

Hi Pablo,

> Hi, everybody, I have a little query regarding the output generated by
> '--recorder'. I know that in the .fls file the lines of the files read and
> written during the compilation of a document (one or more times) are added, my
> question is, why some lines are duplicated consecutively?

LaTeX's \input{...} is a wrapper around \InputIfFileExists, which
checks if the requested file exist by opening it with \openin and
then checking with \ifeof. If the file exists, it is first closed, and
then input with \@@input. From the perspective of the engine,
it is open twice. Compare the two lines in this example:

    \begin{filecontents}{\jobname.example}
    test
    \end{filecontents}
    \documentclass{article}
    \begin{document}
    % Once
    % \input \jobname.example
    % Twice
    \InputIfFileExists{\jobname.example}{}{}
    \end{document}

Best

Phelype

From soap at gentoo.org  Mon Feb 10 16:59:53 2020
From: soap at gentoo.org (David Seifert)
Date: Mon, 10 Feb 2020 16:59:53 +0100
Subject: GCC 10 fixes
Message-ID: <efa3249df8e77988f1786396919cec0e9de6a430.camel@gentoo.org>

Dear Tex Live community,
GCC 10 will be switching its default symbol emission mode from -fcommon to -fno-
common, which is the same model as used by C++ (
https://gcc.gnu.org/bugzilla/show_bug.cgi?id=85678). In effect, programmers
should not define variables in headers. Instead, they should declare them in
headers, and define them exactly once. You can emulate the GCC 10 behaviour by
compiling sources with CFLAGS="-fno-common" and noticing that texlive defines
(and not just declares) multiple variables in headers. We have a Gentoo Bug at

https://bugs.gentoo.org/706402

I have fixed all headers to just declare variables, and then define the
variables in their adjacent .c files. Find my attached patch at

https://706402.bugs.gentoo.org/attachment.cgi?id=613154

It would be nice if we could still get this included for texlive-2020, so we
don't have to carry this patch for when GCC 10 hits the ground.

Regards
David


From karl at freefriends.org  Mon Feb 10 23:17:38 2020
From: karl at freefriends.org (Karl Berry)
Date: Mon, 10 Feb 2020 15:17:38 -0700
Subject: GCC 10 fixes
In-Reply-To: <efa3249df8e77988f1786396919cec0e9de6a430.camel@gentoo.org>
Message-ID: <202002102217.01AMHc5F013535@freefriends.org>

    https://706402.bugs.gentoo.org/attachment.cgi?id=613154

Thanks much for sending. autosp and mplibdir were already fixed, but the
luatex patches will help. Fingers crossed for TL'20. -k

From cs at miktex.org  Tue Feb 11 11:50:08 2020
From: cs at miktex.org (Christian Schenk)
Date: Tue, 11 Feb 2020 11:50:08 +0100
Subject: dvipdfmx file name issue
Message-ID: <CAM_Ev__A_kxWTcSVX5aY6pnYpOq0G+hTiEmU8Erfo843O7HToQ@mail.gmail.com>

The pre-release dvipdfmx (20200116) seems to have a subtle issue. See:
https://github.com/MiKTeX/miktex/issues/472

This code block in dvipdfmx.c (line 145) should be reviewed:

  dvi_base = xbasename(dvi_filename);
  len      = strlen(dvi_base) - strlen(".dvi");
  suffix   = dvi_base + len;

(We cannot assert that the file name ends in .dvi.)

If you agree that this is a bug, it should be fixed asap (security).

From tex at 2krueger.de  Tue Feb 11 18:29:44 2020
From: tex at 2krueger.de (Marcel Fabian =?utf-8?Q?Kr=C3=BCger?=)
Date: Tue, 11 Feb 2020 18:29:44 +0100
Subject: HarfBuzz version in TeXLive 2020
Message-ID: <20200211172944.nxkxgkdxjle6ratk@yoga>

Hi,

since the last HarfBuzz release, multiple quite useful features and
fixes have landed in the HarfBuzz GitHub repository. Especially there
has been a [change to support glyph names for PostScript flovored OTF
fonts](https://github.com/harfbuzz/harfbuzz/pull/2054) and a [fix for an
issue with big font files](https://github.com/harfbuzz/harfbuzz/pull/2080)
which has triggered errors when some fonts are detected by luaotfload
(https://github.com/latex3/luaotfload/issues/126).

Would it be possible to either add a newer checkout of HarfBuzz for
TeXLive 2020 or to backport some of these patches?

Best regards,
Marcel

From kakuto at w32tex.org  Wed Feb 12 00:07:39 2020
From: kakuto at w32tex.org (Akira Kakuto)
Date: Wed, 12 Feb 2020 08:07:39 +0900
Subject: dvipdfmx file name issue
In-Reply-To: <CAM_Ev__A_kxWTcSVX5aY6pnYpOq0G+hTiEmU8Erfo843O7HToQ@mail.gmail.com>
References: <CAM_Ev__A_kxWTcSVX5aY6pnYpOq0G+hTiEmU8Erfo843O7HToQ@mail.gmail.com>
Message-ID: <24B5AA00AE3740B4BB596FB059870067@CJ3001517A>

Dear Christian,

> The pre-release dvipdfmx (20200116) seems to have a subtle issue. See:
> https://github.com/MiKTeX/miktex/issues/472

Many thanks. Fixed in r53760.

Thanks,
Akira


From karl at freefriends.org  Wed Feb 12 00:12:43 2020
From: karl at freefriends.org (Karl Berry)
Date: Tue, 11 Feb 2020 16:12:43 -0700
Subject: HarfBuzz version in TeXLive 2020
In-Reply-To: <20200211172944.nxkxgkdxjle6ratk@yoga>
Message-ID: <202002112312.01BNChBp010559@freefriends.org>

Hi Marcel - as a rule, we do not cherry-pick commits or make releases
off development sources. We wait for releases. Can you urge the harfbuzz
author to make a release? --thanks, karl.


From preining at logic.at  Thu Feb 13 04:47:35 2020
From: preining at logic.at (Norbert Preining)
Date: Thu, 13 Feb 2020 12:47:35 +0900
Subject: latex or l3 changes in 2020: starting to request tcrm fonts?
Message-ID: <20200213034735.2j66tfelb74b6bgg@bulldog.preining.info>

Hi all,

it seems that one of the recent changes in some of the latex/l3 packages has
triggered a new dependency (implicit): When compiling a document without
collection-fontsrecommended installed, it still requests the tcrm fonts:
	This is pdfTeX, Version 3.14159265-2.6-1.40.20 (TeX Live 2019/Debian) (preloaded format=latex)
	 restricted \write18 enabled.
	entering extended mode
	(./main.tex
	LaTeX2e <2020-02-02> patch level 1
	L3 programming layer <2020-02-08>
	(/usr/share/texlive/texmf-dist/tex/latex/base/article.cls
	Document Class: article 2019/12/20 v1.4l Standard LaTeX document class
	(/usr/share/texlive/texmf-dist/tex/latex/base/size12.clo))
	(/usr/share/texlive/texmf-dist/tex/latex/base/inputenc.sty)
	(/usr/share/texlive/texmf-dist/tex/latex/preprint/fullpage.sty)
	(/usr/share/texmf/tex/latex/misc/ocamlweb.sty)
	(/usr/share/texlive/texmf-dist/tex/latex/l3backend/l3backend-dvips.def)
	kpathsea: Running mktextfm tcrm1200
	/usr/share/texlive/texmf-dist/web2c/mktexnam: Could not map source abbreviation  for tcrm1200.
	/usr/share/texlive/texmf-dist/web2c/mktexnam: Need to update ?
	mktextfm: Running mf-nowin -progname=mf \mode:=ljfour; mag:=1; nonstopmode; input tcrm1200

This is by itself not a problem, only that it is new and breaks building
of some Debian packages that didn't require collection-fontsrecommended
till now, and suddently need them.

Is this a known "feature"/issue?

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Thu Feb 13 05:26:37 2020
From: norbert at preining.info (Norbert Preining)
Date: Thu, 13 Feb 2020 13:26:37 +0900
Subject: l3backend: adding new DVI specials?
Message-ID: <20200213042637.zr64siypl6dlkmuj@bulldog.preining.info>

Hi all,

the recent update of the l3 packages changed something with the DVI
specials. pyxplot suddently gives warnings about unhandled DVI specials:
	header=l3backend-dvips.pro
is this a known change and to be expected?

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From joseph.wright at morningstar2.co.uk  Thu Feb 13 08:54:30 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Thu, 13 Feb 2020 07:54:30 +0000
Subject: l3backend: adding new DVI specials?
In-Reply-To: <20200213042637.zr64siypl6dlkmuj@bulldog.preining.info>
References: <20200213042637.zr64siypl6dlkmuj@bulldog.preining.info>
Message-ID: <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>

On 13/02/2020 04:26, Norbert Preining wrote:
> Hi all,
> 
> the recent update of the l3 packages changed something with the DVI
> specials. pyxplot suddently gives warnings about unhandled DVI specials:
> 	header=l3backend-dvips.pro
> is this a known change and to be expected?
> 
> Best
> 
> Norbert

Hello Norbert,

A while ago now we added some code to l3backend to start to address 'out 
of the box' PDF feature handling. That's for stuff like hyperlinks, 
color, etc. In DVI mode, one needs stuff adding to the PostScript 
header. (At present not all of this is 'live', in particular link breaking.)

Initially, we simply added everything as \special lines directly 
containing the PostScript, but that leads to warnings with dvipdfmx if 
the right backend isn't selected. It also meant there was lots of 
material in the \showbox output. Moving it to a .pro file meant that 
inclusion used only one line

     \special{header=l3backend-dvips.pro}

and this line is simply ignored by dvipdfmx. We realised that other 
systems might not know this one line, but felt that it was hopefully 
possible that a similar '"skip header=" lines' might be added to any 
cases. The one we had in mind was dvisvgm: I'm not familiar with pyxplot.

Joseph


From joseph.wright at morningstar2.co.uk  Thu Feb 13 09:31:58 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Thu, 13 Feb 2020 08:31:58 +0000
Subject: latex or l3 changes in 2020: starting to request tcrm fonts?
In-Reply-To: <20200213034735.2j66tfelb74b6bgg@bulldog.preining.info>
References: <20200213034735.2j66tfelb74b6bgg@bulldog.preining.info>
Message-ID: <9f2ba8f1-88a1-7142-9b00-1221fc14d768@morningstar2.co.uk>

On 13/02/2020 03:47, Norbert Preining wrote:
> Hi all,
> 
> it seems that one of the recent changes in some of the latex/l3 packages has
> triggered a new dependency (implicit): When compiling a document without
> collection-fontsrecommended installed, it still requests the tcrm fonts:
> 	This is pdfTeX, Version 3.14159265-2.6-1.40.20 (TeX Live 2019/Debian) (preloaded format=latex)
> 	 restricted \write18 enabled.
> 	entering extended mode
> 	(./main.tex
> 	LaTeX2e <2020-02-02> patch level 1
> 	L3 programming layer <2020-02-08>
> 	(/usr/share/texlive/texmf-dist/tex/latex/base/article.cls
> 	Document Class: article 2019/12/20 v1.4l Standard LaTeX document class
> 	(/usr/share/texlive/texmf-dist/tex/latex/base/size12.clo))
> 	(/usr/share/texlive/texmf-dist/tex/latex/base/inputenc.sty)
> 	(/usr/share/texlive/texmf-dist/tex/latex/preprint/fullpage.sty)
> 	(/usr/share/texmf/tex/latex/misc/ocamlweb.sty)
> 	(/usr/share/texlive/texmf-dist/tex/latex/l3backend/l3backend-dvips.def)
> 	kpathsea: Running mktextfm tcrm1200
> 	/usr/share/texlive/texmf-dist/web2c/mktexnam: Could not map source abbreviation  for tcrm1200.
> 	/usr/share/texlive/texmf-dist/web2c/mktexnam: Need to update ?
> 	mktextfm: Running mf-nowin -progname=mf \mode:=ljfour; mag:=1; nonstopmode; input tcrm1200
> 
> This is by itself not a problem, only that it is new and breaks building
> of some Debian packages that didn't require collection-fontsrecommended
> till now, and suddently need them.
> 
> Is this a known "feature"/issue?
> 
> Best
> 
> Norbert

I've just tried a simple document

\documentclasss{article}
\usepacage{fullpage}
\begin{document}
Hello world
\end{document}

(I can't see ocamlweb.sty in TeX Live)

and get no issue with pdflatex or latex on my VM with a truly minimal 
installation, with "tlmgr list --only-installed" reporting

babel
cm
dehyph
etex
hyphen-base
knuth-lib
kpathsea (+ binaries)
l3backend
l3kernel
latex (+ binaries)
latex-fonts
latexconfig
lm
lualibs
luaotfload (+ binaries)
luatex (+ binaries)
pdftex (+ binaries)
plain
preprint
scheme-infra-only
tex-ini-files
texlive-scripts (+ binaries)
texlive.infra (+ binaries)
unicode-data

Could you provide a full example for testing?

Joseph


From news3 at nililand.de  Thu Feb 13 10:01:57 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 13 Feb 2020 10:01:57 +0100
Subject: latex or l3 changes in 2020: starting to request tcrm fonts?
References: <20200213034735.2j66tfelb74b6bgg@bulldog.preining.info>
Message-ID: <1blpfi5vm2lkl.dlg@nililand.de>

Am Thu, 13 Feb 2020 12:47:35 +0900 schrieb Norbert Preining:

> it seems that one of the recent changes in some of the latex/l3 packages has
> triggered a new dependency (implicit): When compiling a document without
> collection-fontsrecommended installed, it still requests the tcrm fonts:


> Is this a known "feature"/issue?

Yes, tcrm is a textcomp font. As the textcomp definition have been
moved to the kernel it is quite possible that your style now
triggers the use when it previously did not. 



-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From preining at logic.at  Thu Feb 13 10:52:02 2020
From: preining at logic.at (Norbert Preining)
Date: Thu, 13 Feb 2020 18:52:02 +0900
Subject: l3backend: adding new DVI specials?
In-Reply-To: <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
References: <20200213042637.zr64siypl6dlkmuj@bulldog.preining.info>
 <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
Message-ID: <20200213095202.xwndajsi6qa6pbmh@bulldog.preining.info>

Hi Joseph,

thanks for your detailed answer, this was what I wanted to know.
I will inform pyplotx upstream and the Debian packagers about this new
"special".

Thanks again for your detailed and prompt reply, greatly appreciated

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From henrimenke at gmail.com  Thu Feb 13 10:55:06 2020
From: henrimenke at gmail.com (Henri Menke)
Date: Thu, 13 Feb 2020 22:55:06 +1300
Subject: l3backend: adding new DVI specials?
In-Reply-To: <20200213095202.xwndajsi6qa6pbmh@bulldog.preining.info>
References: <20200213042637.zr64siypl6dlkmuj@bulldog.preining.info>
 <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
 <20200213095202.xwndajsi6qa6pbmh@bulldog.preining.info>
Message-ID: <57e33b06-40a3-9034-f343-ff9f7117c23a@gmail.com>

On 2/13/20 10:52 PM, Norbert Preining wrote:
> Hi Joseph,
> 
> thanks for your detailed answer, this was what I wanted to know.
> I will inform pyplotx upstream and the Debian packagers about this new
> "special".

pyxplot seems to have been abandoned five years ago.
https://sourceforge.net/projects/pyxplot/

> Thanks again for your detailed and prompt reply, greatly appreciated
> 
> Norbert
> 
> --
> PREINING Norbert                               http://www.preining.info
> Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
> 

From preining at logic.at  Thu Feb 13 11:00:28 2020
From: preining at logic.at (Norbert Preining)
Date: Thu, 13 Feb 2020 19:00:28 +0900
Subject: l3backend: adding new DVI specials?
In-Reply-To: <57e33b06-40a3-9034-f343-ff9f7117c23a@gmail.com>
References: <20200213042637.zr64siypl6dlkmuj@bulldog.preining.info>
 <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
 <20200213095202.xwndajsi6qa6pbmh@bulldog.preining.info>
 <57e33b06-40a3-9034-f343-ff9f7117c23a@gmail.com>
Message-ID: <20200213100028.632f75roxgzj2drv@bulldog.preining.info>

On Thu, 13 Feb 2020, Henri Menke wrote:
> pyxplot seems to have been abandoned five years ago.
> https://sourceforge.net/projects/pyxplot/

But it is still in Debian and working ... and having a regression
against the TeX Live checkout from 2019-12, meaning that with the same
set of packages now there are warnings.

But that is fine with me, I just need to inform the Debian maintainers.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From d.p.carlisle at gmail.com  Thu Feb 13 11:03:04 2020
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 13 Feb 2020 10:03:04 +0000
Subject: l3backend: adding new DVI specials?
In-Reply-To: <20200213095202.xwndajsi6qa6pbmh@bulldog.preining.info>
References: <20200213042637.zr64siypl6dlkmuj@bulldog.preining.info>
 <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
 <20200213095202.xwndajsi6qa6pbmh@bulldog.preining.info>
Message-ID: <CAEW6iOhkO2Gx8+91uEO=3zxyO_=Qfpdgi9T90UueA+wDzJ-9-w@mail.gmail.com>

On Thu, 13 Feb 2020 at 09:53, Norbert Preining <preining at logic.at> wrote:

> Hi Joseph,
>
> thanks for your detailed answer, this was what I wanted to know.
> I will inform pyplotx upstream and the Debian packagers about this new
> "special".
>
> Thanks again for your detailed and prompt reply, greatly appreciated
>
> Norbert
>
>
Do you know, are they using a custom dvi driver or are they using something
like dvipng or dvisvgm  to handle the latex output?

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200213/b8c4cc24/attachment-0001.html>

From zdenek.wagner at gmail.com  Thu Feb 13 11:06:11 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Thu, 13 Feb 2020 11:06:11 +0100
Subject: l3backend: adding new DVI specials?
In-Reply-To: <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
References: <20200213042637.zr64siypl6dlkmuj@bulldog.preining.info>
 <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
Message-ID: <CAC1phyYtWGGTFrhks=dfE8t1efXhKt86jJ3Ah+9mdrgV9KRpCg@mail.gmail.com>

Hi,

many years ago (when using emTeX in OS/2) I wrote a package which can
create multilie hyperlinks by dvips + distiller (or ghostscript). It
is here:
http://icebearsoft.euweb.cz/tex/#pdf
Unfortunately it is undocumented, only one article was written about
it in Czech. The idea is that the LaTeX macro inserts a PS code at the
beginning and at the end. These PS macros measure the area. If it is
in a single line, just one hyperlink is created. If there is a line
break, two hyperlinks with the same target are created. Maybe it can
help you.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

?t 13. 2. 2020 v 8:54 odes?latel Joseph Wright
<joseph.wright at morningstar2.co.uk> napsal:
>
> On 13/02/2020 04:26, Norbert Preining wrote:
> > Hi all,
> >
> > the recent update of the l3 packages changed something with the DVI
> > specials. pyxplot suddently gives warnings about unhandled DVI specials:
> >       header=l3backend-dvips.pro
> > is this a known change and to be expected?
> >
> > Best
> >
> > Norbert
>
> Hello Norbert,
>
> A while ago now we added some code to l3backend to start to address 'out
> of the box' PDF feature handling. That's for stuff like hyperlinks,
> color, etc. In DVI mode, one needs stuff adding to the PostScript
> header. (At present not all of this is 'live', in particular link breaking.)
>
> Initially, we simply added everything as \special lines directly
> containing the PostScript, but that leads to warnings with dvipdfmx if
> the right backend isn't selected. It also meant there was lots of
> material in the \showbox output. Moving it to a .pro file meant that
> inclusion used only one line
>
>      \special{header=l3backend-dvips.pro}
>
> and this line is simply ignored by dvipdfmx. We realised that other
> systems might not know this one line, but felt that it was hopefully
> possible that a similar '"skip header=" lines' might be added to any
> cases. The one we had in mind was dvisvgm: I'm not familiar with pyxplot.
>
> Joseph
>


From joseph.wright at morningstar2.co.uk  Thu Feb 13 11:08:10 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Thu, 13 Feb 2020 10:08:10 +0000
Subject: l3backend: adding new DVI specials?
In-Reply-To: <CAC1phyYtWGGTFrhks=dfE8t1efXhKt86jJ3Ah+9mdrgV9KRpCg@mail.gmail.com>
References: <20200213042637.zr64siypl6dlkmuj@bulldog.preining.info>
 <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
 <CAC1phyYtWGGTFrhks=dfE8t1efXhKt86jJ3Ah+9mdrgV9KRpCg@mail.gmail.com>
Message-ID: <a6f3431b-25f3-8656-8254-3315a863bfee@morningstar2.co.uk>

On 13/02/2020 10:06, Zdenek Wagner wrote:
> Hi,
> 
> many years ago (when using emTeX in OS/2) I wrote a package which can
> create multilie hyperlinks by dvips + distiller (or ghostscript). It
> is here:
> http://icebearsoft.euweb.cz/tex/#pdf
> Unfortunately it is undocumented, only one article was written about
> it in Czech. The idea is that the LaTeX macro inserts a PS code at the
> beginning and at the end. These PS macros measure the area. If it is
> in a single line, just one hyperlink is created. If there is a line
> break, two hyperlinks with the same target are created. Maybe it can
> help you.
> 
> Zden?k Wagner

We have the necessary PostScript from hypdvips (with some corrections): 
the issue is exactly where to hook safely into the OR.

Joseph

From karl at freefriends.org  Thu Feb 13 23:59:57 2020
From: karl at freefriends.org (Karl Berry)
Date: Thu, 13 Feb 2020 15:59:57 -0700
Subject: l3backend: adding new DVI specials?
In-Reply-To: <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
Message-ID: <202002132259.01DMxvXA015715@freefriends.org>

         \special{header=l3backend-dvips.pro}

I admit I don't understand. So this \special is output unconditionally?
How about only emitting this \special if the backend is in fact dvips,
instead of expecting every other DVI driver in the world to be changed
to recognize it? (Especially when it's merely to be ignored.) I'm sure
you thought of this, but ... I don't understand. --thanks, karl.

From karl at freefriends.org  Thu Feb 13 23:59:59 2020
From: karl at freefriends.org (Karl Berry)
Date: Thu, 13 Feb 2020 15:59:59 -0700
Subject: latex or l3 changes in 2020: starting to request tcrm fonts?
In-Reply-To: <20200213034735.2j66tfelb74b6bgg@bulldog.preining.info>
Message-ID: <202002132259.01DMxxHZ015733@freefriends.org>

            kpathsea: Running mktextfm tcrm1200

I moved the ec package (where the tc* fonts are) from
c-fontsrecommended to c-basic, since no other solution is evident :(. -k

P.S. I am surprised Debian packages are building DVI documentation.


From joseph.wright at morningstar2.co.uk  Fri Feb 14 00:05:44 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Thu, 13 Feb 2020 23:05:44 +0000
Subject: l3backend: adding new DVI specials?
In-Reply-To: <202002132259.01DMxvXA015715@freefriends.org>
References: <202002132259.01DMxvXA015715@freefriends.org>
Message-ID: <3e8e3b07-64c4-c857-ae4b-dcda6ea25ff5@morningstar2.co.uk>

On 13/02/2020 22:59, Karl Berry wrote:
>           \special{header=l3backend-dvips.pro}
> 
> I admit I don't understand. So this \special is output unconditionally?
> How about only emitting this \special if the backend is in fact dvips,
> instead of expecting every other DVI driver in the world to be changed
> to recognize it? (Especially when it's merely to be ignored.) I'm sure
> you thought of this, but ... I don't understand. --thanks, karl.
> 

Hi Karl,

A "latex" run *cannot* know what the driver is unless it's told: you 
have to make some kind of guess. That's in contrast to pdflatex, 
xelatex, lualatex where we can know.

If one goes down the route of explicitly requiring a driver option in 
all cases, the basic case of 'no option at all' works with zero drivers. 
The graphics package has for years assumed no option -> dvips, and 
dvipdfmx users are thus accustomed to having to specify it. It's hard to 
see another way to try to being work on making new PDF-focussed features 
work in LaTeX output.

Joseph

From karl at freefriends.org  Fri Feb 14 00:09:56 2020
From: karl at freefriends.org (Karl Berry)
Date: Thu, 13 Feb 2020 16:09:56 -0700
Subject: l3backend: adding new DVI specials?
In-Reply-To: <3e8e3b07-64c4-c857-ae4b-dcda6ea25ff5@morningstar2.co.uk>
Message-ID: <202002132309.01DN9uSK016203@freefriends.org>

    A "latex" run *cannot* know what the driver is unless it's told: you 

Yes, of course.

    The graphics package has for years assumed no option -> dvips, and 

Yes, and that is good.

    dvipdfmx users are thus accustomed to having to specify it. 

Right. Ditto dvisvgm, etc. So, don't output the header= \special unless
either no option is given, or dvips is explicitly given.
What am I missing? Sorry ... -k

From joseph.wright at morningstar2.co.uk  Fri Feb 14 00:11:38 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Thu, 13 Feb 2020 23:11:38 +0000
Subject: l3backend: adding new DVI specials?
In-Reply-To: <202002132309.01DN9uSK016203@freefriends.org>
References: <202002132309.01DN9uSK016203@freefriends.org>
Message-ID: <dfa21bba-79da-a9da-893b-55a486e37000@morningstar2.co.uk>

On 13/02/2020 23:09, Karl Berry wrote:
>      A "latex" run *cannot* know what the driver is unless it's told: you
> 
> Yes, of course.
> 
>      The graphics package has for years assumed no option -> dvips, and
> 
> Yes, and that is good.
> 
>      dvipdfmx users are thus accustomed to having to specify it.
> 
> Right. Ditto dvisvgm, etc. So, don't output the header= \special unless
> either no option is given, or dvips is explicitly given.
> What am I missing? Sorry ... -k
> 

Nothing: that's exactly what is happening. As I said to Norbert, I'm not 
familiar with with pyxplot, so can only guess that it works it DVI mode 
with some set of specials that are not the dvips ones, or at least not 
*all* of the dvips ones. Without example input, it's hard to know more.

Joseph

From karl at freefriends.org  Fri Feb 14 00:16:47 2020
From: karl at freefriends.org (Karl Berry)
Date: Thu, 13 Feb 2020 16:16:47 -0700
Subject: l3backend: adding new DVI specials?
In-Reply-To: <dfa21bba-79da-a9da-893b-55a486e37000@morningstar2.co.uk>
Message-ID: <202002132316.01DNGlZ2016478@freefriends.org>

    that's exactly what is happening.

Oh. Well, good :). So how do dvipdfmx and dvisvgm come into it?

Just to ignore the special in case the user gives them a dvi file that
was processed with backend=dvips (so to speak)?

From preining at logic.at  Fri Feb 14 01:15:27 2020
From: preining at logic.at (Norbert Preining)
Date: Fri, 14 Feb 2020 09:15:27 +0900
Subject: latex or l3 changes in 2020: starting to request tcrm fonts?
In-Reply-To: <202002132259.01DMxxHZ015733@freefriends.org>
References: <20200213034735.2j66tfelb74b6bgg@bulldog.preining.info>
 <202002132259.01DMxxHZ015733@freefriends.org>
Message-ID: <20200214001527.trl5z3h7qg45zdgr@burischnitzel.preining.info>

Hi Karl,

On Thu, 13 Feb 2020, Karl Berry wrote:
> I moved the ec package (where the tc* fonts are) from
> c-fontsrecommended to c-basic, since no other solution is evident :(. -k

That is not really necessary, but since the tc defs have moved into
latex kernel, as Ulrike said, it might be a good idea. Thanks.

> P.S. I am surprised Debian packages are building DVI documentation.

Not the TeX Live packages, but some others do, this is out of my hand.
And in addition, in this case it was pyxplot that creates dvis.

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Fri Feb 14 01:17:45 2020
From: preining at logic.at (Norbert Preining)
Date: Fri, 14 Feb 2020 09:17:45 +0900
Subject: l3backend: adding new DVI specials?
In-Reply-To: <dfa21bba-79da-a9da-893b-55a486e37000@morningstar2.co.uk>
References: <202002132309.01DN9uSK016203@freefriends.org>
 <dfa21bba-79da-a9da-893b-55a486e37000@morningstar2.co.uk>
Message-ID: <20200214001745.dsfsh47vt5fwyk4e@burischnitzel.preining.info>

On Thu, 13 Feb 2020, Joseph Wright wrote:
> Nothing: that's exactly what is happening. As I said to Norbert, I'm not
> familiar with with pyxplot, so can only guess that it works it DVI mode with
> some set of specials that are not the dvips ones, or at least not *all* of
> the dvips ones. Without example input, it's hard to know more.

I am not familiar either, but it seems that it has its own dvi parsing
code, and thus got surprised by the special. The warning is emitted from
C code that obviously reads the dvi file.

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From joseph.wright at morningstar2.co.uk  Fri Feb 14 06:22:31 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Fri, 14 Feb 2020 05:22:31 +0000
Subject: l3backend: adding new DVI specials?
In-Reply-To: <202002132316.01DNGlZ2016478@freefriends.org>
References: <202002132316.01DNGlZ2016478@freefriends.org>
Message-ID: <b44ef8d6-f483-c796-ef4e-590691880137@morningstar2.co.uk>

On 13/02/2020 23:16, Karl Berry wrote:
>      that's exactly what is happening.
> 
> Oh. Well, good :). So how do dvipdfmx and dvisvgm come into it?

If a user doesn't give a backend option in DVI mode, they get dvips. But 
if they are actually using dvipdfmx or dvisvgm (say with no graphics so 
not 'worrying'), then the latter has to deal with an 'unexpected' 
\special line.

> Just to ignore the special in case the user gives them a dvi file that
> was processed with backend=dvips (so to speak)?

Yes

Joseph


From zdenek.wagner at gmail.com  Fri Feb 14 10:46:21 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 14 Feb 2020 10:46:21 +0100
Subject: l3backend: adding new DVI specials?
In-Reply-To: <b44ef8d6-f483-c796-ef4e-590691880137@morningstar2.co.uk>
References: <202002132316.01DNGlZ2016478@freefriends.org>
 <b44ef8d6-f483-c796-ef4e-590691880137@morningstar2.co.uk>
Message-ID: <CAC1phyZb_1hwsGrsBchsVhn3L8_MRWbfVCzM4AQa-dkiwPMOuA@mail.gmail.com>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

p? 14. 2. 2020 v 6:22 odes?latel Joseph Wright
<joseph.wright at morningstar2.co.uk> napsal:
>
> On 13/02/2020 23:16, Karl Berry wrote:
> >      that's exactly what is happening.
> >
> > Oh. Well, good :). So how do dvipdfmx and dvisvgm come into it?
>
> If a user doesn't give a backend option in DVI mode, they get dvips. But
> if they are actually using dvipdfmx or dvisvgm (say with no graphics so
> not 'worrying'), then the latter has to deal with an 'unexpected'
> \special line.
>
It's a long time when I used DVI last time but if I remember the
specification well, if a DVI driver does not understand a \special, it
should emit a warning and ignore it.

> > Just to ignore the special in case the user gives them a dvi file that
> > was processed with backend=dvips (so to speak)?
>
> Yes
>
> Joseph
>


From d.p.carlisle at gmail.com  Fri Feb 14 10:57:00 2020
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 14 Feb 2020 09:57:00 +0000
Subject: l3backend: adding new DVI specials?
In-Reply-To: <CAC1phyZb_1hwsGrsBchsVhn3L8_MRWbfVCzM4AQa-dkiwPMOuA@mail.gmail.com>
References: <202002132316.01DNGlZ2016478@freefriends.org>
 <b44ef8d6-f483-c796-ef4e-590691880137@morningstar2.co.uk>
 <CAC1phyZb_1hwsGrsBchsVhn3L8_MRWbfVCzM4AQa-dkiwPMOuA@mail.gmail.com>
Message-ID: <CAEW6iOhCuxaFq4xYkOYVqqrdcynsHqrEG2jenrb3J0PJOCLZhg@mail.gmail.com>

On Fri, 14 Feb 2020 at 09:49, Zdenek Wagner <zdenek.wagner at gmail.com> wrote:

>
> It's a long time when I used DVI last time but if I remember the
> specification well, if a DVI driver does not understand a \special, it
> should emit a warning and ignore it.
>
>
Yes but if you wrap in a regression test that's checking no new warnings
occur, then
"emit a warning and ignore" can still  cause tests to fail, which is
probably what happened here.

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200214/9f6fe1bb/attachment-0001.html>

From zdenek.wagner at gmail.com  Fri Feb 14 11:31:38 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 14 Feb 2020 11:31:38 +0100
Subject: l3backend: adding new DVI specials?
In-Reply-To: <CAEW6iOhCuxaFq4xYkOYVqqrdcynsHqrEG2jenrb3J0PJOCLZhg@mail.gmail.com>
References: <202002132316.01DNGlZ2016478@freefriends.org>
 <b44ef8d6-f483-c796-ef4e-590691880137@morningstar2.co.uk>
 <CAC1phyZb_1hwsGrsBchsVhn3L8_MRWbfVCzM4AQa-dkiwPMOuA@mail.gmail.com>
 <CAEW6iOhCuxaFq4xYkOYVqqrdcynsHqrEG2jenrb3J0PJOCLZhg@mail.gmail.com>
Message-ID: <CAC1phyYuwP3_j=SNg-xa=BL8eSF7QDWSi4xguyxNnfAEKhvDZg@mail.gmail.com>

p? 14. 2. 2020 v 10:57 odes?latel David Carlisle
<d.p.carlisle at gmail.com> napsal:
>
>
>
> On Fri, 14 Feb 2020 at 09:49, Zdenek Wagner <zdenek.wagner at gmail.com> wrote:
>>
>>
>> It's a long time when I used DVI last time but if I remember the
>> specification well, if a DVI driver does not understand a \special, it
>> should emit a warning and ignore it.
>>
>
> Yes but if you wrap in a regression test that's checking no new warnings occur, then
> "emit a warning and ignore" can still  cause tests to fail, which is probably what happened here.
>
Yes, but as was already mentioned, pdftex can distinguish between a
PDF mode and a DVI mode but cannot guess the DVI driver. The
regression test must follow specification and select the DVI driver
used further in the test. I am afraid there is no other possibility.
XeTeX invokes xdvipdfmx explicitly so it can know which driver is
used, it is not the case of pdftex in the DVI mode.

> David
>
>
Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


From P.Taylor at Rhul.Ac.Uk  Fri Feb 14 12:52:43 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 14 Feb 2020 11:52:43 +0000
Subject: [EXT] Re: l3backend: adding new DVI specials?
In-Reply-To: <CAC1phyYuwP3_j=SNg-xa=BL8eSF7QDWSi4xguyxNnfAEKhvDZg@mail.gmail.com>
References: <202002132316.01DNGlZ2016478@freefriends.org>
 <b44ef8d6-f483-c796-ef4e-590691880137@morningstar2.co.uk>
 <CAC1phyZb_1hwsGrsBchsVhn3L8_MRWbfVCzM4AQa-dkiwPMOuA@mail.gmail.com>
 <CAEW6iOhCuxaFq4xYkOYVqqrdcynsHqrEG2jenrb3J0PJOCLZhg@mail.gmail.com>
 <CAC1phyYuwP3_j=SNg-xa=BL8eSF7QDWSi4xguyxNnfAEKhvDZg@mail.gmail.com>
Message-ID: <69c76125-0de0-6a8b-9864-b2f948ea8204@Rhul.Ac.Uk>

Zdenek Wagner wrote:

> Yes, but as was already mentioned, pdftex can distinguish between a
> PDF mode and a DVI mode but cannot guess the DVI driver. The
> regression test must follow specification and select the DVI driver
> used further in the test. I am afraid there is no other possibility.
> XeTeX invokes xdvipdfmx explicitly so it can know which driver is
> used, it is not the case of pdftex in the DVI mode.

It seems to me (as an outsider to this discussion) that the best 
solution ? as opposed to the simplest ? would be to define a universal 
\special which all drivers would be required to "understand", and thus 
not generate a warning.? The data within this special could then use 
(for example) keyword:value pairs to pass different information ? or 
none at all ? to different drivers.

Philip Taylor

From zdenek.wagner at gmail.com  Fri Feb 14 13:16:53 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 14 Feb 2020 13:16:53 +0100
Subject: [EXT] Re: l3backend: adding new DVI specials?
In-Reply-To: <69c76125-0de0-6a8b-9864-b2f948ea8204@Rhul.Ac.Uk>
References: <202002132316.01DNGlZ2016478@freefriends.org>
 <b44ef8d6-f483-c796-ef4e-590691880137@morningstar2.co.uk>
 <CAC1phyZb_1hwsGrsBchsVhn3L8_MRWbfVCzM4AQa-dkiwPMOuA@mail.gmail.com>
 <CAEW6iOhCuxaFq4xYkOYVqqrdcynsHqrEG2jenrb3J0PJOCLZhg@mail.gmail.com>
 <CAC1phyYuwP3_j=SNg-xa=BL8eSF7QDWSi4xguyxNnfAEKhvDZg@mail.gmail.com>
 <69c76125-0de0-6a8b-9864-b2f948ea8204@Rhul.Ac.Uk>
Message-ID: <CAC1phybwXDWXYY7ZjixxZ_uPPYMwacKBpmLZjsjx8pZnheOLew@mail.gmail.com>

p? 14. 2. 2020 v 12:52 odes?latel Philip Taylor <P.Taylor at rhul.ac.uk> napsal:
>
> Zdenek Wagner wrote:
>
> > Yes, but as was already mentioned, pdftex can distinguish between a
> > PDF mode and a DVI mode but cannot guess the DVI driver. The
> > regression test must follow specification and select the DVI driver
> > used further in the test. I am afraid there is no other possibility.
> > XeTeX invokes xdvipdfmx explicitly so it can know which driver is
> > used, it is not the case of pdftex in the DVI mode.
>
> It seems to me (as an outsider to this discussion) that the best
> solution ? as opposed to the simplest ? would be to define a universal
> \special which all drivers would be required to "understand", and thus
> not generate a warning.  The data within this special could then use
> (for example) keyword:value pairs to pass different information ? or
> none at all ? to different drivers.
>
This would be equivalent to developing a new language which would make
little sense if we already have postscript and PDF. In addition, my
zwpagelayout package supports setting "black overprint". If PDF is
created directly, a PDF operator is used to change the graphic state.
Both pdftex and xdvipdfmx send a direct PDF code. However, pdftex
works with graphic states and indirect objects in a different way than
xdvipdfmx, so that I must not only send a different \special but alse
send it in a different time (i.e. place of the document). dvips cannot
use a PDF code but a PS \special. And again, in a different time. If I
want to output SVG, there is no way, black overprint is not supported
(it is not allowed to change the graphic state in an image which
should be includable). Now it is important to wanr a user that a
requested feature is not implemented. Without warning a user would
complain that the result is not what she wanted hence warning is
important and unavoidable. On the other hand, (x)dvipdfm(x) nowadays
properly interprets many dvips specials as well as many pdf literals.


> Philip Taylor


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


From P.Taylor at Rhul.Ac.Uk  Fri Feb 14 13:47:21 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 14 Feb 2020 12:47:21 +0000
Subject: [EXT] Re: l3backend: adding new DVI specials?
In-Reply-To: <CAC1phybwXDWXYY7ZjixxZ_uPPYMwacKBpmLZjsjx8pZnheOLew@mail.gmail.com>
References: <202002132316.01DNGlZ2016478@freefriends.org>
 <b44ef8d6-f483-c796-ef4e-590691880137@morningstar2.co.uk>
 <CAC1phyZb_1hwsGrsBchsVhn3L8_MRWbfVCzM4AQa-dkiwPMOuA@mail.gmail.com>
 <CAEW6iOhCuxaFq4xYkOYVqqrdcynsHqrEG2jenrb3J0PJOCLZhg@mail.gmail.com>
 <CAC1phyYuwP3_j=SNg-xa=BL8eSF7QDWSi4xguyxNnfAEKhvDZg@mail.gmail.com>
 <69c76125-0de0-6a8b-9864-b2f948ea8204@Rhul.Ac.Uk>
 <CAC1phybwXDWXYY7ZjixxZ_uPPYMwacKBpmLZjsjx8pZnheOLew@mail.gmail.com>
Message-ID: <57bbd093-6c6a-6392-751e-f8d089e9deab@Rhul.Ac.Uk>

Zden?k Wagner made three different points :

 1.

    That a universal special would be equivalent to developing a new language

 2.

    That different drivers require different specials to be inserted at different points in the source code

 3.

    That a special that cannot be handled by a particular driver should result in a warning.

I will address each in turn.

 1. I do not agree.? The underlying languages remain unchanged ? all I
    am proposing is that the \specials become polyglot, and add a tag
    identifying the language in which each component is expressed.
 2. Is easily addressed by including /all/ necessary specials in the
    source document at the appropriate places; a driver would then
    interpret only those elements of each \special that are targetted at
    that particular driver.
 3. Is the crux of the matter, but directly conflicts with David's point
    about regression testing.? Therefore we need to add one further
    \special, at the very beginning of the document, to indicate whether
    or not subsequent \specials should lead to warnings if not
    understood by any particular driver.

But perhaps the last is all that actually need to be implemented ? a 
universal \special, understood by all drivers, that indicates whether or 
not a warning should be issued when an unrecognised \special is 
encountered ...? Turn on for regression testing, off for production.

** Phil.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200214/af5870e4/attachment.html>

From zdenek.wagner at gmail.com  Fri Feb 14 14:08:26 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 14 Feb 2020 14:08:26 +0100
Subject: [EXT] Re: l3backend: adding new DVI specials?
In-Reply-To: <57bbd093-6c6a-6392-751e-f8d089e9deab@Rhul.Ac.Uk>
References: <202002132316.01DNGlZ2016478@freefriends.org>
 <b44ef8d6-f483-c796-ef4e-590691880137@morningstar2.co.uk>
 <CAC1phyZb_1hwsGrsBchsVhn3L8_MRWbfVCzM4AQa-dkiwPMOuA@mail.gmail.com>
 <CAEW6iOhCuxaFq4xYkOYVqqrdcynsHqrEG2jenrb3J0PJOCLZhg@mail.gmail.com>
 <CAC1phyYuwP3_j=SNg-xa=BL8eSF7QDWSi4xguyxNnfAEKhvDZg@mail.gmail.com>
 <69c76125-0de0-6a8b-9864-b2f948ea8204@Rhul.Ac.Uk>
 <CAC1phybwXDWXYY7ZjixxZ_uPPYMwacKBpmLZjsjx8pZnheOLew@mail.gmail.com>
 <57bbd093-6c6a-6392-751e-f8d089e9deab@Rhul.Ac.Uk>
Message-ID: <CAC1phyZLy=-v+ZNfLdjpoT6uMcz0nrQRJXECxoBmxLga_tUrzg@mail.gmail.com>

p? 14. 2. 2020 v 13:47 odes?latel Philip Taylor <P.Taylor at rhul.ac.uk> napsal:
>
> Zden?k Wagner made three different points :
>
> That a universal special would be equivalent to developing a new language
>
> That different drivers require different specials to be inserted at different points in the source code
>
> That a special that cannot be handled by a particular driver should result in a warning.
>
> I will address each in turn.
>
> I do not agree.  The underlying languages remain unchanged ? all I am proposing is that the \specials become polyglot, and add a tag identifying the language in which each component is expressed.
> Is easily addressed by including all necessary specials in the source document at the appropriate places; a driver would then interpret only those elements of each \special that are targetted at that particular driver.

No, It would IMHO lead to even higher confusion. Now we have just one
type of PS specials, with this suggestion we will need two:

a) the one understood by dvips but not xdvipdfmx
b) the one understood by both

Now we have only one PDF literal, after your suggestion we will need three:

a) one understood by pdftex (and luatex) but not xdvipdfmx
b) one understood by xdvipdfmx but not pdftex and luatex
c) one undestood by all of them

In addition, the authors of the macro packages will be forced to learn
all possible \specials for all possible drivers and use them.

Selecting a correct backend when loading a macro package and
documentation which is the default is IMHO the right way.

> Is the crux of the matter, but directly conflicts with David's point about regression testing.  Therefore we need to add one further \special, at the very beginning of the document, to indicate whether or not subsequent \specials should lead to warnings if not understood by any particular driver.
>
Several drivers already have a command line switch for disabling the warnings.

> But perhaps the last is all that actually need to be implemented ? a universal \special, understood by all drivers, that indicates whether or not a warning should be issued when an unrecognised \special is encountered ...  Turn on for regression testing, off for production.
>
> ** Phil.


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


From andreas_tex at freenet.de  Fri Feb 14 15:53:22 2020
From: andreas_tex at freenet.de (Andreas Scherer)
Date: Fri, 14 Feb 2020 15:53:22 +0100
Subject: [MacTeX] LaTeX format not rebuilt after package update
Message-ID: <d96bee88-7966-4801-ed65-ffb50048ceb4@freenet.de>

Dear all,

about a year ago, I installed the 'BasicTeX' distribution for MacOS
(version 10.12 on Mac Mini) plus a very few extra packages and was using
the TeX Live installation happily both as native 'pdflatex' and as
background process for Pandoc. I regularly ran 'tlmgr update --all'.

Yesterday (!), all of a sudden, Pandoc failed on a rather simple input
file that was successfully compiled into PDF before. Error inspection
revealed a message from 'pdflatex' along the lines

   LaTeX requires version 2020-02-02, but found version 2018-nn-nn

(plus an 'undefined macro' error message).

All *.fmt I could 'find' were located under
/usr/local/texlive/2019basictex/texmf-var/web2c/pdftex/ and had, alas!,
a creation date of the installation in April 2019. Closer inspection
showed that 'latex.ltx' indeed had '\edef\fmtversion {2020-02-02}' in
conflict with the older '(pdf)latex.fmt' file(s). After some studies I
ran the incantation 'fmtutil --sys --byfmt=latex' and 'fmtutil --sys
--byfmt=pdflatex' and all was fine again.

Today afternoon I noticed that package 'latex' (et al.) was updated
(again) by 'tlmgr update --all', but after

   running mktexlsr ...
   done running mktexlsr.
   regenerating fmtutil.cnf in \
      /usr/local/texlive/2019basictex/texmf-dist

all that appeared was the final message

   tlmgr: package log updated: \
      /usr/local/texlive/2019basictex/texmf-var/web2c/tlmgr.log

In contrast, my private Linux box with TeX Live did never show such a
situation, and after todays 'tlmgr update --all', it ran and reported

   running fmtutil-sys --no-error-if-no-engine=\
      luahbtex,luajittex,mfluajit --byfmt latex ...

and recreated all (four) '*latex.fmt' files as necessary.

My question is: How can I re-configure MacTeX/BasicTeX to follow suit?

TIA, Andreas

From jfkthame at gmail.com  Fri Feb 14 16:00:26 2020
From: jfkthame at gmail.com (Jonathan Kew)
Date: Fri, 14 Feb 2020 15:00:26 +0000
Subject: [EXT] Re: l3backend: adding new DVI specials?
In-Reply-To: <CAC1phyZLy=-v+ZNfLdjpoT6uMcz0nrQRJXECxoBmxLga_tUrzg@mail.gmail.com>
References: <202002132316.01DNGlZ2016478@freefriends.org>
 <b44ef8d6-f483-c796-ef4e-590691880137@morningstar2.co.uk>
 <CAC1phyZb_1hwsGrsBchsVhn3L8_MRWbfVCzM4AQa-dkiwPMOuA@mail.gmail.com>
 <CAEW6iOhCuxaFq4xYkOYVqqrdcynsHqrEG2jenrb3J0PJOCLZhg@mail.gmail.com>
 <CAC1phyYuwP3_j=SNg-xa=BL8eSF7QDWSi4xguyxNnfAEKhvDZg@mail.gmail.com>
 <69c76125-0de0-6a8b-9864-b2f948ea8204@Rhul.Ac.Uk>
 <CAC1phybwXDWXYY7ZjixxZ_uPPYMwacKBpmLZjsjx8pZnheOLew@mail.gmail.com>
 <57bbd093-6c6a-6392-751e-f8d089e9deab@Rhul.Ac.Uk>
 <CAC1phyZLy=-v+ZNfLdjpoT6uMcz0nrQRJXECxoBmxLga_tUrzg@mail.gmail.com>
Message-ID: <e365fe91-09dd-7d9a-3d8a-e26eabde8493@gmail.com>

On 14/02/2020 13:08, Zdenek Wagner wrote:
> Several drivers already have a command line switch for disabling the warnings.

This is the correct solution, IMO. Creating some kind of new internal 
syntax for silently-ignored-by-default "special" content just pushes the 
problem down a level without really solving anything.

Specials are inherently driver-specific and non-portable, and a driver 
cannot be expected to do anything with specials it doesn't support 
except to ignore them. Whether it does so silently or issues a warning 
is a choice for the user to make.

JK

From daleif at math.au.dk  Fri Feb 14 16:07:57 2020
From: daleif at math.au.dk (Lars Madsen)
Date: Fri, 14 Feb 2020 15:07:57 +0000
Subject: [MacTeX] LaTeX format not rebuilt after package update
In-Reply-To: <d96bee88-7966-4801-ed65-ffb50048ceb4@freenet.de>
References: <d96bee88-7966-4801-ed65-ffb50048ceb4@freenet.de>
Message-ID: <AM0PR01MB6290B99046D1BB4C49A73D46F2150@AM0PR01MB6290.eurprd01.prod.exchangelabs.com>

I think this is a known bug in basic tex has has been fixed.

Remember to run

tlmgr update --self

as well

(I normally use `tlmgr update --all --self`)

otherwise the update programme is never updated and thus the fix to actually recreate the format again is not implemented


/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math<http://au.dk/daleif at imf> / More information: http://au.dk/en/daleif at math<http://au.dk/en/daleif at imf>

________________________________
From: tex-live <tex-live-bounces+daleif=imf.au.dk at tug.org> on behalf of Andreas Scherer <andreas_tex at freenet.de>
Sent: 14 February 2020 15:53
To: TeX Live <tex-live at tug.org>
Subject: [MacTeX] LaTeX format not rebuilt after package update

Dear all,

about a year ago, I installed the 'BasicTeX' distribution for MacOS
(version 10.12 on Mac Mini) plus a very few extra packages and was using
the TeX Live installation happily both as native 'pdflatex' and as
background process for Pandoc. I regularly ran 'tlmgr update --all'.

Yesterday (!), all of a sudden, Pandoc failed on a rather simple input
file that was successfully compiled into PDF before. Error inspection
revealed a message from 'pdflatex' along the lines

   LaTeX requires version 2020-02-02, but found version 2018-nn-nn

(plus an 'undefined macro' error message).

All *.fmt I could 'find' were located under
/usr/local/texlive/2019basictex/texmf-var/web2c/pdftex/ and had, alas!,
a creation date of the installation in April 2019. Closer inspection
showed that 'latex.ltx' indeed had '\edef\fmtversion {2020-02-02}' in
conflict with the older '(pdf)latex.fmt' file(s). After some studies I
ran the incantation 'fmtutil --sys --byfmt=latex' and 'fmtutil --sys
--byfmt=pdflatex' and all was fine again.

Today afternoon I noticed that package 'latex' (et al.) was updated
(again) by 'tlmgr update --all', but after

   running mktexlsr ...
   done running mktexlsr.
   regenerating fmtutil.cnf in \
      /usr/local/texlive/2019basictex/texmf-dist

all that appeared was the final message

   tlmgr: package log updated: \
      /usr/local/texlive/2019basictex/texmf-var/web2c/tlmgr.log

In contrast, my private Linux box with TeX Live did never show such a
situation, and after todays 'tlmgr update --all', it ran and reported

   running fmtutil-sys --no-error-if-no-engine=\
      luahbtex,luajittex,mfluajit --byfmt latex ...

and recreated all (four) '*latex.fmt' files as necessary.

My question is: How can I re-configure MacTeX/BasicTeX to follow suit?

TIA, Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200214/d65bf8d9/attachment.html>

From andreas_tex at freenet.de  Fri Feb 14 17:53:53 2020
From: andreas_tex at freenet.de (Andreas Scherer)
Date: Fri, 14 Feb 2020 17:53:53 +0100
Subject: [MacTeX] LaTeX format not rebuilt after package update
In-Reply-To: <AM0PR01MB6290B99046D1BB4C49A73D46F2150@AM0PR01MB6290.eurprd01.prod.exchangelabs.com>
References: <d96bee88-7966-4801-ed65-ffb50048ceb4@freenet.de>
 <AM0PR01MB6290B99046D1BB4C49A73D46F2150@AM0PR01MB6290.eurprd01.prod.exchangelabs.com>
Message-ID: <a47a5616-dba1-b532-64ed-ea8608ed045e@freenet.de>

Lars,

> I think this is a known bug in basic tex has has been fixed.

Following your hint, I found both the October thread of this list (sic!)
and the updated BasicTeX package.

> tlmgr update --self

I have run this whenever 'tlmgr update --all' requested a "system
update" as well. It seems that this is _not_ enough to fix the reported
bug. Time permitting (not!), I'll try to install the updated BasicTeX.

Or rather not: I'll keep my installation as is and observe its reaction
to any future update of 'latex(2e)'. The next installation will most
likely be TL2020.

Thanks,
Andreas

From manfred at dante.de  Fri Feb 14 20:07:44 2020
From: manfred at dante.de (Manfred Lotz)
Date: Fri, 14 Feb 2020 20:07:44 +0100
Subject: verify_checksum: -5
Message-ID: <20200214200744.2d219b29@hogwart>

Running

$ tlmgr update --all 

I get

/usr/local/texlive/2019/bin/x86_64-linux//tlmgr: unexpected return
value from verify_checksum: -5


Any ideas?

-- 
Manfred

From koch at math.uoregon.edu  Fri Feb 14 20:27:31 2020
From: koch at math.uoregon.edu (Richard Koch)
Date: Fri, 14 Feb 2020 11:27:31 -0800
Subject: [MacTeX] LaTeX format not rebuilt after package update
Message-ID: <371CA640-20DD-41B2-BF2C-85488BAA2A11@math.uoregon.edu>

For those who are curious, let me explain why this error occurred. To create an install package, I install the appropriate version of TeX Live on my machine using the Unix install script. Then I copy the resulting TeX Live to a folder and ask Apple's PackageMaker to create an install package from that copy.

The Unix install script has several options which I set before installing. One of these options asks if formats should be created. For the full MacTeX, I create formats, which are thus in the install package. These formats may be recreated by the installer if the user has a different paper size.

Basic TeX is supposed to be small, so I don't create formats in the Unix install; instead they are created for everyone by the post-install script run by the BasicTeX installer.

Unfortunately, the "create formats" option of the Unix install script isn't just a choice for the initial install. It is also a choice for what tlmgr should do during updates. This possibility never occurred to me because I think of users as "people with a personal computer" rather than "or servers for whole groups of people."

The 2020 version of BasicTeX will not make this mistake.

Richard Koch




From news3 at nililand.de  Fri Feb 14 22:27:26 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 14 Feb 2020 22:27:26 +0100
Subject: verify_checksum: -5
References: <20200214200744.2d219b29@hogwart>
Message-ID: <11666yr2st9x0.dlg@nililand.de>

Am Fri, 14 Feb 2020 20:07:44 +0100 schrieb Manfred Lotz:

> Running
> 
> $ tlmgr update --all 
> 
> I get
> 
> /usr/local/texlive/2019/bin/x86_64-linux//tlmgr: unexpected return
> value from verify_checksum: -5
> 
> 
> Any ideas?

Are you using a second repository. E.g tlcontrib?

-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


From ralphrmartin at gmail.com  Fri Feb 14 22:54:48 2020
From: ralphrmartin at gmail.com (Ralph Martin)
Date: Fri, 14 Feb 2020 21:54:48 +0000
Subject: verify_checksum: -5
In-Reply-To: <11666yr2st9x0.dlg@nililand.de>
References: <20200214200744.2d219b29@hogwart> <11666yr2st9x0.dlg@nililand.de>
Message-ID: <9DF29615-C946-46A0-A7BD-923AF22C2339@gmail.com>



> On 14 Feb 2020, at 21:27, Ulrike Fischer <news3 at nililand.de> wrote:
> 
> Am Fri, 14 Feb 2020 20:07:44 +0100 schrieb Manfred Lotz:
> 
>> Running
>> 
>> $ tlmgr update --all 
>> 
>> I get
>> 
>> /usr/local/texlive/2019/bin/x86_64-linux//tlmgr: unexpected return
>> value from verify_checksum: -5
>> 
>> 
>> Any ideas?
> 
> Are you using a second repository. E.g tlcontrib?

Some while back, I also got this, but it went away when I switched my main repository. 
(I am also using tlcontrib).

Ralph

From manfred at dante.de  Fri Feb 14 23:08:07 2020
From: manfred at dante.de (Manfred Lotz)
Date: Fri, 14 Feb 2020 23:08:07 +0100
Subject: verify_checksum: -5
In-Reply-To: <11666yr2st9x0.dlg@nililand.de>
References: <20200214200744.2d219b29@hogwart> <11666yr2st9x0.dlg@nililand.de>
Message-ID: <20200214230807.4b777ec0@hogwart>

On Fri, 14 Feb 2020 22:27:26 +0100
Ulrike Fischer <news3 at nililand.de> wrote:

> Am Fri, 14 Feb 2020 20:07:44 +0100 schrieb Manfred Lotz:
> 
> > Running
> > 
> > $ tlmgr update --all 
> > 
> > I get
> > 
> > /usr/local/texlive/2019/bin/x86_64-linux//tlmgr: unexpected return
> > value from verify_checksum: -5
> > 
> > 
> > Any ideas?  
> 
> Are you using a second repository. E.g tlcontrib?
> 

2x yes

                 
List of repositories (with tags if set):
	http://contrib.texlive.info/current (tlcontrib)
	http://mirror.ctan.org/systems/texlive/tlnet (main)


-- 
Manfred


From news3 at nililand.de  Fri Feb 14 23:39:41 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 14 Feb 2020 23:39:41 +0100
Subject: verify_checksum: -5
References: <20200214200744.2d219b29@hogwart> <11666yr2st9x0.dlg@nililand.de>
 <20200214230807.4b777ec0@hogwart>
Message-ID: <1slfkqu631ah8.dlg@nililand.de>

Am Fri, 14 Feb 2020 23:08:07 +0100 schrieb Manfred Lotz:

> 2x yes
> 
>                  
> List of repositories (with tags if set):
> 	http://contrib.texlive.info/current (tlcontrib)
> 	http://mirror.ctan.org/systems/texlive/tlnet (main)

Try to remove tlcontrib. It helped me and Joseph ...

-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


From preining at logic.at  Fri Feb 14 23:40:26 2020
From: preining at logic.at (Norbert Preining)
Date: Sat, 15 Feb 2020 07:40:26 +0900
Subject: verify_checksum: -5
In-Reply-To: <20200214200744.2d219b29@hogwart>
References: <20200214200744.2d219b29@hogwart>
Message-ID: <20200214224026.fbgwxfov275xvcnu@bulldog.preining.info>

Hi Manfred, hi all,

> /usr/local/texlive/2019/bin/x86_64-linux//tlmgr: unexpected return
> value from verify_checksum: -5

THis comes from contrib.texlive.info as repository, and my GPG key
being expired in your database.

Please redo
	curl -fsSL https://www.preining.info/rsa.asc | tlmgr key add -
and it will be fixed.

My GPG keys have validity only for one year, and I extended the validity
each year. (Safety measure - if the key is stolen it can only be used
for a certain time, even if revoked).

The error message is strange, though, and I got already reports and try
to find out why, because it shouldn't be like this.

Can you also please send me the REvision number of
	tlpkg/TeXLive/TLCrypto.pm
	texmf-dist/scripts/texlive/tlmgr.pl
(these numbers are in the top of the file)

Thanks

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Fri Feb 14 23:50:47 2020
From: karl at freefriends.org (Karl Berry)
Date: Fri, 14 Feb 2020 15:50:47 -0700
Subject: [MacTeX] LaTeX format not rebuilt after package update
In-Reply-To: <d96bee88-7966-4801-ed65-ffb50048ceb4@freenet.de>
Message-ID: <202002142250.01EMolBY031399@freefriends.org>

Hi Andreas,

    My question is: How can I re-configure MacTeX/BasicTeX to follow suit?

tlmgr option formats 1

tlmgr option show
will report all options and their values.

tlmgr option --help
will give a more verbose description, same as what's online at
https://tug.org/texlive/doc/tlmgr.html#option

(I guess I should change the description of "formats" to say
"on installation or update".) --best, karl.

From manfred at dante.de  Sat Feb 15 07:17:36 2020
From: manfred at dante.de (Manfred Lotz)
Date: Sat, 15 Feb 2020 07:17:36 +0100
Subject: verify_checksum: -5
In-Reply-To: <20200214224026.fbgwxfov275xvcnu@bulldog.preining.info>
References: <20200214200744.2d219b29@hogwart>
 <20200214224026.fbgwxfov275xvcnu@bulldog.preining.info>
Message-ID: <20200215071736.794a25af@hogwart>

Hi Norbert,

On Sat, 15 Feb 2020 07:40:26 +0900
Norbert Preining <preining at logic.at> wrote:

> Hi Manfred, hi all,
> 
> > /usr/local/texlive/2019/bin/x86_64-linux//tlmgr: unexpected return
> > value from verify_checksum: -5  
> 
> THis comes from contrib.texlive.info as repository, and my GPG key
> being expired in your database.
> 
> Please redo
> 	curl -fsSL https://www.preining.info/rsa.asc | tlmgr key add -
> and it will be fixed.
> 

Done and things are fixed now. Thanks.

> My GPG keys have validity only for one year, and I extended the
> validity each year. (Safety measure - if the key is stolen it can
> only be used for a certain time, even if revoked).
> 
> The error message is strange, though, 

Agree.

> and I got already reports and
> try to find out why, because it shouldn't be like this.
> 
> Can you also please send me the REvision number of
> 	tlpkg/TeXLive/TLCrypto.pm

$Revision: 52158 $

> 	texmf-dist/scripts/texlive/tlmgr.pl

$Revision: 53568 $


-- 
Manfred

From preining at logic.at  Sat Feb 15 09:29:30 2020
From: preining at logic.at (Norbert Preining)
Date: Sat, 15 Feb 2020 17:29:30 +0900
Subject: verify_checksum: -5
In-Reply-To: <20200215071736.794a25af@hogwart>
References: <20200214200744.2d219b29@hogwart>
 <20200214224026.fbgwxfov275xvcnu@bulldog.preining.info>
 <20200215071736.794a25af@hogwart>
Message-ID: <20200215082930.mivbnxc56kwxmnvp@bulldog.preining.info>

Hi Manfred, hi all,

> > The error message is strange, though, 
> 
> Agree.

I found the bug ... but takes a bit. There are three (3!) places that
do the parsing of the return values, which is stupid and needs
refactoring, even if the semantics are slightly different.

Please wait a bit ...

Note to myself:
- tlmgr.pl setup_one_remotetlpdb does the check, and in case of expired
  sigs just continues.
- then we jump in TLPDB where the from_file routine again does a check
  and there the signature is not correctly checked.
Solutions:
- tlmgr/TLPDB should not reject the signature
- refactor signature/verify_checksum return value checking into a
  separate function

Best

Norbert

--
PREINING Norbert                               http://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From andreas_tex at freenet.de  Sat Feb 15 10:18:39 2020
From: andreas_tex at freenet.de (Andreas Scherer)
Date: Sat, 15 Feb 2020 10:18:39 +0100
Subject: [MacTeX] LaTeX format not rebuilt after package update
In-Reply-To: <202002142250.01EMolBY031399@freefriends.org>
References: <202002142250.01EMolBY031399@freefriends.org>
Message-ID: <86e0366c-2260-74ba-89fb-4cbb712a4842@freenet.de>

Karl,

> tlmgr option formats 1

That's what I was looking for. (Not! I never came around to studying
'tlmgr' indepth, nor was there any need in the past years.)

Thanks,
Andreas

From martin.gieseking at uos.de  Sun Feb 16 13:10:55 2020
From: martin.gieseking at uos.de (Martin Gieseking)
Date: Sun, 16 Feb 2020 13:10:55 +0100
Subject: l3backend: adding new DVI specials?
In-Reply-To: <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
References: <20200213042637.zr64siypl6dlkmuj@bulldog.preining.info>
 <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
Message-ID: <0b33ac1f-13c4-f3fe-f81d-3e412ad8ca63@uos.de>

Am 13.02.2020 um 08:54 schrieb Joseph Wright:
> Initially, we simply added everything as \special lines directly 
> containing the PostScript, but that leads to warnings with dvipdfmx if 
> the right backend isn't selected. It also meant there was lots of 
> material in the \showbox output. Moving it to a .pro file meant that 
> inclusion used only one line
> 
>  ??? \special{header=l3backend-dvips.pro}
> 
> and this line is simply ignored by dvipdfmx. We realised that other 
> systems might not know this one line, but felt that it was hopefully 
> possible that a similar '"skip header=" lines' might be added to any 
> cases. The one we had in mind was dvisvgm: I'm not familiar with pyxplot.

Hi Joseph,

Karl told me about this this discussion a couple of hours ago. So here's 
a slightly delayed info on dvisvgm regarding "header=" specials:
dvisvgm supports all dvips specials including "header=" and processes 
them accordingly. Actually, it nicely converts most DVI files created 
with the dvips backend. Therefore it shouldn't be necessary to change 
the handling of "header=" specials. dvisvgm will most likely swallow the 
planned additional special unnoticed.

Best regards,
Martin

From 136809626 at qq.com  Sun Feb 16 18:38:33 2020
From: 136809626 at qq.com (=?ISO-8859-1?B?eWlud2VpcWk=?=)
Date: Mon, 17 Feb 2020 01:38:33 +0800
Subject: Can not cite the paper in the correct format (author-year)
Message-ID: <tencent_A4164635A40AC22D47F57BB7E7EF6DEC8605@qq.com>

Dear:


I have a problem relates to cite paper. I think I have set the correct format for the citaion(author-year). See the picture below:



However the format is not look like the citation style I set (author-year). When I view in PDF, it still have a problem. See the picture below:





Could you please tell what should I do?


Hoping you have a good day!


Best&nbsp;


Weiqi Yin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200217/7bb15558/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: C761F966 at A448000B.197E495E.png.jpg
Type: image/jpeg
Size: 40487 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200217/7bb15558/attachment-0003.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 92FA03D9 at D2F45448.197E495E.png.jpg
Type: image/jpeg
Size: 109951 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200217/7bb15558/attachment-0004.jpg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 340D07AA at 763BBC2B.197E495E.png.jpg
Type: image/jpeg
Size: 38437 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200217/7bb15558/attachment-0005.jpg>

From 136809626 at qq.com  Sun Feb 16 19:23:07 2020
From: 136809626 at qq.com (=?ISO-8859-1?B?eWlud2VpcWk=?=)
Date: Mon, 17 Feb 2020 02:23:07 +0800
Subject: (Updata) Can not cite the paper in the correct format (author-year)
Message-ID: <tencent_D79C42A0E5907FBFF434BE75DD5CC124850A@qq.com>

Dear:


Hello again!&nbsp;I think that is the format(BIBTEX) I download is not correct. I download from other source, it works!&nbsp; Sorry for me to interrupt you again.


Hoping you have a good day!


Best 


Weiqi Yin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200217/5baf1340/attachment.html>

From preining at logic.at  Mon Feb 17 04:27:06 2020
From: preining at logic.at (Norbert Preining)
Date: Mon, 17 Feb 2020 12:27:06 +0900
Subject: verify_checksum: -5
In-Reply-To: <20200215082930.mivbnxc56kwxmnvp@bulldog.preining.info>
References: <20200214200744.2d219b29@hogwart>
 <20200214224026.fbgwxfov275xvcnu@bulldog.preining.info>
 <20200215071736.794a25af@hogwart>
 <20200215082930.mivbnxc56kwxmnvp@bulldog.preining.info>
Message-ID: <20200217032706.zruewaqsjh7uw6mp@bulldog.preining.info>

Hi Manfred, hi all,

I have fixed the problem. I never realized it because it only happens
when one uses an URL for tlcontrib, and I used the local master, so I
didn't see it.

With the fixes I commited today, it should look like:

$ tlmgr update --list
tlmgr: package repositories
	main = /home/norbert/public_html/tlnet (verified)
	tlcontrib = https://contrib.texlive.info/2019 (not verified: valid signature with expired key)
...

I hope this is enough information.

All the best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From manfred at dante.de  Mon Feb 17 05:54:08 2020
From: manfred at dante.de (Manfred Lotz)
Date: Mon, 17 Feb 2020 05:54:08 +0100
Subject: verify_checksum: -5
In-Reply-To: <20200217032706.zruewaqsjh7uw6mp@bulldog.preining.info>
References: <20200214200744.2d219b29@hogwart>
 <20200214224026.fbgwxfov275xvcnu@bulldog.preining.info>
 <20200215071736.794a25af@hogwart>
 <20200215082930.mivbnxc56kwxmnvp@bulldog.preining.info>
 <20200217032706.zruewaqsjh7uw6mp@bulldog.preining.info>
Message-ID: <20200217055408.0fb9033c@hogwart>

On Mon, 17 Feb 2020 12:27:06 +0900
Norbert Preining <preining at logic.at> wrote:

> Hi Manfred, hi all,
> 
> I have fixed the problem. I never realized it because it only happens
> when one uses an URL for tlcontrib, and I used the local master, so I
> didn't see it.
> 
> With the fixes I commited today, it should look like:
> 
> $ tlmgr update --list
> tlmgr: package repositories
> 	main = /home/norbert/public_html/tlnet (verified)
> 	tlcontrib = https://contrib.texlive.info/2019 (not verified:
> valid signature with expired key) ...
> 
> I hope this is enough information.
> 

Yes, this is perfect.

Thanks a lot.


-- 
Best,
Manfred

From ralphrmartin at gmail.com  Mon Feb 17 10:40:49 2020
From: ralphrmartin at gmail.com (Ralph Martin)
Date: Mon, 17 Feb 2020 09:40:49 +0000
Subject: verify_checksum: -5
In-Reply-To: <20200217032706.zruewaqsjh7uw6mp@bulldog.preining.info>
References: <20200214200744.2d219b29@hogwart>
 <20200214224026.fbgwxfov275xvcnu@bulldog.preining.info>
 <20200215071736.794a25af@hogwart>
 <20200215082930.mivbnxc56kwxmnvp@bulldog.preining.info>
 <20200217032706.zruewaqsjh7uw6mp@bulldog.preining.info>
Message-ID: <A97A6A4C-03B0-4C87-89AF-5D6CA8B06C7A@gmail.com>

Norbert

> On 17 Feb 2020, at 03:27, Norbert Preining <preining at logic.at> wrote:
> 
> With the fixes I commited today, it should look like:
> 
> $ tlmgr update --list
> tlmgr: package repositories
> 	main = ... (verified)
> 	tlcontrib = ... (not verified: valid signature with expired key)
> ...
> 
> I hope this is enough information.

Well, it is certainly clearer where the problem lies - but it would be much more helpful to users if it gave some info on how to renew the expired key.

Hope this helps!

Ralph

From preining at logic.at  Tue Feb 18 03:10:04 2020
From: preining at logic.at (Norbert Preining)
Date: Tue, 18 Feb 2020 11:10:04 +0900
Subject: verify_checksum: -5
In-Reply-To: <A97A6A4C-03B0-4C87-89AF-5D6CA8B06C7A@gmail.com>
References: <20200214200744.2d219b29@hogwart>
 <20200214224026.fbgwxfov275xvcnu@bulldog.preining.info>
 <20200215071736.794a25af@hogwart>
 <20200215082930.mivbnxc56kwxmnvp@bulldog.preining.info>
 <20200217032706.zruewaqsjh7uw6mp@bulldog.preining.info>
 <A97A6A4C-03B0-4C87-89AF-5D6CA8B06C7A@gmail.com>
Message-ID: <20200218021004.pk6lz3q4ybeovuui@bulldog.preining.info>

Hi Ralph,

On Mon, 17 Feb 2020, Ralph Martin wrote:
> Well, it is certainly clearer where the problem lies - but it would be much more helpful to users if it gave some info on how to renew the expired key.

In the next release of tlmgr, if there is a problem like this, there
will be a link given to a web page describing some common procedures.
Anything else would be far too long to output by tlmgr.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From ralphrmartin at gmail.com  Tue Feb 18 09:00:18 2020
From: ralphrmartin at gmail.com (Ralph Martin)
Date: Tue, 18 Feb 2020 08:00:18 +0000
Subject: verify_checksum: -5
In-Reply-To: <20200218021004.pk6lz3q4ybeovuui@bulldog.preining.info>
References: <20200214200744.2d219b29@hogwart>
 <20200214224026.fbgwxfov275xvcnu@bulldog.preining.info>
 <20200215071736.794a25af@hogwart>
 <20200215082930.mivbnxc56kwxmnvp@bulldog.preining.info>
 <20200217032706.zruewaqsjh7uw6mp@bulldog.preining.info>
 <A97A6A4C-03B0-4C87-89AF-5D6CA8B06C7A@gmail.com>
 <20200218021004.pk6lz3q4ybeovuui@bulldog.preining.info>
Message-ID: <043DB2BE-ECDD-4D74-9682-BACA79EAB00F@gmail.com>

Hi Norbert

> On 18 Feb 2020, at 02:10, Norbert Preining <preining at logic.at> wrote:
> On Mon, 17 Feb 2020, Ralph Martin wrote:
>> ... it would be much more helpful to users if it gave some info on how to renew the expired key.
> 
> In the next release of tlmgr, if there is a problem like this, there
> will be a link given to a web page describing some common procedures.

Perfect, just what is needed.

Ralph



From joseph.wright at morningstar2.co.uk  Tue Feb 18 20:20:56 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 18 Feb 2020 19:20:56 +0000
Subject: Dependencies
Message-ID: <3f2888a2-88a6-3f89-2e33-16bd8c14a2e7@morningstar2.co.uk>

Hello all,

Some more dependencies I've noticed (independent of engine used: there 
are others for hyperref but on a per-engine basis):

hyperref:
- ltxcmds
- kvsetkeys
- kvdefinekeys
- pdfescape
- letltxmacro
- intcalc
- etexcmds
- bitset
- atbegshi
- rerunfilecheck
- refcount
- gettitlestring

bitset:
- bigintcalc

rerunfilecheck:
- uniquecounter

Joseph

From karl at freefriends.org  Tue Feb 18 23:46:05 2020
From: karl at freefriends.org (Karl Berry)
Date: Tue, 18 Feb 2020 15:46:05 -0700
Subject: Dependencies
In-Reply-To: <3f2888a2-88a6-3f89-2e33-16bd8c14a2e7@morningstar2.co.uk>
Message-ID: <202002182246.01IMk5BE011968@freefriends.org>

    Some more dependencies I've noticed (independent of engine used: 

Thanks, installed all.

From preining at logic.at  Wed Feb 19 02:13:42 2020
From: preining at logic.at (Norbert Preining)
Date: Wed, 19 Feb 2020 10:13:42 +0900
Subject: l3backend: adding new DVI specials?
In-Reply-To: <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
References: <20200213042637.zr64siypl6dlkmuj@bulldog.preining.info>
 <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
Message-ID: <20200219011342.r5h5bx27qezle3fo@burischnitzel.preining.info>

Hi Joseph,

coming back to this ...

>     \special{header=l3backend-dvips.pro}

Ok, so you load
	l3backend-$DRIVER$
Is there a way to set the used driver, or disable loading any of these
backends at all?

pyxplot (not that I am really interested in it, it just breaks a lot of
things in Debian and I want it fixed) is a dvi driver - it interprets 
dvi code generated with latex. Nothing load, plain latex.

Is there a way to say
	driver=ignore
	driver=pyxplot
or similar?

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From joseph.wright at morningstar2.co.uk  Wed Feb 19 09:14:35 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 19 Feb 2020 08:14:35 +0000
Subject: l3backend: adding new DVI specials?
In-Reply-To: <20200219011342.r5h5bx27qezle3fo@burischnitzel.preining.info>
References: <20200213042637.zr64siypl6dlkmuj@bulldog.preining.info>
 <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
 <20200219011342.r5h5bx27qezle3fo@burischnitzel.preining.info>
Message-ID: <2e6b8bc2-e9f4-7828-f977-30610a490696@morningstar2.co.uk>

On 19/02/2020 01:13, Norbert Preining wrote:
> Hi Joseph,
> 
> coming back to this ...
> 
>>      \special{header=l3backend-dvips.pro}
> 
> Ok, so you load
> 	l3backend-$DRIVER$
> Is there a way to set the used driver, or disable loading any of these
> backends at all?
 >
> pyxplot (not that I am really interested in it, it just breaks a lot of
> things in Debian and I want it fixed) is a dvi driver - it interprets
> dvi code generated with latex. Nothing load, plain latex.
> 
> Is there a way to say
> 	driver=ignore
> 	driver=pyxplot
> or similar?
> 
> Best
> 
> Norbert

The problem with saying 'disable the backend' is what then happens with 
things that *need* them, such as colour, rotation, hyperlinks, etc. The 
starting point in writing the backend code was that there are a small 
number of very well-established backends

- dvips
- dvipdfmx
- dvisvgm
- xdvipdfmx
- Direct PDF output

in use today, and that with a reasonable amount of effort one can 
support all of them. Currently, this list is hard-coded.

pyxplot isn't in TeX Live, so testing against it is going to be hard. 
Moreover, it doesn't seem to have documented \special support: I can't 
see anything about TeX in the manual I found.

You could try setting the backend to dvipdfmx, as that don't write a 
header, and if there are no other specials in use, won't actually show up.

     \PassOptionsToPackage{backend = dvipdfmx}{expl3}

would probably be the easiest way.

Joseph


From preining at logic.at  Wed Feb 19 11:08:11 2020
From: preining at logic.at (Norbert Preining)
Date: Wed, 19 Feb 2020 19:08:11 +0900
Subject: l3backend: adding new DVI specials?
In-Reply-To: <2e6b8bc2-e9f4-7828-f977-30610a490696@morningstar2.co.uk>
References: <20200213042637.zr64siypl6dlkmuj@bulldog.preining.info>
 <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
 <20200219011342.r5h5bx27qezle3fo@burischnitzel.preining.info>
 <2e6b8bc2-e9f4-7828-f977-30610a490696@morningstar2.co.uk>
Message-ID: <20200219100811.ycbytbyxdojbd62c@burischnitzel.preining.info>

Hi Joseph,

> The problem with saying 'disable the backend' is what then happens with
> things that *need* them, such as colour, rotation, hyperlinks, etc. The

I understand, but none of them are interpreted, only "color" special is
interpreted by pyxplot. It does not contain arbitrary TeX documents,
just minimal latex document with a page containing the plot.

>     \PassOptionsToPackage{backend = dvipdfmx}{expl3}

Maybe I do it wrong, but that does not work:
	\PassOptionsToPackage{backend = dvipdfmx}{expl3}
	\documentclass{article}
	\begin{document}
	Hello World
	\end{document}
still contains the dvi special for loading l3backend-dvips.pro

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From joseph.wright at morningstar2.co.uk  Wed Feb 19 11:42:22 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 19 Feb 2020 10:42:22 +0000
Subject: l3backend: adding new DVI specials?
In-Reply-To: <20200219100811.ycbytbyxdojbd62c@burischnitzel.preining.info>
References: <20200213042637.zr64siypl6dlkmuj@bulldog.preining.info>
 <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
 <20200219011342.r5h5bx27qezle3fo@burischnitzel.preining.info>
 <2e6b8bc2-e9f4-7828-f977-30610a490696@morningstar2.co.uk>
 <20200219100811.ycbytbyxdojbd62c@burischnitzel.preining.info>
Message-ID: <9f42b4dc-021d-1e43-354a-83e02f7f51ba@morningstar2.co.uk>

On 19/02/2020 10:08, Norbert Preining wrote:
> Hi Joseph,
> 
>> The problem with saying 'disable the backend' is what then happens with
>> things that *need* them, such as colour, rotation, hyperlinks, etc. The
> 
> I understand, but none of them are interpreted, only "color" special is
> interpreted by pyxplot. It does not contain arbitrary TeX documents,
> just minimal latex document with a page containing the plot.

Sure, but starting from the 'writing support macros' end we want to have 
a known set of functions. At present, I can't even find information on 
what type of colour specials pyxplot supports.

>>      \PassOptionsToPackage{backend = dvipdfmx}{expl3}
> 
> Maybe I do it wrong, but that does not work:
> 	\PassOptionsToPackage{backend = dvipdfmx}{expl3}
> 	\documentclass{article}
> 	\begin{document}
> 	Hello World
> 	\end{document}
> still contains the dvi special for loading l3backend-dvips.pro

I realised that after I sent it: you'd need to explicitly load expl3. 
Probably best just to

     \RequirePackage[backend=dvipdfmx]{expl3}

although you could force in various other ways.

Joseph

From karl at freefriends.org  Wed Feb 19 23:09:18 2020
From: karl at freefriends.org (Karl Berry)
Date: Wed, 19 Feb 2020 15:09:18 -0700
Subject: trying tlcritical (verification error cleanup)
Message-ID: <202002192209.01JM9I69025265@freefriends.org>

Hello TL - Norbert has made some changes to tlmgr to provide more
specific error messages when verification fails. They are in tlcritical
now. We would dearly like to have some more testing before we push this
out to the world. 

So if anyone is up for trying tlcritical, please do, and let us know.

The issue isn't so much the new error messages as making sure the
non-error cases, which are the vast majority, still work. So don't worry
about trying to exercise the new stuff, just do what you normally do and
make sure it works.

There are no other notable updates in this tlcritical round.
--thanks, karl.

From maria at matve.de  Thu Feb 20 07:47:49 2020
From: maria at matve.de (Maria Matveev)
Date: Thu, 20 Feb 2020 07:47:49 +0100
Subject: Use of uninitialized value $r in split at
 /usr/share/texlive/tlpkg/TeXLive/TLUtils.pm line 4157.
Message-ID: <97a9d244-373b-8ceb-c0d3-61e64dcba343@matve.de>

Dear TeX-Live-Team,

I tried to use tlmgr to install a missing package, namely extarrows, as 
in 
https://tex.stackexchange.com/questions/73016/how-do-i-install-an-individual-package-on-a-linux-system

Since I got an error, I tried to resolve it as in 
https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=907415

Cannot determine type of tlpdb from /home/maria/texmf!
cannot setup TLPDB in /home/maria/texmf at /usr/bin/tlmgr line 6424.

Trying to solve this, I got an error message, which I as asked report to 
you now.

You can see all my actions in the screenshot attached.

I am running on an Ubuntu 18.04, and I think that I installed 
texlive-base system-wide, but I am not 100% sure about that.

Best regards

Maria

Error Message:

sudo /usr/bin/tlmgr install extarrows
(running on Debian, switching to user mode!)
/usr/bin/tlmgr: Initialization failed (in setup_unix_one):
/usr/bin/tlmgr: could not find a usable xzdec.
/usr/bin/tlmgr: Please install xzdec and try again.
tlmgr: Couldn't set up the necessary programs.
Installation of packages is not supported.
Please report to texlive at tug.org.
Use of uninitialized value $r in split at 
/usr/share/texlive/tlpkg/TeXLive/TLUtils.pm line 4157.
tlmgr: Cannot find main repository, you have to tag one as main!

-------------- next part --------------
A non-text attachment was scrubbed...
Name: maria_bug.png
Type: image/png
Size: 143986 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200220/64490151/attachment-0001.png>

From joseph.wright at morningstar2.co.uk  Fri Feb 21 00:03:21 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Thu, 20 Feb 2020 23:03:21 +0000
Subject: l3backend: adding new DVI specials?
In-Reply-To: <9f42b4dc-021d-1e43-354a-83e02f7f51ba@morningstar2.co.uk>
References: <20200213042637.zr64siypl6dlkmuj@bulldog.preining.info>
 <2c300c61-bbf6-78cf-e5bb-f56527e8f850@morningstar2.co.uk>
 <20200219011342.r5h5bx27qezle3fo@burischnitzel.preining.info>
 <2e6b8bc2-e9f4-7828-f977-30610a490696@morningstar2.co.uk>
 <20200219100811.ycbytbyxdojbd62c@burischnitzel.preining.info>
 <9f42b4dc-021d-1e43-354a-83e02f7f51ba@morningstar2.co.uk>
Message-ID: <7a06281e-0c7b-de4c-84d4-fbfe4d922be6@morningstar2.co.uk>

On 19/02/2020 10:42, Joseph Wright wrote:
> On 19/02/2020 10:08, Norbert Preining wrote:
>> Hi Joseph,
>>
>>> The problem with saying 'disable the backend' is what then happens with
>>> things that *need* them, such as colour, rotation, hyperlinks, etc. The
>>
>> I understand, but none of them are interpreted, only "color" special is
>> interpreted by pyxplot. It does not contain arbitrary TeX documents,
>> just minimal latex document with a page containing the plot.
> 
> Sure, but starting from the 'writing support macros' end we want to have 
> a known set of functions. At present, I can't even find information on 
> what type of colour specials pyxplot supports.
> 
>>> ???? \PassOptionsToPackage{backend = dvipdfmx}{expl3}
>>
>> Maybe I do it wrong, but that does not work:
>> ????\PassOptionsToPackage{backend = dvipdfmx}{expl3}
>> ????\documentclass{article}
>> ????\begin{document}
>> ????Hello World
>> ????\end{document}
>> still contains the dvi special for loading l3backend-dvips.pro
> 
> I realised that after I sent it: you'd need to explicitly load expl3. 
> Probably best just to
> 
>  ??? \RequirePackage[backend=dvipdfmx]{expl3}
> 
> although you could force in various other ways.
> 
> Joseph

We have a better plan to be released probably tomorrow. I'm going to add 
a new option "suppress-backend-headers" which will do exactly what it 
says. Once things are updated

     \ExplSyntaxOn
     \keys_set:nn{sys}{suppress-backend-headers=true}
     \ExplSyntaxOff

will do the job: put that anywhere before \begin{document}, so e.g. 
right at the start of a run.

Joseph

From bvoisin at icloud.com  Fri Feb 21 09:24:49 2020
From: bvoisin at icloud.com (Bruno Voisin)
Date: Fri, 21 Feb 2020 09:24:49 +0100
Subject: trying tlcritical (verification error cleanup)
Message-ID: <1F411755-F9DA-4254-850A-7B89F5F4507A@icloud.com>

Installing tlmgr from tlcritical, then when trying to get the list of available updates from a tl repo here's the kind of output that's obtained (with TeX Live Utility, the Mac GUI to tlmgr):

Successfully executed `/Library/TeX/texbin/tlmgr --machine-readable --repository https://mirrors.chevalier.io/CTAN/systems/texlive/tlnet/ update --list --all`

start load https://mirrors.chevalier.io/CTAN/systems/texlive/tlnet/
Use of uninitialized value $status in numeric eq (==) at /Library/TeX/texbin/tlmgr line 7025.
Use of uninitialized value $status in numeric eq (==) at /Library/TeX/texbin/tlmgr line 7041.
finish load https://mirrors.chevalier.io/CTAN/systems/texlive/tlnet/

and the list of available updates is a long list of "local version is newer".

Just before using tlcritical, there was instead the usual list of a couple of available updates.

Given the line number references above, the problem seems to be with verify_checksum_and_check_return from TLCrypto.pm (revisions 53842 of tlmgr.pl and 53820 of TLCrypto.pm). That's about as far as I could go.

Attached is a screenshot of what TeX Live Utility returns. It doesn't provide more info than the above, except perhaps the revision numbers which tlmgr thinks are current on the tl repo. For example, tlmgr thinks that the current revision of amsmath at https://mirrors.chevalier.io/CTAN/systems/texlive/tlnet is 52854: it's not, I checked manually (downloading texlive.tlpdb and inspecting it in a text editor), the current revision is indeed 53640.

Bruno Voisin

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200221/0d432e8b/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Capture d?e?cran 2020-02-21 a? 09.14.55.png
Type: image/png
Size: 758112 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200221/0d432e8b/attachment-0001.png>

From preining at logic.at  Fri Feb 21 09:35:42 2020
From: preining at logic.at (Norbert Preining)
Date: Fri, 21 Feb 2020 17:35:42 +0900
Subject: trying tlcritical (verification error cleanup)
In-Reply-To: <1F411755-F9DA-4254-850A-7B89F5F4507A@icloud.com>
References: <1F411755-F9DA-4254-850A-7B89F5F4507A@icloud.com>
Message-ID: <20200221083542.wifqfk4o54nunnhg@burischnitzel.preining.info>

Hi Bruno,

thanks!

> Given the line number references above, the problem seems to be with verify_checksum_and_check_return from TLCrypto.pm (revisions 53842 of tlmgr.pl and 53820 of TLCrypto.pm). That's about as far as I could go.

Can you please do:
- open TLCrypto.pm (in tlpkg/TeXLive/)
- go to line 250 and add
	return(0, $r);

After that the area around there should look like:

sub verify_checksum_and_check_return {
  my ($file, $path, $is_main, $localcopymode) = @_;
  my ($r, $m) = verify_checksum($file, "$path.$ChecksumExtension");
  if ($r == $VS_CHECKSUM_ERROR) {
    if (!$localcopymode) {
      tldie("$0: checksum error when downloading $file from $path: $m\n");
    }
    return(0, $r);
  } elsif ($r == $VS_SIGNATURE_ERROR) {

That should fix the == error. And hopefully the other errors, too.

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From bvoisin at icloud.com  Fri Feb 21 09:45:39 2020
From: bvoisin at icloud.com (Bruno Voisin)
Date: Fri, 21 Feb 2020 09:45:39 +0100
Subject: trying tlcritical (verification error cleanup)
In-Reply-To: <20200221083542.wifqfk4o54nunnhg@burischnitzel.preining.info>
References: <1F411755-F9DA-4254-850A-7B89F5F4507A@icloud.com>
 <20200221083542.wifqfk4o54nunnhg@burischnitzel.preining.info>
Message-ID: <C02DB550-CCFE-4D12-BB3B-244A310C9FE0@icloud.com>

> Le 21 f?vr. 2020 ? 09:35, Norbert Preining <preining at logic.at> a ?crit :
> 
> Can you please do:
> - open TLCrypto.pm (in tlpkg/TeXLive/)
> - go to line 250 and add
> 	return(0, $r);

Works like a charm!

Thanks for the lightning fast fix,

Bruno

From preining at logic.at  Fri Feb 21 09:59:11 2020
From: preining at logic.at (Norbert Preining)
Date: Fri, 21 Feb 2020 17:59:11 +0900
Subject: trying tlcritical (verification error cleanup)
In-Reply-To: <C02DB550-CCFE-4D12-BB3B-244A310C9FE0@icloud.com>
References: <1F411755-F9DA-4254-850A-7B89F5F4507A@icloud.com>
 <20200221083542.wifqfk4o54nunnhg@burischnitzel.preining.info>
 <C02DB550-CCFE-4D12-BB3B-244A310C9FE0@icloud.com>
Message-ID: <20200221085911.7aqt4cgiv4epnrbl@burischnitzel.preining.info>

> Works like a charm!

Thanks, was a stupid error of mine :-(

Already committed to the svn repo and will be in tomorrows tlcritical.

Thanks for the great report!

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From herbs at wideopenwest.com  Fri Feb 21 18:04:10 2020
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Fri, 21 Feb 2020 11:04:10 -0600
Subject: trying tlcritical (verification error cleanup)
In-Reply-To: <202002192209.01JM9I69025265@freefriends.org>
References: <202002192209.01JM9I69025265@freefriends.org>
Message-ID: <6DE74BAD-EBB4-4C34-9017-352ABAE1150E@wideopenwest.com>



> On Feb 19, 2020, at 4:09 PM, Karl Berry <karl at freefriends.org> wrote:
> 
> Hello TL - Norbert has made some changes to tlmgr to provide more
> specific error messages when verification fails. They are in tlcritical
> now. We would dearly like to have some more testing before we push this
> out to the world. 
> 
> So if anyone is up for trying tlcritical, please do, and let us know.
> 
> The issue isn't so much the new error messages as making sure the
> non-error cases, which are the vast majority, still work. So don't worry
> about trying to exercise the new stuff, just do what you normally do and
> make sure it works.
> 
> There are no other notable updates in this tlcritical round.
> --thanks, karl.

Howdy,

Sorry to get onto this so late. I've been away for a short time.

I see that Bruno found something and Norbert has already dealt with it. I assume the fixed version will be on tlcontrib by tomorrow. Is it still worthwhile for me to test starting tomorrow? If so, the url I have for tlcontrib in TeX Live Utility appears to be outdated, <http://tlcontrib.metatex.org/2011/>. Do I simply need to change the 2011 to 2019?

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)



From P.Taylor at Rhul.Ac.Uk  Fri Feb 21 18:07:00 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Fri, 21 Feb 2020 17:07:00 +0000
Subject: [EXT] Re: trying tlcritical (verification error cleanup)
In-Reply-To: <6DE74BAD-EBB4-4C34-9017-352ABAE1150E@wideopenwest.com>
References: <202002192209.01JM9I69025265@freefriends.org>
 <6DE74BAD-EBB4-4C34-9017-352ABAE1150E@wideopenwest.com>
Message-ID: <dcbfba0a-e608-eb59-5e0b-aaa72f3ceae3@Rhul.Ac.Uk>

Herbert Schulz wrote:

> [T]he url I have for tlcontrib in TeX Live Utility appears to be outdated, <http://tlcontrib.metatex.org/2011/>. Do I simply need to change the 2011 to 2019?

The URL as cited redirects to https://contrib.texlive.info/, so perhaps 
no change is needed.
Philip Taylor

From preining at logic.at  Sat Feb 22 00:53:39 2020
From: preining at logic.at (Norbert Preining)
Date: Sat, 22 Feb 2020 08:53:39 +0900
Subject: trying tlcritical (verification error cleanup)
In-Reply-To: <6DE74BAD-EBB4-4C34-9017-352ABAE1150E@wideopenwest.com>
References: <202002192209.01JM9I69025265@freefriends.org>
 <6DE74BAD-EBB4-4C34-9017-352ABAE1150E@wideopenwest.com>
Message-ID: <20200221235339.527s2cbqux4acbyt@burischnitzel.preining.info>

On Fri, 21 Feb 2020, Herbert Schulz wrote:
> http://tlcontrib.metatex.org/2011/

This is not
	http://contrib.texlive.info/2019
or
	http://contrib.texlive.info/current

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From amaxwell at mac.com  Sat Feb 22 05:28:04 2020
From: amaxwell at mac.com (Adam R. Maxwell)
Date: Fri, 21 Feb 2020 20:28:04 -0800
Subject: trying tlcritical (verification error cleanup)
In-Reply-To: <6DE74BAD-EBB4-4C34-9017-352ABAE1150E@wideopenwest.com>
References: <202002192209.01JM9I69025265@freefriends.org>
 <6DE74BAD-EBB4-4C34-9017-352ABAE1150E@wideopenwest.com>
Message-ID: <1884F130-B375-49D4-AF87-DF65B1725FE4@mac.com>



> On Feb 21, 2020, at 09:04 , Herbert Schulz <herbs at wideopenwest.com> wrote:
> 
> If so, the url I have for tlcontrib in TeX Live Utility appears to be outdated, <http://tlcontrib.metatex.org/2011/>. Do I simply need to change the 2011 to 2019?

Karl was talking about tlcritical, NOT tlcontrib! You
do this by holding down the Option key and choosing
Actions > Install TeX Live Manager From Critical Repository
on the main menu.

thanks,
Adam



From st.loeffler at gmail.com  Sat Feb 22 08:11:31 2020
From: st.loeffler at gmail.com (=?UTF-8?Q?Stefan_L=c3=b6ffler?=)
Date: Sat, 22 Feb 2020 08:11:31 +0100
Subject: babel-french legacy compatibility broken
Message-ID: <9f4befc1-3ac6-062f-78da-f4a6c1562ff2@gmail.com>

Hi,

I am maintaining a document that should be typeset-able with both old
and new versions of TL. As it uses French in some places, I am using
babel with the "frenchb" option (which is deprecated and should
eventually be replaced by "french", but this would break typesetting on
older systems). Unfortunately, this gives an error now (I'm not sure how
long the situation has been like this as changes to my document a fairly
infrequent).

Here's a MWE:
---------------------8<--------------------------------

\documentclass{minimal}

\usepackage[frenchb]{babel}

\begin{document}

Bonjour le monde.

\end{document}

---------------------8<-------------------------------- Which gives the
following error:

(/usr/local/texlive/2019/texmf-dist/tex/generic/babel-french/frenchb.ldf

! Undefined control sequence.

l.30 \chardef\l at frenchb\l at french

The same problem occurs if I use the (also deprecated) option "francais"
instead of "frenchb".

If I change \chardef to \let on the indicated line, everything seems to
work as expected - but I'm not sure if that's the correct solution (and
what side-effects it might have). If it is, it should also be applied
(at least) to the "francais" case.

The problem occurs with both pdflatex and lualatex (I haven't checked
others).

Some possibly relevant versions:

babel: 3.40)

babel-french: 3.5g

pdfTeX 3.14159265-2.6-1.40.20

luatex: 1.10.0

HTH,

Stefan

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200222/06b3bdf3/attachment.html>

From d.p.carlisle at gmail.com  Sat Feb 22 11:23:41 2020
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sat, 22 Feb 2020 10:23:41 +0000
Subject: babel-french legacy compatibility broken
In-Reply-To: <9f4befc1-3ac6-062f-78da-f4a6c1562ff2@gmail.com>
References: <9f4befc1-3ac6-062f-78da-f4a6c1562ff2@gmail.com>
Message-ID: <CAEW6iOg6A1zcr8mQf2thzxxu1DXJ_HsNZ3MVUu7QUt=u0SGkGQ@mail.gmail.com>

The texlive maintainers can only distribute babel as found  on ctan. To
report issues in the babel sources please use

https://github.com/latex3/babel/issues

That said, your file runs without error for me in an up to date texlive.

\l at french should be defined in the format:


$ latex '\makeatletter\show\l at french'
This is pdfTeX, Version 3.14159265-2.6-1.40.21 (TeX Live 2020) (preloaded
format=latex)
 restricted \write18 enabled.
entering extended mode
LaTeX2e <2020-02-02> patch level 3
L3 programming layer <2020-02-21>
> \l at french=\char"1C.
<*> \makeatletter\show\l at french


It appears that you have made formats without French hyphenation loaded.


David


On Sat, 22 Feb 2020 at 07:13, Stefan L?ffler <st.loeffler at gmail.com> wrote:

> Hi,
>
> I am maintaining a document that should be typeset-able with both old and
> new versions of TL. As it uses French in some places, I am using babel with
> the "frenchb" option (which is deprecated and should eventually be replaced
> by "french", but this would break typesetting on older systems).
> Unfortunately, this gives an error now (I'm not sure how long the situation
> has been like this as changes to my document a fairly infrequent).
>
> Here's a MWE:
> ---------------------8<--------------------------------
>
> \documentclass{minimal}
>
> \usepackage[frenchb]{babel}
>
> \begin{document}
>
> Bonjour le monde.
>
> \end{document}
>
> ---------------------8<-------------------------------- Which gives the
> following error:
>
> (/usr/local/texlive/2019/texmf-dist/tex/generic/babel-french/frenchb.ldf
>
> ! Undefined control sequence.
>
> l.30 \chardef\l at frenchb\l at french
>
> The same problem occurs if I use the (also deprecated) option "francais"
> instead of "frenchb".
>
> If I change \chardef to \let on the indicated line, everything seems to
> work as expected - but I'm not sure if that's the correct solution (and
> what side-effects it might have). If it is, it should also be applied (at
> least) to the "francais" case.
>
> The problem occurs with both pdflatex and lualatex (I haven't checked
> others).
>
> Some possibly relevant versions:
>
> babel: 3.40)
>
> babel-french: 3.5g
>
> pdfTeX 3.14159265-2.6-1.40.20
>
> luatex: 1.10.0
>
> HTH,
>
> Stefan
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200222/266eb465/attachment-0001.html>

From herbs at wideopenwest.com  Sat Feb 22 14:32:08 2020
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Sat, 22 Feb 2020 07:32:08 -0600
Subject: trying tlcritical (verification error cleanup)
In-Reply-To: <1884F130-B375-49D4-AF87-DF65B1725FE4@mac.com>
References: <202002192209.01JM9I69025265@freefriends.org>
 <6DE74BAD-EBB4-4C34-9017-352ABAE1150E@wideopenwest.com>
 <1884F130-B375-49D4-AF87-DF65B1725FE4@mac.com>
Message-ID: <7374A82A-A181-4528-BD12-9201642D826B@wideopenwest.com>



> On Feb 21, 2020, at 10:28 PM, Adam R. Maxwell <amaxwell at mac.com> wrote:
> 
> 
> 
>> On Feb 21, 2020, at 09:04 , Herbert Schulz <herbs at wideopenwest.com> wrote:
>> 
>> If so, the url I have for tlcontrib in TeX Live Utility appears to be outdated, <http://tlcontrib.metatex.org/2011/>. Do I simply need to change the 2011 to 2019?
> 
> Karl was talking about tlcritical, NOT tlcontrib! You
> do this by holding down the Option key and choosing
> Actions > Install TeX Live Manager From Critical Repository
> on the main menu.
> 
> thanks,
> Adam
> 

Howdy,

Thanks for the info. I forgot that was there. I updated from tlcritical today and then an update of packages, including latex so all formats were updated too, went smoothly. Sorry about the misunderstanding.

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)



From preining at logic.at  Sun Feb 23 22:38:39 2020
From: preining at logic.at (Norbert Preining)
Date: Mon, 24 Feb 2020 06:38:39 +0900
Subject: Use of uninitialized value $r in split at
 /usr/share/texlive/tlpkg/TeXLive/TLUtils.pm line 4157.
In-Reply-To: <97a9d244-373b-8ceb-c0d3-61e64dcba343@matve.de>
References: <97a9d244-373b-8ceb-c0d3-61e64dcba343@matve.de>
Message-ID: <20200223213839.zfwsaguhlaxgj6go@burischnitzel.preining.info>

Hi,

On Thu, 20 Feb 2020, Maria Matveev wrote:
> Trying to solve this, I got an error message, which I as asked report to you
> now.

Well, actually no ... you are told **before** that that you should
install xzdec.

> sudo /usr/bin/tlmgr install extarrows
> (running on Debian, switching to user mode!)
> /usr/bin/tlmgr: Initialization failed (in setup_unix_one):
> /usr/bin/tlmgr: could not find a usable xzdec.
> /usr/bin/tlmgr: Please install xzdec and try again.
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Please do
	sudo apt install xz-utils xzdec

After that it should work.

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Tue Feb 25 01:23:42 2020
From: preining at logic.at (Norbert Preining)
Date: Tue, 25 Feb 2020 09:23:42 +0900
Subject: Use of uninitialized value $r in split at
 /usr/share/texlive/tlpkg/TeXLive/TLUtils.pm line 4157.
In-Reply-To: <27310d3c-8c65-bd86-1bd9-74e197f3bec6@matve.de>
References: <97a9d244-373b-8ceb-c0d3-61e64dcba343@matve.de>
 <20200223213839.zfwsaguhlaxgj6go@burischnitzel.preining.info>
 <27310d3c-8c65-bd86-1bd9-74e197f3bec6@matve.de>
Message-ID: <20200225002342.xyoxwgei2bga3fqd@burischnitzel.preining.info>

Dear Maria,

please keep the mailing list in Cc

> tlmgr: Remote repository is newer than local (2017 < 2019)

Yes indeed, since your Ubuntu is old, the TeX Live is old, too, and this
doesn't work out of the box. GOod that you have managed to fix it.

Best

Norbert

On Mon, 24 Feb 2020, Maria Matveev wrote:
> Dear Norbert,
> 
> thank you very much for your reply.
> 
> Meanwhile I was able to solve my problem, thanks a lot! I could install the
> extarrows.sty directly using tlmgr, although it took a while to set tlmgr
> up, such that it does not throw errors anymore.
> 
> It did not suffice to install xzdec nor xz-utils (which was the next thing I
> did after the error message) but after some more research on stackexchange
> and similar I got it running. I think? I did the following, but I am not
> 100% sure since I did it last Thursday and just checking the terminal
> history...
> 
> I had the error for a long time that
> tlmgr: Remote repository is newer than local (2017 < 2019)
> which I solved via sudo tlmgr option repository
> ftp://tug.org/historic/systems/texlive/2017/tlnet
> Then I did
> tlmgr update --all --dry-run
> tlmgr update --all
> 
> Then I could install extarrows via
> 
> tlmgr install extarrows
> 
> In fact, I wrote you, since some uninitialized value was used in split, and
> they asked to report. "Please report to texlive at tug.org
> <mailto:texlive at tug.org>.
> Use of uninitialized value $r in split at
> /usr/share/texlive/tlpkg/TeXLive/TLUtils.pm line 4157."
> 
> Best regards
> 
> Maria

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From herbs at wideopenwest.com  Tue Feb 25 14:41:12 2020
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Tue, 25 Feb 2020 07:41:12 -0600
Subject: Today's update
Message-ID: <8219B961-3731-4B46-A3A4-4BEF1DF4576F@wideopenwest.com>

Howdy,

In updating my TeX Live 2019 this morning using tlmgr (via TeX Live Utility (TLU) and
NOT the one in tlcritical) on my Mac I noticed that when running

/Library/TeX/texbin/tlmgr --repository http://ctan.math.utah.edu/ctan/tex-archive/systems/texlive/tlnet --machine-readable --persistent-downloads update --all)

there was the message

regenerating fmtutil.cnf in /usr/local/texlive/2019/texmf-dist

(again, using TLU) and many formats were rebuilt:

running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt dvilualatex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt dvilualatex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdflatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdflatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt uplatex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt uplatex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt lualatex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt lualatex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt lualatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt lualatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt platex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt platex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt dvilualatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt dvilualatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt uplatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt uplatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt latex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt latex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt latex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt latex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt eplain ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt eplain.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt platex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt platex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdflatex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdflatex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt xelatex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt xelatex-dev.

including latex, pdflatex, lualatex (and their -dev versions) but while the xelatex-dev version was rebuilt the xelatex version was not mentioned. Is that correct?

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)



From hartung at ibr.cs.tu-bs.de  Tue Feb 25 11:40:43 2020
From: hartung at ibr.cs.tu-bs.de (Robert Hartung)
Date: Tue, 25 Feb 2020 11:40:43 +0100
Subject: Arch Package Update required
Message-ID: <1b39487e-f790-e84d-2894-61a804e2d3af@ibr.cs.tu-bs.de>

Dear Maintainers of texlive,
I have seen that there is a texlive-core package for arch. This
currently is broken due to the known filehook problem with the beamer
class. A recent update of the original maintainer of the filehook
package [0] was published and is available on CTAN.

Could you update the arch texlive-core package to include this fix?

Best Regards
Robert

[0] https://bitbucket.org/martin_scharrer/filehook/issues/1#comment-55981895

-- 
Robert Hartung, M.Sc.

Technische Universit?t Braunschweig
Institut f?r Betriebssysteme und Rechnerverbund
M?hlenpfordtstr. 23, Raum 115
38106 Braunschweig

Fon: +49 (531) 391 - 3246
Fax: +49 (531) 391 - 5936
E-Mail: hartung at ibr.cs.tu-bs.de
WWW: https://www.ibr.cs.tu-bs.de/users/hartung/

From beebe at math.utah.edu  Tue Feb 25 14:49:36 2020
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Tue, 25 Feb 2020 06:49:36 -0700
Subject: Today's update
In-Reply-To: <8219B961-3731-4B46-A3A4-4BEF1DF4576F@wideopenwest.com>
Message-ID: <CMM.0.95.0.1582638576.beebe@gamma.math.utah.edu>

Herb Schulz reports that in an update today with

	 /Library/TeX/texbin/tlmgr --repository http://ctan.math.utah.edu/ctan/tex-archive/systems/texlive/tlnet --machine-readable --persistent-downloads update --all

that he saw many *.fmt files being regenerated, but not xelatex.fmt.

I ran an update this morning here in Utah from the same archive,
at about 05:50 MST (UTC - 7), and 51 *.fmt files were remade,
including this one

	/usr/uumath/texlive/2019/texmf-var/web2c/xetex/xelatex.fmt

My tlmgr command is simpler:

	tlmgr update --self 
	tlmgr update --all

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From jhielscher at posteo.de  Tue Feb 25 15:15:17 2020
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Tue, 25 Feb 2020 15:15:17 +0100
Subject: Arch Package Update required
In-Reply-To: <1b39487e-f790-e84d-2894-61a804e2d3af@ibr.cs.tu-bs.de>
References: <1b39487e-f790-e84d-2894-61a804e2d3af@ibr.cs.tu-bs.de>
Message-ID: <20200225151517.48bb4bf9@hordevm>

Hi Robert,

what you reached here is the upstream TeXLive, that is the glue between
what happens on CTAN (new packages, bug fixes) and the end users that
installed TeXLive via our own, distro-agnostic package management. In
the TL sources, last pull from CTAN for filehook was v0.7 from
2020-02-03 and contains Martin's fixes [0] you mentioned.

It is not in our scope to maintain distribution-specific packages.
So, if you want the Archlinux packagers [1] to rebuild their packages,
be kindly redirected to their resources.
Or you could replace Arch's official texlive-* packages by the AUR
pseudo-package texlive-installer [2] that provides a thin compatibility
layer between pacman dependency resolution and our (off-pacman)
upstream TeXLive packaging.

Either way, I CCed R?my, the Archlinux maintainer.

Happy hacking!
Johannes

[0]
http://tug.org/svn/texlive/trunk/Master/texmf-dist/tex/latex/filehook/

[1]
https://www.archlinux.org/packages/extra/any/texlive-core/
texlive-core was last updated on 2019-11-01 and flagged as outdated
four days later?

[2]
https://aur.archlinux.org/packages/texlive-installer/


Am Tue, 25 Feb 2020 11:40:43 +0100
schrieb Robert Hartung <hartung at ibr.cs.tu-bs.de>:

> Dear Maintainers of texlive,
> I have seen that there is a texlive-core package for arch. This
> currently is broken due to the known filehook problem with the beamer
> class. A recent update of the original maintainer of the filehook
> package [0] was published and is available on CTAN.
> 
> Could you update the arch texlive-core package to include this fix?
> 
> Best Regards
> Robert
> 
> [0]
> https://bitbucket.org/martin_scharrer/filehook/issues/1#comment-55981895
> 



From ealdrov at mail.math.fsu.edu  Tue Feb 25 19:24:26 2020
From: ealdrov at mail.math.fsu.edu (Ettore Aldrovandi)
Date: Tue, 25 Feb 2020 13:24:26 -0500
Subject: Today's update
In-Reply-To: <CMM.0.95.0.1582638576.beebe@gamma.math.utah.edu>
References: <CMM.0.95.0.1582638576.beebe@gamma.math.utah.edu>
Message-ID: <0B963A02-6002-4C49-9841-377B31903CAA@math.fsu.edu>

Hi,

with the command

	tlmgr update --self --all

I got the same output as Herb. No xelatex.fmt was rebuilt.

?Ettore

Ettore Aldrovandi
Department of Mathematics
Florida State University
http://www.math.fsu.edu/~ealdrov

> On Feb 25, 2020, at 08:49, Nelson H. F. Beebe <beebe at math.utah.edu> wrote:
> 
> Herb Schulz reports that in an update today with
> 
> 	 /Library/TeX/texbin/tlmgr --repository http://ctan.math.utah.edu/ctan/tex-archive/systems/texlive/tlnet --machine-readable --persistent-downloads update --all
> 
> that he saw many *.fmt files being regenerated, but not xelatex.fmt.
> 
> I ran an update this morning here in Utah from the same archive,
> at about 05:50 MST (UTC - 7), and 51 *.fmt files were remade,
> including this one
> 
> 	/usr/uumath/texlive/2019/texmf-var/web2c/xetex/xelatex.fmt
> 
> My tlmgr command is simpler:
> 
> 	tlmgr update --self 
> 	tlmgr update --all
> 
> -------------------------------------------------------------------------------
> - Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
> - University of Utah                    FAX: +1 801 581 4148                  -
> - Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
> - 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
> - Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
> -------------------------------------------------------------------------------
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200225/110495de/attachment.html>

From karl at freefriends.org  Tue Feb 25 20:27:04 2020
From: karl at freefriends.org (Karl Berry)
Date: Tue, 25 Feb 2020 12:27:04 -0700
Subject: Today's update
In-Reply-To: <8219B961-3731-4B46-A3A4-4BEF1DF4576F@wideopenwest.com>
Message-ID: <202002251927.01PJR48L024280@freefriends.org>

    including latex, pdflatex, lualatex (and their -dev versions) but while
    the xelatex-dev version was rebuilt the xelatex version was not
    mentioned. Is that correct?

Good question. At the moment, it is quite possible in general for -dev
to be rebuilt at the same time that non-dev rebuilds are not needed. 
-dev has more dependencies. They will be more or less the same
after the TL20 release.

However, I find it puzzling in this case, since I think the "latex"
package got updated, and that should have forced updating of
xelatex.fmt. Unfortunately I can't think of any good way to debug what
happened. We should figure out some way for fmtutil itself to log what
it does (e.g., why a rebuild happened) or doesn't do (packages checked).

Anyway, I think all the latex fmts will get rebuilt again tonight. (And
most nights, these days. :) --thanks, karl.


From herbs at wideopenwest.com  Tue Feb 25 20:54:40 2020
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Tue, 25 Feb 2020 13:54:40 -0600
Subject: Today's update
In-Reply-To: <202002251927.01PJR48L024280@freefriends.org>
References: <202002251927.01PJR48L024280@freefriends.org>
Message-ID: <B06BFF6D-36A3-4DB6-875B-339E6F4783E7@wideopenwest.com>



> On Feb 25, 2020, at 1:27 PM, Karl Berry <karl at freefriends.org> wrote:
> 
>    including latex, pdflatex, lualatex (and their -dev versions) but while
>    the xelatex-dev version was rebuilt the xelatex version was not
>    mentioned. Is that correct?
> 
> Good question. At the moment, it is quite possible in general for -dev
> to be rebuilt at the same time that non-dev rebuilds are not needed. 
> -dev has more dependencies. They will be more or less the same
> after the TL20 release.
> 
> However, I find it puzzling in this case, since I think the "latex"
> package got updated, and that should have forced updating of
> xelatex.fmt. Unfortunately I can't think of any good way to debug what
> happened. We should figure out some way for fmtutil itself to log what
> it does (e.g., why a rebuild happened) or doesn't do (packages checked).
> 
> Anyway, I think all the latex fmts will get rebuilt again tonight. (And
> most nights, these days. :) --thanks, karl.
> 

Howdy,

Yes, latex, pdflatex and lualatex formats were rebuilt (along with the -dev versions) which is why I was puzzled about the xelatex format not being rebuilt.

I haven't noticed this before but that might just be because I haven't been paying attention.

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)



From karl at freefriends.org  Tue Feb 25 23:15:38 2020
From: karl at freefriends.org (Karl Berry)
Date: Tue, 25 Feb 2020 23:15:38 +0100
Subject: Today's update
In-Reply-To: <B06BFF6D-36A3-4DB6-875B-339E6F4783E7@wideopenwest.com>
Message-ID: <202002252215.01PMFc3U015989@tug.org>

    which is why I was puzzled about the xelatex format not
    being rebuilt.

If it happens again, what would help to debug is to know which packages
got updated. (The complete list.) I don't know if it's easy to find that
in TLU ... --thanks, karl.


From amaxwell at mac.com  Wed Feb 26 05:10:56 2020
From: amaxwell at mac.com (Adam R. Maxwell)
Date: Tue, 25 Feb 2020 20:10:56 -0800
Subject: Today's update
In-Reply-To: <202002252215.01PMFc3U015989@tug.org>
References: <202002252215.01PMFc3U015989@tug.org>
Message-ID: <597E406F-668E-4FBB-A41F-957EB5DC9DF6@mac.com>


> On Feb 25, 2020, at 14:15 , Karl Berry <karl at freefriends.org> wrote:
> 
> If it happens again, what would help to debug is to know which packages
> got updated. (The complete list.) I don't know if it's easy to find that
> in TLU ... --thanks, karl.

It's in the log output, amongst all of my debug spew.
Herb probably still has it, too, since TLU saves log
output from the last few sessions.

-- 
Adam


From Max.Philippens at secura.com  Wed Feb 26 11:44:25 2020
From: Max.Philippens at secura.com (Max Philippens | Secura)
Date: Wed, 26 Feb 2020 10:44:25 +0000
Subject: TeX Live performance issues on CIFS mount.
References: <27ea3aec4c4f58d9d30d39974891f8735d864331.camel@secura.com>
Message-ID: <6a87c7e674602e03ac3f6d13c92e91fdcfb23f28.camel@secura.com>

We ran into some performance issues building a machine for the specific
purpose of generating TeX reports. The data we use to generate the TeX
reports is located on a RHEL 7.7 machine wich we mount via a CIFS mount
on other machines.

Some measurments done on RHEL 7.7, testing has been done with pdflatex
on a small Hello World example:

RHEL 7.7 TeXLive 2019 (from online install):
On CIFS: 0m4.174s
On Local Disk: 0m0.248s

RHEL 7.7 TeXLive 2017 (from online install):
On CIFS: 0m0.199s
On Local Disk: 0m0.166s

We also tested with Ubuntu 18.04 with the packaged TeX Live version
(which is 2017), results are similair to the 2017 online install on the
RHEL 7.7 machine. Installing the 2019 online install on this machine
makes the generation slow down, similair to the RHEL results. We also
tested RHEL 8 with packaged version (which is 2018) with similair
results to the 2019 version. 

It seems like something has changed between the 2017 version of TeX
Live and the 2018 version that makes running on CIFS mounts
painstakingly slow.

Benchmarking the CPU and CIFS performance on these machine doesn't show
any possible issues. All tests have been carried out on the same
machines with the only difference the TeX Live versions used during the
test.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: This is a digitally signed message part
URL: <https://tug.org/pipermail/tex-live/attachments/20200226/1c13b91c/attachment.sig>

From achirvasub at gmail.com  Wed Feb 26 14:37:09 2020
From: achirvasub at gmail.com (A.C.)
Date: Wed, 26 Feb 2020 08:37:09 -0500
Subject: forcibly removed package stringenc
Message-ID: <49859EC5-400C-4572-8427-3B1DC8F7D534@gmail.com>

At the moment (Wed Feb 26 13:35:12 UTC 2020) all of my machines, upon running 

tlmgr update --self --all

return

tlmgr: package repository http://ctan.mirrors.hoobly.com/systems/texlive/tlnet (verified)
tlmgr: saving backups to /root/texlive/2019/tlpkg/backups                                                 
tlmgr: skipping forcibly removed package: stringenc

Is this by design?


From herbs at wideopenwest.com  Wed Feb 26 15:00:29 2020
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Wed, 26 Feb 2020 08:00:29 -0600
Subject: Today's update
In-Reply-To: <202002252215.01PMFc3U015989@tug.org>
References: <202002252215.01PMFc3U015989@tug.org>
Message-ID: <E982F38D-20FA-4950-AD86-D626E23B9C3D@wideopenwest.com>



> On Feb 25, 2020, at 4:15 PM, Karl Berry <karl at freefriends.org> wrote:
> 
>    which is why I was puzzled about the xelatex format not
>    being rebuilt.
> 
> If it happens again, what would help to debug is to know which packages
> got updated. (The complete list.) I don't know if it's easy to find that
> in TLU ... --thanks, karl.
> 

Howdy,

Just to note: This morning xelatex was rebuilt (along with xetex, etc.) but `byengine' while all the other format updates were `byfmt'. Of course there was an explicit update of xetex.

I enclose a (cleaned up) log file produced by TeX Live Utility (running tlmgr) with relevant information.

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: tlmgrLogViaTLU.txt
URL: <https://tug.org/pipermail/tex-live/attachments/20200226/74852089/attachment.txt>
-------------- next part --------------


Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)


From axel.retif at gmail.com  Wed Feb 26 15:14:16 2020
From: axel.retif at gmail.com (Axel E. Retif)
Date: Wed, 26 Feb 2020 08:14:16 -0600
Subject: Today's update
In-Reply-To: <E982F38D-20FA-4950-AD86-D626E23B9C3D@wideopenwest.com>
References: <202002252215.01PMFc3U015989@tug.org>
 <E982F38D-20FA-4950-AD86-D626E23B9C3D@wideopenwest.com>
Message-ID: <1627dbf1-2976-aa2a-e418-9462d3d8a907@gmail.com>

On 2/26/20 8:00 AM, Herbert Schulz wrote:
> 
> 
>> On Feb 25, 2020, at 4:15 PM, Karl Berry <karl at freefriends.org> wrote:
>>
>>     which is why I was puzzled about the xelatex format not
>>     being rebuilt.
>>
>> If it happens again, what would help to debug is to know which packages
>> got updated. (The complete list.) I don't know if it's easy to find that
>> in TLU ... --thanks, karl.
>>
> 
> Howdy,
> 
> Just to note: This morning xelatex was rebuilt (along with xetex, etc.) but `byengine' while all the other format updates were `byfmt'. Of course there was an explicit update of xetex.

Same here, less than two hours ago.

But first I ran tlmgr with --dry-run. It said it was going to rebuild 
xelatex and xelatex-dev formats, *and didn't mention any engine*.

Then with the actual run it rebuilt xetex engine but no xelatex formats.

I attach the log.


Best

Axel
-------------- next part --------------
root at AdaGNULinux:/home/axretif# tlmgr update --self --all --reinstall-forcibly-removed --dry-run
tlmgr: package repository http://ctan.math.utah.edu/ctan/tex-archive/systems/texlive/tlnet (verified)
tlmgr update: dry run, no changes will be made
tlmgr: would save backups to /usr/local/texlive/2019/tlpkg/backups
[ 1/41, ??:??/??:??] update: acmart [3816k] (53734 -> 53899)
[ 2/41, 00:00/00:00] update: biblatex-gost [995k] (46709 -> 53916)
[ 3/41, 00:00/00:00] update: cases [335k] (17123 -> 53909)
[ 4/41, 00:00/00:00] update: circuitikz [1076k] (53667 -> 53883)
[ 5/41, 00:00/00:00] update: curve2e [2289k] (53595 -> 53900)
[ 6/41, 00:00/00:00] update: els-cas-templates [555k] (50820 -> 53910)
[ 7/41, 00:00/00:00] update: exframe [446k] (53369 -> 53911)
[ 8/41, 00:00/00:00] update: fmtcount [465k] (53591 -> 53912)
[ 9/41, 00:00/00:00] update: hitszthesis [1848k] (53831 -> 53887)
[10/41, 00:00/00:00] update: l3backend [748k] (53875 -> 53888)
[11/41, 00:00/00:00] update: l3kernel [10386k] (53862 -> 53913)
[12/41, 00:00/00:00] update: l3packages [1782k] (53781 -> 53913)
[13/41, 00:00/00:00] update: latex [17851k] (53857 -> 53898)
[14/41, 00:00/00:00] update: latex-base-dev [18122k] (53778 -> 53885)
[15/41, 00:00/00:00] update: luacolor [321k] (52984 -> 53901)
[16/41, 00:00/00:00] update: luamplib [187k] (53099 -> 53904)
[17/41, 00:00/00:00] update: ntgclass [1742k] (53870 -> 53882)
[18/41, 00:00/00:00] update: oldstandard [3119k] (53158 -> 53897)
[19/41, 00:00/00:00] update: optex [1539k] (53844 -> 53918)
[20/41, 00:00/00:00] update: overpic [370k] (48550 -> 53889)
[21/41, 00:00/00:00] update: plautopatch [140k] (52034 -> 53906)
[22/41, 00:00/00:00] update: siunitx [750k] (53856 -> 53914)
[23/41, 00:00/00:00] update: stage [154k] (44100 -> 53915)
[24/41, 00:00/00:00] update: suftesi [985k] (53876 -> 53903)
[25/41, 00:00/00:00] update: tex4ht [940k] (53849 -> 53919)
[26/41, 00:00/00:00] update: texlive-docindex [156k] (53879 -> 53896)
[27/41, 00:00/00:00] update: texlive-msg-translations [137k] (53808 -> 53920)
[28/41, 00:00/00:00] update: thucoursework [488k] (47781 -> 53891)
[29/41, 00:00/00:00] update: thuthesis [2042k] (53659 -> 53892)
[30/41, 00:00/00:00] update: xetex [610k] (53786 -> 53917)
[31/41, 00:00/00:00] update: xsim [2611k] (53877 -> 53893)
[32/41, 00:00/00:00] update: zxjafont [181k] (53793 -> 53884)
[33/41, 00:00/00:00] auto-install: emoji (53894) [629k] ... [34/41, 00:00/00:00] auto-install: noto-emoji (53907) [8743k] ... [35/41, 00:00/00:00] auto-install: pdfpc (53902) [6k] ... [36/41, 00:00/00:00] auto-install: twemoji-colr (53908) [490k] ... [37/41, 00:00/00:00] update: collection-fontsextra [2k] (53836 -> 53908)
[38/41, 00:00/00:00] update: collection-latex [1k] (53677 -> 53921)
[39/41, 00:00/00:00] update: collection-latexextra [6k] (53874 -> 53921)
[40/41, 00:00/00:00] update: collection-latexrecommended [1k] (53677 -> 53921)
[41/41, 00:00/00:00] update: collection-luatex [1k] (53764 -> 53894)
regenerating fmtutil.cnf in /usr/local/texlive/2019/texmf-dist
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt latex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt latex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt jadetex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt jadetex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdfjadetex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdfjadetex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt cslatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt cslatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt dvilualatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt dvilualatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdfcslatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdfcslatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt dvilualatex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt dvilualatex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt uplatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt uplatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt mllatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt mllatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt xelatex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt xelatex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt eplain ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt eplain.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdflatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdflatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdfxmltex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdfxmltex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt lualatex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt lualatex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt uplatex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt uplatex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt latex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt latex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt xelatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt xelatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt platex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt platex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt platex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt platex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt xmltex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt xmltex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdflatex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdflatex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt lualatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt lualatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt lamed ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt lamed.
root at AdaGNULinux:/home/axretif# tlmgr update --self --all --reinstall-forcibly-removed
tlmgr: package repository http://ctan.math.utah.edu/ctan/tex-archive/systems/texlive/tlnet (verified)
tlmgr: saving backups to /usr/local/texlive/2019/tlpkg/backups
[ 1/41, ??:??/??:??] update: acmart [3816k] (53734 -> 53899) ... done
[ 2/41, 00:06/02:16] update: biblatex-gost [995k] (46709 -> 53916) ... done
[ 3/41, 00:08/02:24] update: cases [335k] (17123 -> 53909) ... done
[ 4/41, 00:11/03:06] update: circuitikz [1076k] (53667 -> 53883) ... done
[ 5/41, 00:14/03:15] update: curve2e [2289k] (53595 -> 53900) ... done
[ 6/41, 00:16/02:43] update: els-cas-templates [555k] (50820 -> 53910) ... done
[ 7/41, 00:18/02:52] update: exframe [446k] (53369 -> 53911) ... done
[ 8/41, 00:21/03:12] update: fmtcount [465k] (53591 -> 53912) ... done
[ 9/41, 00:23/03:20] update: hitszthesis [1848k] (53831 -> 53887) ... done
[10/41, 00:26/03:11] update: l3backend [748k] (53875 -> 53888) ... done
[11/41, 00:30/03:27] update: l3kernel [10386k] (53862 -> 53913) ... done
[12/41, 00:35/02:12] update: l3packages [1782k] (53781 -> 53913) ... done
[13/41, 00:40/02:20] update: latex [17851k] (53857 -> 53898) ... done
[14/41, 00:50/01:42] update: latex-base-dev [18122k] (53778 -> 53885) ... done
[15/41, 00:57/01:21] update: luacolor [321k] (52984 -> 53901) ... done
[16/41, 01:00/01:25] update: luamplib [187k] (53099 -> 53904) ... done
[17/41, 01:02/01:28] update: ntgclass [1742k] (53870 -> 53882) ... done
[18/41, 01:05/01:29] update: oldstandard [3119k] (53158 -> 53897) ... done
[19/41, 01:08/01:29] update: optex [1539k] (53844 -> 53918) ... done
[20/41, 01:11/01:31] update: overpic [370k] (48550 -> 53889) ... done
[21/41, 01:13/01:33] update: plautopatch [140k] (52034 -> 53906) ... done
[22/41, 01:16/01:37] update: siunitx [750k] (53856 -> 53914) ... done
[23/41, 01:18/01:38] update: stage [154k] (44100 -> 53915) ... done
[24/41, 01:20/01:40] update: suftesi [985k] (53876 -> 53903) ... done
[25/41, 01:39/02:03] update: tex4ht [940k] (53849 -> 53919) ... done
[26/41, 01:42/02:05] update: texlive-docindex [156k] (53879 -> 53896) ... done
[27/41, 01:45/02:08] update: texlive-msg-translations [137k] (53808 -> 53920) ... done
[28/41, 01:47/02:10] update: thucoursework [488k] (47781 -> 53891) ... done
[29/41, 01:49/02:12] update: thuthesis [2042k] (53659 -> 53892) ... done
[30/41, 01:52/02:12] update: xetex [610k] (53786 -> 53917) ... done
[31/41, 01:55/02:14] update: xsim [2611k] (53877 -> 53893) ... done
[32/41, 01:58/02:13] update: zxjafont [181k] (53793 -> 53884) ... done
[33/41, 02:00/02:15] auto-install: emoji (53894) [629k] ... done
[34/41, 02:01/02:15] auto-install: noto-emoji (53907) [8743k] ... done
[35/41, 02:04/02:04] auto-install: pdfpc (53902) [6k] ... done
[36/41, 02:04/02:04] auto-install: twemoji-colr (53908) [490k] ... done
[37/41, 02:06/02:06] update: collection-fontsextra [2k] (53836 -> 53908) ... done
[38/41, 02:07/02:07] update: collection-latex [1k] (53677 -> 53921) ... done
[39/41, 02:09/02:09] update: collection-latexextra [6k] (53874 -> 53921) ... done
[40/41, 02:10/02:10] update: collection-latexrecommended [1k] (53677 -> 53921) ... done
[41/41, 02:12/02:12] update: collection-luatex [1k] (53764 -> 53894) ... done
running mktexlsr ...
done running mktexlsr.
running mtxrun --generate ...
done running mtxrun --generate.
running updmap-sys ...
done running updmap-sys.
regenerating fmtutil.cnf in /usr/local/texlive/2019/texmf-dist
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --no-error-if-no-format --byengine xetex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --no-error-if-no-format --byengine xetex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt optex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt optex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt platex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt platex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt lualatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt lualatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt uplatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt uplatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt latex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt latex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt lamed ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt lamed.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt xmltex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt xmltex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt latex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt latex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt lualatex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt lualatex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt eplain ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt eplain.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt mllatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt mllatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt platex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt platex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt dvilualatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt dvilualatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdfxmltex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdfxmltex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdflatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdflatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt dvilualatex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt dvilualatex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdfcslatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdfcslatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdfjadetex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdfjadetex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdflatex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt pdflatex-dev.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt cslatex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt cslatex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt jadetex ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt jadetex.
running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt uplatex-dev ...
done running fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit --byfmt uplatex-dev.
tlmgr: package log updated: /usr/local/texlive/2019/texmf-var/web2c/tlmgr.log


From herbs at wideopenwest.com  Wed Feb 26 15:19:08 2020
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Wed, 26 Feb 2020 08:19:08 -0600
Subject: Today's update
In-Reply-To: <1627dbf1-2976-aa2a-e418-9462d3d8a907@gmail.com>
References: <202002252215.01PMFc3U015989@tug.org>
 <E982F38D-20FA-4950-AD86-D626E23B9C3D@wideopenwest.com>
 <1627dbf1-2976-aa2a-e418-9462d3d8a907@gmail.com>
Message-ID: <1FC08634-4975-4468-9CAF-AEFDC5D63503@wideopenwest.com>



> On Feb 26, 2020, at 8:14 AM, Axel E. Retif <axel.retif at gmail.com> wrote:
> 
> On 2/26/20 8:00 AM, Herbert Schulz wrote:
>>> On Feb 25, 2020, at 4:15 PM, Karl Berry <karl at freefriends.org> wrote:
>>> 
>>>    which is why I was puzzled about the xelatex format not
>>>    being rebuilt.
>>> 
>>> If it happens again, what would help to debug is to know which packages
>>> got updated. (The complete list.) I don't know if it's easy to find that
>>> in TLU ... --thanks, karl.
>>> 
>> Howdy,
>> Just to note: This morning xelatex was rebuilt (along with xetex, etc.) but `byengine' while all the other format updates were `byfmt'. Of course there was an explicit update of xetex.
> 
> Same here, less than two hours ago.
> 
> But first I ran tlmgr with --dry-run. It said it was going to rebuild xelatex and xelatex-dev formats, *and didn't mention any engine*.
> 
> Then with the actual run it rebuilt xetex engine but no xelatex formats.
> 
> I attach the log.
> 
> 
> Best
> 
> Axel
> <tlmgr 2020-02-26 06h30m.txt>

Howdy,

I believe `byengine' means that all formats associated with that engine (xetex in this case) get rebuilt. All the xetex related engines were rebuilt; xetex, xelatex, xelatex-dev, etc.

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)



From ealdrov at mail.math.fsu.edu  Wed Feb 26 16:12:53 2020
From: ealdrov at mail.math.fsu.edu (Ettore Aldrovandi)
Date: Wed, 26 Feb 2020 10:12:53 -0500
Subject: Today's update
In-Reply-To: <E982F38D-20FA-4950-AD86-D626E23B9C3D@wideopenwest.com>
References: <202002252215.01PMFc3U015989@tug.org>
 <E982F38D-20FA-4950-AD86-D626E23B9C3D@wideopenwest.com>
Message-ID: <0B7139DE-766D-41E4-A132-14B68D51446B@math.fsu.edu>

Same output here as Herb. Here?s the cleaned-up output log



?Ettore

Ettore Aldrovandi
Department of Mathematics
Florida State University
http://www.math.fsu.edu/~ealdrov

> On Feb 26, 2020, at 09:00, Herbert Schulz <herbs at wideopenwest.com> wrote:
> 
> 
> 
>> On Feb 25, 2020, at 4:15 PM, Karl Berry <karl at freefriends.org> wrote:
>> 
>>   which is why I was puzzled about the xelatex format not
>>   being rebuilt.
>> 
>> If it happens again, what would help to debug is to know which packages
>> got updated. (The complete list.) I don't know if it's easy to find that
>> in TLU ... --thanks, karl.
>> 
> 
> Howdy,
> 
> Just to note: This morning xelatex was rebuilt (along with xetex, etc.) but `byengine' while all the other format updates were `byfmt'. Of course there was an explicit update of xetex.
> 
> I enclose a (cleaned up) log file produced by TeX Live Utility (running tlmgr) with relevant information.
> 
> <tlmgrLogViaTLU.txt>
> 
> Good Luck,
> 
> Herb Schulz
> (herbs at wideopenwest dot com)
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200226/81cfb3e0/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cronjobs.log
Type: application/octet-stream
Size: 7000 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200226/81cfb3e0/attachment.obj>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200226/81cfb3e0/attachment-0001.html>

From beebe at math.utah.edu  Wed Feb 26 16:41:21 2020
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Wed, 26 Feb 2020 08:41:21 -0700
Subject: Today's update
In-Reply-To: <1627dbf1-2976-aa2a-e418-9462d3d8a907@gmail.com>
Message-ID: <CMM.0.95.0.1582731681.beebe@gamma.math.utah.edu>

I ran another TeX Live 2019 update at Utah this morning about 8am MST
(UTC - 7) and found that 35 *.fmt files were regenerated.

For xelatex-dev.fmt, xelatex.fmt, and xetex.fmt, the steps in the log
file were:

	[22/29, 00:49/00:59] update: xetex [610k] (53786 -> 53917) ... done
	fmtutil-sys --no-error-if-no-engine=luahbtex,luajittex,mfluajit \
		    --no-error-if-no-format --byengine xetex

Curiously, the log file does not later mention xelatex-dev.fmt and
xelatex.fmt, although the filesystem timestamps show that they were
created 3 minutes after xetex.fmt.

That, I think, is mysterious!

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org  beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

From ealdrov at mail.math.fsu.edu  Wed Feb 26 17:17:52 2020
From: ealdrov at mail.math.fsu.edu (Ettore Aldrovandi)
Date: Wed, 26 Feb 2020 11:17:52 -0500
Subject: Today's update
In-Reply-To: <CMM.0.95.0.1582731681.beebe@gamma.math.utah.edu>
References: <CMM.0.95.0.1582731681.beebe@gamma.math.utah.edu>
Message-ID: <910E675B-A363-4CD3-B506-814AAA1EA7C3@math.fsu.edu>


> On Feb 26, 2020, at 10:41, Nelson H. F. Beebe <beebe at math.utah.edu> wrote:
> 
> Curiously, the log file does not later mention xelatex-dev.fmt and
> xelatex.fmt, although the filesystem timestamps show that they were
> created 3 minutes after xetex.fmt.
> 
> That, I think, is mysterious!

Same exact thing for me.

?Ettore

Ettore Aldrovandi
Department of Mathematics
Florida State University
http://www.math.fsu.edu/~ealdrov

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200226/8da29a7e/attachment.html>

From karl at freefriends.org  Wed Feb 26 23:25:41 2020
From: karl at freefriends.org (Karl Berry)
Date: Wed, 26 Feb 2020 15:25:41 -0700
Subject: forcibly removed package stringenc
In-Reply-To: <49859EC5-400C-4572-8427-3B1DC8F7D534@gmail.com>
Message-ID: <202002262225.01QMPftw017915@freefriends.org>

    tlmgr: skipping forcibly removed package: stringenc

    Is this by design?

Well, tlmgr is trying to do what it's been told. Sounds like at some
point you either explicitly or implicitly removed the stringenc.

I moved stringenc (and several other pkgs) to the basic collection-latex
yesterday, because hyperref depends on it, and hyperref is in c-latex.

Therefore I suggest running:
tlmgr install stringenc

Best,
Karl

From achirvasub at gmail.com  Wed Feb 26 23:39:41 2020
From: achirvasub at gmail.com (A.C.)
Date: Wed, 26 Feb 2020 17:39:41 -0500
Subject: forcibly removed package stringenc
In-Reply-To: <202002262225.01QMPftw017915@freefriends.org>
References: <202002262225.01QMPftw017915@freefriends.org>
Message-ID: <C66EE723-59FA-4B6C-A306-96854CB38789@gmail.com>

Thanks!

On February 26, 2020 5:25:41 PM EST, Karl Berry <karl at freefriends.org> wrote:
>    tlmgr: skipping forcibly removed package: stringenc
>
>    Is this by design?
>
>Well, tlmgr is trying to do what it's been told. Sounds like at some
>point you either explicitly or implicitly removed the stringenc.
>

Oh, certainly not explicitly. 

>I moved stringenc (and several other pkgs) to the basic
>collection-latex
>yesterday, because hyperref depends on it, and hyperref is in c-latex.
>

I'm guessing that must have effected some strange interaction between the collections I have installed (I don't have everything, and this issue was popping up on two systems where the install is fairly minimal).

>Therefore I suggest running:
>tlmgr install stringenc
>

Yep, I did that shortly after writing; it worked fine and resolved the matter (on both machines where it manifested).

Thank you!

>Best,
>Karl


From preining at logic.at  Wed Feb 26 23:47:34 2020
From: preining at logic.at (Norbert Preining)
Date: Thu, 27 Feb 2020 07:47:34 +0900
Subject: forcibly removed package stringenc
In-Reply-To: <49859EC5-400C-4572-8427-3B1DC8F7D534@gmail.com>
References: <49859EC5-400C-4572-8427-3B1DC8F7D534@gmail.com>
Message-ID: <20200226224734.35du2iwctpgj4ohd@burischnitzel.preining.info>

Hi

> tlmgr: skipping forcibly removed package: stringenc

No, probably one of the last updates was interrupted due to user
interaction or other reason. Just do

	tlmgr update --reinstall-forcibly-removed --all

as mentioned in the tlmgr help output and the man page.

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Wed Feb 26 23:55:09 2020
From: preining at logic.at (Norbert Preining)
Date: Thu, 27 Feb 2020 07:55:09 +0900
Subject: TeX Live performance issues on CIFS mount.
In-Reply-To: <6a87c7e674602e03ac3f6d13c92e91fdcfb23f28.camel@secura.com>
References: <27ea3aec4c4f58d9d30d39974891f8735d864331.camel@secura.com>
 <6a87c7e674602e03ac3f6d13c92e91fdcfb23f28.camel@secura.com>
Message-ID: <20200226225509.ioe3s2kn4ffdrjxz@burischnitzel.preining.info>

Hi Max,

On Wed, 26 Feb 2020, Max Philippens | Secura wrote:
> RHEL 7.7 TeXLive 2019 (from online install):
> On CIFS: 0m4.174s
> On Local Disk: 0m0.248s

> It seems like something has changed between the 2017 version of TeX
> Live and the 2018 version that makes running on CIFS mounts
> painstakingly slow.

The TeX Live guide [1] lists
	Kpathsea: Case-insensitive filename matching now done by default
	in non-system directories; set texmf.cnf or environment variable
	texmf_casefold_search to 0 to disable. Full details in the
	Kpathsea manual (http://tug.org/kpathsea).

The details are explained in [2] Casefolding search
	In Kpathsea version 6.3.0 (released with TeX Live 2018), a new
	fallback search was implemented on Unix-like systems, including
	Macs: for each path element in turn, if no match is found by the
	normal search, and the path element allows for checking the
	filesystem, a second check is made for a case-insensitive match.

If you just want to go back, set, as described above, the texmf.cnf
variable or env variable
	texmf_casefold_search=0
that should bring it back to the previous speed.

[1] https://www.tug.org/texlive/doc/texlive-en/texlive-en.html#x1-850009.1.15
[2] https://tug.org/texinfohtml/kpathsea.html#Casefolding-search


Hope that helps

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From achirvasub at gmail.com  Wed Feb 26 23:56:46 2020
From: achirvasub at gmail.com (A.C.)
Date: Wed, 26 Feb 2020 17:56:46 -0500
Subject: forcibly removed package stringenc
In-Reply-To: <20200226224734.35du2iwctpgj4ohd@burischnitzel.preining.info>
References: <49859EC5-400C-4572-8427-3B1DC8F7D534@gmail.com>
 <20200226224734.35du2iwctpgj4ohd@burischnitzel.preining.info>
Message-ID: <C6ED17D3-702A-4847-B515-801CBDB25B5A@gmail.com>

Thanks! Simply installing that package w/

tlmgr install stringenc

worked out fine.

On February 26, 2020 5:47:34 PM EST, Norbert Preining <preining at logic.at> wrote:
>Hi
>
>> tlmgr: skipping forcibly removed package: stringenc
>
>No, probably one of the last updates was interrupted due to user
>interaction or other reason. Just do
>
>	tlmgr update --reinstall-forcibly-removed --all
>
>as mentioned in the tlmgr help output and the man page.
>
>Norbert
>
>--
>PREINING Norbert                              https://www.preining.info
>Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
>GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From preining at logic.at  Thu Feb 27 00:15:45 2020
From: preining at logic.at (Norbert Preining)
Date: Thu, 27 Feb 2020 08:15:45 +0900
Subject: babel greep and missing characters in TL2019
Message-ID: <20200226231545.upd5lxnptmrjxj3f@burischnitzel.preining.info>

Dear all,

(please keep all cc)

we found that using babel greek somehow is broken in TL2019 (current
state), while in 2018 and 2017 it was working fine.

The sample document is (extracted from a dblatex document of the
Debian installation guide in Greek):

\documentclass{article}
\usepackage{fontspec}
\setmainfont{FreeSerif}
\usepackage[greek]{babel}

\begin{document}
?? ??????? ???? ???????? ??????? ??? ?? ??????? Debian GNU/Linux 11
??? ??? ?????????????  64-{}bit PC (?amd64?). ???????? ?????? ???????
?? ???????? ??????????? ??? ?????????? ??????? ?? ?? ??? ?? 
???????????? ???? ??? ???????? ?????? ????? ?? ????????? ??? ??????? Debian.
\end{document}

With TL2017 and 2018, all is fine.
With TL2019 lots of characters are missing:
LaTeX Font Warning: Font shape `LGR/FreeSerif(0)/m/n' undefined
(Font)              using `LGR/cmr/m/n' instead on input line 2.

) (/home/norbert/tl/2019/texmf-dist/tex/latex/base/ts1cmr.fd) [1] (./bla.aux)

LaTeX Font Warning: Some font shapes were not available, defaults substituted.

 )


When removing the 
	\usepackager[greek]{babel}
then it works again in TL2019.

Can someone explain me what has changed, and what changes are necessary
to get these kind of documents working again?

Thanks

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From news3 at nililand.de  Thu Feb 27 00:33:40 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 27 Feb 2020 00:33:40 +0100
Subject: babel greep and missing characters in TL2019
References: <20200226231545.upd5lxnptmrjxj3f@burischnitzel.preining.info>
Message-ID: <185792oebn1be$.dlg@nililand.de>

Am Thu, 27 Feb 2020 08:15:45 +0900 schrieb Norbert Preining:


> we found that using babel greek somehow is broken in TL2019 (current
> state), while in 2018 and 2017 it was working fine.

See https://github.com/latex3/babel/issues/48

I guess nobody notified the author ;-(

-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


From preining at logic.at  Thu Feb 27 01:24:37 2020
From: preining at logic.at (Norbert Preining)
Date: Thu, 27 Feb 2020 09:24:37 +0900
Subject: babel greep and missing characters in TL2019
In-Reply-To: <185792oebn1be$.dlg@nililand.de>
References: <20200226231545.upd5lxnptmrjxj3f@burischnitzel.preining.info>
 <185792oebn1be$.dlg@nililand.de>
Message-ID: <20200227002437.yey65t2yelzeieua@bulldog.preining.info>

Hi G?nther,

there is a serious problem in current babel greek.ldf, in that it
defaults to LGR with Unicode engines:

> See https://github.com/latex3/babel/issues/48

because it checks for tuenc being loaded, which is not the case anymore.

Could you please update greek.ldf, because at the moment lots of
documents compiled with xelatex are completely broken with lots of
characters missing.

Thanks.

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Thu Feb 27 01:58:14 2020
From: preining at logic.at (Norbert Preining)
Date: Thu, 27 Feb 2020 09:58:14 +0900
Subject: babel greek, MakeUpperCase, and \textalpha
Message-ID: <20200227005814.rnmvlit6u64dqxwa@bulldog.preining.info>

Hi all,

another babel greek versus TU problem I guess:

\documentclass{article}
\usepackage[greek]{babel}
%\makeatletter
% \renewcommand*{\greekfontencoding}{TU}
%  \renewcommand*{\bbl at greek@fontencdef}{greek-euenc}
%  \renewcommand*{\LastDeclaredEncoding}{TU}
\begin{document}
\MakeUppercase  {\textalpha }
\end{document}


- without the makeatletter part
	LGR encoding and "A" shows up
- with the makeatletter part
	TU encoding and
	! LaTeX Error: Command \textAlpha unavailable in encoding TU.

BTW, this is not only for the textAlpha, but for several others, too.

Is this a bug in th TU encoding?

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From d.p.carlisle at gmail.com  Thu Feb 27 02:03:44 2020
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 27 Feb 2020 01:03:44 +0000
Subject: babel greep and missing characters in TL2019
In-Reply-To: <20200227002437.yey65t2yelzeieua@bulldog.preining.info>
References: <20200226231545.upd5lxnptmrjxj3f@burischnitzel.preining.info>
 <185792oebn1be$.dlg@nililand.de>
 <20200227002437.yey65t2yelzeieua@bulldog.preining.info>
Message-ID: <CAEW6iOizXj_QOxbvWQFmhu8eZmKyFhJzP-V2uoi_TQ3K0Vvbzg@mail.gmail.com>

Until greek.ldf is updated you can process the documents with

\expandafter\def\csname ver at tuenc.def\endcsname{}
\usepackage[greek]{babel}
\expandafter\let\csname ver at tuenc.def\endcsname\relax


so the TU code path is taken

David


On Thu, 27 Feb 2020 at 00:25, Norbert Preining <preining at logic.at> wrote:

> Hi G?nther,
>
> there is a serious problem in current babel greek.ldf, in that it
> defaults to LGR with Unicode engines:
>
> > See https://github.com/latex3/babel/issues/48
>
> because it checks for tuenc being loaded, which is not the case anymore.
>
> Could you please update greek.ldf, because at the moment lots of
> documents compiled with xelatex are completely broken with lots of
> characters missing.
>
> Thanks.
>
> Norbert
>
> --
> PREINING Norbert                              https://www.preining.info
> Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
> GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200227/f21000d0/attachment-0001.html>

From preining at logic.at  Thu Feb 27 03:10:06 2020
From: preining at logic.at (Norbert Preining)
Date: Thu, 27 Feb 2020 11:10:06 +0900
Subject: babel greep and missing characters in TL2019
In-Reply-To: <CAEW6iOizXj_QOxbvWQFmhu8eZmKyFhJzP-V2uoi_TQ3K0Vvbzg@mail.gmail.com>
References: <20200226231545.upd5lxnptmrjxj3f@burischnitzel.preining.info>
 <185792oebn1be$.dlg@nililand.de>
 <20200227002437.yey65t2yelzeieua@bulldog.preining.info>
 <CAEW6iOizXj_QOxbvWQFmhu8eZmKyFhJzP-V2uoi_TQ3K0Vvbzg@mail.gmail.com>
Message-ID: <20200227021006.r6x4kig2whnl7c5r@bulldog.preining.info>

Hi David,

> \expandafter\def\csname ver at tuenc.def\endcsname{}
> \usepackage[greek]{babel}
> \expandafter\let\csname ver at tuenc.def\endcsname\relax

Is the final un-define necessary?

Reason: these are generated documents (dblatex docbook xml) and
injecting code into arbitrary locations is not trivial. I can do the 
first def easily, but the undef is a bit painful.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Thu Feb 27 03:13:41 2020
From: preining at logic.at (Norbert Preining)
Date: Thu, 27 Feb 2020 11:13:41 +0900
Subject: babel greep and missing characters in TL2019
In-Reply-To: <CAEW6iOizXj_QOxbvWQFmhu8eZmKyFhJzP-V2uoi_TQ3K0Vvbzg@mail.gmail.com>
References: <20200226231545.upd5lxnptmrjxj3f@burischnitzel.preining.info>
 <185792oebn1be$.dlg@nililand.de>
 <20200227002437.yey65t2yelzeieua@bulldog.preining.info>
 <CAEW6iOizXj_QOxbvWQFmhu8eZmKyFhJzP-V2uoi_TQ3K0Vvbzg@mail.gmail.com>
Message-ID: <20200227021341.ofddot3j5qxoxub6@bulldog.preining.info>

BTW David,

On Thu, 27 Feb 2020, David Carlisle wrote:
> \expandafter\def\csname ver at tuenc.def\endcsname{}
> \usepackage[greek]{babel}

That fixed even the other problem with
	\MakeUpperCase {\textalpha }
!!

Thanks a lot

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From d.p.carlisle at gmail.com  Thu Feb 27 10:38:22 2020
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 27 Feb 2020 09:38:22 +0000
Subject: babel greep and missing characters in TL2019
In-Reply-To: <20200227021006.r6x4kig2whnl7c5r@bulldog.preining.info>
References: <20200226231545.upd5lxnptmrjxj3f@burischnitzel.preining.info>
 <185792oebn1be$.dlg@nililand.de>
 <20200227002437.yey65t2yelzeieua@bulldog.preining.info>
 <CAEW6iOizXj_QOxbvWQFmhu8eZmKyFhJzP-V2uoi_TQ3K0Vvbzg@mail.gmail.com>
 <20200227021006.r6x4kig2whnl7c5r@bulldog.preining.info>
Message-ID: <CAEW6iOjxvzU19qK2fC77ygDU4V8jS0VPSpyYrHS6gYutTQqS+Q@mail.gmail.com>

On Thu, 27 Feb 2020 at 02:10, Norbert Preining <preining at logic.at> wrote:

> Hi David,
>
> > \expandafter\def\csname ver at tuenc.def\endcsname{}
> > \usepackage[greek]{babel}
> > \expandafter\let\csname ver at tuenc.def\endcsname\relax
>
> Is the final un-define necessary?
>

It's better but most likely not needed because in a typical xetex/luatex
document there are no encoding changes anyway, the whole document is set in
a single encoding, TU (Unicode).
so chances are that no later code will be checking whether
<newencoding>enc.def has or has not already been  loaded.


> Reason: these are generated documents (dblatex docbook xml) and
> injecting code into arbitrary locations is not trivial. I can do the
> first def easily, but the undef is a bit painful.
>

Hopefully we can get the necessary one line change to the babel greek file
then you won't need to add either

>
> Best
>


David


> Norbert
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200227/96e31ecc/attachment.html>

From news3 at nililand.de  Thu Feb 27 12:06:19 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 27 Feb 2020 12:06:19 +0100
Subject: babel greek, MakeUpperCase, and \textalpha
References: <20200227005814.rnmvlit6u64dqxwa@bulldog.preining.info>
Message-ID: <b93qovc49q3h$.dlg@nililand.de>

Am Thu, 27 Feb 2020 09:58:14 +0900 schrieb Norbert Preining:

> Hi all,
> 
> another babel greek versus TU problem I guess:

> - with the makeatletter part
> 	TU encoding and
> 	! LaTeX Error: Command \textAlpha unavailable in encoding TU.
> 
> BTW, this is not only for the textAlpha, but for several others, too.
> 
> Is this a bug in th TU encoding?

No, but you also need to load the def files:

\documentclass{article}
\usepackage[greek]{babel}
\makeatletter
  \renewcommand*{\greekfontencoding}{TU}
  \renewcommand*{\bbl at greek@fontencdef}{greek-euenc}
  \renewcommand*{\LastDeclaredEncoding}{TU}
  \InputIfFileExists{\bbl at greek@fontencdef .def}{}{} 
\makeatother  
\begin{document}
\MakeUppercase  {\textalpha }
\end{document}

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From rdtennent at gmail.com  Thu Feb 27 17:31:45 2020
From: rdtennent at gmail.com (Bob Tennent)
Date: Thu, 27 Feb 2020 11:31:45 -0500
Subject: noto-emoji
Message-ID: <20200227163145.LXyJvGhdU%rdtennent@gmail.com>

According to tlmgr info -list noto-emoji:

This package contains the following files:

    texmf-dist/fonts/truetype/google/noto-emoji/NotoColorEmoji.ttf
    texmf-dist/fonts/truetype/google/noto-emoji/NotoEmoji-Regular.ttf
                              ^^^^^^

But according to kpsewhich NotoEmoji-Regular.ttf:

    texmf-dist/fonts/truetype/public/noto-emoji/NotoEmoji-Regular.ttf
                              ^^^^^^

Bob T.

From preining at logic.at  Thu Feb 27 20:54:32 2020
From: preining at logic.at (Norbert Preining)
Date: Fri, 28 Feb 2020 04:54:32 +0900
Subject: babel greep and missing characters in TL2019
In-Reply-To: <20200227182812.GA3247@heinz.mythennetz>
References: <20200226231545.upd5lxnptmrjxj3f@burischnitzel.preining.info>
 <185792oebn1be$.dlg@nililand.de>
 <20200227002437.yey65t2yelzeieua@bulldog.preining.info>
 <20200227182812.GA3247@heinz.mythennetz>
Message-ID: <20200227195432.u2mnngwjybvk73ot@burischnitzel.preining.info>

Hi G?nther,

> Why isn't it loaded anymore?

Something the LaTeX Team has to answer, I guess because it is the
built-in encoding ...

> Thank you for making me aware of the problem. I will try a fix.
> See the first version of a patch below.

For my test cases to run smoothly, I need to add
	\renewcommand*{\LastDeclaredEncoding}{\UTFencname}
otherwise problems with
	\MakeUpperCase {\textalpha}
arise. 

> -\@ifl at aded{def}{tuenc}{
> -  \providecommand*{\greekfontencoding}{TU}
> +\ifdefined \UTFencname % set by "fontspec.sty"
> +  \providecommand*{\greekfontencoding}{\UTFencname} % typically TU 
>    \providecommand*{\bbl at greek@fontencdef}{greek-euenc}
> -  \renewcommand*{\LastDeclaredEncoding}{TU}

+ \renewcommand*{\LastDeclaredEncoding}{\UTFencname}

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From news3 at nililand.de  Thu Feb 27 21:34:56 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 27 Feb 2020 21:34:56 +0100
Subject: babel greep and missing characters in TL2019
References: <20200226231545.upd5lxnptmrjxj3f@burischnitzel.preining.info>
 <185792oebn1be$.dlg@nililand.de>
 <20200227002437.yey65t2yelzeieua@bulldog.preining.info>
 <20200227182812.GA3247@heinz.mythennetz>
 <20200227195432.u2mnngwjybvk73ot@burischnitzel.preining.info>
Message-ID: <tmdsb5h2n7yz.dlg@nililand.de>

Am Fri, 28 Feb 2020 04:54:32 +0900 schrieb Norbert Preining:

>> Why isn't it loaded anymore?
> 
> Something the LaTeX Team has to answer, I guess because it is the
> built-in encoding ...

It is loaded in the kernel (and this hasn't changed). The difference
is that it is now loaded **only** in the kernel (and this is not
recorded) and not a second time when fontspec is used. E.g this here

\documentclass{book}

\usepackage[LGR]{fontenc}
\usepackage[LGR]{fontenc}
\usepackage[LGR]{fontenc}
\begin{document}
\end{document}

would with an older latex, e.g. texlive 2018 load lgrenc.def three
times:

(c:/texlive/2018/texmf-dist/tex/latex/base/fontenc.sty
(c:/texlive/2018/texmf-dist/tex/latex/greek-fontenc/lgrenc.def
(c:/texlive/2018/texmf-dist/tex/latex/greek-inputenc/lgrenc.dfu)
(c:/texlive/2018/texmf-dist/tex/latex/greek-fontenc/greek-fontenc.def))
(c:/texlive/2018/texmf-dist/tex/latex/cbfonts-fd/lgrcmr.fd))
(c:/texlive/2018/texmf-dist/tex/latex/base/fontenc.sty
(c:/texlive/2018/texmf-dist/tex/latex/greek-fontenc/lgrenc.def
LGR font encoding definitions already loaded))
(c:/texlive/2018/texmf-dist/tex/latex/base/fontenc.sty
(c:/texlive/2018/texmf-dist/tex/latex/greek-fontenc/lgrenc.def
LGR font encoding definitions already loaded)) (

With a new latex it is loaded only once:

(c:/texlive/2019/texmf-dist/tex/latex/base/bk10.clo))
(c:/texlive/2019/texmf-dist/tex/latex/base/fontenc.sty
(c:/texlive/2019/texmf-dist/tex/latex/greek-fontenc/lgrenc.def
(c:/texlive/2019/texmf-dist/tex/latex/greek-inputenc/lgrenc.dfu)
(c:/texlive/2019/texmf-dist/tex/latex/greek-fontenc/greek-fontenc.def))
(c:/texlive/2019/texmf-dist/tex/latex/cbfonts-fd/lgrcmr.fd))
(c:/texlive/2019/texmf-dist/tex/latex/base/fontenc.sty)
(c:/texlive/2019/texmf-dist/tex/latex/base/fontenc.sty)


On the whole it is an improvement, but it means the ifloaded-test
now fails for the def-file which are included in the format. 

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From g.milde at quantentunnel.de  Thu Feb 27 19:28:12 2020
From: g.milde at quantentunnel.de (Guenter Milde)
Date: Thu, 27 Feb 2020 19:28:12 +0100
Subject: babel greep and missing characters in TL2019
In-Reply-To: <20200227002437.yey65t2yelzeieua@bulldog.preining.info>
References: <20200226231545.upd5lxnptmrjxj3f@burischnitzel.preining.info>
 <185792oebn1be$.dlg@nililand.de>
 <20200227002437.yey65t2yelzeieua@bulldog.preining.info>
Message-ID: <20200227182812.GA3247@heinz.mythennetz>

On 27.02.20, Norbert Preining wrote:
> Hi G?nther,

> there is a serious problem in current babel greek.ldf, in that it
> defaults to LGR with Unicode engines:

> > See https://github.com/latex3/babel/issues/48

> because it checks for tuenc being loaded, which is not the case anymore.

Why isn't it loaded anymore?

> Could you please update greek.ldf, because at the moment lots of
> documents compiled with xelatex are completely broken with lots of
> characters missing.

Thank you for making me aware of the problem. I will try a fix.
See the first version of a patch below.


G?nter







--- a/userweb/htdocs/greek/babel-greek/babel-greek.dtx
+++ b/userweb/htdocs/greek/babel-greek/babel-greek.dtx
@@ -37,7 +37,7 @@
 %<code>\ProvidesLanguage{greek}
 %\fi
 %\ProvidesFile{babel-greek.dtx}
-        [2016/09/07 v1.9h Greek support for the babel system]
+        [2020/02/27 v1.9i Greek support for the babel system]
 %\iffalse
 %% File `babel-greek.dtx'
 %% Greek language Definition File
@@ -125,6 +125,7 @@
 %   and fixed latinencoding.}
 % \changes{babel-greek-1.9h}{2019/07/11}{Move breathing composite commands
 %   to textalpha.}
+% \changes{babel-greek-1.9i}{2020/02/27}{Update check for Unicode fonts.}
 %
 % \title{Babel support for the Greek language}
 % \author{Apostolos Syropoulos, G?nter Milde}
@@ -463,29 +464,20 @@
 % \changes{greek-1.8}{2013/11/30}{Check for EU1/EU2 font encoding
 %    instead of engine}
 % \changes{babel-greek-1.9f}{2016/02/04}{Check also for TU font encoding.}
+% \changes{babel-greek-1.9i}{2020/02/27}{Update check for Unicode fonts.}
 %
 % \DescribeMacro\greekfontencoding
 % We test for available font encodings and set |\greekfontencoding|
 % and the internal macro |\bbl at greek@fontencdef| with the name of the
 % font definition file with Greek LICR macros. The fallback is LGR.
 %    \begin{macrocode}
-\@ifl at aded{def}{tuenc}{
-  \providecommand*{\greekfontencoding}{TU}
+\ifdefined \UTFencname % set by "fontspec.sty"
+  \providecommand*{\greekfontencoding}{\UTFencname} % typically TU 
   \providecommand*{\bbl at greek@fontencdef}{greek-euenc}
-  \renewcommand*{\LastDeclaredEncoding}{TU}
-}{}
-\@ifl at aded{def}{eu1enc}{
-  \providecommand*{\greekfontencoding}{EU1}
-  \providecommand*{\bbl at greek@fontencdef}{greek-euenc}
-  \renewcommand*{\LastDeclaredEncoding}{EU1}
-}{}
-\@ifl at aded{def}{eu2enc}{
-  \providecommand*{\greekfontencoding}{EU2}
-  \providecommand*{\bbl at greek@fontencdef}{greek-euenc}
-  \renewcommand{\LastDeclaredEncoding}{EU2}
-}{}
-\providecommand*{\greekfontencoding}{LGR}
-\providecommand*{\bbl at greek@fontencdef}{lgrenc}
+\else
+  \providecommand*{\greekfontencoding}{LGR}
+  \providecommand*{\bbl at greek@fontencdef}{lgrenc}
+\fi
 %    \end{macrocode}
 % Ensure that the Greek LICR macros are available:
 %    \begin{macrocode}

From karl at freefriends.org  Thu Feb 27 23:27:51 2020
From: karl at freefriends.org (Karl Berry)
Date: Thu, 27 Feb 2020 15:27:51 -0700
Subject: noto-emoji
In-Reply-To: <20200227163145.LXyJvGhdU%rdtennent@gmail.com>
Message-ID: <202002272227.01RMRpY2004707@freefriends.org>

Hi Bob,

        texmf-dist/fonts/truetype/public/noto-emoji/NotoEmoji-Regular.ttf
                                  ^^^^^^

It makes no practical difference as far as I know, but ok, I changed it
to /google/ for consistency. Thanks. -k

From rdtennent at gmail.com  Thu Feb 27 23:57:37 2020
From: rdtennent at gmail.com (Bob Tennent)
Date: Thu, 27 Feb 2020 17:57:37 -0500
Subject: noto-emoji
In-Reply-To: <202002272227.01RMRpY2004707@freefriends.org>
References: <202002272227.01RMRpY2004707@freefriends.org>
Message-ID: <20200227225737.AkK3_0fzY%rdtennent@gmail.com>

 >|It makes no practical difference as far as I know, but ok, I changed it
 >|to /google/ for consistency. Thanks. -k

Hi Karl. I needed to find the ttf files and used tlmgr
info -list. But that sent me to the wrong place. That's a
practical issue for me :+)

Best,
Bob

From karl at freefriends.org  Fri Feb 28 00:02:40 2020
From: karl at freefriends.org (Karl Berry)
Date: Thu, 27 Feb 2020 16:02:40 -0700
Subject: noto-emoji
In-Reply-To: <20200227225737.AkK3_0fzY%rdtennent@gmail.com>
Message-ID: <202002272302.01RN2ed5006025@freefriends.org>

    Hi Karl. I needed to find the ttf files and used tlmgr
    info -list. But that sent me to the wrong place. That's a
    practical issue for me :+)

I don't understand. tlmgr info -list reports the files as they are
installed in TL. E.g., right now (before the change), I get
run files:                                                              
  texmf-dist/fonts/truetype/public/noto-emoji/NotoColorEmoji.ttf        
  texmf-dist/fonts/truetype/public/noto-emoji/NotoEmoji-Regular.ttf       

And that is where the files actually are (were). What am I missing?

From karl at freefriends.org  Fri Feb 28 00:41:08 2020
From: karl at freefriends.org (Karl Berry)
Date: Thu, 27 Feb 2020 16:41:08 -0700
Subject: Today's update
In-Reply-To: <E982F38D-20FA-4950-AD86-D626E23B9C3D@wideopenwest.com>
Message-ID: <202002272341.01RNf8de007250@freefriends.org>

    hs> [Tue Feb 25 06:58:53 2020] update: l3backend (53875 -> 53888)

That explains the lack of building xelatex. Right now all the latex fmts
except xelatex depend on l3backend. This will change in due time.

(Boring reason for this: I know Joseph said the fmts don't depend on it,
and I concur with that, but this was the easiest way to make sure that
it was a dependency and thus would get installed if need be, for
non-full installations. Eventually I'll add explicit depend lines,
probably. Meanwhile, I left it out for xelatex more or less as an
experiment, since it was convenient to try, due to the way our *.tlpsrc
files are organized.)

    Just to note: This morning xelatex was rebuilt (along with xetex, etc.)
    but `byengine' while all the other format updates were `byfmt'.

I believe that's the expected outcome ...

    Of course there was an explicit update of xetex.

.. because of this. For no particular reason except experimentation, I
defined the fmttriggers differently for xetex and xelatex than all other
fmts (including xe*tex-dev). It will probably all become consistent in
TL20.

nb> Curiously, the log file does not later mention xelatex-dev.fmt and
nb> xelatex.fmt, although the filesystem timestamps show that they were
nb> created 3 minutes after xetex.fmt.
nb> That, I think, is mysterious!

I agree, it is mysterious. I cannot conceive of how that could come
about. Unless the "log file" you're referring to is tlmgr.log, which
doesn't at present record fmtutil runs at all. (By default, that output
only goes to stdout during the tlmgr run.)


By the way, the package list which triggers fmt rebuilds can be seen with
  grep fmttriggers .../tlpkg/texlive.tlpdb
(There are long lines in this output, so beware of that.)

These "triggers" are also implicit dependencies of the package in which
they appear (as if "depend foo" was specified). --best, karl.

From karl at freefriends.org  Fri Feb 28 00:47:45 2020
From: karl at freefriends.org (Karl Berry)
Date: Thu, 27 Feb 2020 16:47:45 -0700
Subject: freeze as of 2/28
Message-ID: <202002272347.01RNljai007499@freefriends.org>

Barring disaster, I plan to let tonight's update go through as usual,
and then start tomorrow with the freeze of TL19 and move to the TL20
pretest.

It will take several days for the initial pretest to be ready, so
everyone can take a few days off from the endless updates and format
rebuilds :). I'll send an announcement when it's ready. We don't expect
anything especially different in the process from previous
years. --thanks, karl.

From rdtennent at gmail.com  Fri Feb 28 00:53:20 2020
From: rdtennent at gmail.com (Bob Tennent)
Date: Thu, 27 Feb 2020 18:53:20 -0500
Subject: noto-emoji
In-Reply-To: <202002272302.01RN2ed5006025@freefriends.org>
References: <202002272302.01RN2ed5006025@freefriends.org>
Message-ID: <20200227235320.ua2yaxQ5L%rdtennent@gmail.com>

 >|    Hi Karl. I needed to find the ttf files and used tlmgr
 >|    info -list. But that sent me to the wrong place. That's a
 >|    practical issue for me :+)
 >|
 >|I don't understand. tlmgr info -list reports the files as they are
 >|installed in TL. E.g., right now (before the change), I get
 >|run files:
 >|  texmf-dist/fonts/truetype/public/noto-emoji/NotoColorEmoji.ttf
 >|  texmf-dist/fonts/truetype/public/noto-emoji/NotoEmoji-Regular.ttf
 >|
 >|And that is where the files actually are (were). What am I missing?

That's what I get now too. But this morning, I got different
results, as I reported. I dunno why.

Bob

From zdenek.wagner at gmail.com  Fri Feb 28 01:01:17 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 28 Feb 2020 01:01:17 +0100
Subject: freeze as of 2/28
In-Reply-To: <202002272347.01RNljai007499@freefriends.org>
References: <202002272347.01RNljai007499@freefriends.org>
Message-ID: <CAC1phyZEx7MWX9aC6pFGu9h-kcSuDdXj_-FPS4rtHjAwRZ2GGQ@mail.gmail.com>

Hi all,

after iftex/ifpdf/ifxetex change zwpagelayout now fails. It is now
fixed on my computer but I have to update documentation. It's after
midnight here in Prague, I am too sleepy so I need about 15 hours to
make a CTAN upload. Would it be possible to wait for it so that TL
would not be frozen with failing zwpagelayout?

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

p? 28. 2. 2020 v 0:47 odes?latel Karl Berry <karl at freefriends.org> napsal:
>
> Barring disaster, I plan to let tonight's update go through as usual,
> and then start tomorrow with the freeze of TL19 and move to the TL20
> pretest.
>
> It will take several days for the initial pretest to be ready, so
> everyone can take a few days off from the endless updates and format
> rebuilds :). I'll send an announcement when it's ready. We don't expect
> anything especially different in the process from previous
> years. --thanks, karl.


From karl at freefriends.org  Fri Feb 28 02:52:07 2020
From: karl at freefriends.org (Karl Berry)
Date: Thu, 27 Feb 2020 18:52:07 -0700
Subject: freeze as of 2/28
In-Reply-To: <CAC1phyZEx7MWX9aC6pFGu9h-kcSuDdXj_-FPS4rtHjAwRZ2GGQ@mail.gmail.com>
Message-ID: <202002280152.01S1q7Te011393@freefriends.org>

    Would it be possible to wait for it so that TL
    would not be frozen with failing zwpagelayout?

Ok, will delay another day. Hope it comes through tomorrow, and that you
are getting a good night's sleep :). -k

From xdzeng96 at gmail.com  Fri Feb 28 12:20:27 2020
From: xdzeng96 at gmail.com (Xiangdong Zeng)
Date: Fri, 28 Feb 2020 19:20:27 +0800
Subject: noto-emoji
In-Reply-To: <20200227235320.ua2yaxQ5L%rdtennent@gmail.com>
References: <202002272302.01RN2ed5006025@freefriends.org>
 <20200227235320.ua2yaxQ5L%rdtennent@gmail.com>
Message-ID: <CAOCKH6V8D-ue0Y1iOMVw8PTn-zpJyj2kkhy9OTOke2N8js+1YA@mail.gmail.com>

Hi,

After update to revision 53943, the path becomes

  texmf-dist/fonts/truetype/noto/noto-emoji/NotoColorEmoji.ttf
                            ^^^^

But I think it should be "google". Is this correct?

Xiangdong Zeng

Bob Tennent <rdtennent at gmail.com> ?2020?2?28??? ??7:54???

>  >|    Hi Karl. I needed to find the ttf files and used tlmgr
>  >|    info -list. But that sent me to the wrong place. That's a
>  >|    practical issue for me :+)
>  >|
>  >|I don't understand. tlmgr info -list reports the files as they are
>  >|installed in TL. E.g., right now (before the change), I get
>  >|run files:
>  >|  texmf-dist/fonts/truetype/public/noto-emoji/NotoColorEmoji.ttf
>  >|  texmf-dist/fonts/truetype/public/noto-emoji/NotoEmoji-Regular.ttf
>  >|
>  >|And that is where the files actually are (were). What am I missing?
>
> That's what I get now too. But this morning, I got different
> results, as I reported. I dunno why.
>
> Bob
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200228/9b10a150/attachment.html>

From rdtennent at gmail.com  Fri Feb 28 14:46:34 2020
From: rdtennent at gmail.com (Bob Tennent)
Date: Fri, 28 Feb 2020 08:46:34 -0500
Subject: noto-emoji
Message-ID: <20200228134634.ft-KbXvpa%rdtennent@gmail.com>

 >|> That's what I get now too. But this morning, I got
 >|> different results, as I reported. I dunno why.

Herb Schultz has explained:

 >|Using `tlmgr info --list noto-emoji` you get the actual location for
 >|the ttf files;
 >|
 >|----------------
 >|run files:
 >|  texmf-dist/fonts/truetype/noto/noto-emoji/NotoColorEmoji.ttf
 >|  texmf-dist/fonts/truetype/noto/noto-emoji/NotoEmoji-Regular.ttf
 >|----------------
 >|
 >|after updating this morning.
 >|
 >|However, `texdoc noto-emoji` gives
 >|
 >|----------------
 >|This package contains the following files:
 >|
 >|    texmf-dist/fonts/truetype/google/noto-emoji/NotoColorEmoji.ttf
 >|    texmf-dist/fonts/truetype/google/noto-emoji/NotoEmoji-Regular.ttf
 >|    texmf-dist/doc/fonts/noto-emoji/README.md
 >|----------------
 >|
 >|so that's where the ``google'' is coming from.

From jbezosl at gmail.com  Fri Feb 28 16:10:04 2020
From: jbezosl at gmail.com (Javier Bezos)
Date: Fri, 28 Feb 2020 16:10:04 +0100
Subject: babel greep and missing characters in TL2019
In-Reply-To: <185792oebn1be$.dlg@nililand.de>
References: <20200226231545.upd5lxnptmrjxj3f@burischnitzel.preining.info>
 <185792oebn1be$.dlg@nililand.de>
Message-ID: <19c839d7-dce7-d5ef-fe00-e496a1661daa@gmail.com>

 > I guess nobody notified the author ;-(

So it seems, and I should have done it. I just assumed (wrongly)
the issue affected only the babel core.

Javier

From preining at logic.at  Fri Feb 28 22:01:39 2020
From: preining at logic.at (Norbert Preining)
Date: Sat, 29 Feb 2020 06:01:39 +0900
Subject: babel greep and missing characters in TL2019
In-Reply-To: <19c839d7-dce7-d5ef-fe00-e496a1661daa@gmail.com>
References: <20200226231545.upd5lxnptmrjxj3f@burischnitzel.preining.info>
 <185792oebn1be$.dlg@nililand.de>
 <19c839d7-dce7-d5ef-fe00-e496a1661daa@gmail.com>
Message-ID: <20200228210139.jwx3vhqebt2sq2e6@burischnitzel.preining.info>

Hi Javier,

On Fri, 28 Feb 2020, Javier Bezos wrote:
> So it seems, and I should have done it. I just assumed (wrongly)
> the issue affected only the babel core.

No worries, fixed babel-greek was uploaded today to CTAN by G?nther.

All the best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Fri Feb 28 23:54:40 2020
From: karl at freefriends.org (Karl Berry)
Date: Fri, 28 Feb 2020 15:54:40 -0700
Subject: noto-emoji
In-Reply-To: <20200228134634.ft-KbXvpa%rdtennent@gmail.com>
Message-ID: <202002282254.01SMse2D030353@freefriends.org>

    xdzeng>
      texmf-dist/fonts/truetype/noto/noto-emoji/NotoColorEmoji.ttf
                                ^^^^
    But I think it should be "google". Is this correct?

Hi Zeng - you are correct. Fixed again for tonight (final!) build.
Thanks. (And shoot me now. :)

     [texdoc noto-emoji]
     |    texmf-dist/fonts/truetype/google/noto-emoji/NotoColorEmoji.ttf
     |    texmf-dist/fonts/truetype/google/noto-emoji/NotoEmoji-Regular.ttf

Those "paths" are straight text written in noto-emoji's README.md, not
anything generated by texdoc or tlmgr, and thus not necessarily
corresponding to reality. Not that they are "wrong" or unreasonable, but
in principle, I think the fewer assumptions about file placement, the
better, for exactly the reasons we have been seeing. Also, and more
importantly, I don't think MiKTeX has a texmf-dist.

Maybe you (Zeng) could change the README to just give the base .ttf
filenames in a future upload?

Thanks,
Karl

From A.Grahn at web.de  Sat Feb 29 00:30:31 2020
From: A.Grahn at web.de (Alexander Grahn)
Date: Sat, 29 Feb 2020 00:30:31 +0100
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
Message-ID: <20200228233031.GA2732@hzdr.de>

Dear all,

current xdvipdfmx, version 2020-01-16, adds a q-Q-bracket around text (BT
... ET) in the page stream.

This prevents glyph outlines from being added to the clipping path in the
graphics state.

Below is a code example that puts the first text string into clipping mode in
order to add it to the clipping path. This allows the glyphs outlines to be
filled with colour afterwards. But with the current xdvipdfmx it isn't
possible anymore.

This method is used by the ocgx2 package to create colour links that are
printed in normal text colour on paper. Could the previous behaviour
please be restored?

Regards,
Alexander

* * *

\special{pdf:code q 7 Tr} % add text path to clipping path
Text in rendering mode `for clipping'.
\special{pdf:code 0 0 1 RG 0 0 1 rg -88888 -88888 99999 99999 re f Q} % fill text clipping path

Normal Text (rendering mode `fill').

\bye



From zdenek.wagner at gmail.com  Sat Feb 29 00:41:18 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 29 Feb 2020 00:41:18 +0100
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <20200228233031.GA2732@hzdr.de>
References: <20200228233031.GA2732@hzdr.de>
Message-ID: <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>

so 29. 2. 2020 v 0:30 odes?latel Alexander Grahn <A.Grahn at web.de> napsal:
>
> Dear all,
>
> current xdvipdfmx, version 2020-01-16, adds a q-Q-bracket around text (BT
> ... ET) in the page stream.
>
> This prevents glyph outlines from being added to the clipping path in the
> graphics state.
>
> Below is a code example that puts the first text string into clipping mode in
> order to add it to the clipping path. This allows the glyphs outlines to be
> filled with colour afterwards. But with the current xdvipdfmx it isn't
> possible anymore.
>
> This method is used by the ocgx2 package to create colour links that are
> printed in normal text colour on paper. Could the previous behaviour
> please be restored?
>
I also vote for restoring the previous behaviour because th q-Q
bracket used to be added by \special{pdf:put ...}. There is a dirty
trick how to remove these q-Q but the previous behaviour will be
better.

> Regards,
> Alexander
>
> * * *
>
> \special{pdf:code q 7 Tr} % add text path to clipping path
> Text in rendering mode `for clipping'.
> \special{pdf:code 0 0 1 RG 0 0 1 rg -88888 -88888 99999 99999 re f Q} % fill text clipping path
>
> Normal Text (rendering mode `fill').
>
> \bye
>
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


From jhielscher at posteo.de  Sat Feb 29 00:54:16 2020
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Sat, 29 Feb 2020 00:54:16 +0100
Subject: A bit more enconding insanity (fix included)
Message-ID: <20200229005416.1f851a61@hordevm>

Hi,


random find in the TL man page directory: groff didn't understand the
UTF-8 encoding of Master/texmf-dist/doc/man/man1/latex-git-log.1
correctly, and TL was shipping a broken latex-git-log.man1.pdf ever
since, well, always, i.e. 2013. Maybe it did slip through because it
was only in the German translation of the GPL, and who reads licences
these days?

Finally, the fix was a mere

Index: Master/texmf-dist/doc/man/man1/Makefile
=================================================================== ---
Master/texmf-dist/doc/man/man1/Makefile     (revision 53965) +++
Master/texmf-dist/doc/man/man1/Makefile     (working copy) @@ -28,9
+28,11 @@ man1/upmendex.man1.pdf: man1/upmendex.1
        @echo 'Skipping upmendex.1.'
 
-# man pages which use UTF-8; probably there are more.
+# man pages which use UTF-8; Check via `file *.1 | grep UTF-8`
 man1/findhyph.man1.pdf: man1/findhyph.1
        $(MKPDF_UTF8)
+man1/latex-git-log.man1.pdf: man1/latex-git-log.1
+       $(MKPDF_UTF8)
 man1/luaotfload-tool.man1.pdf: man1/luaotfload-tool.1
        $(MKPDF_UTF8)

and `make -C Master/texmf-dist/doc/man/` to rebuild man pages. I also
left a hint how I made sure that only this man page was affected, but
not others as well.
 

Best,
Johannes


From h.y.acetaminophen at gmail.com  Sat Feb 29 06:06:58 2020
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Sat, 29 Feb 2020 14:06:58 +0900
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
Message-ID: <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>

Hi,

AG > current xdvipdfmx, version 2020-01-16, adds a q-Q-bracket around text (BT
AG > ... ET) in the page stream.
AG > This prevents glyph outlines from being added to the clipping path in the
AG > graphics state.

ZW> I also vote for restoring the previous behaviour because th q-Q
ZW> bracket used to be added by \special{pdf:put ...}. There is a dirty
ZW> trick how to remove these q-Q but the previous behaviour will be
ZW> better.

In r53973, I reverted the commit done by S. Hirata on 2019-06-30.
It says

2019-06-30  Shunsaku Hirata  <shunsaku.hirata74 at gmail.com>

    * pdfdev.c: Fix a bug that fake-bold is not handled properly
    in some situations as reported in
    https://tug.org/pipermail/dvipdfmx/2019-June/000014.html.
    When text rendering mode is changed within a text block which
    is enclosed by q and Q, the change does not affect subsequent
    text blocks. Current implementation of text handling is not
    robust so we may need to reconsider it.

So the fake-bold issue will reappear.

Hironobu

From shunsaku.hirata74 at gmail.com  Sat Feb 29 11:22:12 2020
From: shunsaku.hirata74 at gmail.com (Shunsaku Hirata)
Date: Sat, 29 Feb 2020 19:22:12 +0900
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
Message-ID: <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>

Hi all,

I understand the example shown doesn't work if graphics state save/resotre
operation (q/Q operator) is inserted arount the text block.

However, reverting the change I made before (adding q-Q-bracket around
text) makes the fake-bold bug reappear.

Thus, I considered alternatives for fixing the fake-bold bug, however and
unfortunately, as this fake-bold feature relies on changing text rendering
mode (fill-then-stroke with adjusted stroke line-width) via "Tr" operator,
any fixes might be inherently incompatible with what Alexander wants to
do.
(The possible fix here is to forcibly add "Tr" operator whenever new text
starts or font is changed)

Just my personal opinion but as I don't like this fake-bold feature although
it was added by myself, I rather want to make this feature obsolete...


Thanks,
Shunsaku Hirata

2020?2?29?(?) 14:07 Hironobu Yamashita <h.y.acetaminophen at gmail.com>:
>
> Hi,
>
> AG > current xdvipdfmx, version 2020-01-16, adds a q-Q-bracket around text (BT
> AG > ... ET) in the page stream.
> AG > This prevents glyph outlines from being added to the clipping path in the
> AG > graphics state.
>
> ZW> I also vote for restoring the previous behaviour because th q-Q
> ZW> bracket used to be added by \special{pdf:put ...}. There is a dirty
> ZW> trick how to remove these q-Q but the previous behaviour will be
> ZW> better.
>
> In r53973, I reverted the commit done by S. Hirata on 2019-06-30.
> It says
>
> 2019-06-30  Shunsaku Hirata  <shunsaku.hirata74 at gmail.com>
>
>     * pdfdev.c: Fix a bug that fake-bold is not handled properly
>     in some situations as reported in
>     https://tug.org/pipermail/dvipdfmx/2019-June/000014.html.
>     When text rendering mode is changed within a text block which
>     is enclosed by q and Q, the change does not affect subsequent
>     text blocks. Current implementation of text handling is not
>     robust so we may need to reconsider it.
>
> So the fake-bold issue will reappear.
>
> Hironobu


From zdenek.wagner at gmail.com  Sat Feb 29 11:55:14 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 29 Feb 2020 11:55:14 +0100
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
Message-ID: <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>

Hi all,

so 29. 2. 2020 v 11:22 odes?latel Shunsaku Hirata
<shunsaku.hirata74 at gmail.com> napsal:
>
> Hi all,
>
> I understand the example shown doesn't work if graphics state save/resotre
> operation (q/Q operator) is inserted arount the text block.
>
> However, reverting the change I made before (adding q-Q-bracket around
> text) makes the fake-bold bug reappear.
>
> Thus, I considered alternatives for fixing the fake-bold bug, however and
> unfortunately, as this fake-bold feature relies on changing text rendering
> mode (fill-then-stroke with adjusted stroke line-width) via "Tr" operator,
> any fixes might be inherently incompatible with what Alexander wants to
> do.
> (The possible fix here is to forcibly add "Tr" operator whenever new text
> starts or font is changed)
>
I do not know how the fake bold is implemented but \special{pdf:code
SOMETHING } used to insert just SOMETHING while \special{pdf:put
SOMETHING} used to insert q SOMETHING Q

In the previous behaviour both possibilities were available, you just
have to choose between pdf:code and pdf:put. The coloured text with an
outline in another colour can then be achieved by

\special{pdf:code q 2 Tr 0.7 w 0 0.5 0.5 0.05 k 1 1 0 0.1 K} some text
\special{pdf:code Q}

If you have only pdf:put which adds the extra q-Q bracket, you have to use:

\special{pdf:put Q q 2 Tr 0.7 w 0 0.5 0.5 0.05 k 1 1 0 0.1 K q} some
text \special{pdf:put Q}

 This was given as a hint in an old version of dvipdfm where only
\special{pdf:put } was available.

> Just my personal opinion but as I don't like this fake-bold feature although
> it was added by myself, I rather want to make this feature obsolete...
>
>
> Thanks,
> Shunsaku Hirata
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

> 2020?2?29?(?) 14:07 Hironobu Yamashita <h.y.acetaminophen at gmail.com>:
> >
> > Hi,
> >
> > AG > current xdvipdfmx, version 2020-01-16, adds a q-Q-bracket around text (BT
> > AG > ... ET) in the page stream.
> > AG > This prevents glyph outlines from being added to the clipping path in the
> > AG > graphics state.
> >
> > ZW> I also vote for restoring the previous behaviour because th q-Q
> > ZW> bracket used to be added by \special{pdf:put ...}. There is a dirty
> > ZW> trick how to remove these q-Q but the previous behaviour will be
> > ZW> better.
> >
> > In r53973, I reverted the commit done by S. Hirata on 2019-06-30.
> > It says
> >
> > 2019-06-30  Shunsaku Hirata  <shunsaku.hirata74 at gmail.com>
> >
> >     * pdfdev.c: Fix a bug that fake-bold is not handled properly
> >     in some situations as reported in
> >     https://tug.org/pipermail/dvipdfmx/2019-June/000014.html.
> >     When text rendering mode is changed within a text block which
> >     is enclosed by q and Q, the change does not affect subsequent
> >     text blocks. Current implementation of text handling is not
> >     robust so we may need to reconsider it.
> >
> > So the fake-bold issue will reappear.
> >
> > Hironobu


From h.y.acetaminophen at gmail.com  Sat Feb 29 14:00:50 2020
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Sat, 29 Feb 2020 22:00:50 +0900
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
Message-ID: <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>

Hi all,

ZW> \special{pdf:code SOMETHING } used to insert just SOMETHING
ZW> while \special{pdf:put SOMETHING} used to insert q SOMETHING Q
ZW> In the previous behaviour both possibilities were available, you just
ZW> have to choose between pdf:code and pdf:put.

I agree with Zdenek.
It would be useful if users can choose between pdf:code and pdf:put,
though they should be careful to choose which one is more appropriate.

SH> unfortunately, as this fake-bold feature relies on changing text rendering
SH> mode (fill-then-stroke with adjusted stroke line-width) via "Tr" operator,
SH> any fixes might be inherently incompatible with what Alexander wants to
SH> do.
SH> (The possible fix here is to forcibly add "Tr" operator whenever new text
SH> starts or font is changed)

I tried the attached patch, and it works well at least for the MWE in
https://tug.org/pipermail/dvipdfmx/2019-June/000014.html
though I'm not sure whether this affects what Alexander wants to do.


Hironobu
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 20200229-fakebold.patch
Type: application/octet-stream
Size: 930 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200229/45616e27/attachment.obj>

From d.p.carlisle at gmail.com  Sat Feb 29 14:20:31 2020
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sat, 29 Feb 2020 13:20:31 +0000
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
Message-ID: <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>

Could you try the patched xdvipdfmx against the small latex example that
started this, posted to

https://tex.stackexchange.com/q/530386/1090

thanks

David

On Sat, 29 Feb 2020 at 13:02, Hironobu Yamashita <
h.y.acetaminophen at gmail.com> wrote:

> Hi all,
>
> ZW> \special{pdf:code SOMETHING } used to insert just SOMETHING
> ZW> while \special{pdf:put SOMETHING} used to insert q SOMETHING Q
> ZW> In the previous behaviour both possibilities were available, you just
> ZW> have to choose between pdf:code and pdf:put.
>
> I agree with Zdenek.
> It would be useful if users can choose between pdf:code and pdf:put,
> though they should be careful to choose which one is more appropriate.
>
> SH> unfortunately, as this fake-bold feature relies on changing text
> rendering
> SH> mode (fill-then-stroke with adjusted stroke line-width) via "Tr"
> operator,
> SH> any fixes might be inherently incompatible with what Alexander wants to
> SH> do.
> SH> (The possible fix here is to forcibly add "Tr" operator whenever new
> text
> SH> starts or font is changed)
>
> I tried the attached patch, and it works well at least for the MWE in
> https://tug.org/pipermail/dvipdfmx/2019-June/000014.html
> though I'm not sure whether this affects what Alexander wants to do.
>
>
> Hironobu
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200229/33d8b3d9/attachment.html>

From h.y.acetaminophen at gmail.com  Sat Feb 29 14:28:46 2020
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Sat, 29 Feb 2020 22:28:46 +0900
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
Message-ID: <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>

Hi David,

DC> Could you try the patched xdvipdfmx against the small latex
DC> example that started this, posted to
DC> https://tex.stackexchange.com/q/530386/1090

The patched xdvipdfmx (TL r53973 plus the proposed patch) works well
for that small example, as it does not use any fake-bold.


Hironobu

From d.p.carlisle at gmail.com  Sat Feb 29 15:32:07 2020
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sat, 29 Feb 2020 14:32:07 +0000
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
Message-ID: <CAEW6iOi9hEJ--pOXzNYJtOApzU2zz8GL20nz9O25CE_WRE3eEA@mail.gmail.com>

thanks

David


On Sat, 29 Feb 2020 at 13:28, Hironobu Yamashita <
h.y.acetaminophen at gmail.com> wrote:

> Hi David,
>
> DC> Could you try the patched xdvipdfmx against the small latex
> DC> example that started this, posted to
> DC> https://tex.stackexchange.com/q/530386/1090
>
> The patched xdvipdfmx (TL r53973 plus the proposed patch) works well
> for that small example, as it does not use any fake-bold.
>
>
> Hironobu
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200229/563a71d2/attachment.html>

From news3 at nililand.de  Sat Feb 29 16:38:34 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Sat, 29 Feb 2020 16:38:34 +0100
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
Message-ID: <14zwb8iwhmhwt$.dlg@nililand.de>

Am Sat, 29 Feb 2020 22:00:50 +0900 schrieb Hironobu Yamashita:

> Hi all,
> 
> ZW> \special{pdf:code SOMETHING } used to insert just SOMETHING
> ZW> while \special{pdf:put SOMETHING} used to insert q SOMETHING Q
> ZW> In the previous behaviour both possibilities were available, you just
> ZW> have to choose between pdf:code and pdf:put.
> 
> I agree with Zdenek.
> It would be useful if users can choose between pdf:code and pdf:put,

Yes, but I don't think that it would help for the fake bold issue.
You can't expect users to add such specials when using fake bold
fonts.

> SH> unfortunately, as this fake-bold feature relies on changing text rendering
> SH> mode (fill-then-stroke with adjusted stroke line-width) via "Tr" operator,
> SH> any fixes might be inherently incompatible with what Alexander wants to
> SH> do.
> SH> (The possible fix here is to forcibly add "Tr" operator whenever new text
> SH> starts or font is changed)
> 
> I tried the attached patch, and it works well at least for the MWE in
> https://tug.org/pipermail/dvipdfmx/2019-June/000014.html
> though I'm not sure whether this affects what Alexander wants to do.

If I understood the code you are basically inserting "0 Tr" when the
fake bold font ends. This should imho work for the fake bold
problem. In most cases it shouldn't harm Alexander's code. But it
could perhaps do harm if such an embolden is used at the wrong
place. I can't test with xdvipdfmx, but there is for pdflatex a
package called pdfrender which does something similar: it adds 2 Tr
and 0 Tr to embolden a font. And if I use it inside the \href the
page gets blue:

\documentclass{article}
\usepackage{l3pdf}
\usepackage{lipsum,pdfrender}
\usepackage[colorlinks=true,urlcolor=blue]{hyperref}
\usepackage[ocgcolorlinks]{ocgx2}
\ExplSyntaxOn
\pdf_uncompress:
\ExplSyntaxOff
\begin{document}
abc
\href{http://tex.stackexchange.com}{\pdfrender{TextRenderingMode=2,LineWidth=1}
aaa}
\end{document}   


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From shunsaku.hirata74 at gmail.com  Sat Feb 29 18:16:56 2020
From: shunsaku.hirata74 at gmail.com (Shunsaku Hirata)
Date: Sun, 1 Mar 2020 02:16:56 +0900
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
Message-ID: <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>

Hi,

I don't know the intent of the proposed patch but the point here is that
if we try to fix the fake-bold issue by explicitly specifying Text Rendering
Mode it may happen to overwrite the setting done by

  \special{pdf:code q 7 Tr} % add text path to clipping path

It's OK if the proposed patch is meant to work only for the case where
the ocgx2 package is never used together with the fake-bold feature,
however, my point is that it is difficult to have those two at the same time.
(obviously it's impossible to add text path of "embolden text" to clipping
path so let's forget such case)

Below is a combined example for XeTeX:

-----
 \font\zzz="[XITS-Regular.otf]:embolden=5" at 10pt
{\zzz This is embolden text.}

\special{pdf:code q 7 Tr} % add text path to clipping path
Text in rendering mode `for clipping'.
\special{pdf:code 0 0 1 RG 0 0 1 rg -88888 -88888 99999 99999 re f Q}
% fill text clipping path

Normal Text (rendering mode `fill').

\bye
-----

Thanks,
Shunsaku Hirata

2020?2?29?(?) 22:29 Hironobu Yamashita <h.y.acetaminophen at gmail.com>:
>
> Hi David,
>
> DC> Could you try the patched xdvipdfmx against the small latex
> DC> example that started this, posted to
> DC> https://tex.stackexchange.com/q/530386/1090
>
> The patched xdvipdfmx (TL r53973 plus the proposed patch) works well
> for that small example, as it does not use any fake-bold.
>
>
> Hironobu


