From h.y.acetaminophen at gmail.com  Sun Mar  1 00:36:26 2020
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Sun, 1 Mar 2020 08:36:26 +0900
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
 <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>
Message-ID: <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>

Hi all,

SH> if we try to fix the fake-bold issue by explicitly specifying Text Rendering
SH> Mode it may happen to overwrite the setting done by
SH>
SH>   \special{pdf:code q 7 Tr} % add text path to clipping path

First we should note that the behavior depends heavily
on which PDF viewer to use.

Let's call two different xdvipdfmx as follows:

  * [xdvipdfmx-A] with text enclosing with q..Q
      (= r53972, before the revert)
  * [xdvipdfmx-B] with adding 0 Tr
      (= r53973 + proposed patch)

Then, with the "combined example for XeTeX" proposed by Shunsaku:

  * [xdvipdfmx-A]
    -> Apple Preview app: whole blue page
    -> Adobe Reader: whole blue page
  * [xdvipdfmx-B]
    -> Apple Preview app: OK
    -> Adobe Reader: whole blue page

Interestingly, Ulrike's example for pdfTeX is similar to [xdvipdfmx-B]:

  * [pdfTeX]
    -> Apple Preview app: OK
    -> Adobe Reader: whole blue page

though this example contains addition of "embolden text" to clipping path
which shoule be "forgotten" according to Shunsaku.
(All three PDF files are attached)


SH> It's OK if the proposed patch is meant to work only for the case where
SH> the ocgx2 package is never used together with the fake-bold feature,

Yes, my patch is meant as such.
I agree that it is difficult to have those two at the same time;
actually I know that my proposal [xdvipdfmx-B] will break ocgx2 package
after any occurrence of fake-bold.  However, even with [xdvipdfmx-A],
ocgx2 package would need revised to add an extra Q..q to make "7 Tr"
work again; moreover, we would get into a mess as the package can't say
which version of xdvipdfmx is in use.

As Shunsaku said before:

SH> Just my personal opinion but as I don't like this fake-bold feature
SH> although it was added by myself, I rather want to make this feature
SH> obsolete...

I see your point; from this point of view, I'd like to take [xdvipdfmx-B]
as its behavior is similar to pdfTeX and it would not get another mess.
Shunsaku, what do you think?


Kind regards,
Hironobu
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 20200301-pdfs.zip
Type: application/zip
Size: 26453 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200301/aba4f6c9/attachment-0001.zip>

From karl at freefriends.org  Sun Mar  1 00:58:55 2020
From: karl at freefriends.org (Karl Berry)
Date: Sat, 29 Feb 2020 16:58:55 -0700
Subject: frozen 2019 but not completely
Message-ID: <202002292358.01TNwt5B020899@freefriends.org>

TL users - although you may have noticed that tlmgr started emitting the
"frozen" message with last night's update, in fact, a couple more
critical updates will be forthcoming, both after tonight and in another
day or two. All related to the (necessary) LaTeX update that happened
last night.

Any such updates should still get installed normally, despite tlmgr
reporting that it's frozen. (It's just a message, not the reality. :)

I will not be routinely importing every CTAN update to TL2019 any more,
however. The pretest should be ready to roll in a few days. --best, karl.

From zdenek.wagner at gmail.com  Sun Mar  1 01:25:49 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 1 Mar 2020 01:25:49 +0100
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
 <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>
 <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>
Message-ID: <CAC1phyYSubDoAJRzRn7BJJXTWaD-fEw7G4TLZtfm+Lkhv7S+Dw@mail.gmail.com>

ne 1. 3. 2020 v 0:36 odes?latel Hironobu Yamashita
<h.y.acetaminophen at gmail.com> napsal:
>
> Hi all,
>
> SH> if we try to fix the fake-bold issue by explicitly specifying Text Rendering
> SH> Mode it may happen to overwrite the setting done by
> SH>
> SH>   \special{pdf:code q 7 Tr} % add text path to clipping path
>
> First we should note that the behavior depends heavily
> on which PDF viewer to use.
>
If the behaviour depends on the PDF viewer then some viewers interpret
PDF incorrectly. Operators q and Q correspond to gsave and grestore
from PostScript. Operator q pushes the graphic state to the stack, Q
restores the topmost graphic state from the stack. Thus
\special{pdf:code q 7 Tr} pushes the graphic state and then changes
the rendering mode. You then output the text. Finally you should add
\special{pdf:code Q} in order to restore the original graphic state.
It will restore the rendering mode, colours etc, but not the current
point. You can look at my article (unfortunatelly for you in Czech)
here: https://www.cstug.cz/bulletin/bul2013-1.shtml
"Elektronick? verze" is the link to the PDF, my article starts at page
44 and page 45 shows the example as well as the code. I tried in on
several viewers, Adobe Reader, okular, evince, ghostscript, viewer in
Dropbox on iPhone, Apple preview app and it works on all.

The correct code for pdftex needs \pdfliteral page, without page the
rest of the document is destroyed. That's why the wrong output is not
shown, the whole journal would be changed into garbage.

> Let's call two different xdvipdfmx as follows:
>
>   * [xdvipdfmx-A] with text enclosing with q..Q
>       (= r53972, before the revert)
>   * [xdvipdfmx-B] with adding 0 Tr
>       (= r53973 + proposed patch)
>
> Then, with the "combined example for XeTeX" proposed by Shunsaku:
>
>   * [xdvipdfmx-A]
>     -> Apple Preview app: whole blue page
>     -> Adobe Reader: whole blue page
>   * [xdvipdfmx-B]
>     -> Apple Preview app: OK
>     -> Adobe Reader: whole blue page
>
> Interestingly, Ulrike's example for pdfTeX is similar to [xdvipdfmx-B]:
>
>   * [pdfTeX]
>     -> Apple Preview app: OK
>     -> Adobe Reader: whole blue page
>
> though this example contains addition of "embolden text" to clipping path
> which shoule be "forgotten" according to Shunsaku.
> (All three PDF files are attached)
>
>
> SH> It's OK if the proposed patch is meant to work only for the case where
> SH> the ocgx2 package is never used together with the fake-bold feature,
>
> Yes, my patch is meant as such.
> I agree that it is difficult to have those two at the same time;
> actually I know that my proposal [xdvipdfmx-B] will break ocgx2 package
> after any occurrence of fake-bold.  However, even with [xdvipdfmx-A],
> ocgx2 package would need revised to add an extra Q..q to make "7 Tr"
> work again; moreover, we would get into a mess as the package can't say
> which version of xdvipdfmx is in use.
>
> As Shunsaku said before:
>
> SH> Just my personal opinion but as I don't like this fake-bold feature
> SH> although it was added by myself, I rather want to make this feature
> SH> obsolete...
>
> I see your point; from this point of view, I'd like to take [xdvipdfmx-B]
> as its behavior is similar to pdfTeX and it would not get another mess.
> Shunsaku, what do you think?
>
>
> Kind regards,
> Hironobu


Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


From shunsaku.hirata74 at gmail.com  Sun Mar  1 02:02:08 2020
From: shunsaku.hirata74 at gmail.com (Shunsaku Hirata)
Date: Sun, 1 Mar 2020 10:02:08 +0900
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
 <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>
 <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>
Message-ID: <CAOyMh2pa2fQeTLT_nQqf-+sdBjFO2c1hbuRnmFioRbrCdE4_QQ@mail.gmail.com>

Dear Hironobu,

2020?3?1?(?) 8:36 Hironobu Yamashita <h.y.acetaminophen at gmail.com>:
>
> Hi all,
>
> SH> if we try to fix the fake-bold issue by explicitly specifying Text Rendering
> SH> Mode it may happen to overwrite the setting done by
> SH>
> SH>   \special{pdf:code q 7 Tr} % add text path to clipping path
>
> First we should note that the behavior depends heavily
> on which PDF viewer to use.

It should not be. If some viewers behave differently then it can simply mean
that there is a bug in such viewers.

> Let's call two different xdvipdfmx as follows:
>
>   * [xdvipdfmx-A] with text enclosing with q..Q
>       (= r53972, before the revert)
>   * [xdvipdfmx-B] with adding 0 Tr
>       (= r53973 + proposed patch)
>
> Then, with the "combined example for XeTeX" proposed by Shunsaku:
>
>   * [xdvipdfmx-A]
>     -> Apple Preview app: whole blue page
>     -> Adobe Reader: whole blue page
>   * [xdvipdfmx-B]
>     -> Apple Preview app: OK
>     -> Adobe Reader: whole blue page

I can't confirm Apple Preview app's rendering but Adobe Reader's behavior
looks correct as far as I can see from the generated PDF.

> Interestingly, Ulrike's example for pdfTeX is similar to [xdvipdfmx-B]:
>
>   * [pdfTeX]
>     -> Apple Preview app: OK
>     -> Adobe Reader: whole blue page

I think Adobe Reader's rendering is correct again. This example is more
complicated than Alexander's one and is not just for text path clipping.
Apple Preview app seems having one more problem here...

> though this example contains addition of "embolden text" to clipping path
> which shoule be "forgotten" according to Shunsaku.
> (All three PDF files are attached)

I mean it is not possible to add clipping path of "embolden text outline" by
doing

  7 Tr 2Tr 1 w BT ...text description goes here... ET

When "emblolden text" is requested, dvipdfmx reset the TR mode to 2 by
inserting "2 Tr" without knowing the existence of "7 Tr".

> SH> It's OK if the proposed patch is meant to work only for the case where
> SH> the ocgx2 package is never used together with the fake-bold feature,
>
> Yes, my patch is meant as such.

OK, we should warn everyone not to use fake-bold (embolden text) together
with the ocgx2 package.

> I agree that it is difficult to have those two at the same time;
> actually I know that my proposal [xdvipdfmx-B] will break ocgx2 package
> after any occurrence of fake-bold.  However, even with [xdvipdfmx-A],
> ocgx2 package would need revised to add an extra Q..q to make "7 Tr"
> work again; moreover, we would get into a mess as the package can't say
> which version of xdvipdfmx is in use.

Adding an extra "Q..q" (I assume it is not a typo) does not help. (rather it
makes generated PDFs corrupt)
Let me explain the original problem: My version of fake-bold patch adds a
q-Q block around the text section BT-ET, but as this q-Q block recovers the
graphics state saved by "q" at the execution of "Q" operator, clipping path
added in the BT-ET section is discarded. This is why my patch broke the
ocgx2 package.

> As Shunsaku said before:
>
> SH> Just my personal opinion but as I don't like this fake-bold feature
> SH> although it was added by myself, I rather want to make this feature
> SH> obsolete...
>
> I see your point; from this point of view, I'd like to take [xdvipdfmx-B]
> as its behavior is similar to pdfTeX and it would not get another mess.
> Shunsaku, what do you think?

I don't oppose to choose similar behavior to pdfTeX but replying on such
feature like pdf:code itself is a mess: Whenever internal behavior of dvipdfmx
is changed the reslts can be quite different.

The fake-bold feature was added about 15-years back when there is virtually
no (freely) available Japanese font with multiple weight. I don't know if there
still is any need for this nowadays.


Thanks,
Shunsaku Hirata


From h.y.acetaminophen at gmail.com  Sun Mar  1 02:20:39 2020
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Sun, 1 Mar 2020 10:20:39 +0900
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAOyMh2pa2fQeTLT_nQqf-+sdBjFO2c1hbuRnmFioRbrCdE4_QQ@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
 <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>
 <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>
 <CAOyMh2pa2fQeTLT_nQqf-+sdBjFO2c1hbuRnmFioRbrCdE4_QQ@mail.gmail.com>
Message-ID: <CAJCZBmQWgT6srJmcVZuVPuK9j2Q5CiXX52gPD8aZPRUGvZfQ_g@mail.gmail.com>

Hi,

ZW> If the behaviour depends on the PDF viewer then some viewers interpret
ZW> PDF incorrectly.

SH> If some viewers behave differently then it can simply mean
SH> that there is a bug in such viewers.

I see; let's forget about the incorrect behavior of viewers.


SH> Let me explain the original problem: My version of fake-bold patch adds a
SH> q-Q block around the text section BT-ET, but as this q-Q block recovers the
SH> graphics state saved by "q" at the execution of "Q" operator, clipping path
SH> added in the BT-ET section is discarded. This is why my patch broke the
SH> ocgx2 package.

Thanks.


SH> I don't oppose to choose similar behavior to pdfTeX but replying on such
SH> feature like pdf:code itself is a mess: Whenever internal behavior of
SH> dvipdfmx is changed the reslts can be quite different.
SH>
SH> The fake-bold feature was added about 15-years back when there is
SH> virtually no (freely) available Japanese font with multiple weight.
SH> I don't know if there still is any need for this nowadays.

Nowadays there are some multiple-weight fonts (for Japanese we have
https://ctan.org/pkg/haranoaji and others), so fake-bold has become
less important.  Considering this, we can choose [xdvipdfmx-B] which
adds "0 Tr" _only_ after one occurrence of fake-bold, and warn everyone
not to use fake-bold (embolden text) together with the ocgx2 package.
That would be safe enough, as it makes no difference between
TeX Live 2019 and TeX Live 2020 when fake-bold is never used.


Best,
Hironobu

From zdenek.wagner at gmail.com  Sun Mar  1 11:50:58 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sun, 1 Mar 2020 11:50:58 +0100
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAOyMh2pa2fQeTLT_nQqf-+sdBjFO2c1hbuRnmFioRbrCdE4_QQ@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
 <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>
 <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>
 <CAOyMh2pa2fQeTLT_nQqf-+sdBjFO2c1hbuRnmFioRbrCdE4_QQ@mail.gmail.com>
Message-ID: <CAC1phyZRoLn_Qv9g1fw+dNT_7LdFc-F-xTZTOZ7nGQ9BjyZuBg@mail.gmail.com>

ne 1. 3. 2020 v 2:02 odes?latel Shunsaku Hirata
<shunsaku.hirata74 at gmail.com> napsal:
>
> Dear Hironobu,
>
> ...
>
> > though this example contains addition of "embolden text" to clipping path
> > which shoule be "forgotten" according to Shunsaku.
> > (All three PDF files are attached)
>
> I mean it is not possible to add clipping path of "embolden text outline" by
> doing
>
>   7 Tr 2Tr 1 w BT ...text description goes here... ET
>
> When "emblolden text" is requested, dvipdfmx reset the TR mode to 2 by
> inserting "2 Tr" without knowing the existence of "7 Tr".
>
Sure, if you have 7 Tr 2 Tr, then 2 Tr wins. There is no way how to
query the current value of Tr.

> > SH> It's OK if the proposed patch is meant to work only for the case where
> > SH> the ocgx2 package is never used together with the fake-bold feature,
> >
> > Yes, my patch is meant as such.
>
> OK, we should warn everyone not to use fake-bold (embolden text) together
> with the ocgx2 package.
>
> > I agree that it is difficult to have those two at the same time;
> > actually I know that my proposal [xdvipdfmx-B] will break ocgx2 package
> > after any occurrence of fake-bold.  However, even with [xdvipdfmx-A],
> > ocgx2 package would need revised to add an extra Q..q to make "7 Tr"
> > work again; moreover, we would get into a mess as the package can't say
> > which version of xdvipdfmx is in use.
>
> Adding an extra "Q..q" (I assume it is not a typo) does not help. (rather it
> makes generated PDFs corrupt)
> Let me explain the original problem: My version of fake-bold patch adds a
> q-Q block around the text section BT-ET, but as this q-Q block recovers the
> graphics state saved by "q" at the execution of "Q" operator, clipping path
> added in the BT-ET section is discarded. This is why my patch broke the
> ocgx2 package.

It should work. You start by Q which pops out the state pushed by q.
You know that after your code Q will be added, hence your code must
end with q so that the added Q can pop anything. It is necessary to
pair correctly q a Q in order not to corrupt the graphic stack.
>
> ...
>
>
> Thanks,
> Shunsaku Hirata
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


From mjbaars1977.tex-live at cyberfiber.eu  Sun Mar  1 17:26:37 2020
From: mjbaars1977.tex-live at cyberfiber.eu (Michael J. Baars)
Date: Sun, 01 Mar 2020 17:26:37 +0100
Subject: rendering brackets
Message-ID: <bd91b82f4cce892af4046ddf5c7a3acc514f4637.camel@cyberfiber.eu>

Hi,

I've posted this to the math-font-discuss list earlier, but nobody
seems to be there or willing to help.

Although I have a lot of experience writing .tex files, I have no
experience with the tex-live source codes. Hope I'm at the right
address.

The attachment shows that the rendering of the brackets in the
different formulas is not very consistent. In my opinion, somebody
ought to have a look at the rendering engine. 

Regards,
Mischa Baars.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2018061700 - latex - rendering brackets.tar.xz
Type: application/x-xz-compressed-tar
Size: 58376 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200301/cb41b2e0/attachment-0001.bin>

From d.p.carlisle at gmail.com  Sun Mar  1 17:51:09 2020
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sun, 1 Mar 2020 16:51:09 +0000
Subject: rendering brackets
In-Reply-To: <bd91b82f4cce892af4046ddf5c7a3acc514f4637.camel@cyberfiber.eu>
References: <bd91b82f4cce892af4046ddf5c7a3acc514f4637.camel@cyberfiber.eu>
Message-ID: <CAEW6iOgAeLHRY_81XrZ6ooGbpxM9e8cKHoG-R9buOve5CuBcAA@mail.gmail.com>

I don't see anything unusual in your output. You have chosen to use
\left--\right (it is often better to choose a specific size such as
\bigl..\bigr) but if you use \left..\right then the size of the brackets
depends on the size of the contained expression  and \frac{1}{a} is taller
than \frac{a}{1}

Incidentally avoid using `eqnarray` it is better to use the alignments from
the amsmath package.

David

On Sun, 1 Mar 2020 at 16:32, Michael J. Baars <
mjbaars1977.tex-live at cyberfiber.eu> wrote:

> Hi,
>
> I've posted this to the math-font-discuss list earlier, but nobody
> seems to be there or willing to help.
>
> Although I have a lot of experience writing .tex files, I have no
> experience with the tex-live source codes. Hope I'm at the right
> address.
>
> The attachment shows that the rendering of the brackets in the
> different formulas is not very consistent. In my opinion, somebody
> ought to have a look at the rendering engine.
>
> Regards,
> Mischa Baars.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200301/03f68ceb/attachment.html>

From shunsaku.hirata74 at gmail.com  Sun Mar  1 19:01:22 2020
From: shunsaku.hirata74 at gmail.com (Shunsaku Hirata)
Date: Mon, 2 Mar 2020 03:01:22 +0900
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAC1phyZRoLn_Qv9g1fw+dNT_7LdFc-F-xTZTOZ7nGQ9BjyZuBg@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
 <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>
 <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>
 <CAOyMh2pa2fQeTLT_nQqf-+sdBjFO2c1hbuRnmFioRbrCdE4_QQ@mail.gmail.com>
 <CAC1phyZRoLn_Qv9g1fw+dNT_7LdFc-F-xTZTOZ7nGQ9BjyZuBg@mail.gmail.com>
Message-ID: <CAOyMh2q9uJ3FP-sz2PQVL3SN=1-MGOr+8Pnwpo414rQZW37Ycg@mail.gmail.com>

Dear Zdenek,

> > Adding an extra "Q..q" (I assume it is not a typo) does not help. (rather it
> > makes generated PDFs corrupt)
> > Let me explain the original problem: My version of fake-bold patch adds a
> > q-Q block around the text section BT-ET, but as this q-Q block recovers the
> > graphics state saved by "q" at the execution of "Q" operator, clipping path
> > added in the BT-ET section is discarded. This is why my patch broke the
> > ocgx2 package.
>
> It should work. You start by Q which pops out the state pushed by q.
> You know that after your code Q will be added, hence your code must
> end with q so that the added Q can pop anything. It is necessary to
> pair correctly q a Q in order not to corrupt the graphic stack.

Maybe you are talking about the trick to cancel out the effect of q-Q bracket
which is automatically inserted for "pdf:put" command?

I guess the change I made for fixing the fake-bold bug is misunderstood.

Let me explain the problem reported by Alexander and the change I made
for fixing the fake-bold bug which is the cause of the problem.
Note that the behavior of "pdf:code" has not been changed at all.

Input:
  \special{pdf:code q 7 Tr}
 TEXT
  \special{pdf:code -88888 -88888 99999 99999 re f Q}

The old behavior (before the fake-bold bug fix) is to convert them to
    q 7 Tr
    BT --PDF code for drawing "TEXT"-- ET
   -88888 -88888 99999 99999 re f Q

But after the fake-bold fix it became
   q 7 Tr
   q BT --PDF code for drawing "TEXT"-- ET Q
  -88888 -88888 99999 99999 re f Q

The only change here is q-Q bracket inserted around BT-ET but the
behavior of "pdf:code" has never changed.

The change of "text rendering mode" via "7 Tr" should be there as before
but the problem here is that the change of "clipping path" done in the block
enclosed by BT and ET is lost due to q-Q bracket recently added.

This addition of q-Q bracket around text block BT-ET does not affect
graphics state chages such as color change which come into effect
immediately when a graphics drawing operator is invokded but it affects
clipping path construction. At the time when the fill operator "f" is executed,
the clipping path should be that of "TEXT". But due to the "Q" operator
added immediately after "ET" (after the fake-bold fix), it is lost.
Due to which the whole page is filled with the current color. (for the original
example it is explicitly blue)


Thanks,
Shunsaku Hirata

From d.p.carlisle at gmail.com  Sun Mar  1 19:25:33 2020
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sun, 1 Mar 2020 18:25:33 +0000
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAOyMh2q9uJ3FP-sz2PQVL3SN=1-MGOr+8Pnwpo414rQZW37Ycg@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
 <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>
 <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>
 <CAOyMh2pa2fQeTLT_nQqf-+sdBjFO2c1hbuRnmFioRbrCdE4_QQ@mail.gmail.com>
 <CAC1phyZRoLn_Qv9g1fw+dNT_7LdFc-F-xTZTOZ7nGQ9BjyZuBg@mail.gmail.com>
 <CAOyMh2q9uJ3FP-sz2PQVL3SN=1-MGOr+8Pnwpo414rQZW37Ycg@mail.gmail.com>
Message-ID: <CAEW6iOiDF8YLnNgK6pqhxxQsPNop-b8s7W1WmsMnipU+JLxXPw@mail.gmail.com>

On Sun, 1 Mar 2020 at 18:03, Shunsaku Hirata <shunsaku.hirata74 at gmail.com>
wrote:

nice explanation, thanks:-)

Would it work if instead of relying on literal pdf \special

\special{pdf:code q 7 Tr}

dvipdfmx has a specific

\special{pdf:startclippingsomething}
TEXT
\special{pdf:code -88888 -88888 99999 99999 re}
\special{pdf:endclippingsomething}

that way the driver would ""know"  about the clip path and be responsible
for adding the q .... f Q so could then not add the inner q ... Q around
text in that case, perhaps....


David


Dear Zdenek,
>
> > > Adding an extra "Q..q" (I assume it is not a typo) does not help.
> (rather it
> > > makes generated PDFs corrupt)
> > > Let me explain the original problem: My version of fake-bold patch
> adds a
> > > q-Q block around the text section BT-ET, but as this q-Q block
> recovers the
> > > graphics state saved by "q" at the execution of "Q" operator, clipping
> path
> > > added in the BT-ET section is discarded. This is why my patch broke the
> > > ocgx2 package.
> >
> > It should work. You start by Q which pops out the state pushed by q.
> > You know that after your code Q will be added, hence your code must
> > end with q so that the added Q can pop anything. It is necessary to
> > pair correctly q a Q in order not to corrupt the graphic stack.
>
> Maybe you are talking about the trick to cancel out the effect of q-Q
> bracket
> which is automatically inserted for "pdf:put" command?
>
> I guess the change I made for fixing the fake-bold bug is misunderstood.
>
> Let me explain the problem reported by Alexander and the change I made
> for fixing the fake-bold bug which is the cause of the problem.
> Note that the behavior of "pdf:code" has not been changed at all.
>
> Input:
>   \special{pdf:code q 7 Tr}
>  TEXT
>   \special{pdf:code -88888 -88888 99999 99999 re f Q}
>
> The old behavior (before the fake-bold bug fix) is to convert them to
>     q 7 Tr
>     BT --PDF code for drawing "TEXT"-- ET
>    -88888 -88888 99999 99999 re f Q
>
> But after the fake-bold fix it became
>    q 7 Tr
>    q BT --PDF code for drawing "TEXT"-- ET Q
>   -88888 -88888 99999 99999 re f Q
>
> The only change here is q-Q bracket inserted around BT-ET but the
> behavior of "pdf:code" has never changed.
>
> The change of "text rendering mode" via "7 Tr" should be there as before
> but the problem here is that the change of "clipping path" done in the
> block
> enclosed by BT and ET is lost due to q-Q bracket recently added.
>
> This addition of q-Q bracket around text block BT-ET does not affect
> graphics state chages such as color change which come into effect
> immediately when a graphics drawing operator is invokded but it affects
> clipping path construction. At the time when the fill operator "f" is
> executed,
> the clipping path should be that of "TEXT". But due to the "Q" operator
> added immediately after "ET" (after the fake-bold fix), it is lost.
> Due to which the whole page is filled with the current color. (for the
> original
> example it is explicitly blue)
>
>
> Thanks,
> Shunsaku Hirata
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200301/652fe9b7/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Sun Mar  1 19:34:09 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 1 Mar 2020 18:34:09 +0000
Subject: [EXT] Re: xdvipdfmx-20200116 : additional q/Q bracket around
 BT...ET
In-Reply-To: <CAEW6iOiDF8YLnNgK6pqhxxQsPNop-b8s7W1WmsMnipU+JLxXPw@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
 <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>
 <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>
 <CAOyMh2pa2fQeTLT_nQqf-+sdBjFO2c1hbuRnmFioRbrCdE4_QQ@mail.gmail.com>
 <CAC1phyZRoLn_Qv9g1fw+dNT_7LdFc-F-xTZTOZ7nGQ9BjyZuBg@mail.gmail.com>
 <CAOyMh2q9uJ3FP-sz2PQVL3SN=1-MGOr+8Pnwpo414rQZW37Ycg@mail.gmail.com>
 <CAEW6iOiDF8YLnNgK6pqhxxQsPNop-b8s7W1WmsMnipU+JLxXPw@mail.gmail.com>
Message-ID: <ab869eff-4d8e-ed0e-436c-0867e16b81e8@Rhul.Ac.Uk>

David Carlisle wrote:

> Would it work if instead of relying on literal pdf \special
>
> \special{pdf:code q 7 Tr}
>
> dvipdfmx has a specific
>
> \special{pdf:startclippingsomething}

Do you not feel that that could be the start of a slippery slope, David ?
** Phil.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200301/e4792106/attachment.html>

From shunsaku.hirata74 at gmail.com  Sun Mar  1 20:25:59 2020
From: shunsaku.hirata74 at gmail.com (Shunsaku Hirata)
Date: Mon, 2 Mar 2020 04:25:59 +0900
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAEW6iOiDF8YLnNgK6pqhxxQsPNop-b8s7W1WmsMnipU+JLxXPw@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
 <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>
 <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>
 <CAOyMh2pa2fQeTLT_nQqf-+sdBjFO2c1hbuRnmFioRbrCdE4_QQ@mail.gmail.com>
 <CAC1phyZRoLn_Qv9g1fw+dNT_7LdFc-F-xTZTOZ7nGQ9BjyZuBg@mail.gmail.com>
 <CAOyMh2q9uJ3FP-sz2PQVL3SN=1-MGOr+8Pnwpo414rQZW37Ycg@mail.gmail.com>
 <CAEW6iOiDF8YLnNgK6pqhxxQsPNop-b8s7W1WmsMnipU+JLxXPw@mail.gmail.com>
Message-ID: <CAOyMh2ojbdXMCrSXntAVqWrRDhrhAnuVArCMYY7WmbKAw=LgQQ@mail.gmail.com>

Dear David,

Putting aside its feasibility, I believe having dedicated commands which is
carefully constructed is always better for every purpose.

As I mentioned before, relying on "pdf:code" is not good idea since it is
very fragile. The following "slightly different" example can give totally
different results depending on the actual implementation of the btrans/etrans
transformation command. It currently doesn't work "as expected".


\special{pdf:code q 7 Tr} % add text path to clipping path
\special{pdf:btrans scale 1.01}
Text in rendering mode `for clipping'.
\special{pdf:etrans}
\special{pdf:code 0 0 1 RG 0 0 1 rg -88888 -88888 99999 99999 re f Q}
% fill text clipping path

Normal Text (rendering mode `fill').

\bye


However, as I expect normal users would spend most of their time for
writing sentences instead of clipped text, blinking text, and other funny
graphics, we should carefully consider what is essentially required to
avoid unnecessarily increasing maintenance cost.

For clipped text, it might be difficult to manage so that it always work
even when other special commands are combined.


Thanks,
Shunsaku Hirata

2020?3?2?(?) 3:25 David Carlisle <d.p.carlisle at gmail.com>:
>
>
>
> On Sun, 1 Mar 2020 at 18:03, Shunsaku Hirata <shunsaku.hirata74 at gmail.com> wrote:
>
> nice explanation, thanks:-)
>
> Would it work if instead of relying on literal pdf \special
>
> \special{pdf:code q 7 Tr}
>
> dvipdfmx has a specific
>
> \special{pdf:startclippingsomething}
> TEXT
> \special{pdf:code -88888 -88888 99999 99999 re}
> \special{pdf:endclippingsomething}
>
> that way the driver would ""know"  about the clip path and be responsible for adding the q .... f Q so could then not add the inner q ... Q around text in that case, perhaps....
>
>
> David
>
>
>> Dear Zdenek,
>>
>> > > Adding an extra "Q..q" (I assume it is not a typo) does not help. (rather it
>> > > makes generated PDFs corrupt)
>> > > Let me explain the original problem: My version of fake-bold patch adds a
>> > > q-Q block around the text section BT-ET, but as this q-Q block recovers the
>> > > graphics state saved by "q" at the execution of "Q" operator, clipping path
>> > > added in the BT-ET section is discarded. This is why my patch broke the
>> > > ocgx2 package.
>> >
>> > It should work. You start by Q which pops out the state pushed by q.
>> > You know that after your code Q will be added, hence your code must
>> > end with q so that the added Q can pop anything. It is necessary to
>> > pair correctly q a Q in order not to corrupt the graphic stack.
>>
>> Maybe you are talking about the trick to cancel out the effect of q-Q bracket
>> which is automatically inserted for "pdf:put" command?
>>
>> I guess the change I made for fixing the fake-bold bug is misunderstood.
>>
>> Let me explain the problem reported by Alexander and the change I made
>> for fixing the fake-bold bug which is the cause of the problem.
>> Note that the behavior of "pdf:code" has not been changed at all.
>>
>> Input:
>>   \special{pdf:code q 7 Tr}
>>  TEXT
>>   \special{pdf:code -88888 -88888 99999 99999 re f Q}
>>
>> The old behavior (before the fake-bold bug fix) is to convert them to
>>     q 7 Tr
>>     BT --PDF code for drawing "TEXT"-- ET
>>    -88888 -88888 99999 99999 re f Q
>>
>> But after the fake-bold fix it became
>>    q 7 Tr
>>    q BT --PDF code for drawing "TEXT"-- ET Q
>>   -88888 -88888 99999 99999 re f Q
>>
>> The only change here is q-Q bracket inserted around BT-ET but the
>> behavior of "pdf:code" has never changed.
>>
>> The change of "text rendering mode" via "7 Tr" should be there as before
>> but the problem here is that the change of "clipping path" done in the block
>> enclosed by BT and ET is lost due to q-Q bracket recently added.
>>
>> This addition of q-Q bracket around text block BT-ET does not affect
>> graphics state chages such as color change which come into effect
>> immediately when a graphics drawing operator is invokded but it affects
>> clipping path construction. At the time when the fill operator "f" is executed,
>> the clipping path should be that of "TEXT". But due to the "Q" operator
>> added immediately after "ET" (after the fake-bold fix), it is lost.
>> Due to which the whole page is filled with the current color. (for the original
>> example it is explicitly blue)
>>
>>
>> Thanks,
>> Shunsaku Hirata


From uwrbz6denng76fpk at posteo.cz  Sun Mar  1 19:02:45 2020
From: uwrbz6denng76fpk at posteo.cz (nimbus2000)
Date: Sun, 01 Mar 2020 19:02:45 +0100
Subject: install debian warnings
Message-ID: <674b64ade9e4413e4ae7e0f817589a42@posteo.net>

Hi,

just for improvements:
Summary of warnings:
TLUtils::check_file: checksums differ for 
/tmp/7JtXLC4CSg/e1uRKz2r8I/istgame.doc.tar.xz:
TLUtils::check_file:   
tlchecksum=b8530c382ca22cca424e5c4e5b6e3efff88a4a48bd8cdf5f27ec443342199b9cf0f35d1a0e542a572d54574c5650e1c936db37945e18f8a4494a162fd0ee3b2b, 
arg=9838728c32479b6a1229d2f9e9755209c07520bd691452bfba81a62f21ba929237bc916c5f49523610516aec6c054d080086c82be277eedd5fe4b0006b4be8e5
TLUtils::check_file:   removing 
/tmp/7JtXLC4CSg/e1uRKz2r8I/istgame.doc.tar.xz, but saving copy in 
tlcheckfileQeddV7cQ
TLPDB::_install_package: downloading did not succeed 
(check_file_and_remove failed)
TLUtils::install_packages: Failed to install istgame
Will be retried later.


second:
$ tlmgr check all
Running check files:
Running check depends:
Running check executes:
Running check runfiles:
Running check texmfdbs
tlmgr: item /usr/local/texlive/texmf-local in TEXMFDBS does not have an 
associated ls-R file
tlmgr: An error has occurred. See above messages. Exiting.



From preining at logic.at  Mon Mar  2 01:51:31 2020
From: preining at logic.at (Norbert Preining)
Date: Mon, 2 Mar 2020 09:51:31 +0900
Subject: install debian warnings
In-Reply-To: <674b64ade9e4413e4ae7e0f817589a42@posteo.net>
References: <674b64ade9e4413e4ae7e0f817589a42@posteo.net>
Message-ID: <20200302005131.GC1728467@bulldog.preining.info>

> just for improvements:

Simply retry. The mirror might have been in an update run.

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From mjbaars1977.tex-live at cyberfiber.eu  Mon Mar  2 15:11:48 2020
From: mjbaars1977.tex-live at cyberfiber.eu (Michael J. Baars)
Date: Mon, 02 Mar 2020 15:11:48 +0100
Subject: rendering brackets
In-Reply-To: <CAEW6iOgAeLHRY_81XrZ6ooGbpxM9e8cKHoG-R9buOve5CuBcAA@mail.gmail.com>
References: <bd91b82f4cce892af4046ddf5c7a3acc514f4637.camel@cyberfiber.eu>
 <CAEW6iOgAeLHRY_81XrZ6ooGbpxM9e8cKHoG-R9buOve5CuBcAA@mail.gmail.com>
Message-ID: <c473e02791a34ceb3d5d5a67a47c8b0873a10847.camel@cyberfiber.eu>

On Sun, 2020-03-01 at 16:51 +0000, David Carlisle wrote:
> I don't see anything unusual in your output. You have chosen to use
> \left--\right (it is often better to choose a specific size such as
> \bigl..\bigr) but if you use \left..\right then the size of the
> brackets depends on the size of the contained expression  and
> \frac{1}{a} is taller than \frac{a}{1}

Yeah, well I did see something unusual. \frac{1}{a} and \frac{a}{1} are
supposed to be exacly the same height, that is what the whole
experiment is about. Have it your way... if that is what you prefer.
I've never used \bigl or \bigr, it never hurts to try something new.
Mischa.
> Incidentally avoid using `eqnarray` it is better to use the
> alignments from the amsmath package.
> 
> David
> 
> On Sun, 1 Mar 2020 at 16:32, Michael J. Baars <
> mjbaars1977.tex-live at cyberfiber.eu> wrote:
> > Hi,
> > 
> > 
> > 
> > I've posted this to the math-font-discuss list earlier, but nobody
> > 
> > seems to be there or willing to help.
> > 
> > 
> > 
> > Although I have a lot of experience writing .tex files, I have no
> > 
> > experience with the tex-live source codes. Hope I'm at the right
> > 
> > address.
> > 
> > 
> > 
> > The attachment shows that the rendering of the brackets in the
> > 
> > different formulas is not very consistent. In my opinion, somebody
> > 
> > ought to have a look at the rendering engine. 
> > 
> > 
> > 
> > Regards,
> > 
> > Mischa Baars.
> > 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200302/68f1be9a/attachment.html>

From d.p.carlisle at gmail.com  Mon Mar  2 15:35:42 2020
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Mon, 2 Mar 2020 14:35:42 +0000
Subject: rendering brackets
In-Reply-To: <c473e02791a34ceb3d5d5a67a47c8b0873a10847.camel@cyberfiber.eu>
References: <bd91b82f4cce892af4046ddf5c7a3acc514f4637.camel@cyberfiber.eu>
 <CAEW6iOgAeLHRY_81XrZ6ooGbpxM9e8cKHoG-R9buOve5CuBcAA@mail.gmail.com>
 <c473e02791a34ceb3d5d5a67a47c8b0873a10847.camel@cyberfiber.eu>
Message-ID: <CAEW6iOg+RYuz=TVHQZ5L55A6zobzYGuu-b2x4=CGfaWe+Gr4YA@mail.gmail.com>

On Mon, 2 Mar 2020 at 14:23, Michael J. Baars <
mjbaars1977.tex-live at cyberfiber.eu> wrote:

> On Sun, 2020-03-01 at 16:51 +0000, David Carlisle wrote:
>
> I don't see anything unusual in your output. You have chosen to use
> \left--\right (it is often better to choose a specific size such as
> \bigl..\bigr) but if you use \left..\right then the size of the brackets
> depends on the size of the contained expression  and \frac{1}{a} is taller
> than \frac{a}{1}
>
>
> Yeah, well I did see something unusual. \frac{1}{a} and \frac{a}{1} are
> supposed to be exacly the same height,
>


Perhaps you should ask about that as (with computer modern at least) that
is not the case and so the behaviour of \left\right follows.

Basically 1 and a have the same depth so the depth of the denominators are
the same, but 1 has more height than a and that affects the height of the
numerator and so of the overall fraction.

\documentclass{article}

\begin{document}

\sbox0{$\displaystyle\frac{1}{a}$}
\typeout{1/a: \the\ht0+\the\dp0}

\sbox0{$\displaystyle\frac{a}{1}$}
\typeout{a/1: \the\ht0+\the\dp0}


\end{document}


produces

1/a: 13.20952pt+6.85951pt
a/1: 11.07062pt+6.85951pt


so the first form is over 2pt taller and so gets a larger bracket if you
auto-size the brackets with \left\right.





> that is what the whole experiment is about. Have it your way... if that is
> what you prefer.
>

It isn't a question of what I prefer, I am just stating what the font
metrics specify.

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200302/772c6118/attachment.html>

From zdenek.wagner at gmail.com  Mon Mar  2 16:02:36 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 2 Mar 2020 16:02:36 +0100
Subject: rendering brackets
In-Reply-To: <CAEW6iOg+RYuz=TVHQZ5L55A6zobzYGuu-b2x4=CGfaWe+Gr4YA@mail.gmail.com>
References: <bd91b82f4cce892af4046ddf5c7a3acc514f4637.camel@cyberfiber.eu>
 <CAEW6iOgAeLHRY_81XrZ6ooGbpxM9e8cKHoG-R9buOve5CuBcAA@mail.gmail.com>
 <c473e02791a34ceb3d5d5a67a47c8b0873a10847.camel@cyberfiber.eu>
 <CAEW6iOg+RYuz=TVHQZ5L55A6zobzYGuu-b2x4=CGfaWe+Gr4YA@mail.gmail.com>
Message-ID: <CAC1phyZOB1erd9zVz_tj4UBaRX18NY663xjEb_oY4gyXXLEDRQ@mail.gmail.com>

po 2. 3. 2020 v 15:35 odes?latel David Carlisle <d.p.carlisle at gmail.com> napsal:
>
> ...
>

> Basically 1 and a have the same depth so the depth of the denominators are the same, but 1 has more height than a and that affects the height of the numerator and so of the overall fraction.
>
> \documentclass{article}
>
> \begin{document}
>
> \sbox0{$\displaystyle\frac{1}{a}$}
> \typeout{1/a: \the\ht0+\the\dp0}
>
> \sbox0{$\displaystyle\frac{a}{1}$}
> \typeout{a/1: \the\ht0+\the\dp0}
>
>
> \end{document}
>
>
> produces
>
> 1/a: 13.20952pt+6.85951pt
> a/1: 11.07062pt+6.85951pt
>
>
> so the first form is over 2pt taller and so gets a larger bracket if you auto-size the brackets with \left\right.
>
There is another possibility with \left and \right, it is just
necessary to insert \vphantom to make both fractions equally high.
This is my modified file:

\documentclass{article}

\begin{document}

\sbox0{$\displaystyle\frac{1}{a}$}
\typeout{1/a: \the\ht0+\the\dp0}

\sbox0{$\displaystyle\frac{a}{1}$}
\typeout{a/1: \the\ht0+\the\dp0}

\sbox0{$\displaystyle\frac{1a}{1a}$}
\typeout{a/1: \the\ht0+\the\dp0}

\newcommand\vph{\vphantom{\frac{1a}{1a}}}

$$\left(\vph\frac{1}{a}\right)^n+\left(\vph\frac{a}{1}\right)^n$$

$$\left(\frac{1}{a}\right)^n+\left(\frac{a}{1}\right)^n$$

\end{document}

Generally, if A and B are complex expressions, you should do
$$\left(A\vphantom{B}\right) + \left(\vphantom{A}B\right)$$
>
>
>
>>
>> that is what the whole experiment is about. Have it your way... if that is what you prefer.
>
>
> It isn't a question of what I prefer, I am just stating what the font metrics specify.
>
> David
>
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


From dmitry.kalinkin at gmail.com  Mon Mar  2 17:45:32 2020
From: dmitry.kalinkin at gmail.com (Dmitry Kalinkin)
Date: Mon, 2 Mar 2020 11:45:32 -0500
Subject: frozen 2019 but not completely
In-Reply-To: <202002292358.01TNwt5B020899@freefriends.org>
References: <202002292358.01TNwt5B020899@freefriends.org>
Message-ID: <CAM41TOuMq5cpgPFa9j2MSQtt+D5gN_P5VLJUTioQD2DetCeddg@mail.gmail.com>

I've noticed that the tlnet-final snapshot has appeared on the mirrors:
http://ftp.math.utah.edu/pub/tex/historic/systems/texlive/2019/tlnet-final/
Is it in the frozen state yet?

Thanks,
Dmitry


On Sat, Feb 29, 2020 at 6:59 PM Karl Berry <karl at freefriends.org> wrote:
>
> TL users - although you may have noticed that tlmgr started emitting the
> "frozen" message with last night's update, in fact, a couple more
> critical updates will be forthcoming, both after tonight and in another
> day or two. All related to the (necessary) LaTeX update that happened
> last night.
>
> Any such updates should still get installed normally, despite tlmgr
> reporting that it's frozen. (It's just a message, not the reality. :)
>
> I will not be routinely importing every CTAN update to TL2019 any more,
> however. The pretest should be ready to roll in a few days. --best, karl.

From karl at freefriends.org  Mon Mar  2 18:10:23 2020
From: karl at freefriends.org (Karl Berry)
Date: Mon, 2 Mar 2020 10:10:23 -0700
Subject: frozen 2019 but not completely
In-Reply-To: <CAM41TOuMq5cpgPFa9j2MSQtt+D5gN_P5VLJUTioQD2DetCeddg@mail.gmail.com>
Message-ID: <202003021710.022HANpn006530@freefriends.org>

    I've noticed that the tlnet-final snapshot has appeared on the mirrors:
    http://ftp.math.utah.edu/pub/tex/historic/systems/texlive/2019/tlnet-final/
    Is it in the frozen state yet?

No.

I need to push at least a couple of post-freeze updates to tlnet-final.
But first I have to get the pretest started. -k

From karl at freefriends.org  Tue Mar  3 03:09:13 2020
From: karl at freefriends.org (Karl Berry)
Date: Mon, 2 Mar 2020 19:09:13 -0700
Subject: tl2020 pretest begin
Message-ID: <202003030209.02329DPJ025997@freefriends.org>

I think the pretest area is populated with the first build for TL 2020.
See https://tug.org/texlive/pretest.html as usual for details of how to
install (unchanged from previous years), and the list of notable changes
that I've got so far. Additions or corrections to the news are greatly
appreciated.

I have not caught up with the CTAN releases over the past few days. I
expect all of those to be updated in the pretest over the next day or two.

The binaries for a few of the platforms (cygwin, armhf-linux,
i386-netbsd) have not yet been updated. I expect that to happen soon
also.  All others are current AFAIK.

BTW, as discussed in the LaTeX newsletters and other places, lualatex in
the pretest now invokes the luahbtex engine, as lualatex-dev did for the
last couple months in TL19.

Please try it if you can. Better to test now than wait for breakage in
the official release. We have no dedicated testers or QA department, so
it's all up to us collectively as volunteers.

Hope it flies,
Karl

From news3 at nililand.de  Tue Mar  3 12:10:54 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Tue, 3 Mar 2020 12:10:54 +0100
Subject: tl2020 pretest begin
References: <202003030209.02329DPJ025997@freefriends.org>
Message-ID: <x4cbptwb7hvi$.dlg@nililand.de>

Am Mon, 2 Mar 2020 19:09:13 -0700 schrieb Karl Berry:

> I think the pretest area is populated with the first build for TL 2020.

I installed in successfully already on one pc and just doing the
laptop. 

gpg doesn't work yet. Trying to get it from Norbert's repo gave

tlmgr --repository http://www.preining.info/tlgpg/ install tlgpg

tlmgr.pl: The TeX Live versions supported by the repository
http://www.preining.info/tlgpg/
  (2016--2019)
do not include the version of the local installation
  (2020).




-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From usenet at siart.de  Tue Mar  3 13:02:49 2020
From: usenet at siart.de (Uwe Siart)
Date: Tue, 03 Mar 2020 13:02:49 +0100
Subject: tl2020 pretest begin
References: <202003030209.02329DPJ025997@freefriends.org>
Message-ID: <875zflodcm.fsf@siart.de>

Karl Berry <karl at freefriends.org> writes:

> BTW, as discussed in the LaTeX newsletters and other places, lualatex in
> the pretest now invokes the luahbtex engine, as lualatex-dev did for the
> last couple months in TL19.

Install went smooth on Win7. But every call of lualatex invokes a remake
of lualatex.fmt - over and over again. It starts with:

-------
This is LuaTeX, Version 1.12.0 (TeX Live 2020/W32TeX)
 restricted system commands enabled.

kpathsea: Running mktexfmt lualatex.fmt

The command name is C:\Programme1\texlive\2020\bin\win32\mktexfmt
Running the command C:\Programme1\texlive\2020\bin\win32\fmtutil-user.exe
fmtutil: fmtutil is using the following fmtutil.cnf files (in precedence order):
-------

And then it exits with

-------
warning  (pdf backend): no pages of output.
Transcript written on lualatex.log.
fmtutil [INFO]: log file copied to: c:/users/siart/.texlive2020/texmf-var/web2c/luahbtex/lualatex.log
fmtutil [INFO]: c:/users/siart/.texlive2020/texmf-var/web2c/luahbtex/lualatex.fmt installed.
fmtutil [INFO]: disabled formats: 5
fmtutil [INFO]: successfully rebuilt formats: 1
fmtutil [INFO]: not selected formats: 54
fmtutil [INFO]: total formats: 60
fmtutil [INFO]: exiting with status 0
I can't find the format file `lualatex.fmt'!
-------

-- 
Uwe


From Herbert.Voss at fu-berlin.de  Tue Mar  3 13:45:20 2020
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Tue, 3 Mar 2020 13:45:20 +0100
Subject: tl2020 pretest begin
In-Reply-To: <202003030209.02329DPJ025997@freefriends.org>
References: <202003030209.02329DPJ025997@freefriends.org>
Message-ID: <cddc5297-90f0-e271-f4c5-a97f26499c0e@fu-berlin.de>



Am 03.03.20 um 03:09 schrieb Karl Berry:
> I think the pretest area is populated with the first build for TL 2020.
> See https://tug.org/texlive/pretest.html as usual for details of how to
> install (unchanged from previous years), and the list of notable changes
> that I've got so far. Additions or corrections to the news are greatly
> appreciated.
>
> I have not caught up with the CTAN releases over the past few days. I
> expect all of those to be updated in the pretest over the next day or two.
>
> The binaries for a few of the platforms (cygwin, armhf-linux,
> i386-netbsd) have not yet been updated. I expect that to happen soon
> also.  All others are current AFAIK.
>
> BTW, as discussed in the LaTeX newsletters and other places, lualatex in
> the pretest now invokes the luahbtex engine, as lualatex-dev did for the
> last couple months in TL19.

After a new installation of the pretest and a context run

\starttext
foo
\stoptext



[...]
mtx-context???? | error, no format found with name: cont-en, aborting
system????????? | total runtime: 5.723 seconds



running
context --make cont-en

doesn't help

Herbert



>
> Please try it if you can. Better to test now than wait for breakage in
> the official release. We have no dedicated testers or QA department, so
> it's all up to us collectively as volunteers.
>
> Hope it flies,
> Karl


From news3 at nililand.de  Tue Mar  3 14:00:16 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Tue, 3 Mar 2020 14:00:16 +0100
Subject: tl2020 pretest begin
References: <202003030209.02329DPJ025997@freefriends.org>
 <875zflodcm.fsf@siart.de>
Message-ID: <pgsyev0yppsh$.dlg@nililand.de>

Am Tue, 03 Mar 2020 13:02:49 +0100 schrieb Uwe Siart:


>> BTW, as discussed in the LaTeX newsletters and other places, lualatex in
>> the pretest now invokes the luahbtex engine, as lualatex-dev did for the
>> last couple months in TL19.
> 
> Install went smooth on Win7. But every call of lualatex invokes a remake
> of lualatex.fmt - over and over again. It starts with:
> 
> -------
> This is LuaTeX, Version 1.12.0 (TeX Live 2020/W32TeX)

It should be luahbtex, looks as if the wrapper was not updated. I
made a copy of lualatex-dev.exe and named it lualatex.exe and
replaced with it the existing wrapper and now it works. 

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From usenet at siart.de  Tue Mar  3 14:08:02 2020
From: usenet at siart.de (Uwe Siart)
Date: Tue, 03 Mar 2020 14:08:02 +0100
Subject: tl2020 pretest begin
References: <202003030209.02329DPJ025997@freefriends.org>
 <875zflodcm.fsf@siart.de> <pgsyev0yppsh$.dlg@nililand.de>
Message-ID: <87mu8x7fil.fsf@siart.de>

Ulrike Fischer <news3 at nililand.de> writes:

>> -------
>> This is LuaTeX, Version 1.12.0 (TeX Live 2020/W32TeX)
>
> It should be luahbtex, looks as if the wrapper was not updated. I
> made a copy of lualatex-dev.exe and named it lualatex.exe and
> replaced with it the existing wrapper and now it works. 

I can confirm.

-- 
Uwe


From khzimmer at posteo.de  Tue Mar  3 14:12:41 2020
From: khzimmer at posteo.de (khzimmer at posteo.de)
Date: Tue, 03 Mar 2020 14:12:41 +0100
Subject: tl2020 pretest begin
In-Reply-To: <202003030209.02329DPJ025997@freefriends.org>
References: <202003030209.02329DPJ025997@freefriends.org>
Message-ID: <c405ff2b45ac599c730202523cefcb09@posteo.de>

Hi Karl,

just tried installing this test version of tl2020 (after uninstalling 
tl2018) in a windows machine here.

Installation ended with this output:

| mktexlsr: Done.
| C:/Users/(user 
name)/texlife-2020-pretest/install-tl/install-tl-20200303/install-tl: 
mkdir(//(PC name)/) failed for tree \\(PC name)\profile$\(user 
name)\AppData\Roaming\Microsoft\Windows\Start Menu\Programs/TeX Live 
2020: No such file or directory at C:/Users/(user 
name)/texlife-2020-pretest/install-tl/install-tl-20200303/tlpkg/TeXLive/TLUtils.pm 
line 928.

Is that a known error?

Also, I can start TeXworks, but when trying to run lualatex it does not 
succeed but it ends with this:

| Running the command C:\texlive\2020\bin\win32\fmtutil-user.exe
| This is LuaTeX, Version 1.12.0 (TeX Live 2020/W32TeX)
|  restricted system commands enabled.
| I can't find the format file `lualatex.fmt'!

Cheers,
Karl-Heinz


Am 03.03.2020 03:09 schrieb Karl Berry:
> I think the pretest area is populated with the first build for TL 2020.
> See https://tug.org/texlive/pretest.html as usual for details of how to
> install (unchanged from previous years), and the list of notable 
> changes
> that I've got so far. Additions or corrections to the news are greatly
> appreciated.
> 
> I have not caught up with the CTAN releases over the past few days. I
> expect all of those to be updated in the pretest over the next day or 
> two.
> 
> The binaries for a few of the platforms (cygwin, armhf-linux,
> i386-netbsd) have not yet been updated. I expect that to happen soon
> also.  All others are current AFAIK.
> 
> BTW, as discussed in the LaTeX newsletters and other places, lualatex 
> in
> the pretest now invokes the luahbtex engine, as lualatex-dev did for 
> the
> last couple months in TL19.
> 
> Please try it if you can. Better to test now than wait for breakage in
> the official release. We have no dedicated testers or QA department, so
> it's all up to us collectively as volunteers.
> 
> Hope it flies,
> Karl

From tex at lukasczyk.me  Tue Mar  3 14:33:37 2020
From: tex at lukasczyk.me (Stephan Lukasczyk)
Date: Tue, 3 Mar 2020 14:33:37 +0100
Subject: tl2020 pretest begin
In-Reply-To: <202003030209.02329DPJ025997@freefriends.org>
References: <202003030209.02329DPJ025997@freefriends.org>
Message-ID: <20200303133337.qvvgalrzxwx2y4f4@kreuzeck.lukasczyk.me>

On 2020-03-02 19:09:13, Karl Berry wrote:
>Please try it if you can.

I was successful in installing it on a 64bit Gentoo Linux system without
any problems.  I could also compile some random documents I have lying
around here with pdflatex and lualatex.

Thank you guys for the effort you put into TeX Live each and every year!

Best,
   Stephan

-- 
Stephan Lukasczyk
GPG-Key: 0x06E03C26B90F403D
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 898 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200303/f5fe0da2/attachment.sig>

From joseph.wright at morningstar2.co.uk  Tue Mar  3 17:54:40 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 3 Mar 2020 16:54:40 +0000
Subject: tl2020 pretest begin
In-Reply-To: <202003030209.02329DPJ025997@freefriends.org>
References: <202003030209.02329DPJ025997@freefriends.org>
Message-ID: <197d80e6-73c2-e92d-83dc-fefc933cfc88@morningstar2.co.uk>

On 03/03/2020 02:09, Karl Berry wrote:
> I think the pretest area is populated with the first build for TL 2020.
> See https://tug.org/texlive/pretest.html as usual for details of how to
> install (unchanged from previous years), and the list of notable changes
> that I've got so far. Additions or corrections to the news are greatly
> appreciated.
> 
> I have not caught up with the CTAN releases over the past few days. I
> expect all of those to be updated in the pretest over the next day or two.
> 
> The binaries for a few of the platforms (cygwin, armhf-linux,
> i386-netbsd) have not yet been updated. I expect that to happen soon
> also.  All others are current AFAIK.
> 
> BTW, as discussed in the LaTeX newsletters and other places, lualatex in
> the pretest now invokes the luahbtex engine, as lualatex-dev did for the
> last couple months in TL19.
> 
> Please try it if you can. Better to test now than wait for breakage in
> the official release. We have no dedicated testers or QA department, so
> it's all up to us collectively as volunteers.
> 
> Hope it flies,
> Karl

https://tug.org/texlive/pretest.html says \filedump is new in XeTeX, but 
it was there in 2019. (Aside: is there a good marker for TL'20 XeTeX 
other than the version string?)

Joseph


From kakuto at w32tex.org  Tue Mar  3 22:03:44 2020
From: kakuto at w32tex.org (Akira Kakuto)
Date: Wed, 4 Mar 2020 06:03:44 +0900
Subject: tl2020 pretest begin
In-Reply-To: <875zflodcm.fsf@siart.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <875zflodcm.fsf@siart.de>
Message-ID: <DE76BB24A83A431391BA69DC0E6D09E4@CJ3001517A>

Dear Uwe Siart,

> Install went smooth on Win7. But every call of lualatex invokes a remake
> of lualatex.fmt - over and over again. It starts with:
>
> -------
> This is LuaTeX, Version 1.12.0 (TeX Live 2020/W32TeX)

Probably you obtained a bit old one.
It was revision 54023 that I changed the engine of
lualatex from luatex to luahbtex.

Thanks,
Akira


From kakuto at w32tex.org  Tue Mar  3 22:19:05 2020
From: kakuto at w32tex.org (Akira Kakuto)
Date: Wed, 4 Mar 2020 06:19:05 +0900
Subject: tl2020 pretest begin
In-Reply-To: <197d80e6-73c2-e92d-83dc-fefc933cfc88@morningstar2.co.uk>
References: <202003030209.02329DPJ025997@freefriends.org>
 <197d80e6-73c2-e92d-83dc-fefc933cfc88@morningstar2.co.uk>
Message-ID: <0A0B6BABC0BF422DBAB2244494E4F518@CJ3001517A>

Hi Joseph,

> https://tug.org/texlive/pretest.html says \filedump is new in XeTeX, but 
> it was there in 2019. (Aside: is there a good marker for TL'20 XeTeX 
> other than the version string?)

(1) Support of \input {...}
(2) Bug fix in the primitimve \pdfsavepos by Clerk Ma
(3) Fix of a potential bug (seg fault for incorrect input)
    in the primitive \XeTeXinterchartoks by Clerk Ma
(4) Allow fetching value from a token defined by \Umathchardef,
    to be compatible with LuaTeX, by Hironobu Yamashita

Thanks,
Akira


From preining at logic.at  Tue Mar  3 22:19:08 2020
From: preining at logic.at (Norbert Preining)
Date: Wed, 4 Mar 2020 06:19:08 +0900
Subject: tl2020 pretest begin
In-Reply-To: <x4cbptwb7hvi$.dlg@nililand.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <x4cbptwb7hvi$.dlg@nililand.de>
Message-ID: <20200303211908.GA9340@burischnitzel.preining.info>

Hi Ulrike,

> http://www.preining.info/tlgpg/
>   (2016--2019)

Ah, thanks, forgot that one (tlcontrib and tltexjp is updated).

Should work now.

Thanks

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From kakuto at w32tex.org  Tue Mar  3 22:39:37 2020
From: kakuto at w32tex.org (Akira Kakuto)
Date: Wed, 4 Mar 2020 06:39:37 +0900
Subject: tl2020 pretest begin
In-Reply-To: <0A0B6BABC0BF422DBAB2244494E4F518@CJ3001517A>
References: <202003030209.02329DPJ025997@freefriends.org>
 <197d80e6-73c2-e92d-83dc-fefc933cfc88@morningstar2.co.uk>
 <0A0B6BABC0BF422DBAB2244494E4F518@CJ3001517A>
Message-ID: <8F635C21CA534D1D83F1CFF0996F74EC@CJ3001517A>

Hi Joseph,

> (1) Support of \input {...}
> (2) Bug fix in the primitimve \pdfsavepos by Clerk Ma
> (3) Fix of a potential bug (seg fault for incorrect input)
>     in the primitive \XeTeXinterchartoks by Clerk Ma
> (4) Allow fetching value from a token defined by \Umathchardef,
>     to be compatible with LuaTeX, by Hironobu Yamashita

Sorry, they are described in https://tug.org/texlive/pretest.html  .
I think there is not a good marker for TL'20 XeTeX other than the version string.

Thanks,
Akira


From karl at freefriends.org  Tue Mar  3 23:12:04 2020
From: karl at freefriends.org (Karl Berry)
Date: Tue, 3 Mar 2020 15:12:04 -0700
Subject: tl2020 pretest begin
In-Reply-To: <197d80e6-73c2-e92d-83dc-fefc933cfc88@morningstar2.co.uk>
Message-ID: <202003032212.023MC4R3012273@freefriends.org>

    https://tug.org/texlive/pretest.html says \filedump is new in XeTeX, but 
    it was there in 2019. 

Thanks. Updating doc.

    (Aside: is there a good marker for TL'20 XeTeX 
    other than the version string?)

I guess there is no new primitive. If you find one, let me know.  (I
wish there was a way to "show all primitives" from an engine binary.) -k

From jhielscher at posteo.de  Tue Mar  3 23:28:04 2020
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Tue, 3 Mar 2020 23:28:04 +0100
Subject: tl2020 pretest begin
In-Reply-To: <202003030209.02329DPJ025997@freefriends.org>
References: <202003030209.02329DPJ025997@freefriends.org>
Message-ID: <20200303232804.300085fd@hordevm>

Installation runs fine and basic documents build on x86_64-linux and
amd64-freebsd for me.

Many thanks to everyone so far!



(was Re: [tex-live] tlmgr misses xecyr on non-win32)

Am Sat, 7 Apr 2018 22:18:49 GMT
schrieb Karl Berry <karl at freefriends.org>:

>     tlmgr: action platform add, cannot find package
>     xecyr.aarch64-linux
> 
> I surmise "platform add" is a rare enough case that it simply hasn't
> been noticed before. (Maybe it happens in other cases too, and/or
> people haven't noticed and/or taken the time to report it. All seem
> plausible.)
> 
> Anyway, it does seem like the lack of xecyr.* for all non-w32 should
> not be considered a problem. How easy or painful that is to change,
> I'll leave to Norbert. My inclination at this point is not to change
> anything in this regard until after the release ... --thanks, karl.

Just noticed that this glitch with missing binaries on platforms where
they don't exist is still up&running, both for TL19 (be it or not
already frozen), and TL20pretest. Given that in the meantime nobody else
bothered complaining, it is probably fine to leave it with that roughly
biennal reminder from me?


Best,
Johannes

PS: I can't promise yet a schedule for aarch64's xindy, asy, xz et al.


From karl at freefriends.org  Wed Mar  4 00:53:34 2020
From: karl at freefriends.org (Karl Berry)
Date: Tue, 3 Mar 2020 16:53:34 -0700
Subject: ctan uploads imported into tlpretest
Message-ID: <202003032353.023NrYAK016461@freefriends.org>

FYI, I think I've installed all the pending packages into tlpretest
(except for a couple cases where I wrote the authors). tlpretest
will get rebuilt nightly as usual for a while.

One warning: I had to update the asymptote support files today (asy-2.63
was released), so they are no longer in sync with the binaries. So no
need to report the resulting warnings. New asy binaries should be coming
tomorrow.

Thanks for all the reports already. Please keep them coming. It's
impossible that there are no bugs in the binaries :). --thanks, karl.

From preining at logic.at  Wed Mar  4 02:37:01 2020
From: preining at logic.at (Norbert Preining)
Date: Wed, 4 Mar 2020 10:37:01 +0900
Subject: tl2020 pretest begin
In-Reply-To: <cddc5297-90f0-e271-f4c5-a97f26499c0e@fu-berlin.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <cddc5297-90f0-e271-f4c5-a97f26499c0e@fu-berlin.de>
Message-ID: <20200304013701.GA247635@bulldog.preining.info>

On Tue, 03 Mar 2020, Herbert Voss wrote:
> mtx-context???? | error, no format found with name: cont-en, aborting
> system????????? | total runtime: 5.723 seconds

Same here. Mojca?

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From mojca.miklavec.lists at gmail.com  Wed Mar  4 06:33:46 2020
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 4 Mar 2020 06:33:46 +0100
Subject: tl2020 pretest begin
In-Reply-To: <20200304013701.GA247635@bulldog.preining.info>
References: <202003030209.02329DPJ025997@freefriends.org>
 <cddc5297-90f0-e271-f4c5-a97f26499c0e@fu-berlin.de>
 <20200304013701.GA247635@bulldog.preining.info>
Message-ID: <CALBOmsZuM788B7x=M_0Pya4XmvRefaw1Y=G6yqxwUSLo0dskUQ@mail.gmail.com>

On Wed, 4 Mar 2020 at 02:38, Norbert Preining wrote:
>
> On Tue, 03 Mar 2020, Herbert Voss wrote:
> > mtx-context     | error, no format found with name: cont-en, aborting
> > system          | total runtime: 5.723 seconds
>
> Same here. Mojca?

Let's first update ConTeXt and then try again.
(While the LuaTeX development slowed down compared to the initial
years, so that it's not necessarily incompatible with the old context,
it's not worth debugging with the old version around.)

Mojca

From kakuto at w32tex.org  Wed Mar  4 06:37:09 2020
From: kakuto at w32tex.org (Akira Kakuto)
Date: Wed, 4 Mar 2020 14:37:09 +0900
Subject: tl2020 pretest begin
In-Reply-To: <20200304013701.GA247635@bulldog.preining.info>
References: <202003030209.02329DPJ025997@freefriends.org>
 <cddc5297-90f0-e271-f4c5-a97f26499c0e@fu-berlin.de>
 <20200304013701.GA247635@bulldog.preining.info>
Message-ID: <4E8B22D4CAC441A4B1689E6338E69338@CJ3001517A>

Hi,

>> mtx-context     | error, no format found with name: cont-en, aborting
>> system             | total runtime: 5.723 seconds
>
> Same here. Mojca?

I think the current version of ConTeXt:
mtx-context     | current version: 2020.02.17 12:06
is not installed yet in TeX Live.

I succeeded to run the current TeX Live version of ConTeXt:
mtx-context     | current version: 2019.03.21 21:39
as follows.

First I executed
mtxrun --generate

Next I executed
context test.tex
for the following file
%
% test.tex
%
\starttext
This is a test.
\stoptext

Then the format is automatically created in
$TEXMFVAR/luatex-cache/context/...../formats/luatex
and
test.pdf is created.

mkii formats (for pdftex and xetex) may be created by
fmtutil-sys --byfmt cont-en

Thanks,
Akira


From khzimmer at posteo.de  Wed Mar  4 07:01:10 2020
From: khzimmer at posteo.de (khzimmer at posteo.de)
Date: Wed, 04 Mar 2020 07:01:10 +0100
Subject: tl2020 pretest begin
In-Reply-To: <c405ff2b45ac599c730202523cefcb09@posteo.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <c405ff2b45ac599c730202523cefcb09@posteo.de>
Message-ID: <fb4e4a99f522c6a744967e6e2cc15835@posteo.de>

Hi,

just wondering: Did somebody else test installing on Windows 10?

I forgot to mention, my test box runs on Win 10, so perhaps that's the 
reason for the error?

I had started installation (as a user, not as admin) by double-clicking 
the install exe file, and made no extra modifications in the GUI.

Cheers
Karl-Heinz

Am 03.03.2020 14:12 schrieb khzimmer at posteo.de:
> Hi Karl,
> 
> just tried installing this test version of tl2020 (after uninstalling
> tl2018) in a windows machine here.
> 
> Installation ended with this output:
> 
> | mktexlsr: Done.
> | C:/Users/(user
> name)/texlife-2020-pretest/install-tl/install-tl-20200303/install-tl:
> mkdir(//(PC name)/) failed for tree \\(PC name)\profile$\(user
> name)\AppData\Roaming\Microsoft\Windows\Start Menu\Programs/TeX Live
> 2020: No such file or directory at C:/Users/(user
> name)/texlife-2020-pretest/install-tl/install-tl-20200303/tlpkg/TeXLive/TLUtils.pm
> line 928.
> 
> Is that a known error?
> 
> Also, I can start TeXworks, but when trying to run lualatex it does
> not succeed but it ends with this:
> 
> | Running the command C:\texlive\2020\bin\win32\fmtutil-user.exe
> | This is LuaTeX, Version 1.12.0 (TeX Live 2020/W32TeX)
> |  restricted system commands enabled.
> | I can't find the format file `lualatex.fmt'!
> 
> Cheers,
> Karl-Heinz
> 
> 
> Am 03.03.2020 03:09 schrieb Karl Berry:
>> I think the pretest area is populated with the first build for TL 
>> 2020.
>> See https://tug.org/texlive/pretest.html as usual for details of how 
>> to
>> install (unchanged from previous years), and the list of notable 
>> changes
>> that I've got so far. Additions or corrections to the news are greatly
>> appreciated.
>> 
>> I have not caught up with the CTAN releases over the past few days. I
>> expect all of those to be updated in the pretest over the next day or 
>> two.
>> 
>> The binaries for a few of the platforms (cygwin, armhf-linux,
>> i386-netbsd) have not yet been updated. I expect that to happen soon
>> also.  All others are current AFAIK.
>> 
>> BTW, as discussed in the LaTeX newsletters and other places, lualatex 
>> in
>> the pretest now invokes the luahbtex engine, as lualatex-dev did for 
>> the
>> last couple months in TL19.
>> 
>> Please try it if you can. Better to test now than wait for breakage in
>> the official release. We have no dedicated testers or QA department, 
>> so
>> it's all up to us collectively as volunteers.
>> 
>> Hope it flies,
>> Karl

From usenet at siart.de  Wed Mar  4 07:12:28 2020
From: usenet at siart.de (Uwe Siart)
Date: Wed, 04 Mar 2020 07:12:28 +0100
Subject: tl2020 pretest begin
References: <202003030209.02329DPJ025997@freefriends.org>
 <875zflodcm.fsf@siart.de>
 <DE76BB24A83A431391BA69DC0E6D09E4@CJ3001517A>
Message-ID: <87imjk7inn.fsf@siart.de>

"Akira Kakuto" <kakuto at w32tex.org> writes:

> Dear Uwe Siart,
>
>> Install went smooth on Win7. But every call of lualatex invokes a remake
>> of lualatex.fmt - over and over again. It starts with:
>>
>> -------
>> This is LuaTeX, Version 1.12.0 (TeX Live 2020/W32TeX)
>
> Probably you obtained a bit old one.
> It was revision 54023 that I changed the engine of
> lualatex from luatex to luahbtex.

Ok, will wait for the next bunch of updates. It looks as if the build
did not run last night.

BTW: In the archive folder there are kind of duplicate files like

lualatex-doc.doc.r30473.tar.xz (contains doc)
lualatex-doc.r30473.tar.xz (almost empty)

lualatex-doc-de.doc.r30474.tar.xz (contains doc)
lualatex-doc-de.r30474.tar.xz (almost empty)

which looks strange.

-- 
Uwe


From khzimmer at posteo.de  Wed Mar  4 08:19:23 2020
From: khzimmer at posteo.de (khzimmer at posteo.de)
Date: Wed, 04 Mar 2020 08:19:23 +0100
Subject: tl2020 pretest begin
In-Reply-To: <fb4e4a99f522c6a744967e6e2cc15835@posteo.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <c405ff2b45ac599c730202523cefcb09@posteo.de>
 <fb4e4a99f522c6a744967e6e2cc15835@posteo.de>
Message-ID: <c21ced804dcd7a14a013ed225819875b@posteo.de>

PS: My mail was incorrect, I had started the installation like this:

install-tl-windows.bat -repository https://www.texlive.info/tlpretest/

on Windows 10, as normal user, not as admin.

(Previous installation of a released texlive, also on Win 10, had run 
without such error, using the same user account, in 2018.)


Am 04.03.2020 07:01 schrieb khzimmer at posteo.de:
> Hi,
> 
> just wondering: Did somebody else test installing on Windows 10?
> 
> I forgot to mention, my test box runs on Win 10, so perhaps that's the
> reason for the error?
> 
> I had started installation (as a user, not as admin) by
> double-clicking the install exe file, and made no extra modifications
> in the GUI.
> 
> Cheers
> Karl-Heinz
> 
> Am 03.03.2020 14:12 schrieb khzimmer at posteo.de:
>> Hi Karl,
>> 
>> just tried installing this test version of tl2020 (after uninstalling
>> tl2018) in a windows machine here.
>> 
>> Installation ended with this output:
>> 
>> | mktexlsr: Done.
>> | C:/Users/(user
>> name)/texlife-2020-pretest/install-tl/install-tl-20200303/install-tl:
>> mkdir(//(PC name)/) failed for tree \\(PC name)\profile$\(user
>> name)\AppData\Roaming\Microsoft\Windows\Start Menu\Programs/TeX Live
>> 2020: No such file or directory at C:/Users/(user
>> name)/texlife-2020-pretest/install-tl/install-tl-20200303/tlpkg/TeXLive/TLUtils.pm
>> line 928.
>> 
>> Is that a known error?
>> 
>> Also, I can start TeXworks, but when trying to run lualatex it does
>> not succeed but it ends with this:
>> 
>> | Running the command C:\texlive\2020\bin\win32\fmtutil-user.exe
>> | This is LuaTeX, Version 1.12.0 (TeX Live 2020/W32TeX)
>> |  restricted system commands enabled.
>> | I can't find the format file `lualatex.fmt'!
>> 
>> Cheers,
>> Karl-Heinz
>> 
>> 
>> Am 03.03.2020 03:09 schrieb Karl Berry:
>>> I think the pretest area is populated with the first build for TL 
>>> 2020.
>>> See https://tug.org/texlive/pretest.html as usual for details of how 
>>> to
>>> install (unchanged from previous years), and the list of notable 
>>> changes
>>> that I've got so far. Additions or corrections to the news are 
>>> greatly
>>> appreciated.
>>> 
>>> I have not caught up with the CTAN releases over the past few days. I
>>> expect all of those to be updated in the pretest over the next day or 
>>> two.
>>> 
>>> The binaries for a few of the platforms (cygwin, armhf-linux,
>>> i386-netbsd) have not yet been updated. I expect that to happen soon
>>> also.  All others are current AFAIK.
>>> 
>>> BTW, as discussed in the LaTeX newsletters and other places, lualatex 
>>> in
>>> the pretest now invokes the luahbtex engine, as lualatex-dev did for 
>>> the
>>> last couple months in TL19.
>>> 
>>> Please try it if you can. Better to test now than wait for breakage 
>>> in
>>> the official release. We have no dedicated testers or QA department, 
>>> so
>>> it's all up to us collectively as volunteers.
>>> 
>>> Hope it flies,
>>> Karl

From khzimmer at posteo.de  Wed Mar  4 08:38:28 2020
From: khzimmer at posteo.de (khzimmer at posteo.de)
Date: Wed, 04 Mar 2020 08:38:28 +0100
Subject: tl2020 pretest begin
In-Reply-To: <c21ced804dcd7a14a013ed225819875b@posteo.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <c405ff2b45ac599c730202523cefcb09@posteo.de>
 <fb4e4a99f522c6a744967e6e2cc15835@posteo.de>
 <c21ced804dcd7a14a013ed225819875b@posteo.de>
Message-ID: <bfdda7ceb75b5648476bb568e992a38c@posteo.de>

The error must be in TLUtils.pm, this function fails:

sub mkdirhier {
   my ($tree,$mode) = @_;
   my $ret = 1;
   my $reterror;

   if (-d "$tree") {
     $ret = 1;
   } else {
     my $subdir = "";
     # win32 is special as usual: we need to separate //servername/ part
     # from the UNC path, since (! -d //servername/) tests true
     $subdir = $& if ( win32() && ($tree =~ s!^//[^/]+/!!) );

     @dirs = split (/[\/\\]/, $tree);
     for my $dir (@dirs) {
       $subdir .= "$dir/";
       if (! -d $subdir) {
         if (defined $mode) {
           if (! mkdir ($subdir, $mode)) {
             $ret = 0;
             $reterror = "mkdir($subdir,$mode) failed: $!";
             last;
           }
(...)

The error states:   mkdir(//(PC name)/) failed for tree   (...)
so
this must have erroneously found FALSE:   if (! -d $subdir)

$subdir was my PC name with slashes, a text without spaces, like 
//testpc02/

Could somebody look into that problem on Windows 10?
Many of my users are already using Win 10, so if the problem remains 
they will not be able to use TL 2020 with SPBuchsatz.


Am 04.03.2020 08:19 schrieb khzimmer at posteo.de:
> PS: My mail was incorrect, I had started the installation like this:
> 
> install-tl-windows.bat -repository https://www.texlive.info/tlpretest/
> 
> on Windows 10, as normal user, not as admin.
> 
> (Previous installation of a released texlive, also on Win 10, had run
> without such error, using the same user account, in 2018.)
> 
> 
> Am 04.03.2020 07:01 schrieb khzimmer at posteo.de:
>> Hi,
>> 
>> just wondering: Did somebody else test installing on Windows 10?
>> 
>> I forgot to mention, my test box runs on Win 10, so perhaps that's the
>> reason for the error?
>> 
>> I had started installation (as a user, not as admin) by
>> double-clicking the install exe file, and made no extra modifications
>> in the GUI.
>> 
>> Cheers
>> Karl-Heinz
>> 
>> Am 03.03.2020 14:12 schrieb khzimmer at posteo.de:
>>> Hi Karl,
>>> 
>>> just tried installing this test version of tl2020 (after uninstalling
>>> tl2018) in a windows machine here.
>>> 
>>> Installation ended with this output:
>>> 
>>> | mktexlsr: Done.
>>> | C:/Users/(user
>>> name)/texlife-2020-pretest/install-tl/install-tl-20200303/install-tl:
>>> mkdir(//(PC name)/) failed for tree \\(PC name)\profile$\(user
>>> name)\AppData\Roaming\Microsoft\Windows\Start Menu\Programs/TeX Live
>>> 2020: No such file or directory at C:/Users/(user
>>> name)/texlife-2020-pretest/install-tl/install-tl-20200303/tlpkg/TeXLive/TLUtils.pm
>>> line 928.
>>> 
>>> Is that a known error?
>>> 
>>> Also, I can start TeXworks, but when trying to run lualatex it does
>>> not succeed but it ends with this:
>>> 
>>> | Running the command C:\texlive\2020\bin\win32\fmtutil-user.exe
>>> | This is LuaTeX, Version 1.12.0 (TeX Live 2020/W32TeX)
>>> |  restricted system commands enabled.
>>> | I can't find the format file `lualatex.fmt'!
>>> 
>>> Cheers,
>>> Karl-Heinz
>>> 
>>> 
>>> Am 03.03.2020 03:09 schrieb Karl Berry:
>>>> I think the pretest area is populated with the first build for TL 
>>>> 2020.
>>>> See https://tug.org/texlive/pretest.html as usual for details of how 
>>>> to
>>>> install (unchanged from previous years), and the list of notable 
>>>> changes
>>>> that I've got so far. Additions or corrections to the news are 
>>>> greatly
>>>> appreciated.
>>>> 
>>>> I have not caught up with the CTAN releases over the past few days. 
>>>> I
>>>> expect all of those to be updated in the pretest over the next day 
>>>> or two.
>>>> 
>>>> The binaries for a few of the platforms (cygwin, armhf-linux,
>>>> i386-netbsd) have not yet been updated. I expect that to happen soon
>>>> also.  All others are current AFAIK.
>>>> 
>>>> BTW, as discussed in the LaTeX newsletters and other places, 
>>>> lualatex in
>>>> the pretest now invokes the luahbtex engine, as lualatex-dev did for 
>>>> the
>>>> last couple months in TL19.
>>>> 
>>>> Please try it if you can. Better to test now than wait for breakage 
>>>> in
>>>> the official release. We have no dedicated testers or QA department, 
>>>> so
>>>> it's all up to us collectively as volunteers.
>>>> 
>>>> Hope it flies,
>>>> Karl

From khzimmer at posteo.de  Wed Mar  4 09:06:59 2020
From: khzimmer at posteo.de (khzimmer at posteo.de)
Date: Wed, 04 Mar 2020 09:06:59 +0100
Subject: tl2020 pretest begin
In-Reply-To: <bfdda7ceb75b5648476bb568e992a38c@posteo.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <c405ff2b45ac599c730202523cefcb09@posteo.de>
 <fb4e4a99f522c6a744967e6e2cc15835@posteo.de>
 <c21ced804dcd7a14a013ed225819875b@posteo.de>
 <bfdda7ceb75b5648476bb568e992a38c@posteo.de>
Message-ID: <36c5604beff3b9b791ab57db778bae22@posteo.de>

Hi again,

PROBLEM FOUND :)

Hi again, found the error:

If we have our user profiles mapped onto a server, then installation 
fails.
If the profiles are local, all is fine.

Usually people would have C:\Users\user-name\
but
we have mapped that, so the path is  \\server-name\profile$\user-name\

I tested like this:

install-tl-20200303\tlpkg\tlperl\bin>perl.exe -e "if (! -d 'C:/') { 
print 'nicht gefunden' } else { print 'gefunden' }"
gefunden

install-tl-20200303\tlpkg\tlperl\bin>perl.exe -e "if (! -d 
'//our-server-name/') { print 'nicht gefunden' } else { print 'gefunden' 
}"
nicht gefunden

:)

Probably there's no way to change that?

And most-likely only a tiny fraction of users will have such strange 
setup? :)


Am 04.03.2020 08:38 schrieb khzimmer at posteo.de:
> The error must be in TLUtils.pm, this function fails:
> 
> sub mkdirhier {
>   my ($tree,$mode) = @_;
>   my $ret = 1;
>   my $reterror;
> 
>   if (-d "$tree") {
>     $ret = 1;
>   } else {
>     my $subdir = "";
>     # win32 is special as usual: we need to separate //servername/ part
>     # from the UNC path, since (! -d //servername/) tests true
>     $subdir = $& if ( win32() && ($tree =~ s!^//[^/]+/!!) );
> 
>     @dirs = split (/[\/\\]/, $tree);
>     for my $dir (@dirs) {
>       $subdir .= "$dir/";
>       if (! -d $subdir) {
>         if (defined $mode) {
>           if (! mkdir ($subdir, $mode)) {
>             $ret = 0;
>             $reterror = "mkdir($subdir,$mode) failed: $!";
>             last;
>           }
> (...)
> 
> The error states:   mkdir(//(PC name)/) failed for tree   (...)
> so
> this must have erroneously found FALSE:   if (! -d $subdir)
> 
> $subdir was my PC name with slashes, a text without spaces, like 
> //testpc02/
> 
> Could somebody look into that problem on Windows 10?
> Many of my users are already using Win 10, so if the problem remains
> they will not be able to use TL 2020 with SPBuchsatz.
> 
> 
> Am 04.03.2020 08:19 schrieb khzimmer at posteo.de:
>> PS: My mail was incorrect, I had started the installation like this:
>> 
>> install-tl-windows.bat -repository https://www.texlive.info/tlpretest/
>> 
>> on Windows 10, as normal user, not as admin.
>> 
>> (Previous installation of a released texlive, also on Win 10, had run
>> without such error, using the same user account, in 2018.)
>> 
>> 
>> Am 04.03.2020 07:01 schrieb khzimmer at posteo.de:
>>> Hi,
>>> 
>>> just wondering: Did somebody else test installing on Windows 10?
>>> 
>>> I forgot to mention, my test box runs on Win 10, so perhaps that's 
>>> the
>>> reason for the error?
>>> 
>>> I had started installation (as a user, not as admin) by
>>> double-clicking the install exe file, and made no extra modifications
>>> in the GUI.
>>> 
>>> Cheers
>>> Karl-Heinz
>>> 
>>> Am 03.03.2020 14:12 schrieb khzimmer at posteo.de:
>>>> Hi Karl,
>>>> 
>>>> just tried installing this test version of tl2020 (after 
>>>> uninstalling
>>>> tl2018) in a windows machine here.
>>>> 
>>>> Installation ended with this output:
>>>> 
>>>> | mktexlsr: Done.
>>>> | C:/Users/(user
>>>> name)/texlife-2020-pretest/install-tl/install-tl-20200303/install-tl:
>>>> mkdir(//(PC name)/) failed for tree \\(PC name)\profile$\(user
>>>> name)\AppData\Roaming\Microsoft\Windows\Start Menu\Programs/TeX Live
>>>> 2020: No such file or directory at C:/Users/(user
>>>> name)/texlife-2020-pretest/install-tl/install-tl-20200303/tlpkg/TeXLive/TLUtils.pm
>>>> line 928.
>>>> 
>>>> Is that a known error?
>>>> 
>>>> Also, I can start TeXworks, but when trying to run lualatex it does
>>>> not succeed but it ends with this:
>>>> 
>>>> | Running the command C:\texlive\2020\bin\win32\fmtutil-user.exe
>>>> | This is LuaTeX, Version 1.12.0 (TeX Live 2020/W32TeX)
>>>> |  restricted system commands enabled.
>>>> | I can't find the format file `lualatex.fmt'!
>>>> 
>>>> Cheers,
>>>> Karl-Heinz
>>>> 
>>>> 
>>>> Am 03.03.2020 03:09 schrieb Karl Berry:
>>>>> I think the pretest area is populated with the first build for TL 
>>>>> 2020.
>>>>> See https://tug.org/texlive/pretest.html as usual for details of 
>>>>> how to
>>>>> install (unchanged from previous years), and the list of notable 
>>>>> changes
>>>>> that I've got so far. Additions or corrections to the news are 
>>>>> greatly
>>>>> appreciated.
>>>>> 
>>>>> I have not caught up with the CTAN releases over the past few days. 
>>>>> I
>>>>> expect all of those to be updated in the pretest over the next day 
>>>>> or two.
>>>>> 
>>>>> The binaries for a few of the platforms (cygwin, armhf-linux,
>>>>> i386-netbsd) have not yet been updated. I expect that to happen 
>>>>> soon
>>>>> also.  All others are current AFAIK.
>>>>> 
>>>>> BTW, as discussed in the LaTeX newsletters and other places, 
>>>>> lualatex in
>>>>> the pretest now invokes the luahbtex engine, as lualatex-dev did 
>>>>> for the
>>>>> last couple months in TL19.
>>>>> 
>>>>> Please try it if you can. Better to test now than wait for breakage 
>>>>> in
>>>>> the official release. We have no dedicated testers or QA 
>>>>> department, so
>>>>> it's all up to us collectively as volunteers.
>>>>> 
>>>>> Hope it flies,
>>>>> Karl

From joseph.wright at morningstar2.co.uk  Wed Mar  4 09:11:03 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 4 Mar 2020 08:11:03 +0000
Subject: tl2020 pretest begin
In-Reply-To: <36c5604beff3b9b791ab57db778bae22@posteo.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <c405ff2b45ac599c730202523cefcb09@posteo.de>
 <fb4e4a99f522c6a744967e6e2cc15835@posteo.de>
 <c21ced804dcd7a14a013ed225819875b@posteo.de>
 <bfdda7ceb75b5648476bb568e992a38c@posteo.de>
 <36c5604beff3b9b791ab57db778bae22@posteo.de>
Message-ID: <867239e1-61b4-cb20-161a-1854497b9bfd@morningstar2.co.uk>

On 04/03/2020 08:06, khzimmer at posteo.de wrote:
> Hi again,
> 
> PROBLEM FOUND :)
> 
> Hi again, found the error:
> 
> If we have our user profiles mapped onto a server, then installation fails.
> If the profiles are local, all is fine.
> 
> Usually people would have C:\Users\user-name\
> but
> we have mapped that, so the path is? \\server-name\profile$\user-name\
> 
> I tested like this:
> 
> install-tl-20200303\tlpkg\tlperl\bin>perl.exe -e "if (! -d 'C:/') { 
> print 'nicht gefunden' } else { print 'gefunden' }"
> gefunden
> 
> install-tl-20200303\tlpkg\tlperl\bin>perl.exe -e "if (! -d 
> '//our-server-name/') { print 'nicht gefunden' } else { print 'gefunden' }"
> nicht gefunden
> 
> :)
> 
> Probably there's no way to change that?
> 
> And most-likely only a tiny fraction of users will have such strange 
> setup? :)

Same at work for me, but we have \\server-name\profile$\user-name mapped 
to a drive letter (U: for us). You should be able to map a network drive 
yourself to get that effect. (Lots of programs don't allow network 
paths, so I think it's a necessity anyway.)

Joseph

From khzimmer at posteo.de  Wed Mar  4 09:14:03 2020
From: khzimmer at posteo.de (khzimmer at posteo.de)
Date: Wed, 04 Mar 2020 09:14:03 +0100
Subject: tl2020 pretest begin
In-Reply-To: <36c5604beff3b9b791ab57db778bae22@posteo.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <c405ff2b45ac599c730202523cefcb09@posteo.de>
 <fb4e4a99f522c6a744967e6e2cc15835@posteo.de>
 <c21ced804dcd7a14a013ed225819875b@posteo.de>
 <bfdda7ceb75b5648476bb568e992a38c@posteo.de>
 <36c5604beff3b9b791ab57db778bae22@posteo.de>
Message-ID: <539c6ffcf684683128186753e4432132@posteo.de>

PS: BTW, most-likely the real reason is our environment variable:

    APPDATA=\\server-name\profile$\user-name\AppData\Roaming

I assume the install script looks for APPDATA to create that "TeX Live 
2020" item in the start menu programms?


Am 04.03.2020 09:06 schrieb khzimmer at posteo.de:
> Hi again,
> 
> PROBLEM FOUND :)
> 
> Hi again, found the error:
> 
> If we have our user profiles mapped onto a server, then installation 
> fails.
> If the profiles are local, all is fine.
> 
> Usually people would have C:\Users\user-name\
> but
> we have mapped that, so the path is  \\server-name\profile$\user-name\
> 
> I tested like this:
> 
> install-tl-20200303\tlpkg\tlperl\bin>perl.exe -e "if (! -d 'C:/') {
> print 'nicht gefunden' } else { print 'gefunden' }"
> gefunden
> 
> install-tl-20200303\tlpkg\tlperl\bin>perl.exe -e "if (! -d
> '//our-server-name/') { print 'nicht gefunden' } else { print
> 'gefunden' }"
> nicht gefunden
> 
> :)
> 
> Probably there's no way to change that?
> 
> And most-likely only a tiny fraction of users will have such strange 
> setup? :)
> 
> 
> Am 04.03.2020 08:38 schrieb khzimmer at posteo.de:
>> The error must be in TLUtils.pm, this function fails:
>> 
>> sub mkdirhier {
>>   my ($tree,$mode) = @_;
>>   my $ret = 1;
>>   my $reterror;
>> 
>>   if (-d "$tree") {
>>     $ret = 1;
>>   } else {
>>     my $subdir = "";
>>     # win32 is special as usual: we need to separate //servername/ 
>> part
>>     # from the UNC path, since (! -d //servername/) tests true
>>     $subdir = $& if ( win32() && ($tree =~ s!^//[^/]+/!!) );
>> 
>>     @dirs = split (/[\/\\]/, $tree);
>>     for my $dir (@dirs) {
>>       $subdir .= "$dir/";
>>       if (! -d $subdir) {
>>         if (defined $mode) {
>>           if (! mkdir ($subdir, $mode)) {
>>             $ret = 0;
>>             $reterror = "mkdir($subdir,$mode) failed: $!";
>>             last;
>>           }
>> (...)
>> 
>> The error states:   mkdir(//(PC name)/) failed for tree   (...)
>> so
>> this must have erroneously found FALSE:   if (! -d $subdir)
>> 
>> $subdir was my PC name with slashes, a text without spaces, like 
>> //testpc02/
>> 
>> Could somebody look into that problem on Windows 10?
>> Many of my users are already using Win 10, so if the problem remains
>> they will not be able to use TL 2020 with SPBuchsatz.
>> 
>> 
>> Am 04.03.2020 08:19 schrieb khzimmer at posteo.de:
>>> PS: My mail was incorrect, I had started the installation like this:
>>> 
>>> install-tl-windows.bat -repository 
>>> https://www.texlive.info/tlpretest/
>>> 
>>> on Windows 10, as normal user, not as admin.
>>> 
>>> (Previous installation of a released texlive, also on Win 10, had run
>>> without such error, using the same user account, in 2018.)
>>> 
>>> 
>>> Am 04.03.2020 07:01 schrieb khzimmer at posteo.de:
>>>> Hi,
>>>> 
>>>> just wondering: Did somebody else test installing on Windows 10?
>>>> 
>>>> I forgot to mention, my test box runs on Win 10, so perhaps that's 
>>>> the
>>>> reason for the error?
>>>> 
>>>> I had started installation (as a user, not as admin) by
>>>> double-clicking the install exe file, and made no extra 
>>>> modifications
>>>> in the GUI.
>>>> 
>>>> Cheers
>>>> Karl-Heinz
>>>> 
>>>> Am 03.03.2020 14:12 schrieb khzimmer at posteo.de:
>>>>> Hi Karl,
>>>>> 
>>>>> just tried installing this test version of tl2020 (after 
>>>>> uninstalling
>>>>> tl2018) in a windows machine here.
>>>>> 
>>>>> Installation ended with this output:
>>>>> 
>>>>> | mktexlsr: Done.
>>>>> | C:/Users/(user
>>>>> name)/texlife-2020-pretest/install-tl/install-tl-20200303/install-tl:
>>>>> mkdir(//(PC name)/) failed for tree \\(PC name)\profile$\(user
>>>>> name)\AppData\Roaming\Microsoft\Windows\Start Menu\Programs/TeX 
>>>>> Live
>>>>> 2020: No such file or directory at C:/Users/(user
>>>>> name)/texlife-2020-pretest/install-tl/install-tl-20200303/tlpkg/TeXLive/TLUtils.pm
>>>>> line 928.
>>>>> 
>>>>> Is that a known error?
>>>>> 
>>>>> Also, I can start TeXworks, but when trying to run lualatex it does
>>>>> not succeed but it ends with this:
>>>>> 
>>>>> | Running the command C:\texlive\2020\bin\win32\fmtutil-user.exe
>>>>> | This is LuaTeX, Version 1.12.0 (TeX Live 2020/W32TeX)
>>>>> |  restricted system commands enabled.
>>>>> | I can't find the format file `lualatex.fmt'!
>>>>> 
>>>>> Cheers,
>>>>> Karl-Heinz
>>>>> 
>>>>> 
>>>>> Am 03.03.2020 03:09 schrieb Karl Berry:
>>>>>> I think the pretest area is populated with the first build for TL 
>>>>>> 2020.
>>>>>> See https://tug.org/texlive/pretest.html as usual for details of 
>>>>>> how to
>>>>>> install (unchanged from previous years), and the list of notable 
>>>>>> changes
>>>>>> that I've got so far. Additions or corrections to the news are 
>>>>>> greatly
>>>>>> appreciated.
>>>>>> 
>>>>>> I have not caught up with the CTAN releases over the past few 
>>>>>> days. I
>>>>>> expect all of those to be updated in the pretest over the next day 
>>>>>> or two.
>>>>>> 
>>>>>> The binaries for a few of the platforms (cygwin, armhf-linux,
>>>>>> i386-netbsd) have not yet been updated. I expect that to happen 
>>>>>> soon
>>>>>> also.  All others are current AFAIK.
>>>>>> 
>>>>>> BTW, as discussed in the LaTeX newsletters and other places, 
>>>>>> lualatex in
>>>>>> the pretest now invokes the luahbtex engine, as lualatex-dev did 
>>>>>> for the
>>>>>> last couple months in TL19.
>>>>>> 
>>>>>> Please try it if you can. Better to test now than wait for 
>>>>>> breakage in
>>>>>> the official release. We have no dedicated testers or QA 
>>>>>> department, so
>>>>>> it's all up to us collectively as volunteers.
>>>>>> 
>>>>>> Hope it flies,
>>>>>> Karl

From news3 at nililand.de  Wed Mar  4 16:02:49 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 4 Mar 2020 16:02:49 +0100
Subject: tl2020 pretest begin
References: <202003030209.02329DPJ025997@freefriends.org>
 <x4cbptwb7hvi$.dlg@nililand.de>
 <20200303211908.GA9340@burischnitzel.preining.info>
Message-ID: <1f5nbf6sa8f27.dlg@nililand.de>

Am Wed, 4 Mar 2020 06:19:08 +0900 schrieb Norbert Preining:

> Hi Ulrike,
> 
>> http://www.preining.info/tlgpg/
>>   (2016--2019)
> 
> Ah, thanks, forgot that one (tlcontrib and tltexjp is updated).
> 
> Should work now.

Now I get 

tlmgr.pl: Local TeX Live (2020) is older than remote repository
(2100).


You seem to be a bit ahead of time.

-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


From preining at logic.at  Wed Mar  4 16:10:03 2020
From: preining at logic.at (Norbert Preining)
Date: Thu, 5 Mar 2020 00:10:03 +0900
Subject: tl2020 pretest begin
In-Reply-To: <1f5nbf6sa8f27.dlg@nililand.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <x4cbptwb7hvi$.dlg@nililand.de>
 <20200303211908.GA9340@burischnitzel.preining.info>
 <1f5nbf6sa8f27.dlg@nililand.de>
Message-ID: <20200304151003.GA425211@bulldog.preining.info>

Hi Ulrike,

On Wed, 04 Mar 2020, Ulrike Fischer wrote:
> tlmgr.pl: Local TeX Live (2020) is older than remote repository
> (2100).

Ahh, you use
	--repo ...
in this case yes, you get this. In case of multiple repos
	tlmgr repo add tlgpg ...
	tlmgr update --list
it doesn't appear.

But yes, I will update tlmgr to no warn about this :-)

> You seem to be a bit ahead of time.

Just trying to reduce workload so that in the next years it is not
necessary to update the sub-repos with only a trivial year change.

Thanks for the report

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From news3 at nililand.de  Wed Mar  4 16:31:42 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 4 Mar 2020 16:31:42 +0100
Subject: tl2020 pretest begin
References: <202003030209.02329DPJ025997@freefriends.org>
 <x4cbptwb7hvi$.dlg@nililand.de>
 <20200303211908.GA9340@burischnitzel.preining.info>
 <1f5nbf6sa8f27.dlg@nililand.de>
 <20200304151003.GA425211@bulldog.preining.info>
Message-ID: <ijeag3ig7a44$.dlg@nililand.de>

Am Thu, 5 Mar 2020 00:10:03 +0900 schrieb Norbert Preining:

>> tlmgr.pl: Local TeX Live (2020) is older than remote repository
>> (2100).
> 
> Ahh, you use
> 	--repo ...

I did what I did (imho) last year ;-)

> in this case yes, you get this. In case of multiple repos
> 	tlmgr repo add tlgpg ...
> 	tlmgr update --list
> it doesn't appear.

But it still can't install tlgpg. If I try to list the content I get
messages like this

C:\Users\Nililand-Surface\Documents>tlmgr --only-remote info
>repo.txt
tlmgr.pl: package tlgpg not found neither locally nor remote!
tlmgr.pl: package tlgpg.i386-darwin not found neither locally nor
remote!
tlmgr.pl: package tlgpg.powerpc-darwin not found neither locally nor
remote!
tlmgr.pl: package tlgpg.universal-darwin not found neither locally
nor remote!
tlmgr.pl: package tlgpg.win32 not found neither locally nor remote!
tlmgr.pl: package tlgpg.x86_64-darwin not found neither locally nor
remote!
tlmgr.pl: package tlgpg.x86_64-darwinlegacy not found neither
locally nor remote!
tlmgr.pl: action info returned an error; continuing.
tlmgr.pl: An error has occurred. See above messages. Exiting.

Is the name of the repo still correct? I used 

tlmgr repository add http://www.preining.info/tlgpg 


-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


From preining at logic.at  Wed Mar  4 16:45:42 2020
From: preining at logic.at (Norbert Preining)
Date: Thu, 5 Mar 2020 00:45:42 +0900
Subject: tl2020 pretest begin
In-Reply-To: <ijeag3ig7a44$.dlg@nililand.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <x4cbptwb7hvi$.dlg@nililand.de>
 <20200303211908.GA9340@burischnitzel.preining.info>
 <1f5nbf6sa8f27.dlg@nililand.de>
 <20200304151003.GA425211@bulldog.preining.info>
 <ijeag3ig7a44$.dlg@nililand.de>
Message-ID: <20200304154542.GA427237@bulldog.preining.info>

Hi Ulrike,

On Wed, 04 Mar 2020, Ulrike Fischer wrote:
> Is the name of the repo still correct? I used 

Hmm, indeed indeed.

	tlmgr --repo XXXX

gives a warning, while

	tlmgr repository add XXXX shorthand
	tlmgr pinning add shorthand '*'
	tlmgr update --list

does not.

This is a good question, and I am not sure, maybe the above behavior is
correct.

Think about it: Using
	--repo ...
we tell tlmgr that the *main* repository, the one that should be used
for all packages, is ... And if that is so much newer than the current
tlmgr, then in should bail out.

OTOH, if we add ... as sub-repository using tlmgr repository add ...,
it is treated differently, that is, not as a "main" (= one that provides
all packages) repository, and thus the warning is not shown.


I need to think abou this - not now, it is 00:45 in the morning and I
just returned from a party ...

Good night

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From P.Taylor at Rhul.Ac.Uk  Wed Mar  4 16:46:05 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 4 Mar 2020 15:46:05 +0000
Subject: [EXT] Re: tl2020 pretest begin
In-Reply-To: <ijeag3ig7a44$.dlg@nililand.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <x4cbptwb7hvi$.dlg@nililand.de>
 <20200303211908.GA9340@burischnitzel.preining.info>
 <1f5nbf6sa8f27.dlg@nililand.de>
 <20200304151003.GA425211@bulldog.preining.info>
 <ijeag3ig7a44$.dlg@nililand.de>
Message-ID: <f01b0f24-5db4-3fac-5a15-04aaaa675db9@Rhul.Ac.Uk>

Ulrike Fischer wrote:

> Is the name of the repo still correct? I used
>
> tlmgr repository add http://www.preining.info/tlgpg
>

I neither want nor need GPG, but just to help in debugging TeX Live 2020 
(pre-release), I tried the following from TeX Live 2019 :

> Microsoft Windows [Version 6.1.7601]
> Copyright (c) 2009 Microsoft Corporation.? All rights reserved.
>
> C:\Users\Philip Taylor>tlmgr --repository 
> http://www.preining.info/tlgpg/ instal
> l tlgpg
> SYSTEM_WGETRC = c:/progra~1/wget/etc/wgetrc
> syswgetrc = C:\Program files (x86)\GnuWin32/etc/wgetrc
> SYSTEM_WGETRC = c:/progra~1/wget/etc/wgetrc
> syswgetrc = C:\Program files (x86)\GnuWin32/etc/wgetrc
>
> C:\TeX\Lambda\texmf-dist\scripts\texlive\tlmgr.pl: TLPDB::from_file 
> could not in
> itialize from: http://www.preining.info/tlgpg//tlpkg/texlive.tlpdb
> C:\TeX\Lambda\texmf-dist\scripts\texlive\tlmgr.pl: Maybe the 
> repository setting
> should be changed.
> C:\TeX\Lambda\texmf-dist\scripts\texlive\tlmgr.pl: More info: 
> https://tug.org/te
> xlive/acquire.html

Philip Taylor

From bernhard.kleine at gmx.net  Wed Mar  4 22:57:51 2020
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Wed, 4 Mar 2020 22:57:51 +0100
Subject: tl2020 pretest begin
In-Reply-To: <202003030209.02329DPJ025997@freefriends.org>
References: <202003030209.02329DPJ025997@freefriends.org>
Message-ID: <61b22a04-e3c9-3ced-0a2a-7629b5496f60@gmx.net>

I could today install texlive 2020 pretest completely, but I had to do
two attempts.

The first failed after downloading all packages but did not finish the
postdownload activities for unknown reasons.

For the second attempt, I firstly installed a minimal texlive 2020 and
then used tlshell to expand it to all collections and schemes. Both
parts did work smoothly on my win10 desktop.

Regards Bernhard

-- 
spitzhalde9
D-79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
Ich darf auch auf mein neues Buch "Falter in Lenzkirch" aufmerksam machen 
(Infos bei mir)
-
thunderbird mit enigmail
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <https://tug.org/pipermail/tex-live/attachments/20200304/acf606dc/attachment.sig>

From jhielscher at posteo.de  Thu Mar  5 00:43:12 2020
From: jhielscher at posteo.de (Johannes Hielscher)
Date: Thu, 5 Mar 2020 00:43:12 +0100
Subject: ctan uploads imported into tlpretest
In-Reply-To: <202003032353.023NrYAK016461@freefriends.org>
References: <202003032353.023NrYAK016461@freefriends.org>
Message-ID: <20200305004312.58e85ebc@hordevm>

> It's impossible that there are no bugs in the binaries :)
Challenge accepted! (-:

From preining at logic.at  Thu Mar  5 01:53:25 2020
From: preining at logic.at (Norbert Preining)
Date: Thu, 5 Mar 2020 09:53:25 +0900
Subject: tl2020 pretest begin
In-Reply-To: <20200304154542.GA427237@bulldog.preining.info>
References: <202003030209.02329DPJ025997@freefriends.org>
 <x4cbptwb7hvi$.dlg@nililand.de>
 <20200303211908.GA9340@burischnitzel.preining.info>
 <1f5nbf6sa8f27.dlg@nililand.de>
 <20200304151003.GA425211@bulldog.preining.info>
 <ijeag3ig7a44$.dlg@nililand.de>
 <20200304154542.GA427237@bulldog.preining.info>
Message-ID: <20200305005325.GD430093@bulldog.preining.info>

Hi Ulrike, hi all,

> I need to think abou this - not now, it is 00:45 in the morning and I

I fixed it now, meaning that if the remote repository has a release year
	YYYY-somename
like all the repos I manage do
	2100-tlcontrib
	2100-tlgpg
	2100-texjp
etc, then tlmgr allows newer years on the remote side, even if only one
repo is given.

That means, with (hopefully) todays tlmgr, you can do
	tlmgr --repo ...tlgpg install tlgpg
despite tlgpg repo having
	2100-tlgpg
as release year set.

Thanks

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Thu Mar  5 03:00:20 2020
From: karl at freefriends.org (Karl Berry)
Date: Wed, 4 Mar 2020 19:00:20 -0700
Subject: overly large pretest update
Message-ID: <202003050200.02520Kw4011907@freefriends.org>

The build I pushed out to tlpretest a little while ago has more packages
than one would expect. This was due to updating Catalogue data (for
otherwise-unchanged packages), which we had intentionally been
postponing until the pretest.

I had meant to do this for the initial pretest setup (so that so much
wouldn't have to be downloaded twice), but in the event, that didn't
happen. Sorry for that, and happy downloading. -k

P.S. Asymptote is still in flux. No updates to the compiled sources for
anything else, though. Please keep testing!

From karl at freefriends.org  Thu Mar  5 03:27:26 2020
From: karl at freefriends.org (Karl Berry)
Date: Wed, 4 Mar 2020 19:27:26 -0700
Subject: tl2020 pretest begin
In-Reply-To: <87imjk7inn.fsf@siart.de>
Message-ID: <202003050227.0252RQiQ012879@freefriends.org>

    lualatex-doc.doc.r30473.tar.xz (contains doc)
    lualatex-doc.r30473.tar.xz (almost empty)

    lualatex-doc-de.doc.r30474.tar.xz (contains doc)
    lualatex-doc-de.r30474.tar.xz (almost empty)

    which looks strange.

Hi Uwe - it looks strange, but isn't. lualatex-doc and lualatex-doc-de
are two normal packages. (see their entries under https://ctan.org/pkg.)
They might as well be named foo and bar, as far as the TL package system
goes.

As for why the "almost empty" foo.tar.xz exists, there has to be a place
for the package metadata, and it must always be present. The .doc. and
.src. tarballs correspond to the "docfiles" and "srcfiles", and they do
not exist if the person doing the installation chooses to omit them.
--best, karl.

From Herbert.Voss at fu-berlin.de  Thu Mar  5 09:13:56 2020
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Thu, 5 Mar 2020 09:13:56 +0100
Subject: tl2020 pretest begin
In-Reply-To: <4E8B22D4CAC441A4B1689E6338E69338@CJ3001517A>
References: <202003030209.02329DPJ025997@freefriends.org>
 <cddc5297-90f0-e271-f4c5-a97f26499c0e@fu-berlin.de>
 <20200304013701.GA247635@bulldog.preining.info>
 <4E8B22D4CAC441A4B1689E6338E69338@CJ3001517A>
Message-ID: <1d6a099e-e167-7d9c-f56f-9b1ac9c0e475@fu-berlin.de>



Am 04.03.20 um 06:37 schrieb Akira Kakuto:
> Hi,
>
>>> mtx-context???? | error, no format found with name: cont-en, aborting
>>> system???????????? | total runtime: 5.723 seconds
>>
>> Same here. Mojca?
>
> I think the current version of ConTeXt:
> mtx-context???? | current version: 2020.02.17 12:06
> is not installed yet in TeX Live.

With todays update I also get this version. However, context still dont 
work.

mtxrun --generate

creates successfully the data base and a following

context test.tex

creates _no_ format files. I have an _empty_ directory at

$TEXMFVAR/luatex-cache/context/...../formats/luahbtex

and the error

mtx-context???? | error, no format found with name: cont-en, aborting
system????????? | total runtime: 5.278 seconds



I thought that luatex should be a link to luahbtex??? But I have

lrwxr-xr-x? 1 voss? staff??????? 6 22 M?r? 2019 luacsplain -> luatex
-rwxr-xr-x? 1 voss? staff? 7511696? 2 M?r 18:23 luahbtex
-rwxr-xr-x? 1 voss? staff? 7760288? 2 M?r 18:58 luajithbtex
lrwxr-xr-x? 1 voss? staff?????? 11? 5 M?r 08:47 luajittex -> luajithbtex
lrwxr-xr-x? 1 voss? staff??????? 8? 3 M?r 00:44 lualatex -> luahbtex
lrwxr-xr-x? 1 voss? staff??????? 8 13 Nov 20:28 lualatex-dev -> luahbtex
-rwxr-xr-x? 1 voss? staff? 6578896? 2 M?r 18:23 luatex

All running on macOS.


Herbert

From news3 at nililand.de  Thu Mar  5 09:26:44 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Thu, 5 Mar 2020 09:26:44 +0100
Subject: tl2020 pretest begin
References: <202003030209.02329DPJ025997@freefriends.org>
 <x4cbptwb7hvi$.dlg@nililand.de>
 <20200303211908.GA9340@burischnitzel.preining.info>
 <1f5nbf6sa8f27.dlg@nililand.de>
 <20200304151003.GA425211@bulldog.preining.info>
 <ijeag3ig7a44$.dlg@nililand.de>
 <20200304154542.GA427237@bulldog.preining.info>
 <20200305005325.GD430093@bulldog.preining.info>
Message-ID: <1ln82fauxgbvd.dlg@nililand.de>

Am Thu, 5 Mar 2020 09:53:25 +0900 schrieb Norbert Preining:


> I fixed it now, 

Worked fine. After 
  tlmgr update --self 
and
  tlmgr --repository http://www.preining.info/tlgpg install tlgpg
I have now gpg and tlmgr reports the "verified" status. 

Thanks.


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From kakuto at w32tex.org  Thu Mar  5 09:43:21 2020
From: kakuto at w32tex.org (Akira Kakuto)
Date: Thu, 5 Mar 2020 17:43:21 +0900
Subject: tl2020 pretest begin
In-Reply-To: <1d6a099e-e167-7d9c-f56f-9b1ac9c0e475@fu-berlin.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <cddc5297-90f0-e271-f4c5-a97f26499c0e@fu-berlin.de>
 <20200304013701.GA247635@bulldog.preining.info>
 <4E8B22D4CAC441A4B1689E6338E69338@CJ3001517A>
 <1d6a099e-e167-7d9c-f56f-9b1ac9c0e475@fu-berlin.de>
Message-ID: <3B569FB0777443FABB51CD542F69F13B@CJ3001517A>

> mtxrun --generate
>
> creates successfully the data base and a following
>
> context test.tex
>
> creates _no_ format files. I have an _empty_ directory at
>
> $TEXMFVAR/luatex-cache/context/...../formats/luahbtex

Strange. For context, this should be
$TEXMFVAR/luatex-cache/context/...../formats/luatex

The engine for context mkiv is luatex. It is not luahbtex.

> I thought that luatex should be a link to luahbtex??? But I have

No. luatex is an independent binary and should not be linked
to luahbtex.  The engine of context mkiv is luatex.

> lrwxr-xr-x  1 voss  staff        6 22 Mar  2019 luacsplain -> luatex
> -rwxr-xr-x  1 voss  staff  7511696  2 Mar 18:23 luahbtex
> -rwxr-xr-x  1 voss  staff  7760288  2 Mar 18:58 luajithbtex
> lrwxr-xr-x  1 voss  staff       11  5 Mar 08:47 luajittex -> luajithbtex

I think this is not correct. luajittex is an independent binary and
should not be linked to luajithbtex.

> lrwxr-xr-x  1 voss  staff        8  3 Mar 00:44 lualatex -> luahbtex
> lrwxr-xr-x  1 voss  staff        8 13 Nov 20:28 lualatex-dev -> luahbtex
> -rwxr-xr-x  1 voss  staff  6578896  2 Mar 18:23 luatex

Thanks,
Akira


From kakuto at w32tex.org  Thu Mar  5 10:04:51 2020
From: kakuto at w32tex.org (Akira Kakuto)
Date: Thu, 5 Mar 2020 18:04:51 +0900
Subject: tl2020 pretest begin
In-Reply-To: <3B569FB0777443FABB51CD542F69F13B@CJ3001517A>
References: <202003030209.02329DPJ025997@freefriends.org>
 <cddc5297-90f0-e271-f4c5-a97f26499c0e@fu-berlin.de>
 <20200304013701.GA247635@bulldog.preining.info>
 <4E8B22D4CAC441A4B1689E6338E69338@CJ3001517A>
 <1d6a099e-e167-7d9c-f56f-9b1ac9c0e475@fu-berlin.de>
 <3B569FB0777443FABB51CD542F69F13B@CJ3001517A>
Message-ID: <AB8C3311EE1F4D37A76254B71E5C7824@CJ3001517A>

Dear Herbert,

> Strange. For context, this should be
> $TEXMFVAR/luatex-cache/context/...../formats/luatex
>
> The engine for context mkiv is luatex. It is not luahbtex.

Please try:

mtxrun --generate
mtxrun --script base --ini --compile --verbose cont-en

Thanks,
Akira


From preining at logic.at  Thu Mar  5 10:31:00 2020
From: preining at logic.at (Norbert Preining)
Date: Thu, 5 Mar 2020 18:31:00 +0900
Subject: tl2020 pretest begin
In-Reply-To: <1ln82fauxgbvd.dlg@nililand.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <x4cbptwb7hvi$.dlg@nililand.de>
 <20200303211908.GA9340@burischnitzel.preining.info>
 <1f5nbf6sa8f27.dlg@nililand.de>
 <20200304151003.GA425211@bulldog.preining.info>
 <ijeag3ig7a44$.dlg@nililand.de>
 <20200304154542.GA427237@bulldog.preining.info>
 <20200305005325.GD430093@bulldog.preining.info>
 <1ln82fauxgbvd.dlg@nililand.de>
Message-ID: <20200305093100.GA80906@burischnitzel.preining.info>

Hi Ulrike,

> Worked fine. After 

Thanks for confirmation!

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From Herbert.Voss at fu-berlin.de  Thu Mar  5 10:31:30 2020
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Thu, 5 Mar 2020 10:31:30 +0100
Subject: tl2020 pretest begin
In-Reply-To: <AB8C3311EE1F4D37A76254B71E5C7824@CJ3001517A>
References: <202003030209.02329DPJ025997@freefriends.org>
 <cddc5297-90f0-e271-f4c5-a97f26499c0e@fu-berlin.de>
 <20200304013701.GA247635@bulldog.preining.info>
 <4E8B22D4CAC441A4B1689E6338E69338@CJ3001517A>
 <1d6a099e-e167-7d9c-f56f-9b1ac9c0e475@fu-berlin.de>
 <3B569FB0777443FABB51CD542F69F13B@CJ3001517A>
 <AB8C3311EE1F4D37A76254B71E5C7824@CJ3001517A>
Message-ID: <eaacf6ee-17ab-64cf-404a-472557dcdf98@fu-berlin.de>



Am 05.03.20 um 10:04 schrieb Akira Kakuto:
> Dear Herbert,
>
>> Strange. For context, this should be
>> $TEXMFVAR/luatex-cache/context/...../formats/luatex
>>
>> The engine for context mkiv is luatex. It is not luahbtex.
>
> Please try:
>
> mtxrun --generate
> mtxrun --script base --ini --compile --verbose cont-en

thanks Akira, but it also doesn't create format files.
However, I'll install a completely new pretest because I modified
too many config files in the meantime ...

And then I'll try again.

Herbert

From siepo at bitmuis.nl  Thu Mar  5 10:32:39 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Thu, 5 Mar 2020 10:32:39 +0100
Subject: tl2020 pretest begin
In-Reply-To: <36c5604beff3b9b791ab57db778bae22@posteo.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <c405ff2b45ac599c730202523cefcb09@posteo.de>
 <fb4e4a99f522c6a744967e6e2cc15835@posteo.de>
 <c21ced804dcd7a14a013ed225819875b@posteo.de>
 <bfdda7ceb75b5648476bb568e992a38c@posteo.de>
 <36c5604beff3b9b791ab57db778bae22@posteo.de>
Message-ID: <20200305093239.GA1314@bitmuis.nl>

On Wed, Mar 04, 2020 at 09:06:59AM +0100, khzimmer at posteo.de wrote:
> Hi again,
> 
> PROBLEM FOUND :)
> 
> Hi again, found the error:
> 
> If we have our user profiles mapped onto a server, then installation fails.
> If the profiles are local, all is fine.
> 
> Usually people would have C:\Users\user-name\
> but
> we have mapped that, so the path is  \\server-name\profile$\user-name\
> 
> I tested like this:
> 
> install-tl-20200303\tlpkg\tlperl\bin>perl.exe -e "if (! -d 'C:/') { print
> 'nicht gefunden' } else { print 'gefunden' }"
> gefunden
> 
> install-tl-20200303\tlpkg\tlperl\bin>perl.exe -e "if (! -d
> '//our-server-name/') { print 'nicht gefunden' } else { print 'gefunden' }"
> nicht gefunden

This is as it should be: '//server/share' is at the highest level in
the file system, i.e. //server is not part of the file system.

-- 
Siep Kroonenberg

From usenet at siart.de  Thu Mar  5 10:45:49 2020
From: usenet at siart.de (Uwe Siart)
Date: Thu, 05 Mar 2020 10:45:49 +0100
Subject: tl2020 pretest begin
References: <87imjk7inn.fsf@siart.de>
 <202003050227.0252RQiQ012879@freefriends.org>
Message-ID: <87o8tbkucy.fsf@siart.de>

Hi Karl,

Karl Berry <karl at freefriends.org> writes:

> Hi Uwe - it looks strange, but isn't. [...]

Thanks for explanation.

-- 
Uwe


From h.y.acetaminophen at gmail.com  Thu Mar  5 13:08:50 2020
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Thu, 5 Mar 2020 21:08:50 +0900
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAJCZBmQWgT6srJmcVZuVPuK9j2Q5CiXX52gPD8aZPRUGvZfQ_g@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
 <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>
 <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>
 <CAOyMh2pa2fQeTLT_nQqf-+sdBjFO2c1hbuRnmFioRbrCdE4_QQ@mail.gmail.com>
 <CAJCZBmQWgT6srJmcVZuVPuK9j2Q5CiXX52gPD8aZPRUGvZfQ_g@mail.gmail.com>
Message-ID: <CAJCZBmTU5Vz66-AmAbGKFC1rP=_Bo+HqV_JoS-TzHJXMXR1Gog@mail.gmail.com>

Hi Shunsaku - may I commit adding "0 Tr" after any occurrence
of fake-bold, as shown in my patch sent on 2020-02-29 ?

Here are my thoughts:

* If I understand your comments below correctly,
  the fake-bold feature is no longer important.

SH> The fake-bold feature was added about 15-years back when there is
SH> virtually no (freely) available Japanese font with multiple weight.
SH> I don't know if there still is any need for this nowadays.

* When your statement below is taken into account, the commit
  on 2019-06-30 (enclosing every occurence of BT..ET with q..Q)
  has much more influence on the internal behavior.
  (This is why I reverted the change in r53973.)

SH> Whenever internal behavior of dvipdfmx is changed
SH> the reslts can be quite different.

* On the other hand, I'd like to avoid unwanted fake-bold.
  To achieve this, it is enough to add "0 Tr" only after fake-bold
  ends, and is considered the smallest change needed to the
  internal behavior.

I think we need to warn everyone not to use fake-bold toghther
with the text clipping, but that would be safe enough as it makes
no difference between TeX Live 2019 and TeX Live 2020.


Hironobu

From Herbert.Voss at fu-berlin.de  Thu Mar  5 13:13:28 2020
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Thu, 5 Mar 2020 13:13:28 +0100
Subject: tl2020 pretest begin
In-Reply-To: <AB8C3311EE1F4D37A76254B71E5C7824@CJ3001517A>
References: <202003030209.02329DPJ025997@freefriends.org>
 <cddc5297-90f0-e271-f4c5-a97f26499c0e@fu-berlin.de>
 <20200304013701.GA247635@bulldog.preining.info>
 <4E8B22D4CAC441A4B1689E6338E69338@CJ3001517A>
 <1d6a099e-e167-7d9c-f56f-9b1ac9c0e475@fu-berlin.de>
 <3B569FB0777443FABB51CD542F69F13B@CJ3001517A>
 <AB8C3311EE1F4D37A76254B71E5C7824@CJ3001517A>
Message-ID: <604083ac-4a42-5a5f-afcf-3f6e0f910c13@fu-berlin.de>



Am 05.03.20 um 10:04 schrieb Akira Kakuto:
>
>> Strange. For context, this should be
>> $TEXMFVAR/luatex-cache/context/...../formats/luatex
>>
>> The engine for context mkiv is luatex. It is not luahbtex.
>
> Please try:
>
I did a complete new pretest install:
> mtxrun --generate

no problem

> mtxrun --script base --ini --compile --verbose cont-en

bash-5.0$ mtxrun --script base --ini --compile --verbose cont-en
resolvers?????? | resolving | using given filetype 'tex'
resolvers?????? | methods | resolving, method 'concatinators', how 
'tag', tag 'file'
resolvers?????? | resolving | remembering file 'cont-en.mkiv' using hash 
'tex::cont-en.mkiv'
resolvers?????? | formats | using tex source file 
'/Volumes/SSD300/usr/local/texlive/texmf-dist/tex/context/base/mkiv/cont-en.mkiv'
resolvers?????? | resolving | forcing filetype 'tex'
resolvers?????? | methods | resolving, method 'concatinators', how 
'tag', tag 'file'
resolvers?????? | resolving | remembering file 'context.lus' using hash 
'lus::context.lus'
resolvers?????? | formats | using specification file 
'/Volumes/SSD300/usr/local/texlive/texmf-dist/tex/context/base/mkiv/context.lus'
resolvers?????? | formats | using tex source path 
'/Volumes/SSD300/usr/local/texlive/texmf-dist/tex/context/base/mkiv'
resolvers?????? | formats | changing to format path 
'/Volumes/SSD300/usr/local/texlive/texmf-var/luatex-cache/context/a86c089b384a3076dc514ba966a1fac9/formats/luahbtex'
resolvers?????? | formats | the format %a cannot be generated, no runner 
available for engine %a

it _always_ creates the path .../formats/luahbtex
and not luatex.

Herbert


From P.Taylor at Rhul.Ac.Uk  Thu Mar  5 13:25:45 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Thu, 5 Mar 2020 12:25:45 +0000
Subject: [EXT] Re: xdvipdfmx-20200116 : additional q/Q bracket around
 BT...ET
In-Reply-To: <CAJCZBmTU5Vz66-AmAbGKFC1rP=_Bo+HqV_JoS-TzHJXMXR1Gog@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
 <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>
 <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>
 <CAOyMh2pa2fQeTLT_nQqf-+sdBjFO2c1hbuRnmFioRbrCdE4_QQ@mail.gmail.com>
 <CAJCZBmQWgT6srJmcVZuVPuK9j2Q5CiXX52gPD8aZPRUGvZfQ_g@mail.gmail.com>
 <CAJCZBmTU5Vz66-AmAbGKFC1rP=_Bo+HqV_JoS-TzHJXMXR1Gog@mail.gmail.com>
Message-ID: <e9a17892-bc5f-5c2d-80c4-a9763943d82d@Rhul.Ac.Uk>

A comment from a user :

> * If I understand your comments below correctly,
>    the fake-bold feature is no longer important.

I rely on fake-bold, as not all fonts include a bold variant.? In 
Photoshop I can add a stroke to simulate bold weight, but in XeTeX I 
need to rely on "embolden=<real>".

> I think we need to warn everyone not to use fake-bold toghther
> with the text clipping, but that would be safe enough as it makes
> no difference between TeX Live 2019 and TeX Live 2020.

To the best of my knowledge I have never had occasion to use text 
clipping with XeTeX, but this does not mean that I might not want to use 
it in the future.? If I can use only one of faux-bold and text clipping 
at a time, that is probably sufficient.

Philip Taylor

From michael.osipov at siemens.com  Thu Mar  5 10:08:19 2020
From: michael.osipov at siemens.com (Osipov, Michael)
Date: Thu, 5 Mar 2020 10:08:19 +0100
Subject: False information in https://www.texlive.info/tlpretest/README
Message-ID: <966c62c8-5959-8f57-8303-18f278296a48@siemens.com>

Folks,

please update that README. It still refers to: "TeX Live 2019 - pretest 
repository"

Michael

From shunsaku.hirata74 at gmail.com  Thu Mar  5 21:16:30 2020
From: shunsaku.hirata74 at gmail.com (Shunsaku Hirata)
Date: Fri, 6 Mar 2020 05:16:30 +0900
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAJCZBmTU5Vz66-AmAbGKFC1rP=_Bo+HqV_JoS-TzHJXMXR1Gog@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
 <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>
 <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>
 <CAOyMh2pa2fQeTLT_nQqf-+sdBjFO2c1hbuRnmFioRbrCdE4_QQ@mail.gmail.com>
 <CAJCZBmQWgT6srJmcVZuVPuK9j2Q5CiXX52gPD8aZPRUGvZfQ_g@mail.gmail.com>
 <CAJCZBmTU5Vz66-AmAbGKFC1rP=_Bo+HqV_JoS-TzHJXMXR1Gog@mail.gmail.com>
Message-ID: <CAOyMh2r=JwVZXBoiBBMiJ2xZFNfc9JP3-Qq65wM-mux6WWSzbw@mail.gmail.com>

Hi,

2020?3?5?(?) 21:09 Hironobu Yamashita <h.y.acetaminophen at gmail.com>:

> * When your statement below is taken into account, the commit
>   on 2019-06-30 (enclosing every occurence of BT..ET with q..Q)
>   has much more influence on the internal behavior.
>   (This is why I reverted the change in r53973.)
>
> SH> Whenever internal behavior of dvipdfmx is changed
> SH> the reslts can be quite different.

What I meant here was that the fundamental problem is the results of
pdf:code depends on the internal behavior and requires presumption
on it to always work as intented. It is not the matter of which internal
behavior is suited for some typical situations.

> * On the other hand, I'd like to avoid unwanted fake-bold.
>   To achieve this, it is enough to add "0 Tr" only after fake-bold
>   ends, and is considered the smallest change needed to the
>   internal behavior.

You can't know what text rendering mode was before. Forcing it to "0"
is not a proper solution at all. From this perspective I had decided to
enclose text block with the q-Q bracket. (plus isolating the effects of
graphics state changes done there by adding the q-Q bracket is more
safer operation)


Anyway you have already reverted my change thus I guess you are
going to commit your change.


Thanks,
Shunsaku Hirata


From karl at freefriends.org  Thu Mar  5 22:57:21 2020
From: karl at freefriends.org (Karl Berry)
Date: Thu, 5 Mar 2020 14:57:21 -0700
Subject: False information in https://www.texlive.info/tlpretest/README
In-Reply-To: <966c62c8-5959-8f57-8303-18f278296a48@siemens.com>
Message-ID: <202003052157.025LvLoA031853@freefriends.org>

    please update that README. It still refers to: "TeX Live 2019 - pretest 
    repository"

Updated, thanks. -k

From kakuto at w32tex.org  Fri Mar  6 00:22:38 2020
From: kakuto at w32tex.org (Akira Kakuto)
Date: Fri, 6 Mar 2020 08:22:38 +0900
Subject: tl2020 pretest begin
In-Reply-To: <604083ac-4a42-5a5f-afcf-3f6e0f910c13@fu-berlin.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <cddc5297-90f0-e271-f4c5-a97f26499c0e@fu-berlin.de>
 <20200304013701.GA247635@bulldog.preining.info>
 <4E8B22D4CAC441A4B1689E6338E69338@CJ3001517A>
 <1d6a099e-e167-7d9c-f56f-9b1ac9c0e475@fu-berlin.de>
 <3B569FB0777443FABB51CD542F69F13B@CJ3001517A>
 <AB8C3311EE1F4D37A76254B71E5C7824@CJ3001517A>
 <604083ac-4a42-5a5f-afcf-3f6e0f910c13@fu-berlin.de>
Message-ID: <D0AEE549704A4A218A29280B23BB2B9A@CJ3001517A>

Dear Herbert,

> it _always_ creates the path .../formats/luahbtex
> and not luatex.

I can't understand your case.
Please retry by removing all caches.
Mojca or other ConTeXt experts will help you.

I think the name of the directory is determined from
currently running engine name.
I can't find a string 'luahbtex' in
$TEXMFDIST/scripts/context/stubs/unix and in
$TEXMFDIST/scripts/context/lua.

> resolvers       | formats | the format %a cannot be generated, no runner available for engine %a

Strange message: format name and engine name are unknown
in that stage!

I attach mkfmt.log.gz created by
mtxrun --script base --ini --compile --verbose cont-en >mkfmt.log
on Windows.

Thanks,
Akira
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mkfmt.log.gz
Type: application/x-gzip
Size: 13029 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200306/adfe69dd/attachment-0001.bin>

From karl at freefriends.org  Fri Mar  6 00:43:52 2020
From: karl at freefriends.org (Karl Berry)
Date: Thu, 5 Mar 2020 16:43:52 -0700
Subject: tl2020 pretest begin
In-Reply-To: <AB8C3311EE1F4D37A76254B71E5C7824@CJ3001517A>
Message-ID: <202003052343.025Nhqt6007861@freefriends.org>

    mtxrun --generate
    mtxrun --script base --ini --compile --verbose cont-en

If mtxrun --generate followed by fmtutil[-sys] is no longer sufficient,
we need to change tlmgr and install-tl. The above command seems awfully
fragile. Mojca? --thanks, karl.


From karl at freefriends.org  Fri Mar  6 00:43:53 2020
From: karl at freefriends.org (Karl Berry)
Date: Thu, 5 Mar 2020 16:43:53 -0700
Subject: tl2020 pretest begin
In-Reply-To: <3B569FB0777443FABB51CD542F69F13B@CJ3001517A>
Message-ID: <202003052343.025NhrTC007870@freefriends.org>

    > lrwxr-xr-x  1 voss  staff       11  5 Mar 08:47 luajittex -> luajithbtex

    I think this is not correct. luajittex is an independent binary and
    should not be linked to luajithbtex.

Right, luajittex and luajithbtex are two different binaries (and both
have associated plain .fmts).

In all my various installations, and the result of make install, this is
the case. Herbert, sorry, I cannot guess how you ended up with that
symlink.

As for the ConTeXt format, all I can say is that fmtutil.cnf contains
only the two cont-en lines it always has, building cont-en with pdftex
and xetex:
cont-en pdftex cont-usr.tex -8bit *cont-en.mkii
cont-en xetex cont-usr.tex -8bit *cont-en.mkii

These are the only ones that fmtutil will try to build. AFAIK, ConTeXt
MkIV and any other variants are handled within ConTeXt, by mechanisms I
have no knowledge of. Awaiting Mojca's instructions ... -k

From h.y.acetaminophen at gmail.com  Fri Mar  6 04:50:35 2020
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Fri, 6 Mar 2020 12:50:35 +0900
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAOyMh2r=JwVZXBoiBBMiJ2xZFNfc9JP3-Qq65wM-mux6WWSzbw@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
 <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>
 <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>
 <CAOyMh2pa2fQeTLT_nQqf-+sdBjFO2c1hbuRnmFioRbrCdE4_QQ@mail.gmail.com>
 <CAJCZBmQWgT6srJmcVZuVPuK9j2Q5CiXX52gPD8aZPRUGvZfQ_g@mail.gmail.com>
 <CAJCZBmTU5Vz66-AmAbGKFC1rP=_Bo+HqV_JoS-TzHJXMXR1Gog@mail.gmail.com>
 <CAOyMh2r=JwVZXBoiBBMiJ2xZFNfc9JP3-Qq65wM-mux6WWSzbw@mail.gmail.com>
Message-ID: <CAJCZBmSb+Kwo7KGCfUc30Y0b9o4vFZNutV7E8heWmpk13sjAqw@mail.gmail.com>

Hi Shunsaku,

> > SH> Whenever internal behavior of dvipdfmx is changed
> > SH> the reslts can be quite different.
>
> What I meant here was that the fundamental problem is the results of
> pdf:code depends on the internal behavior and requires presumption
> on it to always work as intented. It is not the matter of which internal
> behavior is suited for some typical situations.

I see.

> > * On the other hand, I'd like to avoid unwanted fake-bold.
> >   To achieve this, it is enough to add "0 Tr" only after fake-bold
> >   ends, and is considered the smallest change needed to the
> >   internal behavior.
>
> You can't know what text rendering mode was before. Forcing it to "0"
> is not a proper solution at all. From this perspective I had decided to
> enclose text block with the q-Q bracket. (plus isolating the effects of
> graphics state changes done there by adding the q-Q bracket is more
> safer operation)
>
>
> Anyway you have already reverted my change thus I guess you are
> going to commit your change.

Not really; the reason why I reverted your change on 2019-06-30 is
that adding q-Q bracket would break many existing TeX files in which
\special commands had been carefully constructed to work fine with
TL2019 xdvipdfmx.  I just didn't like such a change in xdvipdfmx
between TL2019 and TL2020.

Therefore, I don't want to re-commit your previous change of adding
q-Q bracket.  On the other hand, I'd like to follow your decision
on whether you accept my "0 Tr" patch or not.


Hironobu

From bd at bdtechconcepts.com  Fri Mar  6 05:52:25 2020
From: bd at bdtechconcepts.com (Brian Dunn)
Date: Thu, 5 Mar 2020 22:52:25 -0600
Subject: TL2020 pretest =?UTF-8?B?4oCU?= Packages not present
Message-ID: <20200305225225.12d6304e@mach1>


tlmgr: package repository ftp://ftp.math.utah.edu/pub/tlpretest (verified)

Per tlmgr, the following packages give: "tlmgr install: package xyz not
present in repository.":

bezos ifetex array bigdelim fontenc graphicx ifpdf inputenc lmodern
longtable newtxmath splitidx textcomp titleps titletoc xparse 2in1 a4
afterpage alltt amsthm ar calc expl3 multicol verbatim xparse array authblk
backref balance bigdelim bigstrut bounddvi bsheaders manyfoot perpage CJK
CJKutf8 chapterbib chngpage color cuted dblfnote dcolumn enumerate epsfig
epstopdf-base everyshi extramarks figcaps flafter floatpag fltrace flushend
fnlineno fnpos fontenc footnote ftnright fullpage gmeometric graphicx
hypbmsec hypcap hypdestopt layout letterspace lips lltjext longtable lscape
ltcaption ltxgrid ltxtable makeidx manyfoot nccfoots tabularx graphicx
marginal memhfixc midfloat mtcoff multicol multimedia multitoc nameref
nccfancyhdr nicefrac pagegrid pagesel pdfcrypt pdfrender perpage pfnote
pifont plarydshln plext plextarydshln plextcolortbl prelim2e graphicx
makeidx pxatbegshi pxeveryshi pxftnright resizegather rotating scalefnt
scrextend scrhack scrlayer scrlayer-notecolumn scrlayer-scrpage scrpage2
array showidx showkeys splitidx srctex stabular stfloats subcaption syntonly
tabularx tascmac textarea textcomp theorem tikz titleps titletoc tocbasic
tocenter tocstyle topcapt trimclip typearea upref tabularx vowel watermark
xetexko-vertical xfrac xr xr-hyper xy

There may be others, as well.


Brian

-- 
Brian Dunn
BD Tech Concepts LLC
http://www.BDTechConcepts.com

From michael.osipov at siemens.com  Fri Mar  6 09:04:29 2020
From: michael.osipov at siemens.com (Osipov, Michael)
Date: Fri, 6 Mar 2020 09:04:29 +0100
Subject: [TL 2020] Date resolution in XeLaTeX
Message-ID: <b0ae955e-9fba-7d13-b3b8-63f96e711ce0@siemens.com>

Folks,

while this might sound like a stupid question: Is there any reason why 
xelatex in TL 2020 still does not support seconds and timezone offset?
Checked with hyperxmp on the xmp:*Date fields.

Regards,

Michael

From news3 at nililand.de  Fri Mar  6 10:10:06 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 6 Mar 2020 10:10:06 +0100
Subject: TL2020 pretest =?UTF-8?B?4oCU?= Packages not present
References: <20200305225225.12d6304e@mach1>
Message-ID: <lyitbzsl481r.dlg@nililand.de>

Am Thu, 5 Mar 2020 22:52:25 -0600 schrieb Brian Dunn:

> tlmgr: package repository ftp://ftp.math.utah.edu/pub/tlpretest (verified)
> 
> Per tlmgr, the following packages give: "tlmgr install: package xyz not
> present in repository.":

? What are you expecting to get here? These are all styles which are
in other packages. E.g. ifpdf is in iftex, inputenc in latex,
typearea in komascript. etc. 



-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From mojca.miklavec.lists at gmail.com  Fri Mar  6 10:59:17 2020
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 6 Mar 2020 10:59:17 +0100
Subject: tl2020 pretest begin
In-Reply-To: <202003052343.025Nhqt6007861@freefriends.org>
References: <AB8C3311EE1F4D37A76254B71E5C7824@CJ3001517A>
 <202003052343.025Nhqt6007861@freefriends.org>
Message-ID: <CALBOmsbcHm+o9hHA=1bP6JqFd7is8KG_d03iX53+gZ=nPFhxfQ@mail.gmail.com>

Dear Karl,

On Fri, 6 Mar 2020 at 00:45, Karl Berry wrote:
>
>     mtxrun --generate
>     mtxrun --script base --ini --compile --verbose cont-en

Why do we need the second command / where does it come from? Isn't the
first one fully sufficient?

In any case please fix these symlinks
    texlua -> luahbtex
    texluac -> luahbtex
to point back to luatex as the existing symlinks break context, to start with.

If nothing else the context scheme is now completely defunct because
luahbtex doesn't get installed, thus texlua symlink is invalid and the
whole context infrastructure (all commands which depend on texlua) are
broken as a consequence.

Mojca

From mojca.miklavec.lists at gmail.com  Fri Mar  6 11:11:34 2020
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 6 Mar 2020 11:11:34 +0100
Subject: tl2020 pretest begin
In-Reply-To: <1d6a099e-e167-7d9c-f56f-9b1ac9c0e475@fu-berlin.de>
References: <202003030209.02329DPJ025997@freefriends.org>
 <cddc5297-90f0-e271-f4c5-a97f26499c0e@fu-berlin.de>
 <20200304013701.GA247635@bulldog.preining.info>
 <4E8B22D4CAC441A4B1689E6338E69338@CJ3001517A>
 <1d6a099e-e167-7d9c-f56f-9b1ac9c0e475@fu-berlin.de>
Message-ID: <CALBOmsaiSh+Umwea2LRpCxh0MGnXM6n1EqGoGKG6M=zWUxUyRQ@mail.gmail.com>

On Thu, 5 Mar 2020 at 09:14, Herbert Voss wrote:
>
> I thought that luatex should be a link to luahbtex???

Not really; lualatex may be a symlink to luahbtex, but luatex should
ideally be left as it is.

Mojca

From Herbert.Voss at fu-berlin.de  Fri Mar  6 11:13:59 2020
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Fri, 6 Mar 2020 11:13:59 +0100
Subject: tl2020 pretest begin
In-Reply-To: <CALBOmsbcHm+o9hHA=1bP6JqFd7is8KG_d03iX53+gZ=nPFhxfQ@mail.gmail.com>
References: <AB8C3311EE1F4D37A76254B71E5C7824@CJ3001517A>
 <202003052343.025Nhqt6007861@freefriends.org>
 <CALBOmsbcHm+o9hHA=1bP6JqFd7is8KG_d03iX53+gZ=nPFhxfQ@mail.gmail.com>
Message-ID: <994b7420-bc89-1857-69a1-b8f0c25847f1@fu-berlin.de>



Am 06.03.20 um 10:59 schrieb Mojca Miklavec:
> On Fri, 6 Mar 2020 at 00:45, Karl Berry wrote:
>>      mtxrun --generate
>>      mtxrun --script base --ini --compile --verbose cont-en
> Why do we need the second command / where does it come from? Isn't the
> first one fully sufficient?

It was only an idea by Akira to solve my problem that _no_ format file 
was created.

> In any case please fix these symlinks
>      texlua -> luahbtex
>      texluac -> luahbtex
> to point back to luatex as the existing symlinks break context, to start with.

that solves the problem. Now

mtxrun --generate
context --make

creates the format files under ..../luatex/? and context works.

Herbert



> If nothing else the context scheme is now completely defunct because
> luahbtex doesn't get installed, thus texlua symlink is invalid and the
> whole context infrastructure (all commands which depend on texlua) are
> broken as a consequence.
>
> Mojca


From jfbu at free.fr  Fri Mar  6 16:24:49 2020
From: jfbu at free.fr (jfbu)
Date: Fri, 6 Mar 2020 16:24:49 +0100
Subject: (darwin-legacy pretest) about 5% slow-down of \edef in etex
Message-ID: <F0F8A9AE-ED70-40D9-A9DD-67F753934973@free.fr>

Hi,

Doing 10,000,000 times \edef\z{666} takes about 5% more time
with the darwin-legacy pretest compared to TeXLive 2019
if done with etex, but no noticeable difference with tex.

more precisely on a 2.8Ghz intel core i7 Mac under mac os x 10.9.5

circa 1.5s with tex both for TeXLive 2019 and 2020

circa 1.6s (a bit more) with etex + 2019
circa 1.7s (a bit less) with etex + 2020

(there is some of this which is taken up from launching the binary itself,
as one can see by doubling the number of \edef, which is more like 3.25s
versus 3.08s but it gives idea)

Any idea?

Best,

Jean-Fran?ois

\def\A{\B\B\B\B\B\B\B\B\B\B}% 10
\def\B{\C\C\C\C\C\C\C\C\C\C}% 100
\def\C{\noexpand\A\noexpand\A\noexpand\A\noexpand\A
      \noexpand\A\noexpand\A\noexpand\A\noexpand\A
      \noexpand\A\noexpand\A}% 1000
\edef\D{\A}% 1000
\edef\E{\D}% 1000000

\def\A{\edef\z{666}}

\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\E\message{.}
\bye



From jfbu at free.fr  Fri Mar  6 17:37:36 2020
From: jfbu at free.fr (jfbu)
Date: Fri, 6 Mar 2020 17:37:36 +0100
Subject: (darwin-legacy pretest) about 5% slow-down of \edef in etex
In-Reply-To: <F0F8A9AE-ED70-40D9-A9DD-67F753934973@free.fr>
References: <F0F8A9AE-ED70-40D9-A9DD-67F753934973@free.fr>
Message-ID: <FD9D12FF-BE4B-4A7E-9491-1B75ABF5A8D6@free.fr>


Le 6 mars 2020 ? 16:24, jfbu <jfbu at free.fr> a ?crit :

> Hi,
> 
> Doing 10,000,000 times \edef\z{666} takes about 5% more time
> with the darwin-legacy pretest compared to TeXLive 2019
> if done with etex, but no noticeable difference with tex.
> 

With more tokens 

\edef\z{666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666}

in place of \edef\z{666}

the effect is more pronounced: 10% or more

etex from TL 2019: 17.5s

etex from pretest : 19.5s


for 2.8GHz CPU

Please CC if replying.

From kakuto at w32tex.org  Fri Mar  6 22:08:11 2020
From: kakuto at w32tex.org (Akira Kakuto)
Date: Sat, 7 Mar 2020 06:08:11 +0900
Subject: tl2020 pretest begin
In-Reply-To: <CALBOmsbcHm+o9hHA=1bP6JqFd7is8KG_d03iX53+gZ=nPFhxfQ@mail.gmail.com>
References: <AB8C3311EE1F4D37A76254B71E5C7824@CJ3001517A>
 <202003052343.025Nhqt6007861@freefriends.org>
 <CALBOmsbcHm+o9hHA=1bP6JqFd7is8KG_d03iX53+gZ=nPFhxfQ@mail.gmail.com>
Message-ID: <45117775052D4034A821723322679899@CJ3001517A>

Hi Karl,

> In any case please fix these symlinks
>    texlua -> luahbtex
>    texluac -> luahbtex
> to point back to luatex as the existing symlinks break context,
> to start with.

I now find that

texlua -> luahbtex
texluac -> luahbtex
texluajit -> luajithbtex
texluajitc -> luajithbtex
probably in all platforms other than Windows.

The above should be
texlua -> luatex
texluac -> luatex
texluajit -> luajittex
texluajitc -> luajittex

Thanks,
Akira


From karl at freefriends.org  Fri Mar  6 22:49:39 2020
From: karl at freefriends.org (Karl Berry)
Date: Fri, 6 Mar 2020 14:49:39 -0700
Subject: tl2020 pretest begin
In-Reply-To: <45117775052D4034A821723322679899@CJ3001517A>
Message-ID: <202003062149.026LndLX000847@freefriends.org>

    The above should be
    texlua -> luatex
    texluac -> luatex
    texluajit -> luajittex
    texluajitc -> luajittex

Indeed. Repointed. Fixed luatex.am in source not to overwrite the link
targets with the hb binaries. --thanks, karl.

From h_kitagawa2001 at yahoo.co.jp  Fri Mar  6 23:28:01 2020
From: h_kitagawa2001 at yahoo.co.jp (Hironori KITAGAWA)
Date: Sat, 7 Mar 2020 07:28:01 +0900
Subject: (darwin-legacy pretest) about 5% slow-down of \edef in etex
In-Reply-To: <FD9D12FF-BE4B-4A7E-9491-1B75ABF5A8D6@free.fr>
References: <F0F8A9AE-ED70-40D9-A9DD-67F753934973@free.fr>
 <FD9D12FF-BE4B-4A7E-9491-1B75ABF5A8D6@free.fr>
Message-ID: <20200307072801.c71d99b29503fdb579eeadc3@yahoo.co.jp>

Hello, 

> > Doing 10,000,000 times \edef\z{666} takes about 5% more time
> > with the darwin-legacy pretest compared to TeXLive 2019
> > if done with etex, but no noticeable difference with tex.
> circa 1.6s (a bit more) with etex + 2019
> circa 1.7s (a bit less) with etex + 2020

The etex format runs on the pdftex engine, and
pdftex (and also [e][u]ptex) of TeX Live 2020 compress formats by zlib.
% This feature is requested by me, because preloading expl3
% (since LaTeX 2020-02-02) increases filesize of format files.

$ ls -lh /opt/texlive/20{19,20}/texmf-var/web2c/pdftex/{e,pdfla}tex.fmt
-rw-r--r-- 1 root root 3.8M Feb  9 16:06 /opt/texlive/2019/texmf-var/web2c/pdftex/etex.fmt
-rw-r--r-- 1 root root 7.9M Feb 29 19:05 /opt/texlive/2019/texmf-var/web2c/pdftex/pdflatex.fmt
-rw-r--r-- 1 root root 1.4M Mar  6 17:20 /opt/texlive/2020/texmf-var/web2c/pdftex/etex.fmt
-rw-r--r-- 1 root root 2.3M Mar  6 17:19 /opt/texlive/2020/texmf-var/web2c/pdftex/pdflatex.fmt
$ ls -lh /opt/texlive/20{19,20}/texmf-var/web2c/eptex/platex.fmt
-rw-r--r-- 1 root root  11M Mar  1 20:56 /opt/texlive/2019/texmf-var/web2c/eptex/platex.fmt
-rw-r--r-- 1 root root 2.3M Mar  6 17:19 /opt/texlive/2020/texmf-var/web2c/eptex/platex.fmt

Regards
Hironori KITAGAWA <h_kitagawa2001 at yahoo.co.jp>

From bill at noveltyhill.support  Sat Mar  7 00:23:28 2020
From: bill at noveltyhill.support (Bill Thomassen)
Date: Fri, 6 Mar 2020 15:23:28 -0800
Subject: TeXLive 2020 pre-test item: MalwareBytes (Windows) flags behavior of
 installation BAT file
Message-ID: <CAPVtpTCzxkyx8Uh=+-SsF_oLuHcP0Kd+BQV=MEzU2Au3BABOLQ@mail.gmail.com>

*This is a new behavior.   I have installed several versions of TeXLive on
my primary Windows laptop (running Windows 7), and this is the first time
that MalwareBytes Anti-Malware has flagged any part of the TeXLive process.*

[image: MBAM 4.1.0 reports Malware Behavior on ''install-tl.bat'' from
pre-test on 3-6-2020.png]

-- 
_______________________________
Bill Thomassen
Mobile Consulting Technologist
and Digital Literacy Coach
Novelty Hill Networks
www.NoveltyHill.Support
Email:  Bill at NoveltyHill.Support
+1-425-952-0274  voicemail/fax
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200306/f547f21e/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: MBAM 4.1.0 reports Malware Behavior on ''install-tl.bat'' from pre-test on 3-6-2020.png
Type: image/png
Size: 133493 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200306/f547f21e/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: MBAM 4.1.0 reports Malware Behavior on ''install-tl.bat'' from pre-test on 3-6-2020.png
Type: image/png
Size: 133493 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200306/f547f21e/attachment-0003.png>

From koch at math.uoregon.edu  Sat Mar  7 04:52:08 2020
From: koch at math.uoregon.edu (Richard Koch)
Date: Fri, 6 Mar 2020 19:52:08 -0800
Subject: tlpretest question for luatex experts
Message-ID: <D543A0C3-4F0E-4E41-98D9-219A56A5B408@math.uoregon.edu>

Folks,

This year the MacTeX install package will be notarized, and part of that procedure requires that all TeX binaries adopt a "hardened runtime." See "MacTeX-2019, notification, and hardened runtimes", pages 115-118, in TUGBOAT 2019,2.

Hardened runtimes prohibit operations which could lead to security attacks, like accessing location information. But "exceptions" can be requested for each such restriction. These exceptions are automatically granted without human intervention. Until this moment, we only had to request an exception for programs using X11. The exception allows programs to access third party libraries.

Today Herbert Schulz discovered that an unusual luatex program discussed on this list last year no longer works. That short program was provided with a library named foo.so; the tex source called into this library with a 

	\begin{luacode*}
	...
	\end{luacode*}

section.

It turned out that there were two problems. First we received "foo.so" via the internet, so it received a quarantine flag because it was not signed by an Apple Developer. We had to remove the flag using

	xattr -c foo.so

But that was not enough. In 2020, lualatex is a symbolic link to luahbtex, and we now have to claim two exceptions for this binary:

	com.apple.security.cs.disable-library-validation
	com.apple.security.cs.allow-dyld-environment-variables

Apple describes the first as "A Boolean value that indicates whether the app may load plug-ins or frameworks signed by other developers", and this is the exception we had to claim for applications using X11.

Apple describes the second as "A Boolean value that indicates whether the app may be impacted by dlyd environment variables, which can be used to inject code into the process."

------------

There are four lua binaries: luahbtex, luajithbtex, luatex, luajittex. 

LuaTeX experts, here are our questions:

	a) Should we claim the same exceptions for all four binaries?

	b) Are there short sample programs we can use to check that the binaries work correctly after the exceptions are applied?

Richard Koch




From bd at bdtechconcepts.com  Sat Mar  7 07:17:18 2020
From: bd at bdtechconcepts.com (Brian Dunn)
Date: Sat, 7 Mar 2020 00:17:18 -0600
Subject: tlmgr =?UTF-8?B?4oCU?= Package not present error messages
Message-ID: <20200307001718.0492e78b@mach1>


> styles which are in other packages
> E.g. ifpdf is in iftex, inputenc in latex, typearea in komascript. etc. 

My mistake, sorry.


tlmgr install graphicx gives:
	"tlmgr install: package graphicx not present in repository."
even if graphicx is already installed.

tlmgr update graphicx gives:
	"tlmgr: graphicx mentioned, but neither new nor forcibly removed"
even if graphics is not yet updated.

Since LaTeX packages are not necessarily the same as TexLive packages, but
usually are, perhaps these error messages could somehow mention that a
package may be part of another package.

>From a useability standpoint, It would be even nicer if the program could
tell you which package contains what you are looking for.  (But I realize
the TexLive group is very busy right now.)


Brian

-- 
Brian Dunn
BD Tech Concepts LLC
http://www.BDTechConcepts.com


From jfbu at free.fr  Sat Mar  7 09:06:28 2020
From: jfbu at free.fr (jfbu)
Date: Sat, 7 Mar 2020 09:06:28 +0100
Subject: (darwin-legacy pretest) about 5% slow-down of \edef in etex
In-Reply-To: <20200307072801.c71d99b29503fdb579eeadc3@yahoo.co.jp>
References: <F0F8A9AE-ED70-40D9-A9DD-67F753934973@free.fr>
 <FD9D12FF-BE4B-4A7E-9491-1B75ABF5A8D6@free.fr>
 <20200307072801.c71d99b29503fdb579eeadc3@yahoo.co.jp>
Message-ID: <807A5702-5097-408B-97E1-9367515FA23F@free.fr>

Hi

> Hello, 
> 
>>> Doing 10,000,000 times \edef\z{666} takes about 5% more time
>>> with the darwin-legacy pretest compared to TeXLive 2019
>>> if done with etex, but no noticeable difference with tex.
>> circa 1.6s (a bit more) with etex + 2019
>> circa 1.7s (a bit less) with etex + 2020
> 
> The etex format runs on the pdftex engine, and
> pdftex (and also [e][u]ptex) of TeX Live 2020 compress formats by zlib.
> % This feature is requested by me, because preloading expl3
> % (since LaTeX 2020-02-02) increases filesize of format files.

Thanks, I did not know that.

It does not look as if this affects my tests. They all seem to indicate
as by-product of timing about 0.1s of loading time whether with
the etex of TL2019 or the one of TL2020-pretest on my system.

The rest of this message consists of copied-pasted console outputs.
Sorry if a bit long but I wanted to keep lines indicated the
used binary

For example with testfile test4.tex next, I obtain rather systematically:

(Typical console output follows. These tests were executed many times
and the results vary little, those reproduced here are typical.)

## Testing \edef\foo{666666666666666666}

----
first with TL2019

$ time pdftex test4
This is pdfTeX, Version 3.14159265-2.6-1.40.20 (TeX Live 2019) (preloaded format=pdftex)
[...]
(./test4.tex
(/usr/local/texlive/2019/texmf-dist/tex/generic/xint/xintkernel.sty)
0.65047pt
 )
No pages of output.
Transcript written on test4.log.

real	0m0.764s
user	0m0.749s
sys	0m0.012s

----

then with TL2020

$ time pdftex test4
This is pdfTeX, Version 3.14159265-2.6-1.40.21 (TeX Live 2020) (preloaded format=pdftex)
[...]
(./test4.tex
(/usr/local/texlive/2020/texmf-dist/tex/generic/xint/xintkernel.sty)
0.69621pt
 )
No pages of output.
Transcript written on test4.log.

real	0m0.819s
user	0m0.804s
sys	0m0.012s

----

The bulk of the time increase (see the 0.65047pt vs 0.69621pt lines) seems
to come from expanding macros and executing \edef only. 

Here we have an effect of about 7%.

However, I have another test file which simply fills 1000 pages
with each one paragraph of 1000 ".<space>". Then, to my surprise
the TL2020 pretest pdftex binary seems systematically faster.

## Testing filling up pages with <dot><space>

----

TL2019

$ time pdftex test3
This is pdfTeX, Version 3.14159265-2.6-1.40.20 (TeX Live 2019) (preloaded format=pdftex)
[....]
[996] [997] [998] [999] [1000]
3.72269pt
 )</usr/local/texlive/2019/texmf-dist/fonts/type1/public/amsfonts/cm/cmr10.pfb>
Output written on test3.pdf (1000 pages, 314263 bytes).
Transcript written on test3.log.

real	0m3.861s
user	0m3.812s
sys	0m0.046s

Batchmode variant

$ time pdftex -interaction batchmode test3
This is pdfTeX, Version 3.14159265-2.6-1.40.20 (TeX Live 2019) (preloaded format=pdftex)
 restricted \write18 enabled.
entering extended mode

real	0m3.637s
user	0m3.608s
sys	0m0.027s

----

TL2020

$ time pdftex test3
This is pdfTeX, Version 3.14159265-2.6-1.40.21 (TeX Live 2020) (preloaded format=pdftex)
[...]
[996] [997] [998] [999] [1000]
3.6658pt
 )</usr/local/texlive/2020/texmf-dist/fonts/type1/public/amsfonts/cm/cmr10.pfb>
Output written on test3.pdf (1000 pages, 314263 bytes).
Transcript written on test3.log.

real	0m3.815s
user	0m3.772s
sys	0m0.041s

Batchmode variant

$ time pdftex -interaction batchmode test3
This is pdfTeX, Version 3.14159265-2.6-1.40.21 (TeX Live 2020) (preloaded format=pdftex)
 restricted \write18 enabled.
entering extended mode

real	0m3.584s
user	0m3.554s
sys	0m0.026s

----


For people interested here are files test4.tex and test3.tex

%%% test4
\input xintkernel.sty
\pdfresettimer
\xintReplicate{1000}{\xintReplicate{1000}{\edef\foo{666666666666666666}}}
\immediate\write128{\the\dimexpr\pdfelapsedtime sp\relax}
\bye


%%% test3
\input xintkernel.sty
\pdfresettimer
\xintReplicate{1000}{\xintReplicate{1000}{. }\par\vfill\eject}
\immediate\write128{\the\dimexpr\pdfelapsedtime sp\relax}
\bye

The \xintReplicate above is basically a clone of the expl3 one.


Thus test3 is faster with pretest but test4 is slower, compared to TL2019
Not only globally, but also with the \xintReplicate line separately timed
via \pdfresettimer/\pdfelapsedtime


Regards,

Jean-Fran?ois




From mojca.miklavec.lists at gmail.com  Sat Mar  7 09:22:02 2020
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 7 Mar 2020 09:22:02 +0100
Subject: (darwin-legacy pretest) about 5% slow-down of \edef in etex
In-Reply-To: <807A5702-5097-408B-97E1-9367515FA23F@free.fr>
References: <F0F8A9AE-ED70-40D9-A9DD-67F753934973@free.fr>
 <FD9D12FF-BE4B-4A7E-9491-1B75ABF5A8D6@free.fr>
 <20200307072801.c71d99b29503fdb579eeadc3@yahoo.co.jp>
 <807A5702-5097-408B-97E1-9367515FA23F@free.fr>
Message-ID: <CALBOmsZUumZkz8pQ58x+6=K1VHU+F3w2Q+-vKhgTfn775aFYtQ@mail.gmail.com>

Hi,

Just a few short notes. Two things that changed since TL 2019 are the following:
- switch from clang 7 to clang 9
- (hopefully) switch from "the latest" libc++ to the one shipped with OS X Lion
which could have certainly impacted the performance, but it's bad if
they had a negative impact (I would expect a newer compiler to perform
better :)

For reasons beyond explanation (unless perhaps due to disk usage; I
just cleaned up some) the VM which builds the binaries became
unbearably slow
    https://build.contextgarden.net/#/builders/32 (click on "build times")
    https://build.contextgarden.net/#/builders/14 (same OS, but
running natively, much faster)
but I don't believe this is related to the speed of the resulting
binaries in any way.

In the past the slow speed was due to optimisation being removed as
soon as one was using CFLAGS. I'm now explicitly passing "-Os". Maybe
a different flag would be in place, I don't know.

What performance do you get if you compile the binaries yourself
(assuming you have Xcode or command line tools at least)?

Mojca

From jfbu at free.fr  Sat Mar  7 10:59:39 2020
From: jfbu at free.fr (jfbu)
Date: Sat, 7 Mar 2020 10:59:39 +0100
Subject: (darwin-legacy pretest) about 5% slow-down of \edef in etex
In-Reply-To: <CALBOmsZUumZkz8pQ58x+6=K1VHU+F3w2Q+-vKhgTfn775aFYtQ@mail.gmail.com>
References: <F0F8A9AE-ED70-40D9-A9DD-67F753934973@free.fr>
 <FD9D12FF-BE4B-4A7E-9491-1B75ABF5A8D6@free.fr>
 <20200307072801.c71d99b29503fdb579eeadc3@yahoo.co.jp>
 <807A5702-5097-408B-97E1-9367515FA23F@free.fr>
 <CALBOmsZUumZkz8pQ58x+6=K1VHU+F3w2Q+-vKhgTfn775aFYtQ@mail.gmail.com>
Message-ID: <577E4B0C-4BA1-4F5D-B149-3534A2EE0283@free.fr>

Hi Mojca


> What performance do you get if you compile the binaries yourself
> (assuming you have Xcode or command line tools at least)?

I am a bit rusty on this.

First, for info running the ./Build script ends up in this error

source$ ./Build
starting TeX Live build at Sat Mar  7 09:29:02 CET 2020
CMDLINE	"./Build "
PWD	"/opt/src/tldevsrc/source/Work"
UNAME	"Darwin"
See also buildenv.log and buildinfo.log in /opt/src/tldevsrc/source/Work

.....


g++ -DU_ATTRIBUTE_DEPRECATED= -DU_COMMON_IMPLEMENTATION -DU_ENABLE_DYLOAD=0 -DU_HAVE_STRTOD_L=1 -DU_HAVE_XLOCALE_H=1 -I/opt/src/tldevsrc/source/Work/libs/icu/../../../libs/icu/icu-src/source/common "-DDEFAULT_ICU_PLUGINS=\"/usr/local/lib/icu\" " -O2 -std=c++11 -fvisibility=hidden -fno-common -c -MMD -MT "utext.d utext.o utext.ao" -o utext.ao /opt/src/tldevsrc/source/Work/libs/icu/../../../libs/icu/icu-src/source/common/utext.cpp
/opt/src/tldevsrc/source/Work/libs/icu/../../../libs/icu/icu-src/source/common/utext.cpp:570:5: error: unknown type name 'max_align_t'; did you mean 'std::max_align_t'?
    max_align_t    extension;
    ^~~~~~~~~~~
    std::max_align_t
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/cstddef:55:21: note: 'std::max_align_t' declared here
typedef long double max_align_t;
                    ^
/opt/src/tldevsrc/source/Work/libs/icu/../../../libs/icu/icu-src/source/common/utext.cpp:585:73: error: unknown type name 'max_align_t'; did you mean 'std::max_align_t'?
            spaceRequired = sizeof(ExtendedUText) + extraSpace - sizeof(max_align_t);
                                                                        ^~~~~~~~~~~
                                                                        std::max_align_t
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../include/c++/v1/cstddef:55:21: note: 'std::max_align_t' declared here
typedef long double max_align_t;
                    ^
2 errors generated.
make[6]: *** [/opt/src/tldevsrc/source/Work/libs/icu/../../../libs/icu/icu-src/source/config/mh-darwin:64: utext.ao] Error 1
make[6]: Leaving directory '/opt/src/tldevsrc/source/Work/libs/icu/icu-build/common'
make[5]: *** [Makefile:153: all-recursive] Error 2
make[5]: Leaving directory '/opt/src/tldevsrc/source/Work/libs/icu/icu-build'
make[4]: *** [Makefile:1335: icubuild] Error 2
make[4]: Leaving directory '/opt/src/tldevsrc/source/Work/libs/icu'
make[3]: *** [Makefile:719: all-recursive] Error 1
make[3]: Leaving directory '/opt/src/tldevsrc/source/Work/libs/icu'
make[2]: *** [Makefile:906: recurse] Error 1
make[2]: Leaving directory '/opt/src/tldevsrc/source/Work/libs'
make[1]: *** [Makefile:483: all-recursive] Error 1
make[1]: Leaving directory '/opt/src/tldevsrc/source/Work/libs'
make: *** [Makefile:577: all-recursive] Error 1
+ echo 2
done (exit status 2) Sat Mar 7 09:33:54 CET 2020

-----

I then build directly only pdftex (skipping details)

first with :

$ ../configure --disable-all-pkgs --enable-pdftex -C >&outc

later with

$ ../configure --disable-all-pkgs --enable-pdftex -C CFLAGS=-Os CXXFLAGS=-Os >&outc

but do I get that right?

After copying the binary to suitable location and rebuilding pdftex.fmt and etex.fmt
timing of the test file originating this thread gives

real	0m2.306s
user	0m2.289s
sys	0m0.014s


which is far worse than the binary you compiled for pretest (1.7s)

However in the past (2 years ago) building locally via ./Build
gave faster binary. I probably have my configure flags all wrong.

I think I remember that last year I compared with local build
and the TeXLive2019 darwin-legacy one was only slightly
slower so I decided it was not the trouble building myself.

On the other hand my self-compiled TeXLive2018 pdftex binary
on the same test file (invoked via etex) gives

$ time etex testspeedbinaries
This is pdfTeX, Version 3.14159265-2.6-1.40.19 (TeX Live 2018) (preloaded format=etex)
 restricted \write18 enabled.
entering extended mode
(./testspeedbinaries.tex . . . . . . . . . . )
No pages of output.
Transcript written on testspeedbinaries.log.

real	0m1.461s
user	0m1.446s
sys	0m0.012s

This is from /usr/local/texlive/2018/bin/x86_64-apple-darwin13.4.0
which was obtained from ./Build with a checkout of the TeXLive sources
around March 29, 2018 (looking at the file dates)

But, currently I fail in running the ./Build

Thanks,

Jean-Fran?ois





From jfbu at free.fr  Sat Mar  7 11:31:36 2020
From: jfbu at free.fr (jfbu)
Date: Sat, 7 Mar 2020 11:31:36 +0100
Subject: (darwin-legacy pretest) about 5% slow-down of \edef in etex
In-Reply-To: <577E4B0C-4BA1-4F5D-B149-3534A2EE0283@free.fr>
References: <F0F8A9AE-ED70-40D9-A9DD-67F753934973@free.fr>
 <FD9D12FF-BE4B-4A7E-9491-1B75ABF5A8D6@free.fr>
 <20200307072801.c71d99b29503fdb579eeadc3@yahoo.co.jp>
 <807A5702-5097-408B-97E1-9367515FA23F@free.fr>
 <CALBOmsZUumZkz8pQ58x+6=K1VHU+F3w2Q+-vKhgTfn775aFYtQ@mail.gmail.com>
 <577E4B0C-4BA1-4F5D-B149-3534A2EE0283@free.fr>
Message-ID: <0369A2B1-171B-4980-BA25-EDC12D1BC6E8@free.fr>

Hi Mojca again

> 
> first with :
> 
> $ ../configure --disable-all-pkgs --enable-pdftex -C >&outc
> 
> later with
> 
> $ ../configure --disable-all-pkgs --enable-pdftex -C CFLAGS=-Os CXXFLAGS=-Os >&outc
> 
> but do I get that right?

Probably not I did it again using this

$ rm -fr Work
$ cd Work
$ ../configure --disable-all-pkgs --enable-pdftex -C CFLAGS="-O2" CXXFLAGS="-O2" >&outc

(I think I had forgotten next step last time:)
$ make
$ cd texk/web2c
$ make pdftex

And now I get

$ time etex testspeedbinaries
This is pdfTeX, Version 3.14159265-2.6-1.40.21 (TeX Live 2020) (preloaded format=etex)
 restricted \write18 enabled.
entering extended mode
(./testspeedbinaries.tex . . . . . . . . . . )
No pages of output.
Transcript written on testspeedbinaries.log.

real	0m1.522s
user	0m1.505s
sys	0m0.015s

To be compared to

1.6s with TeXLive 2019
1.7s with pretest 2020

and 

1.45s with self-build binaries from TeXLive 2018
as reported in previous message.

Best

Jean-Fran?ois






From news3 at nililand.de  Sat Mar  7 11:41:14 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Sat, 7 Mar 2020 11:41:14 +0100
Subject: tlmgr =?UTF-8?B?4oCU?= Package not present error messages
References: <20200307001718.0492e78b@mach1>
Message-ID: <153gk5p875dgb.dlg@nililand.de>

Am Sat, 7 Mar 2020 00:17:18 -0600 schrieb Brian Dunn:


>> From a useability standpoint, It would be even nicer if the program could
>> tell you which package contains what you are looking for.  (But I realize
>> the TexLive group is very busy right now.)

You can use the search option:

tlmgr search  --global --file graphicx\.sty

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From jfbu at free.fr  Sat Mar  7 12:13:14 2020
From: jfbu at free.fr (jfbu)
Date: Sat, 7 Mar 2020 12:13:14 +0100
Subject: (darwin-legacy pretest) about 5% slow-down of \edef in etex
In-Reply-To: <CALBOmsZUumZkz8pQ58x+6=K1VHU+F3w2Q+-vKhgTfn775aFYtQ@mail.gmail.com>
References: <F0F8A9AE-ED70-40D9-A9DD-67F753934973@free.fr>
 <FD9D12FF-BE4B-4A7E-9491-1B75ABF5A8D6@free.fr>
 <20200307072801.c71d99b29503fdb579eeadc3@yahoo.co.jp>
 <807A5702-5097-408B-97E1-9367515FA23F@free.fr>
 <CALBOmsZUumZkz8pQ58x+6=K1VHU+F3w2Q+-vKhgTfn775aFYtQ@mail.gmail.com>
Message-ID: <E8994A0D-0BCF-4A6C-849B-27487C6E4E32@free.fr>


Le 7 mars 2020 ? 09:22, Mojca Miklavec <mojca.miklavec.lists at gmail.com> a ?crit :

> What performance do you get if you compile the binaries yourself
> (assuming you have Xcode or command line tools at least)?

Simply to comment that on the test file doing 1000 pages each with 1000 dots
I detect no real difference between your pretest binary (pdftex) and
the one I self-compiled from TeXLive sources with "-O2" compiler flags

It is only with test files doing many \edef that I see 5%-10% difference (in favour of self-compiled pdftex)

The Build script (which aborts due to ICU) has this buildinfo.log

UNAME	"Darwin foobar.local 13.4.0 Darwin Kernel Version 13.4.0: Mon Jan 11 18:17:34 PST 2016; root:xnu-2422.115.15~1/RELEASE_X86_64 x86_64"
MAKE	"make"
MAKE-v	"GNU Make 4.2.1"
CC	"gcc"
CFLAGS	"-g -O2"
CC-v	"Apple LLVM version 6.0 (clang-600.0.57) (based on LLVM 3.5svn)"
CXX	"g++"
CXXFLAGS	"-g -O2"
CXX-v	"Apple LLVM version 6.0 (clang-600.0.57) (based on LLVM 3.5svn)"
OBJCXX	""
OBJCXXFLAGS	""
LDFLAGS	""


This is how I decided to use "-O2" flags when building pdftex only.



From jfbu at free.fr  Sat Mar  7 12:38:02 2020
From: jfbu at free.fr (jfbu)
Date: Sat, 7 Mar 2020 12:38:02 +0100
Subject: (darwin-legacy pretest) about 5% slow-down of \edef in etex
In-Reply-To: <577E4B0C-4BA1-4F5D-B149-3534A2EE0283@free.fr>
References: <F0F8A9AE-ED70-40D9-A9DD-67F753934973@free.fr>
 <FD9D12FF-BE4B-4A7E-9491-1B75ABF5A8D6@free.fr>
 <20200307072801.c71d99b29503fdb579eeadc3@yahoo.co.jp>
 <807A5702-5097-408B-97E1-9367515FA23F@free.fr>
 <CALBOmsZUumZkz8pQ58x+6=K1VHU+F3w2Q+-vKhgTfn775aFYtQ@mail.gmail.com>
 <577E4B0C-4BA1-4F5D-B149-3534A2EE0283@free.fr>
Message-ID: <B73B2EF3-8BA8-4E7D-972B-B5A4DD3A7AFF@free.fr>



> first with :
> 
> $ ../configure --disable-all-pkgs --enable-pdftex -C >&outc
> 
> later with
> 
> $ ../configure --disable-all-pkgs --enable-pdftex -C CFLAGS=-Os CXXFLAGS=-Os >&outc
> 
> but do I get that right?
> 
> After copying the binary to suitable location and rebuilding pdftex.fmt and etex.fmt
> timing of the test file originating this thread gives
> 
> real	0m2.306s
> user	0m2.289s
> sys	0m0.014s

Sorry about misleading info. After configure I probably had forgotten one step
or was working with a dirty Work repertory.

Anyway, I did it again with "-Os"
and the produced binary now gives timings very much in line with your
binary from pretest, i.e. on this same test

real	0m1.700s
user	0m1.684s
sys	0m0.013s

typically

In comparison, the "-O2" binary produces this kind of timing

real	0m1.525s
user	0m1.509s
sys	0m0.013s


size of binaries

Y lrwxr-xr-x   1 foo  bar        9  7 mar 12:36 pdftex -> pdftex_o2
  -rwxr-xr-x   1 foo  bar  2717724  7 mar 11:26 pdftex_o2
  -rwxr-xr-x   1 foo  bar  2221296  7 mar 12:31 pdftex_os


regards,

Jean-Fran?ois




From jfbu at free.fr  Sat Mar  7 16:01:13 2020
From: jfbu at free.fr (jfbu)
Date: Sat, 7 Mar 2020 16:01:13 +0100
Subject: (tlpretest) the --with-system-harfbuzz flag has no influence it seems
 on luaharfbuzz
Message-ID: <05D3B1BC-979E-4000-B4DC-ADCE802A48B3@free.fr>

Hi,

As compiling the TeXLive binaries at my locale has problems with the shipped harfbuzz, I tried --with-system-harfbuzz.

But then I hit against a problem with luaharfbuzz.

I don't know what the latter is, there is no system equivalent I guess? 
It would make no sense for --with-system-harfbuzz to encompass this luaharfbuzz?

Anyway, disabling lua* builds, I still hit a problem that xetex could not be compiled with my system harfbuzz library, but perhaps the latter is very old.

I reported earlier problems with icu library, which is another reason I tried --with-system-harfbuzz because it does --with-system-icu if I understand correctly.

I mention that my problems with icu are apparently fixed (apart from using --with-system-icu) by replacing 5 occurrences in its sources of max_align_t by std::max_align_t, which I presume is a completely silly thing, but I am doing this only for matters of personal testing.

In fact, with this hack, the following apparently succeeded at my locale (10.9.5 mac os x; but perhaps things are broken which involve icu)

./Build --disable-luahbtex --disable-luajithbtex --disable-xetex

Process output ends in:


./Build:      440 executables in /opt/src/tldevsrc/source/inst/bin.
done (exit status 0) Sat Mar 7 15:37:33 CET 2020


This does not include xindy, but in the past I compiled it successfully separately.

Best,

Jean-Fran?ois




From mjbaars1977.tex-live at cyberfiber.eu  Sat Mar  7 16:12:30 2020
From: mjbaars1977.tex-live at cyberfiber.eu (Michael J. Baars)
Date: Sat, 07 Mar 2020 16:12:30 +0100
Subject: rendering brackets
In-Reply-To: <CAEW6iOi5JOOQ0d8GgzhqDLbbM8ozvZjX0ebt+rhY=6E20CDA9w@mail.gmail.com>
References: <bd91b82f4cce892af4046ddf5c7a3acc514f4637.camel@cyberfiber.eu>
 <CAEW6iOgAeLHRY_81XrZ6ooGbpxM9e8cKHoG-R9buOve5CuBcAA@mail.gmail.com>
 <c473e02791a34ceb3d5d5a67a47c8b0873a10847.camel@cyberfiber.eu>
 <CAEW6iOg+RYuz=TVHQZ5L55A6zobzYGuu-b2x4=CGfaWe+Gr4YA@mail.gmail.com>
 <da188555c92d777bd239b6935ce36ac785def6ec.camel@cyberfiber.eu>
 <CAEW6iOjdyjRJwnv=0UreTn2yksZ0O17KnDyd_WOwKBp-wwMdgw@mail.gmail.com>
 <8265d83f82b20d8c9f43e7a1121921b42ac0e066.camel@cyberfiber.eu>
 <CAEW6iOi5JOOQ0d8GgzhqDLbbM8ozvZjX0ebt+rhY=6E20CDA9w@mail.gmail.com>
Message-ID: <6a112e50bab4a2622ff7e077ba247ed0c6d4efbf.camel@cyberfiber.eu>

On Thu, 2020-03-05 at 07:51 +0000, David Carlisle wrote:
> On Thu, 5 Mar 2020 at 06:14, Michael J. Baars
> <mjbaars1977.tex-live at cyberfiber.eu> wrote:
> > On Tue, 2020-03-03 at 20:58 +0000, David Carlisle wrote:
> > > On Tue, 3 Mar 2020 at 20:31, Michael J. Baars
> > > <mjbaars1977.tex-live at cyberfiber.eu> wrote:
> > > ....
> > > > 1/a: 13.20952pt+6.85951pt
> > > > a/1: 11.07062pt+6.85951pt
> > > > 
> > > > 
> > > > so the first form is over 2pt taller and so gets a larger
> > > > bracket
> > > > if you auto-size the brackets with \left\right.
> > > > 
> > > > 
> > > > Yes, which is really strange if you ask me. One would expect
> > > > them
> > > > to be exactly the same size.
> > > 
> > > why? 1 is clearly taller than a.
> > 
> > Yes, you are completely right. '1' is not the same height as 'a',
> > but
> > the sum of the two should be constant, therefore '1/a' and 'a/1'
> > should
> > be the same height.
> 
> as I said before, the sum never comes in to the layout at all, if
> they
> were closely stacked so that the sum affected the total height the
> the
> fraction bar on 1/a woul dbe lower than the one on a/1 and that is
> not
> what happens. the fraction bar (if at all possible) is set on the
> math
> axis, the same height as - or the bar in +

Let's look at the other styles, as you can see from the attachment,
both '1' and 'a' are first placed in boxes of the same height. Both the
height of the individual characters and the sum of the heights of the
characters is then of no importance. All the different styles produce
fractions of the same height and are rendered with the same brackets,
except the one rendered in displaystyle.

> > > > I do not know the exact details on height and depth as brought
> > > > forth by tex-live, but I can't remember mentioning 3D letters.
> > > 
> > > 3D ??
> > 
> > 3D always has the z-axis, or depth, perpendicular to the face of
> > the
> > monitor. I don't see what 'depth' as to do with a 2D box.
> 
> please see any tutorial about how tex boxes work, a box consists of
> three numbers width height (above the baseline) and depth (below the
> baseline)  a fraction, like g and y has non zero depth/
> > > all boxes in tex have height (above the baseline) depth (below
> > > the
> > > baseline) and width.
> > > 
> > > > I don't see any connection between the depth and the height of
> > > > the
> > > > denominator.
> 
> the depth  of the fraction is controlled by the depth of the
> denominator so is teh same for 1 or a but would be greater for y
> 
> > > As normal in tex, the placement is based on aligning characters
> > > by
> > > the
> > > baselines so in the denominator the fact that 1 is taller than a
> > > has
> > > no effect as the default position of the characters in the
> > > denominator
> > >  has the baselines in the same level.  the same is true of the
> > > distance between the fraction bar and the baselines in the
> > > numerator,
> > > so the baselines of the 1 and a are in the same place so the top
> > > of
> > > the 1 is higher than the top of the a.....
> > > 
> > > > That 1 and a are different in height should not be a problem,
> > > > since
> > > > the sum of the heights is constant,
> > > 
> > > The sum of the heights isn't involved as they are set such that
> > > the
> > > fraction bar is on the math axis you are not simply stacking 1
> > > over a
> > > and a over 1 and getting a stack of the same height,
> > > 
> > > 
> > > > but what you are saying, is that using a monospace font should
> > > > solve the problem? I'll look into that tomorrow morning.
> > > 
> > > No I never mentioned monospace. Monospace fonts have characters
> > > equal
> > > width but typically 1 will be taller than an a still. The widths
> > > of
> > > the characters are not invoved here.
> > > 
> > > 
> > > David
-------------- next part --------------
A non-text attachment was scrubbed...
Name: brackets2.tex
Type: text/x-tex
Size: 946 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200307/6f26efa5/attachment.bin>

From jfbu at free.fr  Sat Mar  7 18:36:25 2020
From: jfbu at free.fr (jfbu)
Date: Sat, 7 Mar 2020 18:36:25 +0100
Subject: LaTeX error when building a file from xindy documentation
Message-ID: <44BECDBD-B036-4E69-BB6B-F8653F5F505F@free.fr>

Hi,

I get

[...]
Making all in xindy
pdflatex -interaction nonstopmode ../../../../../../utils/xindy/xindy-src/make-rules/alphabets/alphabets-doc.tex
This is pdfTeX, Version 3.14159265-2.6-1.40.21 (TeX Live 2020) (preloaded format=pdflatex)
 restricted \write18 enabled.
entering extended mode

(../../../../../../utils/xindy/xindy-src/make-rules/alphabets/alphabets-doc.tex
LaTeX2e <2020-02-02> patch level 5
L3 programming layer <2020-03-03>
(/usr/local/texlive/2020/texmf-dist/tex/latex/base/report.cls
Document Class: report 2019/12/20 v1.4l Standard LaTeX document class
....
(./belarusian/cp1251-doc.tex
(/usr/local/texlive/2020/texmf-dist/tex/latex/cyrillic/cp1251.def)

! LaTeX Error: Command \cyra unavailable in encoding T1.

(many more errors of the same type follow)

from an attempt of building TeXLive binaries from source.

I had build xindy fine this way

source$ ./Build --disable-luahbtex --disable-luajithbtex --disable-xetex --enable-xindy CFLAGS="-O3" CXXFLAGS="-O3" CLISP=/opt/src/clisp/clisp-build/clisp

./Build:      445 executables in /opt/src/tldevsrc/source/inst/bin.
done (exit status 0) Sat Mar 7 16:30:41 CET 2020


but after updating my harfbuzz library I tried

source$ ./Build --with-system-harfbuzz --disable-native-texlive-build --enable-xindy CFLAGS="-O3" CXXFLAGS="-O3" CLISP=/opt/src/clisp/clisp-build/clisp

but it fails as reported above. Perhaps the --disable-native-texlive-build (which I need due to --with-system-harfbuzz) triggers the pdflatex alphabets-doc.tex, I don't know, but anyway I end up with the above LaTeX error which may be of independent interest.

Regards,

Jean-Fran?ois



From jfbu at free.fr  Sat Mar  7 19:00:16 2020
From: jfbu at free.fr (jfbu)
Date: Sat, 7 Mar 2020 19:00:16 +0100
Subject: LaTeX error when building a file from xindy documentation
In-Reply-To: <44BECDBD-B036-4E69-BB6B-F8653F5F505F@free.fr>
References: <44BECDBD-B036-4E69-BB6B-F8653F5F505F@free.fr>
Message-ID: <EF1C8892-8A5D-4B71-9E3C-B120E9FF9935@free.fr>


Le 7 mars 2020 ? 18:36, jfbu <jfbu at free.fr> a ?crit :

> pdflatex -interaction nonstopmode ../../../../../../utils/xindy/xindy-src/make-rules/alphabets/alphabets-doc.tex


turns out the file alphabets-inc.tex contains a control character <CTRL-L>enc{T2A} in place of \ienc{T2A}

\section{Codepage latin9}
\input{danish/latin9-doc.tex}
\input{english/latin9-doc.tex}
\input{estonian/latin9-doc.tex}
\input{finnish/latin9-doc.tex}
\input{french/latin9-doc.tex}
\input{general/latin9-doc.tex}
\input{icelandic/latin9-doc.tex}
\input{swedish/latin9-doc.tex}
\ienc{cp1251}

enc{T2A}
\section{Codepage 1251}
\input{belarusian/cp1251-doc.tex}
\input{bulgarian/cp1251-doc.tex}
\input{macedonian/cp1251-doc.tex}
\input{russian/cp1251-doc.tex}
\input{serbian/cp1251-doc.tex}
\input{ukrainian/cp1251-doc.tex}

I don't know what causes this.

This is file

/path/to/source/Work/utils/xindy/xindy-src/make-rules/alphabets/alphabets-inc.tex

Regards

Jean-Fran?ois

From P.Taylor at Rhul.Ac.Uk  Sat Mar  7 19:12:51 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 7 Mar 2020 18:12:51 +0000
Subject: [EXT] TeXLive 2020 pre-test item: MalwareBytes (Windows) flags
 behavior of installation BAT file
In-Reply-To: <CAPVtpTCzxkyx8Uh=+-SsF_oLuHcP0Kd+BQV=MEzU2Au3BABOLQ@mail.gmail.com>
References: <CAPVtpTCzxkyx8Uh=+-SsF_oLuHcP0Kd+BQV=MEzU2Au3BABOLQ@mail.gmail.com>
Message-ID: <7ffc7a69-705f-3225-5a88-4e53fc8b9cb9@Rhul.Ac.Uk>

Bill Thomassen wrote:

> *This is a new behavior.? ?I have installed several versions of 
> TeXLive on my primary Windows laptop (running Windows 7), and this is 
> the first time that MalwareBytes Anti-Malware has flagged any part of 
> the TeXLive process.*

I also use Malwarebytes Premium. Bill, under Windows 7, ^4-bit, 
Enterprise.? I am downloading the TeX Live 2020 pre-test files as I 
write, and will report back once I have attempted an installation.

/Philip Taylor/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200307/5d657b49/attachment.html>

From jfbu at free.fr  Sat Mar  7 20:41:48 2020
From: jfbu at free.fr (jfbu)
Date: Sat, 7 Mar 2020 20:41:48 +0100
Subject: LaTeX error when building a file from xindy documentation
In-Reply-To: <EF1C8892-8A5D-4B71-9E3C-B120E9FF9935@free.fr>
References: <44BECDBD-B036-4E69-BB6B-F8653F5F505F@free.fr>
 <EF1C8892-8A5D-4B71-9E3C-B120E9FF9935@free.fr>
Message-ID: <C41BE64F-9D29-43AF-934B-3C8F8A69A721@free.fr>


Le 7 mars 2020 ? 19:00, jfbu <jfbu at free.fr> a ?crit :

> 
> Le 7 mars 2020 ? 18:36, jfbu <jfbu at free.fr> a ?crit :
> 
>> pdflatex -interaction nonstopmode ../../../../../../utils/xindy/xindy-src/make-rules/alphabets/alphabets-doc.tex
> 
> 
> turns out the file alphabets-inc.tex contains a control character <CTRL-L>enc{T2A} in place of \ienc{T2A}


But the console output does show

echo '\ienc{cp1251}' >>alphabets-inc.tex
echo '\fenc{T2A}' >>alphabets-inc.tex
echo '\chapter{Cyrillic scripts}' >>alphabets-inc.tex
echo '\section{Codepage 1251}' >>alphabets-inc.tex


and if I execute this manually things are ok.

I also see that the creation of the file looks like this from the Makefile rule,
here console output

rm -f alphabets-inc.tex
echo '\chapter{Latin scripts}' >>alphabets-inc.tex
echo '\ienc{cp1252}' >>alphabets-inc.tex
echo '\section{Codepage 1252}' >>alphabets-inc.tex
[...more lines leading to cp1251 and T2A things as above...]

but the first line \chapter{Latin scripts} is not present in file alphabets-inc.tex

(as attached to this message)

Probably these messages belong more to the mailing list for TeXLive builders,
but I am only an end user, not a testing builder.

I checked if my disk was near full but i have 32G free (on a 255G SSD)

weird
-------------- next part --------------
A non-text attachment was scrubbed...
Name: alphabets-inc.tex
Type: application/octet-stream
Size: 2364 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200307/f6471026/attachment-0001.obj>
-------------- next part --------------



From P.Taylor at Rhul.Ac.Uk  Sat Mar  7 21:25:58 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 7 Mar 2020 20:25:58 +0000
Subject: [EXT] Re: [EXT] TeXLive 2020 pre-test item: MalwareBytes
 (Windows) flags behavior of installation BAT file
In-Reply-To: <7ffc7a69-705f-3225-5a88-4e53fc8b9cb9@Rhul.Ac.Uk>
References: <CAPVtpTCzxkyx8Uh=+-SsF_oLuHcP0Kd+BQV=MEzU2Au3BABOLQ@mail.gmail.com>
 <7ffc7a69-705f-3225-5a88-4e53fc8b9cb9@Rhul.Ac.Uk>
Message-ID: <ecfbe68c-bce7-0805-9785-6f69d29e8c57@Rhul.Ac.Uk>

Philip Taylor wrote:

> I also use Malwarebytes Premium. Bill, under Windows 7, ^4-bit, 
> Enterprise.? I am downloading the TeX Live 2020 pre-test files as I 
> write, and will report back once I have attempted an installation.

I have now (seemingly successfully) mirrored the Netherlands TeX Live 
2020 pre-test repository, but I was confused when I sought to find out 
how to proceed.? The instructions read (in part) :

>
>       Installing
>
> After downloading as above, you can run the script 
> [...]install-tl-windows.bat (Windows) to perform the installation. We 
> just use install-tl as the command name in these examples:
>
>   * install-tl -repository /location/ -gui
>     is the default on Windows and Macs. It runs a Tcl/Tk-based GUI if
>     Tcl/Tk is available, simple at startup but with a button to invoke
>     the advanced interface. If Tcl/Tk is not available, tries the
>     Perl/Tk GUI; if that's not available either, falls back to text
>     mode. TeX Live includes a Tcl/Tk runtime for Windows, and Tcl/Tk
>     is a standard part of current Mac systems.
>

What does it mean that "install-tl -repository /location/ -gui" /*is the 
default */on Windows ?? It is the default if I do what ?? Not knowing 
how to invoke the default behaviour, I typed in full :

C:\TeX\Live\2020\Local\Repository : install-tl-windows.bat -repository 
/. /-gui

What /should/ I have typed in order to obtain the default behaviour ?
/Philip Taylor/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200307/69a45866/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Sat Mar  7 21:40:14 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 7 Mar 2020 20:40:14 +0000
Subject: [EXT] Re: rendering brackets
In-Reply-To: <6a112e50bab4a2622ff7e077ba247ed0c6d4efbf.camel@cyberfiber.eu>
References: <bd91b82f4cce892af4046ddf5c7a3acc514f4637.camel@cyberfiber.eu>
 <CAEW6iOgAeLHRY_81XrZ6ooGbpxM9e8cKHoG-R9buOve5CuBcAA@mail.gmail.com>
 <c473e02791a34ceb3d5d5a67a47c8b0873a10847.camel@cyberfiber.eu>
 <CAEW6iOg+RYuz=TVHQZ5L55A6zobzYGuu-b2x4=CGfaWe+Gr4YA@mail.gmail.com>
 <da188555c92d777bd239b6935ce36ac785def6ec.camel@cyberfiber.eu>
 <CAEW6iOjdyjRJwnv=0UreTn2yksZ0O17KnDyd_WOwKBp-wwMdgw@mail.gmail.com>
 <8265d83f82b20d8c9f43e7a1121921b42ac0e066.camel@cyberfiber.eu>
 <CAEW6iOi5JOOQ0d8GgzhqDLbbM8ozvZjX0ebt+rhY=6E20CDA9w@mail.gmail.com>
 <6a112e50bab4a2622ff7e077ba247ed0c6d4efbf.camel@cyberfiber.eu>
Message-ID: <e1a21a08-c23f-e42b-87f5-4cc9dd053c5f@Rhul.Ac.Uk>

Michael J. Baars wrote:

> Let's look at the other styles, as you can see from the attachment,
> both '1' and 'a' are first placed in boxes of the same height.

Could you please point out at which point in your code, "both '1' and 
'a' are first placed in boxes of the same height" ?
I have searched long and hard for this, and failed to find it.

Philip Taylor
--------
> %
>
> % 2018061700 - M.J. Baars (mjbaars1977 at gmail.com)
>
> %
>
> \documentclass[10pt,twoside,a4paper]{book}
>
> \usepackage{amsfonts}
>
> \usepackage{amsmath}
>
> \usepackage{amssymb}
>
> \usepackage{graphicx}
>
> \usepackage{stdbook}
>
> \begin{document}
>
> normal: \scalebox{5}{${ \left( \frac{1}{a} \right)}$}
>
> \scalebox{5}{${ \left( \frac{a}{1} \right)}$} \\
>
> displaystyle: \scalebox{5}{${\displaystyle \left( \frac{1}{a} \right)}$}
>
> \scalebox{5}{${\displaystyle \left( \frac{a}{1} \right)}$} \\
>
> scriptstyle: \scalebox{5}{${\scriptstyle \left( \frac{1}{a} \right)}$}
>
> \scalebox{5}{${\scriptstyle \left( \frac{a}{1} \right)}$} \\
>
> scriptscriptstyle: \scalebox{5}{${\scriptscriptstyle \left( 
> \frac{1}{a} \right)}$}
>
> \scalebox{5}{${\scriptscriptstyle \left( \frac{a}{1} \right)}$} \\
>
> textstyle: \scalebox{5}{${\textstyle \left( \frac{1}{a} \right)}$}
>
> \scalebox{5}{${\textstyle \left( \frac{a}{1} \right)}$} \\
>
> \end{document}
>



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200307/1ec1dffc/attachment.html>

From d.p.carlisle at gmail.com  Sat Mar  7 21:58:08 2020
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sat, 7 Mar 2020 20:58:08 +0000
Subject: rendering brackets
In-Reply-To: <6a112e50bab4a2622ff7e077ba247ed0c6d4efbf.camel@cyberfiber.eu>
References: <bd91b82f4cce892af4046ddf5c7a3acc514f4637.camel@cyberfiber.eu>
 <CAEW6iOgAeLHRY_81XrZ6ooGbpxM9e8cKHoG-R9buOve5CuBcAA@mail.gmail.com>
 <c473e02791a34ceb3d5d5a67a47c8b0873a10847.camel@cyberfiber.eu>
 <CAEW6iOg+RYuz=TVHQZ5L55A6zobzYGuu-b2x4=CGfaWe+Gr4YA@mail.gmail.com>
 <da188555c92d777bd239b6935ce36ac785def6ec.camel@cyberfiber.eu>
 <CAEW6iOjdyjRJwnv=0UreTn2yksZ0O17KnDyd_WOwKBp-wwMdgw@mail.gmail.com>
 <8265d83f82b20d8c9f43e7a1121921b42ac0e066.camel@cyberfiber.eu>
 <CAEW6iOi5JOOQ0d8GgzhqDLbbM8ozvZjX0ebt+rhY=6E20CDA9w@mail.gmail.com>
 <6a112e50bab4a2622ff7e077ba247ed0c6d4efbf.camel@cyberfiber.eu>
Message-ID: <CAEW6iOh=wTztQ6nk4F49154m4A1GzK+3EW=cxM-WbMhGDUgLkg@mail.gmail.com>

One last attempt to explain this

> Let's look at the other styles, as you can see from the attachment,
> both '1' and 'a' are first placed in boxes of the same height.

No, they are not boxed.

> Both the height of the individual characters and the sum of the heights of the
> is then of no importance.

No the height of 1 and a affect all these,


> All the different styles produce fractions of the same height and
> are rendered with the same brackets,
>  except the one rendered in displaystyle.

The brackets are available in discrete sizes so there are edge effects
when the size changes: it's not always obvious when a slightly larger
expression will get the next available size.

at normal size it happens that all but one of the pairs give the same
size brackets, but try for example Huge and all the pairs have 1/a
bigger than a/1 except scriptscriptsize where they are the same.

I don't have a stdbook package but it didn't seem needed.

I removed the \\ as they were generating warnings not related to the issue.


%
%    2018061700 - M.J. Baars (mjbaars1977 at gmail.com)
%

\documentclass[10pt,twoside,a4paper]{book}

\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}

\usepackage{graphicx}
%\usepackage{stdbook}
\parskip=\bigskipamount

\begin{document}
\Huge

    normal:            \scalebox{2}{${                \left(
\frac{1}{a} \right)}$}
                \scalebox{2}{${                \left( \frac{a}{1} \right)}$}

    displaystyle:        \scalebox{2}{${\displaystyle        \left(
\frac{1}{a} \right)}$}
                \scalebox{2}{${\displaystyle        \left( \frac{a}{1}
\right)}$}

    scriptstyle:        \scalebox{2}{${\scriptstyle        \left(
\frac{1}{a} \right)}$}
                \scalebox{2}{${\scriptstyle        \left( \frac{a}{1} \right)}$}

    scriptscriptstyle:    \scalebox{2}{${\scriptscriptstyle    \left(
\frac{1}{a} \right)}$}
                \scalebox{2}{${\scriptscriptstyle    \left(
\frac{a}{1} \right)}$}

    textstyle:        \scalebox{2}{${\textstyle        \left(
\frac{1}{a} \right)}$}
        \scalebox{2}{${\textstyle        \left( \frac{a}{1} \right)}$}

\end{document}


David

From siepo at bitmuis.nl  Sat Mar  7 22:29:27 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sat, 7 Mar 2020 22:29:27 +0100
Subject: [EXT] Re: [EXT] TeXLive 2020 pre-test item: MalwareBytes
 (Windows) flags behavior of installation BAT file
In-Reply-To: <ecfbe68c-bce7-0805-9785-6f69d29e8c57@Rhul.Ac.Uk>
References: <CAPVtpTCzxkyx8Uh=+-SsF_oLuHcP0Kd+BQV=MEzU2Au3BABOLQ@mail.gmail.com>
 <7ffc7a69-705f-3225-5a88-4e53fc8b9cb9@Rhul.Ac.Uk>
 <ecfbe68c-bce7-0805-9785-6f69d29e8c57@Rhul.Ac.Uk>
Message-ID: <20200307212927.GC2442@bitmuis.nl>

On Sat, Mar 07, 2020 at 08:25:58PM +0000, Philip Taylor wrote:
> Philip Taylor wrote:
> 
> > I also use Malwarebytes Premium. Bill, under Windows 7, ^4-bit,
> > Enterprise.? I am downloading the TeX Live 2020 pre-test files as I
> > write, and will report back once I have attempted an installation.
> 
> I have now (seemingly successfully) mirrored the Netherlands TeX Live 2020
> pre-test repository, but I was confused when I sought to find out how to
> proceed.? The instructions read (in part) :
> 
> > 
> >       Installing
> > 
> > After downloading as above, you can run the script
> > [...]install-tl-windows.bat (Windows) to perform the installation. We
> > just use install-tl as the command name in these examples:
> > 
> >   * install-tl -repository /location/ -gui
> >     is the default on Windows and Macs. It runs a Tcl/Tk-based GUI if
> >     Tcl/Tk is available, simple at startup but with a button to invoke
> >     the advanced interface. If Tcl/Tk is not available, tries the
> >     Perl/Tk GUI; if that's not available either, falls back to text
> >     mode. TeX Live includes a Tcl/Tk runtime for Windows, and Tcl/Tk
> >     is a standard part of current Mac systems.
> > 
> 
> What does it mean that "install-tl -repository /location/ -gui" /*is the
> default */on Windows ?? It is the default if I do what ?? Not knowing how to
> invoke the default behaviour, I typed in full :
> 
> C:\TeX\Live\2020\Local\Repository : install-tl-windows.bat -repository /.
> /-gui
> 
> What /should/ I have typed in order to obtain the default behaviour ?
> /Philip Taylor/

On Windows and MacOS, -gui is the default, on other platforms the
text mode interface is the default.

If you have a full rsync copy of the repository then there is no
need for a -repository parameter either.

So, _in your case_ you can just type

  install-tl-windows.bat

Better specify the .bat extension explicitly, because you do not
want to use the .exe. But I can see that the phrasing is a bit
confusing.

-- 
Siep Kroonenberg

From P.Taylor at Rhul.Ac.Uk  Sat Mar  7 22:36:44 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 7 Mar 2020 21:36:44 +0000
Subject: [EXT] Re: [EXT] Re: [EXT] TeXLive 2020 pre-test item:
 MalwareBytes (Windows) flags behavior of installation BAT file
In-Reply-To: <20200307212927.GC2442@bitmuis.nl>
References: <CAPVtpTCzxkyx8Uh=+-SsF_oLuHcP0Kd+BQV=MEzU2Au3BABOLQ@mail.gmail.com>
 <7ffc7a69-705f-3225-5a88-4e53fc8b9cb9@Rhul.Ac.Uk>
 <ecfbe68c-bce7-0805-9785-6f69d29e8c57@Rhul.Ac.Uk>
 <20200307212927.GC2442@bitmuis.nl>
Message-ID: <2ef82b35-c577-b948-6144-fb0f4b2afed4@Rhul.Ac.Uk>

Siep Kroonenberg wrote:

> So, _in your case_ you can just type
>    install-tl-windows.bat
>
> Better specify the .bat extension explicitly, because you do not
> want to use the .exe. But I can see that the phrasing is a bit
> confusing.

OK, thank you Siep.? At the moment it is installing as a result of 
/install-tl-windows.bat -repository . -gui/, and I fear that if I 
interrupt it to try /install-tl-windows.bat/ it will not resume from 
where it was interrupted but will start all over again :-(? So for now I 
will leave it running unless you advise me otherwise.? But one other 
thing puzzled me :? where, in the TeX Live installer GUI, is the 
installation repository reported (and optionally changed) ?? I could not 
see it exposed anywhere, and so I have no way of knowing whether it is 
really installing from my Rsynch local repository or from somewhere out 
in the ether ...

** Phil.
//
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200307/bd4e20f0/attachment-0001.html>

From karl at freefriends.org  Sat Mar  7 23:19:13 2020
From: karl at freefriends.org (Karl Berry)
Date: Sat, 7 Mar 2020 15:19:13 -0700
Subject: tlpretest question for luatex experts
In-Reply-To: <D543A0C3-4F0E-4E41-98D9-219A56A5B408@math.uoregon.edu>
Message-ID: <202003072219.027MJDR5013237@freefriends.org>

    There are four lua binaries: luahbtex, luajithbtex, luatex, luajittex. 
    LuaTeX experts, here are our questions:

            a) Should we claim the same exceptions for all four binaries?

Yes. All Lua variants are equally insecure in this regard.

            b) Are there short sample programs we can use to check that the
    binaries work correctly after the exceptions are applied?

I don't have any such test programs. Luigi? --best, karl.

From shunsaku.hirata74 at gmail.com  Sun Mar  8 00:32:38 2020
From: shunsaku.hirata74 at gmail.com (Shunsaku Hirata)
Date: Sun, 8 Mar 2020 08:32:38 +0900
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAJCZBmSb+Kwo7KGCfUc30Y0b9o4vFZNutV7E8heWmpk13sjAqw@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
 <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>
 <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>
 <CAOyMh2pa2fQeTLT_nQqf-+sdBjFO2c1hbuRnmFioRbrCdE4_QQ@mail.gmail.com>
 <CAJCZBmQWgT6srJmcVZuVPuK9j2Q5CiXX52gPD8aZPRUGvZfQ_g@mail.gmail.com>
 <CAJCZBmTU5Vz66-AmAbGKFC1rP=_Bo+HqV_JoS-TzHJXMXR1Gog@mail.gmail.com>
 <CAOyMh2r=JwVZXBoiBBMiJ2xZFNfc9JP3-Qq65wM-mux6WWSzbw@mail.gmail.com>
 <CAJCZBmSb+Kwo7KGCfUc30Y0b9o4vFZNutV7E8heWmpk13sjAqw@mail.gmail.com>
Message-ID: <CAOyMh2pHCoAY2C_y7tf-Hwb7_EMDuA2UB0QtpVWc+pEJsBR-sA@mail.gmail.com>

Hi,

> > Anyway you have already reverted my change thus I guess you are
> > going to commit your change.
>
> Not really; the reason why I reverted your change on 2019-06-30 is
> that adding q-Q bracket would break many existing TeX files in which
> \special commands had been carefully constructed to work fine with
> TL2019 xdvipdfmx.  I just didn't like such a change in xdvipdfmx
> between TL2019 and TL2020.

Currently known problem is only clipping and I don't understand how
so many TeX files could reply on such feature.

I understand efforts made. But I can't tell how careful it is if they were
constructed upon a carelessly constructed foundation.

> Therefore, I don't want to re-commit your previous change of adding
> q-Q bracket.  On the other hand, I'd like to follow your decision
> on whether you accept my "0 Tr" patch or not.

I don't understand why you are going to follow my decision for the
patch prepared by yourself while the decision to reject my previous
change was made by yourself alone.

If you just want suggestions on the correctness of the patch: There
are two kind of text. Normal and embolden. For normal text, current
mode setting should be used. For embolded text, mode "2" is used.
This patch introduces another bug that modes 1, 2, and 3 don't work
too when embolen text is used before.

Finally, regarding the following commend by myself:

  OK, we should warn everyone not to use fake-bold (embolden text)
  together with the ocgx2 package.

This was not a sugestion actually. Sorry for consusion.

After incorporating the provided patch, even single embolden letter
newly inserted in the footnote of page 16 would cause a drastic
change in the rendering of page 345 where Tr is used.
You may still say it is often the case in TeX output though.


Thanks,
Shunsaku Hirata

From P.Taylor at Rhul.Ac.Uk  Sun Mar  8 00:36:46 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 7 Mar 2020 23:36:46 +0000
Subject: [EXT] TeXLive 2020 pre-test item: MalwareBytes (Windows) flags
 behavior of installation BAT file
In-Reply-To: <CAPVtpTCzxkyx8Uh=+-SsF_oLuHcP0Kd+BQV=MEzU2Au3BABOLQ@mail.gmail.com>
References: <CAPVtpTCzxkyx8Uh=+-SsF_oLuHcP0Kd+BQV=MEzU2Au3BABOLQ@mail.gmail.com>
Message-ID: <a30e9613-8c53-fffc-5322-ffe99464b2cf@Rhul.Ac.Uk>

Bill Thomassen wrote:

> *This is a new behavior.? ?I have installed several versions of 
> TeXLive on my primary Windows laptop (running Windows 7), and this is 
> the first time that MalwareBytes Anti-Malware has flagged any part of 
> the TeXLive process.*

Couldn't replicate this with "x\end" using any of XeTeX, PdfTeX or 
LuaTeX, Bill.? What were you doing at the time, and what was the binary 
that MWB flagged up as suspect ?
/Philip Taylor/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200307/2fcc8a7b/attachment.html>

From karl at freefriends.org  Sun Mar  8 01:02:16 2020
From: karl at freefriends.org (Karl Berry)
Date: Sat, 7 Mar 2020 17:02:16 -0700
Subject: LaTeX error when building a file from xindy documentation
In-Reply-To: <EF1C8892-8A5D-4B71-9E3C-B120E9FF9935@free.fr>
Message-ID: <202003080002.02802Gwx016440@freefriends.org>

    turns out the file alphabets-inc.tex contains a control character
    <CTRL-L>enc{T2A} in place of \ienc{T2A}

That's because the LaTeX command being output is \fenc, and
echo '\fenc' was being used in the Makefile to write it, and
echo '\f' is not portable. On your shell (zsh I imagine) it outputs a
form feed instead of the literal \f.

I changed the Makefile[.am,.in] to use printf to write that line,
splitting up the backslash and the f:
printf '\%s{T2A}\n' "fenc"
which seemed to work for me. r54168.

Fortunately there are no other \f (or \n or \r) sequences in echo
commands there, or anywhere in the source tree that I could
find. --best, karl.

From h.y.acetaminophen at gmail.com  Sun Mar  8 02:37:12 2020
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Sun, 8 Mar 2020 10:37:12 +0900
Subject: xdvipdfmx-20200116 : additional q/Q bracket around BT...ET
In-Reply-To: <CAOyMh2pHCoAY2C_y7tf-Hwb7_EMDuA2UB0QtpVWc+pEJsBR-sA@mail.gmail.com>
References: <20200228233031.GA2732@hzdr.de>
 <CAC1phyYN824tFEw9=_QGau-fWevRVdvUzBgEZ7KhCwJ+ueyBvg@mail.gmail.com>
 <CAJCZBmSas+W6bqV3veUrBAGGqzXa+iy3DDiKKBme2Rgo5sq-AA@mail.gmail.com>
 <CAOyMh2ofD515J97OEpWUW8eAmgR0G5Egy4csosopmD2hhayu1Q@mail.gmail.com>
 <CAC1phyZt3+eH_3TL8Wxz99jCtQkngVCm2pCEGEiiiQV1iqUSnw@mail.gmail.com>
 <CAJCZBmQoUZpi3ua-WdVu54XH=uNtXNoiq_0QXmeDTC5FvJu9PQ@mail.gmail.com>
 <CAEW6iOipV7ApBGy4QFy5wF9fvFE1bvxCgWuocm9cDQ5WekfDOQ@mail.gmail.com>
 <CAJCZBmSHKSfM+N8azn0cNzWJPAL3HTrMt+3hh1tXC6-P13RQbw@mail.gmail.com>
 <CAOyMh2p96Cq3pe4BYqv33a8B7P-PHFJ9JPjRfbL3RBFZJorUNA@mail.gmail.com>
 <CAJCZBmQmaFWf5COsWOmB7RU9tu5CarZ4uZd87OwSLtey-OtZzg@mail.gmail.com>
 <CAOyMh2pa2fQeTLT_nQqf-+sdBjFO2c1hbuRnmFioRbrCdE4_QQ@mail.gmail.com>
 <CAJCZBmQWgT6srJmcVZuVPuK9j2Q5CiXX52gPD8aZPRUGvZfQ_g@mail.gmail.com>
 <CAJCZBmTU5Vz66-AmAbGKFC1rP=_Bo+HqV_JoS-TzHJXMXR1Gog@mail.gmail.com>
 <CAOyMh2r=JwVZXBoiBBMiJ2xZFNfc9JP3-Qq65wM-mux6WWSzbw@mail.gmail.com>
 <CAJCZBmSb+Kwo7KGCfUc30Y0b9o4vFZNutV7E8heWmpk13sjAqw@mail.gmail.com>
 <CAOyMh2pHCoAY2C_y7tf-Hwb7_EMDuA2UB0QtpVWc+pEJsBR-sA@mail.gmail.com>
Message-ID: <CAJCZBmQ2jLRQ0-+wo+S4U2nwyMvrvvH_W9Phms0eQFA+T3s6hQ@mail.gmail.com>

Hi,

> > > Anyway you have already reverted my change thus I guess you are
> > > going to commit your change.
> >
> > Not really; the reason why I reverted your change on 2019-06-30 is
> > that adding q-Q bracket would break many existing TeX files in which
> > \special commands had been carefully constructed to work fine with
> > TL2019 xdvipdfmx.  I just didn't like such a change in xdvipdfmx
> > between TL2019 and TL2020.
>
> Currently known problem is only clipping and I don't understand how
> so many TeX files could reply on such feature.

I don't know either, but personally this thread was not the first
time for me to receive questions from users of text clipping.

> > Therefore, I don't want to re-commit your previous change of adding
> > q-Q bracket.  On the other hand, I'd like to follow your decision
> > on whether you accept my "0 Tr" patch or not.
>
> I don't understand why you are going to follow my decision for the
> patch prepared by yourself while the decision to reject my previous
> change was made by yourself alone.

Sorry for reverting changes without contacting to you, but please
also note that it was me who transferred the fake-bold issue to you
in https://tug.org/pipermail/dvipdfmx/2019-June/000014.html.
At that time, it *should have been possible* for me to withstand the
fake-bold issue of xdvipdfmx and think of another way to exploit
\special commands to get correct results.  But, I didn't do so.
Now, we have received some questions from users of text clipping.
This made me realized that any request of changing internal behavior
of xdvipdfmx could affect unrelated users.  I should have been more
careful before asking, and sorry for taking your time.

> If you just want suggestions on the correctness of the patch: There
> are two kind of text. Normal and embolden. For normal text, current
> mode setting should be used. For embolded text, mode "2" is used.
> This patch introduces another bug that modes 1, 2, and 3 don't work
> too when embolen text is used before.
>
> After incorporating the provided patch, even single embolden letter
> newly inserted in the footnote of page 16 would cause a drastic
> change in the rendering of page 345 where Tr is used.

Thanks for your kind suggestions.  I'd like to withdraw my patch.


Regards,
Hironobu

From usenet at siart.de  Sun Mar  8 09:06:47 2020
From: usenet at siart.de (Uwe Siart)
Date: Sun, 08 Mar 2020 09:06:47 +0100
Subject: [prestest] Self-update fails on Win7
Message-ID: <87a74r1d9k.fsf@siart.de>

Hi all,

This is what happenend today:

---
C:\>tlmgr update --self
tlmgr.pl: package repository ftp://ftp.cstug.cz/pub/local/tlpretest (not verified: gpg unavailable)
tlmgr.pl: Preparing TeX Live infrastructure update...
DO NOT CLOSE THIS WINDOW!
TeX Live infrastructure update in progress ...
Detailed command logging to "C:\Programme1\texlive\2020\temp\update-self.log"
failed self update: tlperl.win32 (54074 -> 54166)
Rolling back to previous version ...
self restore: tlperl.win32 (54074)
Infrastructure update failed. Previous version has been restored.
---

>From update-self.log:

---
TL>tlpkg\tlperl\bin\perl.exe .\texmf-dist\scripts\texlive\tlmgr.pl _include_tlpobj tlpkg\tlpobj\tlperl.win32.tlpobj
OLE.c: loadable library and perl binaries are mismatched (got handshake key 01F5D844, needed 00000000)

TL>if errorlevel 1 goto :rollback
---

-- 
Uwe


From jfbu at free.fr  Sun Mar  8 09:29:10 2020
From: jfbu at free.fr (jfbu)
Date: Sun, 8 Mar 2020 09:29:10 +0100
Subject: LaTeX error when building a file from xindy documentation
In-Reply-To: <202003080002.02802Gwx016440@freefriends.org>
References: <202003080002.02802Gwx016440@freefriends.org>
Message-ID: <E57FFF29-0A40-4FCF-B472-CD5552959F82@free.fr>



>   
> echo '\f' is not portable. On your shell (zsh I imagine) it outputs a
> form feed instead of the literal \f.

I considered this but do not handle Makefiles on a daily basis,
(and would need some refresh on their quoting rules for shell commands)
and the echo commands being "echoed" (sic) correctly to my Terminal,
I could check that executing them manually by copy paste worked fine.
(the \f being quoted).

My shell is bash

$ echo $SHELL
/bin/bash


> which seemed to work for me. r54168.

confirmed. 

> Fortunately there are no other \f (or \n or \r) sequences in echo
> commands there, or anywhere in the source tree that I could
> find.

Some 2 additional changes are needed:  two \chapter lines are
missing from the output alphabets-inc.tex file

Indeed

source/utils/xindy/xindy-src/make-rules/alphabets/Makefile.in

contains

	echo '\chapter{Cyrillic scripts}' >>$@

but the \c seems to also create a problem

I replaced this line following your template by

	printf '\%s{Cyrillic scripts}\n' "chapter" >>$@

Similarly

	printf '\%s{Latin scripts}\n' "chapter" >>$@

replaces line 1017 of Makefile.in

	echo '\chapter{Latin scripts}' >>$@

I confirm that after these two changes the tex file does contain
the intended \chapter lines. And the pdflatex run producing
alphabets-doc.pdf completes fine.

Best, Jean-Fran?ois

From usenet at siart.de  Sun Mar  8 09:58:53 2020
From: usenet at siart.de (Uwe Siart)
Date: Sun, 08 Mar 2020 09:58:53 +0100
Subject: [prestest] Self-update fails on Win7
References: <87a74r1d9k.fsf@siart.de>
Message-ID: <875zff1auq.fsf@siart.de>

Uwe Siart <usenet at siart.de> writes:

> failed self update: tlperl.win32 (54074 -> 54166)

Because of this disorder I plucked up courage and did tlmgr update
--force --all, for the first time in my life.

So I noticed that --force does *not* prevent infrastructure. It is only
delayed until the end of all other updates. That is, after the run
fmtutil-sys tlmgr attempted to update infra again, in spite of --force.
Is that intended behaviour? The doc says that --force --all would update
all packages but infra.

-- 
Uwe


From jfbu at free.fr  Sun Mar  8 12:03:46 2020
From: jfbu at free.fr (jfbu)
Date: Sun, 8 Mar 2020 12:03:46 +0100
Subject: LaTeX error when building a file from xindy documentation
In-Reply-To: <202003080002.02802Gwx016440@freefriends.org>
References: <202003080002.02802Gwx016440@freefriends.org>
Message-ID: <2743D59D-9E5C-4354-9778-842A4CA1FFFF@free.fr>


Le 8 mars 2020 ? 01:02, Karl Berry <karl at freefriends.org> a ?crit :

> echo '\f' is not portable. 


I found this ressource

https://www.in-ulm.de/~mascheck/various/echo+printf/




From siepo at bitmuis.nl  Sun Mar  8 12:08:39 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sun, 8 Mar 2020 12:08:39 +0100
Subject: [EXT] Re: [EXT] Re: [EXT] TeXLive 2020 pre-test item:
 MalwareBytes (Windows) flags behavior of installation BAT file
In-Reply-To: <2ef82b35-c577-b948-6144-fb0f4b2afed4@Rhul.Ac.Uk>
References: <CAPVtpTCzxkyx8Uh=+-SsF_oLuHcP0Kd+BQV=MEzU2Au3BABOLQ@mail.gmail.com>
 <7ffc7a69-705f-3225-5a88-4e53fc8b9cb9@Rhul.Ac.Uk>
 <ecfbe68c-bce7-0805-9785-6f69d29e8c57@Rhul.Ac.Uk>
 <20200307212927.GC2442@bitmuis.nl>
 <2ef82b35-c577-b948-6144-fb0f4b2afed4@Rhul.Ac.Uk>
Message-ID: <20200308110839.GA2863@bitmuis.nl>

On Sat, Mar 07, 2020 at 09:36:44PM +0000, Philip Taylor wrote:
> Siep Kroonenberg wrote:
> 
> > So, _in your case_ you can just type
> >    install-tl-windows.bat
> > 
> > Better specify the .bat extension explicitly, because you do not
> > want to use the .exe. But I can see that the phrasing is a bit
> > confusing.
> 
> OK, thank you Siep.? At the moment it is installing as a result of
> /install-tl-windows.bat -repository . -gui/, and I fear that if I interrupt
> it to try /install-tl-windows.bat/ it will not resume from where it was
> interrupted but will start all over again :-(? So for now I will leave it
> running unless you advise me otherwise.? But one other thing puzzled me :?
> where, in the TeX Live installer GUI, is the installation repository
> reported (and optionally changed) ?? I could not see it exposed anywhere,
> and so I have no way of knowing whether it is really installing from my
> Rsynch local repository or from somewhere out in the ether ...

It only displays this information while it is loading the
repository. This was introduced for the case that a mirror is
selected automatically and is non-responsive. Then the user can
explicitly choose another mirror. But if the repository is local and
you have a very fast system, then you might miss it, I guess.

Anyhow, afterwards you can check install-tl.log in the root of the
installation.

-- 
Siep Kroonenberg

From jfbu at free.fr  Sun Mar  8 12:26:16 2020
From: jfbu at free.fr (jfbu)
Date: Sun, 8 Mar 2020 12:26:16 +0100
Subject: LaTeX error when building a file from xindy documentation
In-Reply-To: <2743D59D-9E5C-4354-9778-842A4CA1FFFF@free.fr>
References: <202003080002.02802Gwx016440@freefriends.org>
 <2743D59D-9E5C-4354-9778-842A4CA1FFFF@free.fr>
Message-ID: <AD50D31D-ACC6-4CEA-AACE-D64F4B71B413@free.fr>

I hope I am not bothering too much, but what shell is actually used?

This Makefile

.PHONY: test

test:
	echo -n '\ftest'
	@echo -n '\ftest' > test


behaves this way

$ make test
echo -n '\ftest'
\ftest(base)

which shows the newline is indeed remove from -n (because (base) is some PS1 stuff)
and the \f escape is not interpreted.

However the second line of recipe redirects to test file and the produced test file contains

-n <CTRL-L>test

showing that -n is not recognized and the \f is interpreted as an escape.

I thought perhaps there is a different behaviour between my built-in
echo in bash shell and /bin/echo but there is none.

Then I did this

$ /bin/sh
sh-3.2$ echo -n '\ftest'
-n 
   test
sh-3.2$

showing that -n is not understood and \f escape is interpreted.

Which makes me suspect the explanation is that the Makefile
does not use my default user shell bash, but the sh shell.

Best,
Jean-Fran?ois




From bernhard.kleine at gmx.net  Sun Mar  8 13:25:18 2020
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Sun, 8 Mar 2020 13:25:18 +0100
Subject: Update failur
Message-ID: <8b976ff4-9db8-6680-ce85-10230a545554@gmx.net>

Today, the tlmgr update failed due to missing permission, the
update-tlmgr-latest.exe worked, but then I get this error:

What to do?


-- 
spitzhalde9
D-79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
Ich darf auch auf mein neues Buch "Falter in Lenzkirch" aufmerksam machen 
(Infos bei mir)
-
thunderbird mit enigmail
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200308/413f6ec0/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: odgpnehijlhlgage.png
Type: image/png
Size: 36356 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200308/413f6ec0/attachment-0001.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <https://tug.org/pipermail/tex-live/attachments/20200308/413f6ec0/attachment-0001.sig>

From jfbu at free.fr  Sun Mar  8 15:03:53 2020
From: jfbu at free.fr (jfbu)
Date: Sun, 8 Mar 2020 15:03:53 +0100
Subject: LaTeX error when building a file from xindy documentation
In-Reply-To: <AD50D31D-ACC6-4CEA-AACE-D64F4B71B413@free.fr>
References: <202003080002.02802Gwx016440@freefriends.org>
 <2743D59D-9E5C-4354-9778-842A4CA1FFFF@free.fr>
 <AD50D31D-ACC6-4CEA-AACE-D64F4B71B413@free.fr>
Message-ID: <91A140F0-BC73-49C6-80A8-56F4611B0D6F@free.fr>


> 
> Which makes me suspect the explanation is that the Makefile
> does not use my default user shell bash, but the sh shell.

No, perhaps something having to do with this Makefile test



.PHONY: test

test:
	@echo $$POSIXLY_CORRECT


Then I get

$ make test
y

but when I execute directly in my bash shell.

$ echo $POSIXLY_CORRECT


I get nothing in output (blank line).

I will stop the spam here linking to this extensive discussion

https://unix.stackexchange.com/questions/65803/why-is-printf-better-than-echo/65819#65819

which however does not yet allow me to understand what is really happening

From hanwenn at gmail.com  Sun Mar  8 13:53:44 2020
From: hanwenn at gmail.com (Han-Wen Nienhuys)
Date: Sun, 8 Mar 2020 13:53:44 +0100
Subject: unsafe caching of .fmt files
Message-ID: <CAOw_e7bW0bt6rKUPRC2zQGC24GwB0ZqN6cK7T_fGaZ1T3Z9M6Q@mail.gmail.com>

Hi there,

while building the LilyPond regression test in clean container with
parallelism, I am seeing file corruption errors from reading back TeX
.fmt files.

AFAICT, the various flavors of TeX cache .fmt files in ~/.texlive2019.
This file is re-created when it doesn't exist, but no care is taken
multiple parallel invocations of the same program do not tread on each
others feet. Either some invocations see a half-finished version of
the file, or two invocations write content to the same file.

-- 
Han-Wen Nienhuys - hanwenn at gmail.com - http://www.xs4all.nl/~hanwen

From koch at math.uoregon.edu  Sun Mar  8 16:34:19 2020
From: koch at math.uoregon.edu (Richard Koch)
Date: Sun, 8 Mar 2020 08:34:19 -0700
Subject: Problem in small scheme?
Message-ID: <EC311DD7-F13D-42FC-A7DF-B9BF2B106767@math.uoregon.edu>

I just remade the Macintosh BasicTeX install package, which uses the TeX Live small scheme. The resulting package contains luatex, but in the package lualatex is a symbolic link to luahbtex.

So either the link is wrong, or else the simple scheme should contain luahbtex rather than luatex.

Dick Koch

From P.Taylor at Rhul.Ac.Uk  Sun Mar  8 19:00:06 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 8 Mar 2020 18:00:06 +0000
Subject: [EXT] tl2020 pretest begin
In-Reply-To: <202003030209.02329DPJ025997@freefriends.org>
References: <202003030209.02329DPJ025997@freefriends.org>
Message-ID: <5a8226c6-4c7e-8c52-605e-180c57490e47@Rhul.Ac.Uk>

An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200308/a42c3fe8/attachment.html>

From siepo at bitmuis.nl  Sun Mar  8 19:30:36 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Sun, 8 Mar 2020 19:30:36 +0100
Subject: [EXT] tl2020 pretest begin
In-Reply-To: <5a8226c6-4c7e-8c52-605e-180c57490e47@Rhul.Ac.Uk>
References: <202003030209.02329DPJ025997@freefriends.org>
 <5a8226c6-4c7e-8c52-605e-180c57490e47@Rhul.Ac.Uk>
Message-ID: <20200308183036.GD2863@bitmuis.nl>

On Sun, Mar 08, 2020 at 06:00:06PM +0000, Philip Taylor wrote:
> <html>
>   <head>
>     <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
>   </head>
>   <body text="#000000" bgcolor="#FFFFFF">
>     <br>
>     Odd (?wrong?) string in? TeX Live 2020 pre-test
>     "Install-TL-Windows.bat" :<br>
>     <br>
>     <blockquote type="cite">if %ver_str:~,3% == 6.0 <br>
>       (<br>
>       ? echo WARNING: Windows 7 is the earliest supported version.<br>
>       ? echo TeX Live <i><b>2018</b></i> has not been tested on Windows
>       Vista.<br>
>       ? pause<br>
>       )</blockquote>
>     <br>
>     Philip Taylor<br>
>   </body>
> </html>

Thanks for noticing. This will be fixed.

-- 
Siep Kroonenberg

From luigi.scarso at gmail.com  Sun Mar  8 19:31:32 2020
From: luigi.scarso at gmail.com (luigi scarso)
Date: Sun, 8 Mar 2020 19:31:32 +0100
Subject: tlpretest question for luatex experts
In-Reply-To: <202003072219.027MJDR5013237@freefriends.org>
References: <D543A0C3-4F0E-4E41-98D9-219A56A5B408@math.uoregon.edu>
 <202003072219.027MJDR5013237@freefriends.org>
Message-ID: <CAG5iGsBh91USakgbLpCnSvwhdAk9eSTq4v4nARtcmvctM7CFzg@mail.gmail.com>

On Sat, Mar 7, 2020 at 11:19 PM Karl Berry <karl at freefriends.org> wrote:

>
>             b) Are there short sample programs we can use to check that the
>     binaries work correctly after the exceptions are applied?
>
> I don't have any such test programs. Luigi? --best, karl.
>

At the moment we have under libs/lua53
lua53.test  luaerror.test
where lua53.test check if lua.h exists
and luaerror.test   check if the compiled lua  program exists.

Under
texk/web2c/luatexdir  we have
luaimage.test
luajitimage.test
luajittex.test
luatex.test

where luatex.test check if luatex exists
and luaimage.test is a bit more complex because it checks if some images
are correctly loaded.

So, iiuc, the point is to make a test that checks if a "test.so" is loaded
by luatex, right ?


-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200308/8db4d501/attachment.html>

From karl at freefriends.org  Sun Mar  8 23:25:12 2020
From: karl at freefriends.org (Karl Berry)
Date: Sun, 8 Mar 2020 16:25:12 -0600
Subject: Problem in small scheme?
In-Reply-To: <EC311DD7-F13D-42FC-A7DF-B9BF2B106767@math.uoregon.edu>
Message-ID: <202003082225.028MPCIX026307@freefriends.org>

Thanks for the report. It is correct that lualatex is a link to luahbtex.
It is also correct that texlua* is a link to luatex.
So I think basictex (aka scheme-small) requires both.

I moved luahbtex to collection-basic, where it will be picked up by
scheme-small. It's not ideal, but it seemed the least bad option. -k

From karl at freefriends.org  Sun Mar  8 23:56:10 2020
From: karl at freefriends.org (Karl Berry)
Date: Sun, 8 Mar 2020 16:56:10 -0600
Subject: unsafe caching of .fmt files
In-Reply-To: <CAOw_e7bW0bt6rKUPRC2zQGC24GwB0ZqN6cK7T_fGaZ1T3Z9M6Q@mail.gmail.com>
Message-ID: <202003082256.028MuAOp027245@freefriends.org>

Hi Han-Wen - neither fmt generation nor any other runtime generation has
ever been parallel-safe. Even if I added locking to mktexfmt (I guess
you are making use of the dynamic fmt creation), something I am not at
all anxious to do, the failed simultaneous runs that would result
doesn't sound like a good outcome for you.

Instead, I think you need to generate the formats you need before
starting the parallelism, either with multiple mktexfmt foo.fmt calls or
fmtutil-user <something> (or fmtutil-sys, but if you want ~/.texlive2019
to be used instead of /usr/local/texlive/... or whatever, that sounds
like fmtutil-user), depending on your needs.

Indeed, in this situation, I also suggest that you explicitly disable
any mktex* creation.
MKTEXFMT=0; export MKTEXFMT;
MKTEXTFM=0; export MKTEXTFM;
MKTEXMF=0; export MKTEXMF;
MKTEXPK=0; export MKTEXPK

Alternative: you could set TEXMFVAR or TEXMFSYSVAR to a per-process
directory. But then every TeX run will need to create its own .fmt,
which sounds like an awful waste of time. --best, karl.

From karl at freefriends.org  Sun Mar  8 23:56:11 2020
From: karl at freefriends.org (Karl Berry)
Date: Sun, 8 Mar 2020 16:56:11 -0600
Subject: LaTeX error when building a file from xindy documentation
In-Reply-To: <AD50D31D-ACC6-4CEA-AACE-D64F4B71B413@free.fr>
Message-ID: <202003082256.028MuBIO027253@freefriends.org>

    I hope I am not bothering too much, but what shell is actually used?

/bin/sh. (It's possible, though usually undesirable, to override, but
indeed, the SHELL envvar is not used.)

    two \chapter lines are missing 

Frustrating. I inserted those changes too. --thanks, karl.

From w.m.l at gmx.net  Mon Mar  9 01:57:56 2020
From: w.m.l at gmx.net (Robert)
Date: Mon, 9 Mar 2020 01:57:56 +0100
Subject: macOS Sierra
Message-ID: <r444at$h6b$1@ciao.gmane.io>

Hi,

on the pretest page it says that the binaries in x86_64-darwin require 
macOS 10.13 or higher. However, I'm on macOS 10.12.6, and I'm able to 
run the binaries both in x86_64-darwin and x86_64-darwinlegacy. Is this 
expected? And which should I use (if it matters at all)?

Best,
-- 
  Robert


From usenet at siart.de  Mon Mar  9 07:34:19 2020
From: usenet at siart.de (Uwe Siart)
Date: Mon, 09 Mar 2020 07:34:19 +0100
Subject: [prestest] Self-update fails on Win7
References: <87a74r1d9k.fsf@siart.de>
Message-ID: <871rq211g4.fsf@siart.de>

Uwe Siart <usenet at siart.de> writes:

> failed self update: tlperl.win32 (54074 -> 54166)

self update: tlperl.win32 (54074 -> 54174)

worked fine today.

Thanks
Uwe


From hanwenn at gmail.com  Mon Mar  9 09:38:10 2020
From: hanwenn at gmail.com (Han-Wen Nienhuys)
Date: Mon, 9 Mar 2020 09:38:10 +0100
Subject: unsafe caching of .fmt files
In-Reply-To: <202003082256.028MuAOp027245@freefriends.org>
References: <CAOw_e7bW0bt6rKUPRC2zQGC24GwB0ZqN6cK7T_fGaZ1T3Z9M6Q@mail.gmail.com>
 <202003082256.028MuAOp027245@freefriends.org>
Message-ID: <CAOw_e7Yq1be6OohOb_0cDQJ236V4DH3Ge2K1egRr0yi=NzG+Lw@mail.gmail.com>

On Sun, Mar 8, 2020 at 11:56 PM Karl Berry <karl at freefriends.org> wrote:
>
> Hi Han-Wen - neither fmt generation nor any other runtime generation has
> ever been parallel-safe. Even if I added locking to mktexfmt (I guess
> you are making use of the dynamic fmt creation), something I am not at
> all anxious to do, the failed simultaneous runs that would result
> doesn't sound like a good outcome for you.

I'm trying to suggest

  write fmt to temp file; close
  rename temp file to destination

in a parallel situation, this will do double work, but the final
cached file will be correct.

> Instead, I think you need to generate the formats you need before
> starting the parallelism, either with multiple mktexfmt foo.fmt calls or
> fmtutil-user <something> (or fmtutil-sys, but if you want ~/.texlive2019
> to be used instead of /usr/local/texlive/... or whatever, that sounds
> like fmtutil-user), depending on your needs.

Thanks for the advice, but I can work around it. It did cost me an
hour or so to debug, and I am reporting this problem so others don't
have to spend the same amount of time.

-- 
Han-Wen Nienhuys - hanwenn at gmail.com - http://www.xs4all.nl/~hanwen

From P.Taylor at Rhul.Ac.Uk  Mon Mar  9 13:07:45 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 9 Mar 2020 12:07:45 +0000
Subject: [EXT] tl2020 pretest begin (action `platform' not supported on
 Windows)
In-Reply-To: <202003030209.02329DPJ025997@freefriends.org>
References: <202003030209.02329DPJ025997@freefriends.org>
Message-ID: <ca8aa732-001e-52ed-51aa-c863145c4f82@Rhul.Ac.Uk>

To try to identify the cause of the reported identification by 
Malwarebytes of something suspect in TeX Live 2020 (pre-test), I 
r-synch'd the Netherlands repository, installed from there, and was 
unable to reproduce the problem.? I updated my r-synch'd repository 
yesterday & today, and today for the first time asked the TeX Live 2020 
manager to load this repository.? I was told :

> start load C:/TeX/Live/2020/Local/Repository
> finish load C:/TeX/Live/2020/Local/Repository
> action `platform' not supported on Windows
> Done loading

What does "action `platform' not supported on Windows" mean, and will 
this cause problems ?

/Philip Taylor/

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200309/38312c96/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Mon Mar  9 13:10:27 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 9 Mar 2020 12:10:27 +0000
Subject: [EXT] Re: [EXT] tl2020 pretest begin (action `platform' not
 supported on Windows)
In-Reply-To: <ca8aa732-001e-52ed-51aa-c863145c4f82@Rhul.Ac.Uk>
References: <202003030209.02329DPJ025997@freefriends.org>
 <ca8aa732-001e-52ed-51aa-c863145c4f82@Rhul.Ac.Uk>
Message-ID: <924a970c-77b1-dfe2-6cf4-dd26987a54e5@Rhul.Ac.Uk>

Philip Taylor wrote:

> What does "action `platform' not supported on Windows" mean, and will 
> this cause problems ?

It would seem "yes, it [or perhaps something else] does cause 
problems".? On asking it to "Update all", I was told :

> ERROR

/Philip Taylor/

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200309/9c75b7c3/attachment.html>

From koch at math.uoregon.edu  Mon Mar  9 14:51:33 2020
From: koch at math.uoregon.edu (Richard Koch)
Date: Mon, 9 Mar 2020 06:51:33 -0700
Subject: macOS Sierra
Message-ID: <774BDDF4-34C9-491D-9826-91E032586CA3@math.uoregon.edu>

Robert,

If you install using the TeX Live Unix script on Sierra, you will get the x86_64-darwinlegacy binaries. If you try to install MacTeX on Sierra, it will refuse to install. The x86_64-darwin binaries are compiled on High Sierra. If they work for you on Sierra, fine, but that is not something we will test.

Richard Koch

From siepo at bitmuis.nl  Mon Mar  9 16:19:15 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Mon, 9 Mar 2020 16:19:15 +0100
Subject: [EXT] Re: [EXT] tl2020 pretest begin (action `platform' not
 supported on Windows)
In-Reply-To: <924a970c-77b1-dfe2-6cf4-dd26987a54e5@Rhul.Ac.Uk>
References: <202003030209.02329DPJ025997@freefriends.org>
 <ca8aa732-001e-52ed-51aa-c863145c4f82@Rhul.Ac.Uk>
 <924a970c-77b1-dfe2-6cf4-dd26987a54e5@Rhul.Ac.Uk>
Message-ID: <20200309151915.GA2448@bitmuis.nl>

On Mon, Mar 09, 2020 at 12:10:27PM +0000, Philip Taylor wrote:
> Philip Taylor wrote:
> 
> > What does "action `platform' not supported on Windows" mean, and will
> > this cause problems ?

Probably not.

> It would seem "yes, it [or perhaps something else] does cause problems".? On
> asking it to "Update all", I was told :
> 
> > ERROR

Try again tomorrow.

-- 
Siep Kroonenberg

From P.Taylor at Rhul.Ac.Uk  Mon Mar  9 16:46:49 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 9 Mar 2020 15:46:49 +0000
Subject: [EXT] Re: [EXT] Re: [EXT] tl2020 pretest begin (action `platform'
 not supported on Windows)
In-Reply-To: <20200309151915.GA2448@bitmuis.nl>
References: <202003030209.02329DPJ025997@freefriends.org>
 <ca8aa732-001e-52ed-51aa-c863145c4f82@Rhul.Ac.Uk>
 <924a970c-77b1-dfe2-6cf4-dd26987a54e5@Rhul.Ac.Uk>
 <20200309151915.GA2448@bitmuis.nl>
Message-ID: <4fac2fea-3f07-af26-2e95-4ae847d561fd@Rhul.Ac.Uk>

Siep Kroonenberg wrote:

>> It would seem "yes, it [or perhaps something else] does cause problems".? On
>> asking it to "Update all", I was told :
>>
>>> ERROR
> Try again tomorrow.

How will this help, Siep ?? If I cannot perform an "Update all" today, 
how will I be able to perform an "Update all" tomorrow, since by 
definition I will be using exactly the same instantiation of the TeX 
Live manager as I am using today (because I cannot update it) ? Or is 
the suggestion that if I re-r-synch tomorrow, my local repository will 
then be more acceptable to the current TeX Live manager than it is today 
? And if the latter is the case, what is the problem with today's copy ?

/Philip Taylor/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200309/1bb98b76/attachment.html>

From andreas_tex at freenet.de  Mon Mar  9 16:50:23 2020
From: andreas_tex at freenet.de (Andreas Scherer)
Date: Mon, 9 Mar 2020 16:50:23 +0100
Subject: macOS Sierra
Message-ID: <61d31686-f017-228b-389f-af1fe73694f0@freenet.de>

Richard,

At work I'm also stuck with macOS 10.12 Sierra for the time being.  One
first TL2020 binary from 'Master/bin/x86_64-darwin/' worked fine.

I'm confident that there'll be a way to re-configure TL2019 to pick up
packages for TL2020.  The _very_ few binaries I'm using regularly
(pdftex, ctangle, cweave, maybe ctwill) would be copied from 'Master'
after release.

I'll try to report in the summer how this works out.

Andreas

From siepo at bitmuis.nl  Mon Mar  9 17:22:40 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Mon, 9 Mar 2020 17:22:40 +0100
Subject: [EXT] Re: [EXT] Re: [EXT] tl2020 pretest begin (action
 `platform' not supported on Windows)
In-Reply-To: <4fac2fea-3f07-af26-2e95-4ae847d561fd@Rhul.Ac.Uk>
References: <202003030209.02329DPJ025997@freefriends.org>
 <ca8aa732-001e-52ed-51aa-c863145c4f82@Rhul.Ac.Uk>
 <924a970c-77b1-dfe2-6cf4-dd26987a54e5@Rhul.Ac.Uk>
 <20200309151915.GA2448@bitmuis.nl>
 <4fac2fea-3f07-af26-2e95-4ae847d561fd@Rhul.Ac.Uk>
Message-ID: <20200309162240.GB2448@bitmuis.nl>

On Mon, Mar 09, 2020 at 03:46:49PM +0000, Philip Taylor wrote:
> Siep Kroonenberg wrote:
> 
> > > It would seem "yes, it [or perhaps something else] does cause problems".? On
> > > asking it to "Update all", I was told :
> > > 
> > > > ERROR
> > Try again tomorrow.
> 
> How will this help, Siep ?? If I cannot perform an "Update all" today, how
> will I be able to perform an "Update all" tomorrow, since by definition I
> will be using exactly the same instantiation of the TeX Live manager as I am
> using today (because I cannot update it) ? Or is the suggestion that if I
> re-r-synch tomorrow, my local repository will then be more acceptable to the
> current TeX Live manager than it is today ? And if the latter is the case,
> what is the problem with today's copy ?

Run update-tlmgr-latest.exe which is in the root of the rsync
repository.

If that does not work, manually replace the tlperl from the
installation with the tlperl from the rsync repository, <rsync
root>/tlpkg/tlperl.

This will put back a perl module which I want to remove eventually,
but first a required change in the infrastructure must come through.

Let me know how it goes.

-- 
Siep Kroonenberg

From koch at math.uoregon.edu  Mon Mar  9 20:15:25 2020
From: koch at math.uoregon.edu (Richard Koch)
Date: Mon, 9 Mar 2020 12:15:25 -0700
Subject: macOSSierra
Message-ID: <43D74167-34B1-4B00-8FEA-29FA7EEA2689@math.uoregon.edu>

Andreas' response reminds me to add one more comment. While the TeX Live Unix Install Script will default to the legacy binaries on Sierra, this script allows users to install more than one set of binaries. So it is easy to also install the x86_64-darwin binaries. Both sets of binaries are included on the DVD, so Mac users who install using the DVD have easy access to both sets of binaries.

Dick Koch

From P.Taylor at Rhul.Ac.Uk  Mon Mar  9 21:00:22 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 9 Mar 2020 20:00:22 +0000
Subject: [EXT] tl2020 pretest begin (action `platform' not supported on
 Windows)
In-Reply-To: <20200309162240.GB2448@bitmuis.nl>
References: <202003030209.02329DPJ025997@freefriends.org>
 <ca8aa732-001e-52ed-51aa-c863145c4f82@Rhul.Ac.Uk>
 <924a970c-77b1-dfe2-6cf4-dd26987a54e5@Rhul.Ac.Uk>
 <20200309151915.GA2448@bitmuis.nl>
 <4fac2fea-3f07-af26-2e95-4ae847d561fd@Rhul.Ac.Uk>
 <20200309162240.GB2448@bitmuis.nl>
Message-ID: <33834170-84d6-8e04-84aa-ed9b4a582b2b@Rhul.Ac.Uk>

Siep Kroonenberg wrote:

> Run update-tlmgr-latest.exe which is in the root of the rsync
> repository.

OK, that appeared to run successfully, but I could find no way of 
copying the console window so that I could report its contents here.? 
And that cured the 'platform not supported' error, but not the ERROR 
error.? So I will now try :

> If that does not work, manually replace the tlperl from the
> installation with the tlperl from the rsync repository, <rsync
> root>/tlpkg/tlperl.
>
> This will put back a perl module which I want to remove eventually,
> but first a required change in the infrastructure must come through.
>
> Let me know how it goes.

/Philip Taylor/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200309/f6ab221c/attachment-0001.html>

From P.Taylor at Rhul.Ac.Uk  Mon Mar  9 21:09:37 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 9 Mar 2020 20:09:37 +0000
Subject: [EXT] tl2020 pretest begin (action `platform' not supported on
 Windows)
In-Reply-To: <33834170-84d6-8e04-84aa-ed9b4a582b2b@Rhul.Ac.Uk>
References: <202003030209.02329DPJ025997@freefriends.org>
 <ca8aa732-001e-52ed-51aa-c863145c4f82@Rhul.Ac.Uk>
 <924a970c-77b1-dfe2-6cf4-dd26987a54e5@Rhul.Ac.Uk>
 <20200309151915.GA2448@bitmuis.nl>
 <4fac2fea-3f07-af26-2e95-4ae847d561fd@Rhul.Ac.Uk>
 <20200309162240.GB2448@bitmuis.nl>
 <33834170-84d6-8e04-84aa-ed9b4a582b2b@Rhul.Ac.Uk>
Message-ID: <c4bf72dd-0462-56a9-a2ac-cb064698779d@Rhul.Ac.Uk>

Philip Taylor wrote:

> So I will now try :
>
>> If that does not work, manually replace the tlperl from the
>> installation with the tlperl from the rsync repository, <rsync
>> root>/tlpkg/tlperl.
>>
>> This will put back a perl module which I want to remove eventually,
>> but first a required change in the infrastructure must come through.
>>
>> Let me know how it goes.

No difference.? Still ERROR on "Update all".? And deleting the old 
"tlperl" hierarchy was non-trivial; I had to accept UAC prompts, but 
then it told me that I needed permission from myself, which it appeared 
not to have, so in the end I had to delete nested contents before I 
could eventually delete the directories themselves ...

/Philip Taylor/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200309/3dc51e38/attachment.html>

From siepo at bitmuis.nl  Mon Mar  9 21:44:30 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Mon, 9 Mar 2020 21:44:30 +0100
Subject: [EXT] tl2020 pretest begin (action `platform' not supported on
 Windows)
In-Reply-To: <c4bf72dd-0462-56a9-a2ac-cb064698779d@Rhul.Ac.Uk>
References: <202003030209.02329DPJ025997@freefriends.org>
 <ca8aa732-001e-52ed-51aa-c863145c4f82@Rhul.Ac.Uk>
 <924a970c-77b1-dfe2-6cf4-dd26987a54e5@Rhul.Ac.Uk>
 <20200309151915.GA2448@bitmuis.nl>
 <4fac2fea-3f07-af26-2e95-4ae847d561fd@Rhul.Ac.Uk>
 <20200309162240.GB2448@bitmuis.nl>
 <33834170-84d6-8e04-84aa-ed9b4a582b2b@Rhul.Ac.Uk>
 <c4bf72dd-0462-56a9-a2ac-cb064698779d@Rhul.Ac.Uk>
Message-ID: <20200309204430.GE2448@bitmuis.nl>

On Mon, Mar 09, 2020 at 08:09:37PM +0000, Philip Taylor wrote:
> Philip Taylor wrote:
> 
> > So I will now try :
> > 
> > > If that does not work, manually replace the tlperl from the
> > > installation with the tlperl from the rsync repository, <rsync
> > > root>/tlpkg/tlperl.
> > > 
> > > This will put back a perl module which I want to remove eventually,
> > > but first a required change in the infrastructure must come through.
> > > 
> > > Let me know how it goes.
> 
> No difference.? Still ERROR on "Update all".? And deleting the old "tlperl"
> hierarchy was non-trivial; I had to accept UAC prompts, but then it told me
> that I needed permission from myself, which it appeared not to have, so in
> the end I had to delete nested contents before I could eventually delete the
> directories themselves ...

The horrors of UAC and NTFS permissions... It might have been simpler
just to rename tlperl.

Do you _need_ an admin install?

The module concerned consists of the following files:

<root>\tlpkg\tlperl\site\lib\auto\Win32\OLE\OLE.dll
<root>\tlpkg\tlperl\site\lib\OLE.pm
<root>\tlpkg\tlperl\site\lib\Win32\OLE.pm
<root>\tlpkg\tlperl\site\lib\Win32\OLE\Const.pm
<root>\tlpkg\tlperl\site\lib\Win32\OLE\Enum.pm
<root>\tlpkg\tlperl\site\lib\Win32\OLE\Lite.pm
<root>\tlpkg\tlperl\site\lib\Win32\OLE\NEWS.pod
<root>\tlpkg\tlperl\site\lib\Win32\OLE\NLS.pm
<root>\tlpkg\tlperl\site\lib\Win32\OLE\TPJ.pod
<root>\tlpkg\tlperl\site\lib\Win32\OLE\TypeInfo.pm
<root>\tlpkg\tlperl\site\lib\Win32\OLE\Variant.pm

Are these present?

-- 
Siep Kroonenberg

From P.Taylor at Rhul.Ac.Uk  Mon Mar  9 22:07:16 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 9 Mar 2020 21:07:16 +0000
Subject: [EXT] tl2020 pretest begin (action `platform' not supported on
 Windows)
In-Reply-To: <20200309204430.GE2448@bitmuis.nl>
References: <202003030209.02329DPJ025997@freefriends.org>
 <ca8aa732-001e-52ed-51aa-c863145c4f82@Rhul.Ac.Uk>
 <924a970c-77b1-dfe2-6cf4-dd26987a54e5@Rhul.Ac.Uk>
 <20200309151915.GA2448@bitmuis.nl>
 <4fac2fea-3f07-af26-2e95-4ae847d561fd@Rhul.Ac.Uk>
 <20200309162240.GB2448@bitmuis.nl>
 <33834170-84d6-8e04-84aa-ed9b4a582b2b@Rhul.Ac.Uk>
 <c4bf72dd-0462-56a9-a2ac-cb064698779d@Rhul.Ac.Uk>
 <20200309204430.GE2448@bitmuis.nl>
Message-ID: <3c22baa6-6922-10dd-a842-ee06e47ae2ee@Rhul.Ac.Uk>

Siep Kroonenberg wrote:

> The horrors of UAC and NTFS permissions... It might have been simpler
> just to rename tlperl.

True.


> Do you _need_ an admin install?

Well, in the Windows world, when one is installing a program for all 
users, one installs it as (an) administrator, which ensures that it 
/really/ goes into C:\Program files [(x86)] and not into some hidden 
directory which pretends to be C:\Program files [(x86)] for the current 
user but which is complete invisible to all other users.? Now as far as 
I know, TeX Live does not try to insert anything into C:\Program files 
[(x86)], but the idea of installing for all users as (an) administator 
is so deeply ingrained that I did not consider for a second that I might 
install TeX Live as myself. And to be honest, I don't /want /to install 
it as myself.? I could, I suppose, create a TeX Live user, and install 
it as that, and I will do that if you recommend that I should.? But the 
TeX Live hierarchy should most certainly not be owned by me, or by any 
"real" user for that matter.

> The module concerned consists of the following files:
>
> <root>\tlpkg\tlperl\site\lib\auto\Win32\OLE\OLE.dll
> <root>\tlpkg\tlperl\site\lib\OLE.pm
> <root>\tlpkg\tlperl\site\lib\Win32\OLE.pm
> <root>\tlpkg\tlperl\site\lib\Win32\OLE\Const.pm
> <root>\tlpkg\tlperl\site\lib\Win32\OLE\Enum.pm
> <root>\tlpkg\tlperl\site\lib\Win32\OLE\Lite.pm
> <root>\tlpkg\tlperl\site\lib\Win32\OLE\NEWS.pod
> <root>\tlpkg\tlperl\site\lib\Win32\OLE\NLS.pm
> <root>\tlpkg\tlperl\site\lib\Win32\OLE\TPJ.pod
> <root>\tlpkg\tlperl\site\lib\Win32\OLE\TypeInfo.pm
> <root>\tlpkg\tlperl\site\lib\Win32\OLE\Variant.pm
>
> Are these present?

Indeed they do, as far as I can tell.? See below :

> C:\TeX\Live\2020>dir tlpkg\tlperl\site\lib\auto\Win32\OLE
> ?Volume in drive C is SSD 0 (Win 7 system partition)
> ?Volume Serial Number is 9A53-7E13
>
> ?Directory of C:\TeX\Live\2020\tlpkg\tlperl\site\lib\auto\Win32\OLE
>
> 09/03/2020? 20:03??? <DIR>????????? .
> 09/03/2020? 20:03??? <DIR>????????? ..
> 08/03/2020? 17:43?????????????? 415 .packlist
> 08/03/2020? 17:43?????????? 135,168 OLE.dll
> ?????????????? 2 File(s)??????? 135,583 bytes
> ?????????????? 2 Dir(s)? 34,494,423,040 bytes free
>
> C:\TeX\Live\2020>dir tlpkg\tlperl\site\lib\OLE.pm
> ?Volume in drive C is SSD 0 (Win 7 system partition)
> ?Volume Serial Number is 9A53-7E13
>
> ?Directory of C:\TeX\Live\2020\tlpkg\tlperl\site\lib
>
> 08/03/2020? 17:43???????????? 4,379 OLE.pm
> ?????????????? 1 File(s)????????? 4,379 bytes
> ?????????????? 0 Dir(s)? 34,494,377,984 bytes free
>
> C:\TeX\Live\2020>dir tlpkg\tlperl\site\lib\Win32\OLE
> ?Volume in drive C is SSD 0 (Win 7 system partition)
> ?Volume Serial Number is 9A53-7E13
>
> ?Directory of C:\TeX\Live\2020\tlpkg\tlperl\site\lib\Win32\OLE
>
> 09/03/2020? 20:03??? <DIR>????????? .
> 09/03/2020? 20:03??? <DIR>????????? ..
> 08/03/2020? 17:43???????????? 6,234 Const.pm
> 08/03/2020? 17:43???????????? 2,744 Enum.pm
> 08/03/2020? 17:43???????????? 6,096 Lite.pm
> 08/03/2020? 17:43??????????? 12,714 NEWS.pod
> 08/03/2020? 17:43??????????? 31,034 NLS.pm
> 08/03/2020? 17:43??????????? 30,692 TPJ.pod
> 08/03/2020? 17:43??????????? 14,758 TypeInfo.pm
> 08/03/2020? 17:43??????????? 18,380 Variant.pm
> ?????????????? 8 File(s)??????? 122,652 bytes
> ?????????????? 2 Dir(s)? 34,494,386,176 bytes free
>
> C:\TeX\Live\2020>

>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200309/07ebcc7b/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Mon Mar  9 22:31:40 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 9 Mar 2020 21:31:40 +0000
Subject: [EXT] Re: [EXT] tl2020 pretest begin (action `platform' not
 supported on Windows)
In-Reply-To: <3c22baa6-6922-10dd-a842-ee06e47ae2ee@Rhul.Ac.Uk>
References: <202003030209.02329DPJ025997@freefriends.org>
 <ca8aa732-001e-52ed-51aa-c863145c4f82@Rhul.Ac.Uk>
 <924a970c-77b1-dfe2-6cf4-dd26987a54e5@Rhul.Ac.Uk>
 <20200309151915.GA2448@bitmuis.nl>
 <4fac2fea-3f07-af26-2e95-4ae847d561fd@Rhul.Ac.Uk>
 <20200309162240.GB2448@bitmuis.nl>
 <33834170-84d6-8e04-84aa-ed9b4a582b2b@Rhul.Ac.Uk>
 <c4bf72dd-0462-56a9-a2ac-cb064698779d@Rhul.Ac.Uk>
 <20200309204430.GE2448@bitmuis.nl>
 <3c22baa6-6922-10dd-a842-ee06e47ae2ee@Rhul.Ac.Uk>
Message-ID: <50c7797f-4203-e74e-1ac9-badba8c14ad9@Rhul.Ac.Uk>

Philip Taylor wrote:

> I could, I suppose, create a TeX Live user, and install it as that, 
> and I will do that if you recommend that I should. 

Well, that idea also failed.? I created a user "TeX Live", re-ownered 
everything under C:\TeX\Live\2020 and C:\TeX\Live\TeX-MF to "TeX Live", 
then started "tlshell.exe" as "TeX Live" :

> C:\TeX\Live\2020\bin\win32>runas /user:"TeX Live" tlshell
> Enter the password for TeX Live:
> Attempting to start tlshell as user "FUJITSU-CELSIUS\TeX Live" ...

Again, ERROR on "Update all".

/Philip Taylor/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200309/aa2b8752/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Mon Mar  9 22:36:14 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 9 Mar 2020 21:36:14 +0000
Subject: [EXT] tl2020 pretest begin (action `platform' not supported on
 Windows)
In-Reply-To: <50c7797f-4203-e74e-1ac9-badba8c14ad9@Rhul.Ac.Uk>
References: <202003030209.02329DPJ025997@freefriends.org>
 <ca8aa732-001e-52ed-51aa-c863145c4f82@Rhul.Ac.Uk>
 <924a970c-77b1-dfe2-6cf4-dd26987a54e5@Rhul.Ac.Uk>
 <20200309151915.GA2448@bitmuis.nl>
 <4fac2fea-3f07-af26-2e95-4ae847d561fd@Rhul.Ac.Uk>
 <20200309162240.GB2448@bitmuis.nl>
 <33834170-84d6-8e04-84aa-ed9b4a582b2b@Rhul.Ac.Uk>
 <c4bf72dd-0462-56a9-a2ac-cb064698779d@Rhul.Ac.Uk>
 <20200309204430.GE2448@bitmuis.nl>
 <3c22baa6-6922-10dd-a842-ee06e47ae2ee@Rhul.Ac.Uk>
 <50c7797f-4203-e74e-1ac9-badba8c14ad9@Rhul.Ac.Uk>
Message-ID: <bae66dcc-0742-d60c-dc0d-dfecdd9792f6@Rhul.Ac.Uk>

Philip Taylor wrote:

> Again, ERROR on "Update all".

and ? ditto ? using shift/right-click/run as different user on the TeX 
Live 2020/TeX Live Manager shortcut in the "Start" menu.

From reinhard.kotucha at web.de  Mon Mar  9 22:54:24 2020
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 9 Mar 2020 22:54:24 +0100
Subject: [EXT] tl2020 pretest begin (action `platform' not supported on
 Windows)
In-Reply-To: <ca8aa732-001e-52ed-51aa-c863145c4f82@Rhul.Ac.Uk>
References: <202003030209.02329DPJ025997@freefriends.org>
 <ca8aa732-001e-52ed-51aa-c863145c4f82@Rhul.Ac.Uk>
Message-ID: <24166.47888.244420.68128@gargle.gargle.HOWL>

On 2020-03-09 at 12:07:45 +0000, Philip Taylor wrote:

 > What does "action `platform' not supported on Windows" mean, and
 > will this cause problems ?

tlmgr's action "platform" allows you to install binaries for other
platforms, for instance

  tlmgr platform add i386-linux

But this doesn't work under Windows because the symlinks can't be
created.  But I don't know why you got this message.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From P.Taylor at Rhul.Ac.Uk  Mon Mar  9 23:17:38 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Mon, 9 Mar 2020 22:17:38 +0000
Subject: [EXT] Re: [EXT] tl2020 pretest begin (action `platform' not
 supported on Windows)
In-Reply-To: <24166.47888.244420.68128@gargle.gargle.HOWL>
References: <202003030209.02329DPJ025997@freefriends.org>
 <ca8aa732-001e-52ed-51aa-c863145c4f82@Rhul.Ac.Uk>
 <24166.47888.244420.68128@gargle.gargle.HOWL>
Message-ID: <0b82d0e0-c8a1-6a86-188f-c105edaf0f57@Rhul.Ac.Uk>

Reinhard Kotucha wrote:
> tlmgr's action "platform" allows you to install binaries for other
> platforms, for instance
>
>    tlmgr platform add i386-linux
>
> But this doesn't work under Windows because the symlinks can't be
> created.  But I don't know why you got this message.

Thank you, Reinhard ? all understood.? Nor do I understand why I 
initially received it, and no longer do.
** Phil.

From alessi at robertalessi.net  Tue Mar 10 10:13:14 2020
From: alessi at robertalessi.net (Robert Alessi)
Date: Tue, 10 Mar 2020 10:13:14 +0100
Subject: tlshell failure on x86_64-linux
Message-ID: <20200310091314.GA3736@robertalessi.net>

Hello,

I just tried to launch tlshell on pretest as a normal user, but I got
the following instead.  Everything else works perfectly so far.

---------------------%>---------------------
$ tlshell
Error in startup script: couldn't open "/usr/local/texlive/2020/1135": permission denied
    while executing
"open $newfile w"
    invoked from within
"if [file exists $newfile] {
      continue
    } else {
      set fid [open $newfile w]
      chan close $fid
      if [file exists $newfile] {
      ..."
    (procedure "dir_writable" line 5)
    invoked from within
"dir_writable $::instroot"
    (procedure "initialize" line 64)
    invoked from within
"initialize"
    (file "/usr/local/texlive/2020/bin/x86_64-linux/tlshell" line 2422)
---------------------%>---------------------

Best,

Robert

From michael.osipov at siemens.com  Tue Mar 10 09:30:55 2020
From: michael.osipov at siemens.com (Osipov, Michael)
Date: Tue, 10 Mar 2020 09:30:55 +0100
Subject: [TL 2020] asy executables on FreeBSD
Message-ID: <6a905806-35d7-0463-92dd-305060693590@siemens.com>

Folks,

this resource [1] mentions that Nelson Beebe provides the build of asy 
for FreeBSD. I wrote to Nelson and he does not. It is coming from 
elsewhere. Can someone eithe remove that information or add the proper 
originator? Is it Nikola Le?i??

> On my FreeBSD 12.1 x86_64 system, I find
> 
> 	% ldd /usr/uumath/texlive/2020/bin/amd64-freebsd/asy | fgrep stdc+
>         libstdc++.so.6 => /usr/local/lib/gcc10/libstdc++.so.6 (0x800ba2000)
> 
> I didn't build that one.

Another issue with asy, it requires libstdc++ from GCC dynamically. It 
force everyone to install the entire GCC chain which is annoying.

Following Nelson's advise:

> My build-texlive-2020.sh script starts by setting
> 
> 	CXXFLAGS            = -std=c++11 -static-libstdc++
> 
> The -lstdc++ library has been a huge nuisance for packagers of binary
> executables, because it is highly compiler release dependent.  In all
> of my work with C++, I therefore use the g++/clang++ flag
> -static-libstdc++, so that the executable embeds any needed code from
> that library.

Can someone trigger the originator to embed the library or link against 
LLVM c++ from base unless there is hard requirement for GCC?

Michael

[1] https://github.com/TeX-Live/texlive-source/blob/trunk/README#L51

From herbs at wideopenwest.com  Tue Mar 10 14:13:41 2020
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Tue, 10 Mar 2020 08:13:41 -0500
Subject: removal of packages this morning
Message-ID: <3FEA35EE-F09F-4185-A030-30D73831BC3D@wideopenwest.com>

Howdy,

Is there a reason that the tkz-(fct, linknodes, kiviat, berge, graph and tab) packages were removed from today's update of TeX Live 2020 pretest?

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)



From mojca.miklavec.lists at gmail.com  Tue Mar 10 14:15:20 2020
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Tue, 10 Mar 2020 14:15:20 +0100
Subject: [TL 2020] asy executables on FreeBSD
In-Reply-To: <6a905806-35d7-0463-92dd-305060693590@siemens.com>
References: <6a905806-35d7-0463-92dd-305060693590@siemens.com>
Message-ID: <CALBOmsbk-hP9r7QbA8ss=K-F0kxda1wcRCLLVE-0Jakkx6eZWQ@mail.gmail.com>

On Tue, 10 Mar 2020 at 13:25, Osipov, Michael wrote:
>
> Folks,
>
> this resource [1] mentions that Nelson Beebe provides the build of asy
> for FreeBSD. I wrote to Nelson and he does not. It is coming from
> elsewhere. Can someone eithe remove that information or add the proper
> originator?

This commit
    http://tug.org/svn/texlive/trunk/Master/bin/amd64-freebsd/asy?view=log
says
    asy for amd64-freebsd from Nelson, amd64-freebsd13-gcc.tar.xz

So at least the two seem consistent.

I didn't have much time earlier, so Karl took the existing binaries.

I tried to build my own version on FreeBSD with clang++ and using
static libraries for as much as possible, but there's one last
building block missing, namely proper support for OpenGL via freeglut.
If I manage to build those binaries, they should be "more standalone".
(I could submit my latest build right now, but it won't support
OpenGL.)

The current list of dependencies includes:

librt.so.1 => /usr/lib/librt.so.1 (0x800784000)
libz.so.6 => /lib/libz.so.6 (0x80078c000)
libncurses.so.8 => /lib/libncurses.so.8 (0x8007a6000)
libc++.so.1 => /usr/lib/libc++.so.1 (0x8007fd000)
libcxxrt.so.1 => /lib/libcxxrt.so.1 (0x8008cd000)
libm.so.5 => /lib/libm.so.5 (0x8008ef000)
libgcc_s.so.1 => /lib/libgcc_s.so.1 (0x800921000)
libthr.so.3 => /lib/libthr.so.3 (0x80093b000)
libc.so.7 => /lib/libc.so.7 (0x800968000)

Asymptote version 2.64 [(C) 2004 Andy Hammerlindl, John C. Bowman, Tom Prince]

ENABLED OPTIONS:
WebGL 3D HTML rendering
GSL GNU Scientific Library (special functions)
FFTW3 Fast Fourier transforms
XDR external data representation (portable binary file format)
Readline interactive history and editing
GC Boehm garbage collector

DISABLED OPTIONS:
OpenGL 3D OpenGL rendering
Sigsegv distinguish stack overflows from segmentation faults

Mojca

> > On my FreeBSD 12.1 x86_64 system, I find
> >
> >       % ldd /usr/uumath/texlive/2020/bin/amd64-freebsd/asy | fgrep stdc+
> >         libstdc++.so.6 => /usr/local/lib/gcc10/libstdc++.so.6 (0x800ba2000)
> >
> > I didn't build that one.
>
> Another issue with asy, it requires libstdc++ from GCC dynamically. It
> force everyone to install the entire GCC chain which is annoying.
>
> Following Nelson's advise:
>
> > My build-texlive-2020.sh script starts by setting
> >
> >       CXXFLAGS            = -std=c++11 -static-libstdc++
> >
> > The -lstdc++ library has been a huge nuisance for packagers of binary
> > executables, because it is highly compiler release dependent.  In all
> > of my work with C++, I therefore use the g++/clang++ flag
> > -static-libstdc++, so that the executable embeds any needed code from
> > that library.
>
> Can someone trigger the originator to embed the library or link against
> LLVM c++ from base unless there is hard requirement for GCC?
>
> Michael
>
> [1] https://github.com/TeX-Live/texlive-source/blob/trunk/README#L51

From joseph.wright at morningstar2.co.uk  Tue Mar 10 14:21:22 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 10 Mar 2020 13:21:22 +0000
Subject: removal of packages this morning
In-Reply-To: <3FEA35EE-F09F-4185-A030-30D73831BC3D@wideopenwest.com>
References: <3FEA35EE-F09F-4185-A030-30D73831BC3D@wideopenwest.com>
Message-ID: <22ebd838-00ab-7054-a981-b0f476f62e7d@morningstar2.co.uk>

On 10/03/2020 13:13, Herbert Schulz wrote:
> Howdy,
> 
> Is there a reason that the tkz-(fct, linknodes, kiviat, berge, graph and tab) packages were removed from today's update of TeX Live 2020 pretest?
> 
> Good Luck,
> 
> Herb Schulz
> (herbs at wideopenwest dot com)

CTAN say:

This package has been taken temporarily out of circulation to give the 
author time to investigate some problems.

for tkz-fct, I suspect that might be more general.

Joseph

From michael.osipov at siemens.com  Tue Mar 10 14:32:42 2020
From: michael.osipov at siemens.com (Osipov, Michael)
Date: Tue, 10 Mar 2020 14:32:42 +0100
Subject: [TL 2020] asy executables on FreeBSD
In-Reply-To: <CALBOmsbk-hP9r7QbA8ss=K-F0kxda1wcRCLLVE-0Jakkx6eZWQ@mail.gmail.com>
References: <6a905806-35d7-0463-92dd-305060693590@siemens.com>
 <CALBOmsbk-hP9r7QbA8ss=K-F0kxda1wcRCLLVE-0Jakkx6eZWQ@mail.gmail.com>
Message-ID: <0ca1eea3-af8c-4995-332b-6f136bbe9714@siemens.com>


Am 2020-03-10 um 14:15 schrieb Mojca Miklavec:
> On Tue, 10 Mar 2020 at 13:25, Osipov, Michael wrote:
>>
>> Folks,
>>
>> this resource [1] mentions that Nelson Beebe provides the build of asy
>> for FreeBSD. I wrote to Nelson and he does not. It is coming from
>> elsewhere. Can someone eithe remove that information or add the proper
>> originator?
> 
> This commit
>      http://tug.org/svn/texlive/trunk/Master/bin/amd64-freebsd/asy?view=log
> says
>      asy for amd64-freebsd from Nelson, amd64-freebsd13-gcc.tar.xz
> 
> So at least the two seem consistent.
> 
> I didn't have much time earlier, so Karl took the existing binaries.
> 
> I tried to build my own version on FreeBSD with clang++ and using
> static libraries for as much as possible, but there's one last
> building block missing, namely proper support for OpenGL via freeglut.
> If I manage to build those binaries, they should be "more standalone".
> (I could submit my latest build right now, but it won't support
> OpenGL.)
> 
> The current list of dependencies includes:
> 
> librt.so.1 => /usr/lib/librt.so.1 (0x800784000)
> libz.so.6 => /lib/libz.so.6 (0x80078c000)
> libncurses.so.8 => /lib/libncurses.so.8 (0x8007a6000)
> libc++.so.1 => /usr/lib/libc++.so.1 (0x8007fd000)
> libcxxrt.so.1 => /lib/libcxxrt.so.1 (0x8008cd000)
> libm.so.5 => /lib/libm.so.5 (0x8008ef000)
> libgcc_s.so.1 => /lib/libgcc_s.so.1 (0x800921000)
> libthr.so.3 => /lib/libthr.so.3 (0x80093b000)
> libc.so.7 => /lib/libc.so.7 (0x800968000)

I ran tlmgr today t0o and it looks different here. I also wrote Nelson 
about it:

 > $ file ./asy
 > ./asy: ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), 
dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 13.0 
(1300081), FreeBSD-style, stripped

It has been compiled with 13-CURRENT. Additionally, it links against:
 >         libncurses.so.9 => not found (0)

but on 12-STABLE is
 > $ ll /usr/lib/libncurses*
 > -r--r--r--  1 root  wheel  2183692 2020-01-02 19:06 
/usr/lib/libncurses_p.a
 > -r--r--r--  1 root  wheel  2130860 2020-01-02 19:06 /usr/lib/libncurses.a
 > lrwxr-xr-x  1 root  wheel       25 2020-01-02 19:06 
/usr/lib/libncurses.so@ -> ../../lib/libncurses.so.8
 > -r--r--r--  1 root  wheel  2553818 2020-01-02 19:06 
/usr/lib/libncursesw_p.a
 > -r--r--r--  1 root  wheel  2489866 2020-01-02 19:06 
/usr/lib/libncursesw.a
 > lrwxr-xr-x  1 root  wheel       26 2020-01-02 19:06 
/usr/lib/libncursesw.so@ -> ../../lib/libncursesw.so.8

So what I would like to see is to recompile in a 11.x-RELEASE jail. All 
missing libs in base in 12/13 can be added via misc/compat...

There is also now a dependency on libfftw3.so which is not in FreeBSD Ports.

All best all executables would be built in a 11.3-RELEASE jail for 
maximum compat:
> ldadocgen at deblndw011x1j:/usr/local/ldadocgen/backend-dev/texlive/2020/bin/amd64-freebsd
> $ file * | grep FreeBSD
> afm2pl:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> afm2tfm:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> asy:              ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 13.0 (1300081), FreeBSD-style, stripped
> axohelp:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> bbox:             ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> bg5conv:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> bibtex:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> bibtex8:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> bibtexu:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> cef5conv:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> cefconv:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> cefsconv:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> cfftot1:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> chkdvifont:       ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> chktex:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> ctangle:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> ctie:             ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> ctwill:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> ctwill-refsort:   ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> ctwill-twinx:     ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> cweave:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> detex:            ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> disdvi:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dt2dv:            ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dv2dt:            ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dvi2tty:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dvibook:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dviconcat:        ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dvicopy:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dvidvi:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dvilj:            ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dvilj2p:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dvilj4:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dvilj4l:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dvipng:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dvipos:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dvips:            ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dviselect:        ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dvispc:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dvisvgm:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dvitodvi:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> dvitype:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> epsffit:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> extconv:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> gftodvi:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> gftopk:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> gftype:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> gsftopk:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> hbf2gf:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> kpseaccess:       ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> kpsereadlink:     ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> kpsestat:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> kpsewhich:        ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> lacheck:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> luahbtex:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> luajithbtex:      ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> luajittex:        ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> luatex:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> mag:              ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> makeindex:        ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> mf:               ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> mf-nowin:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> mflua:            ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> mfluajit:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> mft:              ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> mmafm:            ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> mmpfb:            ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> mpost:            ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> otfinfo:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> otftotfm:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> patgen:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> pdfclose:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> pdfopen:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> pdftex:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> pdftosrc:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> pfb2pfa:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> pk2bm:            ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> pktogf:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> pktype:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> pltotf:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> pooltype:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> ps2pk:            ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> psbook:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> psnup:            ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> psresize:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> psselect:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> pstops:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> sjisconv:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> synctex:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> t1ascii:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> t1asm:            ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> t1binary:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> t1disasm:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> t1dotlessj:       ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> t1lint:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> t1mac:            ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> t1rawafm:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> t1reencode:       ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> t1testpage:       ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> t1unmac:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> t4ht:             ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> tangle:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> teckit_compile:   ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> tex:              ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> tex2xindy:        ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 10.0 (1000510), FreeBSD-style, stripped
> tex4ht:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> tftopl:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> tie:              ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> ttf2afm:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> ttf2pk:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> ttf2tfm:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> ttfdump:          ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> ttftotype42:      ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> vftovp:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> vlna:             ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> vptovf:           ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> weave:            ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> xdvi-xaw:         ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> xdvipdfmx:        ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> xetex:            ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 12.1, FreeBSD-style, stripped
> xindy.run:        ELF 64-bit LSB executable, x86-64, version 1 (FreeBSD), dynamically linked, interpreter /libexec/ld-elf.so.1, for FreeBSD 10.0 (1000510), FreeBSD-style, stripped

Michael

From petra at ctan.org  Tue Mar 10 14:47:09 2020
From: petra at ctan.org (Petra Ruebe-Pugliese)
Date: Tue, 10 Mar 2020 14:47:09 +0100
Subject: removal of packages this morning
In-Reply-To: <3FEA35EE-F09F-4185-A030-30D73831BC3D@wideopenwest.com>
References: <3FEA35EE-F09F-4185-A030-30D73831BC3D@wideopenwest.com>
Message-ID: <20200310134709.GA4791@prptp>

Hello,

On Tue 10 Mar 2020 at 08:13:41 -0500  Herbert Schulz <herbs at wideopenwest.com> wrote:
> Howdy,
> 
> Is there a reason that the tkz-(fct, linknodes, kiviat, berge, graph and tab) packages were removed from today's update of TeX Live 2020 pretest?

The author told us (CTAN) that these packages are momentarily
broken and that he needed time to put them right again.
He therefore requested us to move these packages temporarily
to the "/obsolete/" branch, which means that they will quasi-
automatically vanish from the distributions, too.

They will re-appear when he submits his bugfixes.

In any case the files can still be obtained via the links on
          https://ctan.org/pkg/PACKAGENAME

   Best wishes,
     Petra  (from the CTAN team)

From siepo at bitmuis.nl  Tue Mar 10 15:12:47 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Tue, 10 Mar 2020 15:12:47 +0100
Subject: Updating luatex with tlshell
Message-ID: <20200310141247.GA2851@bitmuis.nl>

If luatex has to be updated, then updating via tlshell will fail. I
am trying to find a workaround, but in the meantime updating from a
command-line will be safer.

-- 
Siep Kroonenberg

From siepo at bitmuis.nl  Tue Mar 10 15:17:19 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Tue, 10 Mar 2020 15:17:19 +0100
Subject: tlshell failure on x86_64-linux
In-Reply-To: <20200310091314.GA3736@robertalessi.net>
References: <20200310091314.GA3736@robertalessi.net>
Message-ID: <20200310141719.GB2851@bitmuis.nl>

On Tue, Mar 10, 2020 at 10:13:14AM +0100, Robert Alessi wrote:
> Hello,
> 
> I just tried to launch tlshell on pretest as a normal user, but I got
> the following instead.  Everything else works perfectly so far.
> 
> ---------------------%>---------------------
> $ tlshell
> Error in startup script: couldn't open "/usr/local/texlive/2020/1135": permission denied
>     while executing
> "open $newfile w"
>     invoked from within
> "if [file exists $newfile] {
>       continue
>     } else {
>       set fid [open $newfile w]
>       chan close $fid
>       if [file exists $newfile] {
>       ..."
>     (procedure "dir_writable" line 5)
>     invoked from within
> "dir_writable $::instroot"
>     (procedure "initialize" line 64)
>     invoked from within
> "initialize"
>     (file "/usr/local/texlive/2020/bin/x86_64-linux/tlshell" line 2422)
> ---------------------%>---------------------

Is the installation root writable by a regular user?

-- 
Siep Kroonenberg

From alessi at robertalessi.net  Tue Mar 10 15:50:35 2020
From: alessi at robertalessi.net (Robert Alessi)
Date: Tue, 10 Mar 2020 15:50:35 +0100
Subject: tlshell failure on x86_64-linux
In-Reply-To: <20200310141719.GB2851@bitmuis.nl>
References: <20200310091314.GA3736@robertalessi.net>
 <20200310141719.GB2851@bitmuis.nl>
Message-ID: <20200310145035.GA2884@robertalessi.net>

On Tue, Mar 10, 2020 at 03:17:19PM +0100, Siep Kroonenberg wrote:

> Is the installation root writable by a regular user?

No, it is owned by root, but tlshell launched by a regular user used
to work on texlive 2019 under the same conditions,, except that I got
a message telling that the installation root was not writable by that
user.

-- R.

From alessi at robertalessi.net  Tue Mar 10 16:38:03 2020
From: alessi at robertalessi.net (Robert Alessi)
Date: Tue, 10 Mar 2020 16:38:03 +0100
Subject: tlshell failure on x86_64-linux
In-Reply-To: <20200310152106.GC2851@bitmuis.nl>
References: <20200310091314.GA3736@robertalessi.net>
 <20200310141719.GB2851@bitmuis.nl>
 <20200310145035.GA2884@robertalessi.net>
 <20200310152106.GC2851@bitmuis.nl>
Message-ID: <20200310153803.GA3987@robertalessi.net>

On Tue, Mar 10, 2020 at 04:21:06PM +0100, Siep Kroonenberg wrote:
> > > Is the installation root writable by a regular user?
> > 
> > No, it is owned by root, but tlshell launched by a regular user used
> > to work on texlive 2019 under the same conditions,, except that I got
> > a message telling that the installation root was not writable by that
> > user.
> 
> That message was probably by the Perl backend.i
> 
> The last change that I committed was that tlshell itself also
> actually tests for writability, while previously it just checked for
> permissions, which do not always tell the whole story. Tlshell is
> meant to be run by the owner of the installation.

Thank you for the information.  I tried it as root and it worked.
Wouldn't it be nice to have the error message cleanly formatted in a
window with some Ok button to aknowledge the information?

By the way, tlshell is very nice!

-- R.

From dbitouze at wanadoo.fr  Tue Mar 10 16:49:09 2020
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Tue, 10 Mar 2020 16:49:09 +0100
Subject: tlshell failure on x86_64-linux
In-Reply-To: <20200310153803.GA3987@robertalessi.net> (Robert Alessi's message
 of "Tue, 10 Mar 2020 16:38:03 +0100")
References: <20200310091314.GA3736@robertalessi.net>
 <20200310141719.GB2851@bitmuis.nl>
 <20200310145035.GA2884@robertalessi.net>
 <20200310152106.GC2851@bitmuis.nl>
 <20200310153803.GA3987@robertalessi.net>
Message-ID: <875zfc43d6.fsf@example.com>

Le 10/03/20 ? 16h38, Robert Alessi a ?crit :

> By the way, tlshell is very nice!

I agree. The only drawback is it doesn't provide any way to manage the
symlinks.
-- 
Denis


From alessi at robertalessi.net  Tue Mar 10 17:04:08 2020
From: alessi at robertalessi.net (Robert Alessi)
Date: Tue, 10 Mar 2020 17:04:08 +0100
Subject: tlshell failure on x86_64-linux
In-Reply-To: <875zfc43d6.fsf@example.com>
References: <20200310091314.GA3736@robertalessi.net>
 <20200310141719.GB2851@bitmuis.nl>
 <20200310145035.GA2884@robertalessi.net>
 <20200310152106.GC2851@bitmuis.nl>
 <20200310153803.GA3987@robertalessi.net>
 <875zfc43d6.fsf@example.com>
Message-ID: <20200310160408.GA4862@robertalessi.net>

On Tue, Mar 10, 2020 at 04:49:09PM +0100, Denis Bitouz? wrote:
> 
> I agree. The only drawback is it doesn't provide any way to manage the
> symlinks.

This only would take some "expert mode" feature as in tlcockpit. (I
guess.)

R.

From dbitouze at wanadoo.fr  Tue Mar 10 17:13:25 2020
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Tue, 10 Mar 2020 17:13:25 +0100
Subject: tlshell failure on x86_64-linux
In-Reply-To: <20200310160408.GA4862@robertalessi.net> (Robert Alessi's message
 of "Tue, 10 Mar 2020 17:04:08 +0100")
References: <20200310091314.GA3736@robertalessi.net>
 <20200310141719.GB2851@bitmuis.nl>
 <20200310145035.GA2884@robertalessi.net>
 <20200310152106.GC2851@bitmuis.nl>
 <20200310153803.GA3987@robertalessi.net> <875zfc43d6.fsf@example.com>
 <20200310160408.GA4862@robertalessi.net>
Message-ID: <871rq0428q.fsf@example.com>

Le 10/03/20 ? 17h04, Robert Alessi a ?crit :

> On Tue, Mar 10, 2020 at 04:49:09PM +0100, Denis Bitouz? wrote:
>> 
>> I agree. The only drawback is it doesn't provide any way to manage the
>> symlinks.
>
> This only would take some "expert mode" feature as in tlcockpit. (I
> guess.)

How do you access to "expert mode" in tlcockpit?

At least the default mode lets you specify, in Options ? General... the
destinations for symlinks for:

- binaries,
- docs,
- man pages.

However, it seems to not provide the:

- "Update symbolic links",
- "Remove symbolic links",

actions, as `tlmgr -gui` provides (in default mode: Actions ? Handle
symlinks in system dirs).
-- 
Denis


From alessi at robertalessi.net  Tue Mar 10 17:28:00 2020
From: alessi at robertalessi.net (Robert Alessi)
Date: Tue, 10 Mar 2020 17:28:00 +0100
Subject: tlshell failure on x86_64-linux
In-Reply-To: <871rq0428q.fsf@example.com>
References: <20200310091314.GA3736@robertalessi.net>
 <20200310141719.GB2851@bitmuis.nl>
 <20200310145035.GA2884@robertalessi.net>
 <20200310152106.GC2851@bitmuis.nl>
 <20200310153803.GA3987@robertalessi.net>
 <875zfc43d6.fsf@example.com>
 <20200310160408.GA4862@robertalessi.net>
 <871rq0428q.fsf@example.com>
Message-ID: <20200310162800.GA5723@robertalessi.net>

On Tue, Mar 10, 2020 at 05:13:25PM +0100, Denis Bitouz? wrote:
> How do you access to "expert mode" in tlcockpit?

At the bottom of the window, there is an "Experts only" item which
gives you the ability to enter any tlmgr shell command.

> At least the default mode lets you specify, in Options ? General... the
> destinations for symlinks for:
> 
> - binaries,
> - docs,
> - man pages.

I tried Options --> General, but nothing happened.  Strange.

> However, it seems to not provide the:
> 
> - "Update symbolic links",
> - "Remove symbolic links",
> 
> actions, as `tlmgr -gui` provides (in default mode: Actions ? Handle
> symlinks in system dirs).

Maybe via the Experts only feature?


From mojca.miklavec.lists at gmail.com  Tue Mar 10 17:51:21 2020
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Tue, 10 Mar 2020 17:51:21 +0100
Subject: [TL 2020] asy executables on FreeBSD
In-Reply-To: <0ca1eea3-af8c-4995-332b-6f136bbe9714@siemens.com>
References: <6a905806-35d7-0463-92dd-305060693590@siemens.com>
 <CALBOmsbk-hP9r7QbA8ss=K-F0kxda1wcRCLLVE-0Jakkx6eZWQ@mail.gmail.com>
 <0ca1eea3-af8c-4995-332b-6f136bbe9714@siemens.com>
Message-ID: <CALBOmsZhzkEDVed1ioN1+Jd_P7+A97-B7ZNUBM1wzj3Jhsyqig@mail.gmail.com>

On Tue, 10 Mar 2020 at 14:32, Osipov, Michael wrote:
> Am 2020-03-10 um 14:15 schrieb Mojca Miklavec:
> >
> > The current list of dependencies includes:
> >
> > librt.so.1 => /usr/lib/librt.so.1 (0x800784000)
> > libz.so.6 => /lib/libz.so.6 (0x80078c000)
> > libncurses.so.8 => /lib/libncurses.so.8 (0x8007a6000)
> > libc++.so.1 => /usr/lib/libc++.so.1 (0x8007fd000)
> > libcxxrt.so.1 => /lib/libcxxrt.so.1 (0x8008cd000)
> > libm.so.5 => /lib/libm.so.5 (0x8008ef000)
> > libgcc_s.so.1 => /lib/libgcc_s.so.1 (0x800921000)
> > libthr.so.3 => /lib/libthr.so.3 (0x80093b000)
> > libc.so.7 => /lib/libc.so.7 (0x800968000)
>
> I ran tlmgr today t0o and it looks different here.

Just to make it clear: the above list is from the asy binary I
compiled (and didn't submit anywhere yet) which should hopefully
provide better compatibility (but it still misses OpenGL support).

> All best all executables would be built in a 11.3-RELEASE jail for
> maximum compat:

Do you actually have any issues running any of those binaries (other
than asy) or is this just a suggestion from theoretical perspective?
Some years ago we did have binaries built in jail on FreeBSD 7.0 (I
think) and there were quite some issues with them being too old, and
jail was more hurting than  helping with that.

For a while I kept running both the oldest and the newest FreeBSD, but
it didn't seem to make any difference (as long as I tested, the
binaries built on the latest OS all worked on the oldest), so I
stopped testing.

Mojca

From dbitouze at wanadoo.fr  Tue Mar 10 19:48:37 2020
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Tue, 10 Mar 2020 19:48:37 +0100
Subject: tlshell failure on x86_64-linux
In-Reply-To: <20200310162800.GA5723@robertalessi.net> (Robert Alessi's message
 of "Tue, 10 Mar 2020 17:28:00 +0100")
References: <20200310091314.GA3736@robertalessi.net>
 <20200310141719.GB2851@bitmuis.nl>
 <20200310145035.GA2884@robertalessi.net>
 <20200310152106.GC2851@bitmuis.nl>
 <20200310153803.GA3987@robertalessi.net> <875zfc43d6.fsf@example.com>
 <20200310160408.GA4862@robertalessi.net> <871rq0428q.fsf@example.com>
 <20200310162800.GA5723@robertalessi.net>
Message-ID: <87wo7s2ghm.fsf@example.com>

Le 10/03/20 ? 17h28, Robert Alessi a ?crit :

> On Tue, Mar 10, 2020 at 05:13:25PM +0100, Denis Bitouz? wrote:
>> How do you access to "expert mode" in tlcockpit?
>
> At the bottom of the window, there is an "Experts only" item which
> gives you the ability to enter any tlmgr shell command.

Ah, OK. But, IMHO, all concerning symlinks shouldn't be hidden in
"Experts only" zone and shouldn't be provided only through command line.

>> At least the default mode lets you specify, in Options ? General... the
>> destinations for symlinks for:
>> 
>> - binaries,
>> - docs,
>> - man pages.
>
> I tried Options --> General, but nothing happened.  Strange.

Did you run it as root?

>> However, it seems to not provide the:
>> 
>> - "Update symbolic links",
>> - "Remove symbolic links",
>> 
>> actions, as `tlmgr -gui` provides (in default mode: Actions ? Handle
>> symlinks in system dirs).
>
> Maybe via the Experts only feature?

With command line, every tlmgr command can indeed be run. But it is
worth providing menus/buttons/whatever that let the user deal with
symlinks (just as `tlmgr -gui` does).
-- 
Denis


From bernhard.kleine at gmx.net  Tue Mar 10 23:15:07 2020
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Tue, 10 Mar 2020 23:15:07 +0100
Subject: Update failur
In-Reply-To: <8b976ff4-9db8-6680-ce85-10230a545554@gmx.net>
References: <8b976ff4-9db8-6680-ce85-10230a545554@gmx.net>
Message-ID: <fa2edff8-3ada-b135-1541-b831ff121ae9@gmx.net>


Am 08.03.2020 um 13:25 schrieb Bernhard Kleine:
>
> Today, the tlmgr update failed due to missing permission, the
> update-tlmgr-latest.exe worked, but then I get this error:
>
>
I did the following to remedy the situation:
loaded the pretest distribution (-macos 4GB) on my desktop.
re-installed texlive2020 from there
and waited for the first update to go on smoothly.

Re-installing from my own desktop if necessary will be faster by several
hours.

Regards Bernhard.

spitzhalde9
D-79853 lenzkirch
bernhard.kleine at gmx.net
www.b-kleine.com, www.urseetal.net
Ich darf auch auf mein neues Buch "Falter in Lenzkirch" aufmerksam machen 
(Infos bei mir)
-
thunderbird mit enigmail
GPG schl?ssel: D5257409
fingerprint:
08 B7 F8 70 22 7A FC C1 15 49 CA A6 C7 6F A0 2E D5 25 74 09

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200310/13bca14a/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: odgpnehijlhlgage.png
Type: image/png
Size: 36356 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200310/13bca14a/attachment-0001.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <https://tug.org/pipermail/tex-live/attachments/20200310/13bca14a/attachment-0001.sig>

From michael.osipov at siemens.com  Wed Mar 11 09:35:05 2020
From: michael.osipov at siemens.com (Osipov, Michael)
Date: Wed, 11 Mar 2020 09:35:05 +0100
Subject: [TL 2020] asy executables on FreeBSD
In-Reply-To: <CALBOmsZhzkEDVed1ioN1+Jd_P7+A97-B7ZNUBM1wzj3Jhsyqig@mail.gmail.com>
References: <6a905806-35d7-0463-92dd-305060693590@siemens.com>
 <CALBOmsbk-hP9r7QbA8ss=K-F0kxda1wcRCLLVE-0Jakkx6eZWQ@mail.gmail.com>
 <0ca1eea3-af8c-4995-332b-6f136bbe9714@siemens.com>
 <CALBOmsZhzkEDVed1ioN1+Jd_P7+A97-B7ZNUBM1wzj3Jhsyqig@mail.gmail.com>
Message-ID: <0c046ba4-b431-eb44-7379-f2f5ccecefd0@siemens.com>

Am 2020-03-10 um 17:51 schrieb Mojca Miklavec:
> On Tue, 10 Mar 2020 at 14:32, Osipov, Michael wrote:
>> Am 2020-03-10 um 14:15 schrieb Mojca Miklavec:
>>>
>>> The current list of dependencies includes:
>>>
>>> librt.so.1 => /usr/lib/librt.so.1 (0x800784000)
>>> libz.so.6 => /lib/libz.so.6 (0x80078c000)
>>> libncurses.so.8 => /lib/libncurses.so.8 (0x8007a6000)
>>> libc++.so.1 => /usr/lib/libc++.so.1 (0x8007fd000)
>>> libcxxrt.so.1 => /lib/libcxxrt.so.1 (0x8008cd000)
>>> libm.so.5 => /lib/libm.so.5 (0x8008ef000)
>>> libgcc_s.so.1 => /lib/libgcc_s.so.1 (0x800921000)
>>> libthr.so.3 => /lib/libthr.so.3 (0x80093b000)
>>> libc.so.7 => /lib/libc.so.7 (0x800968000)
>>
>> I ran tlmgr today too and it looks different here.
> 
> Just to make it clear: the above list is from the asy binary I
> compiled (and didn't submit anywhere yet) which should hopefully
> provide better compatibility (but it still misses OpenGL support).
> 
>> All best all executables would be built in a 11.3-RELEASE jail for
>> maximum compat:
> 
> Do you actually have any issues running any of those binaries (other
> than asy) or is this just a suggestion from theoretical perspective?
> Some years ago we did have binaries built in jail on FreeBSD 7.0 (I
> think) and there were quite some issues with them being too old, and
> jail was more hurting than  helping with that.

Now, we don't use asy for the moment. When we started using TL 2018 and 
noticed that it was compiled with a very old FreeBSD version. It simply 
did not worked, the loader complained. Then I had to fiddle with 
ldmap.conf to link against old libraries from base.

The point is that most users don't have such an expertise to analyse 
this kind of problem. It should just work. I laid this out to Nikola and 
offered my help for the previous releases. At some point I did not 
receive a response anymore.

> For a while I kept running both the oldest and the newest FreeBSD, but
> it didn't seem to make any difference (as long as I tested, the
> binaries built on the latest OS all worked on the oldest), so I
> stopped testing.

This may or may not work using newest on oldest. I would not rely on 
that. This can really be solved with the 11.3-RELEASE jail.

Michael

From Herbert.Voss at fu-berlin.de  Wed Mar 11 20:17:01 2020
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Wed, 11 Mar 2020 20:17:01 +0100
Subject: pretest
Message-ID: <87cc2538-4fb3-577f-acd9-ec0e3a921852@fu-berlin.de>

Hello all,

I had a problem with rebuilding the formats based on pdftex.
Reinstallung pdftex has the same problem:

bash-5.0$ tlmgr install --reinstall pdftex
tlmgr: package repository ftp://ftp.cstug.cz/pub/tex/local/tlpretest 
(not verified: gpg unavailable)
[1/9, ??:??/??:??] reinstall: cm [235k]
[2/9, 00:03/00:44] reinstall: dehyph [46k]
[3/9, 00:05/01:01] reinstall: etex [197k]
[4/9, 00:07/00:50] reinstall: hyph-utf8 [311k]
[5/9, 00:10/00:43] reinstall: knuth-lib [30k]
[6/9, 00:12/00:50] reinstall: pdftex.x86_64-darwin [953k]
[7/9, 00:15/00:29] reinstall: pdftex [1610k]
[8/9, 00:18/00:18] reinstall: plain [70k]
[9/9, 00:20/00:20] reinstall: tex-ini-files [5k]
running mktexlsr ...
done running mktexlsr.
running mtxrun --generate ...
done running mtxrun --generate.
running updmap-sys ...
done running updmap-sys.
regenerating fmtutil.cnf in /Volumes/SSD300/usr/local/texlive/texmf-dist
running fmtutil-sys 
--no-error-if-no-engine=luajithbtex,luajittex,mfluajit 
--no-error-if-no-format --byengine pdftex ...

tlmgr: fmtutil-sys 
--no-error-if-no-engine=luajithbtex,luajittex,mfluajit 
--no-error-if-no-format --byengine pdftex failed (status 25), output:
fmtutil: fmtutil is using the following fmtutil.cnf files (in precedence 
order):
fmtutil: /Volumes/SSD300/usr/local/texlive/texmf-dist/web2c/fmtutil.cnf
fmtutil: fmtutil is using the following fmtutil.cnf file for writing 
changes:
fmtutil: /Volumes/SSD300/usr/local/texlive/texmf-config/web2c/fmtutil.cnf
fmtutil [INFO]: writing formats under 
/Volumes/SSD300/usr/local/texlive/texmf-var/web2c
fmtutil [INFO]: --- remaking pdftex with pdftex
fmtutil: running `pdftex -ini?? -jobname=pdftex -progname=pdftex 
-translate-file=cp227.tcx *pdfetex.ini' ...
Ouch---my internal constants have been clobbered!---case 14
fmtutil [INFO]: --- remaking pdfetex with pdftex
fmtutil: running `pdftex -ini?? -jobname=pdfetex -progname=pdfetex 
-translate-file=cp227.tcx *pdfetex.ini' ...
Ouch---my internal constants have been clobbered!---case 14
fmtutil [INFO]: --- remaking latex-dev with pdftex
fmtutil: running `pdftex -ini?? -jobname=latex-dev -progname=latex-dev 
-translate-file=cp227.tcx *latex.ini' ...
Ouch---my internal constants have been clobbered!---case 14
[...]



Herbert

From Herbert.Voss at fu-berlin.de  Wed Mar 11 20:38:46 2020
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Wed, 11 Mar 2020 20:38:46 +0100
Subject: pretest
In-Reply-To: <87cc2538-4fb3-577f-acd9-ec0e3a921852@fu-berlin.de>
References: <87cc2538-4fb3-577f-acd9-ec0e3a921852@fu-berlin.de>
Message-ID: <cd2b1ad1-a9bd-6489-59d6-df92ef9ae158@fu-berlin.de>

Sorry for the noise ...
My value for the main memory in texmf.cnf was too big.
However, a more senseful message may be useful ...

Herbert




Am 11.03.20 um 20:17 schrieb Herbert Voss:
> Hello all,
>
> I had a problem with rebuilding the formats based on pdftex.
> Reinstallung pdftex has the same problem:
>
> bash-5.0$ tlmgr install --reinstall pdftex
> tlmgr: package repository ftp://ftp.cstug.cz/pub/tex/local/tlpretest 
> (not verified: gpg unavailable)
> [1/9, ??:??/??:??] reinstall: cm [235k]
> [2/9, 00:03/00:44] reinstall: dehyph [46k]
> [3/9, 00:05/01:01] reinstall: etex [197k]
> [4/9, 00:07/00:50] reinstall: hyph-utf8 [311k]
> [5/9, 00:10/00:43] reinstall: knuth-lib [30k]
> [6/9, 00:12/00:50] reinstall: pdftex.x86_64-darwin [953k]
> [7/9, 00:15/00:29] reinstall: pdftex [1610k]
> [8/9, 00:18/00:18] reinstall: plain [70k]
> [9/9, 00:20/00:20] reinstall: tex-ini-files [5k]
> running mktexlsr ...
> done running mktexlsr.
> running mtxrun --generate ...
> done running mtxrun --generate.
> running updmap-sys ...
> done running updmap-sys.
> regenerating fmtutil.cnf in /Volumes/SSD300/usr/local/texlive/texmf-dist
> running fmtutil-sys 
> --no-error-if-no-engine=luajithbtex,luajittex,mfluajit 
> --no-error-if-no-format --byengine pdftex ...
>
> tlmgr: fmtutil-sys 
> --no-error-if-no-engine=luajithbtex,luajittex,mfluajit 
> --no-error-if-no-format --byengine pdftex failed (status 25), output:
> fmtutil: fmtutil is using the following fmtutil.cnf files (in 
> precedence order):
> fmtutil: /Volumes/SSD300/usr/local/texlive/texmf-dist/web2c/fmtutil.cnf
> fmtutil: fmtutil is using the following fmtutil.cnf file for writing 
> changes:
> fmtutil: /Volumes/SSD300/usr/local/texlive/texmf-config/web2c/fmtutil.cnf
> fmtutil [INFO]: writing formats under 
> /Volumes/SSD300/usr/local/texlive/texmf-var/web2c
> fmtutil [INFO]: --- remaking pdftex with pdftex
> fmtutil: running `pdftex -ini?? -jobname=pdftex -progname=pdftex 
> -translate-file=cp227.tcx *pdfetex.ini' ...
> Ouch---my internal constants have been clobbered!---case 14
> fmtutil [INFO]: --- remaking pdfetex with pdftex
> fmtutil: running `pdftex -ini?? -jobname=pdfetex -progname=pdfetex 
> -translate-file=cp227.tcx *pdfetex.ini' ...
> Ouch---my internal constants have been clobbered!---case 14
> fmtutil [INFO]: --- remaking latex-dev with pdftex
> fmtutil: running `pdftex -ini?? -jobname=latex-dev -progname=latex-dev 
> -translate-file=cp227.tcx *latex.ini' ...
> Ouch---my internal constants have been clobbered!---case 14
> [...]
>
>
>
> Herbert


From reinhard.kotucha at web.de  Wed Mar 11 21:03:38 2020
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 11 Mar 2020 21:03:38 +0100
Subject: pretest
In-Reply-To: <cd2b1ad1-a9bd-6489-59d6-df92ef9ae158@fu-berlin.de>
References: <87cc2538-4fb3-577f-acd9-ec0e3a921852@fu-berlin.de>
 <cd2b1ad1-a9bd-6489-59d6-df92ef9ae158@fu-berlin.de>
Message-ID: <24169.17434.735003.448254@gargle.gargle.HOWL>

On 2020-03-11 at 20:38:46 +0100, Herbert Voss wrote:

 > Sorry for the noise ...
 > My value for the main memory in texmf.cnf was too big.
 > However, a more senseful message may be useful ...

Sorry Herbert, this message comes from Knuth.

$ grep Ouch tex.web
begin wterm_ln('Ouch---my internal constants have been clobbered!',

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From P.Taylor at Rhul.Ac.Uk  Wed Mar 11 22:23:12 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 11 Mar 2020 21:23:12 +0000
Subject: [EXT] Re: pretest
In-Reply-To: <24169.17434.735003.448254@gargle.gargle.HOWL>
References: <87cc2538-4fb3-577f-acd9-ec0e3a921852@fu-berlin.de>
 <cd2b1ad1-a9bd-6489-59d6-df92ef9ae158@fu-berlin.de>
 <24169.17434.735003.448254@gargle.gargle.HOWL>
Message-ID: <f7ac6a3a-5677-e571-de77-852c3ca397e1@Rhul.Ac.Uk>

Reinhard Kotucha wrote:

> Sorry Herbert, this message comes from Knuth.
>
> $ grep Ouch tex.web
> begin wterm_ln('Ouch---my internal constants have been clobbered!',

Does your "grep" abort after the first report, Reinhard ?? I find two 
instances of "Ouch", not one :

> if bad>0 then
>    begin wterm_ln('Ouch---my internal constants have been clobbered!',
>      '---case ',bad:1);
> @.Ouch...clobbered@>
>    goto final_end;
>    end;

** Phil.


From reinhard.kotucha at web.de  Wed Mar 11 23:02:30 2020
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 11 Mar 2020 23:02:30 +0100
Subject: [EXT] Re: pretest
In-Reply-To: <f7ac6a3a-5677-e571-de77-852c3ca397e1@Rhul.Ac.Uk>
References: <87cc2538-4fb3-577f-acd9-ec0e3a921852@fu-berlin.de>
 <cd2b1ad1-a9bd-6489-59d6-df92ef9ae158@fu-berlin.de>
 <24169.17434.735003.448254@gargle.gargle.HOWL>
 <f7ac6a3a-5677-e571-de77-852c3ca397e1@Rhul.Ac.Uk>
Message-ID: <24169.24566.748520.407467@gargle.gargle.HOWL>

On 2020-03-11 at 21:23:12 +0000, Philip Taylor wrote:

 > Reinhard Kotucha wrote:
 > 
 > > Sorry Herbert, this message comes from Knuth.
 > >
 > > $ grep Ouch tex.web
 > > begin wterm_ln('Ouch---my internal constants have been clobbered!',
 > 
 > Does your "grep" abort after the first report, Reinhard ?? I find two 
 > instances of "Ouch", not one :
 > 
 > > if bad>0 then
 > >    begin wterm_ln('Ouch---my internal constants have been clobbered!',
 > >      '---case ',bad:1);
 > > @.Ouch...clobbered@>
 > >    goto final_end;
 > >    end;

I got two lines too but I copied only the one which contains the error
message.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From dbitouze at wanadoo.fr  Thu Mar 12 08:38:52 2020
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Thu, 12 Mar 2020 08:38:52 +0100
Subject: tl2020 pretest begin
References: <202003030209.02329DPJ025997@freefriends.org>
Message-ID: <871rpynhtf.fsf@example.com>

Le 02/03/20 ? 19h09, Karl Berry a ?crit :

> Please try it if you can. Better to test now than wait for breakage in
> the official release.

# Context:
- Linux (Mageia 7).
- Install as ordinary user through the command line:
  ?????
  ? ./install-tl
  ?????
  with:
  - basic scheme (s d r RET),
  - main TeX directory /home/bitouze/texlive/2020 (d
    1 /home/bitouze/texlive/2020 r RET),
  - options customization ? create symlinks in standard directories
    with:
    - New value for binary directory: /home/bitouze/bin
    - New value for man    directory: /home/bitouze/man
    - New value for info   directory: /home/bitouze/info
    (o l /home/bitouze/bin RET RET RET)
  - r i RET
    
# Issue
Everything went well but, when trying to remove this install with
`tlmgr -gui &` then Actions ? Remove TeX Live 2020 ? OK, the pop-up
window with "Complete removal finished" appears but the console
displays:
  ?????
  ? tlmgr: saving backups to /home/bitouze/texlive/2020/tlpkg/backups
  ? tlmgr: no packages removed.
  ?????
and, indeed, nothing has been uninstalled/removed.

By contrast, `tlmgr remove --all` worked as expected since everything
was removed: symlinks and (almost) /home/bitouze/texlive/2020 content
(surprisingly, two files `install-tl` and `texmfcnf.lua` are still
there).
--
Denis


From pablgonz at educarchile.cl  Thu Mar 12 15:51:03 2020
From: pablgonz at educarchile.cl (=?UTF-8?Q?Pablo_Gonz=C3=A1lez_L?=)
Date: Thu, 12 Mar 2020 11:51:03 -0300
Subject: Problems with installation from using rsync download on win10
In-Reply-To: <mailman.15.1584010804.29641.tex-live@tug.org>
References: <mailman.15.1584010804.29641.tex-live@tug.org>
Message-ID: <CANeU4n_r4ZSgA4JBsO9TLSvTvaLUbcT==F1Fwuhu-BK=LaEmsA@mail.gmail.com>

Hi all, I have installed TeXLive 2020 under WSL without problems
downloading with rsync, but, using the same download to install
directly on win10 doesn't work for me :(

The first thing it throws is an error with the sums in everything

TLUtils::check_file: checksums differ for ...

And there is only the option to install it directly from the Internet.
I have made the attempt with several downloads from the available
mirrors and the result is the same, with previous versions
(2017,2018,2019) I could do this.

Any idea what is wrong?

Saludos

From usenet at siart.de  Thu Mar 12 16:40:17 2020
From: usenet at siart.de (Uwe Siart)
Date: Thu, 12 Mar 2020 16:40:17 +0100
Subject: Problems with installation from using rsync download on win10
References: <mailman.15.1584010804.29641.tex-live@tug.org>
 <CANeU4n_r4ZSgA4JBsO9TLSvTvaLUbcT==F1Fwuhu-BK=LaEmsA@mail.gmail.com>
Message-ID: <87r1xxfuou.fsf@siart.de>

Pablo Gonz?lez L <pablgonz at educarchile.cl> writes:

> And there is only the option to install it directly from the Internet.
> I have made the attempt with several downloads from the available
> mirrors and the result is the same, with previous versions
> (2017,2018,2019) I could do this.
>
> Any idea what is wrong?

It could be related to the newly introduced versioned archive files and
the symlinks that map filenames with revision numbers to filenames that
do not change.

I think the installer relies on those symlinks and maybe these symlinks
don't work in Windows.

But I'm not an expert here. It could just as well be something
completely different.

-- 
Uwe


From siepo at bitmuis.nl  Thu Mar 12 17:35:46 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Thu, 12 Mar 2020 17:35:46 +0100
Subject: Problems with installation from using rsync download on win10
In-Reply-To: <87r1xxfuou.fsf@siart.de>
References: <mailman.15.1584010804.29641.tex-live@tug.org>
 <CANeU4n_r4ZSgA4JBsO9TLSvTvaLUbcT==F1Fwuhu-BK=LaEmsA@mail.gmail.com>
 <87r1xxfuou.fsf@siart.de>
Message-ID: <20200312163546.GA3319@bitmuis.nl>

On Thu, Mar 12, 2020 at 04:40:17PM +0100, Uwe Siart wrote:
> Pablo Gonz?lez L <pablgonz at educarchile.cl> writes:
> 
> > And there is only the option to install it directly from the Internet.
> > I have made the attempt with several downloads from the available
> > mirrors and the result is the same, with previous versions
> > (2017,2018,2019) I could do this.
> >
> > Any idea what is wrong?
> 
> It could be related to the newly introduced versioned archive files and
> the symlinks that map filenames with revision numbers to filenames that
> do not change.
> 
> I think the installer relies on those symlinks and maybe these symlinks
> don't work in Windows.
> 
> But I'm not an expert here. It could just as well be something
> completely different.

When the versioned archives were introduced, I also tested WSL
rsync but did not get it to work either. Normally, I rsync under
linux. My windows VMs have no trouble with the results.

-- 
Siep Kroonenberg

From usenet at siart.de  Fri Mar 13 14:00:16 2020
From: usenet at siart.de (Uwe Siart)
Date: Fri, 13 Mar 2020 14:00:16 +0100
Subject: [gs9.51] transparency broken
Message-ID: <87v9n81kbj.fsf@siart.de>

Dear all,

As far as I can see PostScript transparency does not work in the recent
9.51 release of ghostscript. This breaks PSTricks graphics that use
[opacity] and that depend on dvips+ps2pdf. Herbert confirmed. Therefore,
I suggest to stay with gs9.50 (win32) in TL unless there are better
causes to upgrade.

-- 
Uwe


From bvoisin at icloud.com  Fri Mar 13 15:41:45 2020
From: bvoisin at icloud.com (Bruno Voisin)
Date: Fri, 13 Mar 2020 15:41:45 +0100
Subject: GS 9.51 and transparency
Message-ID: <E19FB908-84D1-4996-B872-821CBB745C30@icloud.com>

>From the MacTeX team, answering Uwe Siart's message on transparency in gs 9.51: I'm not sure that's the same issue, but the consequences of the new implementation of -dSAFER in gs 9.50 on transparency in PSTricks was discussed on the MacTeX list and directly with Chris Liddell (of the Ghostscript dev team) in late October last year.

As a result he implemented a new -dALLOWPSTRANSPARENCY switch, bringing back transparency while still in -dSAFER mode:

http://git.ghostscript.com/?p=ghostpdl.git;a=commit;h=d1eac80695b2c6f2a85942a82518715549541969

The problem seems to be that PSTricks implements transparency for distiller with "/SetTransparency pdfmark" which I imagine is standard (I'm no PS/PDF expert), but for gs it uses .setopacityalpha which is documented by gs as non-standard:

https://www.ghostscript.com/doc/current/Language.htm#Additional_operators

This link also describes the new -dALLOWPSTRANSPARENCY switch.

(The following based on my recollection of correspondence with Karl back then; I'll let Karl correct anything that needs correcting.)

We then evoked with Karl the idea to modify epspdf, epstopdf and simpdftex such that -dALLOWTRANSPARENCY is called by default.

Karl wasn't fond of the idea, for two reasons mostly: first, if -dALLOWTRANSPARENCY were really safe, it would be the default; and second, that would only solve the problem for gs 9.51 and above.

So the conclusion was to leave things as they were and instead to warn the user that gs needed to be called with -dALLOWPSTRANSPARENCY if PSTricks transparency was looked for.

Back then I had ended my last message on the topic telling I would contact Herbert Voss about the matter, but then forgot and never did. Sorry!

Is there a test file that could be used to test this (I'm no pstricks user myself)?

Bruno Voisin

From zdenek.wagner at gmail.com  Fri Mar 13 15:51:30 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Fri, 13 Mar 2020 15:51:30 +0100
Subject: GS 9.51 and transparency
In-Reply-To: <E19FB908-84D1-4996-B872-821CBB745C30@icloud.com>
References: <E19FB908-84D1-4996-B872-821CBB745C30@icloud.com>
Message-ID: <CAC1phybY=eg86Jz=7C=8KmLFySoK4_xrV=PhsSZia9tVErzScA@mail.gmail.com>

Hi all,

I do not understand why transparency should be understand unsafe. As
unsafe I consider access to the file system. However, transparency has
consequences. It is explicitely forbidden in PDF/X. If you send
transparent PDF to a phototypesetter or a digital printing machine,
the area with transparency will be rendered as black. You cannot see
it in advance on screen or on your office printer, hence you have to
cerify it by software tools.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

p? 13. 3. 2020 v 15:41 odes?latel Bruno Voisin via tex-live
<tex-live at tug.org> napsal:
>
> >From the MacTeX team, answering Uwe Siart's message on transparency in gs 9.51: I'm not sure that's the same issue, but the consequences of the new implementation of -dSAFER in gs 9.50 on transparency in PSTricks was discussed on the MacTeX list and directly with Chris Liddell (of the Ghostscript dev team) in late October last year.
>
> As a result he implemented a new -dALLOWPSTRANSPARENCY switch, bringing back transparency while still in -dSAFER mode:
>
> http://git.ghostscript.com/?p=ghostpdl.git;a=commit;h=d1eac80695b2c6f2a85942a82518715549541969
>
> The problem seems to be that PSTricks implements transparency for distiller with "/SetTransparency pdfmark" which I imagine is standard (I'm no PS/PDF expert), but for gs it uses .setopacityalpha which is documented by gs as non-standard:
>
> https://www.ghostscript.com/doc/current/Language.htm#Additional_operators
>
> This link also describes the new -dALLOWPSTRANSPARENCY switch.
>
> (The following based on my recollection of correspondence with Karl back then; I'll let Karl correct anything that needs correcting.)
>
> We then evoked with Karl the idea to modify epspdf, epstopdf and simpdftex such that -dALLOWTRANSPARENCY is called by default.
>
> Karl wasn't fond of the idea, for two reasons mostly: first, if -dALLOWTRANSPARENCY were really safe, it would be the default; and second, that would only solve the problem for gs 9.51 and above.
>
> So the conclusion was to leave things as they were and instead to warn the user that gs needed to be called with -dALLOWPSTRANSPARENCY if PSTricks transparency was looked for.
>
> Back then I had ended my last message on the topic telling I would contact Herbert Voss about the matter, but then forgot and never did. Sorry!
>
> Is there a test file that could be used to test this (I'm no pstricks user myself)?
>
> Bruno Voisin


From usenet at siart.de  Fri Mar 13 16:00:20 2020
From: usenet at siart.de (Uwe Siart)
Date: Fri, 13 Mar 2020 16:00:20 +0100
Subject: GS 9.51 and transparency
References: <E19FB908-84D1-4996-B872-821CBB745C30@icloud.com>
Message-ID: <87r1xw1erf.fsf@siart.de>

Bruno Voisin via tex-live <tex-live at tug.org> writes:

> Is there a test file that could be used to test this (I'm no pstricks
> user myself)?

\documentclass{article}
\usepackage{pstricks}
\begin{document}
\begin{pspicture}(-4,-4)(4,4)
  \pscircle[fillstyle=solid,fillcolor=red](2,0){3}
  \pscircle[fillstyle=solid,fillcolor=blue,opacity=0.1](-2,0){3}
\end{pspicture}
\end{document}

After

,----
| latex
| dvips
| ps2pdf -dNOSAFER
`----

the blue circle should be transparent in the PDF. I don't get such
result with gs9.51. Option -dALLOWPSTRANSPARENCY doesn't help either

-- 
Uwe


From Herbert.Voss at fu-berlin.de  Fri Mar 13 16:22:38 2020
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Fri, 13 Mar 2020 16:22:38 +0100
Subject: GS 9.51 and transparency
In-Reply-To: <E19FB908-84D1-4996-B872-821CBB745C30@icloud.com>
References: <E19FB908-84D1-4996-B872-821CBB745C30@icloud.com>
Message-ID: <e187703e-ecb4-318e-f945-fdab5fc56e2f@fu-berlin.de>

Am 13.03.20 um 15:41 schrieb Bruno Voisin via tex-live:
> Is there a test file that could be used to test this (I'm no pstricks user myself)?

here is a small PS file

%!PS
 ?300 300 translate
 ?0? setgray
 ?113.81097 113.81097 -113.81097 -113.81097?? moveto? lineto
 ?gsave 14.22636 setlinewidth 0? setgray
 ?stroke
 ?grestore
%
 ?0.8 setlinewidth 0? setgray?? 0.0 0.0 2 copy moveto 113.81097 0 
currentlinewidth mul round
 ?sub dup 0 rmoveto 0 360 arc closepath
 ?gsave
 ?1 0 0? setrgbcolor
 ?0.5 .setopacityalpha? fill
 ?stroke
 ?grestore

with 9.51 there will be no transparency. With 9.50 and running
ps2pdf -dNOSAFER test.ps

no problem (attached image)


Herbert
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Bildschirmfoto 2020-03-13 um 16.21.34.png
Type: image/png
Size: 19181 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200313/427f473a/attachment-0001.png>

From bvoisin at icloud.com  Fri Mar 13 16:31:37 2020
From: bvoisin at icloud.com (Bruno Voisin)
Date: Fri, 13 Mar 2020 16:31:37 +0100
Subject: GS 9.51 and transparency
In-Reply-To: <e187703e-ecb4-318e-f945-fdab5fc56e2f@fu-berlin.de>
References: <E19FB908-84D1-4996-B872-821CBB745C30@icloud.com>
 <e187703e-ecb4-318e-f945-fdab5fc56e2f@fu-berlin.de>
Message-ID: <A4DFFDD4-A705-4A96-8C24-7943DF901430@icloud.com>

> Le 13 mars 2020 ? 16:22, Herbert Voss <Herbert.Voss at FU-Berlin.DE> a ?crit :
> 
> with 9.51 there will be no transparency. With 9.50 and running
> ps2pdf -dNOSAFER test.ps
> 
> no problem (attached image)

I can confirm this, on the Mac with freshly compiled gs 9.51: with or without -dNOSAFER or -dALLOWPSTRANSPARENCY, the result is the same, no transparency.

Bruno Voisin



From Herbert.Voss at fu-berlin.de  Fri Mar 13 16:34:33 2020
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Fri, 13 Mar 2020 16:34:33 +0100
Subject: GS 9.51 and transparency
In-Reply-To: <A4DFFDD4-A705-4A96-8C24-7943DF901430@icloud.com>
References: <E19FB908-84D1-4996-B872-821CBB745C30@icloud.com>
 <e187703e-ecb4-318e-f945-fdab5fc56e2f@fu-berlin.de>
 <A4DFFDD4-A705-4A96-8C24-7943DF901430@icloud.com>
Message-ID: <297f32af-8c78-d5e5-7308-53905e1486eb@fu-berlin.de>



Am 13.03.20 um 16:31 schrieb Bruno Voisin:
>> Le 13 mars 2020 ? 16:22, Herbert Voss <Herbert.Voss at FU-Berlin.DE> a ?crit :
>>
>> with 9.51 there will be no transparency. With 9.50 and running
>> ps2pdf -dNOSAFER test.ps
>>
>> no problem (attached image)
> I can confirm this, on the Mac with freshly compiled gs 9.51: with or without -dNOSAFER or -dALLOWPSTRANSPARENCY, the result is the same, no transparency.

I used the "official" test file? examples/transparency_example.ps, 
availabe from the bottom of
https://git.ghostscript.com/?p=ghostpdl.git;a=commit;h=d1eac80695b2c6f2a85942a82518715549541969

and had the same problem.

Herbert

From rdtennent at gmail.com  Fri Mar 13 18:49:12 2020
From: rdtennent at gmail.com (Bob Tennent)
Date: Fri, 13 Mar 2020 13:49:12 -0400
Subject: uninstalling an old version
Message-ID: <20200313174912.cRoC7ocDV%rdtennent@gmail.com>

I've been using the 2020 pretest for a while and decided I
could uninstall the 2019 version. Using the 2019 tlmgr,

  tlmgr remove --all 

didn't remove all. Then rm -rf texlive/2019 removed
too much, leaving me with a broken system. I'm now
re-installing.

So what is the correct way to unistall neither not enough
nor too much of 2019?

Bob T.


From pauloney at gmail.com  Fri Mar 13 19:05:16 2020
From: pauloney at gmail.com (Paulo Ney de Souza)
Date: Fri, 13 Mar 2020 11:05:16 -0700
Subject: tl2020 pretest begin
Message-ID: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>

Would it be possible to convert all text files to UTF-8? There are 160 of
them left, in a mixture of problems that vary from README's in unknown
encodings, to TeX files that no longer can processed because of the change
to default UTF-8...strolling by files that may not change at all like:

   libs/gd/libgd-src/src/entities.html

Others like:

  ./utils/vlna/vlna-src/README

that display crap as you open it, etc, etc ...

Finally, there are 22 files of "unknown" encoding.

Paulo Ney
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200313/966a19c6/attachment.html>

From eckl.r at gmx.de  Fri Mar 13 22:26:41 2020
From: eckl.r at gmx.de (eckl.r at gmx.de)
Date: Fri, 13 Mar 2020 21:26:41 +0000 (UTC)
Subject: uninstalling an old version
Message-ID: <E9BBD8384EC38BB1.04581d23-b6db-43be-b414-42c801316c22@mail.outlook.com>

For me sudo rm -r /usr/local/texlive/2019? did the job without any problem? (Linux Mint, without tlmgr remove)
cuRobert


Von: tex-live <tex-live-bounces+eckl.r=gmx.de at tug.org> im Auftrag von Bob Tennent <rdtennent at gmail.com>
Gesendet: Freitag, 13. M?rz 2020, 18:50
An: tex-live at tug.org
Betreff: uninstalling an old version

I've been using the 2020 pretest for a while and decided I
could uninstall the 2019 version. Using the 2019 tlmgr,

  tlmgr remove --all 

didn't remove all. Then rm -rf texlive/2019 removed
too much, leaving me with a broken system. I'm now
re-installing.

So what is the correct way to unistall neither not enough
nor too much of 2019?

Bob T.


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200313/10fdd486/attachment.html>

From karl at freefriends.org  Fri Mar 13 23:06:56 2020
From: karl at freefriends.org (Karl Berry)
Date: Fri, 13 Mar 2020 16:06:56 -0600
Subject: tl2020 pretest begin
In-Reply-To: <871rpynhtf.fsf@example.com>
Message-ID: <202003132206.02DM6uwU025045@freefriends.org>

Hi Denis,

    `tlmgr -gui &` then Actions ???? Remove TeX Live 2020
    ...
    indeed, nothing has been uninstalled/removed.

I hope someone else can look at the GUI code. Sounds like it's not
invoking what needs to be invoked.

    By contrast, `tlmgr remove --all` worked as expected since everything
    was removed: symlinks and (almost) /home/bitouze/texlive/2020 content
    (surprisingly, two files `install-tl` and `texmfcnf.lua` are still there).

I changed tlmgr remove --all to also remove those two files. (Will be in
tonight's update.) In my test, that ended up now being able to remove
the top-level directory since there was nothing left. --thanks, karl.


From karl at freefriends.org  Fri Mar 13 23:06:57 2020
From: karl at freefriends.org (Karl Berry)
Date: Fri, 13 Mar 2020 16:06:57 -0600
Subject: tl2020 pretest begin
In-Reply-To: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
Message-ID: <202003132206.02DM6vB9025053@freefriends.org>

    Would it be possible to convert all text files to UTF-8?

No. I am not going to randomly change other people's files.  Feel free
to report it upstream (not to me) if you care sufficiently. -k

From karl at freefriends.org  Fri Mar 13 23:07:11 2020
From: karl at freefriends.org (Karl Berry)
Date: Fri, 13 Mar 2020 16:07:11 -0600
Subject: uninstalling an old version
In-Reply-To: <20200313174912.cRoC7ocDV%rdtennent@gmail.com>
Message-ID: <202003132207.02DM7BHc025083@freefriends.org>

    Then rm -rf texlive/2019 removed
    too much, leaving me with a broken system. 

Bob, what do you mean here? That removal shouldn't affect anything
except TL'19. It's always worked for me.

    So what is the correct way to unistall neither not enough
    nor too much of 2019?

Sorry, I don't know what this means either.

tlmgr remove --all and rm -rf should (after the change I just made, see
my reply to Denis) be equivalent, both removing the entire system
directory containing the TL installation. --best, karl.

From A.Grahn at hzdr.de  Fri Mar 13 23:34:59 2020
From: A.Grahn at hzdr.de (Alexander Grahn)
Date: Fri, 13 Mar 2020 23:34:59 +0100
Subject: GS 9.51 and transparency
In-Reply-To: <297f32af-8c78-d5e5-7308-53905e1486eb@fu-berlin.de>
References: <E19FB908-84D1-4996-B872-821CBB745C30@icloud.com>
 <e187703e-ecb4-318e-f945-fdab5fc56e2f@fu-berlin.de>
 <A4DFFDD4-A705-4A96-8C24-7943DF901430@icloud.com>
 <297f32af-8c78-d5e5-7308-53905e1486eb@fu-berlin.de>
Message-ID: <20200313223458.GA21402@hzdr.de>

On Fri, Mar 13, 2020 at 04:34:33PM +0100, Herbert Voss wrote:
>
>
>Am 13.03.20 um 16:31 schrieb Bruno Voisin:
>>> Le 13 mars 2020 ? 16:22, Herbert Voss <Herbert.Voss at FU-Berlin.DE> a ?crit :
>>>
>>> with 9.51 there will be no transparency. With 9.50 and running
>>> ps2pdf -dNOSAFER test.ps
>>>
>>> no problem (attached image)
>> I can confirm this, on the Mac with freshly compiled gs 9.51: with or without -dNOSAFER or -dALLOWPSTRANSPARENCY, the result is the same, no transparency.
>
>I used the "official" test file? examples/transparency_example.ps, 
>availabe from the bottom of
>https://git.ghostscript.com/?p=ghostpdl.git;a=commit;h=d1eac80695b2c6f2a85942a82518715549541969
>
>and had the same problem.
>
>Herbert
>

Bug report submitted: https://bugs.ghostscript.com/show_bug.cgi?id=702218

Alexander

From pauloney at gmail.com  Sat Mar 14 00:00:18 2020
From: pauloney at gmail.com (Paulo Ney de Souza)
Date: Fri, 13 Mar 2020 20:00:18 -0300
Subject: tl2020 pretest begin
In-Reply-To: <202003132206.02DM6vB9025053@freefriends.org>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
Message-ID: <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>

Well....it was done to a lot of files. How come some got changed and some
did not?

PN

On Fri, Mar 13, 2020, 7:06 PM Karl Berry <karl at freefriends.org> wrote:

>     Would it be possible to convert all text files to UTF-8?
>
> No. I am not going to randomly change other people's files.  Feel free
> to report it upstream (not to me) if you care sufficiently. -k
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200313/975be358/attachment-0001.html>

From rdtennent at gmail.com  Sat Mar 14 00:11:31 2020
From: rdtennent at gmail.com (Bob Tennent)
Date: Fri, 13 Mar 2020 19:11:31 -0400
Subject: uninstalling an old version
Message-ID: <20200313231131.21c9HJthq%rdtennent@gmail.com>

 >|    Then rm -rf texlive/2019 removed too much, leaving me
 >|    with a broken system.
 >|
 >|Bob, what do you mean here? That removal shouldn't affect
 >|anything except TL'19. It's always worked for me.

Might tlmgr remove --all or the above have removed the
symlinks in /usr/local/bin? That would have seemed like a
"broken" system; the binaries were there but not accessible.
When I re-installed, install-tl pointed out to me that in
that xterm, TEXMFVAR=~/.texlive2019/texmf-var; i.e., it
hadn't been updated since I'd started to use the pretest.
Perhaps the 2019 bin directory was still in the PATH.

Well after re-installing, all is well again.

Bob

From pauloney at gmail.com  Sat Mar 14 02:09:02 2020
From: pauloney at gmail.com (Paulo Ney de Souza)
Date: Fri, 13 Mar 2020 18:09:02 -0700
Subject: tl2020 pretest begin
In-Reply-To: <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
Message-ID: <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>

TeXLive does change a LOT of people's projects and files - to the better I
can easily see, but this is not what I am proposing. What I would like to
see is a set of standards -- which already exists -- like self-relocating,
etc ...

If you saw something wrong in a program -- you would change it -- and
possibly feed it back to the owner. In the same way documentation (and
non-doc) files like:

2) Je mo?n? p??mo pou??t p?ipraven? program vlna.exe.
3) S vhodn?m p?eklada?em a p?i tro?e ?t?st? lze t?? kompilovat program

Program poskytuji k ve?ejn?mu pou?it?. Pokud n?kdo ud?l? u?ite?n?
zm?ny ve zdrojov?m textu CWEB, cht?l bych b?t o tom informov?n. Bez
souhlasu autora nem??e b?t zm?n?n? program ???en pod stejn?m n?zvem.

Ned?v?m ??dnou z?ruku, ?e program nepo?kod? mnohahodinovou pr?ci,
kterou u?ivatel? editovali. Program sice vytv??? z?lohov? soubory, ale
ty se p?i dal??m pou?it? programu ma?ou.

D?kuji panu Rudolfu ?ejkovi za vytvo?en? Makefile a manu?lov? stranky
k programu. Rovn?? mu d?kuji za odstran?n? drobn?ch chyb programu, kter?
se vyskytly ve verzi 1.0.

18. 7. 2008       Petr Ol??k

are just wrong -- and should be fixed -- and most them are corrected by a
change in the encoding -- to the correct one.

Paulo Ney


On Fri, Mar 13, 2020 at 4:00 PM Paulo Ney de Souza <pauloney at gmail.com>
wrote:

> Well....it was done to a lot of files. How come some got changed and some
> did not?
>
> PN
>
> On Fri, Mar 13, 2020, 7:06 PM Karl Berry <karl at freefriends.org> wrote:
>
>>     Would it be possible to convert all text files to UTF-8?
>>
>> No. I am not going to randomly change other people's files.  Feel free
>> to report it upstream (not to me) if you care sufficiently. -k
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200313/4bbeaece/attachment.html>

From preining at logic.at  Sat Mar 14 02:33:31 2020
From: preining at logic.at (Norbert Preining)
Date: Sat, 14 Mar 2020 10:33:31 +0900
Subject: tl2020 pretest begin
In-Reply-To: <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
Message-ID: <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>

Paulo,

Just one comment: there is nothing like the "correct encoding". Here in Japan we use daily at least two to three.

So files that are in the encoding idea by those people mostly using the software are in the correct encoding, even if it is not utf8.

Best

Norbert

On March 14, 2020 10:09:02 AM GMT+09:00, Paulo Ney de Souza <pauloney at gmail.com> wrote:
>TeXLive does change a LOT of people's projects and files - to the better I
>can easily see, but this is not what I am proposing. What I would like to
>see is a set of standards -- which already exists -- like self-relocating,
>etc ...
>
>If you saw something wrong in a program -- you would change it -- and
>possibly feed it back to the owner. In the same way documentation (and
>non-doc) files like:
>
>2) Je mo?n? p??mo pou??t p?ipraven? program vlna.exe.
>3) S vhodn?m p?eklada?em a p?i tro?e ?t?st? lze t?? kompilovat program
>
>Program poskytuji k ve?ejn?mu pou?it?. Pokud n?kdo ud?l? u?ite?n?
>zm?ny ve zdrojov?m textu CWEB, cht?l bych b?t o tom informov?n. Bez
>souhlasu autora nem??e b?t zm?n?n? program ???en pod stejn?m n?zvem.
>
>Ned?v?m ??dnou z?ruku, ?e program nepo?kod? mnohahodinovou pr?ci,
>kterou u?ivatel? editovali. Program sice vytv??? z?lohov? soubory, ale
>ty se p?i dal??m pou?it? programu ma?ou.
>
>D?kuji panu Rudolfu ?ejkovi za vytvo?en? Makefile a manu?lov? stranky
>k programu. Rovn?? mu d?kuji za odstran?n? drobn?ch chyb programu, kter?
>se vyskytly ve verzi 1.0.
>
>18. 7. 2008       Petr Ol??k
>
>are just wrong -- and should be fixed -- and most them are corrected by a
>change in the encoding -- to the correct one.
>
>Paulo Ney
>
>
>On Fri, Mar 13, 2020 at 4:00 PM Paulo Ney de Souza <pauloney at gmail.com>
>wrote:
>
>> Well....it was done to a lot of files. How come some got changed and some
>> did not?
>>
>> PN
>>
>> On Fri, Mar 13, 2020, 7:06 PM Karl Berry <karl at freefriends.org> wrote:
>>
>>>     Would it be possible to convert all text files to UTF-8?
>>>
>>> No. I am not going to randomly change other people's files.  Feel free
>>> to report it upstream (not to me) if you care sufficiently. -k
>>>
>>


--
PREINING Norbert http://www.preining.info
Accelia Inc. + JAIST + TeX Live + Debian Developer
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From reinhard.kotucha at web.de  Sat Mar 14 02:50:37 2020
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 14 Mar 2020 02:50:37 +0100
Subject: tl2020 pretest begin
In-Reply-To: <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
Message-ID: <24172.14445.500814.69336@gargle.gargle.HOWL>

On 2020-03-13 at 18:09:02 -0700, Paulo Ney de Souza wrote:

 > TeXLive does change a LOT of people's projects and files [...]

Definitely not.  Can you provide an example?

 > If you saw something wrong in a program -- you would change it --
 > and possibly feed it back to the owner.

This can't work.  Bugs have to fixed upstream.  Otherwise such a big
distribution like TeX Live would be completely unmaintainable, not to
mention legal issues.

Karl et al. pointed out more than once that TeX Live provides exactly
what is on CTAN and that bug reports have to be sent to package authors.

TeX Live definitely never changes other people's files.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From zarniwhoop at ntlworld.com  Sat Mar 14 03:06:03 2020
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Sat, 14 Mar 2020 02:06:03 +0000
Subject: tl2020 pretest begin
In-Reply-To: <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
Message-ID: <20200314020603.GA14756@llamedos.localdomain>

On Sat, Mar 14, 2020 at 10:33:31AM +0900, Norbert Preining wrote:
> Paulo,
> 
> Just one comment: there is nothing like the "correct encoding". Here in Japan we use daily at least two to three.
> 
> So files that are in the encoding idea by those people mostly using the software are in the correct encoding, even if it is not utf8.
> 
> Best
> 
> Norbert
> 
> On March 14, 2020 10:09:02 AM GMT+09:00, Paulo Ney de Souza <pauloney at gmail.com> wrote:
> >TeXLive does change a LOT of people's projects and files - to the better I
> >can easily see, but this is not what I am proposing. What I would like to
> >see is a set of standards -- which already exists -- like self-relocating,
> >etc ...
> >
> >If you saw something wrong in a program -- you would change it -- and
> >possibly feed it back to the owner. In the same way documentation (and
> >non-doc) files like:
> >
> >2) Je mo?n? p??mo pou??t p?ipraven? program vlna.exe.
> >3) S vhodn?m p?eklada?em a p?i tro?e ?t?st? lze t?? kompilovat program
> >

I hesitate to reply to this, partly because I'm still on 2019,
partly because most people on this list understand things which I
don't, and partly because I've no idea how Paulo is looking at these
files which do look to be borken.

I'm well aware that running 'file' (and even diff, if it decides
that the first few hundred lines are 8859-1 or ASCII, e.g. when
diffing firefox versions, can produce rubbish), so a couple of
questions :

For Paulo - how are you looking at these files to see this rubbish ?

For anyone, perhaps after Paulo has responded - is there a
"recommended" way to look at the files, so that the desired encoding
will be obeyed ?  And if so, do the files need some markings to say
"use this encoding" ?  When unicode works (and I think I somewhat
understand Norbert's comment about what people use in Japan) it is
at least semi-legible (although in Han probably at least ugly, and
maybe not really legible) whereas the examples above are just
garbage.

Clearly, any change needs to be on a per-package basis, but is there
actually an approach to changing them which will work ?

?en
-- 
#define THE_TRUTH_AND_THATS_CUTTIN_ME_OWN_THROAT true
            Al Viro, complaining about a 'TRUE' macro in staging


From pauloney at gmail.com  Sat Mar 14 03:08:49 2020
From: pauloney at gmail.com (Paulo Ney de Souza)
Date: Fri, 13 Mar 2020 19:08:49 -0700
Subject: tl2020 pretest begin
In-Reply-To: <24172.14445.500814.69336@gargle.gargle.HOWL>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <24172.14445.500814.69336@gargle.gargle.HOWL>
Message-ID: <CAFVhNZOBVfkm_jmm_1ULTopL2Y=aKRO5Obu+iw3Pp6moKdiutw@mail.gmail.com>

Reinhard,

When we took over the maintenance of "detex" we got a BUNCH of patches
(from TeXLive maintainers) that were regularly being applied to it for the
TeXLive compilation. I, in fact did check each one of them, and they were
all being a part of the compiled version of "detex" being distributed by
TeXLive.

I can go back and dig the e-mails, but I hope that is not necessary -- the
old code-base did not even compile.

Ultimately this boils down to -- what is the difference between requiring
"self-relocating" and "correct encoding" ??? To me they are both properties
of good code and they can be equally required. Why one and not the other?

Paulo Ney

On Fri, Mar 13, 2020 at 6:50 PM Reinhard Kotucha <reinhard.kotucha at web.de>
wrote:

> On 2020-03-13 at 18:09:02 -0700, Paulo Ney de Souza wrote:
>
>  > TeXLive does change a LOT of people's projects and files [...]
>
> Definitely not.  Can you provide an example?
>
>  > If you saw something wrong in a program -- you would change it --
>  > and possibly feed it back to the owner.
>
> This can't work.  Bugs have to fixed upstream.  Otherwise such a big
> distribution like TeX Live would be completely unmaintainable, not to
> mention legal issues.
>
> Karl et al. pointed out more than once that TeX Live provides exactly
> what is on CTAN and that bug reports have to be sent to package authors.
>
> TeX Live definitely never changes other people's files.
>
> Regards,
>   Reinhard
>
> --
> ------------------------------------------------------------------
> Reinhard Kotucha                            Phone: +49-511-3373112
> Marschnerstr. 25
> D-30167 Hannover                    mailto:reinhard.kotucha at web.de
> ------------------------------------------------------------------
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200313/1e3794d0/attachment-0001.html>

From reinhard.kotucha at web.de  Sat Mar 14 03:20:52 2020
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 14 Mar 2020 03:20:52 +0100
Subject: tl2020 pretest begin
In-Reply-To: <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
Message-ID: <24172.16260.843996.347574@gargle.gargle.HOWL>

On 2020-03-14 at 10:33:31 +0900, Norbert Preining wrote:

 > Paulo,
 >
 > Just one comment: there is nothing like the "correct
 > encoding". Here in Japan we use daily at least two to three.
 >
 > So files that are in the encoding idea by those people mostly using
 > the software are in the correct encoding, even if it is not utf8.

The problem is not the encoding itself.  The problem is that many file
formats don't allow to specify the encoding.  Positive examples are
HTML and LaTeX where you (can|have to) declare the encoding.  HTML
pages are broken almost everywhere if no encoding is specified.

I agree with Paulo that UTF-8 is the preferred encoding, whenever
possible.  The world is quite small nowadays.

Is there any reason why Japanese prefer other encodings than UTF-8?

AFAIK Vietnamese nowadays prefer UTF-8 over VISCII.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From pauloney at gmail.com  Sat Mar 14 03:28:48 2020
From: pauloney at gmail.com (Paulo Ney de Souza)
Date: Fri, 13 Mar 2020 19:28:48 -0700
Subject: tl2020 pretest begin
In-Reply-To: <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
Message-ID: <CAFVhNZP3HpQo-zAx42B00t077c0pVsh-y6z7X89rkPiAn+z_tQ@mail.gmail.com>

On Fri, Mar 13, 2020 at 6:33 PM Norbert Preining <preining at logic.at> wrote:

> Paulo,
>
> Just one comment: there is nothing like the "correct encoding". Here in
> Japan we use daily at least two to three.
>


And I assume they are all correct -- in the sense they display the right
thing to a reader.

But something that is signed with "Petr Ol??k" is very big indication that
the file was written in ISO-8859-2 and saved in ISO-8859-1. In fact if you
change it -- the whole file becomes correct.

So files that are in the encoding idea by those people mostly using the
> software are in the correct encoding, even if it is not utf8.
>
> Best
> Norbert
>

Not always!  Just check the documentation for "vlna" and you will see.

Paulo Ney



> On March 14, 2020 10:09:02 AM GMT+09:00, Paulo Ney de Souza <
> pauloney at gmail.com> wrote:
> >TeXLive does change a LOT of people's projects and files - to the better I
> >can easily see, but this is not what I am proposing. What I would like to
> >see is a set of standards -- which already exists -- like self-relocating,
> >etc ...
> >
> >If you saw something wrong in a program -- you would change it -- and
> >possibly feed it back to the owner. In the same way documentation (and
> >non-doc) files like:
> >
> >2) Je mo?n? p??mo pou??t p?ipraven? program vlna.exe.
> >3) S vhodn?m p?eklada?em a p?i tro?e ?t?st? lze t?? kompilovat program
> >
> >Program poskytuji k ve?ejn?mu pou?it?. Pokud n?kdo ud?l? u?ite?n?
> >zm?ny ve zdrojov?m textu CWEB, cht?l bych b?t o tom informov?n. Bez
> >souhlasu autora nem??e b?t zm?n?n? program ???en pod stejn?m n?zvem.
> >
> >Ned?v?m ??dnou z?ruku, ?e program nepo?kod? mnohahodinovou pr?ci,
> >kterou u?ivatel? editovali. Program sice vytv??? z?lohov? soubory, ale
> >ty se p?i dal??m pou?it? programu ma?ou.
> >
> >D?kuji panu Rudolfu ?ejkovi za vytvo?en? Makefile a manu?lov? stranky
> >k programu. Rovn?? mu d?kuji za odstran?n? drobn?ch chyb programu, kter?
> >se vyskytly ve verzi 1.0.
> >
> >18. 7. 2008       Petr Ol??k
> >
> >are just wrong -- and should be fixed -- and most them are corrected by a
> >change in the encoding -- to the correct one.
> >
> >Paulo Ney
> >
> >
> >On Fri, Mar 13, 2020 at 4:00 PM Paulo Ney de Souza <pauloney at gmail.com>
> >wrote:
> >
> >> Well....it was done to a lot of files. How come some got changed and
> some
> >> did not?
> >>
> >> PN
> >>
> >> On Fri, Mar 13, 2020, 7:06 PM Karl Berry <karl at freefriends.org> wrote:
> >>
> >>>     Would it be possible to convert all text files to UTF-8?
> >>>
> >>> No. I am not going to randomly change other people's files.  Feel free
> >>> to report it upstream (not to me) if you care sufficiently. -k
> >>>
> >>
>
>
> --
> PREINING Norbert http://www.preining.info
> Accelia Inc. + JAIST + TeX Live + Debian Developer
> GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200313/ccb11c78/attachment.html>

From pauloney at gmail.com  Sat Mar 14 03:30:41 2020
From: pauloney at gmail.com (Paulo Ney de Souza)
Date: Fri, 13 Mar 2020 19:30:41 -0700
Subject: tl2020 pretest begin
In-Reply-To: <24172.16260.843996.347574@gargle.gargle.HOWL>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
 <24172.16260.843996.347574@gargle.gargle.HOWL>
Message-ID: <CAFVhNZOw2Cfh56awAC_bxcrFsrg5jPFvY=dxM3AFhm_nk5mfzQ@mail.gmail.com>

And indeed TeXLive is full of HTML pages that have no declared encoding.

Paulo Ney

On Fri, Mar 13, 2020 at 7:21 PM Reinhard Kotucha <reinhard.kotucha at web.de>
wrote:

> On 2020-03-14 at 10:33:31 +0900, Norbert Preining wrote:
>
>  > Paulo,
>  >
>  > Just one comment: there is nothing like the "correct
>  > encoding". Here in Japan we use daily at least two to three.
>  >
>  > So files that are in the encoding idea by those people mostly using
>  > the software are in the correct encoding, even if it is not utf8.
>
> The problem is not the encoding itself.  The problem is that many file
> formats don't allow to specify the encoding.  Positive examples are
> HTML and LaTeX where you (can|have to) declare the encoding.  HTML
> pages are broken almost everywhere if no encoding is specified.
>
> I agree with Paulo that UTF-8 is the preferred encoding, whenever
> possible.  The world is quite small nowadays.
>
> Is there any reason why Japanese prefer other encodings than UTF-8?
>
> AFAIK Vietnamese nowadays prefer UTF-8 over VISCII.
>
> Regards,
>   Reinhard
>
> --
> ------------------------------------------------------------------
> Reinhard Kotucha                            Phone: +49-511-3373112
> Marschnerstr. 25
> D-30167 Hannover                    mailto:reinhard.kotucha at web.de
> ------------------------------------------------------------------
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200313/de6f600a/attachment.html>

From zarniwhoop at ntlworld.com  Sat Mar 14 03:36:37 2020
From: zarniwhoop at ntlworld.com (Ken Moffat)
Date: Sat, 14 Mar 2020 02:36:37 +0000
Subject: tl2020 pretest begin
In-Reply-To: <24172.16260.843996.347574@gargle.gargle.HOWL>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
 <24172.16260.843996.347574@gargle.gargle.HOWL>
Message-ID: <20200314023637.GA15627@llamedos.localdomain>

On Sat, Mar 14, 2020 at 03:20:52AM +0100, Reinhard Kotucha wrote:
> 
> Is there any reason why Japanese prefer other encodings than UTF-8?
> 

As I understand it, from a Japanese point of view the shapes for
some Han codepoints are "wrong".  Some of the Han codepoints are
only used by one of the variant scripts, but others are used by more
than one (in this case, Japanese and one of the Chinese variants)
and look wrong to Japanese eyes.

For codepoints which are in both zh-cn and zh-hk I think that the
same may be true (compare the variants of Noto fonts).

OTOH, my understanding is based on what people told me in the past,
and maybe I'm totally wrong.  If so, please correct this.

?en
-- 
#define THE_TRUTH_AND_THATS_CUTTIN_ME_OWN_THROAT true
            Al Viro, complaining about a 'TRUE' macro in staging


From reinhard.kotucha at web.de  Sat Mar 14 03:38:21 2020
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 14 Mar 2020 03:38:21 +0100
Subject: tl2020 pretest begin
In-Reply-To: <CAFVhNZOBVfkm_jmm_1ULTopL2Y=aKRO5Obu+iw3Pp6moKdiutw@mail.gmail.com>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <24172.14445.500814.69336@gargle.gargle.HOWL>
 <CAFVhNZOBVfkm_jmm_1ULTopL2Y=aKRO5Obu+iw3Pp6moKdiutw@mail.gmail.com>
Message-ID: <24172.17309.650282.573017@gargle.gargle.HOWL>

On 2020-03-13 at 19:08:49 -0700, Paulo Ney de Souza wrote:

 > When we took over the maintenance of "detex" we got a BUNCH of
 > patches (from TeXLive maintainers) that were regularly being
 > applied to it for the TeXLive compilation. I, in fact did check
 > each one of them, and they were all being a part of the compiled
 > version of "detex" being distributed by TeXLive.

Ahh, you are talking about the sources of binary files.  Of course
they have to be adapted to make them work with current compilers and
operating systems.

But problems are usually reported upstream, at least.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From reinhard.kotucha at web.de  Sat Mar 14 03:55:32 2020
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 14 Mar 2020 03:55:32 +0100
Subject: tl2020 pretest begin
In-Reply-To: <CAFVhNZOw2Cfh56awAC_bxcrFsrg5jPFvY=dxM3AFhm_nk5mfzQ@mail.gmail.com>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
 <24172.16260.843996.347574@gargle.gargle.HOWL>
 <CAFVhNZOw2Cfh56awAC_bxcrFsrg5jPFvY=dxM3AFhm_nk5mfzQ@mail.gmail.com>
Message-ID: <24172.18340.627856.43404@gargle.gargle.HOWL>

On 2020-03-13 at 19:30:41 -0700, Paulo Ney de Souza wrote:

 > And indeed TeXLive is full of HTML pages that have no declared
 > encoding.

Can you provide a list of these pages?  IMO every HTML page which
doesn't declare its encoding is broken and obviously non-portable.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From preining at logic.at  Sat Mar 14 03:58:56 2020
From: preining at logic.at (Norbert Preining)
Date: Sat, 14 Mar 2020 11:58:56 +0900
Subject: tl2020 pretest begin
In-Reply-To: <CAFVhNZOBVfkm_jmm_1ULTopL2Y=aKRO5Obu+iw3Pp6moKdiutw@mail.gmail.com>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <24172.14445.500814.69336@gargle.gargle.HOWL>
 <CAFVhNZOBVfkm_jmm_1ULTopL2Y=aKRO5Obu+iw3Pp6moKdiutw@mail.gmail.com>
Message-ID: <20200314025856.GA36251@burischnitzel.preining.info>

On Fri, 13 Mar 2020, Paulo Ney de Souza wrote:
> "self-relocating" and "correct encoding" ??? To me they are both properties

self-relocating is necessary to make it work in TeX Live.
Encodings are arbitrary and there is **NO** meaning for **correct**
encoding.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Sat Mar 14 04:01:53 2020
From: preining at logic.at (Norbert Preining)
Date: Sat, 14 Mar 2020 12:01:53 +0900
Subject: tl2020 pretest begin
In-Reply-To: <CAFVhNZP3HpQo-zAx42B00t077c0pVsh-y6z7X89rkPiAn+z_tQ@mail.gmail.com>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
 <CAFVhNZP3HpQo-zAx42B00t077c0pVsh-y6z7X89rkPiAn+z_tQ@mail.gmail.com>
Message-ID: <20200314030153.GB36251@burischnitzel.preining.info>

Hi Paulo,

> And I assume they are all correct -- in the sense they display the right
> thing to a reader.

The are all correct, but don't display the right thing.

The basic property of encodings is that, if you don't know the encoding,
you cannot properly display it.

There are tools for guessing the encoding (nkf eg), but without knowing
whether it is iso8850, iso-2022, utf8, or whatever strange it might be,
there is NO way to properly display it.

So what do you mean with correct?

> But something that is signed with "Petr Ol??k" is very big indication that
> the file was written in ISO-8859-2 and saved in ISO-8859-1. In fact if you
> change it -- the whole file becomes correct.

No, it was probably **displayed** in 8859-1. You computer environment
assumes a certain file encoding, but that might be wrong.

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Sat Mar 14 04:03:48 2020
From: preining at logic.at (Norbert Preining)
Date: Sat, 14 Mar 2020 12:03:48 +0900
Subject: tl2020 pretest begin
In-Reply-To: <24172.16260.843996.347574@gargle.gargle.HOWL>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
 <24172.16260.843996.347574@gargle.gargle.HOWL>
Message-ID: <20200314030348.GC36251@burischnitzel.preining.info>

> The problem is not the encoding itself.  The problem is that many file
> formats don't allow to specify the encoding.  Positive examples are

Indeed. Most fundamentally simple text files.

> I agree with Paulo that UTF-8 is the preferred encoding, whenever
> possible.  The world is quite small nowadays.

Well, I agree with that, for sure.

> Is there any reason why Japanese prefer other encodings than UTF-8?

Shorter encoding of normal text. If you use iso-2022 or euenc or so,
you get shorter byte length because UTF8 encodes CJK with 2-4 bytes.
And the fact that lots of programs are actually still defaulting to
these encodings, in particular mail programs. You want to know ho wmany
mails a day with these non-utf encodings I get per day?

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Sat Mar 14 04:05:10 2020
From: preining at logic.at (Norbert Preining)
Date: Sat, 14 Mar 2020 12:05:10 +0900
Subject: tl2020 pretest begin
In-Reply-To: <20200314023637.GA15627@llamedos.localdomain>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
 <24172.16260.843996.347574@gargle.gargle.HOWL>
 <20200314023637.GA15627@llamedos.localdomain>
Message-ID: <20200314030510.GD36251@burischnitzel.preining.info>

> As I understand it, from a Japanese point of view the shapes for
> some Han codepoints are "wrong".  Some of the Han codepoints are

That is a different topic, the Han-unification (one of the big failures
in the Unicode development). But that is irrelevant here, to some
degree. The encodings are not used to avoid the Han unification.

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Sat Mar 14 04:08:07 2020
From: preining at logic.at (Norbert Preining)
Date: Sat, 14 Mar 2020 12:08:07 +0900
Subject: tl2020 pretest begin
In-Reply-To: <20200314020603.GA14756@llamedos.localdomain>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
 <20200314020603.GA14756@llamedos.localdomain>
Message-ID: <20200314030807.GE36251@burischnitzel.preining.info>

Hi Ken,

> "recommended" way to look at the files, so that the desired encoding
> will be obeyed ?  And if so, do the files need some markings to say

There are a few editors (yudit eg) that try hard to guess the correct
encoding. But as I wrote, if you don't know which encoding is used, it
is a wild guess and can come up as rubbish.

> understand Norbert's comment about what people use in Japan) it is
> at least semi-legible (although in Han probably at least ugly, and

Depends. In the euenc/utf case you might end up with parts readable and
parts unreadable, a case I often see in emails I get which don't specify
the encoding. Or it might be completely unreadable besides the ascii
parts. Most encodings agree on the ascii part, so that is the only one
that comes through in most cases.

> Clearly, any change needs to be on a per-package basis, but is there
> actually an approach to changing them which will work ?

Yes, knowledge of the content and manual inspection. But nothing
automatic.

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From pauloney at gmail.com  Sat Mar 14 04:09:40 2020
From: pauloney at gmail.com (Paulo Ney de Souza)
Date: Fri, 13 Mar 2020 20:09:40 -0700
Subject: tl2020 pretest begin
In-Reply-To: <20200314030153.GB36251@burischnitzel.preining.info>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
 <CAFVhNZP3HpQo-zAx42B00t077c0pVsh-y6z7X89rkPiAn+z_tQ@mail.gmail.com>
 <20200314030153.GB36251@burischnitzel.preining.info>
Message-ID: <CAFVhNZN0PtRjxVNGVQc4J14qOzMPoqo17-jQSCmnMq0Qo8bgwA@mail.gmail.com>

On Fri, Mar 13, 2020 at 8:01 PM Norbert Preining <preining at logic.at> wrote:

> Hi Paulo,
>
> > And I assume they are all correct -- in the sense they display the right
> > thing to a reader.
>
> The are all correct, but don't display the right thing.
>
> The basic property of encodings is that, if you don't know the encoding,
> you cannot properly display it.
>
> There are tools for guessing the encoding (nkf eg), but without knowing
> whether it is iso8850, iso-2022, utf8, or whatever strange it might be,
> there is NO way to properly display it.
>
> So what do you mean with correct?
>
> > But something that is signed with "Petr Ol??k" is very big indication
> that
> > the file was written in ISO-8859-2 and saved in ISO-8859-1. In fact if
> you
> > change it -- the whole file becomes correct.
>
> No, it was probably **displayed** in 8859-1. You computer environment
> assumes a certain file encoding, but that might be wrong.
>
> Best
>
> Norbert
>

Norbert,

The file has been saved incorrectly. Both Ubuntu and Windows see it like
that. Just take a minute to open the file:

     texlive-source-trunk/utils/vlna/vlna-src/README

and you will see.

Paulo Ney
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200313/bd097e62/attachment.html>

From pauloney at gmail.com  Sat Mar 14 04:11:34 2020
From: pauloney at gmail.com (Paulo Ney de Souza)
Date: Fri, 13 Mar 2020 20:11:34 -0700
Subject: tl2020 pretest begin
In-Reply-To: <24172.17309.650282.573017@gargle.gargle.HOWL>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <24172.14445.500814.69336@gargle.gargle.HOWL>
 <CAFVhNZOBVfkm_jmm_1ULTopL2Y=aKRO5Obu+iw3Pp6moKdiutw@mail.gmail.com>
 <24172.17309.650282.573017@gargle.gargle.HOWL>
Message-ID: <CAFVhNZPvb8K-SgY6ShhrdxDP_rSd9QDiOSpACbVw035JJwTNZQ@mail.gmail.com>

On Fri, Mar 13, 2020 at 7:38 PM Reinhard Kotucha <reinhard.kotucha at web.de>
wrote:

> On 2020-03-13 at 19:08:49 -0700, Paulo Ney de Souza wrote:
>
>  > When we took over the maintenance of "detex" we got a BUNCH of
>  > patches (from TeXLive maintainers) that were regularly being
>  > applied to it for the TeXLive compilation. I, in fact did check
>  > each one of them, and they were all being a part of the compiled
>  > version of "detex" being distributed by TeXLive.
>
> Ahh, you are talking about the sources of binary files.  Of course
> they have to be adapted to make them work with current compilers and
> operating systems.
>
> But problems are usually reported upstream, at least.
>
> Regards,
>   Reinhard
>
>
That is all I am asking. Binary or Text, I think it does not matter -- what
is wrong should be fixed ... and reported upstream. But the problem goes
further than that. There are scripts making changes to the files -- which
are not producing correct UTF-8 because of the encoding they are save on.

Paulo Ney
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200313/8ebf7a04/attachment-0001.html>

From preining at logic.at  Sat Mar 14 04:16:49 2020
From: preining at logic.at (Norbert Preining)
Date: Sat, 14 Mar 2020 12:16:49 +0900
Subject: tl2020 pretest begin
In-Reply-To: <CAFVhNZN0PtRjxVNGVQc4J14qOzMPoqo17-jQSCmnMq0Qo8bgwA@mail.gmail.com>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
 <CAFVhNZP3HpQo-zAx42B00t077c0pVsh-y6z7X89rkPiAn+z_tQ@mail.gmail.com>
 <20200314030153.GB36251@burischnitzel.preining.info>
 <CAFVhNZN0PtRjxVNGVQc4J14qOzMPoqo17-jQSCmnMq0Qo8bgwA@mail.gmail.com>
Message-ID: <20200314031649.GA43633@burischnitzel.preining.info>

> The file has been saved incorrectly. Both Ubuntu and Windows see it like
> that. Just take a minute to open the file:
> 
>      texlive-source-trunk/utils/vlna/vlna-src/README
> 
> and you will see.

No, you simply DON'T GET IT!!! IT IS CORRECT!!!!

Start up emacs
	C-x RET c
	iso-8859-2
	C-x C-f
	README
That is, select iso-8859-2 for opening the file, and you will see that
it displays ***absolutely** correct ...

It is YOUR EDITOR that is broken because it assumes UTF-8.

This file is, as it is also stated in the first lines, encoded in
iso-8859-2.

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From pauloney at gmail.com  Sat Mar 14 04:22:34 2020
From: pauloney at gmail.com (Paulo Ney de Souza)
Date: Fri, 13 Mar 2020 20:22:34 -0700
Subject: tl2020 pretest begin
In-Reply-To: <24172.18340.627856.43404@gargle.gargle.HOWL>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
 <24172.16260.843996.347574@gargle.gargle.HOWL>
 <CAFVhNZOw2Cfh56awAC_bxcrFsrg5jPFvY=dxM3AFhm_nk5mfzQ@mail.gmail.com>
 <24172.18340.627856.43404@gargle.gargle.HOWL>
Message-ID: <CAFVhNZN86vGzMiM0KwjSD=ndeEFn8KBXR-S7LkD9SSGzhwGZiQ@mail.gmail.com>

On Fri, Mar 13, 2020 at 7:55 PM Reinhard Kotucha <reinhard.kotucha at web.de>
wrote:

> On 2020-03-13 at 19:30:41 -0700, Paulo Ney de Souza wrote:
>
>  > And indeed TeXLive is full of HTML pages that have no declared
>  > encoding.
>
> Can you provide a list of these pages?  IMO every HTML page which
> doesn't declare its encoding is broken and obviously non-portable.
>
> Regards,
>   Reinhard
>

None of these have "charset" defined.

>
>   texk/ttfdump/docs/ttfdump.html
>   texk/web2c/luatexdir/luasocket/doc/installation.html
>   texk/web2c/luatexdir/luasocket/doc/mime.html
>   texk/web2c/luatexdir/luasocket/doc/reference.html
>   texk/web2c/luatexdir/luasocket/doc/smtp.html
>   texk/web2c/luatexdir/luasocket/doc/socket.html
>   texk/web2c/luatexdir/luasocket/doc/ltn12.html
>   texk/web2c/luatexdir/luasocket/doc/tcp.html
>   texk/web2c/luatexdir/luasocket/doc/index.html
>   texk/web2c/luatexdir/luasocket/doc/url.html
>   texk/web2c/luatexdir/luasocket/doc/http.html
>   texk/web2c/luatexdir/luasocket/doc/udp.html
>   texk/web2c/luatexdir/luasocket/doc/dns.html
>   texk/web2c/luatexdir/luasocket/doc/introduction.html
>   texk/web2c/luatexdir/luasocket/doc/ftp.html
>   texk/web2c/luatexdir/luasocket/test/index.html
>   texk/web2c/luatexdir/luasocket/test/upload.html
>   texk/web2c/luatexdir/luasocket/test/auth/index.html
>   texk/web2c/luatexdir/luamd5/md5.html
>   libs/freetype2/freetype-src/builds/windows/visualc/index.html
>   libs/freetype2/freetype-src/builds/windows/vc2010/index.html
>   libs/freetype2/freetype-src/builds/windows/visualce/index.html
>   libs/freetype2/freetype-src/builds/wince/vc2008-ce/index.html
>   libs/freetype2/freetype-src/builds/wince/vc2005-ce/index.html
>   libs/icu/icu-src/source/test/perf/collationperf/readme.html
>   libs/gd/libgd-src/docs/naturaldocs/html/index.html
>   libs/zziplib/zziplib-src/docs/zziplib.html
>   utils/xindy/xindy-src/doc/manual-7.html
>   utils/xindy/xindy-src/doc/style-tutorial-1.html
>   utils/xindy/xindy-src/doc/faq-2.html
>   utils/xindy/xindy-src/doc/manual-2.html
>   utils/xindy/xindy-src/doc/style-tutorial.html
>   utils/xindy/xindy-src/doc/manual-6.html
>   utils/xindy/xindy-src/doc/faq-3.html
>   utils/xindy/xindy-src/doc/manual-4.html
>   utils/xindy/xindy-src/doc/style-tutorial-3.html
>   utils/xindy/xindy-src/doc/manual-3.html
>   utils/xindy/xindy-src/doc/style-tutorial-2.html
>   utils/xindy/xindy-src/doc/style-tutorial-4.html
>   utils/xindy/xindy-src/doc/faq-4.html
>   utils/xindy/xindy-src/doc/faq.html
>   utils/xindy/xindy-src/doc/manual-5.html
>   utils/xindy/xindy-src/doc/manual-1.html
>   utils/xindy/xindy-src/doc/faq-1.html
>   utils/xindy/xindy-src/doc/manual.html
>

PN
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200313/a246bd6a/attachment.html>

From pauloney at gmail.com  Sat Mar 14 04:40:34 2020
From: pauloney at gmail.com (Paulo Ney de Souza)
Date: Fri, 13 Mar 2020 20:40:34 -0700
Subject: tl2020 pretest begin
In-Reply-To: <20200314031649.GA43633@burischnitzel.preining.info>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
 <CAFVhNZP3HpQo-zAx42B00t077c0pVsh-y6z7X89rkPiAn+z_tQ@mail.gmail.com>
 <20200314030153.GB36251@burischnitzel.preining.info>
 <CAFVhNZN0PtRjxVNGVQc4J14qOzMPoqo17-jQSCmnMq0Qo8bgwA@mail.gmail.com>
 <20200314031649.GA43633@burischnitzel.preining.info>
Message-ID: <CAFVhNZMcSgTepHMehRSiO6ZeSQOEMDzLGcktN=rkGGU4NPDtyw@mail.gmail.com>

On Fri, Mar 13, 2020 at 8:16 PM Norbert Preining <preining at logic.at> wrote:

> > The file has been saved incorrectly. Both Ubuntu and Windows see it like
> > that. Just take a minute to open the file:
> >
> >      texlive-source-trunk/utils/vlna/vlna-src/README
> >
> > and you will see.
>
> No, you simply DON'T GET IT!!! IT IS CORRECT!!!!
>
> Start up emacs
>         C-x RET c
>         iso-8859-2
>         C-x C-f
>         README
> That is, select iso-8859-2 for opening the file, and you will see that
> it displays ***absolutely** correct ...
>
> It is YOUR EDITOR that is broken because it assumes UTF-8.
>
> This file is, as it is also stated in the first lines, encoded in
> iso-8859-2.
>
> Norbert
>

Norbert,

You are correct! Sorry. If you tell your editor by hand to use ISO-8859-2,
you get the correct display, but my point is different.

The OS tries to determine the encoding and then open the file on what
believes it is the correct one. At the time that package was written
ISO-8859-2 was really common in Czechoslovakia, now it is no longer the
case - now they use UTF-8 in the region.

Paulo Ney
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200313/176cecc1/attachment.html>

From preining at logic.at  Sat Mar 14 04:49:42 2020
From: preining at logic.at (Norbert Preining)
Date: Sat, 14 Mar 2020 12:49:42 +0900
Subject: tl2020 pretest begin
In-Reply-To: <CAFVhNZMcSgTepHMehRSiO6ZeSQOEMDzLGcktN=rkGGU4NPDtyw@mail.gmail.com>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
 <CAFVhNZP3HpQo-zAx42B00t077c0pVsh-y6z7X89rkPiAn+z_tQ@mail.gmail.com>
 <20200314030153.GB36251@burischnitzel.preining.info>
 <CAFVhNZN0PtRjxVNGVQc4J14qOzMPoqo17-jQSCmnMq0Qo8bgwA@mail.gmail.com>
 <20200314031649.GA43633@burischnitzel.preining.info>
 <CAFVhNZMcSgTepHMehRSiO6ZeSQOEMDzLGcktN=rkGGU4NPDtyw@mail.gmail.com>
Message-ID: <12BFCA11-089A-435C-A18C-130B686B3EAE@logic.at>

Hi Paulo,

Might be, but this is up to the maintainer of the package to decide, and not our job.

The file is correctly ended, displays correctly.

Furthermore I guess that editors/os in the respective region will try iso-8859-2 automatically ("language environment" in emacs).

So I don't see any reason why we should change the encoding. But feel free to suggest it to the maintainer.

Best

Norbert



--
PREINING Norbert http://www.preining.info
Accelia Inc. + JAIST + TeX Live + Debian Developer
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From reinhard.kotucha at web.de  Sat Mar 14 05:18:03 2020
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 14 Mar 2020 05:18:03 +0100
Subject: tl2020 pretest begin
In-Reply-To: <CAFVhNZN86vGzMiM0KwjSD=ndeEFn8KBXR-S7LkD9SSGzhwGZiQ@mail.gmail.com>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
 <24172.16260.843996.347574@gargle.gargle.HOWL>
 <CAFVhNZOw2Cfh56awAC_bxcrFsrg5jPFvY=dxM3AFhm_nk5mfzQ@mail.gmail.com>
 <24172.18340.627856.43404@gargle.gargle.HOWL>
 <CAFVhNZN86vGzMiM0KwjSD=ndeEFn8KBXR-S7LkD9SSGzhwGZiQ@mail.gmail.com>
Message-ID: <24172.23291.39875.123862@gargle.gargle.HOWL>

On 2020-03-13 at 20:22:34 -0700, Paulo Ney de Souza wrote:

 > On Fri, Mar 13, 2020 at 7:55 PM Reinhard Kotucha <reinhard.kotucha at web.de>
 > wrote:
 >
 > > On 2020-03-13 at 19:30:41 -0700, Paulo Ney de Souza wrote:
 > >
 > >  > And indeed TeXLive is full of HTML pages that have no declared
 > >  > encoding.
 > >
 > > Can you provide a list of these pages?  IMO every HTML page which
 > > doesn't declare its encoding is broken and obviously non-portable.
 > >
 > > Regards,
 > >   Reinhard
 > >
 >
 > None of these have "charset" defined.

Please report this upstream.

TeX Live developers cannot and will not change these files.  The
authors of these files are responsible.  Please consult *them*.

None of these files is maintained by TeX Live.

Regards,
  Reinhard

 > >   texk/ttfdump/docs/ttfdump.html
 > >   texk/web2c/luatexdir/luasocket/doc/installation.html
 > >   texk/web2c/luatexdir/luasocket/doc/mime.html
 > >   texk/web2c/luatexdir/luasocket/doc/reference.html
 > >   texk/web2c/luatexdir/luasocket/doc/smtp.html
 > >   texk/web2c/luatexdir/luasocket/doc/socket.html
 > >   texk/web2c/luatexdir/luasocket/doc/ltn12.html
 > >   texk/web2c/luatexdir/luasocket/doc/tcp.html
 > >   texk/web2c/luatexdir/luasocket/doc/index.html
 > >   texk/web2c/luatexdir/luasocket/doc/url.html
 > >   texk/web2c/luatexdir/luasocket/doc/http.html
 > >   texk/web2c/luatexdir/luasocket/doc/udp.html
 > >   texk/web2c/luatexdir/luasocket/doc/dns.html
 > >   texk/web2c/luatexdir/luasocket/doc/introduction.html
 > >   texk/web2c/luatexdir/luasocket/doc/ftp.html
 > >   texk/web2c/luatexdir/luasocket/test/index.html
 > >   texk/web2c/luatexdir/luasocket/test/upload.html
 > >   texk/web2c/luatexdir/luasocket/test/auth/index.html
 > >   texk/web2c/luatexdir/luamd5/md5.html
 > >   libs/freetype2/freetype-src/builds/windows/visualc/index.html
 > >   libs/freetype2/freetype-src/builds/windows/vc2010/index.html
 > >   libs/freetype2/freetype-src/builds/windows/visualce/index.html
 > >   libs/freetype2/freetype-src/builds/wince/vc2008-ce/index.html
 > >   libs/freetype2/freetype-src/builds/wince/vc2005-ce/index.html
 > >   libs/icu/icu-src/source/test/perf/collationperf/readme.html
 > >   libs/gd/libgd-src/docs/naturaldocs/html/index.html
 > >   libs/zziplib/zziplib-src/docs/zziplib.html
 > >   utils/xindy/xindy-src/doc/manual-7.html
 > >   utils/xindy/xindy-src/doc/style-tutorial-1.html
 > >   utils/xindy/xindy-src/doc/faq-2.html
 > >   utils/xindy/xindy-src/doc/manual-2.html
 > >   utils/xindy/xindy-src/doc/style-tutorial.html
 > >   utils/xindy/xindy-src/doc/manual-6.html
 > >   utils/xindy/xindy-src/doc/faq-3.html
 > >   utils/xindy/xindy-src/doc/manual-4.html
 > >   utils/xindy/xindy-src/doc/style-tutorial-3.html
 > >   utils/xindy/xindy-src/doc/manual-3.html
 > >   utils/xindy/xindy-src/doc/style-tutorial-2.html
 > >   utils/xindy/xindy-src/doc/style-tutorial-4.html
 > >   utils/xindy/xindy-src/doc/faq-4.html
 > >   utils/xindy/xindy-src/doc/faq.html
 > >   utils/xindy/xindy-src/doc/manual-5.html
 > >   utils/xindy/xindy-src/doc/manual-1.html
 > >   utils/xindy/xindy-src/doc/faq-1.html
 > >   utils/xindy/xindy-src/doc/manual.html

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From d.p.carlisle at gmail.com  Sat Mar 14 09:20:35 2020
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sat, 14 Mar 2020 08:20:35 +0000
Subject: tl2020 pretest begin
In-Reply-To: <CAFVhNZN0PtRjxVNGVQc4J14qOzMPoqo17-jQSCmnMq0Qo8bgwA@mail.gmail.com>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
 <CAFVhNZP3HpQo-zAx42B00t077c0pVsh-y6z7X89rkPiAn+z_tQ@mail.gmail.com>
 <20200314030153.GB36251@burischnitzel.preining.info>
 <CAFVhNZN0PtRjxVNGVQc4J14qOzMPoqo17-jQSCmnMq0Qo8bgwA@mail.gmail.com>
Message-ID: <CAEW6iOjaE4Kefn=QXhse0gCy5xdHShyxDgjb1i9QyWS61jfNCQ@mail.gmail.com>

On Sat, 14 Mar 2020 at 03:11, Paulo Ney de Souza <pauloney at gmail.com> wrote:

>> > But something that is signed with "Petr Ol??k" is very big indication that
>> > the file was written in ISO-8859-2 and saved in ISO-8859-1. In fact if you
>> > change it -- the whole file becomes correct.


No. The file is saved in ISO-8859-2 the problem is not in the file, it
is in whatever
you used to read the file which guessed the wrong encoding. (The fact
that i's not possible
to guess right every time is a problem that Unicode aims to solve but
that doesn't
mean that files in 8-bit encodings are wrong).

Being a plain text file there is no machine readable way to mark the
encoding in the file.

But it does say in the file what the encoding is:

README     ... tento soubor (form?t UNIX, ISO 8859-2),


That is  "this file (UNIX format, ISO 8859-2)"  This indicates another
reason why changing the
encoding of text files needs to be passed back to the maintainers.
Changing the encoding of that
file is not a mechanical operation it requires updating the Czech text
to refer to whatever encoding
is used.

David


From dbitouze at wanadoo.fr  Sat Mar 14 10:57:03 2020
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sat, 14 Mar 2020 10:57:03 +0100
Subject: tl2020 pretest begin
In-Reply-To: <202003132206.02DM6uwU025045@freefriends.org> (Karl Berry's
 message of "Fri, 13 Mar 2020 16:06:56 -0600")
References: <202003132206.02DM6uwU025045@freefriends.org>
Message-ID: <87r1xvtg28.fsf@example.com>

Le 13/03/20 ? 16h06, Karl Berry a ?crit :

> Hi Denis,

Hi Karl,

>     `tlmgr -gui &` then Actions ? Remove TeX Live 2020
>     ...
>     indeed, nothing has been uninstalled/removed.
>
> I hope someone else can look at the GUI code. Sounds like it's not
> invoking what needs to be invoked.

Indeed. Who is maintaining it?

>     By contrast, `tlmgr remove --all` worked as expected since everything
>     was removed: symlinks and (almost) /home/bitouze/texlive/2020 content
>     (surprisingly, two files `install-tl` and `texmfcnf.lua` are still there).
>
> I changed tlmgr remove --all to also remove those two files. (Will be in
> tonight's update.) In my test, that ended up now being able to remove
> the top-level directory since there was nothing left.

Works nicely now: thanks!

BTW, I don't see the point of the `install-tl` script in the
.../texlive/2020 directory once TL has been installed.

> --thanks,

You're welcome!
-- 
Denis


From recanoy at up.edu.ph  Sat Mar 14 13:11:00 2020
From: recanoy at up.edu.ph (Raymart Jay Canoy)
Date: Sat, 14 Mar 2020 21:11:00 +0900
Subject: Broken TeX Live 2019 Installation
Message-ID: <CALGugfgjOxm9vrWGSmoZ7kR=t3TXrVmpiGEFqf2_JnmDVOYL+A@mail.gmail.com>

Greetings!

I had installed TexLive 2019, and used Texmaker as an editor. But every
time I compile my tex file the "Log File not found!" message keeps popping
up. Since I had installed the TexLive 2019 in D:\, I configured the
texmaker so that it can access latex.exe and pdflatex.exe in their
locations. But still nothing happened.

During the installation of TexLive 2019, I had observed that my antivirus
blocked the mktexlsr.exe. I thought that it could be the reason so I
unblocked it, but still nothing happened. I posted this concern in {TEX}
Stack Exchange (
https://tex.stackexchange.com/questions/532525/texmaker-log-file-not-found-note-i-have-also-installed-tex-live-2019).
Someone suggested to run fmtutil-sys --byfmt pdflatex, and the result shows
thatfmtutil-user doesn't find any fmtutil.cnf and fmtutil-sys can't write
format due to some permission problem. Can you give me any assistance on
this issue? Thank you.

Regards,
Raymart
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200314/121ea4a2/attachment.html>

From Herbert.Voss at fu-berlin.de  Sat Mar 14 14:51:49 2020
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Sat, 14 Mar 2020 14:51:49 +0100
Subject: Broken TeX Live 2019 Installation
In-Reply-To: <CALGugfgjOxm9vrWGSmoZ7kR=t3TXrVmpiGEFqf2_JnmDVOYL+A@mail.gmail.com>
References: <CALGugfgjOxm9vrWGSmoZ7kR=t3TXrVmpiGEFqf2_JnmDVOYL+A@mail.gmail.com>
Message-ID: <63f01ffc-8f5e-a00e-ccaa-713f5816ce8d@fu-berlin.de>



Am 14.03.20 um 13:11 schrieb Raymart Jay Canoy via tex-live:
>
> I had installed TexLive 2019, and used Texmaker as an editor. But 
> every time I compile my tex file the "Log File not found!" message 
> keeps popping up. Since I had installed the TexLive 2019 in D:\, I 
> configured the texmaker so that it can access latex.exe and 
> pdflatex.exe in their locations. But still nothing happened.
>
> During the installation of TexLive 2019, I had observed?that my 
> antivirus blocked the mktexlsr.exe. I thought that it could be the 
> reason so I unblocked?it, but still nothing happened. I posted this 
> concern in {TEX} Stack Exchange 
> (https://tex.stackexchange.com/questions/532525/texmaker-log-file-not-found-note-i-have-also-installed-tex-live-2019). 
> Someone suggested to run fmtutil-sys --byfmt pdflatex, and the result 
> shows that|fmtutil-user|?doesn't find any |fmtutil.cnf|?and 
> |fmtutil-sys|?can't write format due to some permission problem. Can 
> you give me any assistance on this?issue? Thank you.
>

Has your filename spaces or special characters?

Herbert

From zdenek.wagner at gmail.com  Sat Mar 14 15:19:00 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 14 Mar 2020 15:19:00 +0100
Subject: tl2020 pretest begin
In-Reply-To: <20200314020603.GA14756@llamedos.localdomain>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
 <20200314020603.GA14756@llamedos.localdomain>
Message-ID: <CAC1phyZVpwg9F9KtMovU6fvy657kLTcdgteepuAaY8JNozNfrA@mail.gmail.com>

...
>
> I hesitate to reply to this, partly because I'm still on 2019,
> partly because most people on this list understand things which I
> don't, and partly because I've no idea how Paulo is looking at these
> files which do look to be borken.
>
> I'm well aware that running 'file' (and even diff, if it decides
> that the first few hundred lines are 8859-1 or ASCII, e.g. when
> diffing firefox versions, can produce rubbish), so a couple of
> questions :
>
> For Paulo - how are you looking at these files to see this rubbish ?
>
I can answer containing the Czech text from CWEB. Paolo's locales are
set to ISO-8859-1 but the Czech text is apparently either in
ISO-8859-2 or in CP-1250. If Paolo's locales were UTF-8, the result
would be different. Being native Czech I can recognize it.

> For anyone, perhaps after Paulo has responded - is there a
> "recommended" way to look at the files, so that the desired encoding
> will be obeyed ?  And if so, do the files need some markings to say
> "use this encoding" ?  When unicode works (and I think I somewhat
> understand Norbert's comment about what people use in Japan) it is
> at least semi-legible (although in Han probably at least ugly, and
> maybe not really legible) whereas the examples above are just
> garbage.
>
Z. Wagner

From zdenek.wagner at gmail.com  Sat Mar 14 15:23:02 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 14 Mar 2020 15:23:02 +0100
Subject: tl2020 pretest begin
In-Reply-To: <CAFVhNZN0PtRjxVNGVQc4J14qOzMPoqo17-jQSCmnMq0Qo8bgwA@mail.gmail.com>
References: <CAFVhNZNjjAsH2_hbhZQ3ymTHhBGJSybWaArdpA5KHBYAUd4yLw@mail.gmail.com>
 <202003132206.02DM6vB9025053@freefriends.org>
 <CAFVhNZNbVt5xhH6tcqVCnbSytS0MC+thMRc3R9gc14GaSMmp9g@mail.gmail.com>
 <CAFVhNZMk0e_nh2x3quGXC9YeYiKfm7o64i45KTehqAJxJfKU8w@mail.gmail.com>
 <7CC71414-9139-4998-A8DE-86E5F8010A0A@logic.at>
 <CAFVhNZP3HpQo-zAx42B00t077c0pVsh-y6z7X89rkPiAn+z_tQ@mail.gmail.com>
 <20200314030153.GB36251@burischnitzel.preining.info>
 <CAFVhNZN0PtRjxVNGVQc4J14qOzMPoqo17-jQSCmnMq0Qo8bgwA@mail.gmail.com>
Message-ID: <CAC1phyZumPAi=qA4+RiwF+XMrhadjEgryhUzaxqMTFbJkVEZeA@mail.gmail.com>

so 14. 3. 2020 v 4:09 odes?latel Paulo Ney de Souza <pauloney at gmail.com> napsal:
>
>
>
>
> Norbert,
>
> The file has been saved incorrectly. Both Ubuntu and Windows see it like that. Just take a minute to open the file:
>
>      texlive-source-trunk/utils/vlna/vlna-src/README
>
> and you will see.
>
There are just a few differences between ISO-8859-2 and CP-1250. Most
editors use strange heuristics and cannot distinguish them, sometimes
use a wrong gues, sometimes do not open such a file at all. Vlna was
developed on Linux many years ago, hence you should know that it is in
ISO-8859-2.

> Paulo Ney
>
Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz


From recanoy at up.edu.ph  Sat Mar 14 15:27:23 2020
From: recanoy at up.edu.ph (Raymart Jay Canoy)
Date: Sat, 14 Mar 2020 23:27:23 +0900
Subject: Broken TeX Live 2019 Installation
In-Reply-To: <63f01ffc-8f5e-a00e-ccaa-713f5816ce8d@fu-berlin.de>
References: <CALGugfgjOxm9vrWGSmoZ7kR=t3TXrVmpiGEFqf2_JnmDVOYL+A@mail.gmail.com>
 <63f01ffc-8f5e-a00e-ccaa-713f5816ce8d@fu-berlin.de>
Message-ID: <CALGugfiP=NfeX9DsMa=p_U7Forx2hz1n1QCiuVJ8FbpPME_SdA@mail.gmail.com>

The filename I used has no spaces or special characters. I just used
trial.tex, which contains very basic input

\documentclass[12pt]{article}

\begin{document}

Hello!

\end{document}


Best,
Raymart

On Sat, Mar 14, 2020 at 10:51 PM Herbert Voss <Herbert.Voss at fu-berlin.de>
wrote:

>
>
> Am 14.03.20 um 13:11 schrieb Raymart Jay Canoy via tex-live:
> >
> > I had installed TexLive 2019, and used Texmaker as an editor. But
> > every time I compile my tex file the "Log File not found!" message
> > keeps popping up. Since I had installed the TexLive 2019 in D:\, I
> > configured the texmaker so that it can access latex.exe and
> > pdflatex.exe in their locations. But still nothing happened.
> >
> > During the installation of TexLive 2019, I had observed that my
> > antivirus blocked the mktexlsr.exe. I thought that it could be the
> > reason so I unblocked it, but still nothing happened. I posted this
> > concern in {TEX} Stack Exchange
> > (
> https://tex.stackexchange.com/questions/532525/texmaker-log-file-not-found-note-i-have-also-installed-tex-live-2019).
>
> > Someone suggested to run fmtutil-sys --byfmt pdflatex, and the result
> > shows that|fmtutil-user| doesn't find any |fmtutil.cnf| and
> > |fmtutil-sys| can't write format due to some permission problem. Can
> > you give me any assistance on this issue? Thank you.
> >
>
> Has your filename spaces or special characters?
>
> Herbert
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200314/21fba560/attachment.html>

From kakuto at w32tex.org  Sat Mar 14 16:11:34 2020
From: kakuto at w32tex.org (Akira Kakuto)
Date: Sun, 15 Mar 2020 00:11:34 +0900
Subject: Broken TeX Live 2019 Installation
In-Reply-To: <CALGugfiP=NfeX9DsMa=p_U7Forx2hz1n1QCiuVJ8FbpPME_SdA@mail.gmail.com>
References: <CALGugfgjOxm9vrWGSmoZ7kR=t3TXrVmpiGEFqf2_JnmDVOYL+A@mail.gmail.com>
 <63f01ffc-8f5e-a00e-ccaa-713f5816ce8d@fu-berlin.de>
 <CALGugfiP=NfeX9DsMa=p_U7Forx2hz1n1QCiuVJ8FbpPME_SdA@mail.gmail.com>
Message-ID: <C054DFC61E204F438AA741010F6AFDE4@CJ3001517A>

Can you successfully execute a command
mktexlsr
in a console window of cmd.exe?

Is there a file fmtutil.cnf in
d:/Programs/texlive/2019/texmf-dist/web2c?

Do you have write permission for d:/Programs/texlive/2019/texmf-var?
(See property-->Security in explorer).

Best,
Akira

From recanoy at up.edu.ph  Sat Mar 14 16:35:05 2020
From: recanoy at up.edu.ph (Raymart Jay Canoy)
Date: Sun, 15 Mar 2020 00:35:05 +0900
Subject: Broken TeX Live 2019 Installation
In-Reply-To: <C054DFC61E204F438AA741010F6AFDE4@CJ3001517A>
References: <CALGugfgjOxm9vrWGSmoZ7kR=t3TXrVmpiGEFqf2_JnmDVOYL+A@mail.gmail.com>
 <63f01ffc-8f5e-a00e-ccaa-713f5816ce8d@fu-berlin.de>
 <CALGugfiP=NfeX9DsMa=p_U7Forx2hz1n1QCiuVJ8FbpPME_SdA@mail.gmail.com>
 <C054DFC61E204F438AA741010F6AFDE4@CJ3001517A>
Message-ID: <CALGugfhtezNr=_vQd0OwBswzetJrBizGSFkehesvTXopjXgMiw@mail.gmail.com>

(1) When I ran the command
mktexlsr
in cmd.exe. It shows
"Cannot open D:Programs/texlive/texmf-local/ls-R to write
Cannot open D:Programs/texlive/2019/texmf-config/ls-R to write
Cannot open D:Programs/texlive/2019/texmf-var/ls-R to write
Cannot open D:Programs/texlive/2019/texmf-dist/ls-R to write
mktexlsr: Done."

(2) Yes, there is a file fmtutil.cnf in
d:/Programs/texlive/2019/texmf-dist/web2c.

(3) The default allowed permission given to d:/Programs/texlive/2019/texmf-var
is
Special permissions.

Kindly note that I attached the screenshots of each result. Thank you.

Best,
Raymart

On Sun, Mar 15, 2020 at 12:11 AM Akira Kakuto <kakuto at w32tex.org> wrote:

> Can you successfully execute a command
> mktexlsr
> in a console window of cmd.exe?
>
> Is there a file fmtutil.cnf in
> d:/Programs/texlive/2019/texmf-dist/web2c?
>
> Do you have write permission for d:/Programs/texlive/2019/texmf-var?
> (See property-->Security in explorer).
>
> Best,
> Akira
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200315/37ff168a/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot (16).png
Type: image/png
Size: 151619 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200315/37ff168a/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot (15).png
Type: image/png
Size: 76180 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200315/37ff168a/attachment-0004.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot (17).png
Type: image/png
Size: 138551 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200315/37ff168a/attachment-0005.png>

From P.Taylor at Rhul.Ac.Uk  Sat Mar 14 16:48:18 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 14 Mar 2020 15:48:18 +0000
Subject: [EXT] Re: Broken TeX Live 2019 Installation
In-Reply-To: <CALGugfhtezNr=_vQd0OwBswzetJrBizGSFkehesvTXopjXgMiw@mail.gmail.com>
References: <CALGugfgjOxm9vrWGSmoZ7kR=t3TXrVmpiGEFqf2_JnmDVOYL+A@mail.gmail.com>
 <63f01ffc-8f5e-a00e-ccaa-713f5816ce8d@fu-berlin.de>
 <CALGugfiP=NfeX9DsMa=p_U7Forx2hz1n1QCiuVJ8FbpPME_SdA@mail.gmail.com>
 <C054DFC61E204F438AA741010F6AFDE4@CJ3001517A>
 <CALGugfhtezNr=_vQd0OwBswzetJrBizGSFkehesvTXopjXgMiw@mail.gmail.com>
Message-ID: <70bb36da-f5c8-3016-9037-f8bca1bdc7a6@Rhul.Ac.Uk>

Raymart Jay Canoy via tex-live wrote:

>
> (3) The default allowed permission given to 
> d:/Programs/texlive/2019/texmf-var is
> Special permissions.

We will need to know/see those "special permissions", Jaymart ? knowing 
that they exist is not enough.? Please expose them through the 
"Advanced" button visible in your screen-shot.

Philip Taylor
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200314/9b9c2ade/attachment.html>

From recanoy at up.edu.ph  Sat Mar 14 17:08:52 2020
From: recanoy at up.edu.ph (Raymart Jay Canoy)
Date: Sun, 15 Mar 2020 01:08:52 +0900
Subject: [EXT] Re: Broken TeX Live 2019 Installation
In-Reply-To: <70bb36da-f5c8-3016-9037-f8bca1bdc7a6@Rhul.Ac.Uk>
References: <CALGugfgjOxm9vrWGSmoZ7kR=t3TXrVmpiGEFqf2_JnmDVOYL+A@mail.gmail.com>
 <63f01ffc-8f5e-a00e-ccaa-713f5816ce8d@fu-berlin.de>
 <CALGugfiP=NfeX9DsMa=p_U7Forx2hz1n1QCiuVJ8FbpPME_SdA@mail.gmail.com>
 <C054DFC61E204F438AA741010F6AFDE4@CJ3001517A>
 <CALGugfhtezNr=_vQd0OwBswzetJrBizGSFkehesvTXopjXgMiw@mail.gmail.com>
 <70bb36da-f5c8-3016-9037-f8bca1bdc7a6@Rhul.Ac.Uk>
Message-ID: <CALGugfgDxdTM1OdELhdf2=s1K-iGfxqPqOmASZK0yNCYSW9YkA@mail.gmail.com>

Kindly see the attached screenshots for the detailed information about the
"special permissions."

Best,
Raymart

On Sun, Mar 15, 2020 at 12:48 AM Philip Taylor <P.Taylor at rhul.ac.uk> wrote:

> Raymart Jay Canoy via tex-live wrote:
>
>
> (3) The default allowed permission given to d:/Programs/texlive/2019/texmf-var
> is
> Special permissions.
>
>
> We will need to know/see those "special permissions", Jaymart ? knowing
> that they exist is not enough.  Please expose them through the "Advanced"
> button visible in your screen-shot.
>
> Philip Taylor
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200315/fc7a7229/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot (21).png
Type: image/png
Size: 143734 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200315/fc7a7229/attachment-0007.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot (25).png
Type: image/png
Size: 126103 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200315/fc7a7229/attachment-0008.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot (22).png
Type: image/png
Size: 120579 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200315/fc7a7229/attachment-0009.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot (23).png
Type: image/png
Size: 124974 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200315/fc7a7229/attachment-0010.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot (24).png
Type: image/png
Size: 121690 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200315/fc7a7229/attachment-0011.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot (26).png
Type: image/png
Size: 121042 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200315/fc7a7229/attachment-0012.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot (27).png
Type: image/png
Size: 125539 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200315/fc7a7229/attachment-0013.png>

From P.Taylor at Rhul.Ac.Uk  Sat Mar 14 17:10:32 2020
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 14 Mar 2020 16:10:32 +0000
Subject: [EXT] Re: [EXT] Re: Broken TeX Live 2019 Installation
In-Reply-To: <CALGugfgDxdTM1OdELhdf2=s1K-iGfxqPqOmASZK0yNCYSW9YkA@mail.gmail.com>
References: <CALGugfgjOxm9vrWGSmoZ7kR=t3TXrVmpiGEFqf2_JnmDVOYL+A@mail.gmail.com>
 <63f01ffc-8f5e-a00e-ccaa-713f5816ce8d@fu-berlin.de>
 <CALGugfiP=NfeX9DsMa=p_U7Forx2hz1n1QCiuVJ8FbpPME_SdA@mail.gmail.com>
 <C054DFC61E204F438AA741010F6AFDE4@CJ3001517A>
 <CALGugfhtezNr=_vQd0OwBswzetJrBizGSFkehesvTXopjXgMiw@mail.gmail.com>
 <70bb36da-f5c8-3016-9037-f8bca1bdc7a6@Rhul.Ac.Uk>
 <CALGugfgDxdTM1OdELhdf2=s1K-iGfxqPqOmASZK0yNCYSW9YkA@mail.gmail.com>
Message-ID: <6c16d4aa-e239-cbf2-3aaf-e4836e01451e@Rhul.Ac.Uk>

Raymart Jay Canoy wrote:

> Kindly see the attached screenshots for the detailed information about 
> the "special permissions."

OK, so unless I have mis-read things, only Administrators and 
Creator/Owner have write permission.? Is this correct, and are you 
either of these ?
Philip Taylor


From recanoy at up.edu.ph  Sat Mar 14 17:26:32 2020
From: recanoy at up.edu.ph (Raymart Jay Canoy)
Date: Sun, 15 Mar 2020 01:26:32 +0900
Subject: [EXT] Re: [EXT] Re: Broken TeX Live 2019 Installation
In-Reply-To: <6c16d4aa-e239-cbf2-3aaf-e4836e01451e@Rhul.Ac.Uk>
References: <CALGugfgjOxm9vrWGSmoZ7kR=t3TXrVmpiGEFqf2_JnmDVOYL+A@mail.gmail.com>
 <63f01ffc-8f5e-a00e-ccaa-713f5816ce8d@fu-berlin.de>
 <CALGugfiP=NfeX9DsMa=p_U7Forx2hz1n1QCiuVJ8FbpPME_SdA@mail.gmail.com>
 <C054DFC61E204F438AA741010F6AFDE4@CJ3001517A>
 <CALGugfhtezNr=_vQd0OwBswzetJrBizGSFkehesvTXopjXgMiw@mail.gmail.com>
 <70bb36da-f5c8-3016-9037-f8bca1bdc7a6@Rhul.Ac.Uk>
 <CALGugfgDxdTM1OdELhdf2=s1K-iGfxqPqOmASZK0yNCYSW9YkA@mail.gmail.com>
 <6c16d4aa-e239-cbf2-3aaf-e4836e01451e@Rhul.Ac.Uk>
Message-ID: <CALGugfjrk=F_9NS6S82m2ZvzhhoFzY1FLNObga-TH07_oaCJ-g@mail.gmail.com>

When I went through the information from Settings > Accounts > Your info,
it says that I am the Administrator. Regarding "Creator/Owner," I cannot
really tell because I do not know what this means.

I have two other questions though.
(1) Does this issue arise because I installed Tex Live 2019 in D:\?
(2) If I installed it using the default location, will this issue still
occur?

Thank you.

Best,
Raymart

On Sun, Mar 15, 2020 at 1:10 AM Philip Taylor <P.Taylor at rhul.ac.uk> wrote:

> Raymart Jay Canoy wrote:
>
> > Kindly see the attached screenshots for the detailed information about
> > the "special permissions."
>
> OK, so unless I have mis-read things, only Administrators and
> Creator/Owner have write permission.  Is this correct, and are you
> either of these ?
> Philip Taylor
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200315/4252d2fe/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot (28).png
Type: image/png
Size: 277859 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200315/4252d2fe/attachment-0001.png>

From zdenek.wagner at gmail.com  Sat Mar 14 17:56:48 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 14 Mar 2020 17:56:48 +0100
Subject: [EXT] Re: [EXT] Re: Broken TeX Live 2019 Installation
In-Reply-To: <CALGugfjrk=F_9NS6S82m2ZvzhhoFzY1FLNObga-TH07_oaCJ-g@mail.gmail.com>
References: <CALGugfgjOxm9vrWGSmoZ7kR=t3TXrVmpiGEFqf2_JnmDVOYL+A@mail.gmail.com>
 <63f01ffc-8f5e-a00e-ccaa-713f5816ce8d@fu-berlin.de>
 <CALGugfiP=NfeX9DsMa=p_U7Forx2hz1n1QCiuVJ8FbpPME_SdA@mail.gmail.com>
 <C054DFC61E204F438AA741010F6AFDE4@CJ3001517A>
 <CALGugfhtezNr=_vQd0OwBswzetJrBizGSFkehesvTXopjXgMiw@mail.gmail.com>
 <70bb36da-f5c8-3016-9037-f8bca1bdc7a6@Rhul.Ac.Uk>
 <CALGugfgDxdTM1OdELhdf2=s1K-iGfxqPqOmASZK0yNCYSW9YkA@mail.gmail.com>
 <6c16d4aa-e239-cbf2-3aaf-e4836e01451e@Rhul.Ac.Uk>
 <CALGugfjrk=F_9NS6S82m2ZvzhhoFzY1FLNObga-TH07_oaCJ-g@mail.gmail.com>
Message-ID: <CAC1phyZDb37gpyFZ++bkfxE=Gt5fB5RRfkX=EYOML=+YP54iXw@mail.gmail.com>

so 14. 3. 2020 v 17:26 odes?latel Raymart Jay Canoy via tex-live
<tex-live at tug.org> napsal:
>
> When I went through the information from Settings > Accounts > Your info, it says that I am the Administrator. Regarding "Creator/Owner," I cannot really tell because I do not know what this means.
>
> I have two other questions though.
> (1) Does this issue arise because I installed Tex Live 2019 in D:\?
> (2) If I installed it using the default location, will this issue still occur?
>
> Thank you.
>
It means that you have installed TeX Live as an administrator but now
try to run mktexlsr as a normal user. The best way is to create the
root, eg D:\texlive, and probably you will have to do it as an
administrator. Than you change the ownership and permissions so that
it is writable by you as a normal user and only then start
installation. If you do not have such permissions on the installed TeX
Live, it is not necessary to delete everything and reinstall, just as
an administrator change the ownership and permissions of the whole
tree. Everything then should start to work.

> Best,
> Raymart
>

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

> On Sun, Mar 15, 2020 at 1:10 AM Philip Taylor <P.Taylor at rhul.ac.uk> wrote:
>>
>> Raymart Jay Canoy wrote:
>>
>> > Kindly see the attached screenshots for the detailed information about
>> > the "special permissions."
>>
>> OK, so unless I have mis-read things, only Administrators and
>> Creator/Owner have write permission.  Is this correct, and are you
>> either of these ?
>> Philip Taylor
>>


From karl at freefriends.org  Sat Mar 14 23:27:59 2020
From: karl at freefriends.org (Karl Berry)
Date: Sat, 14 Mar 2020 16:27:59 -0600
Subject: tl2020 pretest begin
In-Reply-To: <87r1xvtg28.fsf@example.com>
Message-ID: <202003142227.02EMRxFN009031@freefriends.org>

    db>     `tlmgr -gui &` then Actions ???? Remove TeX Live 2020
    >     ...
    >     indeed, nothing has been uninstalled/removed.

    kb> I hope someone else can look at the GUI code. Sounds like it's not
    > invoking what needs to be invoked.

    Indeed. Who is maintaining it?

Ummm ... Norbert?

    BTW, I don't see the point of the `install-tl` script in the
    .../texlive/2020 directory once TL has been installed.

Users requested it (I don't remember who). It is possible to run
install-tl using the installed TL as the repository. (./install-tl -repo .)
--best, karl.


From karl at freefriends.org  Sat Mar 14 23:28:03 2020
From: karl at freefriends.org (Karl Berry)
Date: Sat, 14 Mar 2020 16:28:03 -0600
Subject: uninstalling an old version
In-Reply-To: <20200313231131.21c9HJthq%rdtennent@gmail.com>
Message-ID: <202003142228.02EMS3NW009057@freefriends.org>

    Might tlmgr remove --all or the above have removed the
    symlinks in /usr/local/bin? 

It is supposed to, yes.

    When I re-installed, install-tl pointed out to me that in
    that xterm, TEXMFVAR=~/.texlive2019/texmf-var; 

That is puzzling, since I doubt you explicitly set it as an envvar.

    Well after re-installing, all is well again.

Yay for that much anyway :). -k

From karl at freefriends.org  Sat Mar 14 23:46:38 2020
From: karl at freefriends.org (Karl Berry)
Date: Sat, 14 Mar 2020 16:46:38 -0600
Subject: tl2020 pretest begin
In-Reply-To: <20200303232804.300085fd@hordevm>
Message-ID: <202003142246.02EMkc1N009654@freefriends.org>

    >     tlmgr: action platform add, cannot find package
    >     xecyr.aarch64-linux

FYI, with Akira's concurrence, I just removed the ancient .bat files
(rubibtexx, rumakeindexx, rumakeindexx2) that were (wrongly) part of
xecyr, creating xecyr.win32. They required iconv to run.

Anyway, they should have been a separate package since they are not part
of the xecyr package on CTAN. If anyone needs them, I can bring them
back (not as part of xecyr).

   with that roughly biennal reminder from me

Perhaps we'll save a 2022 bug report :). --best, karl.

From preining at logic.at  Sat Mar 14 23:50:22 2020
From: preining at logic.at (Norbert Preining)
Date: Sun, 15 Mar 2020 07:50:22 +0900
Subject: tl2020 pretest begin
In-Reply-To: <202003142227.02EMRxFN009031@freefriends.org>
References: <87r1xvtg28.fsf@example.com>
 <202003142227.02EMRxFN009031@freefriends.org>
Message-ID: <20200314225022.GC10274@burischnitzel.preining.info>

On Sat, 14 Mar 2020, Karl Berry wrote:
>     db>     `tlmgr -gui &` then Actions ???? Remove TeX Live 2020
>     >     ...
>     >     indeed, nothing has been uninstalled/removed.
> 
>     kb> I hope someone else can look at the GUI code. Sounds like it's not
>     > invoking what needs to be invoked.

Indeed, fixed now.

>     .../texlive/2020 directory once TL has been installed.
> 
> Users requested it (I don't remember who). It is possible to run
> install-tl using the installed TL as the repository. (./install-tl -repo .)
> --best, karl.

Yes, besides that the "-repo ." is not necessary, should be
auto-detected. This way one can install from one installation something
else.

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From rdtennent at gmail.com  Sun Mar 15 00:58:27 2020
From: rdtennent at gmail.com (Bob Tennent)
Date: Sat, 14 Mar 2020 19:58:27 -0400
Subject: uninstalling an old version
In-Reply-To: <202003142228.02EMS3NW009057@freefriends.org>
References: <202003142228.02EMS3NW009057@freefriends.org>
Message-ID: <20200314235827.zxJo066ol%rdtennent@gmail.com>

 >|    Might tlmgr remove --all or the above have removed the
 >|    symlinks in /usr/local/bin?
 >|
 >|It is supposed to, yes.

Hmm. So if one has installed TL-2020 (even the pretest) and
then uninstalls TL-2019, the symlinks to the 2020 bins are
removed? That doesn't seem right. And if, as I suspect, the
PATH variable by mistake pointed to the now non-existent
2019/bin/x86_64-linux, no wonder it seemed my system was
broken. Surely uninstalling a version of TL should *not*
remove symlinks to the binaries of a more recent version.

 >|    When I re-installed, install-tl
 >|    pointed out to me that in that xterm,
 >|    TEXMFVAR=~/.texlive2019/texmf-var;
 >|
 >|That is puzzling, since I doubt you explicitly set it as
 >|an envvar.

I do and have done for years. How else to control which
~/.texliveXXXX is in effect? Granted it was a mistake on
my part to do the uninstalling in a shell that hadn't had
the envvars updated since before the installation of the
pretest.

Bob

From reinhard.kotucha at web.de  Sun Mar 15 02:40:38 2020
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 15 Mar 2020 02:40:38 +0100
Subject: uninstalling an old version
In-Reply-To: <20200314235827.zxJo066ol%rdtennent@gmail.com>
References: <202003142228.02EMS3NW009057@freefriends.org>
 <20200314235827.zxJo066ol%rdtennent@gmail.com>
Message-ID: <24173.34710.959882.737127@gargle.gargle.HOWL>

On 2020-03-14 at 19:58:27 -0400, Bob Tennent wrote:

 >  >|    Might tlmgr remove --all or the above have removed the
 >  >|    symlinks in /usr/local/bin?
 >  >|
 >  >|It is supposed to, yes.
 > 
 > Hmm. So if one has installed TL-2020 (even the pretest) and
 > then uninstalls TL-2019, the symlinks to the 2020 bins are
 > removed? That doesn't seem right.

Of course it's right.  Symlinks either point to TL2019 or to TL2020.
If you remove them no distribution is accessible.

The only solution is to avoid symlinks.  It was already considered to
remove the "create symlinks" option from the installer some years ago.
I voted against because I thought that there are Linux users who are
not very familiar with their operating system and that the symlinks
option makes the installation easier for them.  Nowadays I think that
my objection was a big mistake.

Bob, when you install TL2019 all the symlinks point to TL2019.  If you
later install TL2020 all symlinks point to TL2020 and TL2019 is
inaccessible.  If you ask TL2020's tlmgr to remove the symlinks it
removes them but doesn't create new symlinks pointing TL2019 because
TL2020 is not aware of your TL2019 installation.

You cannot use the "create symlinks" option if you intend to install
more than one instance of TeX Live.  This cannot work.

I followed the discussion initiated by Denis Bitouz?.  I understand
his objections.  But if you know that everybody is on Linux you can
provide a simple script which uses kpsewhich in ortder to determine
where TeX Live is installed and appends PATH, INFOPATH, MANPATH to
~/.bashrc.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From w.m.l at gmx.net  Sun Mar 15 02:57:36 2020
From: w.m.l at gmx.net (Robert)
Date: Sun, 15 Mar 2020 02:57:36 +0100
Subject: mktextfm trying to generate a nonsense font
Message-ID: <r4k22l$2qf9$1@ciao.gmane.io>

I stumbled upon a somewhat arcane bug concerning font expansion that 
will probably never show up in the wild (and has existed at least since 
2008), but nevertheless, here we go:

In pdftex, if a font is expanded non-automatically, and pre-generated 
expanded font instances don't exist, mktextfm will kick in, trying to 
generate these fonts on the fly (eg. cmr10+10, where the "+10" denotes 
the desired expansion), but will fail to do so. This is expected.

However, with the following test file (which assumes that expanded 
instances of Charter exist), pdftex will fail in a peculiar manner:

\hsize=7em
\font\1=cmr10
\font\2=bchr8t
\pdfmapline{+bchr8r CharterBT-Roman " TeXBase1Encoding ReEncodeFont " 
<8r.enc <bchr8a.pfb}
\pdfmapline{+bchr8r+20 CharterBT-Roman " 1.020 ExtendFont 
TeXBase1Encoding ReEncodeFont " <8r.enc <bchr8a.pfb}
\pdfmapline{+bchr8r-20 CharterBT-Roman " 0.980 ExtendFont 
TeXBase1Encoding ReEncodeFont " <8r.enc <bchr8a.pfb}
\pdffontexpand\1 100 100 5 %autoexpand
\pdffontexpand\2 20  20 20
\pdfadjustspacing=2
\1 ABC

\2 This is a paragraph with font expansion.
\bye

Here, mktextfm will not only try to create the cmr10 instances, but will 
also try to create the fonts "bchr8r-20-100" and "bchr8r+20-100". This 
doesn't make any sense, firstly because both bchr8r-20 and bchr8r+20 
exists, and secondly, because there are two expansion suffixes, the 
"-100" being taken from the cmr10 expansion line.

All will go well, if I append "autoexpand" to the first \pdffontexpand 
line.

Also, this only happens with virtual fonts; that is, if I request bchr8r 
(tfm) instead of bchr8t (vf), mktextfm only kicks in for the cmr10 font 
(as expected), but not for the bchr8r font (also expected).

I could provide the expanded font instances to anybody who might feel 
responsible (and who would consider this being worth the effort). I 
don't even know whether this would be an issue with pdftex or with 
mktextfm/kpathsea.

Best,
-- 
  Robert


From rdtennent at gmail.com  Sun Mar 15 03:30:40 2020
From: rdtennent at gmail.com (Bob Tennent)
Date: Sat, 14 Mar 2020 22:30:40 -0400
Subject: uninstalling an old version
In-Reply-To: <24173.34710.959882.737127@gargle.gargle.HOWL>
References: <202003142228.02EMS3NW009057@freefriends.org>
 <20200314235827.zxJo066ol%rdtennent@gmail.com>
 <24173.34710.959882.737127@gargle.gargle.HOWL>
Message-ID: <20200315023040.GJcCkIvan%rdtennent@gmail.com>

 >| > Hmm. So if one has installed TL-2020 (even the
 >| > pretest) and then uninstalls TL-2019, the symlinks to
 >| > the 2020 bins are removed? That doesn't seem right.
 >|
 >|Of course it's right. Symlinks either point to TL2019
 >|or to TL2020. If you remove them no distribution is
 >|accessible.

So why remove them? Surely rm -rf /usr/local/texlive/XXXX
doesn't remove symlinks.  And certainly don't remove
symlinks to 2020 binaries if asked to uninstall TL-2019.

 >|Bob, when you install TL2019 all the symlinks point to
 >|TL2019. If you later install TL2020 all symlinks point to
 >|TL2020 and TL2019 is inaccessible. If you ask TL2020's
 >|tlmgr to remove the symlinks it removes them but doesn't
 >|create new symlinks pointing TL2019 because TL2020 is not
 >|aware of your TL2019 installation.

That's not my scenario. I asked the 2019 tlmgr to uninstall
TL-2019. I didn't ask it to remove existing symlinks to
TL-2020, much less create new ones.

 >|You cannot use the "create symlinks" option if you intend
 >|to install more than one instance of TeX Live. This
 >|cannot work.

I don't see why it wouldn't work if uninstalling didn't
remove symlinks to a more recent version.

Bob

From reinhard.kotucha at web.de  Sun Mar 15 04:34:33 2020
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 15 Mar 2020 04:34:33 +0100
Subject: uninstalling an old version
In-Reply-To: <20200315023040.GJcCkIvan%rdtennent@gmail.com>
References: <202003142228.02EMS3NW009057@freefriends.org>
 <20200314235827.zxJo066ol%rdtennent@gmail.com>
 <24173.34710.959882.737127@gargle.gargle.HOWL>
 <20200315023040.GJcCkIvan%rdtennent@gmail.com>
Message-ID: <24173.41545.834527.401530@gargle.gargle.HOWL>

On 2020-03-14 at 22:30:40 -0400, Bob Tennent wrote:

 > That's not my scenario. I asked the 2019 tlmgr to uninstall
 > TL-2019. I didn't ask it to remove existing symlinks to
 > TL-2020, much less create new ones.

There can only be ***one*** set of symlinks in /usr/local/bin.  They
either point to TL2019 ***or*** to TL2020.  If you remove them, none
of the distributions is accessible.  This is expected behavior.

As I said before, I vote for removing the "create symlinks" option
from the installer because it obviously creates more problems than it
solves.  When I asked Karl to keep this option I had unexperienced
users in mind but now I see that even experienced users run into
trouble.  I recognize now that my suggestion was wrong.

Simply follow the instructions the installer prints to screen and
avoid symlinks.  Evereything works as expected then.  You can have as
many TeX Live distributions as you want and each one is accessible if
you set PATH accordingly.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From preining at logic.at  Sun Mar 15 05:13:51 2020
From: preining at logic.at (Norbert Preining)
Date: Sun, 15 Mar 2020 13:13:51 +0900
Subject: uninstalling an old version
In-Reply-To: <20200314235827.zxJo066ol%rdtennent@gmail.com>
References: <202003142228.02EMS3NW009057@freefriends.org>
 <20200314235827.zxJo066ol%rdtennent@gmail.com>
Message-ID: <20200315041351.GA4608@burischnitzel.preining.info>

Hi Bob,

> Hmm. So if one has installed TL-2020 (even the pretest) and
> then uninstalls TL-2019, the symlinks to the 2020 bins are
> removed? That doesn't seem right. And if, as I suspect, the

No, that does not happen. tlmgr path remove will only remove links into
its own hierarchy, not anywhere else.

> broken. Surely uninstalling a version of TL should *not*
> remove symlinks to the binaries of a more recent version.

It does not. At least that is the intention (and this is what I read
from the code).

> I do and have done for years. How else to control which
> ~/.texliveXXXX is in effect? Granted it was a mistake on

It is always automatically the
	~/.texliveYYYY/
you don't need to do anything, this is the default in
texmf-dist/web2c/texmf.cnf

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From A.Grahn at web.de  Sun Mar 15 11:40:21 2020
From: A.Grahn at web.de (Alexander Grahn)
Date: Sun, 15 Mar 2020 11:40:21 +0100
Subject: dvisvgm-2.9
Message-ID: <20200315104021.GA2662@hzdr.de>

Dear all,

according to the timeline, code freeze is announced for today. However, there
is still the new dvisvgm-2.9 waiting at CTAN.  (https://ctan.org/pkg/dvisvgm).

dvisvgm-2.9 has some very nice new features and it would be a great addition
to the TL-2020 release. Are there any chances for it to be integrated into the
TL release?

Thank you in advance and kind regards,

Alexander

From rdtennent at gmail.com  Sun Mar 15 11:58:16 2020
From: rdtennent at gmail.com (Bob Tennent)
Date: Sun, 15 Mar 2020 06:58:16 -0400
Subject: uninstalling an old version
In-Reply-To: <202003142228.02EMS3NW009057@freefriends.org>
References: <202003142228.02EMS3NW009057@freefriends.org>
Message-ID: <20200315105816.HttfZf08s%rdtennent@gmail.com>

 >|
 >|    Might tlmgr remove --all or the above have removed the
 >|    symlinks in /usr/local/bin?
 >|
 >|It is supposed to, yes.

Karl: Because Reinhard and Norbert suggested otherwise, I
tried myself (without spurious PATH entries and envvars).
After installing basic schemes of TL-2019 and TL-2020 with
symlink settings on, I used the 2019 tlmgr to remove -all.
This removed almost everything under /usr/local/texlive/2019
but did *not* remove symlinks, instead generating error
messages of the form

not removing /usr/local/* , not a link or wrong destination!

which is good news. 

So what happened to me to inspire this thread? I'm not sure
but presumably it was the spurious PATH entry or envvar
setting.

Sorry for the noise.

Bob T.

From dbitouze at wanadoo.fr  Sun Mar 15 14:30:17 2020
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sun, 15 Mar 2020 14:30:17 +0100
Subject: tl2020 pretest begin
In-Reply-To: <202003142227.02EMRxFN009031@freefriends.org> (Karl Berry's
 message of "Sat, 14 Mar 2020 16:27:59 -0600")
References: <202003142227.02EMRxFN009031@freefriends.org>
Message-ID: <87v9n5wxsm.fsf@example.com>

Le 14/03/20 ? 16h27, Karl Berry a ?crit :

>     BTW, I don't see the point of the `install-tl` script in the
>     .../texlive/2020 directory once TL has been installed.
>
> Users requested it (I don't remember who). It is possible to run
> install-tl using the installed TL as the
> repository. (./install-tl -repo .)

I see. Nice.
-- 
Denis


From dbitouze at wanadoo.fr  Sun Mar 15 14:31:44 2020
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sun, 15 Mar 2020 14:31:44 +0100
Subject: tl2020 pretest begin
In-Reply-To: <20200314225022.GC10274@burischnitzel.preining.info> (Norbert
 Preining's message of "Sun, 15 Mar 2020 07:50:22 +0900")
References: <87r1xvtg28.fsf@example.com>
 <202003142227.02EMRxFN009031@freefriends.org>
 <20200314225022.GC10274@burischnitzel.preining.info>
Message-ID: <87r1xtwxq7.fsf@example.com>

Le 15/03/20 ? 07h50, Norbert Preining a ?crit :

> On Sat, 14 Mar 2020, Karl Berry wrote:
>>     db>     `tlmgr -gui &` then Actions ???? Remove TeX Live 2020
>>     >     ...
>>     >     indeed, nothing has been uninstalled/removed.
>> 
>>     kb> I hope someone else can look at the GUI code. Sounds like it's not
>>     > invoking what needs to be invoked.
>
> Indeed, fixed now.

I can confirm it works as expected now.

>>     .../texlive/2020 directory once TL has been installed.
>> 
>> Users requested it (I don't remember who). It is possible to run
>> install-tl using the installed TL as the repository. (./install-tl -repo .)
>> --best, karl.
>
> Yes, besides that the "-repo ." is not necessary,

OK.

> should be auto-detected. This way one can install from one
> installation something else.

I see. Nice.
-- 
Denis


From jim.diamond at acadiau.ca  Sun Mar 15 16:07:57 2020
From: jim.diamond at acadiau.ca (James Diamond)
Date: Sun, 15 Mar 2020 15:07:57 +0000
Subject: uninstalling an old version
In-Reply-To: <24173.41545.834527.401530@gargle.gargle.HOWL>
References: <202003142228.02EMS3NW009057@freefriends.org>
 <20200314235827.zxJo066ol%rdtennent@gmail.com>
 <24173.34710.959882.737127@gargle.gargle.HOWL>
 <20200315023040.GJcCkIvan%rdtennent@gmail.com>
 <24173.41545.834527.401530@gargle.gargle.HOWL>
Message-ID: <20200315150755.GB26207@jdiamond-mb.acadiau.ca>

On Sun, Mar 15, 2020 at 04:34 (+0100), Reinhard Kotucha wrote:

> CAUTION: This email comes from outside Acadia. Verify the sender and use caution with any requests, links or attachments.

> On 2020-03-14 at 22:30:40 -0400, Bob Tennent wrote:

>> That's not my scenario. I asked the 2019 tlmgr to uninstall
>> TL-2019. I didn't ask it to remove existing symlinks to
>> TL-2020, much less create new ones.

> There can only be ***one*** set of symlinks in /usr/local/bin.  They
> either point to TL2019 ***or*** to TL2020.  If you remove them, none
> of the distributions is accessible.  This is expected behavior.

> As I said before, I vote for removing the "create symlinks" option
> from the installer because it obviously creates more problems than it
> solves.  When I asked Karl to keep this option I had unexperienced
> users in mind but now I see that even experienced users run into
> trouble.  I recognize now that my suggestion was wrong.

> Simply follow the instructions the installer prints to screen and
> avoid symlinks.  Evereything works as expected then.  You can have as
> many TeX Live distributions as you want and each one is accessible if
> you set PATH accordingly.

Just to throw a little gas on the fire, ...

I install TL in /usr/local/texlive/YYYY
And I have one symlink
        /usr/local/texlive/current
which points to a sub-directory of /usr/local/texlive (today it is 2019).
When I install TL2020 into /usr/local/texlive/2020 I will
handraulically change just this one symlink to point to 2020.  Easy peasy.

My PATH has /usr/local/texlive/current/bin/x86_64-linux and I never
need to change that.

(In another message it was suggested to collect some paths and add
them to .bashrc.  Since I'm here anyway I'll mention that not all
Linux users use bash.)

Cheers.

                                Jim


From daleif at math.au.dk  Sun Mar 15 17:49:39 2020
From: daleif at math.au.dk (Lars Madsen)
Date: Sun, 15 Mar 2020 16:49:39 +0000
Subject: uninstalling an old version
In-Reply-To: <20200315150755.GB26207@jdiamond-mb.acadiau.ca>
References: <202003142228.02EMS3NW009057@freefriends.org>
 <20200314235827.zxJo066ol%rdtennent@gmail.com>
 <24173.34710.959882.737127@gargle.gargle.HOWL>
 <20200315023040.GJcCkIvan%rdtennent@gmail.com>
 <24173.41545.834527.401530@gargle.gargle.HOWL>,
 <20200315150755.GB26207@jdiamond-mb.acadiau.ca>
Message-ID: <AM0PR01MB629023CCEC362C207B786792F2F80@AM0PR01MB6290.eurprd01.prod.exchangelabs.com>

Also remember that just adding it to .bashrc often is not enough. I start everything from the CLI, so I have no issues with this. But a user who start their editor using a menu etc will never have had their PATH changed as starting the editor never involved a bash shell.

So I always advise to add it to .profile as well as it is executed as part of the login and this the PATH change is seen by the editor started from a menu.

(each year we see a lot of users who have installed TL correctly and added the change to barshrc becaose someone told them to, and they complain that their editor cannot find TL, or finds a sys installed older TL)

?BTW I do the same 'current' symlink trick. easy switch between versions, no cleanup.



/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math<http://au.dk/daleif at imf> / More information: http://au.dk/en/daleif at math<http://au.dk/en/daleif at imf>

________________________________
From: tex-live <tex-live-bounces+daleif=imf.au.dk at tug.org> on behalf of James Diamond via tex-live <tex-live at tug.org>
Sent: 15 March 2020 16:07
To: tex-live at tug.org <tex-live at tug.org>
Subject: Re: Re: Re: uninstalling an old version

On Sun, Mar 15, 2020 at 04:34 (+0100), Reinhard Kotucha wrote:

> CAUTION: This email comes from outside Acadia. Verify the sender and use caution with any requests, links or attachments.

> On 2020-03-14 at 22:30:40 -0400, Bob Tennent wrote:

>> That's not my scenario. I asked the 2019 tlmgr to uninstall
>> TL-2019. I didn't ask it to remove existing symlinks to
>> TL-2020, much less create new ones.

> There can only be ***one*** set of symlinks in /usr/local/bin.  They
> either point to TL2019 ***or*** to TL2020.  If you remove them, none
> of the distributions is accessible.  This is expected behavior.

> As I said before, I vote for removing the "create symlinks" option
> from the installer because it obviously creates more problems than it
> solves.  When I asked Karl to keep this option I had unexperienced
> users in mind but now I see that even experienced users run into
> trouble.  I recognize now that my suggestion was wrong.

> Simply follow the instructions the installer prints to screen and
> avoid symlinks.  Evereything works as expected then.  You can have as
> many TeX Live distributions as you want and each one is accessible if
> you set PATH accordingly.

Just to throw a little gas on the fire, ...

I install TL in /usr/local/texlive/YYYY
And I have one symlink
        /usr/local/texlive/current
which points to a sub-directory of /usr/local/texlive (today it is 2019).
When I install TL2020 into /usr/local/texlive/2020 I will
handraulically change just this one symlink to point to 2020.  Easy peasy.

My PATH has /usr/local/texlive/current/bin/x86_64-linux and I never
need to change that.

(In another message it was suggested to collect some paths and add
them to .bashrc.  Since I'm here anyway I'll mention that not all
Linux users use bash.)

Cheers.

                                Jim

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200315/e08cc08a/attachment-0001.html>

From dbitouze at wanadoo.fr  Sun Mar 15 18:38:27 2020
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sun, 15 Mar 2020 18:38:27 +0100
Subject: uninstalling an old version
In-Reply-To: <24173.34710.959882.737127@gargle.gargle.HOWL> (Reinhard
 Kotucha's message of "Sun, 15 Mar 2020 02:40:38 +0100")
References: <202003142228.02EMS3NW009057@freefriends.org>
 <20200314235827.zxJo066ol%rdtennent@gmail.com>
 <24173.34710.959882.737127@gargle.gargle.HOWL>
Message-ID: <87mu8hwmb0.fsf@example.com>

Le 15/03/20 ? 02h40, Reinhard Kotucha a ?crit :

> The only solution is to avoid symlinks.  It was already considered to
> remove the "create symlinks" option from the installer some years ago.
> I voted against

So I would! :)

> because I thought that there are Linux users who are not very familiar
> with their operating system and that the symlinks option makes the
> installation easier for them.

I strongly    agree.

> Nowadays I think that my objection was a big mistake.

I strongly disagree. :)

> Bob, when you install TL2019 all the symlinks point to TL2019.  If you
> later install TL2020 all symlinks point to TL2020 and TL2019 is
> inaccessible.  If you ask TL2020's tlmgr to remove the symlinks it
> removes them but doesn't create new symlinks pointing TL2019 because
> TL2020 is not aware of your TL2019 installation.
>
> You cannot use the "create symlinks" option if you intend to install
> more than one instance of TeX Live.  This cannot work.

Yes, it can. As I said, suppose your OS is Linux 64 bits and you
installed TL 2019 and, later TL 2020. At any time, you can run:

  ?????
  ? /usr/local/texlive/YYYY/bin/x86_64-linux/tlmgr path add
  ?????

(YYYY being either 2019 or 2020) to retrieve the symlinks of the TL
install you want.

Regards.
-- 
Denis


From dbitouze at wanadoo.fr  Sun Mar 15 18:50:31 2020
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sun, 15 Mar 2020 18:50:31 +0100
Subject: uninstalling an old version
In-Reply-To: <24173.41545.834527.401530@gargle.gargle.HOWL> (Reinhard
 Kotucha's message of "Sun, 15 Mar 2020 04:34:33 +0100")
References: <202003142228.02EMS3NW009057@freefriends.org>
 <20200314235827.zxJo066ol%rdtennent@gmail.com>
 <24173.34710.959882.737127@gargle.gargle.HOWL>
 <20200315023040.GJcCkIvan%rdtennent@gmail.com>
 <24173.41545.834527.401530@gargle.gargle.HOWL>
Message-ID: <87imj5wlqw.fsf@example.com>

Le 15/03/20 ? 04h34, Reinhard Kotucha a ?crit :

> On 2020-03-14 at 22:30:40 -0400, Bob Tennent wrote:
>
>  > That's not my scenario. I asked the 2019 tlmgr to uninstall
>  > TL-2019. I didn't ask it to remove existing symlinks to
>  > TL-2020, much less create new ones.
>
> There can only be ***one*** set of symlinks in /usr/local/bin.  They
> either point to TL2019 ***or*** to TL2020.  If you remove them, none
> of the distributions is accessible.

As said in my just previous message, no:

  ?????
  ? /usr/local/texlive/YYYY/bin/x86_64-linux/tlmgr path add
  ?????

(YYYY being either 2019 or 2020) is your friend.

> As I said before, I vote for removing the "create symlinks" option
> from the installer because it obviously creates more problems than it
> solves. When I asked Karl to keep this option I had unexperienced
> users in mind but now I see that even experienced users run into
> trouble.

I agree this should be documented. Currently, the TL Guide provides only
a few words about symlinks and nothing is said on how to deal with
multiple TL installations with this option.

Here is what I would suggest (obviously in a better English than mine):

  ?????
  ? % Original text
  ? \item[create symlinks in standard directories:]
  ?   [...]
  ?   The safest and recommended approach is to leave the option unchecked.

I would remove this last sentence and would add:

  ?     This method requires precautions only in following cases.
  ?     \begin{description}
  ?     \item[Multiple Installations:] For example, suppose you keep the \TL{} 2019
  ?       along side the \TL{} 2020 in case a document that used to compile with the
  ?       1st doesn't compile anymore with the 2nd. To switch from 2020 to 2019, it
  ?       will be enough to run\footnote{Assuming these \TL{} were installed in the
  ?         \dirname{/usr/local/texlive/} folder, subfolders \dirname{2019} and
  ?         \dirname{2020}.}:
  ? \begin{alltt}
  ? > /usr/local/texlive/2019/bin/x86_64-linux/tlmgr path add
  ? \end{alltt}
  ?       and then, to switch back to \TL{} 2020:
  ? \begin{alltt}
  ? > /usr/local/texlive/2020/bin/x86_64-linux/tlmgr path add
  ? \end{alltt}
  ?     \item[Add Executable:] After the initial installation, you can
  ?     update the \TL{} to the latest versions available with (see Section~\ref{...}):
  ? \begin{alltt}
  ? > tlmgr update --self --all
  ? \end{alltt}
  ?       The updated elements are mostly packages and classes,
  ?       but sometimes a new executable is added. For such a binary to be
  ?     accessible to the system, it is necessary to update the symlinks,
  ?     which can be done by running:  
  ? \begin{alltt}
  ? > tlmgr path add
  ? \end{alltt}
  ?     \item[Dead symbolic links:] In case of installation of multiple \TL{}, it is
  ?       possible that some dead symbolic links clutter the binaries folder
  ?       (typically \dirname{/usr/local/bin}). To delete them, simply run:
  ? \begin{alltt}
  ? > find /usr/local/bin -xtype l -delete
  ? \end{alltt}
  ?     \end{description}
  ?   \end{description}
  ?   % End of the added text
  ? 
  ?   % Original text follows
  ? \item[after install, set CTAN as source for package updates:]
  ?   [...]
  ?????

>  I recognize now that my suggestion was wrong.

Don't blame you! :)
-- 
Denis


From dbitouze at wanadoo.fr  Sun Mar 15 18:57:55 2020
From: dbitouze at wanadoo.fr (=?utf-8?Q?Denis_Bitouz=C3=A9?=)
Date: Sun, 15 Mar 2020 18:57:55 +0100
Subject: uninstalling an old version
In-Reply-To: <20200315150755.GB26207@jdiamond-mb.acadiau.ca> (James Diamond
 via tex-live's message of "Sun, 15 Mar 2020 15:07:57 +0000")
References: <202003142228.02EMS3NW009057@freefriends.org>
 <20200314235827.zxJo066ol%rdtennent@gmail.com>
 <24173.34710.959882.737127@gargle.gargle.HOWL>
 <20200315023040.GJcCkIvan%rdtennent@gmail.com>
 <24173.41545.834527.401530@gargle.gargle.HOWL>
 <20200315150755.GB26207@jdiamond-mb.acadiau.ca>
Message-ID: <87eettwlek.fsf@example.com>

Le 15/03/20 ? 15h07, James Diamond via tex-live a ?crit :

> Just to throw a little gas on the fire, ...
>
> I install TL in /usr/local/texlive/YYYY
> And I have one symlink
>         /usr/local/texlive/current
> which points to a sub-directory of /usr/local/texlive (today it is 2019).
> When I install TL2020 into /usr/local/texlive/2020 I will
> handraulically change just this one symlink to point to 2020.

Indeed, nice method.

> Easy peasy.

Not for an average Linux user. Nowadays, I encounter many Linux users
who aren't geeks. So, could be nice if this could be simplified with
option (menu/button) in tlmgr (-gui).

> My PATH has /usr/local/texlive/current/bin/x86_64-linux

Hence, done manually in your .bashrc, .zshrc, .profile, whatever? Could
be nice if this could be done by the tlmgr!

> and I never need to change that.
>
> (In another message it was suggested to collect some paths and add
> them to .bashrc.  Since I'm here anyway I'll mention that not all
> Linux users use bash.)

Indeed! This is in favor of symlinks :)
-- 
Denis


From jim.diamond at acadiau.ca  Sun Mar 15 21:35:15 2020
From: jim.diamond at acadiau.ca (James Diamond)
Date: Sun, 15 Mar 2020 20:35:15 +0000
Subject: uninstalling an old version
In-Reply-To: <AM0PR01MB629023CCEC362C207B786792F2F80@AM0PR01MB6290.eurprd01.prod.exchangelabs.com>
References: <202003142228.02EMS3NW009057@freefriends.org>
 <20200314235827.zxJo066ol%rdtennent@gmail.com>
 <24173.34710.959882.737127@gargle.gargle.HOWL>
 <20200315023040.GJcCkIvan%rdtennent@gmail.com>
 <24173.41545.834527.401530@gargle.gargle.HOWL>
 <20200315150755.GB26207@jdiamond-mb.acadiau.ca>
 <AM0PR01MB629023CCEC362C207B786792F2F80@AM0PR01MB6290.eurprd01.prod.exchangelabs.com>
Message-ID: <20200315203511.GA13877@jdiamond-mb.acadiau.ca>

On Sun, Mar 15, 2020 at 16:49 (+0000), Lars Madsen wrote:

> Also remember that just adding it to .bashrc often is not enough. I
> start everything from the CLI, so I have no issues with this. But a
> user who start their editor using a menu etc will never have had
> their PATH changed as starting the editor never involved a bash
> shell.

This is a good point!

> So I always advise to add it to .profile as well as it is executed
> as part of the login and this the PATH change is seen by the editor
> started from a menu.

This, however, is maybe not.  I think this depends on one's session
manager.  On my system (Slackware64 14.2), I use kdm as the session
manager, and I see /etc/kde/kdm/Xsession has

case $SHELL in
  */bash)
    [ -z "$BASH" ] && exec $SHELL $0 "$@"
    set +o posix
    [ -f /etc/profile ] && . /etc/profile
    if [ -f $HOME/.bash_profile ]; then
      . $HOME/.bash_profile
    elif [ -f $HOME/.bash_login ]; then
      . $HOME/.bash_login
    elif [ -f $HOME/.profile ]; then
      . $HOME/.profile
    fi
    ;;

and so ~/.profile is only read for a bash user if he/she has no
.bash_profile or .bash_login.  (I see that /etc/X11/xdm/Xsession does
read ~/.profile.  But then again my xdm/Xsession sets up the PATH as
to how a user would do it (for known types of shells).

Having said that, are there any Linux X display managers whose setup
doesn't involve sourcing ~/.xprofile?  That seems to me (and I am
prepared to be shot down in flames for this opinion) to be the place
to set up X environment information.


Perhaps what the last week or two of messages tells us is that if
tlmgr can't do all of the setup for things to "just work", perhaps a
"best practices" document suggesting things for different OS users to
do would be useful.  (I realize that effort would have to be expended
writing and maintaining that document, but what I would write for
Linux users would be shorter than what I have written for this e-mail
message.)

Cheers.
                                Jim


From jim.diamond at acadiau.ca  Sun Mar 15 21:43:36 2020
From: jim.diamond at acadiau.ca (James Diamond)
Date: Sun, 15 Mar 2020 20:43:36 +0000
Subject: uninstalling an old version
In-Reply-To: <87eettwlek.fsf@example.com>
References: <202003142228.02EMS3NW009057@freefriends.org>
 <20200314235827.zxJo066ol%rdtennent@gmail.com>
 <24173.34710.959882.737127@gargle.gargle.HOWL>
 <20200315023040.GJcCkIvan%rdtennent@gmail.com>
 <24173.41545.834527.401530@gargle.gargle.HOWL>
 <20200315150755.GB26207@jdiamond-mb.acadiau.ca> <87eettwlek.fsf@example.com>
Message-ID: <20200315204333.GB13877@jdiamond-mb.acadiau.ca>

On Sun, Mar 15, 2020 at 18:57 (+0100), Denis Bitouz?? wrote:

>> I install TL in /usr/local/texlive/YYYY
>> And I have one symlink
>>         /usr/local/texlive/current
>> which points to a sub-directory of /usr/local/texlive (today it is 2019).
>> When I install TL2020 into /usr/local/texlive/2020 I will
>> handraulically change just this one symlink to point to 2020.

> Indeed, nice method.

Glad you think so.  (I was prepared for some less positive comments ;-)

>> Easy peasy.

> Not for an average Linux user.  Nowadays, I encounter many Linux users
> who aren't geeks.

I'm not sure about "average", but I guess I'm glad to hear that you
encounter many non-geek Linux users.  Perhaps the world is iterating
towards a more sensible solution. ;-)

> So, could be nice if this could be simplified with option
> (menu/button) in tlmgr (-gui).

That would be nice.  Given the multiplicities of shells and X display
managers (and whatever under systems not running X) I wonder how hard
it would be to make tlmgr be able to deal with (say) 99% of situations.

>> My PATH has /usr/local/texlive/current/bin/x86_64-linux

> Hence, done manually in your .bashrc, .zshrc, .profile, whatever?

I have it in a file ~/.zsh-path which is sourced by my .zshenv.
(And .zshenv is automagically sourced by zsh.)

> Could be nice if this could be done by the tlmgr!

I agree fully.  Perhaps a solution is for tlmgr to handle the "usual"
cases and, if a user is using some shell/display manager/... that
tlmgr doesn't know about, tlmgr can tell the user that "It sucks to be
you, but here are some generic hints about setting up your system so
that TL will 'just work'."

Cheers.

                                Jim


From karl at freefriends.org  Sun Mar 15 22:58:55 2020
From: karl at freefriends.org (Karl Berry)
Date: Sun, 15 Mar 2020 15:58:55 -0600
Subject: dvisvgm-2.9
In-Reply-To: <20200315104021.GA2662@hzdr.de>
Message-ID: <202003152158.02FLwtFB010989@freefriends.org>

    new dvisvgm-2.9 waiting

"Waiting" as of today :). I'll see what I can do. Thanks for the
heads-up. -k

From texnician at e.mail.de  Sun Mar 15 18:05:33 2020
From: texnician at e.mail.de (TeXnician)
Date: Sun, 15 Mar 2020 18:05:33 +0100
Subject: License entries for multiple licenses in TLPDB
Message-ID: <0dc692f1-75d2-7bfc-ee82-5ec63d2ba528@e.mail.de>

Dear list,

while trying to understand the TLPDB format, I noticed that license entries for
packages with multiple licenses are handled differently from all other entries
with multiple values (e.g. topics).

To give an example: The `academicons` package is licensed as LPPL 1.3c and as
OFL and has multiple topics. Thus, the TLPDB entry has

catalogue-topics font font-supp-symbol font-symbol font-ttf
catalogue-license lppl1.3cofl

This leads to the question why other entries have space separation for multiple
values but the license entry has not. That makes it hard to filter packages by
license.

I would appreciate a statement whether this difference in the entries is on purpose.

Greetings, T.

From siepo at bitmuis.nl  Mon Mar 16 21:40:41 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Mon, 16 Mar 2020 21:40:41 +0100
Subject: Updating luatex with tlshell
In-Reply-To: <20200310141247.GA2851@bitmuis.nl>
References: <20200310141247.GA2851@bitmuis.nl>
Message-ID: <20200316204041.GA10233@bitmuis.nl>

On Tue, Mar 10, 2020 at 03:12:47PM +0100, Siep Kroonenberg wrote:
> If luatex has to be updated, then updating via tlshell will fail. I
> am trying to find a workaround, but in the meantime updating from a
> command-line will be safer.

There is now a new tlshell.exe wrapper, which should no longer block
any updates from within tlshell.

-- 
Siep Kroonenberg

From karl at freefriends.org  Mon Mar 16 22:00:37 2020
From: karl at freefriends.org (Karl Berry)
Date: Mon, 16 Mar 2020 15:00:37 -0600
Subject: tlmgr =?UTF-8?B?4oCU?= Package not present error messages
In-Reply-To: <20200307001718.0492e78b@mach1>
Message-ID: <202003162100.02GL0bv4000885@freefriends.org>

Hi Brian,

            "tlmgr: graphicx mentioned, but neither new nor forcibly removed"
    even if graphics is not yet updated.

I added a second line of output after that seemingly mysterious message
with a hint to run tlmgr info or search. It doesn't seem right to have
tlmgr update do any searching itself.

    Since LaTeX packages are not necessarily the same as TexLive packages, 

Right. I don't think it would serve users well to suggest
conflating them.

    if the program could tell you which package contains what you are
    looking for

Doesn't feel like a job for tlmgr update, but you can check with, e.g.:
tlmgr search /graphicx.sty
  Or
grep /graphicx.sty /.../texlive.tlpdb
if you prefer :). We intentionally keep texlive.tlpdb as a plain text
file precisely for ease of searching, etc. --thanks, karl.

From karl at freefriends.org  Mon Mar 16 22:00:48 2020
From: karl at freefriends.org (Karl Berry)
Date: Mon, 16 Mar 2020 15:00:48 -0600
Subject: uninstalling an old version
In-Reply-To: <87imj5wlqw.fsf@example.com>
Message-ID: <202003162100.02GL0mMt000972@freefriends.org>

Hi Denis,

    a few words about symlinks and nothing is said on how to deal with
    multiple TL installations with this option.

Thanks for the draft text. Sorry, but I don't want to add a lot of (or
any) text now.  Maybe for 2021. --best, karl.

From karl at freefriends.org  Mon Mar 16 22:00:50 2020
From: karl at freefriends.org (Karl Berry)
Date: Mon, 16 Mar 2020 15:00:50 -0600
Subject: mktextfm trying to generate a nonsense font
In-Reply-To: <r4k22l$2qf9$1@ciao.gmane.io>
Message-ID: <202003162100.02GL0o7V000992@freefriends.org>

Hi Robert,

    I could provide the expanded font instances to anybody who might feel 
    responsible (and who would consider this being worth the effort).

I guess that's me. Yes, please send me the fonts (and your log file) for
ease of reproduction. Thanks for the report. --karl

From preining at logic.at  Mon Mar 16 22:02:24 2020
From: preining at logic.at (Norbert Preining)
Date: Tue, 17 Mar 2020 06:02:24 +0900
Subject: License entries for multiple licenses in TLPDB
In-Reply-To: <0dc692f1-75d2-7bfc-ee82-5ec63d2ba528@e.mail.de>
References: <0dc692f1-75d2-7bfc-ee82-5ec63d2ba528@e.mail.de>
Message-ID: <20200316210224.GA528244@burischnitzel.preining.info>

Hi TeXnician

> catalogue-topics font font-supp-symbol font-symbol font-ttf
> catalogue-license lppl1.3cofl

Simple explanation: when I did set this up I didn't expect multiple
licenses, so now the different licenses are not properly written out.

I will look into it.

> I would appreciate a statement whether this difference in the entries is on purpose.

No.

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From preining at logic.at  Tue Mar 17 00:00:24 2020
From: preining at logic.at (Norbert Preining)
Date: Tue, 17 Mar 2020 08:00:24 +0900
Subject: License entries for multiple licenses in TLPDB
In-Reply-To: <0dc692f1-75d2-7bfc-ee82-5ec63d2ba528@e.mail.de>
References: <0dc692f1-75d2-7bfc-ee82-5ec63d2ba528@e.mail.de>
Message-ID: <20200316230024.GB528244@burischnitzel.preining.info>

> catalogue-license lppl1.3cofl

Fixed in the repository, but this will not trigger package updates, so
you need to wait for an actual contents update to see the change in your
local tlpdb. The server tlpdb will be updated.

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From siepo at bitmuis.nl  Tue Mar 17 10:48:18 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Tue, 17 Mar 2020 10:48:18 +0100
Subject: Updating luatex with tlshell
In-Reply-To: <20200316204041.GA10233@bitmuis.nl>
References: <20200310141247.GA2851@bitmuis.nl>
 <20200316204041.GA10233@bitmuis.nl>
Message-ID: <20200317094818.GA1390@bitmuis.nl>

On Mon, Mar 16, 2020 at 09:40:41PM +0100, Siep Kroonenberg wrote:
> On Tue, Mar 10, 2020 at 03:12:47PM +0100, Siep Kroonenberg wrote:
> > If luatex has to be updated, then updating via tlshell will fail. I
> > am trying to find a workaround, but in the meantime updating from a
> > command-line will be safer.
> 
> There is now a new tlshell.exe wrapper, which should no longer block
> any updates from within tlshell.

But: best use the command-line tlmgr to update to this version.

-- 
Siep Kroonenberg

From usenet at siart.de  Thu Mar 19 11:26:19 2020
From: usenet at siart.de (Uwe Siart)
Date: Thu, 19 Mar 2020 11:26:19 +0100
Subject: [tlmgr.log]: Contains output of mktexlsr etc. 
Message-ID: <87r1xo8wtw.fsf@siart.de>

Dear all,

After today's update tlmgr writes to tlmgr.log not just updated packages
but also the all the verbose output of mktexlsr and fmtutil-sys.

Now I see in tlmgr.log things like:

,----
| ...
| [Thu Mar 19 08:17:20 2020] running mtxrun --generate
| [Thu Mar 19 08:18:00 2020] success, output: resolvers       | resolving | variable 'SELFAUTOLOC' set to 'C:/Programme1/texlive/2020/bin/win32'
| resolvers       | resolving | variable 'SELFAUTODIR' set to 'C:/Programme1/texlive/2020/bin'
| resolvers       | resolving | variable 'SELFAUTOPARENT' set to 'C:/Programme1/texlive/2020'
| resolvers       | resolving | variable 'TEXMFCNF' set to ''
| resolvers       | resolving | variable 'TEXMF' set to ''
| resolvers       | resolving | variable 'TEXOS' set to 'bin'
| ...
`----

Intended or not?

-- 
Uwe


From preining at logic.at  Thu Mar 19 11:50:59 2020
From: preining at logic.at (Norbert Preining)
Date: Thu, 19 Mar 2020 19:50:59 +0900
Subject: [tlmgr.log]: Contains output of mktexlsr etc.
In-Reply-To: <87r1xo8wtw.fsf@siart.de>
References: <87r1xo8wtw.fsf@siart.de>
Message-ID: <6309FDAF-6A82-4B57-BBCE-EDBB38D0196F@logic.at>

Hi

Yes, this change is intended. We want to keep the logs in case something goes wrong.

Is it disturbing for you?

Best

Norbert

On March 19, 2020 7:26:19 PM GMT+09:00, Uwe Siart <usenet at siart.de> wrote:
>Dear all,
>
>After today's update tlmgr writes to tlmgr.log not just updated packages
>but also the all the verbose output of mktexlsr and fmtutil-sys.
>
>Now I see in tlmgr.log things like:
>
>,----
>| ...
>| [Thu Mar 19 08:17:20 2020] running mtxrun --generate
>| [Thu Mar 19 08:18:00 2020] success, output: resolvers       | resolving | variable 'SELFAUTOLOC' set to 'C:/Programme1/texlive/2020/bin/win32'
>| resolvers       | resolving | variable 'SELFAUTODIR' set to 'C:/Programme1/texlive/2020/bin'
>| resolvers       | resolving | variable 'SELFAUTOPARENT' set to 'C:/Programme1/texlive/2020'
>| resolvers       | resolving | variable 'TEXMFCNF' set to ''
>| resolvers       | resolving | variable 'TEXMF' set to ''
>| resolvers       | resolving | variable 'TEXOS' set to 'bin'
>| ...
>`----
>
>Intended or not?
>


--
PREINING Norbert http://www.preining.info
Accelia Inc. + JAIST + TeX Live + Debian Developer
GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13


From usenet at siart.de  Thu Mar 19 12:47:24 2020
From: usenet at siart.de (Uwe Siart)
Date: Thu, 19 Mar 2020 12:47:24 +0100
Subject: [tlmgr.log]: Contains output of mktexlsr etc.
References: <87r1xo8wtw.fsf@siart.de>
 <6309FDAF-6A82-4B57-BBCE-EDBB38D0196F@logic.at>
Message-ID: <878sjwsh0z.fsf@siart.de>

Hi Norbert,

No, it is not disturbing. I was just wondering because bloats the log a
lot more than before and it looked like it happened inadvertently.

Norbert Preining <preining at logic.at> writes:

> Hi
>
> Yes, this change is intended. We want to keep the logs in case something goes wrong.
>
> Is it disturbing for you?
>
> Best
>
> Norbert
>
> On March 19, 2020 7:26:19 PM GMT+09:00, Uwe Siart <usenet at siart.de> wrote:
>>Dear all,
>>
>>After today's update tlmgr writes to tlmgr.log not just updated packages
>>but also the all the verbose output of mktexlsr and fmtutil-sys.
>>
>>Now I see in tlmgr.log things like:
>>
>>,----
>>| ...
>>| [Thu Mar 19 08:17:20 2020] running mtxrun --generate
>>| [Thu Mar 19 08:18:00 2020] success, output: resolvers | resolving | variable
>>| 'SELFAUTOLOC' set to 'C:/Programme1/texlive/2020/bin/win32'
>>| resolvers       | resolving | variable 'SELFAUTODIR' set to 'C:/Programme1/texlive/2020/bin'
>>| resolvers       | resolving | variable 'SELFAUTOPARENT' set to 'C:/Programme1/texlive/2020'
>>| resolvers       | resolving | variable 'TEXMFCNF' set to ''
>>| resolvers       | resolving | variable 'TEXMF' set to ''
>>| resolvers       | resolving | variable 'TEXOS' set to 'bin'
>>| ...
>>`----
>>
>>Intended or not?
>>
>
> --
> PREINING Norbert http://www.preining.info
> Accelia Inc. + JAIST + TeX Live + Debian Developer
> GPG: 0x860CDC13 fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

-- 
Uwe


From pauloney at gmail.com  Thu Mar 19 17:38:34 2020
From: pauloney at gmail.com (Paulo Ney de Souza)
Date: Thu, 19 Mar 2020 09:38:34 -0700
Subject: TeXLive texdoc
Message-ID: <CAFVhNZPQWkYrOdmEDxy9xdE-9E2HeqeD5nEzzxJtDG-YKj1YCw@mail.gmail.com>

Why would

     texdoc texloganalyser

open "gedit" over a README (which is literally a placeholder) instead of
the real documentation at

     perldoc texloganalyser

Is that because of ranking between the README and the real documentation?

Paulo Ney
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200319/34742c0a/attachment.html>

From enrico.gregorio at gmail.com  Thu Mar 19 19:01:36 2020
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Thu, 19 Mar 2020 19:01:36 +0100
Subject: TeXLive texdoc
In-Reply-To: <CAFVhNZPQWkYrOdmEDxy9xdE-9E2HeqeD5nEzzxJtDG-YKj1YCw@mail.gmail.com>
References: <CAFVhNZPQWkYrOdmEDxy9xdE-9E2HeqeD5nEzzxJtDG-YKj1YCw@mail.gmail.com>
Message-ID: <1A8C23A5-2B95-4A72-B203-C79F96128960@gmail.com>



> On 19 Mar 2020, at 17:38 , Paulo Ney de Souza <pauloney at gmail.com> wrote:
> 
> Why would 
> 
>      texdoc texloganalyser
> 
> open "gedit" over a README (which is literally a placeholder) instead of the real documentation at
> 
>      perldoc texloganalyser
> 
> Is that because of ranking between the README and the real documentation?

I don?t think there is any reader associated to perldoc.

texloganalyser is quite unique in this respect as relying
on perldoc for the manual.

Ciao
Enrico

From usenet at siart.de  Fri Mar 20 08:23:39 2020
From: usenet at siart.de (Uwe Siart)
Date: Fri, 20 Mar 2020 08:23:39 +0100
Subject: [gs9.51] transparency broken
References: <87v9n81kbj.fsf@siart.de>
Message-ID: <87lfnvbibo.fsf@siart.de>

Uwe Siart <usenet at siart.de> writes:

> As far as I can see PostScript transparency does not work in the recent
> 9.51 release of ghostscript. This breaks PSTricks graphics that use
> [opacity] and that depend on dvips+ps2pdf. Herbert confirmed. Therefore,
> I suggest to stay with gs9.50 (win32) in TL unless there are better
> causes to upgrade.

Ghostscript 9.52 changes precisely nothing here. Therefore, I still vote
for staying with 9.50 in TL.

-- 
Uwe


From bvoisin at icloud.com  Fri Mar 20 14:10:00 2020
From: bvoisin at icloud.com (Bruno Voisin)
Date: Fri, 20 Mar 2020 14:10:00 +0100
Subject: 9.52 Transparency broken
Message-ID: <FF35A4F6-01CB-49E5-B93A-B9FC40B9F407@icloud.com>

Same experience as Uwe Siart reported: compared with 9.51, Ghostscript 9.52, released yesterday, includes a fix allowing the libgs library (used by dvisvgm) to be built on macOS, but nothing for transparency.

There's a potential fix described at

https://bugs.ghostscript.com/show_bug.cgi?id=702219

I tried and it works, but it's pending review and commit.

Bruno Voisin

From reinhard.kotucha at web.de  Sat Mar 21 00:06:06 2020
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 21 Mar 2020 00:06:06 +0100
Subject: [gs9.51] transparency broken
In-Reply-To: <87lfnvbibo.fsf@siart.de>
References: <87v9n81kbj.fsf@siart.de>
	<87lfnvbibo.fsf@siart.de>
Message-ID: <24181.19550.279999.523788@gargle.gargle.HOWL>

On 2020-03-20 at 08:23:39 +0100, Uwe Siart wrote:

 > Uwe Siart <usenet at siart.de> writes:
 >
 > > As far as I can see PostScript transparency does not work in the
 > > recent 9.51 release of ghostscript. This breaks PSTricks graphics
 > > that use [opacity] and that depend on dvips+ps2pdf. Herbert
 > > confirmed. Therefore, I suggest to stay with gs9.50 (win32) in TL
 > > unless there are better causes to upgrade.
 >
 > Ghostscript 9.52 changes precisely nothing here. Therefore, I still
 > vote for staying with 9.50 in TL.

Hi Uwe,
Akira noticed it already too.  TL-2020 will still provide 9.50.

Thank you very much for testing and reporting.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From hywan at pku.edu.cn  Sat Mar 21 07:42:45 2020
From: hywan at pku.edu.cn (Pkuwhy)
Date: Sat, 21 Mar 2020 14:42:45 +0800
Subject: Problem about xelatex
Message-ID: <5E75B766.004328.27466@pku.edu.cn>

I am new to tex. I just install the texlive2019 by an iso image on my windows10 system.

After that, I try an simple tex compiled by xelatex. However, I receive many problems in the document  ?~/texlive/2019/texmf-dist/tex/latex/l3kernel/expl3.sty?. The log file and the tex file are attached.

What?s more, I have tried different tex downloaded from the Internet compiled with xelatex, but I found the problems are same for all.

Hope someone can help me with this problem. 

Best regards,
Haoyue

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/tex-live/attachments/20200321/9b018dd3/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.tex
Type: application/octet-stream
Size: 191 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200321/9b018dd3/attachment-0002.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.log
Type: application/octet-stream
Size: 81947 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200321/9b018dd3/attachment-0003.obj>

From d.p.carlisle at gmail.com  Sat Mar 21 15:46:09 2020
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sat, 21 Mar 2020 14:46:09 +0000
Subject: Problem about xelatex
In-Reply-To: <5E75B766.004328.27466@pku.edu.cn>
References: <5E75B766.004328.27466@pku.edu.cn>
Message-ID: <CAEW6iOgxEdw9-2xFt_31VLzW=mdxNHG9BmhL-ioyJg_OFRDFzQ@mail.gmail.com>

I think you already asked on stackexchange? Ulrike already explained
you need to update expl3 with tlmgr

https://tex.stackexchange.com/questions/533504/compilation-problem-about-xelatex

David

On Sat, 21 Mar 2020 at 14:40, Pkuwhy <hywan at pku.edu.cn> wrote:
>
> I am new to tex. I just install the texlive2019 by an iso image on my windows10 system.
>
>
>
> After that, I try an simple tex compiled by xelatex. However, I receive many problems in the document  ?~/texlive/2019/texmf-dist/tex/latex/l3kernel/expl3.sty?. The log file and the tex file are attached.
>
>
>
> What?s more, I have tried different tex downloaded from the Internet compiled with xelatex, but I found the problems are same for all.
>
>
>
> Hope someone can help me with this problem.
>
>
>
> Best regards,
>
> Haoyue
>
>


From zdenek.wagner at gmail.com  Sat Mar 21 15:50:25 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Sat, 21 Mar 2020 15:50:25 +0100
Subject: Problem about xelatex
In-Reply-To: <CAEW6iOgxEdw9-2xFt_31VLzW=mdxNHG9BmhL-ioyJg_OFRDFzQ@mail.gmail.com>
References: <5E75B766.004328.27466@pku.edu.cn>
 <CAEW6iOgxEdw9-2xFt_31VLzW=mdxNHG9BmhL-ioyJg_OFRDFzQ@mail.gmail.com>
Message-ID: <CAC1phybxrCDjiWn0JzvAWZt00nEDhdS9pomxw+Yjdaxc0RNOPw@mail.gmail.com>

Hello,

I have just tried your file in fully updated TeX Live 2019 and it
works. Update your installation by tlmgr and it will work.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

so 21. 3. 2020 v 15:46 odes?latel David Carlisle
<d.p.carlisle at gmail.com> napsal:
>
> I think you already asked on stackexchange? Ulrike already explained
> you need to update expl3 with tlmgr
>
> https://tex.stackexchange.com/questions/533504/compilation-problem-about-xelatex
>
> David
>
> On Sat, 21 Mar 2020 at 14:40, Pkuwhy <hywan at pku.edu.cn> wrote:
> >
> > I am new to tex. I just install the texlive2019 by an iso image on my windows10 system.
> >
> >
> >
> > After that, I try an simple tex compiled by xelatex. However, I receive many problems in the document  ?~/texlive/2019/texmf-dist/tex/latex/l3kernel/expl3.sty?. The log file and the tex file are attached.
> >
> >
> >
> > What?s more, I have tried different tex downloaded from the Internet compiled with xelatex, but I found the problems are same for all.
> >
> >
> >
> > Hope someone can help me with this problem.
> >
> >
> >
> > Best regards,
> >
> > Haoyue
> >
> >
>


From karl at freefriends.org  Sat Mar 21 23:07:09 2020
From: karl at freefriends.org (Karl Berry)
Date: Sat, 21 Mar 2020 16:07:09 -0600
Subject: tex live freeze coming fri mar 27
Message-ID: <202003212207.02LM79RI017131@freefriends.org>

Hi everyone - a reminder that I'm planning to close down TL updates and
build the final images at the end of this coming week (Fri Mar 27).

So if you've got package updates which you'd like to be in the initial
release of TL'20, please get them to CTAN as soon as possible.

If anyone is up for helping test the candidate TL'20 we've got now,
please see https://tug.org/texlive/pretest.html.

I realize the world is in flux. If updates don't get made, clearly it's
not critical. It can always happen later. Just wanted to send out a
note. --thanks, karl.

From usenet at siart.de  Sun Mar 22 07:55:42 2020
From: usenet at siart.de (Uwe Siart)
Date: Sun, 22 Mar 2020 07:55:42 +0100
Subject: Lots of anomalous messages during update
Message-ID: <87r1xkanf5.fsf@siart.de>

Dear all,

I'm posting what the update looked like today on the command line. There
were lots of messages during the update of the haranoaji package.
Probably these should have gone to the logfile:

C:\>tlmgr update --self --all
tlmgr.pl: package repository ftp://ftp.cstug.cz/pub/local/tlpretest (not verified: gpg unavailable)
tlmgr.pl: Preparing TeX Live infrastructure update...
DO NOT CLOSE THIS WINDOW!
TeX Live infrastructure update in progress ...
Detailed command logging to "C:\Programme1\texlive\2020\temp\update-self.log"
self update: texlive.infra (54386 -> 54457)
Infrastructure update finished successfully.
About to restart tlmgr to complete update ...
tlmgr.pl: package repository ftp://ftp.cstug.cz/pub/local/tlpretest (not verified: gpg unavailable)
[ 1/17] auto-remove: pst-vue3d ... done
[ 2/17, ??:??/??:??] update: beebe [806k] (54370 -> 54443) ... done
[ 3/17, 00:03/03:02] update: biblatex-juradiss [125k] (29252 -> 54448) ... done
[ 4/17, 00:08/07:02] update: dvisvgm.win32 [1428k] (54337 -> 54458) ... done
[ 5/17, 00:12/04:09] update: dvisvgm [102k] (54338 -> 54457) ... done
[ 6/17, 00:16/05:19] update: glosmathtools [378k] (54434 -> 54452) ... done
[ 7/17, 00:21/06:03] update: haranoaji [25601k] (54422 -> 54445) ... haranoaji-tlpost

do_install

install_cidfont

For HaranoAjiGothic-Bold ...
Font path is c:/Programme1/texlive/2020/texmf-dist/fonts/opentype/public/haranoaji/HaranoAjiGothic-Bold.otf.
Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CIDFont/HaranoAjiGothic-Bold

For HaranoAjiGothic-ExtraLight ...
Font path is c:/Programme1/texlive/2020/texmf-dist/fonts/opentype/public/haranoaji-extra/HaranoAjiGothic-ExtraLight.otf.

Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CIDFont/HaranoAjiGothic-ExtraLight

For HaranoAjiGothic-Heavy ...
Font path is c:/Programme1/texlive/2020/texmf-dist/fonts/opentype/public/haranoaji/HaranoAjiGothic-Heavy.otf.
Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CIDFont/HaranoAjiGothic-Heavy

For HaranoAjiGothic-Light ...
Font path is c:/Programme1/texlive/2020/texmf-dist/fonts/opentype/public/haranoaji-extra/HaranoAjiGothic-Light.otf.
Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CIDFont/HaranoAjiGothic-Light

For HaranoAjiGothic-Medium ...
Font path is c:/Programme1/texlive/2020/texmf-dist/fonts/opentype/public/haranoaji/HaranoAjiGothic-Medium.otf.
Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CIDFont/HaranoAjiGothic-Medium

For HaranoAjiGothic-Normal ...
Font path is c:/Programme1/texlive/2020/texmf-dist/fonts/opentype/public/haranoaji-extra/HaranoAjiGothic-Normal.otf.
Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CIDFont/HaranoAjiGothic-Normal

For HaranoAjiGothic-Regular ...
Font path is c:/Programme1/texlive/2020/texmf-dist/fonts/opentype/public/haranoaji/HaranoAjiGothic-Regular.otf.
Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CIDFont/HaranoAjiGothic-Regular

For HaranoAjiMincho-Bold ...
Font path is c:/Programme1/texlive/2020/texmf-dist/fonts/opentype/public/haranoaji/HaranoAjiMincho-Bold.otf.
Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CIDFont/HaranoAjiMincho-Bold

For HaranoAjiMincho-ExtraLight ...
Font path is c:/Programme1/texlive/2020/texmf-dist/fonts/opentype/public/haranoaji-extra/HaranoAjiMincho-ExtraLight.otf.

Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CIDFont/HaranoAjiMincho-ExtraLight

For HaranoAjiMincho-Heavy ...
Font path is c:/Programme1/texlive/2020/texmf-dist/fonts/opentype/public/haranoaji-extra/HaranoAjiMincho-Heavy.otf.
Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CIDFont/HaranoAjiMincho-Heavy

For HaranoAjiMincho-Light ...
Font path is c:/Programme1/texlive/2020/texmf-dist/fonts/opentype/public/haranoaji/HaranoAjiMincho-Light.otf.
Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CIDFont/HaranoAjiMincho-Light

For HaranoAjiMincho-Medium ...
Font path is c:/Programme1/texlive/2020/texmf-dist/fonts/opentype/public/haranoaji-extra/HaranoAjiMincho-Medium.otf.
Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CIDFont/HaranoAjiMincho-Medium

For HaranoAjiMincho-Regular ...
Font path is c:/Programme1/texlive/2020/texmf-dist/fonts/opentype/public/haranoaji/HaranoAjiMincho-Regular.otf.
Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CIDFont/HaranoAjiMincho-Regular

For HaranoAjiMincho-SemiBold ...
Font path is c:/Programme1/texlive/2020/texmf-dist/fonts/opentype/public/haranoaji-extra/HaranoAjiMincho-SemiBold.otf.
Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CIDFont/HaranoAjiMincho-SemiBold

install_cmap

For H ...
Already exists: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CMap/H

For V ...
Already exists: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CMap/V

For 2004-H ...
CMap path is c:/Programme1/texlive/2020/texmf-dist/fonts/cmap/ptex-fontmaps/2004-H.
Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CMap/2004-H

For 2004-V ...
CMap path is c:/Programme1/texlive/2020/texmf-dist/fonts/cmap/ptex-fontmaps/2004-V.
Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CMap/2004-V

For UniJIS-UTF16-H ...
Already exists: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CMap/UniJIS-UTF16-H

For UniJIS-UTF16-V ...
Already exists: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CMap/UniJIS-UTF16-V

For UniJIS2004-UTF16-H ...
Already exists: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CMap/UniJIS2004-UTF16-H

For UniJIS2004-UTF16-V ...
Already exists: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CMap/UniJIS2004-UTF16-V

For UniJIS-UCS2-H ...
Already exists: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CMap/UniJIS-UCS2-H

install_snippet

For HaranoAjiGothic-Bold ...
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Bold-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Bold-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Bold-2004-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Bold-2004-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Bold-UniJIS-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Bold-UniJIS-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Bold-UniJIS2004-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Bold-UniJIS2004-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Bold-UniJIS-UCS2-H

For HaranoAjiGothic-ExtraLight ...
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-ExtraLight-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-ExtraLight-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-ExtraLight-2004-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-ExtraLight-2004-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-ExtraLight-UniJIS-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-ExtraLight-UniJIS-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-ExtraLight-UniJIS2004-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-ExtraLight-UniJIS2004-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-ExtraLight-UniJIS-UCS2-H

For HaranoAjiGothic-Heavy ...
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Heavy-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Heavy-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Heavy-2004-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Heavy-2004-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Heavy-UniJIS-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Heavy-UniJIS-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Heavy-UniJIS2004-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Heavy-UniJIS2004-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Heavy-UniJIS-UCS2-H

For HaranoAjiGothic-Light ...
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Light-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Light-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Light-2004-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Light-2004-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Light-UniJIS-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Light-UniJIS-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Light-UniJIS2004-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Light-UniJIS2004-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Light-UniJIS-UCS2-H

For HaranoAjiGothic-Medium ...
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Medium-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Medium-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Medium-2004-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Medium-2004-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Medium-UniJIS-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Medium-UniJIS-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Medium-UniJIS2004-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Medium-UniJIS2004-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Medium-UniJIS-UCS2-H

For HaranoAjiGothic-Normal ...
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Normal-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Normal-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Normal-2004-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Normal-2004-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Normal-UniJIS-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Normal-UniJIS-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Normal-UniJIS2004-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Normal-UniJIS2004-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Normal-UniJIS-UCS2-H

For HaranoAjiGothic-Regular ...
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Regular-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Regular-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Regular-2004-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Regular-2004-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Regular-UniJIS-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Regular-UniJIS-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Regular-UniJIS2004-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Regular-UniJIS2004-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiGothic-Regular-UniJIS-UCS2-H

For HaranoAjiMincho-Bold ...
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Bold-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Bold-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Bold-2004-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Bold-2004-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Bold-UniJIS-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Bold-UniJIS-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Bold-UniJIS2004-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Bold-UniJIS2004-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Bold-UniJIS-UCS2-H

For HaranoAjiMincho-ExtraLight ...
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-ExtraLight-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-ExtraLight-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-ExtraLight-2004-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-ExtraLight-2004-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-ExtraLight-UniJIS-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-ExtraLight-UniJIS-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-ExtraLight-UniJIS2004-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-ExtraLight-UniJIS2004-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-ExtraLight-UniJIS-UCS2-H

For HaranoAjiMincho-Heavy ...
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Heavy-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Heavy-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Heavy-2004-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Heavy-2004-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Heavy-UniJIS-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Heavy-UniJIS-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Heavy-UniJIS2004-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Heavy-UniJIS2004-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Heavy-UniJIS-UCS2-H

For HaranoAjiMincho-Light ...
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Light-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Light-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Light-2004-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Light-2004-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Light-UniJIS-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Light-UniJIS-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Light-UniJIS2004-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Light-UniJIS2004-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Light-UniJIS-UCS2-H

For HaranoAjiMincho-Medium ...
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Medium-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Medium-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Medium-2004-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Medium-2004-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Medium-UniJIS-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Medium-UniJIS-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Medium-UniJIS2004-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Medium-UniJIS2004-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Medium-UniJIS-UCS2-H

For HaranoAjiMincho-Regular ...
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Regular-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Regular-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Regular-2004-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Regular-2004-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Regular-UniJIS-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Regular-UniJIS-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Regular-UniJIS2004-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Regular-UniJIS2004-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-Regular-UniJIS-UCS2-H

For HaranoAjiMincho-SemiBold ...
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-SemiBold-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-SemiBold-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-SemiBold-2004-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-SemiBold-2004-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-SemiBold-UniJIS-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-SemiBold-UniJIS-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-SemiBold-UniJIS2004-UTF16-H
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-SemiBold-UniJIS2004-UTF16-V
Created: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/Font/HaranoAjiMincho-SemiBold-UniJIS-UCS2-H

done.
done
[ 8/17, 01:06/01:53] update: latexindent.win32 [7873k] (52050 -> 54454) ... done
[ 9/17, 01:15/01:41] update: latexindent [945k] (52050 -> 54454) ... done
[10/17, 01:20/01:45] update: media9 [5472k] (54096 -> 54453) ... done
[11/17, 01:30/01:43] update: ptex-manual [2410k] (53007 -> 54450) ... done
[12/17, 01:37/01:45] update: tasks [467k] (53371 -> 54449) ... done
[13/17, 01:41/01:48] update: texlive-docindex [155k] (54418 -> 54443) ... done
[14/17, 01:45/01:52] update: texlive-es [3018k] (54428 -> 54465) ... done
[15/17, 01:54/01:54] auto-install: expose-expl3-dunkerque-2019 (54451) [324k] ... done
[16/17, 01:57/01:57] update: collection-langfrench [1k] (54074 -> 54451) ... done
[17/17, 01:59/01:59] update: collection-pstricks [1k] (54382 -> 54455) ... done
running mktexlsr ...
done running mktexlsr.
running mtxrun --generate ...
done running mtxrun --generate.
tlmgr.pl: package log updated: C:/Programme1/texlive/2020/texmf-var/web2c/tlmgr.log


-- 
Uwe


From Herbert.Voss at fu-berlin.de  Sun Mar 22 08:04:09 2020
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Sun, 22 Mar 2020 08:04:09 +0100
Subject: Lots of anomalous messages during update
In-Reply-To: <87r1xkanf5.fsf@siart.de>
References: <87r1xkanf5.fsf@siart.de>
Message-ID: <c6eadfa8-f809-580a-ef66-cd218b20d04a@fu-berlin.de>



Am 22.03.20 um 07:55 schrieb Uwe Siart:
> I'm posting what the update looked like today on the command line. There
> were lots of messages during the update of the haranoaji package.
> Probably these should have gone to the logfile:
>
> C:\>tlmgr update --self --all
> tlmgr.pl: package repository ftp://ftp.cstug.cz/pub/local/tlpretest (not verified: gpg unavailable)
> tlmgr.pl: Preparing TeX Live infrastructure update...
> DO NOT CLOSE THIS WINDOW!
> TeX Live infrastructure update in progress ...
> Detailed command logging to "C:\Programme1\texlive\2020\temp\update-self.log"
> self update: texlive.infra (54386 -> 54457)
> Infrastructure update finished successfully.
> About to restart tlmgr to complete update ...
> tlmgr.pl: package repository ftp://ftp.cstug.cz/pub/local/tlpretest (not verified: gpg unavailable)
> [ 1/17] auto-remove: pst-vue3d ... done
> [ 2/17, ??:??/??:??] update: beebe [806k] (54370 -> 54443) ... done
> [ 3/17, 00:03/03:02] update: biblatex-juradiss [125k] (29252 -> 54448) ... done
> [ 4/17, 00:08/07:02] update: dvisvgm.win32 [1428k] (54337 -> 54458) ... done
> [ 5/17, 00:12/04:09] update: dvisvgm [102k] (54338 -> 54457) ... done
> [ 6/17, 00:16/05:19] update: glosmathtools [378k] (54434 -> 54452) ... done
> [ 7/17, 00:21/06:03] update: haranoaji [25601k] (54422 -> 54445) ... haranoaji-tlpost
>
> do_install
>
> install_cidfont
>
> For HaranoAjiGothic-Bold ...
> Font path is c:/Programme1/texlive/2020/texmf-dist/fonts/opentype/public/haranoaji/HaranoAjiGothic-Bold.otf.
> Symbolic link succeeded: C:/Programme1/texlive/2020/tlpkg/tlgs/Resource/CIDFont/HaranoAjiGothic-Bold

For me everything works as expected (TeXLive on iMac)

Herbert

iMac:~ voss$ tlmgr --self --all update
tlmgr: package repository ftp://ftp.cstug.cz/pub/tex/local/tlpretest 
(not verified: gpg unavailable)
tlmgr: saving backups to /Volumes/SSD300/usr/local/texlive/tlpkg/backups
[1/1, ??:??/??:??] update: texlive.infra [418k] (54386 -> 54457) ... done
tlmgr: Restarting to complete update ...
tlmgr: package repository ftp://ftp.cstug.cz/pub/tex/local/tlpretest 
(not verified: gpg unavailable)
tlmgr: saving backups to /Volumes/SSD300/usr/local/texlive/tlpkg/backups
[ 1/15] auto-remove: pst-vue3d ... done
[ 2/15, ??:??/??:??] update: beebe [806k] (54370 -> 54443) ... done
[ 3/15, 00:05/04:17] update: biblatex-juradiss [125k] (29252 -> 54448) 
... done
[ 4/15, 00:09/06:41] update: dvisvgm [102k] (54338 -> 54457) ... done
[ 5/15, 00:13/08:43] update: glosmathtools [378k] (54434 -> 54452) ... done
[ 6/15, 00:23/11:18] update: haranoaji [25601k] (54422 -> 54445) ... done
[ 7/15, 00:34/00:52] update: latexindent [945k] (52050 -> 54454) ... done
[ 8/15, 00:40/00:59] update: media9 [7207k] (54096 -> 54453) ... done
[ 9/15, 00:46/00:54] update: ptex-manual [2410k] (53007 -> 54450) ... done
[10/15, 00:51/00:56] update: tasks [467k] (53371 -> 54449) ... done
[11/15, 00:55/01:00] update: texlive-docindex [155k] (54418 -> 54443) 
... done
[12/15, 01:00/01:05] update: texlive-es [3018k] (54428 -> 54465) ... done
[13/15, 01:05/01:05] auto-install: expose-expl3-dunkerque-2019 (54451) 
[324k] ... done
[14/15, 01:08/01:08] update: collection-langfrench [1k] (54074 -> 54451) 
... done
[15/15, 01:11/01:11] update: collection-pstricks [1k] (54382 -> 54455) 
... done
running mktexlsr ...
done running mktexlsr.
running mtxrun --generate ...
done running mtxrun --generate.
tlmgr: package log updated: 
/Volumes/SSD300/usr/local/texlive/texmf-var/web2c/tlmgr.log
iMac:~ voss$




From alessi at robertalessi.net  Sun Mar 22 08:35:17 2020
From: alessi at robertalessi.net (Robert Alessi)
Date: Sun, 22 Mar 2020 08:35:17 +0100
Subject: Lots of anomalous messages during update
In-Reply-To: <c6eadfa8-f809-580a-ef66-cd218b20d04a@fu-berlin.de>
References: <87r1xkanf5.fsf@siart.de>
 <c6eadfa8-f809-580a-ef66-cd218b20d04a@fu-berlin.de>
Message-ID: <20200322073517.GA3506@robertalessi.net>

On Sun, Mar 22, 2020 at 08:04:09AM +0100, Herbert Voss wrote:
> Am 22.03.20 um 07:55 schrieb Uwe Siart:
> > I'm posting what the update looked like today on the command line. There
> > were lots of messages during the update of the haranoaji package.
> > Probably these should have gone to the logfile:

[...]

> For me everything works as expected (TeXLive on iMac)
> 
> Herbert

Same here on Linux just now.

-- Robert

[...]

From h.y.acetaminophen at gmail.com  Sun Mar 22 08:38:05 2020
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Sun, 22 Mar 2020 16:38:05 +0900
Subject: Lots of anomalous messages during update
In-Reply-To: <87r1xkanf5.fsf@siart.de>
References: <87r1xkanf5.fsf@siart.de>
Message-ID: <CAJCZBmTfpNsgC_7CSNgN5NSMMt2rHoh0ehydzcY+oLJkpciigQ@mail.gmail.com>

Hi Uwe,

> I'm posting what the update looked like today on the command line. There
> were lots of messages during the update of the haranoaji package.
> Probably these should have gone to the logfile:

They are messages by new post-install script haranoaji-tlpost.pl,
which sets up haranoaji fonts to be used with tlgs on win32.
(Ghostscript shipped with Windows inside TeX Live.

Reading the log, I think that the script is running properly.

Masamichi --- is it possible to make that less verbose?

Thanks,
Hironobu

From h.y.acetaminophen at gmail.com  Sun Mar 22 11:02:06 2020
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Sun, 22 Mar 2020 19:02:06 +0900
Subject: Lots of anomalous messages during update
In-Reply-To: <CAJCZBmTfpNsgC_7CSNgN5NSMMt2rHoh0ehydzcY+oLJkpciigQ@mail.gmail.com>
References: <87r1xkanf5.fsf@siart.de>
 <CAJCZBmTfpNsgC_7CSNgN5NSMMt2rHoh0ehydzcY+oLJkpciigQ@mail.gmail.com>
Message-ID: <CAJCZBmTTOQtJ+2JAoT-NBFCaM1+onW=mm06b9Tb57wk5EbXuRQ@mail.gmail.com>

Hi,

> haranoaji-tlpost.pl

Update from Masamichi installed on r54472; let's see...

Thanks,
Hironobu

From usenet at siart.de  Mon Mar 23 08:40:07 2020
From: usenet at siart.de (Uwe Siart)
Date: Mon, 23 Mar 2020 08:40:07 +0100
Subject: Lots of anomalous messages during update
References: <87r1xkanf5.fsf@siart.de>
 <CAJCZBmTfpNsgC_7CSNgN5NSMMt2rHoh0ehydzcY+oLJkpciigQ@mail.gmail.com>
 <CAJCZBmTTOQtJ+2JAoT-NBFCaM1+onW=mm06b9Tb57wk5EbXuRQ@mail.gmail.com>
Message-ID: <87mu87a59k.fsf@siart.de>

Hironobu Yamashita <h.y.acetaminophen at gmail.com> writes:

> Update from Masamichi installed on r54472; let's see...

Just in case the information is helpful:

Today I saw an update of haranoaji with absolutely no messages on the
command line.

Checking the files in

\tlgs\Resource\CIDFont\
\tlgs\Resource\Font\

I saw that they all date 2020-03-22, which is yesterday. So, all the
files and links that were created yesterday are still there. But they
were not re-created today (2020-03-23).

-- 
Uwe


From kakuto at w32tex.org  Mon Mar 23 09:13:35 2020
From: kakuto at w32tex.org (Akira Kakuto)
Date: Mon, 23 Mar 2020 17:13:35 +0900
Subject: Lots of anomalous messages during update
In-Reply-To: <87mu87a59k.fsf@siart.de>
References: <87r1xkanf5.fsf@siart.de>
 <CAJCZBmTfpNsgC_7CSNgN5NSMMt2rHoh0ehydzcY+oLJkpciigQ@mail.gmail.com>
 <CAJCZBmTTOQtJ+2JAoT-NBFCaM1+onW=mm06b9Tb57wk5EbXuRQ@mail.gmail.com>
 <87mu87a59k.fsf@siart.de>
Message-ID: <39FB902272574F1CAF522702ACB3C7FE@CJ3001517A>

Dear Uwe Siart, 

> tlgs/Resource/CIDFont/
> tlgs/Resource/Font/
>
> I saw that they all date 2020-03-22, which is yesterday. So, all the
> files and links that were created yesterday are still there. But they
> were not re-created today (2020-03-23).

haranoaji-tlpost.pl checks necessary links and/or files in
tlgs/Resource/CIDFont/ and in tlgs/Resource/Font/
If they exist, they are left intact.

Next time, in order to test verbosity, please remove links or files
created by haranoaji-tlpost.pl in tlgs/Resource/CIDFont/ and
in tlgs/Resource/Font/. Of course, in usual installation, users
should not remove them. The original files in the 2 directories are
tlgs/Resource/Font/README
and
tlgs/Resource/CIDFont/ArtifexBullet.

Thanks,
Akira


From news3 at nililand.de  Mon Mar 23 10:45:19 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 23 Mar 2020 10:45:19 +0100
Subject: Lots of anomalous messages during update
References: <87r1xkanf5.fsf@siart.de>
 <CAJCZBmTfpNsgC_7CSNgN5NSMMt2rHoh0ehydzcY+oLJkpciigQ@mail.gmail.com>
 <CAJCZBmTTOQtJ+2JAoT-NBFCaM1+onW=mm06b9Tb57wk5EbXuRQ@mail.gmail.com>
Message-ID: <1hz6wf5n1w1be.dlg@nililand.de>

Am Sun, 22 Mar 2020 19:02:06 +0900 schrieb Hironobu Yamashita:


>> haranoaji-tlpost.pl
 
> Update from Masamichi installed on r54472; let's see...

I got today (on windows 10, account without admin rights) around 15
messages about missing rights:

CreateSymbolicLinkW failed: Dem Client fehlt ein erforderliches
Recht.

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From michael.osipov at siemens.com  Mon Mar 23 11:49:35 2020
From: michael.osipov at siemens.com (Osipov, Michael)
Date: Mon, 23 Mar 2020 11:49:35 +0100
Subject: Wrong name of package texlive-cz
Message-ID: <47449415-8f64-8e85-3de1-c29682195c48@siemens.com>

Folks,

just noticed that the package name is wrong: texlive-cz
The ISO code for the Czech language is 'cs' from "?esk? jazyk".

Can this be corrected?

Michael

From zdenek.wagner at gmail.com  Mon Mar 23 12:19:41 2020
From: zdenek.wagner at gmail.com (Zdenek Wagner)
Date: Mon, 23 Mar 2020 12:19:41 +0100
Subject: Wrong name of package texlive-cz
In-Reply-To: <47449415-8f64-8e85-3de1-c29682195c48@siemens.com>
References: <47449415-8f64-8e85-3de1-c29682195c48@siemens.com>
Message-ID: <CAC1phyZ6h-Y5kds2KQ6C+Unvs-AEMrYTWd0-sB6PapX-rUGs+w@mail.gmail.com>

Hi,

you are right, the ISO code for the Czech language is cs, but the
package relates both to Czech and Slovak. I am not sure when and how
the name was created but I think that previously CZ was used as a
country code for Czechoslovakia. Anyway, I am not the person who
should decide, I just want to add information related to the name.

Zden?k Wagner
http://ttsm.icpf.cas.cz/team/wagner.shtml
http://icebearsoft.euweb.cz

po 23. 3. 2020 v 11:49 odes?latel Osipov, Michael
<michael.osipov at siemens.com> napsal:
>
> Folks,
>
> just noticed that the package name is wrong: texlive-cz
> The ISO code for the Czech language is 'cs' from "?esk? jazyk".
>
> Can this be corrected?
>
> Michael


From siepo at bitmuis.nl  Mon Mar 23 13:39:53 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Mon, 23 Mar 2020 13:39:53 +0100
Subject: Lots of anomalous messages during update
In-Reply-To: <1hz6wf5n1w1be.dlg@nililand.de>
References: <87r1xkanf5.fsf@siart.de>
 <CAJCZBmTfpNsgC_7CSNgN5NSMMt2rHoh0ehydzcY+oLJkpciigQ@mail.gmail.com>
 <CAJCZBmTTOQtJ+2JAoT-NBFCaM1+onW=mm06b9Tb57wk5EbXuRQ@mail.gmail.com>
 <1hz6wf5n1w1be.dlg@nililand.de>
Message-ID: <20200323123953.GA1332@bitmuis.nl>

On Mon, Mar 23, 2020 at 10:45:19AM +0100, Ulrike Fischer wrote:
> Am Sun, 22 Mar 2020 19:02:06 +0900 schrieb Hironobu Yamashita:
> 
> 
> >> haranoaji-tlpost.pl
>  
> > Update from Masamichi installed on r54472; let's see...
> 
> I got today (on windows 10, account without admin rights) around 15
> messages about missing rights:
> 
> CreateSymbolicLinkW failed: Dem Client fehlt ein erforderliches
> Recht.

I found this:
https://docs.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-createsymboliclinka

Apparently, it is necessary to explicitly allow creation of a
symlink by a non-admin. God forbid that a non-admin user would be
able to do real work!

A somewhat earlier post elsewhere,
https://www.ghacks.net/2016/12/04/windows-10-creators-update-symlinks-without-elevation/ ,
mentioned that from the March 2017 update non-admin users can create
symlinks if Developer Mode is enabled.

-- 
Siep Kroonenberg

From h.y.acetaminophen at gmail.com  Mon Mar 23 13:45:58 2020
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Mon, 23 Mar 2020 21:45:58 +0900
Subject: Lots of anomalous messages during update
In-Reply-To: <1hz6wf5n1w1be.dlg@nililand.de>
References: <87r1xkanf5.fsf@siart.de>
 <CAJCZBmTfpNsgC_7CSNgN5NSMMt2rHoh0ehydzcY+oLJkpciigQ@mail.gmail.com>
 <CAJCZBmTTOQtJ+2JAoT-NBFCaM1+onW=mm06b9Tb57wk5EbXuRQ@mail.gmail.com>
 <1hz6wf5n1w1be.dlg@nililand.de>
Message-ID: <F98BB5C8-2228-4473-A166-2FA0118BB965@gmail.com>

Hi Ulrike,

> I got today (on windows 10, account without admin rights) around 15
> messages about missing rights:
> 
> CreateSymbolicLinkW failed: Dem Client fehlt ein erforderliches
> Recht.

The failure of creating symlink is also known; in fact,
the script haranoaji-tlpost does copy files instead,
in case creating symlink fails.
Do you see such copied files?

Hironobu


From news3 at nililand.de  Mon Mar 23 13:52:37 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 23 Mar 2020 13:52:37 +0100
Subject: Lots of anomalous messages during update
References: <87r1xkanf5.fsf@siart.de>
 <CAJCZBmTfpNsgC_7CSNgN5NSMMt2rHoh0ehydzcY+oLJkpciigQ@mail.gmail.com>
 <CAJCZBmTTOQtJ+2JAoT-NBFCaM1+onW=mm06b9Tb57wk5EbXuRQ@mail.gmail.com>
 <1hz6wf5n1w1be.dlg@nililand.de>
 <F98BB5C8-2228-4473-A166-2FA0118BB965@gmail.com>
Message-ID: <2t98tgclvwe1$.dlg@nililand.de>

Am Mon, 23 Mar 2020 21:45:58 +0900 schrieb Hironobu Yamashita:

>> I got today (on windows 10, account without admin rights) around 15
>> messages about missing rights:

>> CreateSymbolicLinkW failed: Dem Client fehlt ein erforderliches
>> Recht.
> 
> The failure of creating symlink is also known; in fact,
> the script haranoaji-tlpost does copy files instead,
> in case creating symlink fails.
> Do you see such copied files?

I see files in C:\texlive\2020\tlpkg\tlgs\Resource\CIDFont.
They have the right size to be otf files, but their extension is
missing, is this expected?




-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From h.y.acetaminophen at gmail.com  Mon Mar 23 14:12:44 2020
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Mon, 23 Mar 2020 22:12:44 +0900
Subject: Lots of anomalous messages during update
In-Reply-To: <2t98tgclvwe1$.dlg@nililand.de>
References: <87r1xkanf5.fsf@siart.de>
 <CAJCZBmTfpNsgC_7CSNgN5NSMMt2rHoh0ehydzcY+oLJkpciigQ@mail.gmail.com>
 <CAJCZBmTTOQtJ+2JAoT-NBFCaM1+onW=mm06b9Tb57wk5EbXuRQ@mail.gmail.com>
 <1hz6wf5n1w1be.dlg@nililand.de>
 <F98BB5C8-2228-4473-A166-2FA0118BB965@gmail.com>
 <2t98tgclvwe1$.dlg@nililand.de>
Message-ID: <CAJCZBmQYyBDMZgtBSApi5Pk-GjLPHr78fLzbWUxEodOtz7cVMw@mail.gmail.com>

> I see files in C:\texlive\2020\tlpkg\tlgs\Resource\CIDFont.
> They have the right size to be otf files, but their extension is
> missing, is this expected?

Thank you for confirming.
Expected.  The extension needs to be removed, so that
the OTF file is treated as if it is a CID font by gs.

I think the warning message should be disabled
when copying file succeeds.  Will commit later...

Hironobu

From daniel.flipo at free.fr  Mon Mar 23 19:52:38 2020
From: daniel.flipo at free.fr (Daniel Flipo)
Date: Mon, 23 Mar 2020 19:52:38 +0100
Subject: TLpretest -- l3build issue
Message-ID: <f8192b6f-22c7-b9d2-8eaf-8e6650f2bff3@free.fr>

Hi all,

I am trying to run my bunch of regression tests for babel-french with
the new (pre) TL2020 but I have an issue with lualatex (only):

Running
% lualatex myfile.lvt
works fine, but

% l3build check myfile.lvt

keeps rebuilding the lualatex format on TEXMFHOME and stops before
checking!  This occurs with any ".lvt" file.

The lualatex format is found by kpsewhich:

% kpsewhich -engine=/ lualatex.fmt
/usr/local/texlive/2020/texmf-var/web2c/luahbtex/lualatex.fmt

I thought a symbolic link might help:
% (cd /usr/local/texlive/2020/texmf-var/web2c/luatex/; ln -s
../luahbtex/lualatex.fmt)
but it doesn't.

Thanks for any hints!
-- 
Daniel Flipo

From news3 at nililand.de  Mon Mar 23 20:17:32 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Mon, 23 Mar 2020 20:17:32 +0100
Subject: TLpretest -- l3build issue
References: <f8192b6f-22c7-b9d2-8eaf-8e6650f2bff3@free.fr>
Message-ID: <bb2kblf4er2j$.dlg@nililand.de>

Am Mon, 23 Mar 2020 19:52:38 +0100 schrieb Daniel Flipo:

> Hi all,
> 
> I am trying to run my bunch of regression tests for babel-french with
> the new (pre) TL2020 but I have an issue with lualatex (only):
> 
> Running
> % lualatex myfile.lvt
> works fine, but
> 
> % l3build check myfile.lvt
> 
> keeps rebuilding the lualatex format on TEXMFHOME and stops before
> checking!  This occurs with any ".lvt" file.

That is because of the engine change: lualatex in texlive 2020 uses
luahbtex and no longer luatex. I have in one project a test and a
specialformats setting to accomodate for this:

if string.find(status.banner,"2019") then
  print("TL2019")
  TL2019bool=true
else 
  -- tl2020
  print("TL2020 or later")

  specialformats["latex"] = specialformats["latex"] or 
   {
    luatex     = {binary="luahbtex",format = "lualatex"},
   }
  specialformats["latex-dev"] = specialformats["latex-dev"] or 
   {
    luatex = {binary="luahbtex",format = "lualatex-dev"}
   }
end


-- 
Ulrike Fischer 
https://www.troubleshooting-tex.de/


From joseph.wright at morningstar2.co.uk  Mon Mar 23 20:48:14 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 23 Mar 2020 19:48:14 +0000
Subject: TLpretest -- l3build issue
In-Reply-To: <bb2kblf4er2j$.dlg@nililand.de>
References: <f8192b6f-22c7-b9d2-8eaf-8e6650f2bff3@free.fr>
 <bb2kblf4er2j$.dlg@nililand.de>
Message-ID: <5530cd8e-3da1-936a-36dc-adfde2555f8a@morningstar2.co.uk>

On 23/03/2020 19:17, Ulrike Fischer wrote:
> Am Mon, 23 Mar 2020 19:52:38 +0100 schrieb Daniel Flipo:
> 
>> Hi all,
>>
>> I am trying to run my bunch of regression tests for babel-french with
>> the new (pre) TL2020 but I have an issue with lualatex (only):
>>
>> Running
>> % lualatex myfile.lvt
>> works fine, but
>>
>> % l3build check myfile.lvt
>>
>> keeps rebuilding the lualatex format on TEXMFHOME and stops before
>> checking!  This occurs with any ".lvt" file.
> 
> That is because of the engine change: lualatex in texlive 2020 uses
> luahbtex and no longer luatex. I have in one project a test and a
> specialformats setting to accomodate for this:
> 
> if string.find(status.banner,"2019") then
>    print("TL2019")
>    TL2019bool=true
> else
>    -- tl2020
>    print("TL2020 or later")
> 
>    specialformats["latex"] = specialformats["latex"] or
>     {
>      luatex     = {binary="luahbtex",format = "lualatex"},
>     }
>    specialformats["latex-dev"] = specialformats["latex-dev"] or
>     {
>      luatex = {binary="luahbtex",format = "lualatex-dev"}
>     }
> end
> 
> 

We'll likely have to add this to the core.

Joseph

From karl at freefriends.org  Mon Mar 23 23:56:36 2020
From: karl at freefriends.org (Karl Berry)
Date: Mon, 23 Mar 2020 16:56:36 -0600
Subject: Wrong name of package texlive-cz
In-Reply-To: <47449415-8f64-8e85-3de1-c29682195c48@siemens.com>
Message-ID: <202003232256.02NMuaWQ018881@freefriends.org>

    just noticed that the package name is wrong: texlive-cz
    The ISO code for the Czech language is 'cs' from "???esk???? jazyk".

As stated, it is both Czech and Slovak. It's always been named cz. I'm
not going to rename it unless the translators, Petr Sojka (Czech) and
Jan Busa (Slovak), want me to. Personally I think the name is meaningful
in its melding of the two. -k

From karl at freefriends.org  Tue Mar 24 23:00:13 2020
From: karl at freefriends.org (Karl Berry)
Date: Tue, 24 Mar 2020 16:00:13 -0600
Subject: mktextfm trying to generate a nonsense font
In-Reply-To: <r4k22l$2qf9$1@ciao.gmane.io>
Message-ID: <202003242200.02OM0DSg031765@freefriends.org>

    also try to create the fonts "bchr8r-20-100" and "bchr8r+20-100"

To close this out here, and for anyone curious, I posted my analysis of
this bug and a possible patch to pdftex on ntg-pdftex. (Robert, I cc'd
you with it.)
https://mailman.ntg.nl/pipermail/ntg-pdftex/2020-March/004307.html
--thanks, karl.

From j.hoffmann at fh-aachen.de  Wed Mar 25 11:35:37 2020
From: j.hoffmann at fh-aachen.de (Hoffmann, Jobst)
Date: Wed, 25 Mar 2020 10:35:37 +0000
Subject: TeX Live 2020 pretest, texdoctk.exe
Message-ID: <04e8831d8dc8a1d00a542bd5a8cbb4a646fa7786.camel@fh-aachen.de>

Per chance I've just stumbled upon the following error:

I tried to start texdoctk.exe, then a window with the following message
popped up:

E:\texlive\2020\bin\win32\runscript.tlu:915: command failed
with exit code 1:
wperl.exe
e:\texlive\2020\texmf-dist\scripts\texdoctk\texdoctk.pl

Best wishes, stay healthy
Jobst
-- 
Prof. Dr. Jobst Hoffmann            Tel:   +49 (241) 6009-5 31 59
Fachhochschule Aachen Abt. J?lich   Fax:   +49 (241) 6009-5 31 89
Fachbereich 09                      email: j.hoffmann at fh-aachen.de



From norbert at preining.info  Wed Mar 25 11:47:52 2020
From: norbert at preining.info (Norbert Preining)
Date: Wed, 25 Mar 2020 19:47:52 +0900
Subject: another breakage due to LaTeX changes?
In-Reply-To: <158512816630.15114.16221267994511011024.reportbug@zam581.zam.kfa-juelich.de>
References: <158512816630.15114.16221267994511011024.reportbug@zam581.zam.kfa-juelich.de>
Message-ID: <20200325104752.GC4284@burischnitzel.preining.info>

Hi all, in particular LaTeX group,

it seems that some old documents (.dtx) don't translate anymore
correctly. That might be simply a bug in the old code, but maybe some
oversight in the LaTeX code.

The attached lgrind.dtx was used and always properly build up to recent
changes (2020 LaTeX), but now fails with
> LaTeX2e <2020-02-02> patch level 5
> L3 programming layer <2020-02-25>
> (/usr/share/texlive/texmf-dist/tex/latex/base/ltxdoc.cls
> Document Class: ltxdoc 2019/09/16 v2.0y Standard LaTeX documentation class
> (/usr/share/texlive/texmf-dist/tex/latex/base/article.cls
> Document Class: article 2019/12/20 v1.4l Standard LaTeX document class
> (/usr/share/texlive/texmf-dist/tex/latex/base/size10.clo))
> (/usr/share/texlive/texmf-dist/tex/latex/base/doc.sty
> (/usr/share/texlive/texmf-dist/tex/latex/tools/multicol.sty)))
> Writing index file lgrind.idx
> Writing glossary file lgrind.glo 
> (./lgrind.dtx
> (/usr/share/texlive/texmf-dist/tex/latex/l3backend/l3backend-dvips.def
> 
> ! LaTeX Error: Missing \begin{document}.
> 
> See the LaTeX manual or LaTeX Companion for explanation.
> Type  H <return>  for immediate help.
>  ...                                              
>                                                   
> l.2 %% T
>         his is file `l3backend-dvips.def',
> ? 
> ! Emergency stop.

Since it contains the
	l3backend-dvipds.def
that was recently introduced, I assume there is some breakage with
recent LaTeX.

Any comments?

Please keep Cc, thanks!

All the best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13
-------------- next part --------------
% \iffalse
%
% This is LGrind.DTX. This was written by:
%
% -  Van Jacobson, Lawrence Berkeley Laboratory (based on
%    vgrind by Dave Presotto & William Joy of UC Berkeley),
%    the original written for \TeX.
% -  Jerry Leichter of Yale University, modifications for \LaTeX.
% -  George V. Reilly of Brown University, renamed to lgrind
% -  Michael Piefel, Humboldt-University Berlin, for \LaTeXe
%    and a thousand little changes
%
% \fi
% \iffalse
%% Based on Van Jacobson's ``tgrindmac'', a macro package for TeX.
%% Modified, 1987 by Jerry Leichter. Put '@' in all internal names.
%% Modified, 1991 by George Reilly. Changed name from tgrind to lgrind.
%% Modified, 1995 by Michael Piefel. Made it work with \LaTeXe.
%%          -1999    Hundreds of bells and whistles. No changelog here.
%
%<*dtx>
\ProvidesFile{lgrind.dtx}
          [2002/01/28 v3.67 LGrind environment and supporting stuff]
%</dtx>
%<package>\NeedsTeXFormat{LaTeX2e}[1996/06/01]
%<package>\ProvidesPackage{lgrind}
%<package>          [2002/01/28 v3.67 LGrind environment and supporting stuff]
%<*driver>
\NeedsTeXFormat{LaTeX2e}[1996/06/01]
\documentclass{ltxdoc}
\CodelineIndex
\RecordChanges
\DocInput{lgrind.dtx}
\end{document}
%</driver>
% \fi
%
% \newcommand{\LG}{\textsf{LGrind}}
% \newcommand{\NFSS}{\textsf{NFSS}}
% \frenchspacing
% 
% \GetFileInfo{lgrind.dtx}
% \begin{document}
% \title{The \LG{} package\thanks{This file
%         has version number \fileversion, last
%         revised \filedate.}}
% \author{Various Artists}
% \date{\filedate}
% \maketitle
% 
% \CheckSum{679}
% 
% \begin{abstract}
% The \LG{} package is a pretty printer for source
% code. It evolved from vgrind, supported \TeX{} (tgrind) and
% \LaTeX{} and now finally \LaTeXe, in particular \NFSS.
% \end{abstract}
% 
% \changes{v1.0}{1985/02/10}{Written}
% \changes{v2.0}{1991/09/06}{Upgrade to \LaTeX2.09}
% \changes{v3.0}{1995/09/24}{Upgrade to \LaTeXe}
% 
% \section{Introduction}
% \subsection{What is it?}
% The \LG{} package consists of three files:
% \begin{itemize}
% \item \texttt{lgrind} or \texttt{lgrind.exe} is the executable. It will
% convert an \LaTeX-File with embedded listings or a source code file
% into a lot of macro-calls.
% \item \texttt{lgrind.sty} provides the environments and macros to make
% the produced mess readable.
% \item \texttt{lgrindef} contains the information
% needed to tell keywords from comments, comments from strings \dots
% \end{itemize}
% 
% \subsection{Who is to blame?}
% \LG{} is not the work of a single one. The program is based on
% \textsf{vgrind} by Dave Presotto \& William Joy of UC Berkeley.
% 
% Van Jacobson wrote \textsf{tgrind} for \TeX. Jerry Leichter
% of Yale University modified it for \LaTeX. George V. Reilly of 
% Brown University changed the name to lgrind and added the
% program-text-within-comments and @-within-\LaTeX{} features,
% and finally
% Michael Piefel of the Humboldt-University Berlin converted it to
% work under \LaTeXe, i.\,e. with \NFSS, and improved the documentation.
%
% However, there have been many contributors who supported the development; in
% particular the range of supported languages is mainly due to them.
% Unfortunately I do not know all of them, but my thanks go to everybody.
% A special Thank You to
% Torsten Sch\"utze for his OS/2 support and many and various hints.
% 
% \section{\LG{} -- grind nice program listings}
% 
% \begin{tabbing}
% \texttt{lgrind} \= \texttt{[-s] [-e] [-i] [-o \meta{file}] [-n] [-c] [-t }\meta{width}
% \texttt{] [-h }\meta{header}\texttt{]} \\
% \>\texttt{[-v }\meta{varfile}\texttt{] [-d[!] }\meta{description file}\texttt{]}
% \texttt{[-l}\meta{language}\texttt{] [}\meta{name}\texttt{\textbar-]}
% \end{tabbing}
%
% \LG{} processes its input file(s) and writes the result to standard
% output. This output can be saved for later editing, inclusion in a
% larger document, etc.
% 
% The options are:
%
% \makebox[2em][l]{-e} process a \LaTeX-file for embedded text.
% 
% \makebox[2em][l]{-i} process for inclusion in a \LaTeX-document.
% 
% \makebox[2em][l]{-}  take input from standard input.
% 
% \changes{v3.5}{1998/05/23}{Output redirection (-o) implemented.}
% \makebox[2em][l]{-o} redirect output.
%
% \makebox[2em][l]{-n} don't boldface keywords.
%
% \makebox[2em][l]{-a} don't treat @, etc. specially in \LaTeX.
%
% \makebox[2em][l]{-c} don't treat @, etc. specially in comments.
%
% \makebox[2em][l]{-t} change tab width (default 8).
% 
% \makebox[2em][l]{-h} specifies text to go on the left side of every output 
% page (default is none).
% 
% \makebox[2em][l]{-v} take variable substitution strings from file.
%
% \makebox[2em][l]{-d} specifies the language definitions file.
% 
% \changes{v3.3}{1996/08/23}{"lgrindef" position can be changed permanently}
% \makebox[2em][l]{-d!} same as -d, except the change is permanent (modifies
% executable)
%
% \makebox[2em][l]{-l} specifies the language to use.
% 
% \makebox[2em][l]{-s} shows a list of currently known languages.
%
% The standard for \LG{} is to take its input from the file given on the
% command line and write on standard output. You can change this behaviour with
% the options - and -o, respectively. Please note that as soon as a file is
% detected on the command line (either its name or a -) it is processed with the
% options then in effect, thus
% allowing to give multiple files on one line with possibly multiple targets.
%
% If neither -e nor -i are specified, a complete \LaTeX-file is produced.  When
% no language is given on the command line, \LG{} tries to figure out the
% language via the extension of the file. A table of extensions and their
% languages is in the definition file. If the extension is unknown, C is chosen
% as a default.
%
% When \LG{} is started without any parameters, it will show a short help screen.
% The same happens when the appropriate option is given, but this is
% implementation dependent (usually what is common for the operation system, the
% default for DOS is |-?| and for Unix |--help|).
% 
% The position of the \texttt{lgrindef}-file is determined by giving it on the
% command line (highest priority), by defining an environment variable
% \texttt{LGRINDEF}, and by the position fixed in \LG{}s executable. The latter
% can be changed by using -d! and then using the newly created file as the new
% \LG{}.
% \changes{v3.5}{1998/05/30}{Now testing for \texttt{LGRINDEF} environment variable.}
%
% The languages which are currently known are stored in the language definition
% file; their number increases more or less rapidly. At the time of writing the
% languages in the table below are part of the distribution.
%
% \begin{table}\begin{minipage}{0.8\linewidth}
% \let\thefootnote\thempfootnote
% \newcommand{\fnm}[1]{\textsuperscript{\itshape#1}}
% \begin{tabbing}
% \hspace*{2em} \= \hspace{9em} \= \hspace{9em} \= \\
% \> Ada             \> \LaTeX\footnote{John Leis, University of Southern Queensland, leis at usq.edu.au.}
%                                       \> RATFOR          \\
% \> Asm             \> LDL             \> RLaB\footnote{Jim Green, National Physical Laboratory, jjg1 at cise.npl.co.uk} \\
% \> Asm68           \> Lex             \> Russell         \\
% \> BASIC\fnm{a}    \> Linda           \> SAS\footnote{Michael Friendly, friendly at hotspur.psych.yorku.ca} \\
% \> Batch\fnm{b}    \> Lisp (Emacs)    \> Scheme\footnote{Neale Pickett, npickett at watchguard.com} \\
% \> C               \> MASM\fnm{a}     \> sh              \\
% \> C++             \> MATLAB\fnm{a}   \> SICStus\fnm{b}  \\
% \> csh             \> ML\fnm{d}       \> src             \\
% \> FORTRAN         \> Mercury         \> SQL             \\
% \> Gnuplot\footnote{Denis Petrovic, Denis.Petrovic at public.srce.hr} 
%                    \> model           \> Tcl/Tk\footnote{Alexander Bednarz, Forsch.-zentrum J\"ulich, A.Bednarz at kfa-juelich.de} \\
% \> Icon            \> Modula2         \> VisualBasic\fnm{a} \\
% \> IDL\footnote{Diego Berrueta, diego at berrueta.net} 
%                    \> Pascal          \> VMSasm          \\
% \> ISP             \> PERL            \> yacc            \\
% \> Java            \> PostScript      \>                 \\
% \> Kimwitu++       \> PROLOG          \>
% \end{tabbing}\par
% \let\footnoterule\relax
% \end{minipage}\end{table}
% \changes{v3.67}{2002/01/28}{Added Scheme and ML language definitions}
% \subsection{Operation modes}
% There are three modes of operation: stand-alone, include and embedded.
%
% Use |lgrind -ly bary.y > bary.tex| (or |lgrind -o bary.tex bary.y|) to
% produce a stand-alone \LaTeX-file from, say, a Yacc file. This results in a
% document which is formatted using Piet van Oostrum's \textsf{fancyhdr.sty} to
% make the headers and footers. BTW: You really should have this package. It's
% marvellous. But of course you can change the layout to your likings by
% editing the \texttt{lgrindef}-file.
% 
% To include a C-file named \texttt{foo.c} into your \LaTeX-document, first
% give the command: |lgrind -i -lc foo.c > foo.tex| This will generate
% \texttt{foo.tex}, which will have the pretty-printed version of
% \texttt{foo.c}.  Then include \texttt{lgrind.sty} as you include any other
% package, namely with |\usepackage{lgrind}| at the beginning of your
% \LaTeX-document. Having done this, within the document you can include
% \texttt{foo.tex} using |\lagrind| and |\lgrindfile| described in the next section.
% 
% Finally, for the embedded (and probably most powerful) mode, when you have a
% \LaTeX-file with embedded program listings, you can preprocess it with a command like:
% |lgrind -e pretty-sources.lg > even-prettier-sources.tex|
% and get a new \LaTeX-file which you then feed into \LaTeX. Commands you can
% use within embedded texts are described below.
% 
% \section{Preparing documents}
%
% \subsection{Using the \LG.sty-file}
% The \LG{} package is included via the |\usepackage| command. You have to include it
% in your document preamble when you want to include listings and when using embedded
% mode. It is done automatically for stand-alone listings.
% Currently the following options are supported:
% \begin{description}
% \changes{v3.5}{1998/05/23}{Procedure names added to index in addition to
% printing them in the margin.}
% \item[procnames] prints the names of starting and, if nested
% procedures are allowed, continued procedures in the margin. Don't make the
% margin too small, or don't make the names too long \dots
% \item[noprocindex] do not put found procedure beginnings in the index
% \item[noindent] cancels the indentation. Useful for long listings or listings
% within their own sections.
% \item[fussy] lets \LaTeX\ print all overfull hboxes. The default is to suppress
% this for about a tenth of an inch.
% \item[norules] lets \LG{} suppress the surrounding rules for included material
% (using |\lagrind| and |\lgrindfile|).
% \item[nolineno] doesn't print line numbers.\footnote{To be exact, prints line
% numbers every 50,000 lines. But source code should never get so long in a
% single file~-- that's over 3 MByte! If you really want no numbers,
% set $\backslash$\texttt{LGnuminterval} to zero; then you won't get procedure
% names, either.}
% \item[lineno5] prints line numbers every 5 lines. The default is 10.
% \item[leftno] print line numbers in the left margin. Default is the right.
% \end{description}
% 
% \subsection{Stand-alone and included listings}
% After processing a source code file with \LG{} without the -e or -i
% options you get a \LaTeX-file which can be directly compiled.
% 
% When using -i \LG{} will produce a file which can be included with the
% following macros:
% 
% \DescribeMacro{\lgrindfile}
% The first is |\lgrindfile{|\meta{file}|}|, which will simply include 
% the file \meta{file} at that point of text, and will draw horizontal
% lines before and after the listing.
% 
% \DescribeMacro{\lagrind}
% The macro
% |\lagrind[|\meta{float}|]{|\meta{file}|}{|\meta{caption}|}{|\meta{label}|}|
% will put the listing also within a figure environment, using the \meta{float}
% options (h, t, b or p), \meta{caption} and \meta{label} you gave. The starred
% form of |\lagrind| will also use the starred |figure*|.
% 
% Note that floats cannot be longer than one page, so you should only use
% |\lagrind| for short fragments, longer pieces should use |\lgrindfile| (which
% is non-floating).
%
% \DeleteShortVerb{\|}\MakeShortVerb{\"}\MakePercentIgnore
% \subsection{Embedded programs within a \LaTeX-file}
% You don't have to process every single source file with \LG{}, only to
% include it in your document. Within the text of your \LaTeX-file, you can
% mark groups of lines as program code, either text- or display-style to
% be specific. You can use several commands for controlling the inclusion
% of source code into your \LaTeX-file.
% 
% Write your text, don't forget to include \LG.sty. Use the following
% commands. You can `debug' your text without including the lengthy
% listings. As a last step (but one), you process your file with \LG{}
% and its option -e, which will provide you with your final \LaTeX{}
% source file.
% 
% The commands are similar to the math environments. \DescribeEnv{\%( \%)}
% With "%(" and "%)" you obtain code in text style, i.\,e. in the same line.
% \DescribeEnv{@ @}Surrounding the text with "@" is a shorthand.
% \begin{verbatim}
% The expression
% %(
% a + 3
% %)
% produces 10.\end{verbatim}
% produces the same as "The expression @a + 3@ produces 10." The output
% will have `a + 3' set as a program.
% 
% \DescribeEnv{\%[ \%]}As with math, the square bracket equivalent produces
% display style listings, i.\,e. indented text on an own line.
% 
% \DescribeEnv{\%*} As long listings tend not to fit on one page, there will
% be page breaks inserted. Since page breaks can considerably affect readability
% there will be none at all unless you insert lines consisting of just "%*".
% Pages will end here and only here, but not necessarily here. (That is, you
% allow (or recommend) a page break. It will be taken if needed.)
% \changes{v3.3}{1996/09/02}{Allow page breaks in embedded listings}
% 
% \DescribeEnv{\%=} You can insert your own code by using a line starting with
% "%=" in the program text. Whatever you enter after that is left in the output,
% exactly as you typed it. It will be executed in a strange environment, so
% doing anything fancy is very tricky. \DescribeMacro{\Line} A macro, "\Line",
% is provided to help you do simple things. For example,
% \begin{verbatim}
% %[
% %=\Line{________\vdots}
%         a = 1;
% %]\end{verbatim}
% produces:
% 
% \hspace*{4em}\vdots
% 
% \hspace*{4em}\textit{a}\textsf{ = 1;}
% 
% (Within the program text, \_ is active and expands to a
% fixed-width space.  A whole bunch of macros are also defined. If you
% understand how \LG{} sets lines up, you can replace the 8 \_'s
% with a call to "\Tab"---but I'll let you hang yourself on that one.)
% 
% \DescribeEnv{\%<}The "%<"\meta{file} command includes \meta{file} as a
% program listing in your document. Before inclusion it will be pretty
% printed. This is the almost the same as \LG ing the \meta{file}
% separately and with -i and including it via "\lgrindfile", only that
% it's simpler for you. \DescribeEnv{\%!} With "%!"\meta{command} the
% input is taken from a shell command.
% 
% While you can specify the language used on the command line, this does
% not suffice for mixed-language programs (or projects). The command
% \DescribeEnv{\%\#}"%#"\meta{language} provides you a means to change
% the language on the fly wherever you want.
% 
% \DescribeEnv{\%@}The shorthand "@" is very useful, and since "@" is not usable
% in normal \LaTeX{} text there is no conflict. If, however, you use "@" in your
% text (after "\makeatletter") the result produced by \LG{} is not satisfactory.
% To disable the shorthand you can use a command line option, or locally "%@-".
% Using "%@+" will switch it on again.
%
% Important rules:
% \begin{itemize}
% \item "%" and the following character must be the first two characters on
% the line to be recognized.
% \item
% Put \emph{nothing} on the line after the "%" and the key character.
% If you do that, \LG{} will provide a default environment that will
% produce an "\hbox" for "%( )%", and a "\vbox" for "%[ %]".
% If you put stuff on the line, \LG{} assumes you want to control
% the format completely. Doing this requires understanding \emph{exactly}
% what the code \LG{} produces is doing. (Sometimes I'm not sure I do!)
% \item
% "%)" and "%]" are simply ignored outside
% of a code group, but any extra "%(" or "%[" produces a
% warning, so a missing "%)" or "%]" is usually caught.
% \item
% Remember that the code between "%("/"%[" and "%)"/"%]" is put into a
% single box. Expect the usual problems with long boxes! Use "%*" if needed.
% \end{itemize}
% 
% \subsection{Formatting your source code}
% Well, \LG{} uses a different font for comments. This has as a consequence
% that functions you refer to are typeset differently in the program and
% in the comments, which is unsatisfactory. And, wouldn't it be great to
% use \LaTeX{} commands to produce e.\,g. `\copyright'?
% 
% The \texttt{lgrindef}-file defines environments for exactly these
% purposes. They are usually defined as follows, but of course it is possible
% to use other strings if the standard collides with the syntax of the
% language in question.
% 
% \DescribeEnv{\%\% \%\%}Text which is surrounded by "%%" is directly
% passed to \LaTeX, a pair of curled braces around it. So the copyright
% symbol would be produced with "%%\copyright%%".
% \DescribeEnv{\%\$ \$\%}The "%$"\meta{text}"$%" works much the same,
% except that \meta{text} is set in math mode.
%
% When \LG{} discovers a line that contains \emph{only} a comment beginning
% right at the start of the line and ending at the very end (no spaces), containing 
% \emph{only} \LaTeX{} text as in the environment described above, the line
% will be copied verbatim into the resulting \LaTeX{} document, with a newline
% appended. This allows (e.\,g., in C):
% \begin{verbatim}
% /*%%\section{Main program}%%*/
% int main()
% {
%     //%%\subsection{Variables}%%
%     int a;\end{verbatim}
% \changes{v3.6}{1999/05/28}{Complete \LaTeX{} lines allowed}
%
% The underscore which is normally the subscripting operator in math mode is
% used internally in \LG{}. You can still use the command "\sb" instead (and
% "\sp" for superscripts).\label{underscore}
%
% \DescribeEnv{\%| |\%}In "%|"\meta{text}"|%" a kind of verbatim
% environment is provided. \meta{Text} is typeset in typewriter.
% 
% \DescribeEnv{@ @}Program text within a comment is surrounded by "@". The text
% is processed exactly as if it wasn't a comment. To produce an at-sign
% you have to use "@@".
% 
% \subsection{Greater control\dots}
% Many things are controllable by re-defining various macros.  You can
% change what fonts \LG{} will use for various kinds of things, how
% much it indents the output, whether it adds line numbers, and if so at
% what interval it prints them and whether it sticks them on the left or
% right, and so on. This stuff is all described below in the code section,
% though probably not very well. The default settings produce output
% that looks reasonable to me, though I can't say I'm ecstatic about it.
% Doing a \emph{really} good job would require defining some special fonts.
%
% Nonetheless as an example my own private font setup. After having defined a
% font family called ttp (for typewriter proportional), using Boton (a
% commercial font which has a nice `code look' to it), I define:
% 
% \begin{verbatim}
% \def\CMfont{\ttpfamily\itshape}
% \def\KWfont{\ttpfamily\bfseries}
% \def\VRfont{\ttpfamily}
% \def\BGfont{\ttpfamily}
% \end{verbatim}
%
% You can put these redefinitions in the preamble of your \LaTeX-file when
% using embedded and included mode; for stand-alone listings you have to put
% them into the \texttt{lgrindef}-file. This will change fonts for all modes.
% 
% \subsection{Error messages}
% The output of \LG{} always contains exactly one output line for each input
% line.  Hence, you can look up line numbers in \TeX{} error messages in your
% original file, rather than in the \LG ed (LGround?) file.  (Of course, if
% the problem is in the \LG{} output\dots)
% 
% \subsection{Variable substitution}
% \LG{} usually prints variables exactly the way they appear in the source
% code. However, very often one uses names for variables which really denote
% symbols and have special formatting, only that the input alphabet of the
% target language does of course not allow anything fancier than plain ASCII.
%
% I find myself using greek variables very often, because they are used in the
% problem domain. So there is a `delta' which really should be `$\delta$',
% there is a `gamma\_1' for `$\gamma\sb1$' and so forth. LG{} allows you to
% change those names back to what you desire by use of a variable substution
% file (using option -v).
%
% This file is very simple, and so is its parser. There is one substitution per
% line, giving the original name, an equality sign, and the text replacing the
% original:
% \begin{verbatim}
% delta=$\delta$
% gamma_1=$\gamma\sb1$
% \end{verbatim}
% You can do everything you want to here. Remember that \emph{usually} variable
% names are set upright and not in math mode. Therefore don't forget the
% dollar-sign, and use "\sb" instead of "_" (see section \ref{underscore}).
%
% \section{The \texttt{lgrindef}-file}
% The \texttt{lgrindef}-file is \LG's language definition data base.
% It is here where \LG{} learns what are keywords, what comments, where
% are functions, how to distinguish plain comments from \LaTeX-commands etc.
% 
% The first field is just the language name (and any variants
% of it). Thus the C language could be specified to \LG{} as `c' or `C'.
% 
% \subsection{Capabilities}
% Capabilities are of two types: Boolean capabilities which indicate that
% the language has some particular feature and string capabilities which
% give a regular expression or keyword list.
% 
% Entries may continue onto multiple lines by giving a "\" as the last
% character of a line. Lines starting with "#" are comments.
% 
% The following table names and describes each capability.
% \bgroup\renewcommand{\descriptionlabel}[1]{\hspace{\labelsep}\makebox[1.5em][l]{\textsf{#1}}}
% \begin{description}
% \item[ab] Regular expression for the start of an alternate form comment
% \item[ae] Regular expression for the end of an alternate form comment
% \item[bb] Regular expression for the start of a block
% \item[be] Regular expression for the end of a lexical block
% \item[cb] Regular expression for the start of a comment
% \item[ce] Regular expression for the end of a comment
% \item[cf] (Boolean) Use specialized routine for detecting C functions
% \changes{v3.1}{1995/11/12}{C functions are now detected much more reliably}
% \item[id] String giving characters other than letters and digits
% that may legally occur in identifiers (default `\_')
% \item[kw] A list of keywords separated by spaces
% \item[lb] Regular expression for the start of a character constant
% \item[le] Regular expression for the end of a character constant
% \item[mb] Regular expression for the start of \TeX{} math within a comment
% \item[me] Regular expression for the end of \TeX{} math within a comment
% \item[np] Regular expression for a line that does \emph{not} contain
% the start of a procedure (e.\,g. prototypes)
% \item[oc] (Boolean) Present means upper and lower case are equivalent
% \item[pb] Regular expression for start of a procedure
% \item[pl] (Boolean) Procedure definitions are constrained to the lexical
% level matched by the `px' capability
% \item[px] A match for this regular expression indicates that procedure
% definitions may occur at the next lexical level. Useful for lisp-like
% languages in which procedure definitions occur as subexpressions of defuns.
% \item[rb] Regular expression for the start of block outside the actual
% code.\footnote{I included this especially for the \texttt{objects} and
% \texttt{records} in Pascal and Modula-2. They \emph{end} (with the "<"be">"
% expression), but shouldn't have any influence on the surrounding procedure.
% When defining \texttt{record} as normal block start, its \texttt{end} ends
% the procedure. Workaround: Make \texttt{record} itself a procedure start.
% But that prints a continuation mark when \textsf{procnames} is on.}
% \changes{v3.1}{1995/11/12}{Pascal objects now treated properly}
% \item[sb] Regular expression for the start of a string
% \item[se] Regular expression for the end of a string
% \item[tb] Regular expression for the start of \TeX{} text within a comment
% \item[tc] (String) Use the named language entry as a continuation of the
% current one
% \item[te] Regular expression for the end of \TeX{} text within a comment
% \item[tl] (Boolean) Present means procedures are only defined at the top
% lexical level
% \item[vb] Regular expression for the start of typewriter text within a
% comment
% \item[ve] Regular expression for the end of typewriter text within a comment
% \item[zb] Regular expression for the start of program text within a comment
% \item[ze] Regular expression for the end of program text within a comment
% \end{description}
% \egroup
% 
% \subsection{Regular Expressions}
% \texttt{lgrindef} uses regular expressions similar to those of
% \textsf{ex} and \textsf{lex}. The characters `"^"', `"$"', `"|"', `:',
%%stopzone   % VIM syncing
% and `"\"' are reserved characters and must be `quoted' with a preceding
% "\" if they are to be included as normal characters.
% 
% The meta-symbols and their meanings are:
% \begin{description}
% \item[\$] The end of a line
% \item[\^] The beginning of a line
% \item[$\backslash$d] A delimiter (space, tab, newline, start of line)
% \item[$\backslash$a] Matches any string of symbols (like `.*' in lex)
% \item[$\backslash$p] Matches any identifier. In a procedure definition
% (the `pb' capability) the string that matches this symbol is used
% as the procedure name.
% \item[( )] Grouping
% \item[$|$] Alternation
% \item[?] Last item is optional
% \item[$\backslash$e] Preceding any string means that the string will not
% match an input string if the input string is preceded by an escape character
% ("\"). This is typically used for languages (like C) that can include the
% string delimiter in a string by escaping it.
% \end{description}
% 
% Unlike other regular expressions in the system, these match words and
% not characters. Hence something like `(tramp"|"steamer)flies?'
% would match `tramp', `steamer', `trampflies', or `steamerflies'.
% Contrary to some forms of regular expressions, \texttt{lgrindef}
% alternation binds very tightly. Grouping parentheses are likely to
% be necessary in expressions involving alternation.
% 
% \subsection{Keyword List}
% The keyword list is just a list of keywords in the language separated
% by spaces. If the `oc' boolean is specified, indicating that upper
% and lower case are equivalent, then all the keywords should be specified
% in lower case.
% 
% \subsection{Configuration options}
% \changes{v3.1}{1995/11/07}{The \LaTeX-text put into the files
% can be configured}
% In addition to the language definitions the \texttt{lgrindef}-file
% contains various configuration data. When the entries do not exist,
% default values are used:
% \begin{description}
% \item[firstpreamble] is the (\LaTeX-)text that comes at the beginning of
% an stand-alone file created by \LG{} from source code (it must contain
% "\begin{document}" somewhere).
% \item[postamble] is the (\LaTeX-)text that comes at the end of
% an stand-alone file (and must contain "\end{document}"). This is the place to
% put a "\printindex" if you wish so (don't forget "\usepackage{makeidx}" and
% "\makeindex" in the preamble).
% \item[filepreamble] is inserted before every processed source file in a
% stand-alone \LaTeX-file. In these two preambles you can use "\f", which
% will be substituted by the current input file (e.\,g. to put it into the
% header).
% \item[configuration] follows the opening of the \texttt{lgrind}-environment.
% This is used for redefining the macros used within it, e.\,g. the fonts
% or the width of a space (the "\@ts" unit).
% \item[chartab] is a list of characters that will be substituted by a
% \LaTeX-string. This is useful when you do (or can) not use any of the fancy
% methods to persuade \LaTeX{} into using your extended ASCII-characters.
% The format is a two digit hex number (the ASCII- (or whatever) value of the
% character), an equal sign, and the according \LaTeX{}-string, ended with a
% colon. You have to escape certain characters (like the backslash). So if
% you, e.\,g., have IBM ASCII code page 437 input and use the
% \textsf{german}-package, you can have your \"a using \verb+84="a+. Note
% that the substituting string must contain more than one character;
% otherwise it will be ignored. To print a `b' instead of an `a' you can
% use \verb+61={b}+.
% \end{description}
%
% \StopEventually{\PrintChanges\PrintIndex}
%
% \section{The Implementation of \LG.sty}
%    \begin{macrocode}
%<*package>
%    \end{macrocode}
% \setlength{\parindent}{0pt}
%
% \begin{macro}{\LGnuminterval}\begin{macro}{\lc at unt}\begin{macro}{\ln at xt}
% The counter "\LGnuminterval" represents the line numbering interval.
% Its default is 10, it is set by two options and can be changed everywhere
% you want to. "\lc at unt" counts the current line, "\ln at xt" contains the next
% line to get numbered.
%    \begin{macrocode}
\newcount\lc at unt
\newcount\ln at xt
\newcount\LGnuminterval
\LGnuminterval=10
\DeclareOption{nolineno}{\LGnuminterval=50000}
\DeclareOption{lineno5}{\LGnuminterval=5}
%    \end{macrocode}
% \end{macro}\end{macro}\end{macro}
%
% \begin{macro}{\LGleftnum}
% Line numbers are usually on the right. By setting "LGleftnum" to true
% or false this behaviour can be altered.
%    \begin{macrocode}
\newif\ifLGleftnum
\DeclareOption{leftno}{\LGleftnumtrue}
%    \end{macrocode}
% \end{macro}
%
% \begin{macro}{\LGindent}
% "\LGindent" is the indentation for all display style listing lines.
%    \begin{macrocode}
\newskip\LGindent
\LGindent=1.6667\parindent
\DeclareOption{noindent}{\LGindent=0pt}
%    \end{macrocode}
% \end{macro}
%
% \changes{v3.4}{1997/02/05}{Rules around included material can be suppressed.
%                            New option norules.}
% \begin{macro}{\LGnorules}
% Normally \LG{} puts rules around everything that is included (via "\lagrind"
% and "\lgrindfile"), this can be changed with an option.
%    \begin{macrocode}
\newif\ifLGnorules
\DeclareOption{norules}{\LGnorulestrue}
%    \end{macrocode}
% \end{macro}
% 
% \changes{v3.4}{1997/01/30}{Prevent slightly overfull hboxes. New option fussy.}
% \begin{macro}{\LGsloppy}
% "\LGsloppy" is the amount that a horizontal box may be overfull without getting
% a warning from \LaTeX. This is useful since there are often many boxes which are
% overfull by only a few points, and this does not really show since listings are
% very ragged.
%    \begin{macrocode}
\newlength{\LGsloppy}
\setlength{\LGsloppy}{7.2pt}
\DeclareOption{fussy}{\LGsloppy=0pt}
%    \end{macrocode}
% \end{macro}
%
% \begin{macro}{\Proc}\begin{macro}{\ProcCont}
% There's a "\Proc{"\meta{ProcName}"}" at the start of each procedure.  If
% the language allows nested procedures (e.\,g. Pascal), there
% will be a "\ProcCont{"\meta{ProcName}"}" at the end of each inner procedure.
% (In this case, \meta{ProcName} is the name of the outer procedure. I.\,e.,
% "\ProcCont" marks the continuation of \meta{ProcName}).
%
% \begin{macro}{\DefaultProc}
% \changes{v3.0}{1995/09/24}{Reintroduced procedure names in the margins}
% \begin{macro}{\DefaultProcCont}
% Default is not to do anything with the name. Optionally the names are
% printed in the same margin as the line numbers. The name is put into a
% box which will be output whenever it is not empty.
%
%    \begin{macrocode}
\newcommand{\DefaultProc}{\@gobble}
\newcommand{\DefaultProcCont}{\@gobble}
\DeclareOption{procnames}{
\renewcommand{\DefaultProc}[1]{\renewcommand{\Procname}{#1}%
\global\setbox\procbox=\hbox{\PNsize #1}}
\renewcommand{\DefaultProcCont}[1]{\renewcommand\Procname{#1}
\global\setbox\procbox=\hbox{\PNsize\dots #1}}}
\newbox\procbox
\newcommand{\Procname}{}
%    \end{macrocode}
% \end{macro}\end{macro}\end{macro}\end{macro}
%
% \begin{macro}{\ifLGnoprocindex}
% \changes{v3.6}{1999/05/27}{Added option to suppress indexing of functions}
%    \begin{macrocode}
\newif\ifLGnoprocindex
\DeclareOption{noprocindex}{\LGnoprocindextrue}
%    \end{macrocode}
% \end{macro}
%
% End of initialization, execute any options.
%    \begin{macrocode}
\ProcessOptions
%    \end{macrocode}
% \changes{v3.0}{1995/09/28}{Added package options}
%
% \begin{macro}{\BGfont}\begin{macro}{\CMfont}\begin{macro}{\NOfont}
% \changes{v3.1}{1995/11/12}{Numbers can now have an own style (i.\,e. font)}
% \begin{macro}{\KWfont}\begin{macro}{\STfont}\begin{macro}{\TTfont}
% \begin{macro}{\VRfont}\begin{macro}{\PNsize}\begin{macro}{\LGsize}
% \begin{macro}{\LGfsize}
% These are the fonts and sizes for background (everything that doesn't fit
% elsewhere), comments, numbers, keywords, strings, verbatim text, variables,
% the procedure names
% in the margins, displayed code ("%[ ]%"), and included code ("\lgrindfile"
% and "\lagrind"), respectively. Note that the suffixes `font' and `size'
% have been chosen solely for the author's intention; you can do anything
% you want, e.\,g. "\tiny" comments. You have to use, however, font changes
% which don't require an argument.
%    \begin{macrocode}
\def\BGfont{\sffamily}
\def\CMfont{\rmfamily\itshape}
\def\NOfont{\sffamily}
\def\KWfont{\rmfamily\bfseries}
\def\STfont{\ttfamily}
\def\TTfont{\ttfamily\upshape}
\def\VRfont{\rmfamily}
\def\PNsize{\BGfont\small}
\def\LGsize{\small}
\def\LGfsize{\footnotesize}
%    \end{macrocode}
% \end{macro}\end{macro}\end{macro}
% \end{macro}\end{macro}\end{macro}
% \end{macro}\end{macro}\end{macro}
% \end{macro}
%
% \begin{macro}{\ifLGinline}\begin{macro}{\ifLGd at fault}
% \begin{macro}{\LGbegin}\begin{macro}{\LGend}
% The flag "LGinline" is true for in-line code. "\LGbegin" and "\LGend" are
% default commands to open and close a code example and use it to perform
% certain ops depending whether we're in-line or display style."\LGend" is
% a no-op unless "\LGbegin" (where "LGd at fault" is set true) was executed,
% so you can provide explicit open
% code on the "%[" or "%(" line without providing any special code on the
% matching "%]" or "%)" line.
%    \begin{macrocode}
\newif\ifLGinline
\newif\ifLGd at fault
\def\LGbegin{\ifLGinline$\hbox\else$$\vbox\fi\bgroup\LGd at faulttrue}
\def\LGend{\ifLGd at fault\egroup\ifLGinline$\else$$\fi\LGd at faultfalse\fi}
%    \end{macrocode}
% \end{macro}\end{macro}\end{macro}\end{macro}
%%stopzone   % VIM syncing
%
% \begin{macro}{\ifc at omment}\begin{macro}{\ifstr at ng}
% These two conditions indicate if we are setting a comment or maybe
% a string constant, respectively.
%    \begin{macrocode}
\newif\ifc at mment
\newif\ifstr at ng
%    \end{macrocode}
% \end{macro}\end{macro}
%
% \begin{macro}{\ifright@}
% To get decent quotes (opening and closing) within comments, we remember
% whether the next one is going to be `{}``'{} or, if true, `{}'''{}.
%    \begin{macrocode}
\newif\ifright@
%    \end{macrocode}
% \end{macro}
%
% \begin{macro}{\ls at far}\begin{macro}{\tb at x}\begin{macro}{\TBw at d}
% These three are all for the sake of tabbing. "\ls at far" stores the
% ``line so far''. The tabwidth goes in "\TBw at d", whilst "\tb at x" is 
% merely a temporary variable for "\Tab" and setting "\@ts".
%    \begin{macrocode}
\newbox\ls at far
\newbox\tb at x
\newdimen\TBw at d
%    \end{macrocode}
% \end{macro}\end{macro}\end{macro}
%
% The underscore marks a point where the pre-processor wants a fixed-width
% space (of width "\@ts").
%    \begin{macrocode}
\newdimen\@ts
{\catcode`\_=\active \gdef\@setunder{\let_=\sp at ce}}
%    \end{macrocode}
%
% \begin{macro}{\lgrindhead}
% \begin{macro}{\lgrindfilename}\begin{macro}{\lgrindfilesize}
% \begin{macro}{\lgrindmodyear}\begin{macro}{\lgrindmodmonth}
% \begin{macro}{\lgrindmodday}\begin{macro}{\lgrindmodtime}
% We pollute the global namspace once more with these macros, for when they
% are used in the headers or footers, their values must still be known.
% Therefore they cannot be local to the "lgrind" environment.
%    \begin{macrocode}
\newcommand{\lgrindhead}{}
\newcommand{\lgrindfilename}{}\newcommand{\lgrindfilesize}{}
\newcommand{\lgrindmodyear}{}\newcommand{\lgrindmodmonth}{}
\newcommand{\lgrindmodday}{}\newcommand{\lgrindmodtime}{}
%    \end{macrocode}
% \end{macro}\end{macro}\end{macro}\end{macro}
% \end{macro}\end{macro}\end{macro}
%
% \begin{environment}{lgrind}
% This is the environment that eventually defines all necessary macros for
% formatting. All \LG ed text goes into such an environment, no matter if
% directly so or from within another one. It takes one optional argument,
% the line number.
%    \begin{macrocode}
\newenvironment{lgrind}[1][1]{%
%    \end{macrocode}
%
% \begin{macro}{\Line}
% The "\Line" macro is provided for use with "%=" in embedded listings.
% It's just there to hide the actual structure of this, for nobody 
% \emph{really} wants to know anyway.
%    \begin{macrocode}
\def\Line##1{\L{\LB{##1}}}%
%    \end{macrocode}
% \end{macro}
%
% \begin{macro}{\Head}\begin{macro}{\File}
% \changes{v3.3}{1996/09/11}{given a meaningful definition}
% The next are primarily meant for stand-alone listings. "\Head" and
% "\File" are inserted by \LG, they define macros that contain
% a user-specified string (the header option -h), the name, size
% and modification time of the processed file. These can then be
% used e.\,g. in the headers and footers.
%    \begin{macrocode}
\newcommand{\Head}[1]{\gdef\lgrindhead{##1}}%
\newcommand{\File}[6]{\gdef\lgrindfilename{##1}\message{(LGround: ##1)}%
    \gdef\lgrindmodyear{##2}\gdef\lgrindmodmonth{##3}%
    \gdef\lgrindmodday{##4}\gdef\lgrindmodtime{##5}%
    \gdef\lgrindfilesize{##6}}%
%    \end{macrocode}
% \end{macro}\end{macro}
% The "\Proc"s now get what
% was specified for them in the options section.
%    \begin{macrocode}
\let\Proc=\DefaultProc%
\let\ProcCont=\DefaultProcCont%
\ifLGnoprocindex%
  \let\index\@gobble%
\fi%
%    \end{macrocode}
%
% We set a "\hfuzz" to prevent some of the lesser overfull hbox warnings.
%    \begin{macrocode}
\hfuzz=\LGsloppy%
%    \end{macrocode}
%
% \begin{macro}{\NewPage}
% Each formfeed in the input is replaced by a "\NewPage" macro.  If
% you really want a page break here, define this as "\vfill\eject".
%    \begin{macrocode}
\def\NewPage{\filbreak\bigskip}%
%    \end{macrocode}
% \end{macro}
%
% \begin{macro}{\L}
% Each line of displayed program text is enclosed by a "\L{"\dots"}". We 
% turn each line into an hbox. Firstly we look whether we are in-line.
% Every "\LGnuminterval" lines we output a 
% small line number in past the margin.
%    \begin{macrocode}
\ifLGinline%
 \def\L##1{\setbox\ls at far\null{\CF\strut##1}\ignorespaces}%
%    \end{macrocode}
% \begin{macro}{\r at ghtlno}\begin{macro}{\l at ftlno}
% Things get more difficult for display style listings. Here we set
% "\r at ghtlno" and "\l at ftlno" to no-ops, only to redefine them shortly
% after.
%    \begin{macrocode}
\else%
 \let\r at ghtlno\relax\let\l at ftlno\relax%
 \ifnum\LGnuminterval>\z@%
  \ifLGleftnum%
%    \end{macrocode}
% If there was a procedure name somewhere, "\procbox" is not empty and
% thus ready to be printed. Otherwise we test "\lc at unt" against "\ln at ext"
% to determine whether or not to print a line number.
%    \begin{macrocode}
   \def\l at ftlno{\ifnum\lc at unt>\ln at xt%
     \global\advance\ln at xt by\LGnuminterval%
     \llap{{\normalfont\scriptsize\the\lc at unt\quad}}\fi}%
   \def\r at ghtlno{\rlap{\enspace\box\procbox}}%
%    \end{macrocode}
% And once again when the line number is meant to be on the right.
%    \begin{macrocode}
  \else%
   \def\r at ghtlno{\ifnum\lc at unt>\ln at xt%
     \global\advance\ln at xt by\LGnuminterval%
     \rlap{{\normalfont\scriptsize\enspace\the\lc at unt%
                \enspace\box\procbox}}%
     \else\rlap{\enspace\box\procbox}\fi}%
  \fi%
 \fi%
%    \end{macrocode}
% \end{macro}\end{macro}
% "\lc at unt" is incremented and everything is squeezed into a "\hbox".
%    \begin{macrocode}
 \def\L##1{\@@par\setbox\ls at far=\null\strut%
  \global\advance\lc at unt by1%
  \hbox to \linewidth{\hskip\LGindent\l at ftlno ##1\egroup%
  \hfil\r at ghtlno}%
  \ignorespaces}%
\fi%
%    \end{macrocode}
% \end{macro}
%
% The initialization of "\lc at unt" and "\ln at xt". Every "lgrind"-environment
% starts over unless given a line number as argument.
%    \begin{macrocode}
\lc at unt=#1\advance\lc at unt by-1%
\ln at xt=\LGnuminterval\advance\ln at xt by-1%
\loop\ifnum\lc at unt>\ln at xt\advance\ln at xt by\LGnuminterval\repeat%
%    \end{macrocode}
%
% \begin{macro}{\LB}\begin{macro}{\Tab}
% The following weirdness is to deal with tabs. ``Pieces'' of a line
% between tabs are output as "\LB{"\dots"}". E.\,g., a line with a tab at
% column 16 would be output as "\LB{xxx}\Tab{16}\LB{yyy}". (Actually, to
% reduce the number of characters in the ".tex" file the "\Tab" macro
% supplies the 2nd \& subsequent "\LB"s.) We accumulate the "\LB" stuff in 
% an "\hbox". When we see a "\Tab", we grab this hbox (using "\lastbox") 
% and turn it into a box that extends to the tab position.  We stash this 
% box in "\ls at far" \& stick it on in front of the next piece of the line.  
% (There must be a better way of doing tabs but I'm not enough of a \TeX 
% wizard to come up with it. Suggestions would be appreciated. Oh, well,
% this comment's been in here for a decade. I don't believe in Santa Claus.)
%    \begin{macrocode}
\def\LB{\hbox\bgroup\bgroup\box\ls at far\CF\let\next=}%
\def\Tab##1{\egroup\setbox\tb at x=\lastbox\TBw at d=\wd\tb at x%
 \advance\TBw at d by 1\@ts\ifdim\TBw at d>##1\@ts%
  \setbox\ls at far=\hbox{\box\ls at far \box\tb at x \sp at ce}\else%
  \setbox\ls at far=\hbox to ##1\@ts{\box\ls at far \box\tb at x \hfil}\fi\LB}%
%    \end{macrocode}
% \end{macro}\end{macro}
%
% A normal space is too thin for code listings.  We make spaces \& tabs
% be in "\@ts" units, which for displays are 80 \% the width of a ``0'' in the
% typewriter font. For inline stuff, on the other hand, we prefer a 
% somewhat smaller space -- actually, the same size as normal inter-word 
% spaces -- to help make the included stuff look like a unit.
%    \begin{macrocode}
\ifLGinline\def\sp at ce{{\hskip .3333em}}%
\else \setbox\tb at x=\hbox{\texttt{0}}%
      \@ts=0.8\wd\tb at x \def\sp at ce{{\hskip 1\@ts}}\fi%
\catcode`\_=\active \@setunder%
%    \end{macrocode}
%
% \begin{macro}{\CF}\begin{macro}{\N}\begin{macro}{\K}\begin{macro}{\V}
% \begin{macro}{\ic at r}
% \begin{macro}{\C}\begin{macro}{\CE}\begin{macro}{\S}\begin{macro}{\SE}
% Font changing. Since we are usually changing the font inside of a "\LB"
% macro, we remember the current font in "\CF" \& stick a "\CF" at the 
% start of each new box. Also, the characters ``\texttt{\char'042}'' and 
% ``"'"'' behave differently in comments than in code, and others behave 
% differently in strings than in code.
%
% "\N" is for numbers, "\K" marks keywords, "\V" variables, "\C" and "\CE"
% surround comments, "\S" and "\SE" strings.
% "\ic at r" inserts an optional "\/".
%    \begin{macrocode}
\def\CF{\ifc at mment\CMfont\else\ifstr at ng\STfont\fi\fi}%
\def\N##1{{\NOfont ##1}\global\futurelet\next\ic at r}%
\def\K##1{{\KWfont ##1}\global\futurelet\next\ic at r}%
\def\V##1{{\VRfont ##1}\global\futurelet\next\ic at r}%
\def\ic at r{\let\@tempa\/\ifx.\next\let\@tempa\relax%
 \else\ifx,\next\let\@tempa\relax\fi\fi\@tempa}%
\def\C{\egroup\bgroup\CMfont \global\c at mmenttrue \global\right at false}%
\def\CE{\egroup\bgroup \global\c at mmentfalse}%
\def\S{\egroup\bgroup\STfont \global\str at ngtrue}%
\def\SE{\egroup\bgroup \global\str at ngfalse}%
%    \end{macrocode}
% \end{macro}\end{macro}\end{macro}\end{macro}\end{macro}
% \end{macro}\end{macro}\end{macro}\end{macro}
%
% \begin{macro}{\,}\begin{macro}{\!}
% We need positive and negative thinspaces in both text and math modes, so
% we re-define "\," and "\!" here.  The definition for "\," isn't really 
% needed for \LaTeX, but we try to be more complete.  Note that in \LaTeX{}
% terms, the new definition isn't robust, like the old~-- but nothing we 
% produce here is likely to be robust --~or \emph{needs} to be!~-- anyway!
%    \begin{macrocode}
\def\,{\relax \ifmmode\mskip\thinmuskip \else\thinspace \fi}%
\def\!{\relax \ifmmode\mskip-\thinmuskip \else\negthinspace \fi}%
%    \end{macrocode}
% \end{macro}\end{macro}
%
% Special characters. "\CH" chooses its first option alone in math mode;
% its second option in a string; and its third option, enclosed in "$"s,
%%stopzone   % VIM syncing
% otherwise. (At the moment, nothing is ever set in math mode, but you
% never know \dots)
%    \begin{macrocode}
\def\CH##1##2##3{\relax\ifmmode ##1\relax%
\else\ifstr at ng ##2\relax\else$##3$\fi\fi }%
\def\|{\CH|||}%  not necessary for T1
\def\<{\CH<<<}%  dto.
\def\>{\CH>>>}%  dto.
\def\-{\CH---}%  minus sign nicer than hyphen
\def\_{\ifstr at ng {\char'137}\else%
  \leavevmode \kern.06em \vbox{\hrule width.35em}%
  \ifdim\fontdimen\@ne\font=\z@ \kern.06em \fi\fi }%
\def\#{{\STfont\char'043}}%
\def\2{\CH\backslash {\char'134}\backslash }%          % \
\def\3{\ifc at mment\ifright@ ''\global\right at false%
                      \else``\global\right at true \fi%
   \else{\texttt{\char'042}}\fi}%                      % "
\def\5{{\texttt{\char'136}}}%                          % ^ 
%    \end{macrocode}
%
% Finally we don't want any indentation other than our own. We allow \LaTeX{}
% to stretch our listings a bit. Then we open a group, select the background
% font and (fanfare!) are ready to begin.
%    \begin{macrocode}
\parindent\z@\parskip\z@ plus 1pt%
\bgroup\BGfont%
}
%    \end{macrocode}
%
% This is the end of the "lgrind" environment. Rather short (in comparison!)
%    \begin{macrocode}
{\egroup\@@par}           % end of environment lgrind
%    \end{macrocode}
% \end{environment}
%
% The following are generated as part of opening and closing included
% code sequences. 
%    \begin{macrocode}
\def\lgrinde{\ifLGinline\else\LGsize\fi\begin{lgrind}}
\def\endlgrinde{\end{lgrind}}
%    \end{macrocode}
%
% \begin{macro}{\lagrind}
% The "lagrind" environment is one of two for including files. It puts
% its argument inside a "figure" environment. It can be used without or
% with a star (first line), and with or without the usual floating
% arguments (second and third).
%    \begin{macrocode}
\def\lagrind{\@ifstar{\@slagrind}{\@lagrind}}

\def\@lagrind{\@ifnextchar[{\@@lagrind}{\@@lagrind[t]}}
\def\@slagrind{\@ifnextchar[{\@@slagrind}{\@@slagrind[t]}}
%    \end{macrocode}
%
% \begin{macro}{\@@lagrind}
% The unstarred version. Everything is pretty obvious, we open a "figure",
% put in a "minipage", input the file in question, make caption and label
% and that's it.
%    \begin{macrocode}
\def\@@lagrind[#1]#2#3#4{%
    \begin{figure}[#1]
\ifLGnorules\else\hrule\fi
\vskip .5\baselineskip
\begin{minipage}\columnwidth\LGsize\LGindent\z@
    \begin{lgrind}
\input #2\relax
    \end{lgrind}
\end{minipage}
\vskip .5\baselineskip plus .5\baselineskip
\ifLGnorules\else\hrule\fi\vskip .5\baselineskip
\begingroup
    \setbox\z@=\hbox{#4}%
    \ifdim\wd\z@>\z@
\caption{#3}%
\label{#4}%
    \else
\captcont{#3}%
    \fi
\endgroup
\vskip 2pt
    \end{figure}
}
%    \end{macrocode}
% \end{macro}
%
% \begin{macro}{\@@slagrind}
% D\'ej\`a vu? The starred version got an asterisk attached to "figure".
%    \begin{macrocode}
\def\@@slagrind[#1]#2#3#4{%
    \begin{figure*}[#1]
\ifLGnorules\else\hrule\fi
\vskip .5\baselineskip
\begin{minipage}\linewidth\LGsize\LGindent\z@
    \begin{lgrind}
\input #2\relax
    \end{lgrind}
\end{minipage}
\vskip .5\baselineskip plus .5\baselineskip
\ifLGnorules\else\hrule\fi\vskip .5\baselineskip
\begingroup
    \setbox\z@=\hbox{#4}%
    \ifdim\wd\z@>\z@
\caption{#3}%
\label{#4}%
    \else
\captcont{#3}%
    \fi
\endgroup
\vskip 2pt
    \end{figure*}
}
%    \end{macrocode}
% \end{macro}
% \end{macro}
%
% \begin{macro}{\lgrindfile}
% This is similar. We draw lines above and below, no "figure". But it can
% get longer than one page.
%    \begin{macrocode}
\def\lgrindfile#1{%
    \par\addvspace{0.1in}
    \ifLGnorules\else\hrule\fi
    \vskip .5\baselineskip
    \begingroup\LGfsize\LGindent\z@
\begin{lgrind}
    \input #1\relax
\end{lgrind}
    \endgroup
    \vskip .5\baselineskip
    \ifLGnorules\else\hrule\vspace{0.1in}\fi
}
%    \end{macrocode}
% \end{macro}
%
% And now \dots
%    \begin{macrocode}
%</package>
%    \end{macrocode}
% That's it. Thank you for reading up to here.
%
% Michael Piefel
%
% \vspace{2ex}
% \hrule
%
% \Finale
%
% \iffalse
%<*example>
\documentclass{report}
\usepackage{lgrind}

\begin{document}

\chapter{Introduction}
This is a \LaTeX file with embedded code. Process it with \textsf{LGrind}
and its option -e.

\appendix
\chapter{lgrind.c}
%<example>%< lgrind.c

\chapter{regexp.c}
\section{Header}
%<example>%< regexp.h
\section{Code}
%<example>%< regexp.c

\chapter{lgrindef.c}
\section{Header}
%<example>%< lgrindef.h
\section{Code}
%<example>%< lgrindef.c

\end{document}
%</example>
% \fi
\endinput

From joseph.wright at morningstar2.co.uk  Wed Mar 25 11:57:43 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 25 Mar 2020 10:57:43 +0000
Subject: another breakage due to LaTeX changes?
In-Reply-To: <20200325104752.GC4284@burischnitzel.preining.info>
References: <158512816630.15114.16221267994511011024.reportbug@zam581.zam.kfa-juelich.de>
 <20200325104752.GC4284@burischnitzel.preining.info>
Message-ID: <57dcb7b5-6171-8ad4-8564-49176769dbb0@morningstar2.co.uk>

On 25/03/2020 10:47, Norbert Preining wrote:
> Hi all, in particular LaTeX group,
> 
> it seems that some old documents (.dtx) don't translate anymore
> correctly. That might be simply a bug in the old code, but maybe some
> oversight in the LaTeX code.
> 
> The attached lgrind.dtx was used and always properly build up to recent
> changes (2020 LaTeX), but now fails with
>> LaTeX2e <2020-02-02> patch level 5
>> L3 programming layer <2020-02-25>
>> (/usr/share/texlive/texmf-dist/tex/latex/base/ltxdoc.cls
>> Document Class: ltxdoc 2019/09/16 v2.0y Standard LaTeX documentation class
>> (/usr/share/texlive/texmf-dist/tex/latex/base/article.cls
>> Document Class: article 2019/12/20 v1.4l Standard LaTeX document class
>> (/usr/share/texlive/texmf-dist/tex/latex/base/size10.clo))
>> (/usr/share/texlive/texmf-dist/tex/latex/base/doc.sty
>> (/usr/share/texlive/texmf-dist/tex/latex/tools/multicol.sty)))
>> Writing index file lgrind.idx
>> Writing glossary file lgrind.glo
>> (./lgrind.dtx
>> (/usr/share/texlive/texmf-dist/tex/latex/l3backend/l3backend-dvips.def
>>
>> ! LaTeX Error: Missing \begin{document}.
>>
>> See the LaTeX manual or LaTeX Companion for explanation.
>> Type  H <return>  for immediate help.
>>   ...
>>                                                    
>> l.2 %% T
>>          his is file `l3backend-dvips.def',
>> ?
>> ! Emergency stop.
> 
> Since it contains the
> 	l3backend-dvipds.def
> that was recently introduced, I assume there is some breakage with
> recent LaTeX.
> 
> Any comments?
> 
> Please keep Cc, thanks!
> 
> All the best
> 
> Norbert

Hi Norbert,

Where can we find lgrind.dtx?

Joseph


From enrico.gregorio at gmail.com  Wed Mar 25 12:03:47 2020
From: enrico.gregorio at gmail.com (Enrico Gregorio)
Date: Wed, 25 Mar 2020 12:03:47 +0100
Subject: another breakage due to LaTeX changes?
In-Reply-To: <57dcb7b5-6171-8ad4-8564-49176769dbb0@morningstar2.co.uk>
References: <158512816630.15114.16221267994511011024.reportbug@zam581.zam.kfa-juelich.de>
 <20200325104752.GC4284@burischnitzel.preining.info>
 <57dcb7b5-6171-8ad4-8564-49176769dbb0@morningstar2.co.uk>
Message-ID: <9DE00CEE-A845-4189-8393-3373E1783C61@gmail.com>



> On 25 Mar 2020, at 11:57 , Joseph Wright <joseph.wright at morningstar2.co.uk> wrote:
> 
> Hi Norbert,
> 
> Where can we find lgrind.dtx?

http://mirrors.ctan.org/support/lgrind/lgrind.dtx

Ciao
Enrico

From joseph.wright at morningstar2.co.uk  Wed Mar 25 12:07:52 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 25 Mar 2020 11:07:52 +0000
Subject: another breakage due to LaTeX changes?
In-Reply-To: <9DE00CEE-A845-4189-8393-3373E1783C61@gmail.com>
References: <158512816630.15114.16221267994511011024.reportbug@zam581.zam.kfa-juelich.de>
 <20200325104752.GC4284@burischnitzel.preining.info>
 <57dcb7b5-6171-8ad4-8564-49176769dbb0@morningstar2.co.uk>
 <9DE00CEE-A845-4189-8393-3373E1783C61@gmail.com>
Message-ID: <5532dc57-8f7b-f905-747c-e88f1d8d273e@morningstar2.co.uk>

On 25/03/2020 11:03, Enrico Gregorio wrote:
> 
> 
>> On 25 Mar 2020, at 11:57 , Joseph Wright <joseph.wright at morningstar2.co.uk> wrote:
>>
>> Hi Norbert,
>>
>> Where can we find lgrind.dtx?
> 
> http://mirrors.ctan.org/support/lgrind/lgrind.dtx
> 
> Ciao
> Enrico
> 

The structure of the .dtx is ... unusual. It's got the \begin{document} 
in the 'input' stage and the \end{document} 'as normal'. The result is 
"%" ends up with the 'wrong' catcode, which is where the issue arises: 
what should be a comment in the .def is not any longer. It can be fixed 
by making the .dtx 'normal', i.e. moving the \begin{document} line, but 
I'm not sure if that is an acceptable fix.

Joseph

From norbert at preining.info  Wed Mar 25 12:17:17 2020
From: norbert at preining.info (Norbert Preining)
Date: Wed, 25 Mar 2020 20:17:17 +0900
Subject: another breakage due to LaTeX changes?
In-Reply-To: <57dcb7b5-6171-8ad4-8564-49176769dbb0@morningstar2.co.uk>
References: <158512816630.15114.16221267994511011024.reportbug@zam581.zam.kfa-juelich.de>
 <20200325104752.GC4284@burischnitzel.preining.info>
 <57dcb7b5-6171-8ad4-8564-49176769dbb0@morningstar2.co.uk>
Message-ID: <20200325111717.GA11533@burischnitzel.preining.info>

On Wed, 25 Mar 2020, Joseph Wright wrote:
> Where can we find lgrind.dtx?

It was attached ...

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From norbert at preining.info  Wed Mar 25 12:24:15 2020
From: norbert at preining.info (Norbert Preining)
Date: Wed, 25 Mar 2020 20:24:15 +0900
Subject: another breakage due to LaTeX changes?
In-Reply-To: <5532dc57-8f7b-f905-747c-e88f1d8d273e@morningstar2.co.uk>
References: <158512816630.15114.16221267994511011024.reportbug@zam581.zam.kfa-juelich.de>
 <20200325104752.GC4284@burischnitzel.preining.info>
 <57dcb7b5-6171-8ad4-8564-49176769dbb0@morningstar2.co.uk>
 <9DE00CEE-A845-4189-8393-3373E1783C61@gmail.com>
 <5532dc57-8f7b-f905-747c-e88f1d8d273e@morningstar2.co.uk>
Message-ID: <20200325112415.GB11533@burischnitzel.preining.info>

On Wed, 25 Mar 2020, Joseph Wright wrote:
> The structure of the .dtx is ... unusual. It's got the \begin{document} in

Yes, this is what I saw, too, but it was working before ;-)

> 'normal', i.e. moving the \begin{document} line, but I'm not sure if that is
> an acceptable fix.

Can you send a patch?

Thanks

Best

Norbert
--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From joseph.wright at morningstar2.co.uk  Wed Mar 25 15:57:40 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 25 Mar 2020 14:57:40 +0000
Subject: another breakage due to LaTeX changes?
In-Reply-To: <20200325112415.GB11533@burischnitzel.preining.info>
References: <158512816630.15114.16221267994511011024.reportbug@zam581.zam.kfa-juelich.de>
 <20200325104752.GC4284@burischnitzel.preining.info>
 <57dcb7b5-6171-8ad4-8564-49176769dbb0@morningstar2.co.uk>
 <9DE00CEE-A845-4189-8393-3373E1783C61@gmail.com>
 <5532dc57-8f7b-f905-747c-e88f1d8d273e@morningstar2.co.uk>
 <20200325112415.GB11533@burischnitzel.preining.info>
Message-ID: <9abe3512-6574-5c56-6703-f7f7147074b5@morningstar2.co.uk>

On 25/03/2020 11:24, Norbert Preining wrote:
> On Wed, 25 Mar 2020, Joseph Wright wrote:
>> The structure of the .dtx is ... unusual. It's got the \begin{document} in
> 
> Yes, this is what I saw, too, but it was working before ;-)
> 
>> 'normal', i.e. moving the \begin{document} line, but I'm not sure if that is
>> an acceptable fix.
> 
> Can you send a patch?
> 
> Thanks
> 
> Best
> 
> Norbert

See attached

Joseph
-------------- next part --------------
--- lgrind.dtx	2020-03-25 14:56:20.117715900 +0000
+++ lgrind-orig.dtx	2020-03-25 14:55:18.313276900 +0000
@@ -20,17 +20,16 @@
 %
 %<*dtx>
 \ProvidesFile{lgrind.dtx}
-          [2020/03/25 v3.68 LGrind environment and supporting stuff]
+          [2002/01/28 v3.67 LGrind environment and supporting stuff]
 %</dtx>
 %<package>\NeedsTeXFormat{LaTeX2e}[1996/06/01]
 %<package>\ProvidesPackage{lgrind}
-%<package>          [2020/03/25 v3.68 LGrind environment and supporting stuff]
+%<package>          [2002/01/28 v3.67 LGrind environment and supporting stuff]
 %<*driver>
 \NeedsTeXFormat{LaTeX2e}[1996/06/01]
 \documentclass{ltxdoc}
 \CodelineIndex
 \RecordChanges
-\begin{document}
 \DocInput{lgrind.dtx}
 \end{document}
 %</driver>
@@ -41,6 +40,7 @@
 % \frenchspacing
 % 
 % \GetFileInfo{lgrind.dtx}
+% \begin{document}
 % \title{The \LG{} package\thanks{This file
 %         has version number \fileversion, last
 %         revised \filedate.}}

From siepo at bitmuis.nl  Wed Mar 25 17:30:20 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Wed, 25 Mar 2020 17:30:20 +0100
Subject: TeX Live 2020 pretest, texdoctk.exe
In-Reply-To: <04e8831d8dc8a1d00a542bd5a8cbb4a646fa7786.camel@fh-aachen.de>
References: <04e8831d8dc8a1d00a542bd5a8cbb4a646fa7786.camel@fh-aachen.de>
Message-ID: <20200325163020.GA3436@bitmuis.nl>

On Wed, Mar 25, 2020 at 10:35:37AM +0000, Hoffmann, Jobst wrote:
> Per chance I've just stumbled upon the following error:
> 
> I tried to start texdoctk.exe, then a window with the following message
> popped up:
> 
> E:\texlive\2020\bin\win32\runscript.tlu:915: command failed
> with exit code 1:
> wperl.exe
> e:\texlive\2020\texmf-dist\scripts\texdoctk\texdoctk.pl
> 
> Best wishes, stay healthy
> Jobst

This utility requires an external perl with a Perl/Tk module. We do
not guarantee that all third-party perl scripts run with the
built-in perl.

But you will be better off browsing doc.html in the root of the
installation. This file also has links into CTAN.

-- 
Siep Kroonenberg

From j.hoffmann at fh-aachen.de  Wed Mar 25 19:15:13 2020
From: j.hoffmann at fh-aachen.de (Hoffmann, Jobst)
Date: Wed, 25 Mar 2020 18:15:13 +0000
Subject: TeX Live 2020 pretest, texdoctk.exe
In-Reply-To: <20200325163020.GA3436@bitmuis.nl>
References: <04e8831d8dc8a1d00a542bd5a8cbb4a646fa7786.camel@fh-aachen.de>
 <20200325163020.GA3436@bitmuis.nl>
Message-ID: <d55aad307fd09f0bda6e4b5051a7dc56dc439269.camel@fh-aachen.de>

Am Mittwoch, den 25.03.2020, 17:30 +0100 schrieb Siep Kroonenberg:
> On Wed, Mar 25, 2020 at 10:35:37AM +0000, Hoffmann, Jobst wrote:
> > Per chance I've just stumbled upon the following error:
> > 
> > I tried to start texdoctk.exe, then a window with the following
> > message
> > popped up:
> > 
> > E:\texlive\2020\bin\win32\runscript.tlu:915: command failed
> > with exit code 1:
> > wperl.exe
> > e:\texlive\2020\texmf-dist\scripts\texdoctk\texdoctk.pl
> > 
> > Best wishes, stay healthy
> > Jobst
> 
> This utility requires an external perl with a Perl/Tk module. We do
> not guarantee that all third-party perl scripts run with the
> built-in perl.

If you know that there are special requirements, why couldn't you test
them and give a more specific (error) message?

> 
> But you will be better off browsing doc.html in the root of the
> installation. This file also has links into CTAN.
> 

Ok, but in a practical training I don't like to say "start your
browsers", I'd prefer to say "enter texdoc scrguide" or "click on that
icon and enter scrguide". In the labs I can install texdoctk.pl
correctly, but at home every student is on her/his own and doesn't know,
what's going on there.

And additionally: On doc.html I can't find neither the documentation
scrguide nor a link to koma-script, can you give me a hint?

Kind regards
Jobst
-- 
Prof. Dr. Jobst Hoffmann            Tel:   +49 (241) 6009-5 31 59
Fachhochschule Aachen Abt. J?lich   Fax:   +49 (241) 6009-5 31 89
Fachbereich 09                      email: j.hoffmann at fh-aachen.de



From siepo at bitmuis.nl  Wed Mar 25 20:56:45 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Wed, 25 Mar 2020 20:56:45 +0100
Subject: TeX Live 2020 pretest, texdoctk.exe
In-Reply-To: <d55aad307fd09f0bda6e4b5051a7dc56dc439269.camel@fh-aachen.de>
References: <04e8831d8dc8a1d00a542bd5a8cbb4a646fa7786.camel@fh-aachen.de>
 <20200325163020.GA3436@bitmuis.nl>
 <d55aad307fd09f0bda6e4b5051a7dc56dc439269.camel@fh-aachen.de>
Message-ID: <20200325195645.GB3436@bitmuis.nl>

On Wed, Mar 25, 2020 at 06:15:13PM +0000, Hoffmann, Jobst wrote:
> Am Mittwoch, den 25.03.2020, 17:30 +0100 schrieb Siep Kroonenberg:
> > On Wed, Mar 25, 2020 at 10:35:37AM +0000, Hoffmann, Jobst wrote:
> > > Per chance I've just stumbled upon the following error:
> > > 
> > > I tried to start texdoctk.exe, then a window with the following
> > > message
> > > popped up:
> > > 
> > > E:\texlive\2020\bin\win32\runscript.tlu:915: command failed
> > > with exit code 1:
> > > wperl.exe
> > > e:\texlive\2020\texmf-dist\scripts\texdoctk\texdoctk.pl
> > > 
> > > Best wishes, stay healthy
> > > Jobst
> > 
> > This utility requires an external perl with a Perl/Tk module. We do
> > not guarantee that all third-party perl scripts run with the
> > built-in perl.
> 
> If you know that there are special requirements, why couldn't you test
> them and give a more specific (error) message?

That happens, but in such a way that it does not work on Windows.
I'll look into that.

> > But you will be better off browsing doc.html in the root of the
> > installation. This file also has links into CTAN.
> > 
> 
> Ok, but in a practical training I don't like to say "start your
> browsers", I'd prefer to say "enter texdoc scrguide" or "click on that
> icon and enter scrguide". In the labs I can install texdoctk.pl
> correctly, but at home every student is on her/his own and doesn't know,
> what's going on there.
> 
> And additionally: On doc.html I can't find neither the documentation
> scrguide nor a link to koma-script, can you give me a hint?

Try
  texdoc srcguien
or
  texdoc -l koma
to get a list of all komascript manuals.

-- 
Siep Kroonenberg

From reinhard.kotucha at web.de  Wed Mar 25 21:05:40 2020
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 25 Mar 2020 21:05:40 +0100
Subject: TeX Live 2020 pretest, texdoctk.exe
In-Reply-To: <d55aad307fd09f0bda6e4b5051a7dc56dc439269.camel@fh-aachen.de>
References: <04e8831d8dc8a1d00a542bd5a8cbb4a646fa7786.camel@fh-aachen.de>
 <20200325163020.GA3436@bitmuis.nl>
 <d55aad307fd09f0bda6e4b5051a7dc56dc439269.camel@fh-aachen.de>
Message-ID: <24187.47508.621191.831023@gargle.gargle.HOWL>

On 2020-03-25 at 18:15:13 +0000, Hoffmann, Jobst wrote:

 > Ok, but in a practical training I don't like to say "start your
 > browsers", I'd prefer to say "enter texdoc scrguide" or "click on
 > that icon and enter scrguide".

The former works as expected and texdoc is actively maintained.

 > In the labs I can install texdoctk.pl correctly, but at home every
 > student is on her/his own and doesn't know, what's going on there.

Even if your students have a working texdoctk you cannot simply say
"click on that icon and enter ..." unless you have checked in advance
whether the package in question is supported by texdoctk at all.

I recommend not to point your students to texdoctk anymore because
it's unmaintained and incomplete.

The main advantage of texdoctk is that one doesn't have to know the
exact name of a particular package in advance.  Thus there had already
been discussions about a successor, at least many years ago.

Though nobody provided any code yet, everybody agreed that such a
program should use texdoc in the background instead of an
unmaintainable database.  I don't know whether the TeX-Catalogue
provides enough information to create the menu e.g., sort packages by
category.

Regards,
  Reinhard

 > And additionally: On doc.html I can't find neither the documentation
 > scrguide nor a link to koma-script, can you give me a hint?

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From j.hoffmann at fh-aachen.de  Wed Mar 25 21:22:10 2020
From: j.hoffmann at fh-aachen.de (Hoffmann, Jobst)
Date: Wed, 25 Mar 2020 20:22:10 +0000
Subject: TeX Live 2020 pretest, texdoctk.exe
In-Reply-To: <20200325195645.GB3436@bitmuis.nl>
References: <04e8831d8dc8a1d00a542bd5a8cbb4a646fa7786.camel@fh-aachen.de>
 <20200325163020.GA3436@bitmuis.nl>
 <d55aad307fd09f0bda6e4b5051a7dc56dc439269.camel@fh-aachen.de>
 <20200325195645.GB3436@bitmuis.nl>
Message-ID: <1ae100320bb5507a9b2b16a0a217f8aea9af1c78.camel@fh-aachen.de>

Am Mittwoch, den 25.03.2020, 20:56 +0100 schrieb Siep Kroonenberg:
> On Wed, Mar 25, 2020 at 06:15:13PM +0000, Hoffmann, Jobst wrote:
> > Am Mittwoch, den 25.03.2020, 17:30 +0100 schrieb Siep Kroonenberg:
> > > On Wed, Mar 25, 2020 at 10:35:37AM +0000, Hoffmann, Jobst wrote:
> > > > Per chance I've just stumbled upon the following error:
> > > > 
> > > > I tried to start texdoctk.exe, then a window with the following
> > > > message
> > > > popped up:
> > > > 
> > > > E:\texlive\2020\bin\win32\runscript.tlu:915: command failed
> > > > with exit code 1:
> > > > wperl.exe
> > > > e:\texlive\2020\texmf-dist\scripts\texdoctk\texdoctk.pl
> > > > 
> > > > Best wishes, stay healthy
> > > > Jobst
> > > 
> > > This utility requires an external perl with a Perl/Tk module. We
> > > do
> > > not guarantee that all third-party perl scripts run with the
> > > built-in perl.
> > 
> > If you know that there are special requirements, why couldn't you
> > test
> > them and give a more specific (error) message?
> 
> That happens, but in such a way that it does not work on Windows.
> I'll look into that.
> 
> > > But you will be better off browsing doc.html in the root of the
> > > installation. This file also has links into CTAN.
> > > 
> > 
> > Ok, but in a practical training I don't like to say "start your
> > browsers", I'd prefer to say "enter texdoc scrguide" or "click on
> > that
> > icon and enter scrguide". In the labs I can install texdoctk.pl
> > correctly, but at home every student is on her/his own and doesn't
> > know,
> > what's going on there.
> > 
> > And additionally: On doc.html I can't find neither the documentation
> > scrguide nor a link to koma-script, can you give me a hint?
> 
> Try
>   texdoc srcguien
> or
>   texdoc -l koma
> to get a list of all komascript manuals.
> 

texdoc is working of course. The problem is, that on doc.html I can't
find the corresponding entry and so I can't point the students to that
point.

-- 
Prof. Dr. Jobst Hoffmann            Tel:   +49 (241) 6009-5 31 59
Fachhochschule Aachen Abt. J?lich   Fax:   +49 (241) 6009-5 31 89
Fachbereich 09                      email: j.hoffmann at fh-aachen.de



From j.hoffmann at fh-aachen.de  Wed Mar 25 21:29:53 2020
From: j.hoffmann at fh-aachen.de (Hoffmann, Jobst)
Date: Wed, 25 Mar 2020 20:29:53 +0000
Subject: TeX Live 2020 pretest, texdoctk.exe
In-Reply-To: <24187.47508.621191.831023@gargle.gargle.HOWL>
References: <04e8831d8dc8a1d00a542bd5a8cbb4a646fa7786.camel@fh-aachen.de>
 <20200325163020.GA3436@bitmuis.nl>
 <d55aad307fd09f0bda6e4b5051a7dc56dc439269.camel@fh-aachen.de>
 <24187.47508.621191.831023@gargle.gargle.HOWL>
Message-ID: <75b9ad0482a3cf9f1464e5b3f68549eabcaa94eb.camel@fh-aachen.de>

Am Mittwoch, den 25.03.2020, 21:05 +0100 schrieb Reinhard Kotucha:
> On 2020-03-25 at 18:15:13 +0000, Hoffmann, Jobst wrote:
> 
>  > Ok, but in a practical training I don't like to say "start your
>  > browsers", I'd prefer to say "enter texdoc scrguide" or "click on
>  > that icon and enter scrguide".
> 
> The former works as expected and texdoc is actively maintained.
> 
>  > In the labs I can install texdoctk.pl correctly, but at home every
>  > student is on her/his own and doesn't know, what's going on there.
> 
> Even if your students have a working texdoctk you cannot simply say
> "click on that icon and enter ..." unless you have checked in advance
> whether the package in question is supported by texdoctk at all.

I check that of course.

> 
> I recommend not to point your students to texdoctk anymore because
> it's unmaintained and incomplete.
> 
> The main advantage of texdoctk is that one doesn't have to know the
> exact name of a particular package in advance.  Thus there had already
> been discussions about a successor, at least many years ago.
> 
> Though nobody provided any code yet, everybody agreed that such a
> program should use texdoc in the background instead of an
> unmaintainable database.  I don't know whether the TeX-Catalogue
> provides enough information to create the menu e.g., sort packages by
> category.

The problem is that most students aren't accustomed to the cli, so they
have problems with entering commands. So doc.html is a good starting
point, but if I can't find an important package like koma-script, then I
have a problem...

> 
> Regards,
>   Reinhard
> 
>  > And additionally: On doc.html I can't find neither the
> documentation
>  > scrguide nor a link to koma-script, can you give me a hint?
> 
> --
> ------------------------------------------------------------------
> Reinhard Kotucha                            Phone: +49-511-3373112
> Marschnerstr. 25
> D-30167 Hannover                    mailto:reinhard.kotucha at web.de
> ------------------------------------------------------------------

Best wishes
Jobst
-- 
Prof. Dr. Jobst Hoffmann            Tel:   +49 (241) 6009-5 31 59
Fachhochschule Aachen Abt. J?lich   Fax:   +49 (241) 6009-5 31 89
Fachbereich 09                      email: j.hoffmann at fh-aachen.de



From norbert at preining.info  Wed Mar 25 21:32:02 2020
From: norbert at preining.info (Norbert Preining)
Date: Thu, 26 Mar 2020 05:32:02 +0900
Subject: another breakage due to LaTeX changes?
In-Reply-To: <9abe3512-6574-5c56-6703-f7f7147074b5@morningstar2.co.uk>
References: <158512816630.15114.16221267994511011024.reportbug@zam581.zam.kfa-juelich.de>
 <20200325104752.GC4284@burischnitzel.preining.info>
 <57dcb7b5-6171-8ad4-8564-49176769dbb0@morningstar2.co.uk>
 <9DE00CEE-A845-4189-8393-3373E1783C61@gmail.com>
 <5532dc57-8f7b-f905-747c-e88f1d8d273e@morningstar2.co.uk>
 <20200325112415.GB11533@burischnitzel.preining.info>
 <9abe3512-6574-5c56-6703-f7f7147074b5@morningstar2.co.uk>
Message-ID: <20200325203202.GA26155@burischnitzel.preining.info>

Hi Joseph,

> See attached

Thanks (although order was reversed ;-)

Should we upload that to CTAN?

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From siepo at bitmuis.nl  Wed Mar 25 21:42:53 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Wed, 25 Mar 2020 21:42:53 +0100
Subject: TeX Live 2020 pretest, texdoctk.exe
In-Reply-To: <1ae100320bb5507a9b2b16a0a217f8aea9af1c78.camel@fh-aachen.de>
References: <04e8831d8dc8a1d00a542bd5a8cbb4a646fa7786.camel@fh-aachen.de>
 <20200325163020.GA3436@bitmuis.nl>
 <d55aad307fd09f0bda6e4b5051a7dc56dc439269.camel@fh-aachen.de>
 <20200325195645.GB3436@bitmuis.nl>
 <1ae100320bb5507a9b2b16a0a217f8aea9af1c78.camel@fh-aachen.de>
Message-ID: <20200325204253.GC3436@bitmuis.nl>

On Wed, Mar 25, 2020 at 08:22:10PM +0000, Hoffmann, Jobst wrote:
> Am Mittwoch, den 25.03.2020, 20:56 +0100 schrieb Siep Kroonenberg:
> > On Wed, Mar 25, 2020 at 06:15:13PM +0000, Hoffmann, Jobst wrote:
> > > Am Mittwoch, den 25.03.2020, 17:30 +0100 schrieb Siep Kroonenberg:
> > > > On Wed, Mar 25, 2020 at 10:35:37AM +0000, Hoffmann, Jobst wrote:
> > > > > Per chance I've just stumbled upon the following error:
> > > > > 
> > > > > I tried to start texdoctk.exe, then a window with the following
> > > > > message
> > > > > popped up:
> > > > > 
> > > > > E:\texlive\2020\bin\win32\runscript.tlu:915: command failed
> > > > > with exit code 1:
> > > > > wperl.exe
> > > > > e:\texlive\2020\texmf-dist\scripts\texdoctk\texdoctk.pl
> > > > > 
> > > > > Best wishes, stay healthy
> > > > > Jobst
> > > > 
> > > > This utility requires an external perl with a Perl/Tk module. We
> > > > do
> > > > not guarantee that all third-party perl scripts run with the
> > > > built-in perl.
> > > 
> > > If you know that there are special requirements, why couldn't you
> > > test
> > > them and give a more specific (error) message?
> > 
> > That happens, but in such a way that it does not work on Windows.
> > I'll look into that.
> > 
> > > > But you will be better off browsing doc.html in the root of the
> > > > installation. This file also has links into CTAN.
> > > > 
> > > 
> > > Ok, but in a practical training I don't like to say "start your
> > > browsers", I'd prefer to say "enter texdoc scrguide" or "click on
> > > that
> > > icon and enter scrguide". In the labs I can install texdoctk.pl
> > > correctly, but at home every student is on her/his own and doesn't
> > > know,
> > > what's going on there.
> > > 
> > > And additionally: On doc.html I can't find neither the documentation
> > > scrguide nor a link to koma-script, can you give me a hint?
> > 
> > Try
> >   texdoc srcguien
> > or
> >   texdoc -l koma
> > to get a list of all komascript manuals.
> > 
> 
> texdoc is working of course. The problem is, that on doc.html I can't
> find the corresponding entry and so I can't point the students to that
> point.

This file doc.html is generated automatically. I do not understand
myself why the koma-script documentation cannot be found there.

Another way to find the documentation is by searching for koma in
the CTAN catalogue, at https://www.ctan.org/

-- 
Siep Kroonenberg

From joseph.wright at morningstar2.co.uk  Wed Mar 25 21:58:23 2020
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 25 Mar 2020 20:58:23 +0000
Subject: another breakage due to LaTeX changes?
In-Reply-To: <20200325203202.GA26155@burischnitzel.preining.info>
References: <158512816630.15114.16221267994511011024.reportbug@zam581.zam.kfa-juelich.de>
 <20200325104752.GC4284@burischnitzel.preining.info>
 <57dcb7b5-6171-8ad4-8564-49176769dbb0@morningstar2.co.uk>
 <9DE00CEE-A845-4189-8393-3373E1783C61@gmail.com>
 <5532dc57-8f7b-f905-747c-e88f1d8d273e@morningstar2.co.uk>
 <20200325112415.GB11533@burischnitzel.preining.info>
 <9abe3512-6574-5c56-6703-f7f7147074b5@morningstar2.co.uk>
 <20200325203202.GA26155@burischnitzel.preining.info>
Message-ID: <295fb87e-125e-b16d-86d9-758cc95dd365@morningstar2.co.uk>

On 25/03/2020 20:32, Norbert Preining wrote:
> Hi Joseph,
> 
>> See attached
> 
> Thanks (although order was reversed ;-)
> 
> Should we upload that to CTAN?
> 
> Best
> 
> Norbert

You can go for it; CTAN might not allow ...

Joseph

From karl at freefriends.org  Wed Mar 25 23:11:21 2020
From: karl at freefriends.org (Karl Berry)
Date: Wed, 25 Mar 2020 16:11:21 -0600
Subject: TeX Live 2020 pretest, texdoctk.exe
In-Reply-To: <d55aad307fd09f0bda6e4b5051a7dc56dc439269.camel@fh-aachen.de>
Message-ID: <202003252211.02PMBL7t013442@freefriends.org>

    And additionally: On doc.html I can't find neither the documentation
    scrguide nor a link to koma-script, can you give me a hint?

koma-script was not present in doc.html because, at the koma-script
author's request/requirement, all the doc and src files are in the
normal runtime area, not split into the normal doc and src subgroups. It
has always been this way. (It is the only package done that way.)

I just tweaked the script that generates doc.html to take account of
this. Also threw in an HTML viewport declaration and played with the
header text while I was there. It should show up with tonight's update.
Hope it's useful. --thanks, karl.

From hanisch.latex at outlook.com  Thu Mar 26 10:10:07 2020
From: hanisch.latex at outlook.com (Falk Hanisch)
Date: Thu, 26 Mar 2020 09:10:07 +0000
Subject: [tlmgr] Feature Request: Setting shell_escape_commands via gui
Message-ID: <VI1PR08MB29751F9857BB8A8939552CC5E0CF0@VI1PR08MB2975.eurprd08.prod.outlook.com>

Hi to all,

Would it be possible to add a feature/field/action to the GUI for setting user-defined commands, which can be executed in restricted write mode? I am aware of texmf.cnf but setting shell_escape_commands via GUI seems more comfortable to me.

Best regards
Falk



From siepo at bitmuis.nl  Thu Mar 26 10:47:02 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Thu, 26 Mar 2020 10:47:02 +0100
Subject: [tlmgr] Feature Request: Setting shell_escape_commands via gui
In-Reply-To: <VI1PR08MB29751F9857BB8A8939552CC5E0CF0@VI1PR08MB2975.eurprd08.prod.outlook.com>
References: <VI1PR08MB29751F9857BB8A8939552CC5E0CF0@VI1PR08MB2975.eurprd08.prod.outlook.com>
Message-ID: <20200326094702.GB1306@bitmuis.nl>

On Thu, Mar 26, 2020 at 09:10:07AM +0000, Falk Hanisch wrote:
> Hi to all,
> 
> Would it be possible to add a feature/field/action to the GUI for setting user-defined commands, which can be executed in restricted write mode? I am aware of texmf.cnf but setting shell_escape_commands via GUI seems more comfortable to me.

It can be done, but I have to think about whether it should be done.
The default setting, allowing a restricted set, suits almost
everyone. I like to keep tlshell simple and comprehensible. People
with more advanced needs can always resort to the command-line- and
text mode shell versions of tlmgr.

-- 
Siep Kroonenberg

From j.hoffmann at fh-aachen.de  Thu Mar 26 11:25:05 2020
From: j.hoffmann at fh-aachen.de (Hoffmann, Jobst)
Date: Thu, 26 Mar 2020 10:25:05 +0000
Subject: TeX Live 2020 pretest, texdoctk.exe
In-Reply-To: <202003252211.02PMBL7t013442@freefriends.org>
References: <202003252211.02PMBL7t013442@freefriends.org>
Message-ID: <18ac1dde82c343e9a1d703ee23aa2ad1962d1dad.camel@fh-aachen.de>

Am Mittwoch, den 25.03.2020, 16:11 -0600 schrieb Karl Berry:
>     And additionally: On doc.html I can't find neither the
> documentation
>     scrguide nor a link to koma-script, can you give me a hint?
> 
> koma-script was not present in doc.html because, at the koma-script
> author's request/requirement, all the doc and src files are in the
> normal runtime area, not split into the normal doc and src subgroups.
> It
> has always been this way. (It is the only package done that way.)
> 
> I just tweaked the script that generates doc.html to take account of
> this. Also threw in an HTML viewport declaration and played with the
> header text while I was there. It should show up with tonight's
> update.

These are good new, thank you very much!

> Hope it's useful. --thanks, karl.
-- 
Prof. Dr. Jobst Hoffmann            Tel:   +49 (241) 6009-5 31 59
Fachhochschule Aachen Abt. J?lich   Fax:   +49 (241) 6009-5 31 89
Fachbereich 09                      email: j.hoffmann at fh-aachen.de



From arash at gnu.org  Thu Mar 26 18:38:23 2020
From: arash at gnu.org (Arash Esbati)
Date: Thu, 26 Mar 2020 18:38:23 +0100
Subject: Minor change to tex-live.sty
Message-ID: <86369vow34.fsf@gnu.org>

Hi all,

after the comment to this post[1], I had a look at tex-live.sty and I'd
like to make a suggestion: Retire alltt.sty and use fancyvrb.sty to
define the environment, i.e.:

    \DefineVerbatimEnvironment{alltt}{Verbatim}{%
      commandchars=\\\{\}
    }

I think this is a drop-in replacement and doesn't even change the
spacing AFAICS from the result of this file:

--8<---------------cut here---------------start------------->8---
\documentclass[twocolumn]{article}

\usepackage{fancyvrb,alltt}
\usepackage{lmodern}
\usepackage[T1]{fontenc}

\DefineVerbatimEnvironment{AllTt}{Verbatim}{%
  commandchars=\\\{\}
}

\def\Ucom#1{{\bfseries\ttfamily #1}}  

\begin{document}

This document describes the main features of the TL{} software
distribution---\TeX{} and related programs for GNU/Linux and other
Unix flavors, MacOSX, and Windows systems.
\begin{alltt}
> \Ucom{install-tl-windows}
...
> \Ucom{tex -{}-version}
TeX 3.14159265 (TeX Live ...)
Copyright ... D.E. Knuth.
...
\end{alltt}
This document describes the main features of the TL{} software
distribution---\TeX{} and related programs for GNU/Linux and other
Unix flavors, MacOSX, and Windows systems.

\newpage

This document describes the main features of the TL{} software
distribution---\TeX{} and related programs for GNU/Linux and other
Unix flavors, MacOSX, and Windows systems.
\begin{AllTt}
> \Ucom{install-tl-windows}
...
> \Ucom{tex -{}-version}
TeX 3.14159265 (TeX Live ...)
Copyright ... D.E. Knuth.
...
\end{AllTt}
This document describes the main features of the TL{} software
distribution---\TeX{} and related programs for GNU/Linux and other
Unix flavors, MacOSX, and Windows systems.

\end{document}
--8<---------------cut here---------------end--------------->8---

I was also wondering how many tl-doc editors use Emacs with AUCTeX?  I
have a prototyp style for AUCTeX attached.  I'd appreciate any comment
on this file.   Maybe it can be added to TL or to AUCTeX itself?

Best, Arash

Footnotes:
[1]  https://emacs.stackexchange.com/a/55943/12242

-------------- next part --------------
A non-text attachment was scrubbed...
Name: tex-live.el
Type: application/emacs-lisp
Size: 3590 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200326/38f5069e/attachment.bin>

From karl at freefriends.org  Thu Mar 26 23:05:43 2020
From: karl at freefriends.org (Karl Berry)
Date: Thu, 26 Mar 2020 16:05:43 -0600
Subject: Minor change to tex-live.sty
In-Reply-To: <86369vow34.fsf@gnu.org>
Message-ID: <202003262205.02QM5hlt026832@freefriends.org>

    after the comment to this post[1], I had a look at tex-live.sty and I'd
    like to make a suggestion: Retire alltt.sty and use fancyvrb.sty to
    [1] https://emacs.stackexchange.com/a/55943/12242

Seems to me it would be better to improve auctex -- if it can support
fancyvrb in whatever way is desired, seems like it could support alltt.
I confess I'm not inclined to mess with loaded packages because editor
XYZ supports one better than another. Feels like churn. --thanks, karl.

From dkrix at yahoo.com  Thu Mar 26 23:21:55 2020
From: dkrix at yahoo.com (drew)
Date: Fri, 27 Mar 2020 09:21:55 +1100
Subject: pretest report: basic install works but tlmgr fails to start: cant
 find perl script?
References: <4a9a1c54-120e-1847-4352-260b53aa44e4.ref@yahoo.com>
Message-ID: <4a9a1c54-120e-1847-4352-260b53aa44e4@yahoo.com>

Hi,

Thanks for the pretest 2020 files!

I'm just using a very basic Plain TeX install, which seems to work on a 
simple dvi production. But I needed to add another couple of packages. 
However the tlmgr doesn't start (gives an error about unable to find 
perl scripts using @INC, but the mentioned file is fact are in the 
installed files)

The first one was TLConfig.pm

After some searching online about perl I found how to place the 
grandparent folder into PERL5LIB. This removed that error but it now 
wants to find :

Can't locate tlmgrgui.pl in @INC (@INC contains: 
/media/DATA/texlive/2020/texmf-dist/scripts/texlive/../../texmf-dist/scripts/texlive 
/media/DATA/texlive/2020/texmf-dist/scripts/texlive/../../tlpkg 
/media/DATA/texlive/2020/tlpkg /usr/lib/perl5/5.30/site_perl 
/usr/share/perl5/site_perl /usr/lib/perl5/5.30/vendor_perl 
/usr/share/perl5/vendor_perl /usr/lib/perl5/5.30/core_perl 
/usr/share/perl5/core_perl) at 
/media/DATA/texlive/2020/texmf-dist/scripts/texlive/tlmgr.pl line 5199.

but as far as I can see this script is in fact in ...../scripts/texlive.

As you can guess, I know nothing about perl.

Drew Krix



From siepo at bitmuis.nl  Fri Mar 27 10:58:36 2020
From: siepo at bitmuis.nl (Siep Kroonenberg)
Date: Fri, 27 Mar 2020 10:58:36 +0100
Subject: [tlmgr] Feature Request: Setting shell_escape_commands via gui
In-Reply-To: <20200326094702.GB1306@bitmuis.nl>
References: <VI1PR08MB29751F9857BB8A8939552CC5E0CF0@VI1PR08MB2975.eurprd08.prod.outlook.com>
 <20200326094702.GB1306@bitmuis.nl>
Message-ID: <20200327095836.GC2260@bitmuis.nl>

On Thu, Mar 26, 2020 at 10:47:02AM +0100, Siep Kroonenberg wrote:
> On Thu, Mar 26, 2020 at 09:10:07AM +0000, Falk Hanisch wrote:
> > Hi to all,
> > 
> > Would it be possible to add a feature/field/action to the GUI for setting user-defined commands, which can be executed in restricted write mode? I am aware of texmf.cnf but setting shell_escape_commands via GUI seems more comfortable to me.
> 
> It can be done, but I have to think about whether it should be done.
> The default setting, allowing a restricted set, suits almost
> everyone. I like to keep tlshell simple and comprehensible. People
> with more advanced needs can always resort to the command-line- and
> text mode shell versions of tlmgr.

After consultation with my colleagues it is decided not to add this
somewhat risky feature.

-- 
Siep Kroonenberg

From norbert at preining.info  Sat Mar 28 13:13:04 2020
From: norbert at preining.info (Norbert Preining)
Date: Sat, 28 Mar 2020 21:13:04 +0900
Subject: pretest report: basic install works but tlmgr fails to start:
 cant find perl script?
In-Reply-To: <4a9a1c54-120e-1847-4352-260b53aa44e4@yahoo.com>
References: <4a9a1c54-120e-1847-4352-260b53aa44e4.ref@yahoo.com>
 <4a9a1c54-120e-1847-4352-260b53aa44e4@yahoo.com>
Message-ID: <20200328121304.GA390182@burischnitzel.preining.info>

Hi Drew,

> However the tlmgr doesn't start (gives an error about unable to find perl
> scripts using @INC, but the mentioned file is fact are in the installed

How do you start tlmgr?

It seems you are not calling it from
	/media/DATA/texlive/2020/bin/$YOURARCH/tlmgr
Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Accelia Inc. + IFMGA ProGuide + TU Wien + JAIST + TeX Live + Debian Dev
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From karl at freefriends.org  Sat Mar 28 22:55:56 2020
From: karl at freefriends.org (Karl Berry)
Date: Sat, 28 Mar 2020 15:55:56 -0600
Subject: tl20 final freeze
Message-ID: <202003282155.02SLtuNL027392@freefriends.org>

FYI, I've taken today's CTAN updates (just apa7 and srdp-mathematik) and
plan to build the final TL20 images tonight, unless something comes up
that makes it imperative to do it once more. --thanks, karl.


From karl at freefriends.org  Sun Mar 29 23:36:24 2020
From: karl at freefriends.org (Karl Berry)
Date: Sun, 29 Mar 2020 15:36:24 -0600
Subject: tl20 final freeze
Message-ID: <202003292136.02TLaOdq003802@freefriends.org>

Nothing urgent has come up yet, so as far as I know last night's pretest
build and current pretest images are what will be released as TL20.

The DVD production and mailing will naturally be delayed this year.
We have no ETA at this time.

I expect to make the electronic release of TL in about a week, plus or
minus, depending on how the testing of the whole TeX Collection goes.

Thanks to everyone for another year of TeX (Live). --best, karl.

From usenet at siart.de  Mon Mar 30 08:27:28 2020
From: usenet at siart.de (Uwe Siart)
Date: Mon, 30 Mar 2020 08:27:28 +0200
Subject: tl20 final freeze
References: <202003292136.02TLaOdq003802@freefriends.org>
Message-ID: <87zhby8ii7.fsf@siart.de>

Karl Berry <karl at freefriends.org> writes:

> Thanks to everyone for another year of TeX (Live). --best, karl.

Special thanks go to you and the entire TeXLive team -- for maintaining
and providing this technically perfect distribution and, thus, for
making another year of TeXLive possible.

-- 
Uwe


From bernhard.kleine at gmx.net  Mon Mar 30 09:29:50 2020
From: bernhard.kleine at gmx.net (Bernhard Kleine)
Date: Mon, 30 Mar 2020 09:29:50 +0200
Subject: tl20 final freeze
In-Reply-To: <202003292136.02TLaOdq003802@freefriends.org>
References: <202003292136.02TLaOdq003802@freefriends.org>
Message-ID: <b655224d-eeb9-09ea-027f-ac267d927794@gmx.net>

Thanks a lot for all your enthusiasm and labour with Tex (Live).

Greetings from the Black Forest and stay healthy!

Bernhard

Am 29.03.2020 um 23:36 schrieb Karl Berry:
> Nothing urgent has come up yet, so as far as I know last night's pretest
> build and current pretest images are what will be released as TL20.
>
> The DVD production and mailing will naturally be delayed this year.
> We have no ETA at this time.
>
> I expect to make the electronic release of TL in about a week, plus or
> minus, depending on how the testing of the whole TeX Collection goes.
>
> Thanks to everyone for another year of TeX (Live). --best, karl.

-- 

D-79853 lenzkirch
bernhard.kleine at gmx.net


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <https://tug.org/pipermail/tex-live/attachments/20200330/810eeeaf/attachment.sig>

From bvoisin at icloud.com  Mon Mar 30 11:11:23 2020
From: bvoisin at icloud.com (Bruno Voisin)
Date: Mon, 30 Mar 2020 11:11:23 +0200
Subject: GS 9.53 and transparency
Message-ID: <6AD3BC35-C5EF-443D-AC6F-88C43D86D830@icloud.com>

There's finally a fix for the transparency bug in Ghostscript 9.51 and 9.52, at

	https://bugs.ghostscript.com/show_bug.cgi?id=702219
	https://git.ghostscript.com/?p=ghostpdl.git;a=commit;h=d12d2085b5bd08ca1e813d97f3f7f7e630e791a0

The fix is in progress, it's for the pdfwrite device and they're working on the x11 device.

Looking closer (in particular the reworked transparency_example.ps), the fix seems to remove setopacityalpha, which forms the basis of pstricks' transparency support for gs, and setshapealpha, replacing them by setfillconstantalpha and setstrokeconstantalpha. So much for backward compatibility!

To be sure, I compiled the development version and tried several example files:

	transparency_example.ps from the gs source
	one example by Herbert Voss from <https://tug.org/pipermail/tex-live/2020-March/045044.html>
	another example by Herbert Voss from <https://bugs.ghostscript.com/show_bug.cgi?id=702218#c4>
	an example by Alexander Grahn from <https://bugs.ghostscript.com/show_bug.cgi?id=702218#c0>
	a pstricks test file (attached) posted to the MacTeX list by Herbert Schulz last year

With transparency_example.ps, transparency is obtained with -dALLOWPSTRANSPARENCY, none with -dNOSAFER. I think that's how it's supposed to be.

The two examples by Herbert Voss return

	Error: /undefined in .setopacityalpha

which is logical given gs no longer defines setopacityalpha.

The pstricks example by Herb Schulz, and the example by Alexander Grahn (probably the dvips output of a pstricks file), yield no error but there's no transparency in the PDF output, with or without -dALLOWPSTRANSPARENCY.

I'm not gonna do anything about it, I'm not a pstricks user myself, I'm just the guy who deals (together with Dick Koch) with Ghostscript compilation for the MacTeX group. I thought it useful to report this here though, so that people from this list could interact with the Ghostscript people if need be.

Bruno Voisin
(please cc me for replies, I'm not on the list)

-------------- next part --------------
A non-text attachment was scrubbed...
Name: TransparencyTest.tex
Type: application/octet-stream
Size: 366 bytes
Desc: not available
URL: <https://tug.org/pipermail/tex-live/attachments/20200330/97c1d93a/attachment.obj>

From henrimenke at gmail.com  Mon Mar 30 12:49:27 2020
From: henrimenke at gmail.com (Henri Menke)
Date: Mon, 30 Mar 2020 23:49:27 +1300
Subject: GS 9.53 and transparency
In-Reply-To: <6AD3BC35-C5EF-443D-AC6F-88C43D86D830@icloud.com>
References: <6AD3BC35-C5EF-443D-AC6F-88C43D86D830@icloud.com>
Message-ID: <20200330104927.2bya2yky2ezwzryi@worklaptop>

On 30/03/20, 11:11, Bruno Voisin via tex-live wrote:
> There's finally a fix for the transparency bug in Ghostscript 9.51 and 9.52, at
> 
> 	https://bugs.ghostscript.com/show_bug.cgi?id=702219
> 	https://git.ghostscript.com/?p=ghostpdl.git;a=commit;h=d12d2085b5bd08ca1e813d97f3f7f7e630e791a0
> 
> The fix is in progress, it's for the pdfwrite device and they're working on the x11 device.
> 
> Looking closer (in particular the reworked transparency_example.ps), the fix seems to remove setopacityalpha, which forms the basis of pstricks' transparency support for gs, and setshapealpha, replacing them by setfillconstantalpha and setstrokeconstantalpha. So much for backward compatibility!

Thank you very much for sharing the notice.  This is indeed very
relevant.  I maintain PGF/TikZ which also uses .setopacityalpha in the
dvips backend, so it is great to know about it beforehand.

Do you know whether .set(fill|stroke)constantalpha are available in
older versions of GS?  Then I can at least be somewhat backwards
compatible in PGF.

Cheers, Henri

> 
> To be sure, I compiled the development version and tried several example files:
> 
> 	transparency_example.ps from the gs source
> 	one example by Herbert Voss from <https://tug.org/pipermail/tex-live/2020-March/045044.html>
> 	another example by Herbert Voss from <https://bugs.ghostscript.com/show_bug.cgi?id=702218#c4>
> 	an example by Alexander Grahn from <https://bugs.ghostscript.com/show_bug.cgi?id=702218#c0>
> 	a pstricks test file (attached) posted to the MacTeX list by Herbert Schulz last year
> 
> With transparency_example.ps, transparency is obtained with -dALLOWPSTRANSPARENCY, none with -dNOSAFER. I think that's how it's supposed to be.
> 
> The two examples by Herbert Voss return
> 
> 	Error: /undefined in .setopacityalpha
> 
> which is logical given gs no longer defines setopacityalpha.
> 
> The pstricks example by Herb Schulz, and the example by Alexander Grahn (probably the dvips output of a pstricks file), yield no error but there's no transparency in the PDF output, with or without -dALLOWPSTRANSPARENCY.
> 
> I'm not gonna do anything about it, I'm not a pstricks user myself, I'm just the guy who deals (together with Dick Koch) with Ghostscript compilation for the MacTeX group. I thought it useful to report this here though, so that people from this list could interact with the Ghostscript people if need be.
> 
> Bruno Voisin
> (please cc me for replies, I'm not on the list)
> 



From bvoisin at icloud.com  Mon Mar 30 16:26:17 2020
From: bvoisin at icloud.com (Bruno Voisin)
Date: Mon, 30 Mar 2020 16:26:17 +0200
Subject: GS 9.53 and transparency
In-Reply-To: <6AD3BC35-C5EF-443D-AC6F-88C43D86D830@icloud.com>
References: <6AD3BC35-C5EF-443D-AC6F-88C43D86D830@icloud.com>
Message-ID: <714C3B5E-23ED-422B-9CF2-D86C217DAC34@icloud.com>

> Thank you very much for sharing the notice.  This is indeed very
> relevant.  I maintain PGF/TikZ which also uses .setopacityalpha in the
> dvips backend, so it is great to know about it beforehand.
> 
> Do you know whether .set(fill|stroke)constantalpha are available in
> older versions of GS?  Then I can at least be somewhat backwards
> compatible in PGF.

They appeared in between the release of gs 9.21 (March 2017) and 9.22 (October 2017). I think they appeared in this commit

	http://git.ghostscript.com/?p=ghostpdl.git;a=commitdiff;h=7918a01dd37bc383e61ae0b237341e69286dc83c

which is mentioned in the history at

	https://www.ghostscript.com/doc/9.52/History9.htm#Version9.22

(look for "2016-07-04 09:28:06 +0100"), though the description doesn't mention the new operators.

They're still undocumented apparently: the doc at

	https://www.ghostscript.com/doc/current/Language.htm

only mentions setopacityalpha.

I've no idea whether the new operators have always provided the same functionality since gs 9.22. Also, they require now gs to be called with -dALLOWPSTRANSPARENCY, before that it was -dNOSAFER, and before that they required nothing.

In any case this is all (the recent transparency fix removing setopacityalpha) in the development version only, I don't know how things will evolve, it was more a heads up.

Bruno Voisin





From arash at gnu.org  Mon Mar 30 21:03:12 2020
From: arash at gnu.org (Arash Esbati)
Date: Mon, 30 Mar 2020 21:03:12 +0200
Subject: Minor change to tex-live.sty
In-Reply-To: <202003262205.02QM5hlt026832@freefriends.org> (Karl Berry's
 message of "Thu, 26 Mar 2020 16:05:43 -0600")
References: <202003262205.02QM5hlt026832@freefriends.org>
Message-ID: <86blodll73.fsf@gnu.org>

Karl Berry <karl at freefriends.org> writes:

>     after the comment to this post[1], I had a look at tex-live.sty and I'd
>     like to make a suggestion: Retire alltt.sty and use fancyvrb.sty to
>     [1] https://emacs.stackexchange.com/a/55943/12242
>
> Seems to me it would be better to improve auctex.

Ok, I added the style to AUCTeX.

> if it can support fancyvrb in whatever way is desired, seems like it
> could support alltt.

Actually, AUCTeX supports both packages.  But the support for user
defined verbatim environments is much better since AUCTeX parses the
arguments to \DefineVerbatimEnvironment and sets AUCTeX's internal
variables directly.

> I confess I'm not inclined to mess with loaded packages because editor
> XYZ supports one better than another. Feels like churn.

Sure, no problem.  While we're at it, I'd like to suggest the following
change to texlive-en.tex.  TL 2020 is out (thnx btw), so maybe for the
next year release:

--- texlive-en.tex~
+++ texlive-en.tex
@@ -1372,8 +1372,11 @@
   \begin{itemize*}
   \item \cmdname{GNU Emacs} is also available natively under Windows, see
         \url{https://www.gnu.org/software/emacs/emacs.html}.
-  \item \cmdname{Emacs with Auc\TeX} for Windows is available from \CTAN.
-        The AuC\TeX\ home page is \url{https://www.gnu.org/software/auctex}.
+  \item \cmdname{AUC\TeX} is available independently from
+        operating system and platform with the package manager
+        integrated in \cmdname{GNU Emacs} from \cmdname{ELPA}.
+        Sources are also available from \CTAN. The AUC\TeX\ home page
+        is \url{https://www.gnu.org/software/auctex}.
   \item \cmdname{SciTE} is available from
         \url{https://www.scintilla.org/SciTE.html}.
   \item \cmdname{Texmaker} is free software, available from

Best, Arash

From karl at freefriends.org  Mon Mar 30 23:43:48 2020
From: karl at freefriends.org (Karl Berry)
Date: Mon, 30 Mar 2020 15:43:48 -0600
Subject: Minor change to tex-live.sty
In-Reply-To: <86blodll73.fsf@gnu.org>
Message-ID: <202003302143.02ULhmgb018912@freefriends.org>

    +  \item \cmdname{AUC\TeX} is available independently from
    +        operating system and platform with the package manager

Thanks. I will change the entry along those lines (in a while).
And glad you could hack the auctex improvement. --best, karl.

From uwe.siart at tum.de  Tue Mar 31 09:20:12 2020
From: uwe.siart at tum.de (Uwe Siart)
Date: Tue, 31 Mar 2020 09:20:12 +0200
Subject: GS 9.53 and transparency
In-Reply-To: <6AD3BC35-C5EF-443D-AC6F-88C43D86D830@icloud.com> (Bruno Voisin
 via tex-live's message of "Mon, 30 Mar 2020 11:11:23 +0200")
References: <6AD3BC35-C5EF-443D-AC6F-88C43D86D830@icloud.com>
Message-ID: <87lfnhuh1v.fsf@tum.de>

Bruno Voisin via tex-live <tex-live at tug.org> writes:

> Looking closer (in particular the reworked transparency_example.ps), the fix
> seems to remove setopacityalpha, which forms the basis of pstricks' transparency
> support for gs, and setshapealpha, replacing them by setfillconstantalpha and
> setstrokeconstantalpha. So much for backward compatibility!

How aggravating this is. I'm a heavy user of PSTricks and I sincerely
hope that Herbert will be able to make the necessary changes. Anyhow, it
will mean that recent PSTricks needs recent Ghostscript and vice versa.

-- 
Uwe

From news3 at nililand.de  Tue Mar 31 12:10:26 2020
From: news3 at nililand.de (Ulrike Fischer)
Date: Tue, 31 Mar 2020 12:10:26 +0200
Subject: GS 9.53 and transparency
References: <6AD3BC35-C5EF-443D-AC6F-88C43D86D830@icloud.com>
 <87lfnhuh1v.fsf@tum.de>
Message-ID: <bavcp5ion3os$.dlg@nililand.de>

Am Tue, 31 Mar 2020 09:20:12 +0200 schrieb Uwe Siart:

> Anyhow, it will mean that recent PSTricks needs recent Ghostscript
> and vice versa.

One can detect the ghostscript version and add conditional code. We
had a similar problem in the hyperref driver some month ago: A
change in ghostscript made the link border much too large when using
gs 9.50. 

https://tex.stackexchange.com/a/524163/2388


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


