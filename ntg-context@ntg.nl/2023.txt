From j.hagen at freedom.nl  Sun Jan  1 10:21:44 2023
From: j.hagen at freedom.nl (Hans Hagen)
Date: Sun, 1 Jan 2023 10:21:44 +0100
Subject: [NTG-context] Ajami script
In-Reply-To: <86d11eaa-16a9-7757-db06-6ef6387c88bf@fiee.net>
References: <86d11eaa-16a9-7757-db06-6ef6387c88bf@fiee.net>
Message-ID: <f15f14f4-5c36-0c9e-c055-03cf9170c63b@freedom.nl>

On 12/31/2022 3:06 PM, Henning Hraban Ramm via ntg-context wrote:
> I just read this:
> https://www.bu.edu/articles/2022/fallou-ngom-discovers-ajami-african-writing-system/
> 
> And now Iâd like to know if ConTeXt is capable of typesetting this 
> variant of Arabic. (Just out of curiosity, I canât read any Arabic and 
> donât know any African language.)
Afaiks that script has been known fro a while:

https://en.wikipedia.org/wiki/Ajami_script
http://www.currah.download/pages/ajamisenegal/index.html#police

so when there are proper fonts, as:

https://software.sil.org/scheherazade/
https://software.sil.org/harmattan/

it should be doable. The script is supported by unicode. I get the 
impression that the arabic scipt is mostly used getting the way the 
languages sounds on paper so vowels matter. There is mentioning of 
transliteration and so that might need some specific support. Nothing 
tex (context) can't do bnut only users and usage can prove that.

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From texml at fiee.net  Sun Jan  1 11:03:34 2023
From: texml at fiee.net (Henning Hraban Ramm)
Date: Sun, 1 Jan 2023 11:03:34 +0100
Subject: [NTG-context] Ajami script
In-Reply-To: <f15f14f4-5c36-0c9e-c055-03cf9170c63b@freedom.nl>
References: <86d11eaa-16a9-7757-db06-6ef6387c88bf@fiee.net>
 <f15f14f4-5c36-0c9e-c055-03cf9170c63b@freedom.nl>
Message-ID: <e81099a1-2f65-8b17-5173-11144b515472@fiee.net>

Am 01.01.23 um 10:21 schrieb Hans Hagen via ntg-context:
> On 12/31/2022 3:06 PM, Henning Hraban Ramm via ntg-context wrote:
>> I just read this:
>> https://www.bu.edu/articles/2022/fallou-ngom-discovers-ajami-african-writing-system/
>>
>> And now Iâd like to know if ConTeXt is capable of typesetting this 
>> variant of Arabic. (Just out of curiosity, I canât read any Arabic and 
>> donât know any African language.)
> Afaiks that script has been known fro a while:

I also thought I heard about it several years ago. The article makes it 
sound like news, that might be the perspective of the US scholars or a 
necessary means to get funded. But the oldest sources quoted in 
Wikipedia are from 1971 and 1982.

> https://en.wikipedia.org/wiki/Ajami_script
> so when there are proper fonts, as:
> https://software.sil.org/scheherazade/
> https://software.sil.org/harmattan/

I donât dare to ask about the Husayni fonts... ;)

> it should be doable. The script is supported by unicode. I get the 
> impression that the arabic scipt is mostly used getting the way the 
> languages sounds on paper so vowels matter. There is mentioning of 
> transliteration and so that might need some specific support. Nothing 
> tex (context) can't do but only users and usage can prove that.

Thank you for your insights!
Of course itâs a matter of use(r)s.

All the best for a happy new year!
Hraban


From wolfgang.schuster.lists at gmail.com  Sun Jan  1 11:27:26 2023
From: wolfgang.schuster.lists at gmail.com (Wolfgang Schuster)
Date: Sun, 1 Jan 2023 11:27:26 +0100
Subject: [NTG-context] numbering questions
In-Reply-To: <18f2f823-ac76-e606-9f66-7990f586a966@fiee.net>
References: <18f2f823-ac76-e606-9f66-7990f586a966@fiee.net>
Message-ID: <7dba4137-68eb-f2e0-6871-92c3c241fe70@gmail.com>

Henning Hraban Ramm via ntg-context schrieb am 31.12.2022 um 18:23:
> A happy new year to everyone!
>
> Iâm playing with some examples of section numbering.
>
> * Is there a setup to influence the order of number segments? I.e. can 
> I have âsection.chapter.partâ instead of âpart.chapter.sectionâ?

You need a new prefix-set to rearrange the order of the sections.

%%%% begin example
\defineprefixset [reverse-section]Â Â Â  [section,chapter] []
\defineprefixset [reverse-subsection] [subsection,section,chapter] []

\setuphead
 Â  [section]
 Â  [sectionset=reverse-section]

\setuphead
 Â  [subsection]
 Â  [sectionset=reverse-subsection]

\starttext

\startchapter [title={A}]

\startsection [title={B}]

\startsubsection [title={C}] \stopsubsection
\startsubsection [title={D}] \stopsubsection
\startsubsection [title={E}] \stopsubsection

\stopsection

\startsection [title={F}]

\startsubsection [title={G}] \stopsubsection
\startsubsection [title={H}] \stopsubsection
\startsubsection [title={I}] \stopsubsection

\stopsection

\stopchapter

\stoptext
%%%% end example

> * How can I format the segments, e.g. to get two or three digits each 
> (leading zeros)?

You can create your own conversion format.

%%%% begin example
\startluacode
interfaces.implement {
 Â Â Â  nameÂ Â Â Â Â  = "FourDigits",
 Â Â Â  publicÂ Â Â  = true,
 Â Â Â  arguments = "string",
 Â Â Â  actionsÂ Â  = function(s) context("%04d",tonumber(s)) end
}
\stopluacode

\defineconversion [FourDigits] [\FourDigits]

\setuphead
 Â  [chapter]
 Â  [conversion=FourDigits]

\starttext

\startchapter [title={Chapter}] \stopchapter

\stoptext
%%%% end example

Wolfgang


From oinos at gmx.es  Sun Jan  1 11:55:59 2023
From: oinos at gmx.es (Pablo Rodriguez)
Date: Sun, 1 Jan 2023 11:55:59 +0100
Subject: [NTG-context] issue with font
Message-ID: <7145c387-fb54-2727-97b4-1219409fd2fa@gmx.es>

Hans,

I have the following sample.

  \starttext
  \definedfont[TruetypewriterPolyglott-mELa.ttf]
  \input zapf
  \stoptext

I get a fatal error in the font file (both LMTX and MkIV).

Font is https://www.fontspace.com/truetypewriter-polyglott-font-f14955
(direct donwnload from https://www.fontspace.com/get/family/zmmx1)

I donât know what is wrong in the font, but it would be great to be able
to use it with ConTeXt.

Many thanks for your help,

Pablo

From j.hagen at freedom.nl  Sun Jan  1 12:25:26 2023
From: j.hagen at freedom.nl (Hans Hagen)
Date: Sun, 1 Jan 2023 12:25:26 +0100
Subject: [NTG-context] Ajami script
In-Reply-To: <e81099a1-2f65-8b17-5173-11144b515472@fiee.net>
References: <86d11eaa-16a9-7757-db06-6ef6387c88bf@fiee.net>
 <f15f14f4-5c36-0c9e-c055-03cf9170c63b@freedom.nl>
 <e81099a1-2f65-8b17-5173-11144b515472@fiee.net>
Message-ID: <e2112e63-b531-74a7-0e22-638987332b5a@freedom.nl>

On 1/1/2023 11:03 AM, Henning Hraban Ramm via ntg-context wrote:

> I also thought I heard about it several years ago. The article makes it 
> sound like news, that might be the perspective of the US scholars or a 
> necessary means to get funded. But the oldest sources quoted in 
> Wikipedia are from 1971 and 1982.

yes, kind of asking for funding to research if the earth is flat .. we 
can expect more such articles when these ai-chat-bots starts combine 
more old stuff into presented as new stuff

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From j.hagen at freedom.nl  Sun Jan  1 12:38:47 2023
From: j.hagen at freedom.nl (Hans Hagen)
Date: Sun, 1 Jan 2023 12:38:47 +0100
Subject: [NTG-context] issue with font
In-Reply-To: <7145c387-fb54-2727-97b4-1219409fd2fa@gmx.es>
References: <7145c387-fb54-2727-97b4-1219409fd2fa@gmx.es>
Message-ID: <b129fc3d-e198-c0c0-dee0-09a633ed2f34@freedom.nl>

On 1/1/2023 11:55 AM, Pablo Rodriguez via ntg-context wrote:
> Hans,
> 
> I have the following sample.
> 
>    \starttext
>    \definedfont[TruetypewriterPolyglott-mELa.ttf]
>    \input zapf
>    \stoptext
> 
> I get a fatal error in the font file (both LMTX and MkIV).
> 
> Font is https://www.fontspace.com/truetypewriter-polyglott-font-f14955
> (direct donwnload from https://www.fontspace.com/get/family/zmmx1)
> 
> I donât know what is wrong in the font, but it would be great to be able
> to use it with ConTeXt.
Hm, i will catch it but am not going to look into the reason (like some 
issue in the font). When I zoom in I wonder if typewriter fonts really 
looked like that so there might be more accurate typewriter emulations 
out there that you can try.

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From oinos at gmx.es  Sun Jan  1 12:48:43 2023
From: oinos at gmx.es (Pablo Rodriguez)
Date: Sun, 1 Jan 2023 12:48:43 +0100
Subject: [NTG-context] issue with font
In-Reply-To: <b129fc3d-e198-c0c0-dee0-09a633ed2f34@freedom.nl>
References: <7145c387-fb54-2727-97b4-1219409fd2fa@gmx.es>
 <b129fc3d-e198-c0c0-dee0-09a633ed2f34@freedom.nl>
Message-ID: <72f7d0da-2a4a-424b-eecb-f86649985ad1@gmx.es>

On 1/1/23 12:38, Hans Hagen via ntg-context wrote:
> On 1/1/2023 11:55 AM, Pablo Rodriguez via ntg-context wrote:
>> [...]
>> I donât know what is wrong in the font, but it would be great to be able
>> to use it with ConTeXt.
> Hm, i will catch it but am not going to look into the reason (like some 
> issue in the font). When I zoom in I wonder if typewriter fonts really 
> looked like that so there might be more accurate typewriter emulations 
> out there that you can try.

Many thanks for your fast reply, Hans.

The thing with that font is that it contains polytonic Greek and other
scripts.

Many thanks for your help,

Pablo


From texml at fiee.net  Sun Jan  1 14:13:48 2023
From: texml at fiee.net (Henning Hraban Ramm)
Date: Sun, 1 Jan 2023 14:13:48 +0100
Subject: [NTG-context] numbering questions
In-Reply-To: <7dba4137-68eb-f2e0-6871-92c3c241fe70@gmail.com>
References: <18f2f823-ac76-e606-9f66-7990f586a966@fiee.net>
 <7dba4137-68eb-f2e0-6871-92c3c241fe70@gmail.com>
Message-ID: <d33894fe-ec54-3b36-2bc7-366bdd31fb6a@fiee.net>

Thank you, Wolfgang!
I _knew_ ConTeXt would be able to handle my requirements! ;D
Itâs wikified now (at \setuphead and \defineconversion).

Hraban

Am 01.01.23 um 11:27 schrieb Wolfgang Schuster:
> Henning Hraban Ramm via ntg-context schrieb am 31.12.2022 um 18:23:
>> A happy new year to everyone!
>>
>> Iâm playing with some examples of section numbering.
>>
>> * Is there a setup to influence the order of number segments? I.e. can 
>> I have âsection.chapter.partâ instead of âpart.chapter.sectionâ?
> 
> You need a new prefix-set to rearrange the order of the sections.
> 
> %%%% begin example
> \defineprefixset [reverse-section]Â Â Â  [section,chapter] []
> \defineprefixset [reverse-subsection] [subsection,section,chapter] []
> 
> \setuphead
>  Â  [section]
>  Â  [sectionset=reverse-section]
> 
> \setuphead
>  Â  [subsection]
>  Â  [sectionset=reverse-subsection]
> 
> \starttext
> 
> \startchapter [title={A}]
> 
> \startsection [title={B}]
> 
> \startsubsection [title={C}] \stopsubsection
> \startsubsection [title={D}] \stopsubsection
> \startsubsection [title={E}] \stopsubsection
> 
> \stopsection
> 
> \startsection [title={F}]
> 
> \startsubsection [title={G}] \stopsubsection
> \startsubsection [title={H}] \stopsubsection
> \startsubsection [title={I}] \stopsubsection
> 
> \stopsection
> 
> \stopchapter
> 
> \stoptext
> %%%% end example
> 
>> * How can I format the segments, e.g. to get two or three digits each 
>> (leading zeros)?
> 
> You can create your own conversion format.
> 
> %%%% begin example
> \startluacode
> interfaces.implement {
>  Â Â Â  nameÂ Â Â Â Â  = "FourDigits",
>  Â Â Â  publicÂ Â Â  = true,
>  Â Â Â  arguments = "string",
>  Â Â Â  actionsÂ Â  = function(s) context("%04d",tonumber(s)) end
> }
> \stopluacode
> 
> \defineconversion [FourDigits] [\FourDigits]
> 
> \setuphead
>  Â  [chapter]
>  Â  [conversion=FourDigits]
> 
> \starttext
> 
> \startchapter [title={Chapter}] \stopchapter
> 
> \stoptext
> %%%% end example
> 
> Wolfgang
> 


From alain.delmotte at leliseron.org  Sun Jan  1 14:20:37 2023
From: alain.delmotte at leliseron.org (Alain Delmotte)
Date: Sun, 1 Jan 2023 14:20:37 +0100
Subject: [NTG-context] Ajami script
In-Reply-To: <e81099a1-2f65-8b17-5173-11144b515472@fiee.net>
References: <86d11eaa-16a9-7757-db06-6ef6387c88bf@fiee.net>
 <f15f14f4-5c36-0c9e-c055-03cf9170c63b@freedom.nl>
 <e81099a1-2f65-8b17-5173-11144b515472@fiee.net>
Message-ID: <fe30ec34-3b85-1d99-7cb3-7513a489e75a@leliseron.org>

Le 1/01/2023 Ã  11:03, Henning Hraban Ramm via ntg-context a 
Ã©critÂ :
> Am 01.01.23 um 10:21 schrieb Hans Hagen via ntg-context:
>> On 12/31/2022 3:06 PM, Henning Hraban Ramm via 
>> ntg-context wrote:
>>> I just read this:
>>> https://www.bu.edu/articles/2022/fallou-ngom-discovers-ajami-african-writing-system/ 
>>>
>>>
>>> And now Iâd like to know if ConTeXt is capable of 
>>> typesetting this variant of Arabic. (Just out of 
>>> curiosity, I canât read any Arabic and donât know any 
>>> African language.)
>> Afaiks that script has been known fro a while:
>
> I also thought I heard about it several years ago. The 
> article makes it sound like news, that might be the 
> perspective of the US scholars or a necessary means to get 
> funded. But the oldest sources quoted in Wikipedia are 
> from 1971 and 1982.

The arabic alphabet was also used from the XIth century to 
write swahili and some bantu languages around Tanzania and 
Kenya (Mozambic, Malawi, Uganda, east of Kongo, Sudan).

There are articles in Wikipedia.

https://fr.wikipedia.org/wiki/Alphabet_arabe_swahili
https://en.wikipedia.org/wiki/Swahili_language#Orthography

also: https://www.mustgo.com/worldlanguages/swahili/Â  see 
"writing"
https://omniglot.com/writing/swahili.htm

>> https://en.wikipedia.org/wiki/Ajami_script
>> so when there are proper fonts, as:
>> https://software.sil.org/scheherazade/
>> https://software.sil.org/harmattan/
>
> I donât dare to ask about the Husayni fonts... ;)
>
>> it should be doable. The script is supported by unicode. 
>> I get the impression that the arabic scipt is mostly used 
>> getting the way the languages sounds on paper so vowels 
>> matter. There is mentioning of transliteration and so 
>> that might need some specific support. Nothing tex 
>> (context) can't do but only users and usage can prove that.
>
> Thank you for your insights!
> Of course itâs a matter of use(r)s.
>
> All the best for a happy new year!
> Hraban
>
> ___________________________________________________________________________________ 
>
> If your question is of interest to others as well, please 
> add an entry to the Wiki!
>
> maillist : ntg-context at ntg.nl / 
> https://www.ntg.nl/mailman/listinfo/ntg-context
> webpageÂ  : https://www.pragma-ade.nl / 
> http://context.aanhet.net
> archiveÂ  : https://bitbucket.org/phg/context-mirror/commits/
> wikiÂ Â Â Â  : https://contextgarden.net
> ___________________________________________________________________________________ 
>

From bpj at melroch.se  Sun Jan  1 19:13:57 2023
From: bpj at melroch.se (BPJ)
Date: Sun, 1 Jan 2023 19:13:57 +0100
Subject: [NTG-context] Ajami script
In-Reply-To: <fe30ec34-3b85-1d99-7cb3-7513a489e75a@leliseron.org>
References: <86d11eaa-16a9-7757-db06-6ef6387c88bf@fiee.net>
 <f15f14f4-5c36-0c9e-c055-03cf9170c63b@freedom.nl>
 <e81099a1-2f65-8b17-5173-11144b515472@fiee.net>
 <fe30ec34-3b85-1d99-7cb3-7513a489e75a@leliseron.org>
Message-ID: <CADAJKhD7FJqVy8AgTN3dXdD-VjTJMnczJRVbriOyMYUaTnOO3A@mail.gmail.com>

It's a bit confusing because the word Ê¿ajamiÌ simply means anything written
in a non-Arabic language with Arabic script. Africa is certainly not the
only place where that term has been used. It is also the case that Arabic
script has been used to write West African languages for very many
centuries. There is no way that guy can have grown up there and not know
that so I don't understand what this article is up to. Possibly this is a
separate adaptation using its own conventions for writing the local
language. Probably just pop-sci sensationalism coupled with some rather
severe mis-/non-understanding on the part of the article author.

Den sÃ¶n 1 jan. 2023 14:30Alain Delmotte via ntg-context <ntg-context at ntg.nl>
skrev:

> Le 1/01/2023 Ã  11:03, Henning Hraban Ramm via ntg-context a
> Ã©crit :
> > Am 01.01.23 um 10:21 schrieb Hans Hagen via ntg-context:
> >> On 12/31/2022 3:06 PM, Henning Hraban Ramm via
> >> ntg-context wrote:
> >>> I just read this:
> >>>
> https://www.bu.edu/articles/2022/fallou-ngom-discovers-ajami-african-writing-system/
> >>>
> >>>
> >>> And now Iâd like to know if ConTeXt is capable of
> >>> typesetting this variant of Arabic. (Just out of
> >>> curiosity, I canât read any Arabic and donât know any
> >>> African language.)
> >> Afaiks that script has been known fro a while:
> >
> > I also thought I heard about it several years ago. The
> > article makes it sound like news, that might be the
> > perspective of the US scholars or a necessary means to get
> > funded. But the oldest sources quoted in Wikipedia are
> > from 1971 and 1982.
>
> The arabic alphabet was also used from the XIth century to
> write swahili and some bantu languages around Tanzania and
> Kenya (Mozambic, Malawi, Uganda, east of Kongo, Sudan).
>
> There are articles in Wikipedia.
>
> https://fr.wikipedia.org/wiki/Alphabet_arabe_swahili
> https://en.wikipedia.org/wiki/Swahili_language#Orthography
>
> also: https://www.mustgo.com/worldlanguages/swahili/  see
> "writing"
> https://omniglot.com/writing/swahili.htm
>
> >> https://en.wikipedia.org/wiki/Ajami_script
> >> so when there are proper fonts, as:
> >> https://software.sil.org/scheherazade/
> >> https://software.sil.org/harmattan/
> >
> > I donât dare to ask about the Husayni fonts... ;)
> >
> >> it should be doable. The script is supported by unicode.
> >> I get the impression that the arabic scipt is mostly used
> >> getting the way the languages sounds on paper so vowels
> >> matter. There is mentioning of transliteration and so
> >> that might need some specific support. Nothing tex
> >> (context) can't do but only users and usage can prove that.
> >
> > Thank you for your insights!
> > Of course itâs a matter of use(r)s.
> >
> > All the best for a happy new year!
> > Hraban
> >
> >
> ___________________________________________________________________________________
>
> >
> > If your question is of interest to others as well, please
> > add an entry to the Wiki!
> >
> > maillist : ntg-context at ntg.nl /
> > https://www.ntg.nl/mailman/listinfo/ntg-context
> > webpage  : https://www.pragma-ade.nl /
> > http://context.aanhet.net
> > archive  : https://bitbucket.org/phg/context-mirror/commits/
> > wiki     : https://contextgarden.net
> >
> ___________________________________________________________________________________
>
> >
>
> ___________________________________________________________________________________
> If your question is of interest to others as well, please add an entry to
> the Wiki!
>
> maillist : ntg-context at ntg.nl /
> https://www.ntg.nl/mailman/listinfo/ntg-context
> webpage  : https://www.pragma-ade.nl / http://context.aanhet.net
> archive  : https://bitbucket.org/phg/context-mirror/commits/
> wiki     : https://contextgarden.net
>
> ___________________________________________________________________________________
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230101/b6e07e8f/attachment-0001.htm>

From gnwiii at gmail.com  Sun Jan  1 19:54:17 2023
From: gnwiii at gmail.com (George N. White III)
Date: Sun, 1 Jan 2023 14:54:17 -0400
Subject: [NTG-context] Ajami script
In-Reply-To: <CADAJKhD7FJqVy8AgTN3dXdD-VjTJMnczJRVbriOyMYUaTnOO3A@mail.gmail.com>
References: <86d11eaa-16a9-7757-db06-6ef6387c88bf@fiee.net>
 <f15f14f4-5c36-0c9e-c055-03cf9170c63b@freedom.nl>
 <e81099a1-2f65-8b17-5173-11144b515472@fiee.net>
 <fe30ec34-3b85-1d99-7cb3-7513a489e75a@leliseron.org>
 <CADAJKhD7FJqVy8AgTN3dXdD-VjTJMnczJRVbriOyMYUaTnOO3A@mail.gmail.com>
Message-ID: <CAKTOP47dYW+4rKr4d443tuzUZLKMLhjumbp576_UcyH-c=2aNg@mail.gmail.com>

On Sun, Jan 1, 2023 at 2:14 PM BPJ via ntg-context <ntg-context at ntg.nl>
wrote:

It's a bit confusing because the word Ê¿ajamiÌ simply means anything written
> in a non-Arabic language with Arabic script. Africa is certainly not the
> only place where that term has been used. It is also the case that Arabic
> script has been used to write West African languages for very many
> centuries. There is no way that guy can have grown up there and not know
> that so I don't understand what this article is up to. Possibly this is a
> separate adaptation using its own conventions for writing the local
> language. Probably just pop-sci sensationalism coupled with some rather
> severe mis-/non-understanding on the part of the article author.
>

I grew up in Northern New Mexico and now live in Canada, so know that
"educational" efforts
which suppressed non-European languages and writing systems were too often
imposed on
indigenous peoples in N. America.  It would not surprise me to learn that
some West African kids
were never exposed to "anything written in a non-Arabic language with
Arabic script".

-- 
George N. White III
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230101/34967cfc/attachment.htm>

From ursula.hermann at univie.ac.at  Mon Jan  2 11:28:08 2023
From: ursula.hermann at univie.ac.at (Ursula Hermann)
Date: Mon, 2 Jan 2023 10:28:08 +0000
Subject: [NTG-context] Double Lines
Message-ID: <651b5684660d44e99e7ebca1028f7697@univie.ac.at>

Dear List,
The following example is from the mailing list:

I would like to have double vertical Lines with $\Vert instead of \VL, and also \HL.

How can I do this with an Math Modus?
\setupcolors[state=start]
\starttext
    \null\vskip15ex
    \hskip1em\framed[orientation=90,frame=off]{\bf
Region}\blank\vskip-25.5ex
    \starttable[|c|l|r|r|r|r|r|r|r|]
        \DC \DC \DL[7] \DR
        \NC \NC \VL \use{7}\ReFormat[cB]{Years} \VL \AR
        \DC \DC \DL[7] \DR
        \NC \NC \VL \ReFormat[cB]{$<1$} \VL \ReFormat[cB]{$1-2$} \VL
\ReFormat[cB]{$3-4$} \VL \ReFormat[cB]{$5-9$} \VL \ReFormat[cB]{$10-14$}
\VL \ReFormat[cB]{$15+$} \VL \ReFormat[cB]{Total} \VL \AR
        \HL
%        \VL \offset[y=8ex]{\framed[orientation=90,frame=off]{\bf Region}}
\VL East \VL 32 \VL 54 \VL 59 \VL 112 \VL 77 \VL 118 \VL 452 \VL \AR
        \VL \null\hskip2em\null \VL {\bf East} \VL 32 \VL 54 \VL 59 \VL 112
\VL 77 \VL 118 \VL 452 \VL \AR
        \VL \VL {\bf Midwest} \VL 31 \VL 68 \VL 68 \VL 120 \VL 63 \VL 173
\VL 523 \VL \AR
        \VL \VL {\bf South} \VL 53 \VL 92 \VL 93 \VL 158 \VL 106 \VL 158
\VL 660 \VL \AR
        \VL \VL {\bf West} \VL 41 \VL 56 \VL 67 \VL 78 \VL 45 \VL 86 \VL
373 \VL \AR
        \DC \DL[8] \DR
        \VL \VL {\bf Total} \VL 157 \VL 270 \VL 287 \VL 468 \VL 291 \VL 535
\VL 2008 \VL \AR
        \HL
    \stoptable
\stoptext

Many Thanks
Uschi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230102/fa3891bb/attachment.htm>

From thangalin at gmail.com  Tue Jan  3 07:38:00 2023
From: thangalin at gmail.com (Thangalin)
Date: Mon, 2 Jan 2023 22:38:00 -0800
Subject: [NTG-context] Download remote SVG images
Message-ID: <CAANrE7phex4KHSW77E68w8mCNBW242MJ_jiArz_m7k5=anLC-Q@mail.gmail.com>

Hi list!

% SOT
\starttext
  \externalfigure[https://upload.wikimedia.org/wikipedia/commons/f/fd/Ghostscript_Tiger.svg]

  \externalfigure[https://upload.wikimedia.org/wikipedia/commons/thumb/f/fd/Ghostscript_Tiger.svg/1024px-Ghostscript_Tiger.svg.png]
\stoptext
% EOT

Is there a way to have ConTeXt download remote SVG images?

Happy New Year!

From texml at fiee.net  Tue Jan  3 08:46:08 2023
From: texml at fiee.net (Henning Hraban Ramm)
Date: Tue, 3 Jan 2023 08:46:08 +0100
Subject: [NTG-context] Download remote SVG images
In-Reply-To: <CAANrE7phex4KHSW77E68w8mCNBW242MJ_jiArz_m7k5=anLC-Q@mail.gmail.com>
References: <CAANrE7phex4KHSW77E68w8mCNBW242MJ_jiArz_m7k5=anLC-Q@mail.gmail.com>
Message-ID: <f352603f-54e7-01cf-dcde-4926e4269fd3@fiee.net>

Am 03.01.23 um 07:38 schrieb Thangalin via ntg-context:
> Hi list!
> 
> % SOT
> \starttext
>    \externalfigure[https://upload.wikimedia.org/wikipedia/commons/f/fd/Ghostscript_Tiger.svg]
> 
>    \externalfigure[https://upload.wikimedia.org/wikipedia/commons/thumb/f/fd/Ghostscript_Tiger.svg/1024px-Ghostscript_Tiger.svg.png]
> \stoptext
> % EOT
> 
> Is there a way to have ConTeXt download remote SVG images?

AFAIK this should work, at least if you have curl installed and the URL 
is not redirected.
You might need [conversion=mp] for the SVG, otherwise Inkscape installed.

But it doesnât work for me, too.

Hraban


From root at ntg.nl  Wed Jan  4 12:01:14 2023
From: root at ntg.nl (Cron Daemon)
Date: Wed,  4 Jan 2023 12:01:14 +0100 (CET)
Subject: [NTG-context] Cron <context@zapf>
 /var/www/aanhet.net/context/bin/cron/context-mirror
Message-ID: <20230104110115.04C7A3803F0@zapf.ntg.nl>

receiving incremental file list
 ./
 ctan.lsr
 document-2.htm
 download-1.htm
 download-2.htm
 logo-ade.png
 logo-cts.png
 logo-pod.png
 rss.xml
 show-fil.pdf
 context/latest/
 context/latest/cont-mpd.zip
 context/latest/cont-ppc.zip
 context/latest/cont-sci.zip
 context/latest/cont-tmf.zip
 context/latest/cont-tst.7z
 context/latest/cont-tst.tar.xz
 context/latest/cont-tst.zip
 general/manuals/
 general/manuals/lowlevel-loops.pdf
 general/manuals/luametatex.pdf
 
 sent 109,300 bytes  received 24,121,459 bytes  2,307,691.33 bytes/sec
 total size is 449,288,830  speedup is 18.54


Running archiver:

New dir: /var/www/aanhet.net/context//htdocs/archives/context-2023-01-04.12
172294866	/var/www/aanhet.net/context//htdocs/archives/context-2023-01-04.12/latest
126745317	/var/www/aanhet.net/context//htdocs/archives/context-2023-01-04.12/current
18956262	/var/www/aanhet.net/context//htdocs/archives/context-2023-01-04.12/alpha
126707516	/var/www/aanhet.net/context//htdocs/archives/context-2023-01-04.12/beta
444708057	/var/www/aanhet.net/context//htdocs/archives/context-2023-01-04.12
444708057	total

From j.hagen at xs4all.nl  Wed Jan  4 12:22:22 2023
From: j.hagen at xs4all.nl (Hans Hagen)
Date: Wed, 4 Jan 2023 12:22:22 +0100
Subject: [NTG-context] lmtx upload
Message-ID: <ea00fbfe-84c3-70a3-e6cc-8aed7789fff9@xs4all.nl>

Hi,

I uploaded the first 2023 lmtx. There are not that many changes, most 
relate to updating manuals. Currently we're looking at the metafun / 
luametafun and lowlevel manuals - adding some accumulated todo's.

Keep in mind that when we update manuals that is is not automatically 
reflected in new pdf's (processing happens outside the tree on temporary 
paths) and only occasionally I push back a pdf (when it looks ok). So, 
manual sources can be more up to date than manual pdfs. If you feel 
something (fundamental and stable) is missing you can let us know here.

We gained some performance over the last month, mostly due to using 
different low level mechanisms (there are some more not yet widely used 
ones). The gain depends on (extreme) usage so quite likely most goes 
unnoticed unless one has many runs. After all, there are no fundamental 
changes in context, which is already reasonable optimized for ages (it's 
kind of a game to make it faster without obscuring the code, which is a 
criterium for rejection).

As usual, (new and old) bugs will be fixed,

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------

From jacobkauffmann at me.com  Wed Jan  4 13:32:49 2023
From: jacobkauffmann at me.com (Jacob Kauffmann)
Date: Wed, 4 Jan 2023 13:32:49 +0100
Subject: [NTG-context] problem with Segoe Ui Symbol as fallback font
Message-ID: <597E88F4-F59B-4B8A-BAC2-EE1B0FFC091E@me.com>

Hi Hraban,

I had a similar problem with math fallbacks (no errors, fallbacks not used) and just found a solution.
Please find a small example below.

I don't understand why we need the line \definefontfamily, but it's necessary for the fallbacks to work.
Also, it stops working when I do \setupbodyfont[mainface,rm].

Cheers,
Jacob

\definefontfallback[cal-fallback][name:modern][uppercasescript,lowercasescript]

\starttypescript[mainface]
  \definetypeface[mainface][rm][serif][palatino][default]
  \definetypeface[mainface][ss][sans] [modern]  [default][rscale=1.075]
  \definetypeface[mainface][tt][mono] [modern]  [default][rscale=1.075]
  \definetypeface[mainface][mm][math] [palatino][default][fallbacks=cal-fallback]
\stoptypescript

\definefontfamily[mainface][math][]
\usetypescript[mainface]
\setupbodyfont[mainface]

\starttext
{\rm \input ward }

{\ss \input ward }

{\tt \input ward }

Should be Palatino: $x + y$

Should be Latin Modern: ${\cal I}$ $\mathcal{I}$ $\mathscr{I}$
\stoptext
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230104/911c8ae7/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: Message signed with OpenPGP
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230104/911c8ae7/attachment.sig>

From jacobkauffmann at me.com  Wed Jan  4 14:29:37 2023
From: jacobkauffmann at me.com (Jacob Kauffmann)
Date: Wed, 4 Jan 2023 14:29:37 +0100
Subject: [NTG-context] problem with Segoe Ui Symbol as fallback font
In-Reply-To: <597E88F4-F59B-4B8A-BAC2-EE1B0FFC091E@me.com>
References: <597E88F4-F59B-4B8A-BAC2-EE1B0FFC091E@me.com>
Message-ID: <35ED7A03-E18D-4122-A4BA-B999F7D846D2@me.com>

The problem is that now that \bf, \it and so on stopped working outside math mode.
A workaround is to add \rm after \starttext.

Maybe the developers can shed some light :)
Please find MWE below.

Cheers,
Jacob

\definefontfallback[cal-fallback][name:modern][uppercasescript,lowercasescript]

\starttypescript[mainface]
  \definetypeface[mainface][rm][serif][pagella][default]
  \definetypeface[mainface][ss][sans] [modern]  [default][rscale=1.075]
  \definetypeface[mainface][tt][mono] [modern]  [default][rscale=1.075]
  \definetypeface[mainface][mm][math] [pagella][default][fallbacks=cal-fallback]
\stoptypescript

\definefontfamily[mainface][mm][mainface]
\definefontfamily[mainface][rm][pagella][bf=style:bold]
\usetypescript[mainface]
\setupbodyfont[mainface]

\startbuffer
The quick brown fox jumps over the lazy dog
\stopbuffer

\starttext
% \rm % works
{\rm \getbuffer}\par
{\ss \getbuffer}\par
{\tt \getbuffer}\par
{\bf \getbuffer}\par
{\it \getbuffer}\par
{\sl \getbuffer}\par
{\bi \getbuffer}\par
{\bs \getbuffer}\par
{\sc \getbuffer}

Should be Palatino: $x + y$ $f({\bi x})$

Should be Latin Modern: ${\cal I}$ $\mathcal{I}$ $\mathscr{I}$
\stoptext
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230104/1dae7893/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: Message signed with OpenPGP
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230104/1dae7893/attachment.sig>

From texml at fiee.net  Wed Jan  4 15:49:15 2023
From: texml at fiee.net (Henning Hraban Ramm)
Date: Wed, 4 Jan 2023 15:49:15 +0100
Subject: [NTG-context] problem with Segoe Ui Symbol as fallback font
In-Reply-To: <35ED7A03-E18D-4122-A4BA-B999F7D846D2@me.com>
References: <597E88F4-F59B-4B8A-BAC2-EE1B0FFC091E@me.com>
 <35ED7A03-E18D-4122-A4BA-B999F7D846D2@me.com>
Message-ID: <07778983-99bf-c950-fc6d-0bd55f594ac2@fiee.net>

Am 04.01.23 um 14:29 schrieb Jacob Kauffmann via ntg-context:
> The problem is that now that \bf, \it and so on stopped working outside 
> math mode.
> A workaround is to add \rm after \starttext.

> \setupbodyfont[mainface]

Did you try \setupbodyfont[mainface,rm] ?

Hraban

From j.hagen at freedom.nl  Wed Jan  4 15:49:46 2023
From: j.hagen at freedom.nl (Hans Hagen)
Date: Wed, 4 Jan 2023 15:49:46 +0100
Subject: [NTG-context] problem with Segoe Ui Symbol as fallback font
In-Reply-To: <35ED7A03-E18D-4122-A4BA-B999F7D846D2@me.com>
References: <597E88F4-F59B-4B8A-BAC2-EE1B0FFC091E@me.com>
 <35ED7A03-E18D-4122-A4BA-B999F7D846D2@me.com>
Message-ID: <2d8cbea9-0446-88bc-9ab5-a64a9a629a70@freedom.nl>

On 1/4/2023 2:29 PM, Jacob Kauffmann via ntg-context wrote:
> The problem is that now that \bf, \it and so on stopped working outside 
> math mode.
> A workaround is to add \rm after \starttext.
> 
> Maybe the developers can shed some light :)
\definefontfeature[mathextra][moderntocalligraphic=yes]

you can peek inti pagella-math.lfg and common-math.lfg

fallbacks in math are sort of gone in lmtx as it's only asking for 
troubles but we can overlay from other fonts in lfg files

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From fabrice1.couvreur at gmail.com  Wed Jan  4 18:35:18 2023
From: fabrice1.couvreur at gmail.com (Fabrice Couvreur)
Date: Wed, 4 Jan 2023 17:35:18 +0000
Subject: [NTG-context] Problem with latest version ?
Message-ID: <CACyK-eohqmL5Em_Aw1SLCuQ7tr8RF6g85Q9=N1Rg2nFLQp1mkw@mail.gmail.com>

Hi,
I just installed the latest version of LMTX and also updated to texlive
2022 and I get this error message which was not the case before.
Thank you.
Fabrice


Running `lmtX' on `complexes_2' with
``/home/fabrice/LMTX/tex/texmf-linux-64/bin/mtxrun --autogenerate --script
context --autopdf --purgeall complexes_2''

resolvers       | formats | executing runner 'run luametatex format':
/home/fabrice/LMTX/tex/texmf-linux-64/bin/luametatex
--jobname="./complexes_2.tex"
--fmt=/home/fabrice/LMTX/tex/texmf-cache/luametatex-cache/context/5fe67e0bfe781ce0dde776fb1556f32e/formats/luametatex/cont-en.fmt
--lua=/home/fabrice/LMTX/tex/texmf-cache/luametatex-cache/context/5fe67e0bfe781ce0dde776fb1556f32e/formats/luametatex/cont-en.lui
 --c:autopdf --c:currentrun=1 --c:fulljobname="./complexes_2.tex"
--c:input="./complexes_2.tex" --c:kindofrun=1 --c:maxnofruns=9 --c:purgeall
--c:texmfbinpath="/home/fabrice/LMTX/tex/texmf-linux-64/bin"
system          >
system          > ConTeXt  ver: 2023.01.04 11:35 LMTX  fmt: 2023.1.4  int:
english/english
system          >
system          > 'cont-new.mkxl' loaded
open source     > level 1, order 1, name
'/home/fabrice/LMTX/tex/texmf-context/tex/context/base/mkxl/cont-new.mkxl'
system          > beware: some patches loaded from cont-new.mkiv
close source    > level 1, order 1, name
'/home/fabrice/LMTX/tex/texmf-context/tex/context/base/mkxl/cont-new.mkxl'
system          > files > jobname './complexes_2', input
'./complexes_2.tex', result './complexes_2'
fonts           > latin modern fonts are not preloaded
languages       > language 'en' is active
open source     > level 1, order 2, name './complexes_2.tex'
open source     > level 2, order 3, name 'exercises.mkiv'
open source     > level 3, order 4, name 'terminale-modules.tex'
open source     > level 4, order 5, name
'/home/fabrice/LMTX/tex/texmf-context/tex/context/base/mkiv/symb-imp-mvs.mkiv'
close source    > level 4, order 5, name
'/home/fabrice/LMTX/tex/texmf-context/tex/context/base/mkiv/symb-imp-mvs.mkiv'
fonts           > symbols > library 'mvs' loaded
open source     > level 4, order 6, name
'/home/fabrice/LMTX/tex/texmf-context/tex/context/base/mkiv/colo-imp-xwi.mkiv'
close source    > level 4, order 6, name
'/home/fabrice/LMTX/tex/texmf-context/tex/context/base/mkiv/colo-imp-xwi.mkiv'
colors          > system 'xwi' is loaded
modules         > 'tikz' is loaded
open source     > level 4, order 7, name
'/home/fabrice/LMTX/tex/texmf-context/tex/context/modules/mkxl/m-tikz.mkxl'
open source     > level 5, order 8, name 'pgfutil-common.tex'
open source     > level 6, order 9, name 'pgfutil-common-lists.tex'
close source    > level 6, order 9, name 'pgfutil-common-lists.tex'
close source    > level 5, order 9, name 'pgfutil-common.tex'
open source     > level 5, order 10, name 'pgfutil-context.def'
close source    > level 5, order 10, name 'pgfutil-context.def'
open source     > level 5, order 11, name 'pgfrcs.code.tex'
close source    > level 5, order 11, name 'pgfrcs.code.tex'
open source     > level 5, order 12, name 'pgfsys.code.tex'
open source     > level 6, order 13, name 'pgfkeys.code.tex'
open source     > level 7, order 14, name 'pgfkeysfiltered.code.tex'
close source    > level 7, order 14, name 'pgfkeysfiltered.code.tex'
close source    > level 6, order 14, name 'pgfkeys.code.tex'
open source     > level 6, order 15, name 'pgf.cfg'
close source    > level 6, order 15, name 'pgf.cfg'
Driver file for pgf: pgfsys-pdftex.def

open source     > level 6, order 16, name 'pgfsys-pdftex.def'
open source     > level 7, order 17, name 'pgfsys-common-pdf.def'
close source    > level 7, order 17, name 'pgfsys-common-pdf.def'
close source    > level 6, order 17, name 'pgfsys-pdftex.def'
close source    > level 5, order 17, name 'pgfsys.code.tex'
open source     > level 5, order 18, name 'pgfkeys.code.tex'
close source    > level 5, order 18, name 'pgfkeys.code.tex'
open source     > level 5, order 19, name 'pgfsyssoftpath.code.tex'
close source    > level 5, order 19, name 'pgfsyssoftpath.code.tex'
open source     > level 5, order 20, name 'pgfsysprotocol.code.tex'
close source    > level 5, order 20, name 'pgfsysprotocol.code.tex'
open source     > level 5, order 21, name 'pgfcore.code.tex'
open source     > level 6, order 22, name 'pgfmath.code.tex'
open source     > level 7, order 23, name 'pgfmathcalc.code.tex'
open source     > level 8, order 24, name 'pgfmathutil.code.tex'
fonts           > beware: no fonts are loaded yet, using 'lm mono' in box
close source    > level 8, order 24, name 'pgfmathutil.code.tex'
open source     > level 8, order 25, name 'pgfmathparser.code.tex'
close source    > level 8, order 25, name 'pgfmathparser.code.tex'
open source     > level 8, order 26, name 'pgfmathfunctions.code.tex'
open source     > level 9, order 27, name 'pgfmathfunctions.basic.code.tex'
close source    > level 9, order 27, name 'pgfmathfunctions.basic.code.tex'
open source     > level 9, order 28, name
'pgfmathfunctions.trigonometric.code.tex'
close source    > level 9, order 28, name
'pgfmathfunctions.trigonometric.code.tex'
open source     > level 9, order 29, name 'pgfmathfunctions.random.code.tex'
close source    > level 9, order 29, name 'pgfmathfunctions.random.code.tex'
open source     > level 9, order 30, name
'pgfmathfunctions.comparison.code.tex'
close source    > level 9, order 30, name
'pgfmathfunctions.comparison.code.tex'
open source     > level 9, order 31, name 'pgfmathfunctions.base.code.tex'
close source    > level 9, order 31, name 'pgfmathfunctions.base.code.tex'
open source     > level 9, order 32, name 'pgfmathfunctions.round.code.tex'
close source    > level 9, order 32, name 'pgfmathfunctions.round.code.tex'
open source     > level 9, order 33, name 'pgfmathfunctions.misc.code.tex'
close source    > level 9, order 33, name 'pgfmathfunctions.misc.code.tex'
open source     > level 9, order 34, name
'pgfmathfunctions.integerarithmetics.code.tex'
close source    > level 9, order 34, name
'pgfmathfunctions.integerarithmetics.code.tex'
close source    > level 8, order 34, name 'pgfmathfunctions.code.tex'
close source    > level 7, order 34, name 'pgfmathcalc.code.tex'
open source     > level 7, order 35, name 'pgfmathfloat.code.tex'
close source    > level 7, order 35, name 'pgfmathfloat.code.tex'
close source    > level 6, order 35, name 'pgfmath.code.tex'
open source     > level 6, order 36, name 'pgfcorepoints.code.tex'
close source    > level 6, order 36, name 'pgfcorepoints.code.tex'
open source     > level 6, order 37, name 'pgfcorepathconstruct.code.tex'
close source    > level 6, order 37, name 'pgfcorepathconstruct.code.tex'
open source     > level 6, order 38, name 'pgfcorepathusage.code.tex'
close source    > level 6, order 38, name 'pgfcorepathusage.code.tex'
open source     > level 6, order 39, name 'pgfcorescopes.code.tex'
close source    > level 6, order 39, name 'pgfcorescopes.code.tex'
open source     > level 6, order 40, name 'pgfcoregraphicstate.code.tex'
close source    > level 6, order 40, name 'pgfcoregraphicstate.code.tex'
open source     > level 6, order 41, name 'pgfcoretransformations.code.tex'
close source    > level 6, order 41, name 'pgfcoretransformations.code.tex'
open source     > level 6, order 42, name 'pgfcorequick.code.tex'
close source    > level 6, order 42, name 'pgfcorequick.code.tex'
open source     > level 6, order 43, name 'pgfcoreobjects.code.tex'
close source    > level 6, order 43, name 'pgfcoreobjects.code.tex'
open source     > level 6, order 44, name 'pgfcorepathprocessing.code.tex'
close source    > level 6, order 44, name 'pgfcorepathprocessing.code.tex'
open source     > level 6, order 45, name 'pgfcorearrows.code.tex'
close source    > level 6, order 45, name 'pgfcorearrows.code.tex'
open source     > level 6, order 46, name 'pgfcoreshade.code.tex'
close source    > level 6, order 46, name 'pgfcoreshade.code.tex'
open source     > level 6, order 47, name 'pgfcoreimage.code.tex'
open source     > level 7, order 48, name 'pgfcoreexternal.code.tex'
close source    > level 7, order 48, name 'pgfcoreexternal.code.tex'
close source    > level 6, order 48, name 'pgfcoreimage.code.tex'
open source     > level 6, order 49, name 'pgfcorelayers.code.tex'
close source    > level 6, order 49, name 'pgfcorelayers.code.tex'
open source     > level 6, order 50, name 'pgfcoretransparency.code.tex'
close source    > level 6, order 50, name 'pgfcoretransparency.code.tex'
open source     > level 6, order 51, name 'pgfcorepatterns.code.tex'
close source    > level 6, order 51, name 'pgfcorepatterns.code.tex'
open source     > level 6, order 52, name 'pgfcorerdf.code.tex'
close source    > level 6, order 52, name 'pgfcorerdf.code.tex'
close source    > level 5, order 52, name 'pgfcore.code.tex'
open source     > level 5, order 53, name 'pgffor.code.tex'
open source     > level 6, order 54, name 'pgfmath.code.tex'
close source    > level 6, order 54, name 'pgfmath.code.tex'
close source    > level 5, order 54, name 'pgffor.code.tex'
open source     > level 5, order 55, name 'pgfmoduleplot.code.tex'
close source    > level 5, order 55, name 'pgfmoduleplot.code.tex'
open source     > level 5, order 56, name 'tikz.code.tex'
open source     > level 6, order 57, name 'pgflibraryplothandlers.code.tex'
close source    > level 6, order 57, name 'pgflibraryplothandlers.code.tex'
open source     > level 6, order 58, name 'pgfmodulematrix.code.tex'
open source     > level 7, order 59, name 'pgfmoduleshapes.code.tex'
close source    > level 7, order 59, name 'pgfmoduleshapes.code.tex'
close source    > level 6, order 59, name 'pgfmodulematrix.code.tex'
open source     > level 6, order 60, name 'tikzlibrarytopaths.code.tex'
close source    > level 6, order 60, name 'tikzlibrarytopaths.code.tex'
close source    > level 5, order 60, name 'tikz.code.tex'
open source     > level 5, order 61, name 'pgfmoduleplot.code.tex'
close source    > level 5, order 61, name 'pgfmoduleplot.code.tex'
open source     > level 5, order 62, name 'pgfmoduledecorations.code.tex'
close source    > level 5, order 62, name 'pgfmoduledecorations.code.tex'
close source    > level 4, order 62, name
'/home/fabrice/LMTX/tex/texmf-context/tex/context/modules/mkxl/m-tikz.mkxl'
modules         > 'pgfplots' is not found
tex error       > tex error on line 8 in file terminale-modules.tex:
Control sequence expected instead of undefined

<recently read>
    \usepgfplotslibrary
<line 9.8>
      \usepgfplotslibrary
    [fillbetween]

 1
 2     \startenvironment[terminale-modules]
 3
 4       \usesymbols[mvs]
 5       \usecolors[xwi]
 6       \usemodule[tikz]
 7       \usemodule[pgfplots]
 8 >>    \usepgfplotslibrary[fillbetween]
 9       \pgfplotsset{compat=newest}
10       \usetikzlibrary[arrows]
11       \usetikzlibrary[automata]
12       \usetikzlibrary[calc]
13       \usetikzlibrary[backgrounds]
14       \usetikzlibrary[intersections]
15       \usetikzlibrary[patterns]
16       \usetikzlibrary[bending]
17       \usetikzlibrary[arrows.meta]
18       \usetikzlibrary[shapes.geometric]
You injected something that confused the parser, maybe by using some Lua
call.
mtx-context     | fatal error: return code: 1

TeX Output exited abnormally with code 1 at Wed Jan  4 17:27:20
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230104/5ddd8f39/attachment-0001.htm>

From thomas.schmitz at uni-bonn.de  Wed Jan  4 17:50:52 2023
From: thomas.schmitz at uni-bonn.de (Thomas A. Schmitz)
Date: Wed, 4 Jan 2023 17:50:52 +0100
Subject: [NTG-context] TUG 2023
Message-ID: <509a5ccc-c9a3-cce2-765a-35c977db8bfd@uni-bonn.de>

Hi everybody,

an excellent year 2023 to all of you - I hesitate to say "it can only 
get better from 2022." That's what we thought last year, and boy were we 
wrong and did it get worse... Let's hope that this year will be more 
peaceful and less pandemic...

But to my topic: the official announcement for TUG 2023 is out. It will 
be in Bonn, Germany, in a building literally (literally!) just across 
the street from my university office. So I feel somewhat motivated to go 
and give a talk on ConTeXt and spread the word. Since I'm a simple user 
and no developer, I'm a bit hesitant though: is any of the developers 
going (Hans?)? Since the public will be 99 % LaTeX-centric: I had the 
idea of showing (off) how ConTeXt can typeset xml and produce different 
outputs from the same source (similar to what I've done in Bassenge in 
2019). Those of you who have been to TUG conferences before: would that 
be of interest even to people who know little to nothing about ConTeXt 
yet are familiar with other forms of TeX? I guess I just what to get a 
feeling what to expect at a TUG conference.

All best wishes

Thomas

From fabrice1.couvreur at gmail.com  Wed Jan  4 19:00:24 2023
From: fabrice1.couvreur at gmail.com (Fabrice Couvreur)
Date: Wed, 4 Jan 2023 18:00:24 +0000
Subject: [NTG-context] Problem with latest version ?
In-Reply-To: <CACyK-eohqmL5Em_Aw1SLCuQ7tr8RF6g85Q9=N1Rg2nFLQp1mkw@mail.gmail.com>
References: <CACyK-eohqmL5Em_Aw1SLCuQ7tr8RF6g85Q9=N1Rg2nFLQp1mkw@mail.gmail.com>
Message-ID: <CACyK-erzNxfz9V=PSbNRKd-8+iOvPn1k64qE0PTus4tVN1Z-RA@mail.gmail.com>

The problem seems to come from pgfplots ...

Le mer. 4 janv. 2023 Ã  17:35, Fabrice Couvreur <fabrice1.couvreur at gmail.com>
a Ã©crit :

>
> Hi,
> I just installed the latest version of LMTX and also updated to texlive
> 2022 and I get this error message which was not the case before.
> Thank you.
> Fabrice
>
>
> Running `lmtX' on `complexes_2' with
> ``/home/fabrice/LMTX/tex/texmf-linux-64/bin/mtxrun --autogenerate --script
> context --autopdf --purgeall complexes_2''
>
> resolvers       | formats | executing runner 'run luametatex format':
> /home/fabrice/LMTX/tex/texmf-linux-64/bin/luametatex
> --jobname="./complexes_2.tex"
> --fmt=/home/fabrice/LMTX/tex/texmf-cache/luametatex-cache/context/5fe67e0bfe781ce0dde776fb1556f32e/formats/luametatex/cont-en.fmt
> --lua=/home/fabrice/LMTX/tex/texmf-cache/luametatex-cache/context/5fe67e0bfe781ce0dde776fb1556f32e/formats/luametatex/cont-en.lui
>  --c:autopdf --c:currentrun=1 --c:fulljobname="./complexes_2.tex"
> --c:input="./complexes_2.tex" --c:kindofrun=1 --c:maxnofruns=9 --c:purgeall
> --c:texmfbinpath="/home/fabrice/LMTX/tex/texmf-linux-64/bin"
> system          >
> system          > ConTeXt  ver: 2023.01.04 11:35 LMTX  fmt: 2023.1.4  int:
> english/english
> system          >
> system          > 'cont-new.mkxl' loaded
> open source     > level 1, order 1, name
> '/home/fabrice/LMTX/tex/texmf-context/tex/context/base/mkxl/cont-new.mkxl'
> system          > beware: some patches loaded from cont-new.mkiv
> close source    > level 1, order 1, name
> '/home/fabrice/LMTX/tex/texmf-context/tex/context/base/mkxl/cont-new.mkxl'
> system          > files > jobname './complexes_2', input
> './complexes_2.tex', result './complexes_2'
> fonts           > latin modern fonts are not preloaded
> languages       > language 'en' is active
> open source     > level 1, order 2, name './complexes_2.tex'
> open source     > level 2, order 3, name 'exercises.mkiv'
> open source     > level 3, order 4, name 'terminale-modules.tex'
> open source     > level 4, order 5, name
> '/home/fabrice/LMTX/tex/texmf-context/tex/context/base/mkiv/symb-imp-mvs.mkiv'
> close source    > level 4, order 5, name
> '/home/fabrice/LMTX/tex/texmf-context/tex/context/base/mkiv/symb-imp-mvs.mkiv'
> fonts           > symbols > library 'mvs' loaded
> open source     > level 4, order 6, name
> '/home/fabrice/LMTX/tex/texmf-context/tex/context/base/mkiv/colo-imp-xwi.mkiv'
> close source    > level 4, order 6, name
> '/home/fabrice/LMTX/tex/texmf-context/tex/context/base/mkiv/colo-imp-xwi.mkiv'
> colors          > system 'xwi' is loaded
> modules         > 'tikz' is loaded
> open source     > level 4, order 7, name
> '/home/fabrice/LMTX/tex/texmf-context/tex/context/modules/mkxl/m-tikz.mkxl'
> open source     > level 5, order 8, name 'pgfutil-common.tex'
> open source     > level 6, order 9, name 'pgfutil-common-lists.tex'
> close source    > level 6, order 9, name 'pgfutil-common-lists.tex'
> close source    > level 5, order 9, name 'pgfutil-common.tex'
> open source     > level 5, order 10, name 'pgfutil-context.def'
> close source    > level 5, order 10, name 'pgfutil-context.def'
> open source     > level 5, order 11, name 'pgfrcs.code.tex'
> close source    > level 5, order 11, name 'pgfrcs.code.tex'
> open source     > level 5, order 12, name 'pgfsys.code.tex'
> open source     > level 6, order 13, name 'pgfkeys.code.tex'
> open source     > level 7, order 14, name 'pgfkeysfiltered.code.tex'
> close source    > level 7, order 14, name 'pgfkeysfiltered.code.tex'
> close source    > level 6, order 14, name 'pgfkeys.code.tex'
> open source     > level 6, order 15, name 'pgf.cfg'
> close source    > level 6, order 15, name 'pgf.cfg'
> Driver file for pgf: pgfsys-pdftex.def
>
> open source     > level 6, order 16, name 'pgfsys-pdftex.def'
> open source     > level 7, order 17, name 'pgfsys-common-pdf.def'
> close source    > level 7, order 17, name 'pgfsys-common-pdf.def'
> close source    > level 6, order 17, name 'pgfsys-pdftex.def'
> close source    > level 5, order 17, name 'pgfsys.code.tex'
> open source     > level 5, order 18, name 'pgfkeys.code.tex'
> close source    > level 5, order 18, name 'pgfkeys.code.tex'
> open source     > level 5, order 19, name 'pgfsyssoftpath.code.tex'
> close source    > level 5, order 19, name 'pgfsyssoftpath.code.tex'
> open source     > level 5, order 20, name 'pgfsysprotocol.code.tex'
> close source    > level 5, order 20, name 'pgfsysprotocol.code.tex'
> open source     > level 5, order 21, name 'pgfcore.code.tex'
> open source     > level 6, order 22, name 'pgfmath.code.tex'
> open source     > level 7, order 23, name 'pgfmathcalc.code.tex'
> open source     > level 8, order 24, name 'pgfmathutil.code.tex'
> fonts           > beware: no fonts are loaded yet, using 'lm mono' in box
> close source    > level 8, order 24, name 'pgfmathutil.code.tex'
> open source     > level 8, order 25, name 'pgfmathparser.code.tex'
> close source    > level 8, order 25, name 'pgfmathparser.code.tex'
> open source     > level 8, order 26, name 'pgfmathfunctions.code.tex'
> open source     > level 9, order 27, name 'pgfmathfunctions.basic.code.tex'
> close source    > level 9, order 27, name 'pgfmathfunctions.basic.code.tex'
> open source     > level 9, order 28, name
> 'pgfmathfunctions.trigonometric.code.tex'
> close source    > level 9, order 28, name
> 'pgfmathfunctions.trigonometric.code.tex'
> open source     > level 9, order 29, name
> 'pgfmathfunctions.random.code.tex'
> close source    > level 9, order 29, name
> 'pgfmathfunctions.random.code.tex'
> open source     > level 9, order 30, name
> 'pgfmathfunctions.comparison.code.tex'
> close source    > level 9, order 30, name
> 'pgfmathfunctions.comparison.code.tex'
> open source     > level 9, order 31, name 'pgfmathfunctions.base.code.tex'
> close source    > level 9, order 31, name 'pgfmathfunctions.base.code.tex'
> open source     > level 9, order 32, name 'pgfmathfunctions.round.code.tex'
> close source    > level 9, order 32, name 'pgfmathfunctions.round.code.tex'
> open source     > level 9, order 33, name 'pgfmathfunctions.misc.code.tex'
> close source    > level 9, order 33, name 'pgfmathfunctions.misc.code.tex'
> open source     > level 9, order 34, name
> 'pgfmathfunctions.integerarithmetics.code.tex'
> close source    > level 9, order 34, name
> 'pgfmathfunctions.integerarithmetics.code.tex'
> close source    > level 8, order 34, name 'pgfmathfunctions.code.tex'
> close source    > level 7, order 34, name 'pgfmathcalc.code.tex'
> open source     > level 7, order 35, name 'pgfmathfloat.code.tex'
> close source    > level 7, order 35, name 'pgfmathfloat.code.tex'
> close source    > level 6, order 35, name 'pgfmath.code.tex'
> open source     > level 6, order 36, name 'pgfcorepoints.code.tex'
> close source    > level 6, order 36, name 'pgfcorepoints.code.tex'
> open source     > level 6, order 37, name 'pgfcorepathconstruct.code.tex'
> close source    > level 6, order 37, name 'pgfcorepathconstruct.code.tex'
> open source     > level 6, order 38, name 'pgfcorepathusage.code.tex'
> close source    > level 6, order 38, name 'pgfcorepathusage.code.tex'
> open source     > level 6, order 39, name 'pgfcorescopes.code.tex'
> close source    > level 6, order 39, name 'pgfcorescopes.code.tex'
> open source     > level 6, order 40, name 'pgfcoregraphicstate.code.tex'
> close source    > level 6, order 40, name 'pgfcoregraphicstate.code.tex'
> open source     > level 6, order 41, name 'pgfcoretransformations.code.tex'
> close source    > level 6, order 41, name 'pgfcoretransformations.code.tex'
> open source     > level 6, order 42, name 'pgfcorequick.code.tex'
> close source    > level 6, order 42, name 'pgfcorequick.code.tex'
> open source     > level 6, order 43, name 'pgfcoreobjects.code.tex'
> close source    > level 6, order 43, name 'pgfcoreobjects.code.tex'
> open source     > level 6, order 44, name 'pgfcorepathprocessing.code.tex'
> close source    > level 6, order 44, name 'pgfcorepathprocessing.code.tex'
> open source     > level 6, order 45, name 'pgfcorearrows.code.tex'
> close source    > level 6, order 45, name 'pgfcorearrows.code.tex'
> open source     > level 6, order 46, name 'pgfcoreshade.code.tex'
> close source    > level 6, order 46, name 'pgfcoreshade.code.tex'
> open source     > level 6, order 47, name 'pgfcoreimage.code.tex'
> open source     > level 7, order 48, name 'pgfcoreexternal.code.tex'
> close source    > level 7, order 48, name 'pgfcoreexternal.code.tex'
> close source    > level 6, order 48, name 'pgfcoreimage.code.tex'
> open source     > level 6, order 49, name 'pgfcorelayers.code.tex'
> close source    > level 6, order 49, name 'pgfcorelayers.code.tex'
> open source     > level 6, order 50, name 'pgfcoretransparency.code.tex'
> close source    > level 6, order 50, name 'pgfcoretransparency.code.tex'
> open source     > level 6, order 51, name 'pgfcorepatterns.code.tex'
> close source    > level 6, order 51, name 'pgfcorepatterns.code.tex'
> open source     > level 6, order 52, name 'pgfcorerdf.code.tex'
> close source    > level 6, order 52, name 'pgfcorerdf.code.tex'
> close source    > level 5, order 52, name 'pgfcore.code.tex'
> open source     > level 5, order 53, name 'pgffor.code.tex'
> open source     > level 6, order 54, name 'pgfmath.code.tex'
> close source    > level 6, order 54, name 'pgfmath.code.tex'
> close source    > level 5, order 54, name 'pgffor.code.tex'
> open source     > level 5, order 55, name 'pgfmoduleplot.code.tex'
> close source    > level 5, order 55, name 'pgfmoduleplot.code.tex'
> open source     > level 5, order 56, name 'tikz.code.tex'
> open source     > level 6, order 57, name 'pgflibraryplothandlers.code.tex'
> close source    > level 6, order 57, name 'pgflibraryplothandlers.code.tex'
> open source     > level 6, order 58, name 'pgfmodulematrix.code.tex'
> open source     > level 7, order 59, name 'pgfmoduleshapes.code.tex'
> close source    > level 7, order 59, name 'pgfmoduleshapes.code.tex'
> close source    > level 6, order 59, name 'pgfmodulematrix.code.tex'
> open source     > level 6, order 60, name 'tikzlibrarytopaths.code.tex'
> close source    > level 6, order 60, name 'tikzlibrarytopaths.code.tex'
> close source    > level 5, order 60, name 'tikz.code.tex'
> open source     > level 5, order 61, name 'pgfmoduleplot.code.tex'
> close source    > level 5, order 61, name 'pgfmoduleplot.code.tex'
> open source     > level 5, order 62, name 'pgfmoduledecorations.code.tex'
> close source    > level 5, order 62, name 'pgfmoduledecorations.code.tex'
> close source    > level 4, order 62, name
> '/home/fabrice/LMTX/tex/texmf-context/tex/context/modules/mkxl/m-tikz.mkxl'
> modules         > 'pgfplots' is not found
> tex error       > tex error on line 8 in file terminale-modules.tex:
> Control sequence expected instead of undefined
>
> <recently read>
>     \usepgfplotslibrary
> <line 9.8>
>       \usepgfplotslibrary
>     [fillbetween]
>
>  1
>  2     \startenvironment[terminale-modules]
>  3
>  4       \usesymbols[mvs]
>  5       \usecolors[xwi]
>  6       \usemodule[tikz]
>  7       \usemodule[pgfplots]
>  8 >>    \usepgfplotslibrary[fillbetween]
>  9       \pgfplotsset{compat=newest}
> 10       \usetikzlibrary[arrows]
> 11       \usetikzlibrary[automata]
> 12       \usetikzlibrary[calc]
> 13       \usetikzlibrary[backgrounds]
> 14       \usetikzlibrary[intersections]
> 15       \usetikzlibrary[patterns]
> 16       \usetikzlibrary[bending]
> 17       \usetikzlibrary[arrows.meta]
> 18       \usetikzlibrary[shapes.geometric]
> You injected something that confused the parser, maybe by using some Lua
> call.
> mtx-context     | fatal error: return code: 1
>
> TeX Output exited abnormally with code 1 at Wed Jan  4 17:27:20
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230104/a6d4d5db/attachment-0001.htm>

From texml at fiee.net  Wed Jan  4 19:04:11 2023
From: texml at fiee.net (Henning Hraban Ramm)
Date: Wed, 4 Jan 2023 19:04:11 +0100
Subject: [NTG-context] TUG 2023
In-Reply-To: <509a5ccc-c9a3-cce2-765a-35c977db8bfd@uni-bonn.de>
References: <509a5ccc-c9a3-cce2-765a-35c977db8bfd@uni-bonn.de>
Message-ID: <bbb23708-394e-03f0-1d5f-860b2aac0d1f@fiee.net>

Hi Thomas,

Am 04.01.23 um 17:50 schrieb Thomas A. Schmitz via ntg-context:
> an excellent year 2023 to all of you...

The same to you!

> is any of the developers going (Hans?)?

Iâm not a dev but Iâll be there.

> Since the public will be 99 % LaTeX-centric: I had the 
> idea of showing (off) how ConTeXt can typeset xml and produce different 
> outputs from the same source (similar to what I've done in Bassenge in 
> 2019). Those of you who have been to TUG conferences before: would that 
> be of interest even to people who know little to nothing about ConTeXt 
> yet are familiar with other forms of TeX? I guess I just what to get a 
> feeling what to expect at a TUG conference.

Iâve never been to a TUG conference, but itâs also a DANTE conference, 
and I wouldnât hesitate to talk about ConTeXt â your example is a good 
one to get people interested, I think.

Iâll probably show how I make our architectural guides for Bonn â I 
suggested to have a guided tour to one of the HICOG settlements (that 
were built for the American forces and their German employees) with the 
group thatâs behind the guides (Werkstatt Baukultur Bonn).

Since Iâll be there on company time (Iâm now working for my former main 
customer), Iâll probably also help presenting our LaTeX3-based 
documentation workflow.

Hraban

From texml at fiee.net  Wed Jan  4 19:05:54 2023
From: texml at fiee.net (Henning Hraban Ramm)
Date: Wed, 4 Jan 2023 19:05:54 +0100
Subject: [NTG-context] Problem with latest version ?
In-Reply-To: <CACyK-erzNxfz9V=PSbNRKd-8+iOvPn1k64qE0PTus4tVN1Z-RA@mail.gmail.com>
References: <CACyK-eohqmL5Em_Aw1SLCuQ7tr8RF6g85Q9=N1Rg2nFLQp1mkw@mail.gmail.com>
 <CACyK-erzNxfz9V=PSbNRKd-8+iOvPn1k64qE0PTus4tVN1Z-RA@mail.gmail.com>
Message-ID: <0bb7909d-fa21-69a5-0fb8-a43b7ad0a46a@fiee.net>

Am 04.01.23 um 19:00 schrieb Fabrice Couvreur via ntg-context:
> The problem seems to come from pgfplots ...

There was a message about the same by Gavin and an answer by Hans on 
2022-12-30. Maybe the fix didnât make it into the latest upload.

Hraban


From joseph.wright at morningstar2.co.uk  Wed Jan  4 19:10:25 2023
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 4 Jan 2023 18:10:25 +0000
Subject: [NTG-context] TUG 2023
In-Reply-To: <509a5ccc-c9a3-cce2-765a-35c977db8bfd@uni-bonn.de>
References: <509a5ccc-c9a3-cce2-765a-35c977db8bfd@uni-bonn.de>
Message-ID: <c67f017f-b435-3ed5-694c-171853478fed@morningstar2.co.uk>

On 04/01/2023 16:50, Thomas A. Schmitz via ntg-context wrote:
> Hi everybody,
> 
> an excellent year 2023 to all of you - I hesitate to say "it can only 
> get better from 2022." That's what we thought last year, and boy were we 
> wrong and did it get worse... Let's hope that this year will be more 
> peaceful and less pandemic...
> 
> But to my topic: the official announcement for TUG 2023 is out. It will 
> be in Bonn, Germany, in a building literally (literally!) just across 
> the street from my university office. So I feel somewhat motivated to go 
> and give a talk on ConTeXt and spread the word. Since I'm a simple user 
> and no developer, I'm a bit hesitant though: is any of the developers 
> going (Hans?)? Since the public will be 99 % LaTeX-centric

I think you need not be afraid there: there will be a decent amount of 
generic stuff and a good number of plain TeX experts, I suspect. Yes, 
LaTeX tends to be the most popular TeX flavour in the talks, but I think 
overall it's much more varied than you are imagining!

Joseph


From ConTeXt at rik.users.panix.com  Wed Jan  4 23:10:58 2023
From: ConTeXt at rik.users.panix.com (Rik Kabel)
Date: Wed, 4 Jan 2023 17:10:58 -0500
Subject: [NTG-context] \autoinsertedspace fails
In-Reply-To: <86830236-f8d8-cbdd-ff24-d14f9a35f90e@rik.users.panix.com>
References: <86830236-f8d8-cbdd-ff24-d14f9a35f90e@rik.users.panix.com>
Message-ID: <44990e16-0a82-ee19-abed-8b588ac42b8d@rik.users.panix.com>

No change with the latest (2023.01.04).

Is this a problem with what I am doing, or a bug?

-- 
Rik

On 2022-12-29 19:12, Rik Kabel via ntg-context wrote:
>
> Happy New Year all!
>
> Following up on the problem with \autoinsertnextspace 
> (https://mailman.ntg.nl/pipermail/ntg-context/2022/107111.html) and 
> the new \autoinsertedspace that came from that report, I see that 
> there is still a problem, or perhaps a problem again after it was 
> previously repaired.
>
> The following code, run under the latest (and recent previous) 
> version, produces an incorrect result, with no space inserted where 
> expected in many cases. As the first examples after \starttext show, 
> the problem appears to be with \autoinsertedspace, but perhaps I am 
> using it incorrectly in the macro as well.
>
>     \starttexdefinition unexpanded BD
>     Â  \dodoublegroupempty
>     Â  \doBD
>     \stoptexdefinition
>
>     \starttexdefinition doBD #1#2
>     Â Â  \removeunwantedspaces\ % insert a space
>     Â Â  (
>     Â Â  \ifsecondargument
>     Â Â Â Â Â Â  #1|â|#2
>     Â Â  \else\iffirstargument
>     Â Â Â Â Â Â  #1â
>     Â Â  \else
>     Â Â Â Â Â Â  {\red I NEED A DATE OR DATES!}
>     Â Â  \fi\fi
>     Â Â  )
>     Â Â  \autoinsertedspace
>     \stoptexdefinition
>
>     \tt
>
>     \starttext
>     This\autoinsertedspace fails unexpectedly with autoinsertedspace.\par
>     This\autoinsertedspace \emph{fails unexpectedly} with
>     autoinsertedspace.\par
>     This\autoinsertnextspace works with autoinsertnextspace.\par
>     This\autoinsertnextspace \emph{fails} as expected with
>     autoinsertnextspace.\par
>     Saussure\BD{1857}{1913} works.\par
>     Saussure \BD{1857}{1913} \emph{works}.\par
>     Saussure \BD{1857}{1913}. Works.\par
>     Chomsky\BD{1928} fails with LMTX, works with MkIV.\par
>     Chomsky \BD{1928} \emph{fails with LMTX, works with MkIV}.\par
>     Chomsky \BD{1928}. Works.\par
>     \BD blah\par
>     \contextversion\ \texenginename
>     \stoptext
>
>
> -- 
> Rik
>
>
>
> ___________________________________________________________________________________
> If your question is of interest to others as well, please add an entry to the Wiki!
>
> maillist :ntg-context at ntg.nl  /https://www.ntg.nl/mailman/listinfo/ntg-context
> webpage  :https://www.pragma-ade.nl  /http://context.aanhet.net
> archive  :https://bitbucket.org/phg/context-mirror/commits/
> wiki     :https://contextgarden.net
> ___________________________________________________________________________________
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230104/dbdce265/attachment.htm>

From guravage at literatesolutions.com  Thu Jan  5 00:16:43 2023
From: guravage at literatesolutions.com (Michael Guravage)
Date: Thu, 5 Jan 2023 00:16:43 +0100
Subject: [NTG-context] Tabulate \TH command not working in latest release
Message-ID: <CAL-A5La8qVb7kGFZFapM+N9G0uNoB3odxCoiJdY=GE4+CJWOhw@mail.gmail.com>

While typesetting a document containing a small tabulated table with the
latest release I noticed that the tabulate \TH command hadn't added any
vertical space between the rows. Here's a mwe.

\starttext
  \starttabulate[|l|l|]
    \NC Î \NC Gamma \NC\NR
    \NC Î \NC Theta \NC\NR
    \TB[line]
    \NC Î¦ \NC Phi \NC\NR
  \stoptabulate
\stoptext

---
Michael
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230105/db0f1d43/attachment-0001.htm>

From j.hagen at freedom.nl  Thu Jan  5 00:22:26 2023
From: j.hagen at freedom.nl (Hans Hagen)
Date: Thu, 5 Jan 2023 00:22:26 +0100
Subject: [NTG-context] Problem with latest version ?
In-Reply-To: <0bb7909d-fa21-69a5-0fb8-a43b7ad0a46a@fiee.net>
References: <CACyK-eohqmL5Em_Aw1SLCuQ7tr8RF6g85Q9=N1Rg2nFLQp1mkw@mail.gmail.com>
 <CACyK-erzNxfz9V=PSbNRKd-8+iOvPn1k64qE0PTus4tVN1Z-RA@mail.gmail.com>
 <0bb7909d-fa21-69a5-0fb8-a43b7ad0a46a@fiee.net>
Message-ID: <b1284dd9-e93a-af89-2d46-2d020f7760db@freedom.nl>

On 1/4/2023 7:05 PM, Henning Hraban Ramm via ntg-context wrote:
> Am 04.01.23 um 19:00 schrieb Fabrice Couvreur via ntg-context:
>> The problem seems to come from pgfplots ...
> 
> There was a message about the same by Gavin and an answer by Hans on 
> 2022-12-30. Maybe the fix didnât make it into the latest upload.
no news from gavin so ... not added yet


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From j.hagen at freedom.nl  Thu Jan  5 00:28:44 2023
From: j.hagen at freedom.nl (Hans Hagen)
Date: Thu, 5 Jan 2023 00:28:44 +0100
Subject: [NTG-context] Tabulate \TH command not working in latest release
In-Reply-To: <CAL-A5La8qVb7kGFZFapM+N9G0uNoB3odxCoiJdY=GE4+CJWOhw@mail.gmail.com>
References: <CAL-A5La8qVb7kGFZFapM+N9G0uNoB3odxCoiJdY=GE4+CJWOhw@mail.gmail.com>
Message-ID: <ca1cc29f-e235-4354-2fdb-e80b602278ee@freedom.nl>

On 1/5/2023 12:16 AM, Michael Guravage via ntg-context wrote:
> 
> While typesetting a document containing a small tabulated table with the 
> latest release I noticed that the tabulate \TH command hadn't added any 
> vertical space between the rows. Here's a mwe.
> 
> \starttext
>  Â  \starttabulate[|l|l|]
>  Â  Â  \NC Î \NC Gamma \NC\NR
>  Â  Â  \NC Î \NC Theta \NC\NR
>  Â  Â  \TB[line]
>  Â  Â  \NC Î¦ \NC Phi \NC\NR
>  Â  \stoptabulate
> \stoptext
swap nop and yes in tabl-tbl.mkxl, like:

\appendtoks
     \enforced\let\TB\tabl_tabulate_TB_nop
\to \t_tabl_tabulate_initializers_first

\appendtoks
     \enforced\let\TB\tabl_tabulate_TB_yes
\to \t_tabl_tabulate_initializers_second

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From j.hagen at freedom.nl  Thu Jan  5 00:45:07 2023
From: j.hagen at freedom.nl (Hans Hagen)
Date: Thu, 5 Jan 2023 00:45:07 +0100
Subject: [NTG-context] \autoinsertedspace fails
In-Reply-To: <44990e16-0a82-ee19-abed-8b588ac42b8d@rik.users.panix.com>
References: <86830236-f8d8-cbdd-ff24-d14f9a35f90e@rik.users.panix.com>
 <44990e16-0a82-ee19-abed-8b588ac42b8d@rik.users.panix.com>
Message-ID: <db4b2f45-37ec-5030-c1f9-5f1360220165@freedom.nl>

On 1/4/2023 11:10 PM, Rik Kabel via ntg-context wrote:
> No change with the latest (2023.01.04).
> 
> Is this a problem with what I am doing, or a bug?
well, it's new and not thtat tested ... we need to specify it

This\optionalspace fails unexpectedly with autoinsertedspace.\par
This\optionalspace \emph{fails unexpectedly} with autoinsertedspace.\par

there can be more variants, like do we want to remove preceding spaces?

we already have:

This\optionalspace, fails unexpectedly with autoinsertedspace.\par
This\optionalspace, \emph{fails unexpectedly} with autoinsertedspace.\par
This\optionalspace fails unexpectedly with autoinsertedspace.\par
This\optionalspace \emph{fails unexpectedly} with autoinsertedspace.\par

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------
-------------- next part --------------
if not modules then modules = { } end modules ['spac-chr'] = {
    version   = 1.001,
    optimize  = true,
    comment   = "companion to spac-chr.mkiv",
    author    = "Hans Hagen, PRAGMA-ADE, Hasselt NL",
    copyright = "PRAGMA ADE / ConTeXt Development Team",
    license   = "see context related readme files"
}

local byte, lower = string.byte, string.lower

-- beware: attribute copying is bugged ... there will be a proper luatex helper
-- for this

-- to be redone: characters will become tagged spaces instead as then we keep track of
-- spaceskip etc

-- todo: only setattr when export / use properties

local next = next

local trace_characters = false  trackers.register("typesetters.characters", function(v) trace_characters = v end)
local trace_nbsp       = false  trackers.register("typesetters.nbsp",       function(v) trace_nbsp       = v end)

local report_characters = logs.reporter("typesetting","characters")

local nodes, node = nodes, node

local nuts               = nodes.nuts

local getid              = nuts.getid
local getsubtype         = nuts.getsubtype
local setsubtype         = nuts.setsubtype
local getboth            = nuts.getboth
local getnext            = nuts.getnext
local getprev            = nuts.getprev
local getattr            = nuts.getattr
local setattr            = nuts.setattr
local getlanguage        = nuts.getlanguage
local setchar            = nuts.setchar
local setattrlist        = nuts.setattrlist
local getfont            = nuts.getfont
local isglyph            = nuts.isglyph

local setcolor           = nodes.tracers.colors.set

local insertnodebefore   = nuts.insertbefore
local insertnodeafter    = nuts.insertafter
local remove_node        = nuts.remove
local nextchar           = nuts.traversers.char
local nextglyph          = nuts.traversers.glyph

local copy_node          = nuts.copy

local nodepool           = nuts.pool
local new_penalty        = nodepool.penalty
local new_glue           = nodepool.glue
local new_kern           = nodepool.kern
local new_rule           = nodepool.rule

local nodecodes          = nodes.nodecodes
local gluecodes          = nodes.gluecodes

local glyph_code         = nodecodes.glyph
local glue_code          = nodecodes.glue
local spaceskip_code     = gluecodes.spaceskip

local chardata           = characters.data
local ispunctuation      = characters.is_punctuation
local canhavespace       = characters.can_have_space

local typesetters        = typesetters

local unicodeblocks      = characters.blocks

local characters         = typesetters.characters or { } -- can be predefined
typesetters.characters   = characters

local fonthashes         = fonts.hashes
local fontparameters     = fonthashes.parameters
local fontcharacters     = fonthashes.characters
local fontquads          = fonthashes.quads

local setmetatableindex  = table.setmetatableindex

local a_character        = attributes.private("characters")
local a_alignstate       = attributes.private("alignstate")

local c_zero   = byte('0')
local c_period = byte('.')

local function inject_quad_space(unicode,head,current,fraction)
    if fraction ~= 0 then
        fraction = fraction * fontquads[getfont(current)]
    end
    local glue = new_glue(fraction)
    setattrlist(glue,current)
    setattrlist(current) -- why reset all
    setattr(glue,a_character,unicode)
    return insertnodeafter(head,current,glue)
end

local function inject_char_space(unicode,head,current,parent)
    local font = getfont(current)
    local char = fontcharacters[font][parent]
    local glue = new_glue(char and char.width or fontparameters[font].space)
    setattrlist(glue,current)
    setattrlist(current) -- why reset all
    setattr(glue,a_character,unicode)
    return insertnodeafter(head,current,glue)
end

local function inject_nobreak_space(unicode,head,current,space,spacestretch,spaceshrink)
    local glue    = new_glue(space,spacestretch,spaceshrink)
    local penalty = new_penalty(10000)
    setattrlist(glue,current)
    setattrlist(penalty,current)
    setattrlist(current) -- why reset all
    setattr(glue,a_character,unicode) -- bombs
    head, current = insertnodeafter(head,current,penalty)
    if trace_nbsp then
        local rule    = new_rule(space)
        local kern    = new_kern(-space)
        local penalty = new_penalty(10000)
        setcolor(rule,"orange")
        head, current = insertnodeafter(head,current,rule)
        head, current = insertnodeafter(head,current,kern)
        head, current = insertnodeafter(head,current,penalty)
    end
    return insertnodeafter(head,current,glue)
end

local function nbsp(head,current)
    local para = fontparameters[getfont(current)]
    local attr = getattr(current,a_alignstate) or 0
    if attr >= 1 and attr <= 3 then -- flushright
        head, current = inject_nobreak_space(0x00A0,head,current,para.space,0,0)
    else
        head, current = inject_nobreak_space(0x00A0,head,current,para.space,para.spacestretch,para.spaceshrink)
    end
    setsubtype(current,spaceskip_code)
    return head, current
end

-- assumes nuts or nodes, depending on callers .. so no tonuts here

function characters.replacenbsp(head,original)
    local head, current = nbsp(head,original)
    return remove_node(head,original,true)
end

function characters.replacenbspaces(head)
    -- todo: wiping as in characters.handler(head)
    local wipe = false
    for current, char, font in nextglyph, head do -- can be anytime so no traversechar
        if char == 0x00A0 then
            if wipe then
                head = remove_node(h,current,true)
                wipe = false
            end
            local h = nbsp(head,current)
            if h then
                wipe = current
            end
        end
    end
    if wipe then
        head = remove_node(head,current,true)
    end
    return head
end

-- This initialization might move someplace else if we need more of it. The problem is that
-- this module depends on fonts so we have an order problem.

local nbsphash = { } setmetatableindex(nbsphash,function(t,k)
    -- this needs checking !
    for i=unicodeblocks.devanagari.first,unicodeblocks.devanagari.last do nbsphash[i] = true end
    for i=unicodeblocks.kannada   .first,unicodeblocks.kannada   .last do nbsphash[i] = true end
    setmetatableindex(nbsphash,nil)
    return nbsphash[k]
end)

local methods = {

    -- The next one uses an attribute assigned to the character but still we
    -- don't have the 'local' value.

    -- maybe also 0x0008 : backspace

    -- Watch out: a return value means "remove"!

    [0x001E] = function(head,current) -- kind of special
        local next = getnext(current)
        if next and getid(next) == glue_code and getsubtype(next) == spaceskip_code then
            local nextnext = getnext(next)
            if nextnext then
                local char, font = isglyph(nextnext)
                if char and not canhavespace[char] then
                    remove_node(head,next,true)
                end
            end

        else
            local char, font = isglyph(next)
            if char and canhavespace[char] then
                local p = fontparameters[font]
                head, current = insertnodebefore(head,current,new_glue(p.space,p.spacestretch,p.spaceshrink))
            end

        end
        return head, current
    end,

    [0x001F] = function(head,current) -- kind of special
        local next = getnext(current)
        if next then
            local char, font = isglyph(next)
            if char and not ispunctuation[char] then
                local p = fontparameters[font]
                head, current = insertnodebefore(head,current,new_glue(p.space,p.spacestretch,p.spaceshrink))
            end
        end
        return head, current
    end,

    [0x00A0] = function(head,current) -- nbsp
        local prev, next = getboth(current)
        if next then
            local char = isglyph(current)
            if not char then
                -- move on
            elseif char == 0x200C or char == 0x200D then -- nzwj zwj
                next = getnext(next)
				if next then
                    char = isglyph(next)
                    if char and nbsphash[char] then
                        return false
                    end
                end
            elseif nbsphash[char] then
                return false
            end
        end
        if prev then
            local char = isglyph(prev)
            if char and nbsphash[char] then
                return false
            end
        end
        return nbsp(head,current)
    end,

    [0x00AD] = function(head,current) -- softhyphen
        return insertnodeafter(head,current,languages.explicithyphen(current))
    end,

    [0x2000] = function(head,current) -- enquad
        return inject_quad_space(0x2000,head,current,1/2)
    end,

    [0x2001] = function(head,current) -- emquad
        return inject_quad_space(0x2001,head,current,1)
    end,

    [0x2002] = function(head,current) -- enspace
        return inject_quad_space(0x2002,head,current,1/2)
    end,

    [0x2003] = function(head,current) -- emspace
        return inject_quad_space(0x2003,head,current,1)
    end,

    [0x2004] = function(head,current) -- threeperemspace
        return inject_quad_space(0x2004,head,current,1/3)
    end,

    [0x2005] = function(head,current) -- fourperemspace
        return inject_quad_space(0x2005,head,current,1/4)
    end,

    [0x2006] = function(head,current) -- sixperemspace
        return inject_quad_space(0x2006,head,current,1/6)
    end,

    [0x2007] = function(head,current) -- figurespace
        return inject_char_space(0x2007,head,current,c_zero)
    end,

    [0x2008] = function(head,current) -- punctuationspace
        return inject_char_space(0x2008,head,current,c_period)
    end,

    [0x2009] = function(head,current) -- breakablethinspace
        return inject_quad_space(0x2009,head,current,1/8) -- same as next
    end,

    [0x200A] = function(head,current) -- hairspace
        return inject_quad_space(0x200A,head,current,1/8) -- same as previous (todo)
    end,

    [0x200B] = function(head,current) -- zerowidthspace
        return inject_quad_space(0x200B,head,current,0)
    end,

    [0x202F] = function(head,current) -- narrownobreakspace
        return inject_nobreak_space(0x202F,head,current,fontquads[getfont(current)]/8)
    end,

    [0x205F] = function(head,current) -- math thinspace
        return inject_nobreak_space(0x205F,head,current,4*fontquads[getfont(current)]/18)
    end,

    -- The next one is also a bom so maybe only when we have glyphs around it

 -- [0xFEFF] = function(head,current) -- zerowidthnobreakspace
 --     return head, current
 -- end,

}

characters.methods = methods

function characters.handler(head)
    local wipe = false
    for current, char in nextchar, head do
        local method = methods[char]
        if method then
            if wipe then
                head = remove_node(head,wipe,true)
                wipe = false
            end
            if trace_characters then
                report_characters("replacing character %C, description %a",char,lower(chardata[char].description))
            end
            local h = method(head,current)
            if h then
                wipe = current
            end
        end
    end
    if wipe then
        head = remove_node(head,wipe,true)
    end
    return head
end

-- function characters.handler(head)
--     local wiped = false
--     for current, char in nextchar, head do
--         local method = methods[char]
--         if method then
--             if wiped then
--                 wiped[#wiped+1] = current
--             else
--                 wiped = { current }
--             end
--             if trace_characters then
--                 report_characters("replacing character %C, description %a",char,lower(chardata[char].description))
--             end
--             local h = method(head,current)
--             if h then
--                 head = h
--             end
--         end
--     end
--     if wiped then
--         for i=1,#wiped do
--             head = remove_node(head,wiped[i],true)
--         end
--     end
--     return head
-- end

From gavinpublic at comcast.net  Thu Jan  5 02:40:06 2023
From: gavinpublic at comcast.net (Gavin)
Date: Wed, 4 Jan 2023 18:40:06 -0700
Subject: [NTG-context] Problem with latest version ?
In-Reply-To: <b1284dd9-e93a-af89-2d46-2d020f7760db@freedom.nl>
References: <CACyK-eohqmL5Em_Aw1SLCuQ7tr8RF6g85Q9=N1Rg2nFLQp1mkw@mail.gmail.com>
 <CACyK-erzNxfz9V=PSbNRKd-8+iOvPn1k64qE0PTus4tVN1Z-RA@mail.gmail.com>
 <0bb7909d-fa21-69a5-0fb8-a43b7ad0a46a@fiee.net>
 <b1284dd9-e93a-af89-2d46-2d020f7760db@freedom.nl>
Message-ID: <1CDF9F95-4AE8-424A-9938-545B9B8DBA84@comcast.net>

Hi List,

I could not figure out the right spot for the files m-tikz-pgfplots.tex and m-tikz-pgfplotstable.tex. I donât currently have files with those names anywhere, and files with similar names and contents appear in a couple different places. I had to put off sorting it out until I had some more time.

I was able to find the right place for m-tikz.mkxl, and it prevented an error at \usemodule[pgfplots], but Iâd still get an error if I tried to use any command from the pgfplots.

Gavin


> On Jan 4, 2023, at 4:22 PM, Hans Hagen via ntg-context <ntg-context at ntg.nl> wrote:
> 
> On 1/4/2023 7:05 PM, Henning Hraban Ramm via ntg-context wrote:
>> Am 04.01.23 um 19:00 schrieb Fabrice Couvreur via ntg-context:
>>> The problem seems to come from pgfplots ...
>> There was a message about the same by Gavin and an answer by Hans on 2022-12-30. Maybe the fix didnât make it into the latest upload.
> no news from gavin so ... not added yet
> 
> 
> -----------------------------------------------------------------
>                                          Hans Hagen | PRAGMA ADE
>              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
>       tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
> -----------------------------------------------------------------
> 
> ___________________________________________________________________________________
> If your question is of interest to others as well, please add an entry to the Wiki!
> 
> maillist : ntg-context at ntg.nl / https://www.ntg.nl/mailman/listinfo/ntg-context
> webpage  : https://www.pragma-ade.nl / http://context.aanhet.net
> archive  : https://bitbucket.org/phg/context-mirror/commits/
> wiki     : https://contextgarden.net
> ___________________________________________________________________________________


From ConTeXt at rik.users.panix.com  Thu Jan  5 04:21:36 2023
From: ConTeXt at rik.users.panix.com (Rik Kabel)
Date: Wed, 4 Jan 2023 22:21:36 -0500
Subject: [NTG-context] \autoinsertedspace fails
In-Reply-To: <db4b2f45-37ec-5030-c1f9-5f1360220165@freedom.nl>
References: <86830236-f8d8-cbdd-ff24-d14f9a35f90e@rik.users.panix.com>
 <44990e16-0a82-ee19-abed-8b588ac42b8d@rik.users.panix.com>
 <db4b2f45-37ec-5030-c1f9-5f1360220165@freedom.nl>
Message-ID: <d44c1452-3fd7-f1ac-bf45-2550642c2a5d@rik.users.panix.com>


On 2023-01-04 18:45, Hans Hagen wrote:
> On 1/4/2023 11:10 PM, Rik Kabel via ntg-context wrote:
>> No change with the latest (2023.01.04).
>>
>> Is this a problem with what I am doing, or a bug?
> well, it's new and not thtat tested ... we need to specify it
>
> This\optionalspace fails unexpectedly with autoinsertedspace.\par
> This\optionalspace \emph{fails unexpectedly} with autoinsertedspace.\par
>
> there can be more variants, like do we want to remove preceding spaces?
>
> we already have:
>
> This\optionalspace, fails unexpectedly with autoinsertedspace.\par
> This\optionalspace, \emph{fails unexpectedly} with autoinsertedspace.\par
> This\optionalspace fails unexpectedly with autoinsertedspace.\par
> This\optionalspace \emph{fails unexpectedly} with autoinsertedspace.\par


\optionalspace works correctly (that is, as I want it to) for all of my 
use cases under both MkIV and LMTX. Is there any reason that this should 
not be used in user documents?

I do wonder what characters are considered "punctuation" for the purpose 
of suppressing the next space. The standard six sentence termination 
characters (?!.:;,) are honored, and so are many others (quotation 
marks, including guillemot, square and curly braces, and parens). But 
sentence opening characters (Â¿Â¡) are as well. Vertical bars (|Â¦) and 
basic mathematical characters (+-=*) are not treated as punctuation. 
Where (in the source or manuals) are these to be found?

As far as removing leading spaces, I do not see that it is necessary, 
but it may help create more readable sources.

Thank you for the fix.

-- 
Rik


From j.hagen at xs4all.nl  Thu Jan  5 08:38:56 2023
From: j.hagen at xs4all.nl (Hans Hagen)
Date: Thu, 5 Jan 2023 08:38:56 +0100
Subject: [NTG-context] \autoinsertedspace fails
In-Reply-To: <d44c1452-3fd7-f1ac-bf45-2550642c2a5d@rik.users.panix.com>
References: <86830236-f8d8-cbdd-ff24-d14f9a35f90e@rik.users.panix.com>
 <44990e16-0a82-ee19-abed-8b588ac42b8d@rik.users.panix.com>
 <db4b2f45-37ec-5030-c1f9-5f1360220165@freedom.nl>
 <d44c1452-3fd7-f1ac-bf45-2550642c2a5d@rik.users.panix.com>
Message-ID: <a6e775e8-c33f-cd60-a1ee-759640b81cd4@xs4all.nl>

On 1/5/2023 4:21 AM, Rik Kabel via ntg-context wrote:
> 
> On 2023-01-04 18:45, Hans Hagen wrote:
>> On 1/4/2023 11:10 PM, Rik Kabel via ntg-context wrote:
>>> No change with the latest (2023.01.04).
>>>
>>> Is this a problem with what I am doing, or a bug?
>> well, it's new and not thtat tested ... we need to specify it
>>
>> This\optionalspace fails unexpectedly with autoinsertedspace.\par
>> This\optionalspace \emph{fails unexpectedly} with autoinsertedspace.\par
>>
>> there can be more variants, like do we want to remove preceding spaces?
>>
>> we already have:
>>
>> This\optionalspace, fails unexpectedly with autoinsertedspace.\par
>> This\optionalspace, \emph{fails unexpectedly} with autoinsertedspace.\par
>> This\optionalspace fails unexpectedly with autoinsertedspace.\par
>> This\optionalspace \emph{fails unexpectedly} with autoinsertedspace.\par
> 
> 
> \optionalspace works correctly (that is, as I want it to) for all of my 
> use cases under both MkIV and LMTX. Is there any reason that this should 
> not be used in user documents?

depends ... it checks punctuation

> I do wonder what characters are considered "punctuation" for the purpose 
> of suppressing the next space. The standard six sentence termination 
> characters (?!.:;,) are honored, and so are many others (quotation 
> marks, including guillemot, square and curly braces, and parens). But 
> sentence opening characters (Â¿Â¡) are as well. Vertical bars (|Â¦) and 
> basic mathematical characters (+-=*) are not treated as punctuation. 
> Where (in the source or manuals) are these to be found?

we use unicode properties (collected in char-def.lua)

> As far as removing leading spaces, I do not see that it is necessary, 
> but it may help create more readable sources.
> 
> Thank you for the fix.

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From j.hagen at freedom.nl  Thu Jan  5 08:39:54 2023
From: j.hagen at freedom.nl (Hans Hagen)
Date: Thu, 5 Jan 2023 08:39:54 +0100
Subject: [NTG-context] Problem with latest version ?
In-Reply-To: <1CDF9F95-4AE8-424A-9938-545B9B8DBA84@comcast.net>
References: <CACyK-eohqmL5Em_Aw1SLCuQ7tr8RF6g85Q9=N1Rg2nFLQp1mkw@mail.gmail.com>
 <CACyK-erzNxfz9V=PSbNRKd-8+iOvPn1k64qE0PTus4tVN1Z-RA@mail.gmail.com>
 <0bb7909d-fa21-69a5-0fb8-a43b7ad0a46a@fiee.net>
 <b1284dd9-e93a-af89-2d46-2d020f7760db@freedom.nl>
 <1CDF9F95-4AE8-424A-9938-545B9B8DBA84@comcast.net>
Message-ID: <5c6bb686-a9e9-8f4a-ad03-4efbadf84926@freedom.nl>

On 1/5/2023 2:40 AM, Gavin via ntg-context wrote:
> Hi List,
> 
> I could not figure out the right spot for the files m-tikz-pgfplots.tex and m-tikz-pgfplotstable.tex. I donât currently have files with those names anywhere, and files with similar names and contents appear in a couple different places. I had to put off sorting it out until I had some more time.
> 
> I was able to find the right place for m-tikz.mkxl, and it prevented an error at \usemodule[pgfplots], but Iâd still get an error if I tried to use any command from the pgfplots.
indeed they go alongside the m-tikz file ... did you run mtxrun --generate?


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From j.hagen at freedom.nl  Thu Jan  5 10:35:02 2023
From: j.hagen at freedom.nl (Hans Hagen)
Date: Thu, 5 Jan 2023 10:35:02 +0100
Subject: [NTG-context] \autoinsertedspace fails
In-Reply-To: <d44c1452-3fd7-f1ac-bf45-2550642c2a5d@rik.users.panix.com>
References: <86830236-f8d8-cbdd-ff24-d14f9a35f90e@rik.users.panix.com>
 <44990e16-0a82-ee19-abed-8b588ac42b8d@rik.users.panix.com>
 <db4b2f45-37ec-5030-c1f9-5f1360220165@freedom.nl>
 <d44c1452-3fd7-f1ac-bf45-2550642c2a5d@rik.users.panix.com>
Message-ID: <b42be28f-c3fb-7df3-f0fa-8fc69221da4f@freedom.nl>

On 1/5/2023 4:21 AM, Rik Kabel via ntg-context wrote:
> 
> On 2023-01-04 18:45, Hans Hagen wrote:
>> On 1/4/2023 11:10 PM, Rik Kabel via ntg-context wrote:
>>> No change with the latest (2023.01.04).
>>>
>>> Is this a problem with what I am doing, or a bug?
>> well, it's new and not thtat tested ... we need to specify it
>>
>> This\optionalspace fails unexpectedly with autoinsertedspace.\par
>> This\optionalspace \emph{fails unexpectedly} with autoinsertedspace.\par
>>
>> there can be more variants, like do we want to remove preceding spaces?
>>
>> we already have:
>>
>> This\optionalspace, fails unexpectedly with autoinsertedspace.\par
>> This\optionalspace, \emph{fails unexpectedly} with autoinsertedspace.\par
>> This\optionalspace fails unexpectedly with autoinsertedspace.\par
>> This\optionalspace \emph{fails unexpectedly} with autoinsertedspace.\par
> 
> 
> \optionalspace works correctly (that is, as I want it to) for all of my 
> use cases under both MkIV and LMTX. Is there any reason that this should 
> not be used in user documents?
> 
> I do wonder what characters are considered "punctuation" for the purpose 
> of suppressing the next space. The standard six sentence termination 
> characters (?!.:;,) are honored, and so are many others (quotation 
> marks, including guillemot, square and curly braces, and parens). But 
> sentence opening characters (Â¿Â¡) are as well. Vertical bars (|Â¦) and 
> basic mathematical characters (+-=*) are not treated as punctuation. 
> Where (in the source or manuals) are these to be found?
> 
> As far as removing leading spaces, I do not see that it is necessary, 
> but it may help create more readable sources.
> 
> Thank you for the fix.
Here is a more lmtx-ish variant:

\starttexdefinition tolerant protected BD #=#*#=
    \removeunwantedspaces
    \space % insert a space
    (
    \ifparameter#2\or
        #1|â|#2
    \orelse\ifparameter#1\or
        #1â
    \else
        {\red I NEED A DATE OR DATES!}
    \fi
    )
    \autoinsertedspace
\stoptexdefinition

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From gavinpublic at comcast.net  Thu Jan  5 11:40:56 2023
From: gavinpublic at comcast.net (Gavin)
Date: Thu, 5 Jan 2023 03:40:56 -0700
Subject: [NTG-context] Problem with latest version ?
In-Reply-To: <5c6bb686-a9e9-8f4a-ad03-4efbadf84926@freedom.nl>
References: <CACyK-eohqmL5Em_Aw1SLCuQ7tr8RF6g85Q9=N1Rg2nFLQp1mkw@mail.gmail.com>
 <CACyK-erzNxfz9V=PSbNRKd-8+iOvPn1k64qE0PTus4tVN1Z-RA@mail.gmail.com>
 <0bb7909d-fa21-69a5-0fb8-a43b7ad0a46a@fiee.net>
 <b1284dd9-e93a-af89-2d46-2d020f7760db@freedom.nl>
 <1CDF9F95-4AE8-424A-9938-545B9B8DBA84@comcast.net>
 <5c6bb686-a9e9-8f4a-ad03-4efbadf84926@freedom.nl>
Message-ID: <2E02ACF9-7211-4C4B-9AAC-5BD81182FBFF@comcast.net>

Hi Hans,

> On Jan 5, 2023, at 12:39 AM, Hans Hagen via ntg-context <ntg-context at ntg.nl> wrote:
> 
> On 1/5/2023 2:40 AM, Gavin via ntg-context wrote:
>> Hi List,
>> I could not figure out the right spot for the files m-tikz-pgfplots.tex and m-tikz-pgfplotstable.tex. I donât currently have files with those names anywhere, and files with similar names and contents appear in a couple different places. I had to put off sorting it out until I had some more time.
>> I was able to find the right place for m-tikz.mkxl, and it prevented an error at \usemodule[pgfplots], but Iâd still get an error if I tried to use any command from the pgfplots.
> indeed they go alongside the m-tikz file ... did you run mtxrun --generate?

Now I put the files alongside and ran mtxrun âgenerate. It did not work. The test file and resulting error are below. I used ConTeXt  ver: 2022.12.29 14:32 LMTX  fmt: 2022.12.29  int: english/english. I can try with the latest LMTX later today. The test file works with TeXLive 2022

Gavin


TEST FILE:

\usemodule[tikz]
\usemodule[pgfplots]			% PGFPlots module for graphs

\starttext

\starttikzpicture
	\draw (0, 0) circle (3cm);
\stoptikzpicture

\starttikzpicture
  \startaxis
    \addplot+[domain=0:360]
        {sin(x)};
  \stopaxis
\stoptikzpicture

\stoptext


ERROR:

tex error       > tex error on line 15 in file ./TikZTest.tex: Illegal unit of measure (pt inserted)

<to be read again> 
    
    \relax 
<macro> \pgfpl@@ 
    #1->\advance \count 0 by-1\relax 
    \ifnum \count 0=-1\relax \global \def \pgfplotslistselect at tmp {\def \pgfplotsretval {#1}}\fi 
<macro> \pgfpl@@ 
    \pgfpl@@ {blue,every mark/.append style={fill=blue!80!black},mark=*}
    \pgfpl@@ {red,every mark/.append style={fill=red!80!black},mark=square*}\pgfpl@@ {brown!60!black,every mark/.append style={fill=brown!80!black},mark=otimes*}\pgfpl@@ {black,mark=star
<macro> \pgfplotslistselect@ 
    #1\of #2\to #3->\begingroup \count 0=#1\relax \long \def \pgfpl@@ ##1{\advance \count 0 by-1\relax \ifnum \count 0=-1\relax \global \def \pgfplotslistselect at tmp {\def #3{##1}}\fi }#2
    \endgroup \pgfplotslistselect at tmp 
<macro> \pgfplots at getautoplotspec@ 
    #1#2#3->\ifnum #2=0 \let \pgfplotsretval =\pgfutil at empty \else \pgfplotsmathmodint {#3}{#2}\pgfplotslistselect \pgfmathresult \of #1\to \pgfplotsretval 
    \fi 
<macro> \pgfplots at getautoplotspec 
    ...ternal error: expected 'L' or 'M', not '\pgfplots at cycle@multi at list@sequence '}\fi \fi \else \pgfplotslistsize \autoplotspeclist \to \c at pgf@countd \pgfplots at getautoplotspec@ {\autoplotspeclist }{\c at pgf@countd }{\pgfplots at listindex }
    \let #1=\pgfp ...
 ...

<line 3.15> 
        \addplot+
    [domain=0:360]

 5     \usemodule[pgfplots]			% PGFPlots module for graphs
 6     
 7     \starttext
 8     
 9     \starttikzpicture
10     	\draw (0, 0) circle (3cm);
11     \stoptikzpicture
12     
13     \starttikzpicture
14       \startaxis
15 >>      \addplot+[domain=0:360]
16             {sin(x)};
17       \stopaxis
18     \stoptikzpicture
19     
20     \stoptext


From j.hagen at freedom.nl  Thu Jan  5 13:49:27 2023
From: j.hagen at freedom.nl (Hans Hagen)
Date: Thu, 5 Jan 2023 13:49:27 +0100
Subject: [NTG-context] Problem with latest version ?
In-Reply-To: <2E02ACF9-7211-4C4B-9AAC-5BD81182FBFF@comcast.net>
References: <CACyK-eohqmL5Em_Aw1SLCuQ7tr8RF6g85Q9=N1Rg2nFLQp1mkw@mail.gmail.com>
 <CACyK-erzNxfz9V=PSbNRKd-8+iOvPn1k64qE0PTus4tVN1Z-RA@mail.gmail.com>
 <0bb7909d-fa21-69a5-0fb8-a43b7ad0a46a@fiee.net>
 <b1284dd9-e93a-af89-2d46-2d020f7760db@freedom.nl>
 <1CDF9F95-4AE8-424A-9938-545B9B8DBA84@comcast.net>
 <5c6bb686-a9e9-8f4a-ad03-4efbadf84926@freedom.nl>
 <2E02ACF9-7211-4C4B-9AAC-5BD81182FBFF@comcast.net>
Message-ID: <767a1162-9629-2a75-564f-97d8e4f052b9@freedom.nl>

On 1/5/2023 11:40 AM, Gavin via ntg-context wrote:
> Hi Hans,
> 
>> On Jan 5, 2023, at 12:39 AM, Hans Hagen via ntg-context <ntg-context at ntg.nl> wrote:
>>
>> On 1/5/2023 2:40 AM, Gavin via ntg-context wrote:
>>> Hi List,
>>> I could not figure out the right spot for the files m-tikz-pgfplots.tex and m-tikz-pgfplotstable.tex. I donât currently have files with those names anywhere, and files with similar names and contents appear in a couple different places. I had to put off sorting it out until I had some more time.
>>> I was able to find the right place for m-tikz.mkxl, and it prevented an error at \usemodule[pgfplots], but Iâd still get an error if I tried to use any command from the pgfplots.
>> indeed they go alongside the m-tikz file ... did you run mtxrun --generate?
> 
> Now I put the files alongside and ran mtxrun âgenerate. It did not work. The test file and resulting error are below. I used ConTeXt  ver: 2022.12.29 14:32 LMTX  fmt: 2022.12.29  int: english/english. I can try with the latest LMTX later today. The test file works with TeXLive 2022
> 
> Gavin
> 
> 
> TEST FILE:
> 
> \usemodule[tikz]
> \usemodule[pgfplots]			% PGFPlots module for graphs
> 
> \starttext
> 
> \starttikzpicture
> 	\draw (0, 0) circle (3cm);
> \stoptikzpicture
> 
> \starttikzpicture
>    \startaxis
>      \addplot+[domain=0:360]
>          {sin(x)};
>    \stopaxis
> \stoptikzpicture
> 
> \stoptext
fixed in next upload (later today)

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From j.hagen at freedom.nl  Thu Jan  5 18:20:14 2023
From: j.hagen at freedom.nl (Hans Hagen)
Date: Thu, 5 Jan 2023 18:20:14 +0100
Subject: [NTG-context] TUG 2023
In-Reply-To: <509a5ccc-c9a3-cce2-765a-35c977db8bfd@uni-bonn.de>
References: <509a5ccc-c9a3-cce2-765a-35c977db8bfd@uni-bonn.de>
Message-ID: <75d98456-24d0-dbfc-d36f-c3868bb85311@freedom.nl>

On 1/4/2023 5:50 PM, Thomas A. Schmitz via ntg-context wrote:

 > Since I'm a simple user and no

Ha, you're not a simple user; you use all bits and pieces in advanced 
scenarios.

> and no developer, I'm a bit hesitant though: is any of the developers 
> going (Hans?)? Since the public will be 99 % LaTeX-centric: I had the 

The only meeting in my agende is the ctx meeting later that year, so no 
plans. (Not knowing what to talk about at that meeting there would be 
little change of interference; we would likely end up sitting in your 
office discussing some pending inerestign and challenging mechanisms 
anyway -)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From root at ntg.nl  Thu Jan  5 20:01:13 2023
From: root at ntg.nl (Cron Daemon)
Date: Thu,  5 Jan 2023 20:01:13 +0100 (CET)
Subject: [NTG-context] Cron <context@zapf>
 /var/www/aanhet.net/context/bin/cron/context-mirror
Message-ID: <20230105190113.8F40A38043C@zapf.ntg.nl>

receiving incremental file list
 ./
 ctan.lsr
 document-2.htm
 download-1.htm
 download-2.htm
 logo-ade.png
 logo-cts.png
 logo-pod.png
 rss.xml
 show-fil.pdf
 context/latest/
 context/latest/cont-mpd.zip
 context/latest/cont-ppc.zip
 context/latest/cont-sci.zip
 context/latest/cont-tmf.zip
 context/latest/cont-tst.7z
 context/latest/cont-tst.tar.xz
 context/latest/cont-tst.zip
 
 sent 101,528 bytes  received 20,923,385 bytes  2,002,372.67 bytes/sec
 total size is 449,294,327  speedup is 21.37


Running archiver:

New dir: /var/www/aanhet.net/context//htdocs/archives/context-2023-01-05.20
172300175	/var/www/aanhet.net/context//htdocs/archives/context-2023-01-05.20/latest
126745317	/var/www/aanhet.net/context//htdocs/archives/context-2023-01-05.20/current
18956262	/var/www/aanhet.net/context//htdocs/archives/context-2023-01-05.20/alpha
126707516	/var/www/aanhet.net/context//htdocs/archives/context-2023-01-05.20/beta
444713366	/var/www/aanhet.net/context//htdocs/archives/context-2023-01-05.20
444713366	total

From ConTeXt at rik.users.panix.com  Fri Jan  6 03:05:23 2023
From: ConTeXt at rik.users.panix.com (Rik Kabel)
Date: Thu, 5 Jan 2023 21:05:23 -0500
Subject: [NTG-context] \autoinsertedspace fails
In-Reply-To: <b42be28f-c3fb-7df3-f0fa-8fc69221da4f@freedom.nl>
References: <86830236-f8d8-cbdd-ff24-d14f9a35f90e@rik.users.panix.com>
 <44990e16-0a82-ee19-abed-8b588ac42b8d@rik.users.panix.com>
 <db4b2f45-37ec-5030-c1f9-5f1360220165@freedom.nl>
 <d44c1452-3fd7-f1ac-bf45-2550642c2a5d@rik.users.panix.com>
 <b42be28f-c3fb-7df3-f0fa-8fc69221da4f@freedom.nl>
Message-ID: <d7f26fd1-9258-b27d-f987-e2f8730a9f0e@rik.users.panix.com>


On 2023-01-05 04:35, Hans Hagen via ntg-context wrote:
> On 1/5/2023 4:21 AM, Rik Kabel via ntg-context wrote:

 Â Â Â  [ snipped by rik]

> Here is a more lmtx-ish variant:
>
> \starttexdefinition tolerant protected BD #=#*#=
> Â Â  \removeunwantedspaces
> Â Â  \space % insert a space
> Â Â  (
> Â Â  \ifparameter#2\or
> Â Â Â Â Â Â  #1|â|#2
> Â Â  \orelse\ifparameter#1\or
> Â Â Â Â Â Â  #1â
> Â Â  \else
> Â Â Â Â Â Â  {\red I NEED A DATE OR DATES!}
> Â Â  \fi
> Â Â  )
> Â Â  \autoinsertedspace
> \stoptexdefinition
>
> Hans

Thank you for that. This works for me with \optionalspace, but fails in 
some cases with \autoinsertedspace.

I have now re-read lowlevel-macros.pdf and have a better understanding 
of what I read when first I approached it; I still have a way to go.

/Tolerant/ removes the need for /dodoubleempty/ and friends and the 
two-step /macro/ and /doMacro/ dance. There was a small advantage to the 
two-step, however. I had two separate macros, BD and BDNP (no parens), 
as shown.

The old code in full was:

    %-------------------- Birth and death dates -----------------------%
    % Ferdinand de Saussure\BD{1857}{1913}
    % Noam Chomsky \BD{1928}
    %
    % Perhaps this could be tied to an acronym-like database so that the
    %Â Â  dates are printed only once per person.
    % \removeunwantedspaces allows this to directly follow, or follow
    %Â Â  after whitespace, the associated name: Name\BD{1}{2} or
    %Â Â  Name \BD{1}{2}.
    % Using the compound indication (|â|) allows hyphenation after the
    %Â Â  endash. Omitting it and using a bare endash inhibits hyphenation
    %Â Â  âtwixt the endash and the paren.
    % By default, add parens around the dates. If none are needed due to
    %Â Â  the context, use \BDNP.
    %
    \newif\ifBDParen
    \starttexdefinition unexpanded BD
     Â  \BDParentrue
     Â  \dodoublegroupempty
     Â  \doBD
    \stoptexdefinition
    \starttexdefinition unexpanded BDNP
     Â  \BDParenfalse
     Â  \dodoublegroupempty
     Â  \doBD
    \stoptexdefinition
    \starttexdefinition doBD #1#2
     Â Â  \removeunwantedspaces\
     Â Â  \ifBDParen(\fi
     Â Â  \ifsecondargument
     Â Â Â Â Â Â  #1|â|#2
     Â Â  \else\iffirstargument
     Â Â Â Â Â Â  #1â
     Â Â  \else
     Â Â Â Â Â Â  {\red I NEED A DATE OR DATES!}
     Â Â  \fi\fi
     Â Â  \ifBDParen)\fi
     Â Â  \autoinsertedspace
    \stoptexdefinition

Both call the same doBD, but they set a flag (newif) to control 
insertion or not of the parens. While there is no performance benefit 
compared to having two fully separate macros, there is a maintenance 
benefit in having only one place, doBD, to make changes should they be 
required.

Can you suggest a way to do this under the new one-step scheme, or am I 
over-thinking this?

Finally, is there any reason to go back to previously written and 
properly functioning macros and convert them to the LMTX-only syntax? It 
does imply committing to LMTX-only (or

-- 
Rik

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230105/69226532/attachment.htm>

From j.hagen at xs4all.nl  Fri Jan  6 08:53:22 2023
From: j.hagen at xs4all.nl (Hans Hagen)
Date: Fri, 6 Jan 2023 08:53:22 +0100
Subject: [NTG-context] \autoinsertedspace fails
In-Reply-To: <d7f26fd1-9258-b27d-f987-e2f8730a9f0e@rik.users.panix.com>
References: <86830236-f8d8-cbdd-ff24-d14f9a35f90e@rik.users.panix.com>
 <44990e16-0a82-ee19-abed-8b588ac42b8d@rik.users.panix.com>
 <db4b2f45-37ec-5030-c1f9-5f1360220165@freedom.nl>
 <d44c1452-3fd7-f1ac-bf45-2550642c2a5d@rik.users.panix.com>
 <b42be28f-c3fb-7df3-f0fa-8fc69221da4f@freedom.nl>
 <d7f26fd1-9258-b27d-f987-e2f8730a9f0e@rik.users.panix.com>
Message-ID: <1b82368a-49c3-aea3-a8c6-93faf88f0727@xs4all.nl>

On 1/6/2023 3:05 AM, Rik Kabel via ntg-context wrote:
> 
> On 2023-01-05 04:35, Hans Hagen via ntg-context wrote:
>> On 1/5/2023 4:21 AM, Rik Kabel via ntg-context wrote:
> 
>  Â Â Â  [ snipped by rik]
> 
>> Here is a more lmtx-ish variant:
>>
>> \starttexdefinition tolerant protected BD #=#*#=
>> Â Â  \removeunwantedspaces
>> Â Â  \space % insert a space
>> Â Â  (
>> Â Â  \ifparameter#2\or
>> Â Â Â Â Â Â  #1|â|#2
>> Â Â  \orelse\ifparameter#1\or
>> Â Â Â Â Â Â  #1â
>> Â Â  \else
>> Â Â Â Â Â Â  {\red I NEED A DATE OR DATES!}
>> Â Â  \fi
>> Â Â  )
>> Â Â  \autoinsertedspace
>> \stoptexdefinition
>>
>> Hans
> 
> Thank you for that. This works for me with \optionalspace, but fails in 
> some cases with \autoinsertedspace.
> 
> I have now re-read lowlevel-macros.pdf and have a better understanding 
> of what I read when first I approached it; I still have a way to go.
> 
> /Tolerant/ removes the need for /dodoubleempty/ and friends and the 
> two-step /macro/ and /doMacro/ dance. There was a small advantage to the 
> two-step, however. I had two separate macros, BD and BDNP (no parens), 
> as shown.
> 
> The old code in full was:
> 
>     %-------------------- Birth and death dates -----------------------%
>     % Ferdinand de Saussure\BD{1857}{1913}
>     % Noam Chomsky \BD{1928}
>     %
>     % Perhaps this could be tied to an acronym-like database so that the
>     %Â Â  dates are printed only once per person.
>     % \removeunwantedspaces allows this to directly follow, or follow
>     %Â Â  after whitespace, the associated name: Name\BD{1}{2} or
>     %Â Â  Name \BD{1}{2}.
>     % Using the compound indication (|â|) allows hyphenation after the
>     %Â Â  endash. Omitting it and using a bare endash inhibits hyphenation
>     %Â Â  âtwixt the endash and the paren.
>     % By default, add parens around the dates. If none are needed due to
>     %Â Â  the context, use \BDNP.
>     %
>     \newif\ifBDParen
>     \starttexdefinition unexpanded BD
>      Â  \BDParentrue
>      Â  \dodoublegroupempty
>      Â  \doBD
>     \stoptexdefinition
>     \starttexdefinition unexpanded BDNP
>      Â  \BDParenfalse
>      Â  \dodoublegroupempty
>      Â  \doBD
>     \stoptexdefinition
>     \starttexdefinition doBD #1#2
>      Â Â  \removeunwantedspaces\
>      Â Â  \ifBDParen(\fi
>      Â Â  \ifsecondargument
>      Â Â Â Â Â Â  #1|â|#2
>      Â Â  \else\iffirstargument
>      Â Â Â Â Â Â  #1â
>      Â Â  \else
>      Â Â Â Â Â Â  {\red I NEED A DATE OR DATES!}
>      Â Â  \fi\fi
>      Â Â  \ifBDParen)\fi
>      Â Â  \autoinsertedspace
>     \stoptexdefinition
> 
> Both call the same doBD, but they set a flag (newif) to control 
> insertion or not of the parens. While there is no performance benefit 
> compared to having two fully separate macros, there is a maintenance 
> benefit in having only one place, doBD, to make changes should they be 
> required.
> 
> Can you suggest a way to do this under the new one-step scheme, or am I 
> over-thinking this?

just remove the #* in the example i sent,

\starttexdefinition tolerant protected BD #=#=

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From j.hagen at freedom.nl  Fri Jan  6 08:55:07 2023
From: j.hagen at freedom.nl (Hans Hagen)
Date: Fri, 6 Jan 2023 08:55:07 +0100
Subject: [NTG-context] Non-standard font alternatives
In-Reply-To: <12D41BDE-AA30-41F8-B3A3-85C5A301E0D4@icloud.com>
References: <3AA1AF9A-D024-44A5-A568-2A1C14900BE5@icloud.com>
 <de7e1acd-809e-0625-c2d6-de10a710ccf2@freedom.nl>
 <12D41BDE-AA30-41F8-B3A3-85C5A301E0D4@icloud.com>
Message-ID: <673a7766-5218-dba5-7dac-a8922fa0718f@freedom.nl>

On 12/14/2022 11:49 AM, Matthew McCabe wrote:

> For anyone else looking to do something similar, since the typescript is just a tex file it seems if one places it in oneâs local directory it will be accessible when ConTeXt generates the pdf. I saved it as type-imp-roboto.tex in my local directory and used â\usebodyfont[roboto]â and â\usebodyfont[roboto-light]â to preload the fonts as recommended (\usetypescriptfile didnât seem to be required).
you can also put the definitions in the style (depends on how often you 
reuse it)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From gavinpublic at comcast.net  Fri Jan  6 15:17:20 2023
From: gavinpublic at comcast.net (Gavin)
Date: Fri, 6 Jan 2023 07:17:20 -0700
Subject: [NTG-context] Problem with latest version ?
In-Reply-To: <296AB549-C697-4133-ACB2-25E313A01BAE@libertycommon.org>
References: <CACyK-eohqmL5Em_Aw1SLCuQ7tr8RF6g85Q9=N1Rg2nFLQp1mkw@mail.gmail.com>
 <CACyK-erzNxfz9V=PSbNRKd-8+iOvPn1k64qE0PTus4tVN1Z-RA@mail.gmail.com>
 <0bb7909d-fa21-69a5-0fb8-a43b7ad0a46a@fiee.net>
 <b1284dd9-e93a-af89-2d46-2d020f7760db@freedom.nl>
 <1CDF9F95-4AE8-424A-9938-545B9B8DBA84@comcast.net>
 <5c6bb686-a9e9-8f4a-ad03-4efbadf84926@freedom.nl>
 <2E02ACF9-7211-4C4B-9AAC-5BD81182FBFF@comcast.net>
 <767a1162-9629-2a75-564f-97d8e4f052b9@freedom.nl>
 <296AB549-C697-4133-ACB2-25E313A01BAE@libertycommon.org>
Message-ID: <7C01F51D-EDE9-47C0-AA6D-3E911E0FC1B1@comcast.net>

Hi Hans,

> On Jan 5, 2023, at 5:49 AM, Hans Hagen via ntg-context <ntg-context at ntg.nl> wrote:
> On 1/5/2023 11:40 AM, Gavin via ntg-context wrote:
>> ...I can try with the latest LMTX later today. The test file works with TeXLive 2022
>> Gavin
>> TEST FILE:
>> \usemodule[tikz]
>> \usemodule[pgfplots] % PGFPlots module for graphs
>> \starttext
>> \starttikzpicture
>> \draw (0, 0) circle (3cm);
>> \stoptikzpicture
>> \starttikzpicture
>>  \startaxis
>>    \addplot+[domain=0:360]
>>        {sin(x)};
>>  \stopaxis
>> \stoptikzpicture
>> \stoptext
> fixed in next upload (later today)

I downloaded yesterday's upload. It did not work for me. I did a clean instal.

ConTeXt  ver: 2023.01.04 11:35 LMTX  fmt: 2023.1.6  int: english/english
...
tex error on line 14 in file ./TikZTest.tex: Control sequence expected instead of undefined
<recently read> 
   \startaxis 
<line 3.14> 
     \startaxis


-Gavin

From texml at fiee.net  Fri Jan  6 15:34:06 2023
From: texml at fiee.net (Henning Hraban Ramm)
Date: Fri, 6 Jan 2023 15:34:06 +0100
Subject: [NTG-context] regular online meet-up
Message-ID: <0142a787-2f1a-0c66-b5a2-4287b1b442e6@fiee.net>

Youâre invited to join on Wednesday, January 11th, 15:00 CET (UTC+1)

at https://lecture.senfcall.de/hen-rbr-rku-oke
(same, but shorter: https://v34h.de/ctxmtg)

ConTeXt users of all levels are welcome!

Next meeting will be on February 8th.


(Same blurb as every time:)

[Howto]
* No special software installation required; most modern browsers should 
work (WebRTC required).
* Open the above URL, accept the privacy statement,
* enter your name,
* click "join" (or "start" if youâre the first),
* click "with microphone", allow your browser to access it, check the audio.
* Your microphone is muted if you join. Activate microphone and/or 
camera with the buttons at the bottom.
* Minimize the default presentation with the "screen" button, bottom right.

* If youâd like to share your screen or upload a file, you can make 
yourself the presenter: Click on your user name, change the setting, 
then youâll see the "screen sharing" button beside the camera button; 
also thereâs now "manage presentations" behind the "plus" button.
Beware there is only one presenter at a time, so donât kill someone 
elseâs presentation.

[Technical hints]
* Sound is usually better if you use a headset (less noise for everyone).

* Connection problems are mostly due to low bandwidth or high latency on 
your side, e.g. with mobile connections.
* If audio/video doesnât work for you, you can still use the text chat.
* Screen sharing needs a lot of bandwidth.

* BigBlueButton documentation applies: 
https://bigbluebutton.org/teachers/tutorials/

[Netiquette]
* Please use a name that we recognize from here. Some feel uncomfortable 
with anonymous lurkers.
* Mute your microphone while youâre not talking.
* Itâs nice to show your face at least when you join.
* If there are connection problems, stop camera sharing.
* The room is set to âeveryoneâs a moderatorâ, I trust you...

See you, Hraban

From aleks.christe at gmail.com  Fri Jan  6 15:43:07 2023
From: aleks.christe at gmail.com (Alexandre Christe)
Date: Fri, 6 Jan 2023 15:43:07 +0100
Subject: [NTG-context] MP figure continuation
Message-ID: <CALC5-UJgsR+APNb-=yb2oi-dPFcztpdK4w1wwG5mnXHZRZkPwQ@mail.gmail.com>

Dear list,

Is there a way to "continue" an MP figure? Like keeping the axes, etc. and
just adding code to the figure?

Maybe I missed something, otherwise I'd find it super useful.

Thanks in advance and happy new year,
Alex
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230106/69c5d040/attachment.htm>

From news3 at nililand.de  Fri Jan  6 15:42:36 2023
From: news3 at nililand.de (Ulrike Fischer)
Date: Fri, 6 Jan 2023 15:42:36 +0100
Subject: [NTG-context] TUG 2023
References: <509a5ccc-c9a3-cce2-765a-35c977db8bfd@uni-bonn.de>
Message-ID: <10fuifgq7qrbc$.dlg@nililand.de>

Am Wed, 4 Jan 2023 17:50:52 +0100 schrieb Thomas A. Schmitz via
ntg-context:

> But to my topic: the official announcement for TUG 2023 is out. It will 
> be in Bonn, Germany, in a building literally (literally!) just across 
> the street from my university office. 

Interesting how near people can be ;-) I will have to go over the
bridge ...

> I guess I just what to get a  feeling what to expect at a TUG conference.

You could look at previous TUG videos to get a feeling
https://www.youtube.com/@TeXUsersGroup/playlists but imho you
shouldn't worry. 


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From mickep at gmail.com  Fri Jan  6 15:53:41 2023
From: mickep at gmail.com (Mikael Sundqvist)
Date: Fri, 6 Jan 2023 15:53:41 +0100
Subject: [NTG-context] MP figure continuation
In-Reply-To: <CALC5-UJgsR+APNb-=yb2oi-dPFcztpdK4w1wwG5mnXHZRZkPwQ@mail.gmail.com>
References: <CALC5-UJgsR+APNb-=yb2oi-dPFcztpdK4w1wwG5mnXHZRZkPwQ@mail.gmail.com>
Message-ID: <CAHy-LL__NAJ6rEixXr55Ly0cBnWeo0bbxQEHX7t_-Z_6odbOWg@mail.gmail.com>

On Fri, Jan 6, 2023 at 3:43 PM Alexandre Christe via ntg-context
<ntg-context at ntg.nl> wrote:
>
> Dear list,
>
> Is there a way to "continue" an MP figure? Like keeping the axes, etc. and just adding code to the figure?
>
> Maybe I missed something, otherwise I'd find it super useful.
>
> Thanks in advance and happy new year,
> Alex

Hi Alex,

Maybe there are other ways, but one can use \includeMPgraphic. One
simple example given below.

/Mikael

\starttext
\startuseMPgraphic{vanderwaerdenbas}
u:=3cm ;

def vdwbas(expr x) = abs(x-round x) enddef ;

def vdw(expr n,x) =
  if n = 0:
    vdwbas(x)
  else:
    vdwbas(x*pow(4,n))/pow(4,n)
  fi
enddef ;

path xaxis, yaxis ;
xaxis = ((-1.1,0)--(1.1,0)) scaled u ;
yaxis = ((0,-0.1)--(0,0.6)) scaled u ;

drawarrow xaxis withpen pencircle scaled 0.25 ;
drawarrow yaxis withpen pencircle scaled 0.25 ;
\stopuseMPgraphic

\startuseMPgraphic{vanderwaerden0}
\includeMPgraphic{vanderwaerdenbas}
draw function(1,"x","vdw(0,x)",epsed(-1),epsed(1),1/1000) scaled u ;
\stopuseMPgraphic

\startuseMPgraphic{vanderwaerden1}
\includeMPgraphic{vanderwaerdenbas}
draw function(1,"x","vdw(1,x)",epsed(-1),epsed(1),1/1000) scaled u ;
\stopuseMPgraphic

\startuseMPgraphic{vanderwaerden2}
\includeMPgraphic{vanderwaerdenbas}
draw function(1,"x","vdw(2,x)",epsed(-1),epsed(1),1/1000) scaled u ;
\stopuseMPgraphic

\startuseMPgraphic{vanderwaerden3}
\includeMPgraphic{vanderwaerdenbas}
draw function(1,"x","vdw(3,x)",epsed(-1),epsed(1),1/1000) scaled u ;
\stopuseMPgraphic

\startuseMPgraphic{vanderwaerden01}
\includeMPgraphic{vanderwaerdenbas}
draw function(1,"x","vdw(1,x)+vdw(0,x)",epsed(-1),epsed(1),1/1000) scaled u ;
\stopuseMPgraphic

\startuseMPgraphic{vanderwaerden012}
\includeMPgraphic{vanderwaerdenbas}
draw function(1,"x","vdw(2,x)+vdw(1,x)+vdw(0,x)",epsed(-1),epsed(1),1/1000)
scaled u ;
\stopuseMPgraphic

\startuseMPgraphic{vanderwaerden0123}
\includeMPgraphic{vanderwaerdenbas}
draw function(1,"x","vdw(3,x)+vdw(2,x)+vdw(1,x)+vdw(0,x)",epsed(-1),epsed(1),1/1000)
scaled u ;
\stopuseMPgraphic

\startplacefigure[reference=fig:vdw]
\startcombination[nx=2,ny=4]
{\useMPgraphic{vanderwaerden0}}   {(a)}
{\useMPgraphic{vanderwaerden0}}   {(b)}
{\useMPgraphic{vanderwaerden1}}   {(c)}
{\useMPgraphic{vanderwaerden01}}  {(d)}
{\useMPgraphic{vanderwaerden2}}   {(e)}
{\useMPgraphic{vanderwaerden012}} {(f)}
{\useMPgraphic{vanderwaerden3}}   {(g)}
{\useMPgraphic{vanderwaerden0123}}{(h)}
\stopcombination
\stopplacefigure

\stoptext

From mckaymeister at gmail.com  Fri Jan  6 15:56:10 2023
From: mckaymeister at gmail.com (Keith McKay)
Date: Fri, 6 Jan 2023 14:56:10 +0000
Subject: [NTG-context] How to buy a copy of NTG MAPS 52 (2022.1)
Message-ID: <f81605f1-9bbc-bd6a-5ac1-9590aca3bf15@gmail.com>

Colleagues

Can someone point me as to where I can purchase a copy of MAPS 52 
(2022.1) published by the Nederlandstalige TeX Gebruikersgroep last 
year? I am not a member of the NTG and it is too early for it to be 
freely available for viewing on their site, but I would like to read the 
article by Fabrice Larribe "MetaFun for generative art (English)" within 
that volume. The article was also mentioned in Chapter 7 of the manual 
"On Target".

Best Wishes

Keith McKay


From gavinpublic at comcast.net  Fri Jan  6 15:58:06 2023
From: gavinpublic at comcast.net (Gavin)
Date: Fri, 6 Jan 2023 07:58:06 -0700
Subject: [NTG-context] MP figure continuation
In-Reply-To: <CALC5-UJgsR+APNb-=yb2oi-dPFcztpdK4w1wwG5mnXHZRZkPwQ@mail.gmail.com>
References: <CALC5-UJgsR+APNb-=yb2oi-dPFcztpdK4w1wwG5mnXHZRZkPwQ@mail.gmail.com>
Message-ID: <5A42A919-6A4A-4377-971A-46C6AB06B1AD@comcast.net>

Hi Alex,

> Is there a way to "continue" an MP figure? Like keeping the axes, etc. and just adding code to the figure?

Buffers might be what you want. From the MetaFun manual:

> Buffers can be used to stepwise build graphics. By putting code in multiple buffers, you can selectively process this code. [p.124]

http://www.pragma-ade.nl/general/manuals/metafun-p.pdf

Hope that helps.

Gavin

From aleks.christe at gmail.com  Fri Jan  6 16:02:05 2023
From: aleks.christe at gmail.com (Alexandre Christe)
Date: Fri, 6 Jan 2023 16:02:05 +0100
Subject: [NTG-context] MP figure continuation
In-Reply-To: <5A42A919-6A4A-4377-971A-46C6AB06B1AD@comcast.net>
References: <CALC5-UJgsR+APNb-=yb2oi-dPFcztpdK4w1wwG5mnXHZRZkPwQ@mail.gmail.com>
 <5A42A919-6A4A-4377-971A-46C6AB06B1AD@comcast.net>
Message-ID: <CALC5-UKprK_EgT=Z=x7+YXJ+r=BFKbs9H0wQ7CK+V4ms5vfavA@mail.gmail.com>

Aye, thanks Mikael and Gavin. Hard 2023 re-start...

Le ven. 6 janv. 2023 Ã  15:58, Gavin <gavinpublic at comcast.net> a Ã©crit :

> Hi Alex,
>
> > Is there a way to "continue" an MP figure? Like keeping the axes, etc.
> and just adding code to the figure?
>
> Buffers might be what you want. From the MetaFun manual:
>
> > Buffers can be used to stepwise build graphics. By putting code in
> multiple buffers, you can selectively process this code. [p.124]
>
> http://www.pragma-ade.nl/general/manuals/metafun-p.pdf
>
> Hope that helps.
>
> Gavin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230106/89497696/attachment.htm>

From fabrice1.couvreur at gmail.com  Fri Jan  6 17:09:03 2023
From: fabrice1.couvreur at gmail.com (Fabrice Couvreur)
Date: Fri, 6 Jan 2023 16:09:03 +0000
Subject: [NTG-context] Problem with latest version ?
In-Reply-To: <7C01F51D-EDE9-47C0-AA6D-3E911E0FC1B1@comcast.net>
References: <CACyK-eohqmL5Em_Aw1SLCuQ7tr8RF6g85Q9=N1Rg2nFLQp1mkw@mail.gmail.com>
 <CACyK-erzNxfz9V=PSbNRKd-8+iOvPn1k64qE0PTus4tVN1Z-RA@mail.gmail.com>
 <0bb7909d-fa21-69a5-0fb8-a43b7ad0a46a@fiee.net>
 <b1284dd9-e93a-af89-2d46-2d020f7760db@freedom.nl>
 <1CDF9F95-4AE8-424A-9938-545B9B8DBA84@comcast.net>
 <5c6bb686-a9e9-8f4a-ad03-4efbadf84926@freedom.nl>
 <2E02ACF9-7211-4C4B-9AAC-5BD81182FBFF@comcast.net>
 <767a1162-9629-2a75-564f-97d8e4f052b9@freedom.nl>
 <296AB549-C697-4133-ACB2-25E313A01BAE@libertycommon.org>
 <7C01F51D-EDE9-47C0-AA6D-3E911E0FC1B1@comcast.net>
Message-ID: <CACyK-erSPR6KbMFNt=jqJyf7uk8+pCYdhQb=psk0BVXg=L1S=Q@mail.gmail.com>

Hi,
>From my side, after the last update, it works.
Thank you Hans.
Fabrice

Le ven. 6 janv. 2023 Ã  14:17, Gavin via ntg-context <ntg-context at ntg.nl> a
Ã©crit :

> Hi Hans,
>
> > On Jan 5, 2023, at 5:49 AM, Hans Hagen via ntg-context <
> ntg-context at ntg.nl> wrote:
> > On 1/5/2023 11:40 AM, Gavin via ntg-context wrote:
> >> ...I can try with the latest LMTX later today. The test file works with
> TeXLive 2022
> >> Gavin
> >> TEST FILE:
> >> \usemodule[tikz]
> >> \usemodule[pgfplots] % PGFPlots module for graphs
> >> \starttext
> >> \starttikzpicture
> >> \draw (0, 0) circle (3cm);
> >> \stoptikzpicture
> >> \starttikzpicture
> >>  \startaxis
> >>    \addplot+[domain=0:360]
> >>        {sin(x)};
> >>  \stopaxis
> >> \stoptikzpicture
> >> \stoptext
> > fixed in next upload (later today)
>
> I downloaded yesterday's upload. It did not work for me. I did a clean
> instal.
>
> ConTeXt  ver: 2023.01.04 11:35 LMTX  fmt: 2023.1.6  int: english/english
> ...
> tex error on line 14 in file ./TikZTest.tex: Control sequence expected
> instead of undefined
> <recently read>
>    \startaxis
> <line 3.14>
>      \startaxis
>
>
> -Gavin
>
> ___________________________________________________________________________________
> If your question is of interest to others as well, please add an entry to
> the Wiki!
>
> maillist : ntg-context at ntg.nl /
> https://www.ntg.nl/mailman/listinfo/ntg-context
> webpage  : https://www.pragma-ade.nl / http://context.aanhet.net
> archive  : https://bitbucket.org/phg/context-mirror/commits/
> wiki     : https://contextgarden.net
>
> ___________________________________________________________________________________
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230106/eb8d12dc/attachment.htm>

From jacobkauffmann at me.com  Fri Jan  6 17:48:46 2023
From: jacobkauffmann at me.com (Jacob Kauffmann)
Date: Fri, 6 Jan 2023 17:48:46 +0100
Subject: [NTG-context] Issue with location parameter in matrix
Message-ID: <7919E1FB-70DA-4D7E-9E80-62E4898D7541@me.com>

Hi all,

Thank you for your recent assistance with calligraphic math fonts.

I am trying to use a matrix example from math-ali.mkxl, but I am running into an issue.
When I try to use the location parameter, I receive the error
	A <box> was supposed to be here.

I have also tried both location=bottom and location=top, but both give the same error.

Do you have any ideas on how I can get the matrix in the desired locations?
Thank you in advance for your help.

Best regards,
Jacob

\starttext

\startformula
\startmatrix[left={\left(},right={\right)}]
  \NC A \NC B \NR \NC C \NC D \NR
\stopmatrix
=
\startmatrix[left={\left(},right={\right)},location=low]
  \NC A \NC B \NR \NC C \NC D \NR
\stopmatrix
=
\startmatrix[left={\left(},right={\right)},location=high]
  \NC A \NC B \NR \NC C \NC D \NR
\stopmatrix
\stopformula

\stoptext
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230106/10b805b8/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: Message signed with OpenPGP
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230106/10b805b8/attachment.sig>

From alan.braslau at icloud.com  Sat Jan  7 03:35:06 2023
From: alan.braslau at icloud.com (Alan Braslau)
Date: Fri, 6 Jan 2023 19:35:06 -0700
Subject: [NTG-context] MP figure continuation
In-Reply-To: <CALC5-UJgsR+APNb-=yb2oi-dPFcztpdK4w1wwG5mnXHZRZkPwQ@mail.gmail.com>
References: <CALC5-UJgsR+APNb-=yb2oi-dPFcztpdK4w1wwG5mnXHZRZkPwQ@mail.gmail.com>
Message-ID: <20230106193506.48e1a647@boo.my.domain>

On Fri, 6 Jan 2023 15:43:07 +0100
Alexandre Christe via ntg-context <ntg-context at ntg.nl> wrote:

> Dear list,
> 
> Is there a way to "continue" an MP figure? Like keeping the axes,
> etc. and just adding code to the figure?
> 
> Maybe I missed something, otherwise I'd find it super useful.
> 
> Thanks in advance and happy new year,
> Alex

Another solution is to save the picture:

\startMPcode

draw fullcircle scaled 1cm ;
picture mypicture ; mypicture := currentpicture ;

\stopMPcode

Then, the next call to \startMPcode (or whatever you use) will have
access to the saved picture.

\startMPcode

currentpicture := mypicture ;
draw unitsquare scaled 1cm withcolor red ;

\stopMPcode

currentpicture is reset for each MP call.

Of course, you must not use
	save mypicture ; picture mypicture ;
because that will make it local.

Alan

From alan.braslau at icloud.com  Sat Jan  7 03:40:16 2023
From: alan.braslau at icloud.com (Alan Braslau)
Date: Fri, 6 Jan 2023 19:40:16 -0700
Subject: [NTG-context] TUG 2023
In-Reply-To: <75d98456-24d0-dbfc-d36f-c3868bb85311@freedom.nl>
References: <509a5ccc-c9a3-cce2-765a-35c977db8bfd@uni-bonn.de>
 <75d98456-24d0-dbfc-d36f-c3868bb85311@freedom.nl>
Message-ID: <20230106194016.706e0b91@boo.my.domain>

On Thu, 5 Jan 2023 18:20:14 +0100
Hans Hagen via ntg-context <ntg-context at ntg.nl> wrote:

> The only meeting in my agende is the ctx meeting later that year, so
> no plans.

The seventeenth ConTEXt meeting will take place in PragueâSibÅina,
Czech Republic on

September 10thâ16th, 2023



Anyone who has not been to SibÅina is missing something!
(I say with likely regret, not expecting to be able to attend.)

Alan

From gavinpublic at comcast.net  Sat Jan  7 16:22:52 2023
From: gavinpublic at comcast.net (Gavin)
Date: Sat, 7 Jan 2023 08:22:52 -0700
Subject: [NTG-context] Problem with latest version ?
In-Reply-To: <CACyK-erSPR6KbMFNt=jqJyf7uk8+pCYdhQb=psk0BVXg=L1S=Q@mail.gmail.com>
References: <CACyK-eohqmL5Em_Aw1SLCuQ7tr8RF6g85Q9=N1Rg2nFLQp1mkw@mail.gmail.com>
 <CACyK-erzNxfz9V=PSbNRKd-8+iOvPn1k64qE0PTus4tVN1Z-RA@mail.gmail.com>
 <0bb7909d-fa21-69a5-0fb8-a43b7ad0a46a@fiee.net>
 <b1284dd9-e93a-af89-2d46-2d020f7760db@freedom.nl>
 <1CDF9F95-4AE8-424A-9938-545B9B8DBA84@comcast.net>
 <5c6bb686-a9e9-8f4a-ad03-4efbadf84926@freedom.nl>
 <2E02ACF9-7211-4C4B-9AAC-5BD81182FBFF@comcast.net>
 <767a1162-9629-2a75-564f-97d8e4f052b9@freedom.nl>
 <296AB549-C697-4133-ACB2-25E313A01BAE@libertycommon.org>
 <7C01F51D-EDE9-47C0-AA6D-3E911E0FC1B1@comcast.net>
 <CACyK-erSPR6KbMFNt=jqJyf7uk8+pCYdhQb=psk0BVXg=L1S=Q@mail.gmail.com>
Message-ID: <04F1F801-D1C8-4C40-9B3A-20C15A2A6D00@comcast.net>

Hi Hans, Fabrice, and List,

Now it is working for me. I had installed the new upload. I also needed to put the two new files from Hansâ earlier email (m-tikz-pgfplots.tex and m-tikz-pgfplotstable.tex) in the right spot (tex/texmf-context/tex/context/modules/mkxl) and run "mtxrun --generateâ. Iâm not sure if I was also supposed to put the third file from the earlier email in this spot also, but I didnât, and it works.

I am still getting some new errors in specific files, but I will spend some time tracking down the source of those errors before starting a new thread. That might be a while, because all of the things I need for my current work are now working.

Iâve re-attached those two files from the earlier email from Hans so anyone reading this doesnât need to hunt for them.

Thanks for the fixes!

Gavin


-------------- next part --------------
A non-text attachment was scrubbed...
Name: m-tikz-pgfplots.tex
Type: application/octet-stream
Size: 1194 bytes
Desc: not available
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230107/c6bae745/attachment.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: m-tikz-pgfplotstable.tex
Type: application/octet-stream
Size: 200 bytes
Desc: not available
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230107/c6bae745/attachment-0001.obj>
-------------- next part --------------


> On Jan 6, 2023, at 9:09 AM, Fabrice Couvreur via ntg-context <ntg-context at ntg.nl> wrote:
> 
> Hi,
> From my side, after the last update, it works.
> Thank you Hans.
> Fabrice
> 
> Le ven. 6 janv. 2023 Ã  14:17, Gavin via ntg-context <ntg-context at ntg.nl> a Ã©crit :
> Hi Hans,
> 
> > On Jan 5, 2023, at 5:49 AM, Hans Hagen via ntg-context <ntg-context at ntg.nl> wrote:
> > On 1/5/2023 11:40 AM, Gavin via ntg-context wrote:
> >> ...I can try with the latest LMTX later today. The test file works with TeXLive 2022
> >> Gavin
> >> TEST FILE:
> >> \usemodule[tikz]
> >> \usemodule[pgfplots] % PGFPlots module for graphs
> >> \starttext
> >> \starttikzpicture
> >> \draw (0, 0) circle (3cm);
> >> \stoptikzpicture
> >> \starttikzpicture
> >>  \startaxis
> >>    \addplot+[domain=0:360]
> >>        {sin(x)};
> >>  \stopaxis
> >> \stoptikzpicture
> >> \stoptext
> > fixed in next upload (later today)
> 
> I downloaded yesterday's upload. It did not work for me. I did a clean instal.
> 
> ConTeXt  ver: 2023.01.04 11:35 LMTX  fmt: 2023.1.6  int: english/english
> ...
> tex error on line 14 in file ./TikZTest.tex: Control sequence expected instead of undefined
> <recently read> 
>    \startaxis 
> <line 3.14> 
>      \startaxis
> 
> 
> -Gavin
> ___________________________________________________________________________________
> If your question is of interest to others as well, please add an entry to the Wiki!
> 
> maillist : ntg-context at ntg.nl / https://www.ntg.nl/mailman/listinfo/ntg-context
> webpage  : https://www.pragma-ade.nl / http://context.aanhet.net
> archive  : https://bitbucket.org/phg/context-mirror/commits/
> wiki     : https://contextgarden.net
> ___________________________________________________________________________________
> ___________________________________________________________________________________
> If your question is of interest to others as well, please add an entry to the Wiki!
> 
> maillist : ntg-context at ntg.nl / https://www.ntg.nl/mailman/listinfo/ntg-context
> webpage  : https://www.pragma-ade.nl / http://context.aanhet.net
> archive  : https://bitbucket.org/phg/context-mirror/commits/
> wiki     : https://contextgarden.net
> ___________________________________________________________________________________


From thomas.schmitz at uni-bonn.de  Sun Jan  8 20:02:45 2023
From: thomas.schmitz at uni-bonn.de (Thomas A. Schmitz)
Date: Sun, 8 Jan 2023 20:02:45 +0100
Subject: [NTG-context] Trouble with latest...
Message-ID: <7C0D2D9A-945A-4F82-BD08-EF0938B61E19@uni-bonn.de>

Hi all,

I tried upgrading to the 2023 version, but generating the format fails with lots of these messages:

! Control sequence expected instead of undefined.
<macro> \syst_basics_allocate_yes      #1#2#3#4#5->\ifnum #1<#4\relax \global \advanceby      #1\plusone \permanent \global #3#5=#1\relax \else \writestatus {warning}{no room f
<line 3.493>      \newmuskip   \scratchmuskip
         \newmuskip   \globalscratchmuskip  \newmuskip   \privatescratchmuskip

! Control sequence expected instead of undefined.
<macro> \syst_basics_allocate_yes      #1#2#3#4#5->\ifnum #1<#4\relax \global \advanceby      #1\plusone \permanent \global #3#5=#1\relax \else \writestatus {warning}{no room f
<line 3.493> 

But I was surprised that nobody else had seen it yet. Can anyone confirm (or yell âworks for me!â)?

All best

Thomas

From wolfgang.schuster.lists at gmail.com  Sun Jan  8 21:02:32 2023
From: wolfgang.schuster.lists at gmail.com (Wolfgang Schuster)
Date: Sun, 8 Jan 2023 21:02:32 +0100
Subject: [NTG-context] Trouble with latest...
In-Reply-To: <7C0D2D9A-945A-4F82-BD08-EF0938B61E19@uni-bonn.de>
References: <7C0D2D9A-945A-4F82-BD08-EF0938B61E19@uni-bonn.de>
Message-ID: <4075df2b-2de5-10b7-e4b8-6eb8172e8d50@gmail.com>

Thomas A. Schmitz via ntg-context schrieb am 08.01.2023 um 20:02:
> Hi all,
>
> I tried upgrading to the 2023 version, but generating the format fails with lots of these messages:
>
> ! Control sequence expected instead of undefined.
> <macro> \syst_basics_allocate_yes      #1#2#3#4#5->\ifnum #1<#4\relax \global \advanceby      #1\plusone \permanent \global #3#5=#1\relax \else \writestatus {warning}{no room f
> <line 3.493>      \newmuskip   \scratchmuskip
>           \newmuskip   \globalscratchmuskip  \newmuskip   \privatescratchmuskip
>
> ! Control sequence expected instead of undefined.
> <macro> \syst_basics_allocate_yes      #1#2#3#4#5->\ifnum #1<#4\relax \global \advanceby      #1\plusone \permanent \global #3#5=#1\relax \else \writestatus {warning}{no room f
> <line 3.493>
>
> But I was surprised that nobody else had seen it yet. Can anyone confirm (or yell âworks for me!â)?

You luametatex binary is too old and fails on the new \advanceby command.

When I tried to update my current installation a few moments ago the 
updater also failed to load the new luametatex binary (I haven't tried 
to regenerate the format files) but a fresh installation works without 
problems.

Wolfgang


From thomas.schmitz at uni-bonn.de  Sun Jan  8 21:32:21 2023
From: thomas.schmitz at uni-bonn.de (Thomas A. Schmitz)
Date: Sun, 8 Jan 2023 21:32:21 +0100
Subject: [NTG-context] Trouble with latest...
In-Reply-To: <4075df2b-2de5-10b7-e4b8-6eb8172e8d50@gmail.com>
References: <7C0D2D9A-945A-4F82-BD08-EF0938B61E19@uni-bonn.de>
 <4075df2b-2de5-10b7-e4b8-6eb8172e8d50@gmail.com>
Message-ID: <b6894dad-1560-d2c0-d3b5-57bfb5249024@uni-bonn.de>

On 1/8/23 21:02, Wolfgang Schuster via ntg-context wrote:
> You luametatex binary is too old and fails on the new \advanceby command.
> 
> When I tried to update my current installation a few moments ago the 
> updater also failed to load the new luametatex binary (I haven't tried 
> to regenerate the format files) but a fresh installation works without 
> problems.
> 
> Wolfgang

Thank you, Wolfgang, will try with a fresh installation. Now that you 
mention it, I see some error messages in the log

mtx-install     | changed  :   0 % :  3360848 : 
tex/texmf-linux-64/bin/luametatex
mtx-install     | tex/texmf-linux-64/bin/luametatex, try again later:

All best

Thomas

From j.hagen at xs4all.nl  Sun Jan  8 21:37:42 2023
From: j.hagen at xs4all.nl (Hans Hagen)
Date: Sun, 8 Jan 2023 21:37:42 +0100
Subject: [NTG-context] Trouble with latest...
In-Reply-To: <b6894dad-1560-d2c0-d3b5-57bfb5249024@uni-bonn.de>
References: <7C0D2D9A-945A-4F82-BD08-EF0938B61E19@uni-bonn.de>
 <4075df2b-2de5-10b7-e4b8-6eb8172e8d50@gmail.com>
 <b6894dad-1560-d2c0-d3b5-57bfb5249024@uni-bonn.de>
Message-ID: <b4dbe852-b2fd-c1f0-812f-8c0285cc051f@xs4all.nl>

On 1/8/2023 9:32 PM, Thomas A. Schmitz via ntg-context wrote:
> On 1/8/23 21:02, Wolfgang Schuster via ntg-context wrote:
>> You luametatex binary is too old and fails on the new \advanceby command.
>>
>> When I tried to update my current installation a few moments ago the 
>> updater also failed to load the new luametatex binary (I haven't tried 
>> to regenerate the format files) but a fresh installation works without 
>> problems.
>>
>> Wolfgang
> 
> Thank you, Wolfgang, will try with a fresh installation. Now that you 
> mention it, I see some error messages in the log
> 
> mtx-installÂ Â Â Â  | changedÂ  :Â Â  0 % :Â  3360848 : 
> tex/texmf-linux-64/bin/luametatex
> mtx-installÂ Â Â Â  | tex/texmf-linux-64/bin/luametatex, try again later:

this is indeed an indication that an old binary is used

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From alain.delmotte at leliseron.org  Mon Jan  9 18:40:08 2023
From: alain.delmotte at leliseron.org (Alain Delmotte)
Date: Mon, 9 Jan 2023 18:40:08 +0100
Subject: [NTG-context] Trouble with latest...
In-Reply-To: <4075df2b-2de5-10b7-e4b8-6eb8172e8d50@gmail.com>
References: <7C0D2D9A-945A-4F82-BD08-EF0938B61E19@uni-bonn.de>
 <4075df2b-2de5-10b7-e4b8-6eb8172e8d50@gmail.com>
Message-ID: <a9f75f79-9efe-7777-eec6-a90301394eb7@leliseron.org>

Hi!

Le 8/01/2023 Ã  21:02, Wolfgang Schuster via ntg-context a 
Ã©critÂ :
> Thomas A. Schmitz via ntg-context schrieb am 08.01.2023 um 
> 20:02:
>> Hi all,
>>
>> I tried upgrading to the 2023 version, but generating the 
>> format fails with lots of these messages:
>>
>> [...]
>> But I was surprised that nobody else had seen it yet. Can 
>> anyone confirm (or yell âworks for me!â)?
>
> You luametatex binary is too old and fails on the new 
> \advanceby command.
>
> When I tried to update my current installation a few 
> moments ago the updater also failed to load the new 
> luametatex binary (I haven't tried to regenerate the 
> format files) but a fresh installation works without 
> problems.
>
> Wolfgang

I am working on Windows 10.

Anytime a new upload is announced, I download the 
context-win64.zip unpack it and run install.bat and setpath.bat.

Is it a fresh installation? Or should I from time to time 
erase my installation and run install.bat to create a new 
distribution?

Thanks for the advices!

Happy New Year to everybody!

Alain


From w.egger at boede.nl  Mon Jan  9 18:54:28 2023
From: w.egger at boede.nl (Willi Egger)
Date: Mon, 9 Jan 2023 18:54:28 +0100
Subject: [NTG-context] No format file after updating...
Message-ID: <FCF5D2BA-49E9-4890-993A-32277B27B89F@boede.nl>

Good morning!

Last night I updated LMTX on my Raspberry Pi4. â After this action it appeared, that I could no-more compile tex-files: error no format found.
I tried to generate a format manually., however this did not work out. In the log-file the following error is placed:

â¦/anch-pgr.lmt:901: unexpected symbol near â0â
...

error loading file: anch-pgr.lmt (aborting).

Kind regards

Willi





From jacobkauffmann at me.com  Mon Jan  9 18:59:50 2023
From: jacobkauffmann at me.com (Jacob Kauffmann)
Date: Mon, 9 Jan 2023 18:59:50 +0100
Subject: [NTG-context] Issue with location parameter in matrix
In-Reply-To: <7919E1FB-70DA-4D7E-9E80-62E4898D7541@me.com>
References: <7919E1FB-70DA-4D7E-9E80-62E4898D7541@me.com>
Message-ID: <D77C9D13-C1DB-4C25-9C43-455C1AF7ED1F@me.com>

One trick is to wrap the matrices inside a framed environment and putting the location parameter there:

\starttext

\startformula
\startmatrix[left={\left(},right={\right)}]
  \NC A \NC B \NR \NC C \NC D \NR
\stopmatrix
=
\startframed[location=top,frame=no,offset=none]
\startmatrix[left={\left(},right={\right)}]
  \NC A \NC B \NR \NC C \NC D \NR
\stopmatrix
\stopframed
=
\startframed[location=bottom,frame=no,offset=none]
\startmatrix[left={\left(},right={\right)}]
  \NC A \NC B \NR \NC C \NC D \NR
\stopmatrix
\stopframed
\stopformula

\stoptext

> Am 06.01.2023 um 17:48 schrieb Jacob Kauffmann via ntg-context <ntg-context at ntg.nl>:
> 
> Signierter PGP-Teil
> Hi all,
> 
> Thank you for your recent assistance with calligraphic math fonts.
> 
> I am trying to use a matrix example from math-ali.mkxl, but I am running into an issue.
> When I try to use the location parameter, I receive the error
> 	A <box> was supposed to be here.
> 
> I have also tried both location=bottom and location=top, but both give the same error.
> 
> Do you have any ideas on how I can get the matrix in the desired locations?
> Thank you in advance for your help.
> 
> Best regards,
> Jacob
> 
> \starttext
> 
> \startformula
> \startmatrix[left={\left(},right={\right)}]
>   \NC A \NC B \NR \NC C \NC D \NR
> \stopmatrix
> =
> \startmatrix[left={\left(},right={\right)},location=low]
>   \NC A \NC B \NR \NC C \NC D \NR
> \stopmatrix
> =
> \startmatrix[left={\left(},right={\right)},location=high]
>   \NC A \NC B \NR \NC C \NC D \NR
> \stopmatrix
> \stopformula
> 
> \stoptext
> 
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230109/e1778256/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: Message signed with OpenPGP
URL: <http://mailman.ntg.nl/pipermail/ntg-context/attachments/20230109/e1778256/attachment.sig>

From j.hagen at xs4all.nl  Mon Jan  9 20:45:39 2023
From: j.hagen at xs4all.nl (Hans Hagen)
Date: Mon, 9 Jan 2023 20:45:39 +0100
Subject: [NTG-context] No format file after updating...
In-Reply-To: <FCF5D2BA-49E9-4890-993A-32277B27B89F@boede.nl>
References: <FCF5D2BA-49E9-4890-993A-32277B27B89F@boede.nl>
Message-ID: <c603f847-ed12-495d-d642-a66de77e9cee@xs4all.nl>

On 1/9/2023 6:54 PM, Willi Egger via ntg-context wrote:
> Good morning!
> 
> Last night I updated LMTX on my Raspberry Pi4. â After this action it appeared, that I could no-more compile tex-files: error no format found.
> I tried to generate a format manually., however this did not work out. In the log-file the following error is placed:
> 
> â¦/anch-pgr.lmt:901: unexpected symbol near â0â
> ...
> 
> error loading file: anch-pgr.lmt (aborting).
Wrong bin?

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From alan.braslau at icloud.com  Tue Jan 10 03:08:54 2023
From: alan.braslau at icloud.com (Alan Braslau)
Date: Mon, 9 Jan 2023 19:08:54 -0700
Subject: [NTG-context] Trouble with latest...
In-Reply-To: <a9f75f79-9efe-7777-eec6-a90301394eb7@leliseron.org>
References: <7C0D2D9A-945A-4F82-BD08-EF0938B61E19@uni-bonn.de>
 <4075df2b-2de5-10b7-e4b8-6eb8172e8d50@gmail.com>
 <a9f75f79-9efe-7777-eec6-a90301394eb7@leliseron.org>
Message-ID: <20230109190854.15e7989a@boo.my.domain>

On Mon, 9 Jan 2023 18:40:08 +0100
Alain Delmotte via ntg-context <ntg-context at ntg.nl> wrote:

> Anytime a new upload is announced, I download the 
> context-win64.zip unpack it and run install.bat and setpath.bat.
> 
> Is it a fresh installation? Or should I from time to time 
> erase my installation and run install.bat to create a new 
> distribution?

This is not a *fresh* install. In fact, you can simply run
./install.bat - there is no need to download context-win64.zip.

Having said that, the latest problem with the update has to do with an
updated luametatex binary, so your method might have worked by updating
the binary with the unzip, even if it is not a "fresh" install.

Alan


-- 
Alan Braslau
816 West Mountain Avenue
Fort Collins, CO 80521 USA
mobile: (970) 237-0957

Conserve energy! ;-)

From alan.braslau at icloud.com  Wed Jan 11 00:17:12 2023
From: alan.braslau at icloud.com (Alan Braslau)
Date: Tue, 10 Jan 2023 16:17:12 -0700
Subject: [NTG-context] Trouble with latest...
In-Reply-To: <20230109190854.15e7989a@boo.my.domain>
References: <7C0D2D9A-945A-4F82-BD08-EF0938B61E19@uni-bonn.de>
 <4075df2b-2de5-10b7-e4b8-6eb8172e8d50@gmail.com>
 <a9f75f79-9efe-7777-eec6-a90301394eb7@leliseron.org>
 <20230109190854.15e7989a@boo.my.domain>
Message-ID: <20230110161712.3bea3559@boo.my.domain>

On Mon, 9 Jan 2023 19:08:54 -0700
Alan Braslau via ntg-context <ntg-context at ntg.nl> wrote:

> On Mon, 9 Jan 2023 18:40:08 +0100
> Alain Delmotte via ntg-context <ntg-context at ntg.nl> wrote:
> 
> > Anytime a new upload is announced, I download the 
> > context-win64.zip unpack it and run install.bat and setpath.bat.
> > 
> > Is it a fresh installation? Or should I from time to time 
> > erase my installation and run install.bat to create a new 
> > distribution?
> 
> This is not a *fresh* install. In fact, you can simply run
> ./install.bat - there is no need to download context-win64.zip.
> 
> Having said that, the latest problem with the update has to do with an
> updated luametatex binary, so your method might have worked by
> updating the binary with the unzip, even if it is not a "fresh"
> install.

For information:

I tried updating by downloading a fresh zip and unpacking it over an
existing installation, then running ./install.bat. This failed with the
latest upload, although unzipping to a new location and running
./install.bat resulting in a good, updated distribution.

The install/update and mtxrun scripts could possibly be improved to
	1. start by updating the luametatex binary in a first step,
	then rerunning to update the rest of the distribution;
	2. systematically clear the luametatex-cache upon update (I
	believe that this is a small price to pay for robustness).
However, such changes clearly are not a priority to work out, for now.

Alan

From texml at fiee.net  Wed Jan 11 07:29:07 2023
From: texml at fiee.net (Henning Hraban Ramm)
Date: Wed, 11 Jan 2023 07:29:07 +0100
Subject: [NTG-context] regular online meet-up
In-Reply-To: <0142a787-2f1a-0c66-b5a2-4287b1b442e6@fiee.net>
References: <0142a787-2f1a-0c66-b5a2-4287b1b442e6@fiee.net>
Message-ID: <17c17161-27b9-384f-63f9-3785624e0dab@fiee.net>

Reminder: this is in a few hours.

CU, Hraban


Am 06.01.23 um 15:34 schrieb Henning Hraban Ramm via ntg-context:
> Youâre invited to join on Wednesday, January 11th, 15:00 CET (UTC+1)
> 
> at https://lecture.senfcall.de/hen-rbr-rku-oke
> (same, but shorter: https://v34h.de/ctxmtg)
> 
> ConTeXt users of all levels are welcome!
> 
> Next meeting will be on February 8th.


From oinos at gmx.es  Thu Jan 12 12:34:04 2023
From: oinos at gmx.es (Pablo Rodriguez)
Date: Thu, 12 Jan 2023 12:34:04 +0100
Subject: [NTG-context] binaries in latest
Message-ID: <bbe4c193-830b-1ff4-c93a-3c7c1a3712a0@gmx.es>

Dear list,

as already reported in another thread, bimaries (for Linux64) werenât
updated with current latest (2023.01.04 11:35),

Just in case it might help others (and to fix the issue), deleting the
file tex/texmf-linux-64.tma allows the download of newer binaries
(although the name for your platform should be different in other OS).

Just in case it might help,

Pablo

