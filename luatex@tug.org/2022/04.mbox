From luigi.scarso at gmail.com  Sun Apr  3 19:49:46 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Sun, 3 Apr 2022 19:49:46 +0200
Subject: [luatex] Luatex 1.15.0 announcement.
In-Reply-To: <CAG5iGsA-K7MEA+SC2T++txXOLyH5PmfYvFSeWeyQJL=o35T16w@mail.gmail.com>
References: <CAG5iGsDQKjZyxE1mwZFhOBbq55Z3ykPUbiy+sJ5D97kMfbDvqw@mail.gmail.com>
 <CAG5iGsA-K7MEA+SC2T++txXOLyH5PmfYvFSeWeyQJL=o35T16w@mail.gmail.com>
Message-ID: <CAG5iGsAntDojvBN3Hyo8GO3OESihPhzURcA-08SDotS9zytn3A@mail.gmail.com>

==============================================================
LuaTeX 1.15.0 2021-12-31
==============================================================

New primitive \matheqdirmode.
By default the short skip detection is not adapted to r2l typesetting and
that
hasn't been the case since the start of the project. Changing it could break
hacks that users came up with but when you set \matheqdirmode to a positive
value direction will be taken into account.

Several bug fixes (see ChangeLog).


-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220403/3627e84f/attachment.html>

From luigi.scarso at gmail.com  Sun Apr  3 21:33:57 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Sun, 3 Apr 2022 21:33:57 +0200
Subject: [luatex] Setting up git mirror of luatex svn repo.
Message-ID: <CAG5iGsDU3Jo1UW+JPA1Lj1xih6u_Xz8UkDew3gtEpStMq8hC+Q@mail.gmail.com>

Hi all,
I would like to set up a git mirror (on github or ..) of the current
 luatex svn repo.
It should  cover all directory in the  current repo,  i.e branches,  tags ,
tools , trunk and  vendor,
all with the full history.
As known, the main svn repo is experimental and not trunk, but I think
that we can now switch  to the usual (svn) model trunk / tags .
I have done some experiments locally, but  probably I have messed up some
configs,
so I am open to suggestions.

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220403/5fc0eadd/attachment.html>

From norbert at preining.info  Mon Apr  4 03:08:14 2022
From: norbert at preining.info (Norbert Preining)
Date: Mon, 4 Apr 2022 10:08:14 +0900
Subject: [luatex] Setting up git mirror of luatex svn repo.
In-Reply-To: <CAG5iGsDU3Jo1UW+JPA1Lj1xih6u_Xz8UkDew3gtEpStMq8hC+Q@mail.gmail.com>
References: <CAG5iGsDU3Jo1UW+JPA1Lj1xih6u_Xz8UkDew3gtEpStMq8hC+Q@mail.gmail.com>
Message-ID: <YkpE/iQloDNBTXBW@preining.info>

Hi Luigi,

There is already an mirror since ages which I do:
	https://github.com/TeX-Live/luatex
Syncs are done every 30min or so (AFAIR) from my server (texlive.info).

Please check if this is what you want/need or what is missing.

Best

Norbert

From luigi.scarso at gmail.com  Mon Apr  4 08:42:39 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Mon, 4 Apr 2022 08:42:39 +0200
Subject: [luatex] Setting up git mirror of luatex svn repo.
In-Reply-To: <YkpE/iQloDNBTXBW@preining.info>
References: <CAG5iGsDU3Jo1UW+JPA1Lj1xih6u_Xz8UkDew3gtEpStMq8hC+Q@mail.gmail.com>
 <YkpE/iQloDNBTXBW@preining.info>
Message-ID: <CAG5iGsBr+B+81nF=uqBP-AUS2HX8odu_BetwtRRPFuThYBOdDA@mail.gmail.com>

On Mon, Apr 4, 2022 at 3:08 AM Norbert Preining <norbert at preining.info>
wrote:

> Hi Luigi,
>
> There is already an mirror since ages which I do:
>         https://github.com/TeX-Live/luatex


I know


> Syncs are done every 30min or so (AFAIR) from my server (texlive.info).
>
> Please check if this is what you want/need or what is missing.
>
>
I will check more carefully later, but I don't see the vendor branch.


-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220404/212caa76/attachment.html>

From norbert at preining.info  Mon Apr  4 09:05:30 2022
From: norbert at preining.info (Norbert Preining)
Date: Mon, 4 Apr 2022 16:05:30 +0900
Subject: [luatex] Setting up git mirror of luatex svn repo.
In-Reply-To: <CAG5iGsBr+B+81nF=uqBP-AUS2HX8odu_BetwtRRPFuThYBOdDA@mail.gmail.com>
References: <CAG5iGsDU3Jo1UW+JPA1Lj1xih6u_Xz8UkDew3gtEpStMq8hC+Q@mail.gmail.com>
 <YkpE/iQloDNBTXBW@preining.info>
 <CAG5iGsBr+B+81nF=uqBP-AUS2HX8odu_BetwtRRPFuThYBOdDA@mail.gmail.com>
Message-ID: <YkqYuqzOB/eg2zwX@preining.info>

> I will check more carefully later, but I don't see the vendor branch.

There seems to be none, interesting ... all branches *should* be mirrored
if their are available to the public svn.

Best

Norbert


From henri at henrimenke.de  Sat Apr  9 18:05:23 2022
From: henri at henrimenke.de (Henri Menke)
Date: Sat, 09 Apr 2022 18:05:23 +0200
Subject: [luatex] Bug: attempt to double-free kern node
Message-ID: <cfc43c46a1ff9cd2068962386867b5c79bf62117.camel@henrimenke.de>

Dear devs,

   ! error:  (nodes): attempt to double-free kern node 239, ignored
   !  ==> Fatal error occurred, no output PDF file produced!

MWE:

   \catcode`@=11
   
   \Umathordordspacing\displaystyle=\thinmuskip
   \Umathordordspacing\textstyle=\thinmuskip
   
   \def\operator at font{\fam0}
   
   \def\qopname#1#2#3{%
     \mathop{\mathpalette\@qopname{#1\kern\z@\operator at font#3}}\csname n#2limits@\endcsname
   }
   \def\@qopname#1#2{%
     \hbox{$
       \Umathordordspacing\displaystyle=0mu
       \Umathordordspacing\textstyle=0mu
       \m at th#1#2
       $}}
   
   \def\max{\qopname\relax m{max}}
   \def\min{\qopname\relax m{max}}
   
   \catcode`@=12
   
   $$\max a b / \min a b$$
   
   \bye

Cheers,
Henri

From luigi.scarso at gmail.com  Sat Apr  9 18:07:50 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Sat, 9 Apr 2022 18:07:50 +0200
Subject: [luatex] Bug: attempt to double-free kern node
In-Reply-To: <cfc43c46a1ff9cd2068962386867b5c79bf62117.camel@henrimenke.de>
References: <cfc43c46a1ff9cd2068962386867b5c79bf62117.camel@henrimenke.de>
Message-ID: <CAG5iGsCp_QjnUyewY4vERV6H3KhCTXWCO=ZvkR9=aG9zhn0Emw@mail.gmail.com>

On Sat, Apr 9, 2022 at 6:05 PM Henri Menke via luatex <luatex at tug.org>
wrote:

> Dear devs,
>
>    ! error:  (nodes): attempt to double-free kern node 239, ignored
>    !  ==> Fatal error occurred, no output PDF file produced!
>
> MWE:
>
>    \catcode`@=11
>
>    \Umathordordspacing\displaystyle=\thinmuskip
>    \Umathordordspacing\textstyle=\thinmuskip
>
>    \def\operator at font{\fam0}
>
>    \def\qopname#1#2#3{%
>      \mathop{\mathpalette\@qopname{#1\kern\z@\operator at font#3}}\csname
> n#2limits@\endcsname
>    }
>    \def\@qopname#1#2{%
>      \hbox{$
>        \Umathordordspacing\displaystyle=0mu
>        \Umathordordspacing\textstyle=0mu
>        \m at th#1#2
>        $}}
>
>    \def\max{\qopname\relax m{max}}
>    \def\min{\qopname\relax m{max}}
>
>    \catcode`@=12
>
>    $$\max a b / \min a b$$
>
>    \bye
>

ok, thank you . Checking it now.

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220409/f8efa2bc/attachment.html>

From wl at gnu.org  Sun Apr 10 06:13:29 2022
From: wl at gnu.org (Werner LEMBERG)
Date: Sun, 10 Apr 2022 04:13:29 +0000 (UTC)
Subject: [luatex] Website protocol problem
Message-ID: <20220410.061329.232313289848836965.wl@gnu.org>


Are there plans to update from HTTP to HTTPS for 'luatex.org'?  Some
browsers show warnings because of this...

Note that the top page also lacks an e-mail address (or a link to an
impressum page) to contact the website maintainer.


    Werner

From taco at bittext.nl  Mon Apr 11 09:45:22 2022
From: taco at bittext.nl (Taco Hoekwater)
Date: Mon, 11 Apr 2022 09:45:22 +0200
Subject: [luatex] Website protocol problem
In-Reply-To: <20220410.061329.232313289848836965.wl@gnu.org>
References: <20220410.061329.232313289848836965.wl@gnu.org>
Message-ID: <BDCC7583-2B7E-48AA-89A9-334AAADB7B28@bittext.nl>

Hi,

> On 10 Apr 2022, at 06:13, Werner LEMBERG <wl at gnu.org> wrote:
> 
> 
> Are there plans to update from HTTP to HTTPS for 'luatex.org'?  Some
> browsers show warnings because of this...

Not right now but we could do that in the future, I guess. Setting up
letsencrypt is not as complicated as it used to be. 
But I always though that those security warnings were a bit ridiculous 
for a static html website, so I have never been eager to change anything.

Taco

? 
Taco Hoekwater              E: taco at bittext.nl
genderfluid (all pronouns)





From luigi.scarso at gmail.com  Mon Apr 11 09:56:36 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Mon, 11 Apr 2022 09:56:36 +0200
Subject: [luatex] Website protocol problem
In-Reply-To: <BDCC7583-2B7E-48AA-89A9-334AAADB7B28@bittext.nl>
References: <20220410.061329.232313289848836965.wl@gnu.org>
 <BDCC7583-2B7E-48AA-89A9-334AAADB7B28@bittext.nl>
Message-ID: <CAG5iGsBngqdpgnyYS4nRw6NBRQ3dQYgVrt++GA0pFpoQSdOvMw@mail.gmail.com>

On Mon, Apr 11, 2022 at 9:45 AM Taco Hoekwater <taco at bittext.nl> wrote:

> Hi,
>
> > On 10 Apr 2022, at 06:13, Werner LEMBERG <wl at gnu.org> wrote:
> >
> >
> > Are there plans to update from HTTP to HTTPS for 'luatex.org'?  Some
> > browsers show warnings because of this...
>
> Not right now but we could do that in the future, I guess. Setting up
> letsencrypt is not as complicated as it used to be.
> But I always though that those security warnings were a bit ridiculous
> for a static html website, so I have never been eager to change anything.
>

browsers  nowadays tend to refuse http connection, I guess that at some
point it will not work at all because "insecure by definition".
Let's encrypt is very easy to set up (at least under ubuntu) and it simply
works, something you do one time and then forget.

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220411/5b1f3bbf/attachment.html>

From Julius.Muller at gmx.net  Mon Apr 11 10:11:19 2022
From: Julius.Muller at gmx.net (=?UTF-8?Q?Julius_M=c3=bcller?=)
Date: Mon, 11 Apr 2022 10:11:19 +0200
Subject: [luatex] Website protocol problem
In-Reply-To: <BDCC7583-2B7E-48AA-89A9-334AAADB7B28@bittext.nl>
References: <20220410.061329.232313289848836965.wl@gnu.org>
 <BDCC7583-2B7E-48AA-89A9-334AAADB7B28@bittext.nl>
Message-ID: <bc07108f-f895-a417-d16c-f06fdfbff5a7@gmx.net>

Hi Taco,

Am 11.04.22 um 09:45 schrieb Taco Hoekwater:
> But I always though that those security warnings were a bit ridiculous
> for a static html website, so I have never been eager to change anything.

it's not *your* site that's protected by switching to https. It's the
reader who trusts you who is protected by that.

With only http used, some evil website can pose as your website (for
example by misusing DNS). That mal intending website can contain lots of
malicious code. If well done, and especially if your readers expect only
static html, they may not even notice that links followed do more than
they should.

Https makes the reader notice if the website that claims to be yours
isn't yours. That's the main thing https does ? nothing more, nothing less.

Julius

PS: Yes, https does more. But that's what the browser's security warning
is about.




From henri at henrimenke.de  Mon Apr 11 20:15:57 2022
From: henri at henrimenke.de (Henri Menke)
Date: Mon, 11 Apr 2022 20:15:57 +0200
Subject: [luatex] Bug: Null-byte in csname not handled correctly
Message-ID: <30bc81ccef6900f37ee68f13ab14f0b8bb1f882d.camel@henrimenke.de>

Dear devs,

A control sequence that only contains a single null byte is not
correctly stringified. Comparison between Knuth TeX and LuaTeX:

   $ tex test.tex
   ! \^^@.
   l.2 \errmessage{\string\^^@}
   
   $ luatex test.tex
   ! \.
   l.2 \errmessage{\string\^^@}

MWE:

   \catcode0=11
   \errmessage{\string\^^@}
   \bye

Cheers,
Henri

From luigi.scarso at gmail.com  Tue Apr 12 08:44:58 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Tue, 12 Apr 2022 08:44:58 +0200
Subject: [luatex] Bug: attempt to double-free kern node
In-Reply-To: <CAG5iGsCp_QjnUyewY4vERV6H3KhCTXWCO=ZvkR9=aG9zhn0Emw@mail.gmail.com>
References: <cfc43c46a1ff9cd2068962386867b5c79bf62117.camel@henrimenke.de>
 <CAG5iGsCp_QjnUyewY4vERV6H3KhCTXWCO=ZvkR9=aG9zhn0Emw@mail.gmail.com>
Message-ID: <CAG5iGsAVMJVx95-62-==P8RbWtRH3ueNJH5H391jCz23Ot6UQQ@mail.gmail.com>

On Sat, Apr 9, 2022 at 6:07 PM luigi scarso <luigi.scarso at gmail.com> wrote:

>
>
> On Sat, Apr 9, 2022 at 6:05 PM Henri Menke via luatex <luatex at tug.org>
> wrote:
>
>> Dear devs,
>>
>>    ! error:  (nodes): attempt to double-free kern node 239, ignored
>>    !  ==> Fatal error occurred, no output PDF file produced!
>>
>> MWE:
>>
>>    \catcode`@=11
>>
>>    \Umathordordspacing\displaystyle=\thinmuskip
>>    \Umathordordspacing\textstyle=\thinmuskip
>>
>>    \def\operator at font{\fam0}
>>
>>    \def\qopname#1#2#3{%
>>      \mathop{\mathpalette\@qopname{#1\kern\z@\operator at font#3}}\csname
>> n#2limits@\endcsname
>>    }
>>    \def\@qopname#1#2{%
>>      \hbox{$
>>        \Umathordordspacing\displaystyle=0mu
>>        \Umathordordspacing\textstyle=0mu
>>        \m at th#1#2
>>        $}}
>>
>>    \def\max{\qopname\relax m{max}}
>>    \def\min{\qopname\relax m{max}}
>>
>>    \catcode`@=12
>>
>>    $$\max a b / \min a b$$
>>
>>    \bye
>>
>
> ok, thank you . Checking it now.
>


It should be fixed in rev7518.

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220412/4f176969/attachment.html>

From henri at henrimenke.de  Tue Apr 12 20:46:11 2022
From: henri at henrimenke.de (Henri Menke)
Date: Tue, 12 Apr 2022 20:46:11 +0200
Subject: [luatex] [PATCH] Make require return an error for ffi without
	shell-escape
Message-ID: <20220412184611.148441-1-henri@henrimenke.de>

This change will make require("ffi") fail with an error by default, which is
generally better than returning an unusable ffi table.  Third-party libraries
usually expect a working ffi table to be available after require("ffi").  That
promise was broken by the previous behavior.
---
 source/texk/web2c/luatexdir/lua/luatex-core.lua | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/source/texk/web2c/luatexdir/lua/luatex-core.lua b/source/texk/web2c/luatexdir/lua/luatex-core.lua
index 51cfa518d..730f0c812 100644
--- a/source/texk/web2c/luatexdir/lua/luatex-core.lua
+++ b/source/texk/web2c/luatexdir/lua/luatex-core.lua
@@ -212,6 +212,8 @@ if saferoption == 1 or shellescape ~= 1 then
     end
 
     ffi = nil
+    package.loaded.ffi = nil
+    package.preload.ffi = error
 
 end
 
-- 
2.33.1


From luigi.scarso at gmail.com  Wed Apr 13 09:29:47 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Wed, 13 Apr 2022 09:29:47 +0200
Subject: [luatex] [dev-context] Bug: Null-byte in csname not handled
	correctly
In-Reply-To: <30bc81ccef6900f37ee68f13ab14f0b8bb1f882d.camel@henrimenke.de>
References: <30bc81ccef6900f37ee68f13ab14f0b8bb1f882d.camel@henrimenke.de>
Message-ID: <CAG5iGsALFSeDnCvYoo+ub-f_aoSCkLLCARF+OKpLCERFnDcjDg@mail.gmail.com>

On Mon, Apr 11, 2022 at 8:16 PM Henri Menke <henri at henrimenke.de> wrote:

> Dear devs,
>
> A control sequence that only contains a single null byte is not
> correctly stringified. Comparison between Knuth TeX and LuaTeX:
>
>    $ tex test.tex
>    ! \^^@.
>    l.2 \errmessage{\string\^^@}
>
>    $ luatex test.tex
>    ! \.
>    l.2 \errmessage{\string\^^@}
>
> MWE:
>
>    \catcode0=11
>    \errmessage{\string\^^@}
>    \bye
>
>
looking at it.

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220413/ef645d27/attachment.html>

From luigi.scarso at gmail.com  Wed Apr 13 10:25:36 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Wed, 13 Apr 2022 10:25:36 +0200
Subject: [luatex] [PATCH] Make require return an error for ffi without
	shell-escape
In-Reply-To: <20220412184611.148441-1-henri@henrimenke.de>
References: <20220412184611.148441-1-henri@henrimenke.de>
Message-ID: <CAG5iGsBOzrZ7CGPOOJ5z9VH4naR5KKb5qN3f=9T77T=obbDGXA@mail.gmail.com>

On Tue, Apr 12, 2022 at 8:48 PM Henri Menke via luatex <luatex at tug.org>
wrote:

> This change will make require("ffi") fail with an error by default, which
> is
> generally better than returning an unusable ffi table.  Third-party
> libraries
> usually expect a working ffi table to be available after require("ffi").
> That
> promise was broken by the previous behavior.
> ---
>  source/texk/web2c/luatexdir/lua/luatex-core.lua | 2 ++
>  1 file changed, 2 insertions(+)
>
> diff --git a/source/texk/web2c/luatexdir/lua/luatex-core.lua
> b/source/texk/web2c/luatexdir/lua/luatex-core.lua
> index 51cfa518d..730f0c812 100644
> --- a/source/texk/web2c/luatexdir/lua/luatex-core.lua
> +++ b/source/texk/web2c/luatexdir/lua/luatex-core.lua
> @@ -212,6 +212,8 @@ if saferoption == 1 or shellescape ~= 1 then
>      end
>
>      ffi = nil
> +    package.loaded.ffi = nil
> +    package.preload.ffi = error
>
>  end
>
> --
> 2.33.1
>
>
Committed revision 7520.
-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220413/c989ebf2/attachment.html>

From thenders at gmail.com  Wed Apr 13 20:16:13 2022
From: thenders at gmail.com (Troy Henderson)
Date: Wed, 13 Apr 2022 13:16:13 -0500
Subject: [luatex] Default Paper Size
Message-ID: <CAFP+xFK9KOApwu9+sSJKxh=CkohHg4xwaO20o0d_aeHNCvrCXg@mail.gmail.com>

I recently installed Fedora Linux on a computer, and several packages
require that I have TeX Live installed through Fedora's package
system/repositories.  However, the default paper size in this distribution
of TeX Live 2021 is A4, and I would like to change it to Letter.

The command "tlmgr paper letter" does not seem to affect LuaTeX
(specifically, LuaLaTeX) and fails with the following output:

> sudo tlmgr paper letter
tlmgr: setting paper size for dvipdfmx to letter:
/usr/share/texlive/texmf-config/dvipdfmx/dvipdfmx.cfg
tlmgr: setting paper size for dvips to letter:
/usr/share/texlive/texmf-config/dvips/config/config.ps
tlmgr: setting paper size for pdftex to letter:
/usr/share/texlive/texmf-config/tex/generic/tex-ini-files/pdftexconfig.tex
tlmgr: setting paper size for psutils to letter:
/usr/share/texlive/texmf-config/psutils/paper.cfg
tlmgr: setting paper size for xdvi to letter:
/usr/share/texlive/texmf-config/xdvi/XDvi
tlmgr: An error has occurred. See above messages. Exiting.

This is almost certainly a Fedora TeX Live packaging issue, and it could be
resolved (I'm confident) by manually installing the binary TeX Live
distribution directly from TUG (which I have done many times before).
However, this is an undesirable solution because it may cause other
packages (that depend on TeX Live) to be "confused" and also would result
in twice the storage used (having side-by-side installations of TeX Live).

My question is "how can I 'fix' this problem?".  Specifically, are either
of the following possible:

   - Is it possible to change the default paper size without having to use
   tlmgr?  Does tlmgr call/execute a particular command that could possibly be
   executed manually?
   - Is it possible to set the default paper size for Lua(La)TeX from the
   command line?  For example, "lualatex --defaultpapersize letter" (or
   similar)?

Thank you in advance,

Troy Henderson
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220413/0705e48b/attachment.html>

From nma at 12000.org  Wed Apr 13 20:38:24 2022
From: nma at 12000.org (Nasser M. Abbasi)
Date: Wed, 13 Apr 2022 13:38:24 -0500
Subject: [luatex] Default Paper Size
In-Reply-To: <CAFP+xFK9KOApwu9+sSJKxh=CkohHg4xwaO20o0d_aeHNCvrCXg@mail.gmail.com>
References: <CAFP+xFK9KOApwu9+sSJKxh=CkohHg4xwaO20o0d_aeHNCvrCXg@mail.gmail.com>
Message-ID: <31caeadd-8a96-3813-ecb4-a415ff4ea541@12000.org>

I can't help with the command line, since I never used it.

But I always set the page size at installation right after

     sudo install-tl

Using the screen than comes up as shown here, in section 3.2.4 Options
little down the page:

https://www.tug.org/texlive/doc/texlive-en/texlive-en.html#installation

Options customization:
===============================================
  <P> use letter size instead of A4 by default: [ ]

This is how I always did it and it works for Lualatex also.

On 4/13/2022 1:16 PM, Troy Henderson wrote:
> I recently installed Fedora Linux on a computer, and several packages
> require that I have TeX Live installed through Fedora's package
> system/repositories.  However, the default paper size in this distribution
> of TeX Live 2021 is A4, and I would like to change it to Letter.
> 
> The command "tlmgr paper letter" does not seem to affect LuaTeX
> (specifically, LuaLaTeX) and fails with the following output:
> 
>> sudo tlmgr paper letter
> tlmgr: setting paper size for dvipdfmx to letter:
> /usr/share/texlive/texmf-config/dvipdfmx/dvipdfmx.cfg
> tlmgr: setting paper size for dvips to letter:
> /usr/share/texlive/texmf-config/dvips/config/config.ps
> tlmgr: setting paper size for pdftex to letter:
> /usr/share/texlive/texmf-config/tex/generic/tex-ini-files/pdftexconfig.tex
> tlmgr: setting paper size for psutils to letter:
> /usr/share/texlive/texmf-config/psutils/paper.cfg
> tlmgr: setting paper size for xdvi to letter:
> /usr/share/texlive/texmf-config/xdvi/XDvi
> tlmgr: An error has occurred. See above messages. Exiting.
> 
> This is almost certainly a Fedora TeX Live packaging issue, and it could be
> resolved (I'm confident) by manually installing the binary TeX Live
> distribution directly from TUG (which I have done many times before).
> However, this is an undesirable solution because it may cause other
> packages (that depend on TeX Live) to be "confused" and also would result
> in twice the storage used (having side-by-side installations of TeX Live).
> 
> My question is "how can I 'fix' this problem?".  Specifically, are either
> of the following possible:
> 
>     - Is it possible to change the default paper size without having to use
>     tlmgr?  Does tlmgr call/execute a particular command that could possibly be
>     executed manually?
>     - Is it possible to set the default paper size for Lua(La)TeX from the
>     command line?  For example, "lualatex --defaultpapersize letter" (or
>     similar)?
> 
> Thank you in advance,
> 
> Troy Henderson
> 


--Nasser

From cereda.paulo at gmail.com  Wed Apr 13 23:12:08 2022
From: cereda.paulo at gmail.com (Paulo Roberto Massa Cereda)
Date: Wed, 13 Apr 2022 18:12:08 -0300
Subject: [luatex] Default Paper Size
In-Reply-To: <CAFP+xFK9KOApwu9+sSJKxh=CkohHg4xwaO20o0d_aeHNCvrCXg@mail.gmail.com>
References: <CAFP+xFK9KOApwu9+sSJKxh=CkohHg4xwaO20o0d_aeHNCvrCXg@mail.gmail.com>
Message-ID: <0eedcf65-87bc-dec4-1835-6f39448a97ab@gmail.com>

Hi Troy,

Fedora user here. :)

I have vanilla TL 2022 and installed TL 2021 from the Fedora repos 
inside a toolbox. At least in my setup, I got the same behaviour on both 
distributions:

I still get A4 even when using "tlmgr paper letter". However, adding

---
\usepackage{geometry}
---

to my TeX file seems to make things work and thus letter is recognized. 
I suspect it trigger the corresponding PDF special.

IMHO it's not an issue distribution-wise, but just some idiosyncratic 
code behavior.

Cheerio,

Paulo

Em 13/04/2022 15:16, Troy Henderson escreveu:
> I recently installed Fedora Linux on a computer, and several packages 
> require that I have TeX Live installed through Fedora's package 
> system/repositories.? However, the default paper size in this 
> distribution of TeX Live 2021 is A4, and I would like to change it to 
> Letter.
> 
> The command "tlmgr paper letter" does not seem to affect LuaTeX 
> (specifically, LuaLaTeX) and fails with the following output:
> 
>  > sudo tlmgr paper letter
> tlmgr: setting paper size for dvipdfmx to letter: 
> /usr/share/texlive/texmf-config/dvipdfmx/dvipdfmx.cfg
> tlmgr: setting paper size for dvips to letter: 
> /usr/share/texlive/texmf-config/dvips/config/config.ps <http://config.ps>
> tlmgr: setting paper size for pdftex to letter: 
> /usr/share/texlive/texmf-config/tex/generic/tex-ini-files/pdftexconfig.tex
> tlmgr: setting paper size for psutils to letter: 
> /usr/share/texlive/texmf-config/psutils/paper.cfg
> tlmgr: setting paper size for xdvi to letter: 
> /usr/share/texlive/texmf-config/xdvi/XDvi
> tlmgr: An error has occurred. See above messages. Exiting.
> 
> This is almost certainly a Fedora TeX Live packaging issue, and it could 
> be resolved (I'm confident) by manually installing the binary TeX Live 
> distribution directly from TUG (which I have done many times before).  
> However, this is an undesirable solution because it may cause other 
> packages (that depend on TeX Live) to be "confused" and also would 
> result in twice the storage used (having side-by-side installations of 
> TeX Live).
> 
> My question is "how can I 'fix' this problem?".? Specifically, are 
> either of the following possible:
> 
>   * Is it possible to change the default paper size without having to
>     use tlmgr?? Does tlmgr call/execute a particular command that could
>     possibly be executed manually?
>   * Is it possible to set the default paper size for Lua(La)TeX from the
>     command line?? For example, "lualatex --defaultpapersize letter" (or
>     similar)?
> 
> Thank you in advance,
> 
> Troy Henderson

From norbert at preining.info  Thu Apr 14 02:12:00 2022
From: norbert at preining.info (Norbert Preining)
Date: Thu, 14 Apr 2022 09:12:00 +0900
Subject: [luatex] Default Paper Size
In-Reply-To: <CAFP+xFK9KOApwu9+sSJKxh=CkohHg4xwaO20o0d_aeHNCvrCXg@mail.gmail.com>
References: <CAFP+xFK9KOApwu9+sSJKxh=CkohHg4xwaO20o0d_aeHNCvrCXg@mail.gmail.com>
Message-ID: <Yldm0KEI9TXRJ0VU@bulldog>

Hi Troy,

first of all, I have no idea about Fedora's packaging of TL, but I know
how I did the packaging in Debian, and I know upstream TL quite well.

> The command "tlmgr paper letter" does not seem to affect LuaTeX

I don't think that tlmgr paper will work out of the box in Fedora.
tlmgr is a package manager, and making it work would mean interfering
with rpm/dnf/whatever fedora uses. Thus, I guess that your changes
didn't work.

> > sudo tlmgr paper letter
> tlmgr: setting paper size for dvipdfmx to letter:
> /usr/share/texlive/texmf-config/dvipdfmx/dvipdfmx.cfg
> tlmgr: setting paper size for dvips to letter:
> /usr/share/texlive/texmf-config/dvips/config/config.ps
> tlmgr: setting paper size for pdftex to letter:
> /usr/share/texlive/texmf-config/tex/generic/tex-ini-files/pdftexconfig.tex
> tlmgr: setting paper size for psutils to letter:
> /usr/share/texlive/texmf-config/psutils/paper.cfg
> tlmgr: setting paper size for xdvi to letter:
> /usr/share/texlive/texmf-config/xdvi/XDvi
> tlmgr: An error has occurred. See above messages. Exiting.

It is strange that there is no other indication of what went wrong.
If you can reproduce this with 
	tlmgr -v paper letter
(or even -v -v) and send me the output, I can take a look.

> This is almost certainly a Fedora TeX Live packaging issue, and it could be

Yes, so I suggest contacting Fedora about this. Nothing we here can fix.
The least this list (luatex), but even the main tex-live mailing list
wouldn't be perfect (although some fedora users might help you there).

> resolved (I'm confident) by manually installing the binary TeX Live
> distribution directly from TUG (which I have done many times before).

Yes, that is what I do, too.

> However, this is an undesirable solution because it may cause other
> packages (that depend on TeX Live) to be "confused" and also would result
> in twice the storage used (having side-by-side installations of TeX Live).

confusion comes from PATH setup. You have to make sure that the TUG TL
comes first in the PATH.

Concerning storage size: In Debian you can use the "equivs" command to
create a package that *fakes* an installation, see
	https://www.tug.org/texlive/debian.html
under "Integrating vanilla TeX Live with Debian"

I am pretty sure there is something similar for Fedora, too.

>    - Is it possible to change the default paper size without having to use
>    tlmgr?  Does tlmgr call/execute a particular command that could possibly be
>    executed manually?

Change the configuration files used. The question is where these files
are located in Fedora. Maybe in /etc/texmf ?

Best

Norbert

--
PREINING Norbert                              https://www.preining.info
Mercari Inc.     +     IFMGA Guide     +     TU Wien     +     TeX Live
GPG: 0x860CDC13   fp: F7D8 A928 26E3 16A1 9FA0 ACF0 6CAC A448 860C DC13

From thenders at gmail.com  Thu Apr 14 03:42:30 2022
From: thenders at gmail.com (Troy Henderson)
Date: Wed, 13 Apr 2022 20:42:30 -0500
Subject: [luatex] Default Paper Size
In-Reply-To: <Yldm0KEI9TXRJ0VU@bulldog>
References: <CAFP+xFK9KOApwu9+sSJKxh=CkohHg4xwaO20o0d_aeHNCvrCXg@mail.gmail.com>
 <Yldm0KEI9TXRJ0VU@bulldog>
Message-ID: <CAFP+xFLB7yu0Fk66dh0RUb86KdCim7Dh6HCenMa9wGHLKyGGpQ@mail.gmail.com>

Since PDFLaTeX respected the "tlmgr paper letter" command and LuaLaTeX did
not, I simply had to execute

fmtutil-sys --all

to re-generate the luatex format files, and all works now.  Thank you!

Troy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220413/aca4bf5d/attachment.html>

From thenders at gmail.com  Thu Apr 14 23:22:05 2022
From: thenders at gmail.com (Troy Henderson)
Date: Thu, 14 Apr 2022 16:22:05 -0500
Subject: [luatex] Text as Paths
Message-ID: <CAFP+xFKMJ5YJnmyidChoCge4iSYirbYpTeGOeVVW8qV1dtdwDg@mail.gmail.com>

Is it possible to have Lua(La)TeX produce a document where the text in the
output PDF are "stroked/filled paths" instead of "selectable
characters/words"?  I have written a script (using Inkscape) to convert
each page of a PDF to SVG pages (with non-editable text as paths) and
convert these pages back to a PDF, but I was wondering if this can be done
with Lua(La)TeX.

Thank you in advance,

Troy Henderson
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220414/ad7e5144/attachment.html>

From post at elrenkema.nl  Fri Apr 15 13:17:10 2022
From: post at elrenkema.nl (Esger Renkema)
Date: Fri, 15 Apr 2022 13:17:10 +0200
Subject: [luatex] Text as Paths
In-Reply-To: <CAFP+xFKMJ5YJnmyidChoCge4iSYirbYpTeGOeVVW8qV1dtdwDg@mail.gmail.com>
References: <CAFP+xFKMJ5YJnmyidChoCge4iSYirbYpTeGOeVVW8qV1dtdwDg@mail.gmail.com>
Message-ID: <20220415111710.tdinakvcw6luzrav@renkemail>


>Is it possible to have Lua(La)TeX produce a document where the text in 
>the output PDF are "stroked/filled paths" instead of "selectable
>characters/words"?

Yes, you can get the glyph contours from luaotfload.

See for an example how minim-mp implements metapost?s `glyph of` 
operator, in the file minim-mp.lua, under the section ?glyph contours? 
(you may need get the most recent version off ctan).


From luigi.scarso at gmail.com  Mon Apr 18 11:36:24 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Mon, 18 Apr 2022 11:36:24 +0200
Subject: [luatex] [dev-context] Bug: Null-byte in csname not handled
	correctly
In-Reply-To: <CAG5iGsALFSeDnCvYoo+ub-f_aoSCkLLCARF+OKpLCERFnDcjDg@mail.gmail.com>
References: <30bc81ccef6900f37ee68f13ab14f0b8bb1f882d.camel@henrimenke.de>
 <CAG5iGsALFSeDnCvYoo+ub-f_aoSCkLLCARF+OKpLCERFnDcjDg@mail.gmail.com>
Message-ID: <CAG5iGsBEWZBsTyJhoPc5HTQP788i2iTyJA5xuBwJmgs7fOaDBw@mail.gmail.com>

On Wed, Apr 13, 2022 at 9:29 AM luigi scarso <luigi.scarso at gmail.com> wrote:

>
>
> On Mon, Apr 11, 2022 at 8:16 PM Henri Menke <henri at henrimenke.de> wrote:
>
>> Dear devs,
>>
>> A control sequence that only contains a single null byte is not
>> correctly stringified. Comparison between Knuth TeX and LuaTeX:
>>
>>    $ tex test.tex
>>    ! \^^@.
>>    l.2 \errmessage{\string\^^@}
>>
>>    $ luatex test.tex
>>    ! \.
>>    l.2 \errmessage{\string\^^@}
>>
>> MWE:
>>
>>    \catcode0=11
>>    \errmessage{\string\^^@}
>>    \bye
>>
>>
> looking at it.
>
>
Committed revision 7521.
-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220418/f9a5cd1f/attachment.html>

From henri at henrimenke.de  Mon Apr 18 11:54:18 2022
From: henri at henrimenke.de (Henri Menke)
Date: Mon, 18 Apr 2022 11:54:18 +0200
Subject: [luatex] [dev-context] Bug: Null-byte in csname not handled
	correctly
In-Reply-To: <CAG5iGsBEWZBsTyJhoPc5HTQP788i2iTyJA5xuBwJmgs7fOaDBw@mail.gmail.com>
References: <30bc81ccef6900f37ee68f13ab14f0b8bb1f882d.camel@henrimenke.de>
 <CAG5iGsALFSeDnCvYoo+ub-f_aoSCkLLCARF+OKpLCERFnDcjDg@mail.gmail.com>
 <CAG5iGsBEWZBsTyJhoPc5HTQP788i2iTyJA5xuBwJmgs7fOaDBw@mail.gmail.com>
Message-ID: <9610a8ecc220f1e1088dd528746bb7342bdfff93.camel@henrimenke.de>

Dear Luigi,

Thank you very much for all the quick fixes!

Happy easter and kind regards,
Henri

On Mon, 2022-04-18 at 11:36 +0200, luigi scarso wrote:
> On Wed, Apr 13, 2022 at 9:29 AM luigi scarso <luigi.scarso at gmail.com>
> wrote:
> 
> > 
> > 
> > On Mon, Apr 11, 2022 at 8:16 PM Henri Menke <henri at henrimenke.de>
> > wrote:
> > 
> > > Dear devs,
> > > 
> > > A control sequence that only contains a single null byte is not
> > > correctly stringified. Comparison between Knuth TeX and LuaTeX:
> > > 
> > > ?? $ tex test.tex
> > > ?? ! \^^@.
> > > ?? l.2 \errmessage{\string\^^@}
> > > 
> > > ?? $ luatex test.tex
> > > ?? ! \.
> > > ?? l.2 \errmessage{\string\^^@}
> > > 
> > > MWE:
> > > 
> > > ?? \catcode0=11
> > > ?? \errmessage{\string\^^@}
> > > ?? \bye
> > > 
> > > 
> > looking at it.
> > 
> > 
> Committed revision 7521.


From henri at henrimenke.de  Mon Apr 18 12:10:24 2022
From: henri at henrimenke.de (Henri Menke)
Date: Mon, 18 Apr 2022 12:10:24 +0200
Subject: [luatex] Where is the LuaTeX SVN?
Message-ID: <ce3a4bd25221a2893db8366047723309932ca715.camel@henrimenke.de>

Dear list,

On the ConTeXt wiki there are links to the LuaTeX SVN:

   https://wiki.contextgarden.net/ConTeXt_Standalone/Implementation#LuaTeX
   
   SVN: https://foundry.supelec.fr/svn/luatex
   ViewVC: https://foundry.supelec.fr/scm/viewvc.php/?root=luatex
   Files: http://foundry.supelec.fr/gf/project/luatex/frs/

However, none of these links work. All connections time out.

Somewhere on the mailing list I found this alternative server

   https://serveur-svn.lri.fr/svn/modhel/luatex/

but this doesn't have ViewVC to browse the history.

Cheers, Henri


From P.Taylor at Hellenic-Institute.Uk  Mon Apr 18 12:16:07 2022
From: P.Taylor at Hellenic-Institute.Uk (Philip Taylor (Hellenic Institute))
Date: Mon, 18 Apr 2022 11:16:07 +0100
Subject: [luatex] [EXT]  Where is the LuaTeX SVN?
In-Reply-To: <ce3a4bd25221a2893db8366047723309932ca715.camel@henrimenke.de>
References: <ce3a4bd25221a2893db8366047723309932ca715.camel@henrimenke.de>
Message-ID: <f4524b2a-cf9c-6c00-360a-e98bae7a5dde@Hellenic-Institute.Uk>

On 18/04/2022 11:10, Henri Menke via luatex wrote:
> Dear list,
>
> On the ConTeXt wiki there are links to the LuaTeX SVN:
>
>     https://wiki.contextgarden.net/ConTeXt_Standalone/Implementation#LuaTeX
>     
>     SVN: https://foundry.supelec.fr/svn/luatex

Resolves for me, Henri ? I did not bother to try the others.

-- 
/Philip Taylor/

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220418/5be1d049/attachment.html>

From luigi.scarso at gmail.com  Mon Apr 18 12:57:37 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Mon, 18 Apr 2022 12:57:37 +0200
Subject: [luatex] [dev-context] Where is the LuaTeX SVN?
In-Reply-To: <ce3a4bd25221a2893db8366047723309932ca715.camel@henrimenke.de>
References: <ce3a4bd25221a2893db8366047723309932ca715.camel@henrimenke.de>
Message-ID: <CAG5iGsA7Lhh0t7amqBa_GHKo9GEF4qujt67ridxBYd2m8CkrEg@mail.gmail.com>

On Mon, Apr 18, 2022 at 12:10 PM Henri Menke <henri at henrimenke.de> wrote:

> Dear list,
>
> On the ConTeXt wiki there are links to the LuaTeX SVN:
>
>    https://wiki.contextgarden.net/ConTeXt_Standalone/Implementation#LuaTeX
>
>    SVN: https://foundry.supelec.fr/svn/luatex
>    ViewVC: https://foundry.supelec.fr/scm/viewvc.php/?root=luatex
>    Files: http://foundry.supelec.fr/gf/project/luatex/frs/
>
> However, none of these links work. All connections time out.
>
> Somewhere on the mailing list I found this alternative server
>
>    https://serveur-svn.lri.fr/svn/modhel/luatex/
>
> but this doesn't have ViewVC to browse the history.
>

This is the official site, already from a while,  is
 https://www.luatex.org/download.html

As per https://tug.org/pipermail/luatex/2022-April/007668.html
I am trying to set up a git mirror of the svn site, but I am not able to
see the vendor branch yet.

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220418/92bc41a5/attachment.html>

From n.k.baskaran at tnqsoftware.co.in  Wed Apr 20 19:11:07 2022
From: n.k.baskaran at tnqsoftware.co.in (Kunchitapadam, Baskaran (TNQ Software))
Date: Wed, 20 Apr 2022 22:41:07 +0530
Subject: [luatex] lualatex with mathversion based on different text font
 with text font italic variables
Message-ID: <34a49b56-bad1-214b-b6f9-bbde8b9196ce@tnqsoftware.co.in>

Hi Team

In LuaLaTeX, I have change title font "lmroman10-bold". The math 
variables "a" and "b" comes "latinmodern-math.otf". If I change 
mathversion to "bold" but not comes "bold italic".Is it possible to 
change automatically bolditalic either "latinmodern-math.otf" or 
"lmroman10-bolditalic". Is it possible to change the mathvariables 
[A-Za-z] to running text font italic by using unicode-math.sty. By using 
range, then the last \mathversion is working globally.



\documentclass{article}
\usepackage{fontspec}
\usepackage{unicode-math}
\setmathfont[version=normal]{latinmodern-math.otf}
\setmathfont[version=bold]{latinmodern-math.otf}
\makeatletter
\def\@maketitle{%
 ? \newpage
 ? \null
 ? \vskip 2em%
 ? \begin{center}%
 ? \let \footnote \thanks
 ??? {\LARGE\mathversion{bold}\bfseries \@title \par}%
 ??? \vskip 1.5em%
 ??? {\large
 ????? \lineskip .5em%
 ????? \begin{tabular}[t]{c}%
 ??????? \@author
 ????? \end{tabular}\par}%
 ??? \vskip 1em%
 ??? {\large \@date}%
 ? \end{center}%
 ? \par
 ? \vskip 1.5em}
\makeatother
\begin{document}
\title{This is $a+b=\alpha+\beta$ article title}
\author{Test $a+b=\alpha+\beta$}
\maketitle
\end{document}

Thanks and regards
Baskaran NK
-- 


Disclaimer: The entire content of this email message, including any files 
transmitted with it are confidential and intended solely for the use of the 
individual or entity to whom they are addressed. If you are not the named 
addressee or part of the entity, you should not disseminate, distribute, or 
copy this email. Please notify the sender immediately by e-mail if you have 
received this email by mistake and delete this e-mail from your system. If 
you are not the intended recipient you are notified that disclosing, 
copying, distributing, or taking any action in reliance on the contents of 
this information is strictly prohibited.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220420/5dab27a0/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: J798Y1ynHECbgPly.png
Type: image/png
Size: 178296 bytes
Desc: not available
URL: <https://tug.org/pipermail/luatex/attachments/20220420/5dab27a0/attachment-0001.png>

From Herbert.Voss at fu-berlin.de  Wed Apr 20 21:44:47 2022
From: Herbert.Voss at fu-berlin.de (Herbert Voss)
Date: Wed, 20 Apr 2022 21:44:47 +0200
Subject: [luatex] lualatex with mathversion based on different text font
 with text font italic variables
In-Reply-To: <34a49b56-bad1-214b-b6f9-bbde8b9196ce@tnqsoftware.co.in>
References: <34a49b56-bad1-214b-b6f9-bbde8b9196ce@tnqsoftware.co.in>
Message-ID: <7fcadc97-e4e2-3e01-5f13-852257bb763f@fu-berlin.de>

use

\setmathfont{latinmodern-math.otf}
\setmathfont[version=bold,RawFeature={embolden=3}]{latinmodern-math.otf}


Herbert


Am 20.04.22 um 19:11 schrieb Kunchitapadam, Baskaran (TNQ Software) via 
luatex:
>
> Hi Team
>
> In LuaLaTeX, I have change title font "lmroman10-bold". The math 
> variables "a" and "b" comes "latinmodern-math.otf". If I change 
> mathversion to "bold" but not comes "bold italic".Is it possible to 
> change automatically bolditalic either "latinmodern-math.otf" or 
> "lmroman10-bolditalic". Is it possible to change the mathvariables 
> [A-Za-z] to running text font italic by using unicode-math.sty. By 
> using range, then the last \mathversion is working globally.
>
>
>
> \documentclass{article}
> \usepackage{fontspec}
> \usepackage{unicode-math}
> \setmathfont[version=normal]{latinmodern-math.otf}
> \setmathfont[version=bold]{latinmodern-math.otf}
> \makeatletter
> \def\@maketitle{%
> ? \newpage
> ? \null
> ? \vskip 2em%
> ? \begin{center}%
> ? \let \footnote \thanks
> ??? {\LARGE\mathversion{bold}\bfseries \@title \par}%
> ??? \vskip 1.5em%
> ??? {\large
> ????? \lineskip .5em%
> ????? \begin{tabular}[t]{c}%
> ??????? \@author
> ????? \end{tabular}\par}%
> ??? \vskip 1em%
> ??? {\large \@date}%
> ? \end{center}%
> ? \par
> ? \vskip 1.5em}
> \makeatother
> \begin{document}
> \title{This is $a+b=\alpha+\beta$ article title}
> \author{Test $a+b=\alpha+\beta$}
> \maketitle
> \end{document}
>
> Thanks and regards
> Baskaran NK
>
>
> Disclaimer: The entire content of this email message, including any 
> files transmitted with it are confidential and intended solely for the 
> use of the individual or entity to whom they are addressed. If you are 
> not the named addressee or part of the entity, you should not 
> disseminate, distribute, or copy this email. Please notify the sender 
> immediately by e-mail if you have received this email by mistake and 
> delete this e-mail from your system. If you are not the intended 
> recipient you are notified that disclosing, copying, distributing, or 
> taking any action in reliance on the contents of this information is 
> strictly prohibited.


From n.k.baskaran at tnqsoftware.co.in  Thu Apr 21 06:57:08 2022
From: n.k.baskaran at tnqsoftware.co.in (Kunchitapadam, Baskaran (TNQ Software))
Date: Thu, 21 Apr 2022 10:27:08 +0530
Subject: [luatex] [External] Re: lualatex with mathversion based on
 different text font with text font italic variables
In-Reply-To: <7fcadc97-e4e2-3e01-5f13-852257bb763f@fu-berlin.de>
References: <34a49b56-bad1-214b-b6f9-bbde8b9196ce@tnqsoftware.co.in>
 <7fcadc97-e4e2-3e01-5f13-852257bb763f@fu-berlin.de>
Message-ID: <8a817124-7815-ee06-369b-0d40f6bb8510@tnqsoftware.co.in>

Dear Herbert,

Thank you...It is working fine.? And Kindly suggest substitute math 
variables from text font for example the title font "lmroman10-bold" and 
the math alphabets form "lmroman10-bolditalic"

Thanks and Regards

Baskaran NK



On 21-04-2022 01:14, Herbert Voss wrote:
> use
>
> \setmathfont{latinmodern-math.otf}
> \setmathfont[version=bold,RawFeature={embolden=3}]{latinmodern-math.otf}
>
>
> Herbert
>
>
> Am 20.04.22 um 19:11 schrieb Kunchitapadam, Baskaran (TNQ Software) 
> via luatex:
>>
>> Hi Team
>>
>> In LuaLaTeX, I have change title font "lmroman10-bold". The math 
>> variables "a" and "b" comes "latinmodern-math.otf". If I change 
>> mathversion to "bold" but not comes "bold italic".Is it possible to 
>> change automatically bolditalic either "latinmodern-math.otf" or 
>> "lmroman10-bolditalic". Is it possible to change the mathvariables 
>> [A-Za-z] to running text font italic by using unicode-math.sty. By 
>> using range, then the last \mathversion is working globally.
>>
>>
>>
>> \documentclass{article}
>> \usepackage{fontspec}
>> \usepackage{unicode-math}
>> \setmathfont[version=normal]{latinmodern-math.otf}
>> \setmathfont[version=bold]{latinmodern-math.otf}
>> \makeatletter
>> \def\@maketitle{%
>> ? \newpage
>> ? \null
>> ? \vskip 2em%
>> ? \begin{center}%
>> ? \let \footnote \thanks
>> ??? {\LARGE\mathversion{bold}\bfseries \@title \par}%
>> ??? \vskip 1.5em%
>> ??? {\large
>> ????? \lineskip .5em%
>> ????? \begin{tabular}[t]{c}%
>> ??????? \@author
>> ????? \end{tabular}\par}%
>> ??? \vskip 1em%
>> ??? {\large \@date}%
>> ? \end{center}%
>> ? \par
>> ? \vskip 1.5em}
>> \makeatother
>> \begin{document}
>> \title{This is $a+b=\alpha+\beta$ article title}
>> \author{Test $a+b=\alpha+\beta$}
>> \maketitle
>> \end{document}
>>
>> Thanks and regards
>> Baskaran NK
>>
>>
>> Disclaimer: The entire content of this email message, including any 
>> files transmitted with it are confidential and intended solely for 
>> the use of the individual or entity to whom they are addressed. If 
>> you are not the named addressee or part of the entity, you should not 
>> disseminate, distribute, or copy this email. Please notify the sender 
>> immediately by e-mail if you have received this email by mistake and 
>> delete this e-mail from your system. If you are not the intended 
>> recipient you are notified that disclosing, copying, distributing, or 
>> taking any action in reliance on the contents of this information is 
>> strictly prohibited.
>
-- 


Disclaimer: The entire content of this email message, including any files 
transmitted with it are confidential and intended solely for the use of the 
individual or entity to whom they are addressed. If you are not the named 
addressee or part of the entity, you should not disseminate, distribute, or 
copy this email. Please notify the sender immediately by e-mail if you have 
received this email by mistake and delete this e-mail from your system. If 
you are not the intended recipient you are notified that disclosing, 
copying, distributing, or taking any action in reliance on the contents of 
this information is strictly prohibited.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220421/134580bd/attachment.html>

From eduardoochs at gmail.com  Sun Apr 24 21:58:20 2022
From: eduardoochs at gmail.com (Eduardo Ochs)
Date: Sun, 24 Apr 2022 16:58:20 -0300
Subject: [luatex] Dimensions of subboxes
Message-ID: <CADs++6jBv2r95AnfobRUmixU_8HrjU4OP6Rx8NziaZwjh-KBwg@mail.gmail.com>

Hi list,

I use LuaTeX a lot - I am even the author of
<http://angg.twu.net/dednat6/tug-slides.pdf>! - but I use very few of
the Lua functions that call the underlying TeX, so probably this is a
very basic question...

The code below runs

  \setbox0\hbox{\hbox{$a$}\hbox{$b$}\hbox{$p$}\hbox{$q$}}

and then starts a Lua REPL:

--snip--snip--
rm -Rfv /tmp/emlua/
mkdir   /tmp/emlua/
cd      /tmp/emlua/
git clone https://github.com/edrx/emlua .

rm -Rfv /tmp/emlua/tex/
mkdir   /tmp/emlua/tex/
cd      /tmp/emlua/tex/
cp -v ../edrxlib.lua .
cp -v ../Repl1.lua .

cd      /tmp/emlua/tex/
cat > a.tex <<'---'
\setbox0\hbox{\hbox{$a$}\hbox{$b$}\hbox{$p$}\hbox{$q$}}
\directlua{dofile "edrxlib.lua"}
\directlua{dofile "Repl1.lua"}
\directlua{REPL = EdrxRepl.new(); print(); REPL:repl()}
\bye
---

luatex a.tex
--snip--snip--

My question is: how do I get the dimensions of the subboxes of box0
from Lua?

  Thanks in advance!
    Eduardo Ochs
    https://github.com/edrx/emlua#introduction
    http://angg.twu.net/pict2e-lua.html

From patrick at gundla.ch  Mon Apr 25 08:25:27 2022
From: patrick at gundla.ch (Patrick Gundlach)
Date: Mon, 25 Apr 2022 08:25:27 +0200
Subject: [luatex] Dimensions of subboxes
In-Reply-To: <CADs++6jBv2r95AnfobRUmixU_8HrjU4OP6Rx8NziaZwjh-KBwg@mail.gmail.com>
References: <CADs++6jBv2r95AnfobRUmixU_8HrjU4OP6Rx8NziaZwjh-KBwg@mail.gmail.com>
Message-ID: <0416C737-E4A7-47AE-8F0E-F6EA67490FC0@gundla.ch>

Hello Eduardo,

perhaps this helps

https://tex.stackexchange.com/a/20905/243

this is more about interleaving Lua and TeX, but this is also about accessing the box dimensions.


Patrick




From eduardoochs at gmail.com  Mon Apr 25 08:52:53 2022
From: eduardoochs at gmail.com (Eduardo Ochs)
Date: Mon, 25 Apr 2022 03:52:53 -0300
Subject: [luatex] Dimensions of subboxes
In-Reply-To: <0416C737-E4A7-47AE-8F0E-F6EA67490FC0@gundla.ch>
References: <CADs++6jBv2r95AnfobRUmixU_8HrjU4OP6Rx8NziaZwjh-KBwg@mail.gmail.com>
 <0416C737-E4A7-47AE-8F0E-F6EA67490FC0@gundla.ch>
Message-ID: <CADs++6hrSgp-op3nr_S_AyfyWvOpRWhgbzbHfHHo8wObxJoZbg@mail.gmail.com>

On Mon, 25 Apr 2022 at 03:26, Patrick Gundlach <patrick at gundla.ch> wrote:
> (...)


Hi Patrick!

The trick with coroutines looked like overkill, but there were some
very useful comments... I followed some links, and got the solution
below. If I send these lines to a shell,


cd /tmp/emlua/tex/
cat > a.tex <<'---'
\setbox0\hbox{\hbox{$a$}\hbox{$b$}\hbox{$p$}\hbox{$q$}}
\directlua{dofile "edrxlib.lua"}
\directlua{dofile "Repl1.lua"}
\directlua{REPL = EdrxRepl.new(); print(); REPL:repl()}
\bye
---

luatex a.tex
  adj = 2^16
  print(tex.box[0])
  print(tex.box[0].width)
  print(tex.box[0].width / adj)
  for hlist in node.traverse_id(node.id"hlist", tex.box[0].list) do
    local wd = hlist.width  / adj
    local ht = hlist.height / adj
    local dp = hlist.depth  / adj
    print(format("wd: %.3f  ht: %.3f  dp: %.3f", wd, ht, dp))
  end


Then the log of my interaction with luatex is this:


This is LuaTeX, Version 1.12.0 (TeX Live 2020)
 restricted system commands enabled.
(./a.tex
>>>   adj = 2^16
>>>   print(tex.box[0])
<node    nil <    387 >    nil : hlist 2>
>>>   print(tex.box[0].width)
1273476
>>>   print(tex.box[0].width / adj)
19.431701660156
>>>   for hlist in node.traverse_id(node.id"hlist", tex.box[0].list) do
...     local wd = hlist.width  / adj
...     local ht = hlist.height / adj
...     local dp = hlist.depth  / adj
...     print(format("wd: %.3f  ht: %.3f  dp: %.3f", wd, ht, dp))
...   end
wd: 5.286  ht: 4.306  dp: 0.000
wd: 4.292  ht: 6.944  dp: 0.000
wd: 5.031  ht: 4.306  dp: 1.944
wd: 4.823  ht: 4.306  dp: 1.944
>>>


So: problem solved! Thanks! =)
  Eduardo Ochs
  http://angg.twu.net/

From henri at henrimenke.de  Mon Apr 25 22:09:12 2022
From: henri at henrimenke.de (Henri Menke)
Date: Mon, 25 Apr 2022 22:09:12 +0200
Subject: [luatex] Italic correction missing when using \left...\right
Message-ID: <851522234ae5d1636188a88a574149ed0b157c82.camel@henrimenke.de>

Dear devs,

When using delimiter with \left...\right the italic correction between
the preceding letter and the delimiter is dropped. I've tried this with
a few fonts and all show the problem. For Libertinus Math the glyphs
even overlap.

MWE for mtxrun --script plain (TeX Live 2022)

   %\input luaotfload.sty
   \font\mathfont="file:LibertinusMath-Regular.otf:mode=base;script=math" at 10pt
   \textfont0=\mathfont
   \textfont2=\mathfont
   
   \Umathcodenum`f="1D453
   \protected\def\langle{\Udelimiter"4"0"27E8\relax}
   \protected\def\rangle{\Udelimiter"5"0"27E9\relax}
   
   $f\rangle$
   
   \nulldelimiterspace=0pt
   $\left.f\right\rangle$
   
   \bye

Cheers, Henri

From henri at henrimenke.de  Tue Apr 26 08:59:20 2022
From: henri at henrimenke.de (Henri Menke)
Date: Tue, 26 Apr 2022 08:59:20 +0200
Subject: [luatex] Italic correction missing when using \left...\right
In-Reply-To: <851522234ae5d1636188a88a574149ed0b157c82.camel@henrimenke.de>
References: <851522234ae5d1636188a88a574149ed0b157c82.camel@henrimenke.de>
Message-ID: <1ad408030ed638d78eb974f66519765398a8a63d.camel@henrimenke.de>

On Mon, 2022-04-25 at 22:09 +0200, Henri Menke wrote:
> Dear devs,
> 
> When using delimiter with \left...\right the italic correction
> between
> the preceding letter and the delimiter is dropped. I've tried this
> with
> a few fonts and all show the problem. For Libertinus Math the glyphs
> even overlap.
> 
> MWE for mtxrun --script plain (TeX Live 2022)
> 
>    %\input luaotfload.sty
>    \font\mathfont="file:LibertinusMath-
> Regular.otf:mode=base;script=math" at 10pt
>    \textfont0=\mathfont
>    \textfont2=\mathfont
>    
>    \Umathcodenum`f="1D453
>    \protected\def\langle{\Udelimiter"4"0"27E8\relax}
>    \protected\def\rangle{\Udelimiter"5"0"27E9\relax}
>    
>    $f\rangle$
>    
>    \nulldelimiterspace=0pt
>    $\left.f\right\rangle$
>    
>    \bye

Ulrike pointed out \mathitalicsmode=1 on TeX Stack Exchange, but there
is still an issue with sub_mlists:

   %\input luaotfload.sty
   \font\mathfont="file:LibertinusMath-Regular.otf:mode=base;script=math" at 10pt
   \textfont0=\mathfont
   \textfont2=\mathfont

   \Umathcodenum`f="1D453
   \protected\def\langle{\Udelimiter"4"0"27E8\relax}
   \protected\def\rangle{\Udelimiter"5"0"27E9\relax}

   \mathitalicsmode=1

   $f\rangle$

   \nulldelimiterspace=0pt
   $\left.f\right\rangle$

   ${-f}\rangle$

   $\left.{-f}\right\rangle$

   \bye

Cheers, Henri

> 
> Cheers, Henri


From luigi.scarso at gmail.com  Tue Apr 26 10:04:13 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Tue, 26 Apr 2022 10:04:13 +0200
Subject: [luatex] [dev-context] Italic correction missing when using
	\left...\right
In-Reply-To: <1ad408030ed638d78eb974f66519765398a8a63d.camel@henrimenke.de>
References: <851522234ae5d1636188a88a574149ed0b157c82.camel@henrimenke.de>
 <1ad408030ed638d78eb974f66519765398a8a63d.camel@henrimenke.de>
Message-ID: <CAG5iGsCzdf0bawg7tgnBpOkQNmteoBBF_zj2VQ=YxZT3zJ9Rsg@mail.gmail.com>

On Tue, Apr 26, 2022 at 8:59 AM Henri Menke <henri at henrimenke.de> wrote:

> On Mon, 2022-04-25 at 22:09 +0200, Henri Menke wrote:
> > Dear devs,
> >
> > When using delimiter with \left...\right the italic correction
> > between
> > the preceding letter and the delimiter is dropped. I've tried this
> > with
> > a few fonts and all show the problem. For Libertinus Math the glyphs
> > even overlap.
> >
> > MWE for mtxrun --script plain (TeX Live 2022)
> >
> >    %\input luaotfload.sty
> >    \font\mathfont="file:LibertinusMath-
> > Regular.otf:mode=base;script=math" at 10pt
> >    \textfont0=\mathfont
> >    \textfont2=\mathfont
> >
> >    \Umathcodenum`f="1D453
> >    \protected\def\langle{\Udelimiter"4"0"27E8\relax}
> >    \protected\def\rangle{\Udelimiter"5"0"27E9\relax}
> >
> >    $f\rangle$
> >
> >    \nulldelimiterspace=0pt
> >    $\left.f\right\rangle$
> >
> >    \bye
>
> Ulrike pointed out \mathitalicsmode=1 on TeX Stack Exchange, but there
> is still an issue with sub_mlists:
>
>    %\input luaotfload.sty
>    \font\mathfont="file:LibertinusMath-Regular.otf:mode=base;script=math"
> at 10pt
>    \textfont0=\mathfont
>    \textfont2=\mathfont
>
>    \Umathcodenum`f="1D453
>    \protected\def\langle{\Udelimiter"4"0"27E8\relax}
>    \protected\def\rangle{\Udelimiter"5"0"27E9\relax}
>
>    \mathitalicsmode=1
>
>    $f\rangle$
>
>    \nulldelimiterspace=0pt
>    $\left.f\right\rangle$
>
>    ${-f}\rangle$
>
>    $\left.{-f}\right\rangle$
>
>    \bye
>

I will check it, but have  you already seen mlist.c  ?

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220426/54554ce9/attachment.html>

From luigi.scarso at gmail.com  Tue Apr 26 15:32:22 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Tue, 26 Apr 2022 15:32:22 +0200
Subject: [luatex] [dev-context] Italic correction missing when using
	\left...\right
In-Reply-To: <CAG5iGsCzdf0bawg7tgnBpOkQNmteoBBF_zj2VQ=YxZT3zJ9Rsg@mail.gmail.com>
References: <851522234ae5d1636188a88a574149ed0b157c82.camel@henrimenke.de>
 <1ad408030ed638d78eb974f66519765398a8a63d.camel@henrimenke.de>
 <CAG5iGsCzdf0bawg7tgnBpOkQNmteoBBF_zj2VQ=YxZT3zJ9Rsg@mail.gmail.com>
Message-ID: <CAG5iGsCfHAbgpHepX1o9GvJ4qkVuG+K0ydtN4zb8qkQOWkLAag@mail.gmail.com>

On Tue, Apr 26, 2022 at 10:04 AM luigi scarso <luigi.scarso at gmail.com>
wrote:

>
>
> On Tue, Apr 26, 2022 at 8:59 AM Henri Menke <henri at henrimenke.de> wrote:
>
>> On Mon, 2022-04-25 at 22:09 +0200, Henri Menke wrote:
>> > Dear devs,
>> >
>> > When using delimiter with \left...\right the italic correction
>> > between
>> > the preceding letter and the delimiter is dropped. I've tried this
>> > with
>> > a few fonts and all show the problem. For Libertinus Math the glyphs
>> > even overlap.
>> >
>> > MWE for mtxrun --script plain (TeX Live 2022)
>> >
>> >    %\input luaotfload.sty
>> >    \font\mathfont="file:LibertinusMath-
>> > Regular.otf:mode=base;script=math" at 10pt
>> >    \textfont0=\mathfont
>> >    \textfont2=\mathfont
>> >
>> >    \Umathcodenum`f="1D453
>> >    \protected\def\langle{\Udelimiter"4"0"27E8\relax}
>> >    \protected\def\rangle{\Udelimiter"5"0"27E9\relax}
>> >
>> >    $f\rangle$
>> >
>> >    \nulldelimiterspace=0pt
>> >    $\left.f\right\rangle$
>> >
>> >    \bye
>>
>> Ulrike pointed out \mathitalicsmode=1 on TeX Stack Exchange, but there
>> is still an issue with sub_mlists:
>>
>>    %\input luaotfload.sty
>>    \font\mathfont="file:LibertinusMath-Regular.otf:mode=base;script=math"
>> at 10pt
>>    \textfont0=\mathfont
>>    \textfont2=\mathfont
>>
>>    \Umathcodenum`f="1D453
>>    \protected\def\langle{\Udelimiter"4"0"27E8\relax}
>>    \protected\def\rangle{\Udelimiter"5"0"27E9\relax}
>>
>>    \mathitalicsmode=1
>>
>>    $f\rangle$
>>
>>    \nulldelimiterspace=0pt
>>    $\left.f\right\rangle$
>>
>>    ${-f}\rangle$
>>
>>    $\left.{-f}\right\rangle$
>>
>>    \bye
>>
>
> I will check it, but have  you already seen mlist.c  ?
>
> --
> luigi
>

Hans has enabled \mathitalicsmode=2.
Committed revision 7525.
-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://tug.org/pipermail/luatex/attachments/20220426/b04bf6fc/attachment.html>

