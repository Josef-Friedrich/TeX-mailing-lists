From pali.rohar at gmail.com  Tue Aug  9 09:41:47 2016
From: pali.rohar at gmail.com (Pali =?utf-8?B?Um9ow6Fy?=)
Date: Tue, 9 Aug 2016 09:41:47 +0200
Subject: [luatex] fontloader in iniTeX
In-Reply-To: <201607311216.59936@pali>
References: <201607311216.59936@pali>
Message-ID: <20160809074147.GX30047@pali>

On Sunday 31 July 2016 12:16:59 Pali Roh?r wrote:
> Hi!
> 
> I tried to preload csr10 font with fontloader into TeX format during 
> iniTeX run:
> 
> \font\csr=file:csr10.tfm:reencode=auto;mode=node;liga=yes;kern=yes
> 
> On output terminal I see these lines:
> 
> \font\csr=csr10
> \font\^^@=csr10
> 
> But when I tried to use that \csr font in document then all ligatures 
> and kerning are ignored (or not used). Any idea where is problem?
> 
> Note that font is correctly encoded and everything looks good, just 
> output looks to be same as if font was loaded without liga=yes;kern=yes 
> parameters...
> 

Hans, any idea why kerns are ignored when font is dumped into format
during iniTeX run?

-- 
Pali Roh?r
pali.rohar at gmail.com

From pragma at wxs.nl  Tue Aug  9 09:44:44 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 9 Aug 2016 09:44:44 +0200
Subject: [luatex] fontloader in iniTeX
In-Reply-To: <20160809074147.GX30047@pali>
References: <201607311216.59936@pali> <20160809074147.GX30047@pali>
Message-ID: <1370d304-1604-ba0b-7764-52bb55d17087@wxs.nl>

On 8/9/2016 9:41 AM, Pali Roh?r wrote:
> On Sunday 31 July 2016 12:16:59 Pali Roh?r wrote:
>> Hi!
>>
>> I tried to preload csr10 font with fontloader into TeX format during
>> iniTeX run:
>>
>> \font\csr=file:csr10.tfm:reencode=auto;mode=node;liga=yes;kern=yes
>>
>> On output terminal I see these lines:
>>
>> \font\csr=csr10
>> \font\^^@=csr10
>>
>> But when I tried to use that \csr font in document then all ligatures
>> and kerning are ignored (or not used). Any idea where is problem?
>>
>> Note that font is correctly encoded and everything looks good, just
>> output looks to be same as if font was loaded without liga=yes;kern=yes
>> parameters...
>>
>
> Hans, any idea why kerns are ignored when font is dumped into format
> during iniTeX run?

don't dump fonts, just load then at runtime  (it's fast enough)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------

From pali.rohar at gmail.com  Tue Aug  9 10:00:03 2016
From: pali.rohar at gmail.com (Pali =?utf-8?B?Um9ow6Fy?=)
Date: Tue, 9 Aug 2016 10:00:03 +0200
Subject: [luatex] fontloader in iniTeX
In-Reply-To: <1370d304-1604-ba0b-7764-52bb55d17087@wxs.nl>
References: <201607311216.59936@pali> <20160809074147.GX30047@pali>
 <1370d304-1604-ba0b-7764-52bb55d17087@wxs.nl>
Message-ID: <20160809080003.GZ30047@pali>

On Tuesday 09 August 2016 09:44:44 Hans Hagen wrote:
> On 8/9/2016 9:41 AM, Pali Roh?r wrote:
> >On Sunday 31 July 2016 12:16:59 Pali Roh?r wrote:
> >>Hi!
> >>
> >>I tried to preload csr10 font with fontloader into TeX format during
> >>iniTeX run:
> >>
> >>\font\csr=file:csr10.tfm:reencode=auto;mode=node;liga=yes;kern=yes
> >>
> >>On output terminal I see these lines:
> >>
> >>\font\csr=csr10
> >>\font\^^@=csr10
> >>
> >>But when I tried to use that \csr font in document then all ligatures
> >>and kerning are ignored (or not used). Any idea where is problem?
> >>
> >>Note that font is correctly encoded and everything looks good, just
> >>output looks to be same as if font was loaded without liga=yes;kern=yes
> >>parameters...
> >>
> >
> >Hans, any idea why kerns are ignored when font is dumped into format
> >during iniTeX run?
> 
> don't dump fonts, just load then at runtime  (it's fast enough)

I just want to have \ten* definitions so macros \rm \it \tt ... works
automatically without need to re-define them in every one document.

I do not like idea to define all those macros everytime in everyone
document... As I think that for these situation can be TeX format used.

Anyway, it is limitation of fontloader or bug?

-- 
Pali Roh?r
pali.rohar at gmail.com

From pragma at wxs.nl  Tue Aug  9 11:02:37 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 9 Aug 2016 11:02:37 +0200
Subject: [luatex] fontloader in iniTeX
In-Reply-To: <20160809080003.GZ30047@pali>
References: <201607311216.59936@pali> <20160809074147.GX30047@pali>
 <1370d304-1604-ba0b-7764-52bb55d17087@wxs.nl> <20160809080003.GZ30047@pali>
Message-ID: <2753c07c-1532-5293-11c3-bcfedd5e9846@wxs.nl>

On 8/9/2016 10:00 AM, Pali Roh?r wrote:
> On Tuesday 09 August 2016 09:44:44 Hans Hagen wrote:
>> On 8/9/2016 9:41 AM, Pali Roh?r wrote:
>>> On Sunday 31 July 2016 12:16:59 Pali Roh?r wrote:
>>>> Hi!
>>>>
>>>> I tried to preload csr10 font with fontloader into TeX format during
>>>> iniTeX run:
>>>>
>>>> \font\csr=file:csr10.tfm:reencode=auto;mode=node;liga=yes;kern=yes
>>>>
>>>> On output terminal I see these lines:
>>>>
>>>> \font\csr=csr10
>>>> \font\^^@=csr10
>>>>
>>>> But when I tried to use that \csr font in document then all ligatures
>>>> and kerning are ignored (or not used). Any idea where is problem?
>>>>
>>>> Note that font is correctly encoded and everything looks good, just
>>>> output looks to be same as if font was loaded without liga=yes;kern=yes
>>>> parameters...
>>>>
>>>
>>> Hans, any idea why kerns are ignored when font is dumped into format
>>> during iniTeX run?
>>
>> don't dump fonts, just load then at runtime  (it's fast enough)
>
> I just want to have \ten* definitions so macros \rm \it \tt ... works
> automatically without need to re-define them in every one document.
>
> I do not like idea to define all those macros everytime in everyone
> document... As I think that for these situation can be TeX format used.

then define the \tt in such a way that the first thing it does is to 
load a font

> Anyway, it is limitation of fontloader or bug?

a feature

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------

From pali.rohar at gmail.com  Tue Aug  9 12:28:05 2016
From: pali.rohar at gmail.com (Pali =?utf-8?B?Um9ow6Fy?=)
Date: Tue, 9 Aug 2016 12:28:05 +0200
Subject: [luatex] fontloader in iniTeX
In-Reply-To: <2753c07c-1532-5293-11c3-bcfedd5e9846@wxs.nl>
References: <201607311216.59936@pali> <20160809074147.GX30047@pali>
 <1370d304-1604-ba0b-7764-52bb55d17087@wxs.nl> <20160809080003.GZ30047@pali>
 <2753c07c-1532-5293-11c3-bcfedd5e9846@wxs.nl>
Message-ID: <20160809102805.GA30047@pali>

On Tuesday 09 August 2016 11:02:37 Hans Hagen wrote:
> On 8/9/2016 10:00 AM, Pali Roh?r wrote:
> >On Tuesday 09 August 2016 09:44:44 Hans Hagen wrote:
> >>On 8/9/2016 9:41 AM, Pali Roh?r wrote:
> >>>On Sunday 31 July 2016 12:16:59 Pali Roh?r wrote:
> >>>>Hi!
> >>>>
> >>>>I tried to preload csr10 font with fontloader into TeX format during
> >>>>iniTeX run:
> >>>>
> >>>>\font\csr=file:csr10.tfm:reencode=auto;mode=node;liga=yes;kern=yes
> >>>>
> >>>>On output terminal I see these lines:
> >>>>
> >>>>\font\csr=csr10
> >>>>\font\^^@=csr10
> >>>>
> >>>>But when I tried to use that \csr font in document then all ligatures
> >>>>and kerning are ignored (or not used). Any idea where is problem?
> >>>>
> >>>>Note that font is correctly encoded and everything looks good, just
> >>>>output looks to be same as if font was loaded without liga=yes;kern=yes
> >>>>parameters...
> >>>>
> >>>
> >>>Hans, any idea why kerns are ignored when font is dumped into format
> >>>during iniTeX run?
> >>
> >>don't dump fonts, just load then at runtime  (it's fast enough)
> >
> >I just want to have \ten* definitions so macros \rm \it \tt ... works
> >automatically without need to re-define them in every one document.
> >
> >I do not like idea to define all those macros everytime in everyone
> >document... As I think that for these situation can be TeX format used.
> 
> then define the \tt in such a way that the first thing it does is to load a
> font

For \tt some "hack" as you suggest is possible, but there are also
problems with \fam fonts used in math mode.

And problem is with \rm and default loaded font.

> >Anyway, it is limitation of fontloader or bug?
> 
> a feature

In this way, it is not possible to dump any font into format :-( which
also means that there is also no default font when starting tex.

-- 
Pali Roh?r
pali.rohar at gmail.com

From pragma at wxs.nl  Tue Aug  9 14:08:39 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 9 Aug 2016 14:08:39 +0200
Subject: [luatex] fontloader in iniTeX
In-Reply-To: <20160809102805.GA30047@pali>
References: <201607311216.59936@pali> <20160809074147.GX30047@pali>
 <1370d304-1604-ba0b-7764-52bb55d17087@wxs.nl> <20160809080003.GZ30047@pali>
 <2753c07c-1532-5293-11c3-bcfedd5e9846@wxs.nl> <20160809102805.GA30047@pali>
Message-ID: <cb343b2e-f5df-7741-1c44-5227fed90bb7@wxs.nl>

On 8/9/2016 12:28 PM, Pali Roh?r wrote:
> On Tuesday 09 August 2016 11:02:37 Hans Hagen wrote:
>> On 8/9/2016 10:00 AM, Pali Roh?r wrote:
>>> On Tuesday 09 August 2016 09:44:44 Hans Hagen wrote:
>>>> On 8/9/2016 9:41 AM, Pali Roh?r wrote:
>>>>> On Sunday 31 July 2016 12:16:59 Pali Roh?r wrote:
>>>>>> Hi!
>>>>>>
>>>>>> I tried to preload csr10 font with fontloader into TeX format during
>>>>>> iniTeX run:
>>>>>>
>>>>>> \font\csr=file:csr10.tfm:reencode=auto;mode=node;liga=yes;kern=yes
>>>>>>
>>>>>> On output terminal I see these lines:
>>>>>>
>>>>>> \font\csr=csr10
>>>>>> \font\^^@=csr10
>>>>>>
>>>>>> But when I tried to use that \csr font in document then all ligatures
>>>>>> and kerning are ignored (or not used). Any idea where is problem?
>>>>>>
>>>>>> Note that font is correctly encoded and everything looks good, just
>>>>>> output looks to be same as if font was loaded without liga=yes;kern=yes
>>>>>> parameters...
>>>>>>
>>>>>
>>>>> Hans, any idea why kerns are ignored when font is dumped into format
>>>>> during iniTeX run?
>>>>
>>>> don't dump fonts, just load then at runtime  (it's fast enough)
>>>
>>> I just want to have \ten* definitions so macros \rm \it \tt ... works
>>> automatically without need to re-define them in every one document.
>>>
>>> I do not like idea to define all those macros everytime in everyone
>>> document... As I think that for these situation can be TeX format used.
>>
>> then define the \tt in such a way that the first thing it does is to load a
>> font
>
> For \tt some "hack" as you suggest is possible, but there are also
> problems with \fam fonts used in math mode.

it all depends on what you want to do: if you want a traditional tfm 
font, you can just define it, and it gets stored in the format; in that 
case you use tfm/enc/map/pfb/pk combinations and operate in a 8 bit 
universum

if you want a font with all kind of extras done in lua, you can try to 
store and recover the lua related part but in that case it's more 
realistic to just load at runtime because you need to initialize lua 
anyway (no mem dump)

as you don't want to use active (utf) characters (if i remember right) 
to map onto 8 bit font slots but utf directly you need wide fonts and 
the tfm alternative for that is ofm fonts (of which there are only a 
handful) so that's no option

so, if you want open type support, virtual wide fonts, all kind of 
clever things ... loading runtime is the way to go (or alternatively you 
can wrap up some complex font management system that somehow reassembles 
a lua enhanced font after loading a format from info in the format which 
effectively boils down to just reloading the font runtime but more complex)

> And problem is with \rm and default loaded font.

no problem .. all a matter of proper definitions

>>> Anyway, it is limitation of fontloader or bug?
>>
>> a feature
>
> In this way, it is not possible to dump any font into format :-( which
> also means that there is also no default font when starting tex.

i'm pretty sure that e.g. in context users get a default font even when 
none is stored in the format (and i'm also sure that users want 
different defaults fonts)

compare it to buying a new car: you can put a kettle of water + coal in 
the trunk but it won't move like your ancient stream powered one ... the 
same is true for luatex, feed it the right ingredients in the right way 
and it will do the job you expect it to do

(running in circles around the car won't make it move ... you need to 
make a decision: stay in the 8 bit world or move on to unicode and 
accept some changes ... so, staying with pdftex is a good option)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------

From luatex at nililand.de  Sat Aug 13 15:00:29 2016
From: luatex at nililand.de (Ulrike Fischer)
Date: Sat, 13 Aug 2016 15:00:29 +0200
Subject: [luatex] Typo in documentation
Message-ID: <1j6abber7bo9r$.dlg@nililand.de>

In section 6.8. the last paragraph (in texlive 2016) starts with
"Possible locations are top, bottom, both and center." 

Imho "center" should be replaced by "overlay". At least I get errors
when I try this keyword while overlay works fine.


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From pali.rohar at gmail.com  Sat Aug 13 23:48:46 2016
From: pali.rohar at gmail.com (Pali =?utf-8?q?Roh=C3=A1r?=)
Date: Sat, 13 Aug 2016 23:48:46 +0200
Subject: [luatex] fontloader in iniTeX
In-Reply-To: <cb343b2e-f5df-7741-1c44-5227fed90bb7@wxs.nl>
References: <201607311216.59936@pali> <20160809102805.GA30047@pali>
 <cb343b2e-f5df-7741-1c44-5227fed90bb7@wxs.nl>
Message-ID: <201608132348.46158@pali>

On Tuesday 09 August 2016 14:08:39 Hans Hagen wrote:
> it all depends on what you want to do:

Using fontloader to load both OTF and TFM+PFB fonts.

> On 8/9/2016 12:28 PM, Pali Roh?r wrote:
> > And problem is with \rm and default loaded font.
> 
> no problem .. all a matter of proper definitions

I tried to postpone \font definition from iniTeX via \everyjob... but 
I'm unable to preload plain.tex into dump as it calls \skewchar, 
\textfont and other font definitions...

> >>> Anyway, it is limitation of fontloader or bug?
> >> 
> >> a feature
> > 
> > In this way, it is not possible to dump any font into format :-(
> > which also means that there is also no default font when starting
> > tex.
> 
> i'm pretty sure that e.g. in context users get a default font even
> when none is stored in the format (and i'm also sure that users want
> different defaults fonts)

Yes, but context is different from both plain and latex.

-- 
Pali Roh?r
pali.rohar at gmail.com
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 198 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/luatex/attachments/20160813/8eb96540/attachment.bin>

From pragma at wxs.nl  Sun Aug 14 12:10:21 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Sun, 14 Aug 2016 12:10:21 +0200
Subject: [luatex] fontloader in iniTeX
In-Reply-To: <201608132348.46158@pali>
References: <201607311216.59936@pali> <20160809102805.GA30047@pali>
 <cb343b2e-f5df-7741-1c44-5227fed90bb7@wxs.nl> <201608132348.46158@pali>
Message-ID: <23d82ae7-922f-7064-b942-6f41b7b6414e@wxs.nl>

On 8/13/2016 11:48 PM, Pali Roh?r wrote:
> On Tuesday 09 August 2016 14:08:39 Hans Hagen wrote:
>> it all depends on what you want to do:
>
> Using fontloader to load both OTF and TFM+PFB fonts.
>
>> On 8/9/2016 12:28 PM, Pali Roh?r wrote:
>>> And problem is with \rm and default loaded font.
>>
>> no problem .. all a matter of proper definitions
>
> I tried to postpone \font definition from iniTeX via \everyjob... but
> I'm unable to preload plain.tex into dump as it calls \skewchar,
> \textfont and other font definitions...

then load them at initime and afterwards redefine the font ones

also, plain loads traditional tfm files and if you load some other font, 
say a csr one, it's no longer plain and you then can as well add extra 
code to deal with this

if you want to use unicode, plain has to be extended anyway as math is 
also unicode then

>>>>> Anyway, it is limitation of fontloader or bug?
>>>>
>>>> a feature
>>>
>>> In this way, it is not possible to dump any font into format :-(
>>> which also means that there is also no default font when starting
>>> tex.
>>
>> i'm pretty sure that e.g. in context users get a default font even
>> when none is stored in the format (and i'm also sure that users want
>> different defaults fonts)
>
> Yes, but context is different from both plain and latex.

luatex-plain loads ok, so ... maybe your plain is different from plain

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------

From pali.rohar at gmail.com  Sun Aug 14 12:27:05 2016
From: pali.rohar at gmail.com (Pali =?utf-8?q?Roh=C3=A1r?=)
Date: Sun, 14 Aug 2016 12:27:05 +0200
Subject: [luatex] fontloader in iniTeX
In-Reply-To: <23d82ae7-922f-7064-b942-6f41b7b6414e@wxs.nl>
References: <201607311216.59936@pali> <201608132348.46158@pali>
 <23d82ae7-922f-7064-b942-6f41b7b6414e@wxs.nl>
Message-ID: <201608141227.05092@pali>

On Sunday 14 August 2016 12:10:21 Hans Hagen wrote:
> On 8/13/2016 11:48 PM, Pali Roh?r wrote:
> > On Tuesday 09 August 2016 14:08:39 Hans Hagen wrote:
> >> it all depends on what you want to do:
> > Using fontloader to load both OTF and TFM+PFB fonts.
> > 
> >> On 8/9/2016 12:28 PM, Pali Roh?r wrote:
> >>> And problem is with \rm and default loaded font.
> >> 
> >> no problem .. all a matter of proper definitions
> > 
> > I tried to postpone \font definition from iniTeX via \everyjob...
> > but I'm unable to preload plain.tex into dump as it calls
> > \skewchar, \textfont and other font definitions...
> 
> then load them at initime and afterwards redefine the font ones

But that drop all \skewchar, \textfont and other definitions as those 
commands use fonts at time of assignment. So if I redefine font \tenrm 
then \textfont will still use old font...

> also, plain loads traditional tfm files and if you load some other
> font, say a csr one, it's no longer plain and you then can as well
> add extra code to deal with this

It is slightly modified, but still plain:

http://texdoc.net/texmf-dist/tex/csplain/base/csplain.ini
http://texdoc.net/texmf-dist/tex/csplain/base/csfonts.tex

It basically replace cm* fonts with cs* (cs* are just extension and 
fully backward compatible with cm*), set A4 format, load also Slovak 
hyphenation patterns and in pdfTeX uses encTeX for UTF-8 support. 

So I would say it is still plain, just for Slovak texts.

But in LuaTeX for loading cs* fonts is needed your fontloader with 
TFM+PFB support, for original Knuth's cm* fonts not.

> if you want to use unicode, plain has to be extended anyway as math
> is also unicode then

-- 
Pali Roh?r
pali.rohar at gmail.com
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 198 bytes
Desc: This is a digitally signed message part.
URL: <http://tug.org/pipermail/luatex/attachments/20160814/5e24e1d4/attachment.bin>

From pragma at wxs.nl  Sun Aug 14 13:51:35 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Sun, 14 Aug 2016 13:51:35 +0200
Subject: [luatex] fontloader in iniTeX
In-Reply-To: <201608141227.05092@pali>
References: <201607311216.59936@pali> <201608132348.46158@pali>
 <23d82ae7-922f-7064-b942-6f41b7b6414e@wxs.nl> <201608141227.05092@pali>
Message-ID: <354db4b8-6309-0aa3-6725-76f3af8606b4@wxs.nl>

On 8/14/2016 12:27 PM, Pali Roh?r wrote:
> On Sunday 14 August 2016 12:10:21 Hans Hagen wrote:
>> On 8/13/2016 11:48 PM, Pali Roh?r wrote:
>>> On Tuesday 09 August 2016 14:08:39 Hans Hagen wrote:
>>>> it all depends on what you want to do:
>>> Using fontloader to load both OTF and TFM+PFB fonts.
>>>
>>>> On 8/9/2016 12:28 PM, Pali Roh?r wrote:
>>>>> And problem is with \rm and default loaded font.
>>>>
>>>> no problem .. all a matter of proper definitions
>>>
>>> I tried to postpone \font definition from iniTeX via \everyjob...
>>> but I'm unable to preload plain.tex into dump as it calls
>>> \skewchar, \textfont and other font definitions...
>>
>> then load them at initime and afterwards redefine the font ones
>
> But that drop all \skewchar, \textfont and other definitions as those
> commands use fonts at time of assignment. So if I redefine font \tenrm
> then \textfont will still use old font...

not if you let everyjob reload \textfont in the same way

>> also, plain loads traditional tfm files and if you load some other
>> font, say a csr one, it's no longer plain and you then can as well
>> add extra code to deal with this
>
> It is slightly modified, but still plain:
>
> http://texdoc.net/texmf-dist/tex/csplain/base/csplain.ini
> http://texdoc.net/texmf-dist/tex/csplain/base/csfonts.tex

so slightly modify it a bit more -)

> It basically replace cm* fonts with cs* (cs* are just extension and
> fully backward compatible with cm*), set A4 format, load also Slovak
> hyphenation patterns and in pdfTeX uses encTeX for UTF-8 support.
>
> So I would say it is still plain, just for Slovak texts.

so why not load the fonts runtime

\everyjob{\input csfonts.tex }

in fact, plain is small enough to just load it each time i.e. csplain 
for luatex can be just

\everyjob {\input csplain.tex }

> But in LuaTeX for loading cs* fonts is needed your fontloader with
> TFM+PFB support, for original Knuth's cm* fonts not.
>
>> if you want to use unicode, plain has to be extended anyway as math
>> is also unicode then

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------

From joseph.wright at morningstar2.co.uk  Sat Aug 20 15:43:59 2016
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sat, 20 Aug 2016 14:43:59 +0100
Subject: [luatex] Spaces in the log: \scrollmode or not, LuaTeX or pdfTeX
Message-ID: <2d4b6afe-1618-0e70-075f-590b9bbe9352@morningstar2.co.uk>

Hello all,

With example

    \scrollmode

    \ifx\zzz\undefined\else\expandafter\endinput\fi

    \def\zzz{}

    \input \jobname

    \end

we get with pdfTeX

    This is pdfTeX, Version 3.14159265-2.6-1.40.17 (TeX Live 2016)
(preloaded format=pdftex)
     restricted \write18 enabled.
    entering extended mode
    (./test.tex
    (./test.tex
    ) )

but with \scrollmode commented get

    This is pdfTeX, Version 3.14159265-2.6-1.40.17 (TeX Live 2016)
(preloaded format=pdftex)
     restricted \write18 enabled.
    entering extended mode
    (./test.tex (./test.tex) )
    No pages of output.
    Transcript written on test.log.

(and similar for other engines) whilst LuaTeX gives respectively

    This is LuaTeX, Version 0.95.0 (TeX Live 2016)
     restricted system commands enabled.
    (./test.tex
    (./test.tex
    ))
    warning  (pdf backend): no pages of output.
    Transcript written on test.log.

and

    This is LuaTeX, Version 0.95.0 (TeX Live 2016)
     restricted system commands enabled.
    (./test.tex (./test.tex))
    warning  (pdf backend): no pages of output.
    Transcript written on test.log.

Is there some logic to the variation here?

Joseph

From pragma at wxs.nl  Sat Aug 20 16:18:28 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Sat, 20 Aug 2016 16:18:28 +0200
Subject: [luatex] Spaces in the log: \scrollmode or not, LuaTeX or pdfTeX
In-Reply-To: <2d4b6afe-1618-0e70-075f-590b9bbe9352@morningstar2.co.uk>
References: <2d4b6afe-1618-0e70-075f-590b9bbe9352@morningstar2.co.uk>
Message-ID: <51047810-d042-dd49-5944-cce2e689af7e@wxs.nl>

On 8/20/2016 3:43 PM, Joseph Wright wrote:
> Hello all,
>
> With example
>
>     \scrollmode
>
>     \ifx\zzz\undefined\else\expandafter\endinput\fi
>
>     \def\zzz{}
>
>     \input \jobname
>
>     \end
>
> we get with pdfTeX
>
>     This is pdfTeX, Version 3.14159265-2.6-1.40.17 (TeX Live 2016)
> (preloaded format=pdftex)
>      restricted \write18 enabled.
>     entering extended mode
>     (./test.tex
>     (./test.tex
>     ) )
>
> but with \scrollmode commented get
>
>     This is pdfTeX, Version 3.14159265-2.6-1.40.17 (TeX Live 2016)
> (preloaded format=pdftex)
>      restricted \write18 enabled.
>     entering extended mode
>     (./test.tex (./test.tex) )
>     No pages of output.
>     Transcript written on test.log.
>
> (and similar for other engines) whilst LuaTeX gives respectively
>
>     This is LuaTeX, Version 0.95.0 (TeX Live 2016)
>      restricted system commands enabled.
>     (./test.tex
>     (./test.tex
>     ))
>     warning  (pdf backend): no pages of output.
>     Transcript written on test.log.
>
> and
>
>     This is LuaTeX, Version 0.95.0 (TeX Live 2016)
>      restricted system commands enabled.
>     (./test.tex (./test.tex))
>     warning  (pdf backend): no pages of output.
>     Transcript written on test.log.
>
> Is there some logic to the variation here?

Warnings are not suppressed with scrollmode (I wonder why pdftex does 
suppress them unless in batchmode).

Concerning spaces: we're not (even aiming at exact) log compatible. 
Warnings, errors etc are kind of normalized and can get intercepted with 
lua. Things like opening / closing files - the () thing - as well as the 
way names get repported can differe with e.g. pdftex (maybe even more in 
the future).

The way tex reports (macros, expansion stuff, boxes etc) we try to keep 
as compatible as possible / reasonable.

Backend and engine messages are often independent things anyway.

Hans
Hans

-- 

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------

From frank.mittelbach at latex-project.org  Sat Aug 20 16:49:03 2016
From: frank.mittelbach at latex-project.org (Frank Mittelbach)
Date: Sat, 20 Aug 2016 16:49:03 +0200
Subject: [luatex] Spaces in the log: \scrollmode or not, LuaTeX or pdfTeX
In-Reply-To: <2d4b6afe-1618-0e70-075f-590b9bbe9352@morningstar2.co.uk>
References: <2d4b6afe-1618-0e70-075f-590b9bbe9352@morningstar2.co.uk>
Message-ID: <566c29a0-2d44-087f-5845-080d77612489@latex-project.org>

Am 20.08.16 um 15:43 schrieb Joseph Wright:

 > [..]

> (and similar for other engines) whilst LuaTeX gives respectively
>
>     This is LuaTeX, Version 0.95.0 (TeX Live 2016)
>      restricted system commands enabled.
>     (./test.tex
>     (./test.tex
>     ))
>     warning  (pdf backend): no pages of output.
>     Transcript written on test.log.
>
> and
>
>     This is LuaTeX, Version 0.95.0 (TeX Live 2016)
>      restricted system commands enabled.
>     (./test.tex (./test.tex))
>     warning  (pdf backend): no pages of output.
>     Transcript written on test.log.
>
> Is there some logic to the variation here?

I think there is not much you can do here other than accept the 
differences (and expect more in the future)

and somehow program around it.

In the 20 years regression testing for LaTeX I remember several 
occasions where spaces popped up in new places (or linebreaks) when a 
new release of web2c was released. This is the same thing and as Hans 
said, lua code will interrupt things and so start new lines in places.

It is a bit surprising that there is a lot of space differences between 
batch and scroll mode but ...

would be nice if there are less, but it is fairly clear that the 
different engines will behave differently here as this is not something 
that matters except when trying to parse the .log file

Guess you need to normalize by hunting for ) as the first char in a line 
combine it with the previous line and then see how far that gets you

frank


From pragma at wxs.nl  Sun Aug 21 12:34:07 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Sun, 21 Aug 2016 12:34:07 +0200
Subject: [luatex] Spaces in the log: \scrollmode or not, LuaTeX or pdfTeX
In-Reply-To: <566c29a0-2d44-087f-5845-080d77612489@latex-project.org>
References: <2d4b6afe-1618-0e70-075f-590b9bbe9352@morningstar2.co.uk>
 <566c29a0-2d44-087f-5845-080d77612489@latex-project.org>
Message-ID: <6fcd20f0-901d-e940-dd65-b4aade19a084@wxs.nl>

On 8/20/2016 4:49 PM, Frank Mittelbach wrote:
> Am 20.08.16 um 15:43 schrieb Joseph Wright:
>
>> [..]
>
>> (and similar for other engines) whilst LuaTeX gives respectively
>>
>>     This is LuaTeX, Version 0.95.0 (TeX Live 2016)
>>      restricted system commands enabled.
>>     (./test.tex
>>     (./test.tex
>>     ))
>>     warning  (pdf backend): no pages of output.
>>     Transcript written on test.log.
>>
>> and
>>
>>     This is LuaTeX, Version 0.95.0 (TeX Live 2016)
>>      restricted system commands enabled.
>>     (./test.tex (./test.tex))
>>     warning  (pdf backend): no pages of output.
>>     Transcript written on test.log.
>>
>> Is there some logic to the variation here?
>
> I think there is not much you can do here other than accept the
> differences (and expect more in the future)
>
> and somehow program around it.
>
> In the 20 years regression testing for LaTeX I remember several
> occasions where spaces popped up in new places (or linebreaks) when a
> new release of web2c was released. This is the same thing and as Hans
> said, lua code will interrupt things and so start new lines in places.
>
> It is a bit surprising that there is a lot of space differences between
> batch and scroll mode but ...
>
> would be nice if there are less, but it is fairly clear that the
> different engines will behave differently here as this is not something
> that matters except when trying to parse the .log file
>
> Guess you need to normalize by hunting for ) as the first char in a line
> combine it with the previous line and then see how far that gets you

maybe it helps to know that there are

- tex messages and errors: these go through the more or less traditional 
machinery, but spaces and newlines can creep in as a side effect of 
linebreaks (max length, utf etc); some extended mechanisms can output a 
bit more in tracing

- backend (or subsystem) warnings and errors: in pdftex/xetex some might 
come from kpse, some from third party libraries, some from within but in 
luatex most of them are normalized (which took a bit of time / effort), 
so where the pdftex backend can report "bla bla" luatex will often 
report "category: bla bla"; some harmless errors became warnings and 
some warnings became errors, so that also can be different); for too 
isolated libraries one can expect anything in terms of messages but 
normally it's then a fatal error anyway

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------

From rpspringuel at gmail.com  Sun Aug 21 20:12:32 2016
From: rpspringuel at gmail.com (Br. Samuel Springuel)
Date: Sun, 21 Aug 2016 14:12:32 -0400
Subject: [luatex] Change in behavior
Message-ID: <02098d37-77dc-d7f4-dc88-13ebeb24e877@gmail.com>

As part of the GregorioTeX package, we have a Lua function which 
rescales a particular distance register by multiplying it by an 
arbitrary factor (the factor can be non-integer, so we cannot do this 
math in TeX itself).  Originally we wrote the function as this:

local function scale_space(factor)
   local skip = tex.getskip('gre at skip@temp at four')
   skip.width = skip.width * factor
   -- should skip.stretch and skip.shink also be scaled?
end

However, we found that after updating our testing process to use TL2016 
(and thus LuaTeX 0.95 instead of 0.80) the rescaling was no longer 
happening.  After some experimentation, we found that the following worked:

local function scale_space(factor)
   local skip = tex.getskip('gre at skip@temp at four')
   skip.width = skip.width * factor
   tex.setskip('gre at skip@temp at four',skip)
   -- should skip.stretch and skip.shink also be scaled?
end

This implies to me that the behavior of the function interface for token 
registers changed at some point between these two versions.  In 0.80 a 
variable filled with a token register was linked to that register and 
changes to the variable were reflected in the token register itself.  In 
0.95 the variable is not linked to the register and thus changes to the 
variable are not communicated to the register unless and until that is 
done so explicitly.  Is my interpretation of the situation correct?  If 
so, when did this change occur and what is the best way for me to stay 
abreast of these sort of changes.
-- 
?????????????????????????
Br. Samuel, OSB
St. Anselm?s Abbey
Washington, DC
(R. Padraic Springuel)

PAX ? ???????

From pragma at wxs.nl  Sun Aug 21 23:07:41 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Sun, 21 Aug 2016 23:07:41 +0200
Subject: [luatex] Change in behavior
In-Reply-To: <02098d37-77dc-d7f4-dc88-13ebeb24e877@gmail.com>
References: <02098d37-77dc-d7f4-dc88-13ebeb24e877@gmail.com>
Message-ID: <3b3dcc31-2384-716c-2c7c-6d4fef2742bf@wxs.nl>

On 8/21/2016 8:12 PM, Br. Samuel Springuel wrote:
> As part of the GregorioTeX package, we have a Lua function which
> rescales a particular distance register by multiplying it by an
> arbitrary factor (the factor can be non-integer, so we cannot do this
> math in TeX itself).  Originally we wrote the function as this:
>
> local function scale_space(factor)
>   local skip = tex.getskip('gre at skip@temp at four')
>   skip.width = skip.width * factor
>   -- should skip.stretch and skip.shink also be scaled?
> end
>
> However, we found that after updating our testing process to use TL2016
> (and thus LuaTeX 0.95 instead of 0.80) the rescaling was no longer
> happening.  After some experimentation, we found that the following worked:
>
> local function scale_space(factor)
>   local skip = tex.getskip('gre at skip@temp at four')
>   skip.width = skip.width * factor
>   tex.setskip('gre at skip@temp at four',skip)
>   -- should skip.stretch and skip.shink also be scaled?
> end
>
> This implies to me that the behavior of the function interface for token
> registers changed at some point between these two versions.  In 0.80 a
> variable filled with a token register was linked to that register and
> changes to the variable were reflected in the token register itself.  In
> 0.95 the variable is not linked to the register and thus changes to the
> variable are not communicated to the register unless and until that is
> done so explicitly.  Is my interpretation of the situation correct?  If
> so, when did this change occur and what is the best way for me to stay
> abreast of these sort of changes.

skips (glue) is kind of special in the sense that it's something 
indirect (glue specs)

in the current luatex the glue nodes no longer use these specs (so no 
indirectness) but the registers are still 'specs' so, what you get with
tex.getskip is a gluespec (node) that you can then mess with 
(independently) and you set a skip by passing a gluespec node

(the old model also shared specs with ref counts and such which could be 
quite tricky and have side effects when messing with these specs)

you can use tex.setglue to set the width (or more values)

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------

From cataclop at hotmail.com  Mon Aug 22 18:49:53 2016
From: cataclop at hotmail.com (Jacques Peron)
Date: Mon, 22 Aug 2016 18:49:53 +0200
Subject: [luatex] Problem when including pdf with graphicx package and
 draftmode
Message-ID: <CAEWegNEn8qf08K+7E_2SeO4-TUTvsb7CYXL6o7KT-qff_N9_8w@mail.gmail.com>

Hello,

Using lualatex from Debian sid texlive packages, I get a weird error when
including a pdf with graphicx :

$ lualatex -draftmode test.tex

?

! error:  (pdf backend): draftmode cannot be changed after data is written to t
he PDF file
!  ==> Fatal error occurred, no output PDF file produced!

With pdflatex, here is what I get instead :

$ pdflatex -draftmode test.tex

?

<ND.pdf, id=1, 150.5625pt x 167.62625pt> <use ND.pdf> [1] (./test.aux) )
pdfTeX warning: \pdfdraftmode enabled, not changing output pdf
Transcript written on test.log.

You?ll find files joined. I think it must be a bug within lualatex ; please
tell me if I make a mistake !

Fr Jacques Peron.
?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160822/d4881ec5/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ND.pdf
Type: application/pdf
Size: 93897 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20160822/d4881ec5/attachment-0001.pdf>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.tex
Type: application/x-tex
Size: 106 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20160822/d4881ec5/attachment-0001.tex>

From preining at logic.at  Mon Aug 22 23:20:10 2016
From: preining at logic.at (Norbert Preining)
Date: Tue, 23 Aug 2016 06:20:10 +0900
Subject: [luatex] Problem when including pdf with graphicx package and
 draftmode
In-Reply-To: <CAEWegNEn8qf08K+7E_2SeO4-TUTvsb7CYXL6o7KT-qff_N9_8w@mail.gmail.com>
References: <CAEWegNEn8qf08K+7E_2SeO4-TUTvsb7CYXL6o7KT-qff_N9_8w@mail.gmail.com>
Message-ID: <20160822212010.GF19152@logic.at>

Hi Jacques,

> Using lualatex from Debian sid texlive packages, I get a weird error when
> including a pdf with graphicx :

Which versions are you using? I don't see this on my Debian machine:
$ lualatex test
This is LuaTeX, Version 0.95.0 (TeX Live 2016/Debian) 
 restricted system commands enabled.
(./test.tex
LaTeX2e <2016/03/31> patch level 3
Babel <3.9r> and hyphenation patterns for 1 language(s) loaded.
(/usr/share/texlive/texmf-dist/tex/latex/base/minimal.cls
Document Class: minimal 2001/05/25 Standard LaTeX minimal class
) (/usr/share/texlive/texmf-dist/tex/latex/graphics/graphicx.sty
(/usr/share/texlive/texmf-dist/tex/latex/graphics/keyval.sty)
(/usr/share/texlive/texmf-dist/tex/latex/graphics/graphics.sty
(/usr/share/texlive/texmf-dist/tex/latex/graphics/trig.sty)
(/usr/share/texlive/texmf-dist/tex/latex/graphics-cfg/graphics.cfg)
(/usr/share/texlive/texmf-dist/tex/latex/graphics-def/luatex.def
(/usr/share/texlive/texmf-dist/tex/generic/oberdiek/infwarerr.sty)
(/usr/share/texlive/texmf-dist/tex/generic/oberdiek/ltxcmds.sty)))) (./test.aux
) (/usr/share/texlive/texmf-dist/tex/context/base/mkii/supp-pdf.mkii
[Loading MPS to PDF converter (version 2006.09.02).]
) (/usr/share/texlive/texmf-dist/tex/latex/oberdiek/epstopdf-base.sty
(/usr/share/texlive/texmf-dist/tex/latex/oberdiek/grfext.sty
(/usr/share/texlive/texmf-dist/tex/generic/oberdiek/kvdefinekeys.sty))
(/usr/share/texlive/texmf-dist/tex/latex/oberdiek/kvoptions.sty
(/usr/share/texlive/texmf-dist/tex/generic/oberdiek/kvsetkeys.sty
(/usr/share/texlive/texmf-dist/tex/generic/oberdiek/etexcmds.sty
(/usr/share/texlive/texmf-dist/tex/generic/oberdiek/ifluatex.sty))))
(/usr/share/texlive/texmf-dist/tex/generic/oberdiek/pdftexcmds.sty
(/usr/share/texlive/texmf-dist/tex/generic/oberdiek/ifpdf.sty)
(/usr/share/texlive/texmf-dist/tex/generic/oberdiek/luatex-loader.sty
(/usr/share/texlive/texmf-dist/scripts/oberdiek/oberdiek.luatex.lua)))
(/usr/share/texlive/texmf-dist/tex/latex/latexconfig/epstopdf-sys.cfg))
<ND.pdf, id=1, 150.5625pt x 167.62625pt> <use ND.pdf> [1<./ND.pdf>] (./test.aux
))
 302 words of node memory still in use:
   2 hlist, 1 vlist, 1 rule, 5 glue, 33 glue_spec, 1 write nodes
   avail lists: 2:12,3:2,4:1,5:7,6:1,7:19,8:3,9:11
Output written on test.pdf (1 page, 67179 bytes).
Transcript written on test.log.
$

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From luatex at nililand.de  Mon Aug 22 23:41:09 2016
From: luatex at nililand.de (Ulrike Fischer)
Date: Mon, 22 Aug 2016 23:41:09 +0200
Subject: [luatex] Problem when including pdf with graphicx package and
 draftmode
References: <CAEWegNEn8qf08K+7E_2SeO4-TUTvsb7CYXL6o7KT-qff_N9_8w@mail.gmail.com>
 <20160822212010.GF19152@logic.at>
Message-ID: <pelf386yj23h.dlg@nililand.de>

Am Tue, 23 Aug 2016 06:20:10 +0900 schrieb Norbert Preining:

>> Using lualatex from Debian sid texlive packages, I get a weird error when
>> including a pdf with graphicx :
> 
> Which versions are you using? I don't see this on my Debian machine:
> $ lualatex test

Jacques did run 

$ lualatex -draftmode test.tex

With the -draftmode option I see the described output too on windows
10/texlive 2016.

-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From herbs at wideopenwest.com  Mon Aug 22 23:48:25 2016
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Mon, 22 Aug 2016 16:48:25 -0500
Subject: [luatex] Problem when including pdf with graphicx package and
 draftmode
In-Reply-To: <pelf386yj23h.dlg@nililand.de>
References: <CAEWegNEn8qf08K+7E_2SeO4-TUTvsb7CYXL6o7KT-qff_N9_8w@mail.gmail.com>
 <20160822212010.GF19152@logic.at> <pelf386yj23h.dlg@nililand.de>
Message-ID: <A191A989-186A-45E2-83D4-7A71DB9F367D@wideopenwest.com>

> On Aug 22, 2016, at 4:41 PM, Ulrike Fischer <luatex at nililand.de> wrote:
> 
> Am Tue, 23 Aug 2016 06:20:10 +0900 schrieb Norbert Preining:
> 
>>> Using lualatex from Debian sid texlive packages, I get a weird error when
>>> including a pdf with graphicx :
>> 
>> Which versions are you using? I don't see this on my Debian machine:
>> $ lualatex test
> 
> Jacques did run 
> 
> $ lualatex -draftmode test.tex
> 
> With the -draftmode option I see the described output too on windows
> 10/texlive 2016.

Howdy,

I'm seeing what the initial report gave for both the lualatex and pdflatex compiles.

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)








From preining at logic.at  Tue Aug 23 06:58:49 2016
From: preining at logic.at (Norbert Preining)
Date: Tue, 23 Aug 2016 13:58:49 +0900
Subject: [luatex] Problem when including pdf with graphicx package and
 draftmode
In-Reply-To: <pelf386yj23h.dlg@nililand.de>
References: <CAEWegNEn8qf08K+7E_2SeO4-TUTvsb7CYXL6o7KT-qff_N9_8w@mail.gmail.com>
 <20160822212010.GF19152@logic.at> <pelf386yj23h.dlg@nililand.de>
Message-ID: <20160823045849.GG19152@logic.at>

> $ lualatex -draftmode test.tex

INdeed, sorry.

I can confirm, and it is independent of Debian, upstream TeX Live
has the same.

Norbert

--
PREINING Norbert + TeX Live & Debian Developer + http://www.preining.info
GPG: 0x860CDC13    fp: F7D8 A928 26E3 16A1 9FA0  ACF0 6CAC A448 860C DC13

From abbe.jacques.peron at gmail.com  Tue Aug 23 13:58:13 2016
From: abbe.jacques.peron at gmail.com (Jacques Peron)
Date: Tue, 23 Aug 2016 13:58:13 +0200
Subject: [luatex] Problem when including pdf with graphicx package and
 draftmode
In-Reply-To: <CAEWegNEn8qf08K+7E_2SeO4-TUTvsb7CYXL6o7KT-qff_N9_8w@mail.gmail.com>
References: <CAEWegNEn8qf08K+7E_2SeO4-TUTvsb7CYXL6o7KT-qff_N9_8w@mail.gmail.com>
Message-ID: <CAEWegNFnhEp3RZsSg5etcijXZ+x8kFt5CLowHidN4bFJ48zB3g@mail.gmail.com>

Hello Norbert,

I've got the same version (`Version 0.95.0 (TeX Live 2016/Debian)` ; my
`texlive-luatex` package is on version 2016.20160819-2). The problem only
appears with the `-draftmode` option : without it, as you say, that works.

Thank you,

Fr Jacques Peron.

2016-08-22 18:49 GMT+02:00 Jacques Peron <cataclop at hotmail.com>:

> Hello,
>
> Using lualatex from Debian sid texlive packages, I get a weird error when
> including a pdf with graphicx :
>
> $ lualatex -draftmode test.tex
>
> ?
>
> ! error:  (pdf backend): draftmode cannot be changed after data is written to t
> he PDF file
> !  ==> Fatal error occurred, no output PDF file produced!
>
> With pdflatex, here is what I get instead :
>
> $ pdflatex -draftmode test.tex
>
> ?
>
> <ND.pdf, id=1, 150.5625pt x 167.62625pt> <use ND.pdf> [1] (./test.aux) )
> pdfTeX warning: \pdfdraftmode enabled, not changing output pdf
> Transcript written on test.log.
>
> You?ll find files joined. I think it must be a bug within lualatex ;
> please tell me if I make a mistake !
>
> Fr Jacques Peron.
> ?
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160823/f946b1a7/attachment.html>

From luigi.scarso at gmail.com  Tue Aug 23 14:01:40 2016
From: luigi.scarso at gmail.com (luigi scarso)
Date: Tue, 23 Aug 2016 14:01:40 +0200
Subject: [luatex] Problem when including pdf with graphicx package and
 draftmode
In-Reply-To: <CAEWegNFnhEp3RZsSg5etcijXZ+x8kFt5CLowHidN4bFJ48zB3g@mail.gmail.com>
References: <CAEWegNEn8qf08K+7E_2SeO4-TUTvsb7CYXL6o7KT-qff_N9_8w@mail.gmail.com>
 <CAEWegNFnhEp3RZsSg5etcijXZ+x8kFt5CLowHidN4bFJ48zB3g@mail.gmail.com>
Message-ID: <CAG5iGsAugqEUUrdi+8Da-VDPJbhvdQnCgeW0OQpMQd1sU0arvA@mail.gmail.com>

On Tue, Aug 23, 2016 at 1:58 PM, Jacques Peron
<abbe.jacques.peron at gmail.com> wrote:
> Hello Norbert,
>
> I've got the same version (`Version 0.95.0 (TeX Live 2016/Debian)` ; my
> `texlive-luatex` package is on version 2016.20160819-2). The problem only
> appears with the `-draftmode` option : without it, as you say, that works.

upcoming luatex 0.98.3 is ok with the  plain format shipped with
latest context mkiv, so we think that it could be  a lualatex problem.


-- 
luigi

From h.y.acetaminophen at gmail.com  Tue Aug 23 14:17:54 2016
From: h.y.acetaminophen at gmail.com (Hironobu Yamashita)
Date: Tue, 23 Aug 2016 21:17:54 +0900
Subject: [luatex] Problem when including pdf with graphicx package and
 draftmode
In-Reply-To: <CAG5iGsAugqEUUrdi+8Da-VDPJbhvdQnCgeW0OQpMQd1sU0arvA@mail.gmail.com>
References: <CAEWegNEn8qf08K+7E_2SeO4-TUTvsb7CYXL6o7KT-qff_N9_8w@mail.gmail.com>
 <CAEWegNFnhEp3RZsSg5etcijXZ+x8kFt5CLowHidN4bFJ48zB3g@mail.gmail.com>
 <CAG5iGsAugqEUUrdi+8Da-VDPJbhvdQnCgeW0OQpMQd1sU0arvA@mail.gmail.com>
Message-ID: <CAJCZBmS-1mLQtiWqFwhCGd4xn8Zo3ygDRWmDbzAiybHeM+mH+A@mail.gmail.com>

Hi,

2016-08-23 21:01 GMT+09:00 luigi scarso <luigi.scarso at gmail.com>:
>
> upcoming luatex 0.98.3 is ok with the  plain format shipped with
> latest context mkiv, so we think that it could be  a lualatex problem.
>
> --
> luigi

I don't agree. I tested with today's texlive r41911 (LuaTeX beta 0.98.3)

$ cat plaintest.tex
\saveimageresource width 30bp{ND.pdf}\useimageresource
\lastsavedimageresourceindex
\bye

$ luatex -draftmode plaintest
This is LuaTeX, Version 0.98.3 (TeX Live 2017/dev)
 restricted system commands enabled.
(./plaintest.tex
! error:  (pdf backend): draftmode cannot be changed after data is written to t
he PDF file
!  ==> Fatal error occurred, no output PDF file produced!

Regards,
Hironobu Yamashita

From luigi.scarso at gmail.com  Tue Aug 23 14:19:40 2016
From: luigi.scarso at gmail.com (luigi scarso)
Date: Tue, 23 Aug 2016 14:19:40 +0200
Subject: [luatex] Problem when including pdf with graphicx package and
 draftmode
In-Reply-To: <CAJCZBmS-1mLQtiWqFwhCGd4xn8Zo3ygDRWmDbzAiybHeM+mH+A@mail.gmail.com>
References: <CAEWegNEn8qf08K+7E_2SeO4-TUTvsb7CYXL6o7KT-qff_N9_8w@mail.gmail.com>
 <CAEWegNFnhEp3RZsSg5etcijXZ+x8kFt5CLowHidN4bFJ48zB3g@mail.gmail.com>
 <CAG5iGsAugqEUUrdi+8Da-VDPJbhvdQnCgeW0OQpMQd1sU0arvA@mail.gmail.com>
 <CAJCZBmS-1mLQtiWqFwhCGd4xn8Zo3ygDRWmDbzAiybHeM+mH+A@mail.gmail.com>
Message-ID: <CAG5iGsAuW-ZpgaAqwY+fVoV2k3erR0s10z2kKZZZ9rg+yU==Xg@mail.gmail.com>

On Tue, Aug 23, 2016 at 2:17 PM, Hironobu Yamashita
<h.y.acetaminophen at gmail.com> wrote:
> Hi,
>
> 2016-08-23 21:01 GMT+09:00 luigi scarso <luigi.scarso at gmail.com>:
>>
>> upcoming luatex 0.98.3 is ok with the  plain format shipped with
>> latest context mkiv, so we think that it could be  a lualatex problem.
>>
>> --
>> luigi
>
> I don't agree. I tested with today's texlive r41911 (LuaTeX beta 0.98.3)
>
> $ cat plaintest.tex
> \saveimageresource width 30bp{ND.pdf}\useimageresource
> \lastsavedimageresourceindex
> \bye
>
> $ luatex -draftmode plaintest
> This is LuaTeX, Version 0.98.3 (TeX Live 2017/dev)
>  restricted system commands enabled.
> (./plaintest.tex
> ! error:  (pdf backend): draftmode cannot be changed after data is written to t
> he PDF file
> !  ==> Fatal error occurred, no output PDF file produced!
>
> Regards,
> Hironobu Yamashita

ok, thank you for the test.

-- 
luigi

From cataclop at hotmail.com  Wed Aug 24 10:48:01 2016
From: cataclop at hotmail.com (Jacques Peron)
Date: Wed, 24 Aug 2016 10:48:01 +0200
Subject: [luatex] Problem when including pdf with graphicx package and
 draftmode
In-Reply-To: <CAG5iGsAuW-ZpgaAqwY+fVoV2k3erR0s10z2kKZZZ9rg+yU==Xg@mail.gmail.com>
References: <CAEWegNEn8qf08K+7E_2SeO4-TUTvsb7CYXL6o7KT-qff_N9_8w@mail.gmail.com>
 <CAEWegNFnhEp3RZsSg5etcijXZ+x8kFt5CLowHidN4bFJ48zB3g@mail.gmail.com>
 <CAG5iGsAugqEUUrdi+8Da-VDPJbhvdQnCgeW0OQpMQd1sU0arvA@mail.gmail.com>
 <CAJCZBmS-1mLQtiWqFwhCGd4xn8Zo3ygDRWmDbzAiybHeM+mH+A@mail.gmail.com>
 <CAG5iGsAuW-ZpgaAqwY+fVoV2k3erR0s10z2kKZZZ9rg+yU==Xg@mail.gmail.com>
Message-ID: <CAEWegNH8CYOQiSJDh6PsvkVXqLDnszfuUVBO2zK5UxKPoK7w7A@mail.gmail.com>

Hello all,

Just tested rev. `6106`, and it works like a charm ; thank you very much !

Fr Jacques Peron.

2016-08-23 14:19 GMT+02:00 luigi scarso <luigi.scarso at gmail.com>:

> On Tue, Aug 23, 2016 at 2:17 PM, Hironobu Yamashita
> <h.y.acetaminophen at gmail.com> wrote:
> > Hi,
> >
> > 2016-08-23 21:01 GMT+09:00 luigi scarso <luigi.scarso at gmail.com>:
> >>
> >> upcoming luatex 0.98.3 is ok with the  plain format shipped with
> >> latest context mkiv, so we think that it could be  a lualatex problem.
> >>
> >> --
> >> luigi
> >
> > I don't agree. I tested with today's texlive r41911 (LuaTeX beta 0.98.3)
> >
> > $ cat plaintest.tex
> > \saveimageresource width 30bp{ND.pdf}\useimageresource
> > \lastsavedimageresourceindex
> > \bye
> >
> > $ luatex -draftmode plaintest
> > This is LuaTeX, Version 0.98.3 (TeX Live 2017/dev)
> >  restricted system commands enabled.
> > (./plaintest.tex
> > ! error:  (pdf backend): draftmode cannot be changed after data is
> written to t
> > he PDF file
> > !  ==> Fatal error occurred, no output PDF file produced!
> >
> > Regards,
> > Hironobu Yamashita
>
> ok, thank you for the test.
>
> --
> luigi
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160824/85fa64d2/attachment-0001.html>

From konstantin at schukraft.org  Mon Aug 29 12:51:55 2016
From: konstantin at schukraft.org (Konstantin Schukraft)
Date: Mon, 29 Aug 2016 10:51:55 +0000
Subject: [luatex] Installing lua modules for luatex
Message-ID: <bc8203e9-f657-b6b1-c8e2-f29124c639ff@schukraft.org>

Hi everyone,

I'm trying to install additional packages to the lua interpreter within
luatex. After an odyssey of google'ing with about a dozen different
suggestions on how to achieve adding external libraries (or part
thereof), most are way too complicated for my taste, mangling tex
internals etc., and having had partial success at best with this topic I
come here to ask:
why isn't there something comparatively easy like a "luatex-luarocks"
for installing third-party libraries? Would that be problematic to
implement or has just no one had the time to do something like it yet?

Specifically, I tried to install a postgres driver, either
luasql.postgres (a .so compiled for the system lua 5.2), or pgmoon. I
can't manage to get either working. I won't flood the list with all
possible error messages from the different ways I tried to achieve this.
I'd just like to know: has anyone done this successfully?

In my search I also came across the Lua section in the handbook, reading
about the texconfig.kpse_init option, which would preserve the regular
lua searcher/loader. Unfortunately, setting it to false in the lua init
file as suggested results in a core dump with the 0.80.0 version
installed via the OS package manager (I'm on FreeBSD 10.3). I can
reproduce this core dump with the 0.95.0 version I downloaded and
compiled myself. Setting it to true doesn't cause a core dump.


Thank you very much,

Konstantin

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 801 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/luatex/attachments/20160829/b0e4c69c/attachment.bin>

From luigi.scarso at gmail.com  Mon Aug 29 15:36:33 2016
From: luigi.scarso at gmail.com (luigi scarso)
Date: Mon, 29 Aug 2016 15:36:33 +0200
Subject: [luatex] Installing lua modules for luatex
In-Reply-To: <bc8203e9-f657-b6b1-c8e2-f29124c639ff@schukraft.org>
References: <bc8203e9-f657-b6b1-c8e2-f29124c639ff@schukraft.org>
Message-ID: <CAG5iGsAY1RJe7EBKYP8YLBF2y+a52NW50euNte05KxDBL7nZ8w@mail.gmail.com>

Il 29/ago/2016 14:23, "Konstantin Schukraft" <konstantin at schukraft.org> ha
scritto:
>
> Hi everyone,
>
> I'm trying to install additional packages to the lua interpreter within
> luatex. After an odyssey of google'ing with about a dozen different
> suggestions on how to achieve adding external libraries (or part
> thereof), most are way too complicated for my taste, mangling tex
> internals etc., and having had partial success at best with this topic I
> come here to ask:
> why isn't there something comparatively easy like a "luatex-luarocks"
> for installing third-party libraries? Would that be problematic to
> implement or has just no one had the time to do something like it yet?
>
> Specifically, I tried to install a postgres driver, either
> luasql.postgres (a .so compiled for the system lua 5.2), or pgmoon. I
> can't manage to get either working. I won't flood the list with all
> possible error messages from the different ways I tried to achieve this.
> I'd just like to know: has anyone done this successfully?
>
> In my search I also came across the Lua section in the handbook, reading
> about the texconfig.kpse_init option, which would preserve the regular
> lua searcher/loader. Unfortunately, setting it to false in the lua init
> file as suggested results in a core dump with the 0.80.0 version
> installed via the OS package manager (I'm on FreeBSD 10.3). I can
> reproduce this core dump with the 0.95.0 version I downloaded and
> compiled myself. Setting it to true doesn't cause a core dump.
>
>
> Thank you very much,
>
> Konstantin
>

Can you give us a test file thame makes a cord dump? (via private email, if
you want)

--
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160829/2298d1d0/attachment.html>

From konstantin at schukraft.org  Mon Aug 29 17:54:42 2016
From: konstantin at schukraft.org (Konstantin Schukraft)
Date: Mon, 29 Aug 2016 15:54:42 +0000
Subject: [luatex] Installing lua modules for luatex
In-Reply-To: <bc8203e9-f657-b6b1-c8e2-f29124c639ff@schukraft.org>
References: <bc8203e9-f657-b6b1-c8e2-f29124c639ff@schukraft.org>
Message-ID: <d3b993a6-2891-468f-098a-5e1774f06b51@schukraft.org>

Hi,

I'm not subscribed, so please reply-all.

The core dump seems independent of any actual tex input file:

$ cat link.lua
texconfig.kpse_init=false

$ luatex --lua link.lua
zsh: abort (core dumped)  luatex --lua link.lua

$ luatex --lua link.lua rechnung.latex
zsh: abort (core dumped)  luatex --lua link.lua rechnung.latex

If you're interested, the 26MB core file is here to find:

http://schukraft.org/luatex.core


All the best,

Konstantin

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 801 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/luatex/attachments/20160829/df33b7d3/attachment-0001.bin>

From luigi.scarso at gmail.com  Mon Aug 29 19:18:50 2016
From: luigi.scarso at gmail.com (luigi scarso)
Date: Mon, 29 Aug 2016 19:18:50 +0200
Subject: [luatex] Installing lua modules for luatex
In-Reply-To: <d3b993a6-2891-468f-098a-5e1774f06b51@schukraft.org>
References: <bc8203e9-f657-b6b1-c8e2-f29124c639ff@schukraft.org>
 <d3b993a6-2891-468f-098a-5e1774f06b51@schukraft.org>
Message-ID: <CAG5iGsB=nL4MmHugnmuWzAEYfCVM0WrQ6D3QV9hFvbMzPxnnQw@mail.gmail.com>

On Mon, Aug 29, 2016 at 5:54 PM, Konstantin Schukraft
<konstantin at schukraft.org> wrote:
> Hi,
>
> I'm not subscribed, so please reply-all.
>
> The core dump seems independent of any actual tex input file:
>
> $ cat link.lua
> texconfig.kpse_init=false
>
> $ luatex --lua link.lua
> zsh: abort (core dumped)  luatex --lua link.lua

ok, thank you.


-- 
luigi

From phg at phi-gamma.net  Tue Aug 30 08:26:08 2016
From: phg at phi-gamma.net (Philipp Gesang)
Date: Tue, 30 Aug 2016 08:26:08 +0200
Subject: [luatex] mailman on luatex.org https front page
Message-ID: <20160830062608.GA4185@phlegethon>

Hi,

I just noticed:

  * http://www.luatex.org/
  * https://www.luatex.org/

For me, these are different. The latter points directly to NTG?s
mailman instance and presents a certificate for mailman.ntg.nl.

What?s happening there? I just need a canonical URL to put
somewhere.
Philipp

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20160830/b4a81bb0/attachment.bin>

From taco at elvenkind.com  Tue Aug 30 09:05:24 2016
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 30 Aug 2016 09:05:24 +0200
Subject: [luatex] mailman on luatex.org https front page
In-Reply-To: <20160830062608.GA4185@phlegethon>
References: <20160830062608.GA4185@phlegethon>
Message-ID: <75290ECB-8423-4292-947A-B5139D4D28DF@elvenkind.com>


> On 30 Aug 2016, at 08:26, Philipp Gesang <phg at phi-gamma.net> wrote:
> 
> Hi,
> 
> I just noticed:
> 
>  * http://www.luatex.org/
>  * https://www.luatex.org/
> 
> For me, these are different. The latter points directly to NTG?s
> mailman instance and presents a certificate for mailman.ntg.nl.

That is a catchall for https. We never bought a certificate for 
www.luatex.org (we could do that, we just never needed it, so why
spend money).

Best wishes,

Taco





From martin at oneiros.de  Tue Aug 30 09:23:11 2016
From: martin at oneiros.de (=?UTF-8?Q?Martin_Schr=C3=B6der?=)
Date: Tue, 30 Aug 2016 09:23:11 +0200
Subject: [luatex] mailman on luatex.org https front page
In-Reply-To: <75290ECB-8423-4292-947A-B5139D4D28DF@elvenkind.com>
References: <20160830062608.GA4185@phlegethon>
 <75290ECB-8423-4292-947A-B5139D4D28DF@elvenkind.com>
Message-ID: <CAP7DCDeYWnDV8yJ3OTS_JnZFXUwY+4gVpo3HjW=GDAW5oNoMQA@mail.gmail.com>

2016-08-30 9:05 GMT+02:00 Taco Hoekwater <taco at elvenkind.com>:
> www.luatex.org (we could do that, we just never needed it, so why
> spend money).

They are free now: Let's Encrypt. :-)

Best
   Martin

From pragma at wxs.nl  Tue Aug 30 09:52:43 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 30 Aug 2016 09:52:43 +0200
Subject: [luatex] mailman on luatex.org https front page
In-Reply-To: <CAP7DCDeYWnDV8yJ3OTS_JnZFXUwY+4gVpo3HjW=GDAW5oNoMQA@mail.gmail.com>
References: <20160830062608.GA4185@phlegethon>
 <75290ECB-8423-4292-947A-B5139D4D28DF@elvenkind.com>
 <CAP7DCDeYWnDV8yJ3OTS_JnZFXUwY+4gVpo3HjW=GDAW5oNoMQA@mail.gmail.com>
Message-ID: <49b88e6a-4abb-550b-63c2-4bcd70c7aca8@wxs.nl>

On 8/30/2016 9:23 AM, Martin Schr?der wrote:
> 2016-08-30 9:05 GMT+02:00 Taco Hoekwater <taco at elvenkind.com>:
>> www.luatex.org (we could do that, we just never needed it, so why
>> spend money).
>
> They are free now: Let's Encrypt. :-)

we have no secrets

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------

From patrick at gundla.ch  Tue Aug 30 17:15:50 2016
From: patrick at gundla.ch (Patrick Gundlach)
Date: Tue, 30 Aug 2016 17:15:50 +0200
Subject: [luatex] mailman on luatex.org https front page
In-Reply-To: <49b88e6a-4abb-550b-63c2-4bcd70c7aca8@wxs.nl>
References: <20160830062608.GA4185@phlegethon>
 <75290ECB-8423-4292-947A-B5139D4D28DF@elvenkind.com>
 <CAP7DCDeYWnDV8yJ3OTS_JnZFXUwY+4gVpo3HjW=GDAW5oNoMQA@mail.gmail.com>
 <49b88e6a-4abb-550b-63c2-4bcd70c7aca8@wxs.nl>
Message-ID: <6606CC7F-B3EC-40D3-A907-D78FE425BE76@gundla.ch>


> Am 30.08.2016 um 09:52 schrieb Hans Hagen <pragma at wxs.nl>:
> 
> On 8/30/2016 9:23 AM, Martin Schr?der wrote:
>> 2016-08-30 9:05 GMT+02:00 Taco Hoekwater <taco at elvenkind.com>:
>>> www.luatex.org (we could do that, we just never needed it, so why
>>> spend money).
>> 
>> They are free now: Let's Encrypt. :-)
> 
> we have no secrets

https should be the default. I don't buy this 'we have no secrets' argument, as the provider cannot judge in all cases if submitted/requested data is perfectly non-sensitive. Using unencrypted connections on a public wifi for example can be dangerous. 

There are so many reasons against unencrypted connections, and only very little against encrypted ones.

Two sites with arguments:

https://https.cio.gov/everything/
https://developers.google.com/web/fundamentals/security/encrypt-in-transit/why-https

To protect the integrity of TeX and friends distributions we should never rely on unencrypted connections.

But this is getting off-topic, I guess.

Patrick




From phg at phi-gamma.net  Wed Aug 31 07:26:11 2016
From: phg at phi-gamma.net (Philipp Gesang)
Date: Wed, 31 Aug 2016 07:26:11 +0200
Subject: [luatex] mailman on luatex.org https front page
In-Reply-To: <75290ECB-8423-4292-947A-B5139D4D28DF@elvenkind.com>
References: <20160830062608.GA4185@phlegethon>
 <75290ECB-8423-4292-947A-B5139D4D28DF@elvenkind.com>
Message-ID: <20160831052611.GA17593@phlegethon>

???<date: 2016-08-30, Tuesday>???<from: Taco Hoekwater>???

> > On 30 Aug 2016, at 08:26, Philipp Gesang <phg at phi-gamma.net> wrote:
> > 
> >  * http://www.luatex.org/
> >  * https://www.luatex.org/
> > 
> > For me, these are different. The latter points directly to NTG?s
> > mailman instance and presents a certificate for mailman.ntg.nl.
> 
> That is a catchall for https. We never bought a certificate for 
> www.luatex.org (we could do that, we just never needed it, so why
> spend money).

Ok I?ll use the unencrypted one then. The host mismatch did look
like serious misconfiguration to me.

Philipp


-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20160831/b28489cb/attachment.bin>

From skostysh at lyx.org  Wed Aug 31 15:40:06 2016
From: skostysh at lyx.org (Scott Kostyshak)
Date: Wed, 31 Aug 2016 09:40:06 -0400
Subject: [luatex] dvilualatex does not export character with accent
Message-ID: <20160831134006.4fewxothddqfeyw4@steph>

The attached minimal example uses FreeSans fonts (I also tested with
DejaVu). And for the word "caracter?sticas", the "?" character is not
exported. Is this expected? Further, is it expected that no warning or
error is given?

Note that everything works as I expecte when using lualatex

Extra information below:

dvips fails on the DVI created from dvilualatex:

$ dvips dvi_minimal.dvi 
This is dvips(k) 5.996 Copyright 2016 Radical Eye Software
(www.radicaleye.com)
' LuaTeX output 2016.08.31:0932' -> dvi_minimal.ps
kpathsea:make_tex: Invalid fontname
`FreeSerif:mode=node;script=latn;language=DFLT;+tlig;+tlig;', contains
':'
dvips: Font FreeSerif:mode=node;script=latn;language=DFLT;+tlig;+tlig;
not found; using cmr10
</home/scott/.texlive2016/texmf-var/fonts/pk/ljfour/public/cm/cmr10.1037pk>
dvips: ! invalid char 237 from font
FreeSerif:mode=node;script=latn;language=DFLT;+tlig;+tlig;

In the complicated document from which the minimal example was made,
xdvi crashes when trying to go to e.g. page 3.

Thanks,

Scott
-------------- next part --------------
\relax 
\select at language {spanish}
\@writefile{toc}{\select at language {spanish}}
\@writefile{lof}{\select at language {spanish}}
\@writefile{lot}{\select at language {spanish}}
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dvi_minimal.dvi
Type: application/x-dvi
Size: 788 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20160831/e78f11eb/attachment-0001.dvi>
-------------- next part --------------
This is LuaTeX, Version 0.95.0 (TeX Live 2016)  (format=dvilualatex 2016.8.28)  31 AUG 2016 09:32
 restricted system commands enabled.
**dvi_minimal.tex
(./dvi_minimal.tex
LaTeX2e <2016/03/31> patch level 3
Babel <3.9r> and hyphenation patterns for 1 language(s) loaded.
(/usr/local/texlive/2016/texmf-dist/tex/latex/base/article.cls
Document Class: article 2014/09/29 v1.4h Standard LaTeX document class
(/usr/local/texlive/2016/texmf-dist/tex/latex/base/size10.clo
File: size10.clo 2014/09/29 v1.4h Standard LaTeX file (size option)
)
\c at part=\count79
\c at section=\count80
\c at subsection=\count81
\c at subsubsection=\count82
\c at paragraph=\count83
\c at subparagraph=\count84
\c at figure=\count85
\c at table=\count86
\abovecaptionskip=\skip41
\belowcaptionskip=\skip42
\bibindent=\dimen102
)
(/usr/local/texlive/2016/texmf-dist/tex/latex/fontspec/fontspec.sty
(/usr/local/texlive/2016/texmf-dist/tex/latex/l3kernel/expl3.sty
Package: expl3 2016/05/18 v6512 L3 programming layer (loader) 

(/usr/local/texlive/2016/texmf-dist/tex/latex/l3kernel/expl3-code.tex
Package: expl3 2016/05/18 v6512 L3 programming layer (code)
L3 Module: l3bootstrap 2016/02/12 v6412 L3 Bootstrap code
\ucharcat at table=\catcodetable5
L3 Module: l3names 2016/03/11 v6433 L3 Namespace for primitives
L3 Module: l3basics 2015/11/22 v6315 L3 Basic definitions
L3 Module: l3expan 2015/09/10 v5983 L3 Argument expansion
L3 Module: l3tl 2016/03/26 v6465 L3 Token lists
L3 Module: l3str 2016/03/24 v6441 L3 Strings
L3 Module: l3seq 2015/08/05 v5777 L3 Sequences and stacks
L3 Module: l3int 2016/03/24 v6441 L3 Integers
\c_max_int=\count87
\l_tmpa_int=\count88
\l_tmpb_int=\count89
\g_tmpa_int=\count90
\g_tmpb_int=\count91
L3 Module: l3quark 2015/08/17 v5855 L3 Quarks
L3 Module: l3prg 2015/11/01 v6216 L3 Control structures
\g__prg_map_int=\count92
L3 Module: l3clist 2015/09/02 v5901 L3 Comma separated lists
L3 Module: l3token 2016/04/03 v6470 L3 Experimental token manipulation
L3 Module: l3prop 2016/01/05 v6366 L3 Property lists
L3 Module: l3msg 2016/03/26 v6464 L3 Messages
L3 Module: l3file 2016/03/25 v6458 L3 File and I/O operations
\l_iow_line_count_int=\count93
\l__iow_target_count_int=\count94
\l__iow_current_line_int=\count95
\l__iow_current_word_int=\count96
\l__iow_current_indentation_int=\count97
L3 Module: l3skip 2016/01/05 v6366 L3 Dimensions and skips
\c_zero_dim=\dimen103
\c_max_dim=\dimen104
\l_tmpa_dim=\dimen105
\l_tmpb_dim=\dimen106
\g_tmpa_dim=\dimen107
\g_tmpb_dim=\dimen108
\c_zero_skip=\skip43
\c_max_skip=\skip44
\l_tmpa_skip=\skip45
\l_tmpb_skip=\skip46
\g_tmpa_skip=\skip47
\g_tmpb_skip=\skip48
\c_zero_muskip=\muskip10
\c_max_muskip=\muskip11
\l_tmpa_muskip=\muskip12
\l_tmpb_muskip=\muskip13
\g_tmpa_muskip=\muskip14
\g_tmpb_muskip=\muskip15
L3 Module: l3keys 2015/11/17 v6284 L3 Key-value interfaces
\g__keyval_level_int=\count98
\l_keys_choice_int=\count99
L3 Module: l3fp 2016/03/26 v6465 L3 Floating points
\c__fp_leading_shift_int=\count100
\c__fp_middle_shift_int=\count101
\c__fp_trailing_shift_int=\count102
\c__fp_big_leading_shift_int=\count103
\c__fp_big_middle_shift_int=\count104
\c__fp_big_trailing_shift_int=\count105
\c__fp_Bigg_leading_shift_int=\count106
\c__fp_Bigg_middle_shift_int=\count107
\c__fp_Bigg_trailing_shift_int=\count108
L3 Module: l3box 2015/08/09 v5822 L3 Experimental boxes
\c_empty_box=\box26
\l_tmpa_box=\box27
\l_tmpb_box=\box28
\g_tmpa_box=\box29
\g_tmpb_box=\box30
L3 Module: l3coffins 2016/05/17 v6508 L3 Coffin code layer
\l__coffin_internal_box=\box31
\l__coffin_internal_dim=\dimen109
\l__coffin_offset_x_dim=\dimen110
\l__coffin_offset_y_dim=\dimen111
\l__coffin_x_dim=\dimen112
\l__coffin_y_dim=\dimen113
\l__coffin_x_prime_dim=\dimen114
\l__coffin_y_prime_dim=\dimen115
\c_empty_coffin=\box32
\l__coffin_aligned_coffin=\box33
\l__coffin_aligned_internal_coffin=\box34
\l_tmpa_coffin=\box35
\l_tmpb_coffin=\box36
\l__coffin_display_coffin=\box37
\l__coffin_display_coord_coffin=\box38
\l__coffin_display_pole_coffin=\box39
\l__coffin_display_offset_dim=\dimen116
\l__coffin_display_x_dim=\dimen117
\l__coffin_display_y_dim=\dimen118
L3 Module: l3color 2014/08/23 v5354 L3 Experimental color support
L3 Module: l3sys 2015/09/25 v6087 L3 Experimental system/runtime functions
L3 Module: l3candidates 2016/05/13 v6484 L3 Experimental additions to l3kernel
\l__box_top_dim=\dimen119
\l__box_bottom_dim=\dimen120
\l__box_left_dim=\dimen121
\l__box_right_dim=\dimen122
\l__box_top_new_dim=\dimen123
\l__box_bottom_new_dim=\dimen124
\l__box_left_new_dim=\dimen125
\l__box_right_new_dim=\dimen126
\l__box_internal_box=\box40
\l__coffin_bounding_shift_dim=\dimen127
\l__coffin_left_corner_dim=\dimen128
\l__coffin_right_corner_dim=\dimen129
\l__coffin_bottom_corner_dim=\dimen130
\l__coffin_top_corner_dim=\dimen131
\l__coffin_scaled_total_height_dim=\dimen132
\l__coffin_scaled_width_dim=\dimen133
L3 Module: l3luatex 2016/03/26 v6465 L3 Experimental LuaTeX-specific functions
)
(/usr/local/texlive/2016/texmf-dist/tex/latex/l3kernel/l3dvips.def
File: l3dvips.def 2016/03/26 v6465 L3 Experimental driver: dvips
))
(/usr/local/texlive/2016/texmf-dist/tex/latex/l3packages/xparse/xparse.sty
Package: xparse 2016/05/18 v6512 L3 Experimental document command parser
\l__xparse_current_arg_int=\count109
\l__xparse_m_args_int=\count110
\l__xparse_mandatory_args_int=\count111
\l__xparse_processor_int=\count112
\l__xparse_v_nesting_int=\count113
)
Package: fontspec 2016/02/01 v2.5a Font selection for XeLaTeX and LuaLaTeX

(/usr/local/texlive/2016/texmf-dist/tex/luatex/luaotfload/luaotfload.sty
Package: luaotfload 2016/06/16 v2.7 OpenType layout system
Lua module: luaotfload-main 2016/06/16 2.70003 OpenType layout system.
Lua module: lualibs 2016-04-06 2.4 ConTeXt Lua standard libraries.
Lua module: lualibs-extended 2016-04-06 2.4 ConTeXt Lua libraries -- extended co
llection.(using write cache: /home/scott/.texlive2016/texmf-var/luatex-cache/gen
eric)(using read cache: /usr/local/texlive/2016/texmf-var/luatex-cache/generic /
home/scott/.texlive2016/texmf-var/luatex-cache/generic)
luaotfload | conf : Root cache directory is /home/scott/.texlive2016/texmf-var/l
uatex-cache/generic/names.
luaotfload | init : Loading fontloader ?fontloader-2016-06-16.lua? from kpse
-resolved path ?/usr/local/texlive/2016/texmf-dist/tex/luatex/luaotfload/fontl
oader-2016-06-16.lua?.
Lua-only attribute luaotfload at state = 1
Lua-only attribute luaotfload at noligature = 2
Lua-only attribute luaotfload at syllabe = 3
luaotfload | init : Context OpenType loader version ?3.023?
Inserting `luaotfload.node_processor' at position 1 in `pre_linebreak_filter'.
Inserting `luaotfload.node_processor' at position 1 in `hpack_filter'.
Inserting `luaotfload.define_font' at position 1 in `define_font'.
Lua-only attribute luaotfload_color_attribute = 4
luaotfload | conf : Root cache directory is /home/scott/.texlive2016/texmf-var/l
uatex-cache/generic/names.
Inserting `luaotfload.aux.set_sscale_dimens' at position 1 in `luaotfload.patch_
font'.
Inserting `luaotfload.aux.patch_cambria_domh' at position 2 in `luaotfload.patch
_font'.
Inserting `luaotfload.aux.fixup_fontdata' at position 1 in `luaotfload.patch_fon
t_unsafe'.
Inserting `luaotfload.aux.set_capheight' at position 3 in `luaotfload.patch_font
'.
Inserting `luaotfload.rewrite_fontname' at position 4 in `luaotfload.patch_font'
.
luaotfload | main : initialization completed in 0.119 seconds)
Lua module: fontspec 2016/02/01 2.5a Advanced font selection for LuaLaTeX.
(/usr/local/texlive/2016/texmf-dist/tex/latex/fontspec/fontspec-luatex.sty
Package: fontspec-luatex 2016/02/01 v2.5a Font selection for XeLaTeX and LuaLaTe
X
\l_fontspec_script_int=\count114
\l_fontspec_language_int=\count115
\l_fontspec_strnum_int=\count116
\l__fontspec_tmpa_dim=\dimen134
\l__fontspec_tmpb_dim=\dimen135
\l__fontspec_tmpc_dim=\dimen136
\g__file_internal_ior=\read1

(/usr/local/texlive/2016/texmf-dist/tex/latex/base/fontenc.sty
Package: fontenc 2016/06/19 v1.99m Standard LaTeX package

(/usr/local/texlive/2016/texmf-dist/tex/latex/euenc/eu2enc.def
File: eu2enc.def 2010/05/27 v0.1h Experimental Unicode font encodings
)
LaTeX Font Info:    Try loading font information for EU2+lmr on input line 105.

(/usr/local/texlive/2016/texmf-dist/tex/latex/euenc/eu2lmr.fd
File: eu2lmr.fd 2009/10/30 v1.6 Font defs for Latin Modern
)
luaotfload | db : Font names database loaded from /home/scott/.texlive2016/texmf
-var/luatex-cache/generic/names/luaotfload-names.luc(compiling luc: /usr/local/t
exlive/2016/texmf-var/luatex-cache/generic/fonts/otl/lmroman10-regular.luc)(load
 luc: /home/scott/.texlive2016/texmf-var/luatex-cache/generic/fonts/otl/lmroman1
0-regular.luc))
(/usr/local/texlive/2016/texmf-dist/tex/xelatex/xunicode/xunicode.sty
File: xunicode.sty 2011/09/09 v0.981 provides access to latin accents and many o
ther characters in Unicode lower plane

(/usr/local/texlive/2016/texmf-dist/tex/latex/tipa/t3enc.def
File: t3enc.def 2001/12/31 T3 encoding
(compiling luc: /usr/local/texlive/2016/texmf-var/luatex-cache/generic/fonts/otl
/lmromanslant10-regular.luc)(load luc: /home/scott/.texlive2016/texmf-var/luatex
-cache/generic/fonts/otl/lmromanslant10-regular.luc)(compiling luc: /usr/local/t
exlive/2016/texmf-var/luatex-cache/generic/fonts/otl/lmroman10-italic.luc)(load 
luc: /home/scott/.texlive2016/texmf-var/luatex-cache/generic/fonts/otl/lmroman10
-italic.luc)(compiling luc: /usr/local/texlive/2016/texmf-var/luatex-cache/gener
ic/fonts/otl/lmroman10-bold.luc)(load luc: /home/scott/.texlive2016/texmf-var/lu
atex-cache/generic/fonts/otl/lmroman10-bold.luc)
LaTeX Font Info:    Try loading font information for EU2+lmss on input line 357.


(/usr/local/texlive/2016/texmf-dist/tex/latex/euenc/eu2lmss.fd
File: eu2lmss.fd 2009/10/30 v1.6 Font defs for Latin Modern
)(compiling luc: /usr/local/texlive/2016/texmf-var/luatex-cache/generic/fonts/ot
l/lmsans10-regular.luc)(load luc: /home/scott/.texlive2016/texmf-var/luatex-cach
e/generic/fonts/otl/lmsans10-regular.luc))
\tipaTiiicode=\count117
\tipasavetokens=\toks14
\tipachecktokens=\toks15

(/usr/local/texlive/2016/texmf-dist/tex/latex/graphics/graphicx.sty
Package: graphicx 2014/10/28 v1.0g Enhanced LaTeX Graphics (DPC,SPQR)

(/usr/local/texlive/2016/texmf-dist/tex/latex/graphics/keyval.sty
Package: keyval 2014/10/28 v1.15 key=value parser (DPC)
\KV at toks@=\toks16
)
(/usr/local/texlive/2016/texmf-dist/tex/latex/graphics/graphics.sty
Package: graphics 2016/07/10 v1.0t Standard LaTeX Graphics (DPC,SPQR)

(/usr/local/texlive/2016/texmf-dist/tex/latex/graphics/trig.sty
Package: trig 2016/01/03 v1.10 sin cos tan (DPC)
)
(/usr/local/texlive/2016/texmf-dist/tex/latex/graphics-cfg/graphics.cfg
File: graphics.cfg 2016/06/04 v1.11 sample graphics configuration
)
Package graphics Info: Driver file: dvips.def on input line 99.

(/usr/local/texlive/2016/texmf-dist/tex/latex/graphics-def/dvips.def
File: dvips.def 2016/07/10 v3.1a Driver-dependent file (DPC,SPQR)
))
\Gin at req@height=\dimen137
\Gin at req@width=\dimen138
))
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \__fontspec_post_arg:w with sig. 'mmO{}' on line 356.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \fontspec with sig. 'om' on line 358.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmainfont with sig. 'om' on line 368.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setsansfont with sig. 'om' on line 378.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmonofont with sig. 'om' on line 388.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmathrm with sig. 'om' on line 402.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setboldmathrm with sig. 'om' on line 410.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmathsf with sig. 'om' on line 418.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmathtt with sig. 'om' on line 426.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontfamily with sig. 'mom' on line 440.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontface with sig. 'mom' on line 456.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \defaultfontfeatures with sig. 't+om' on line 470.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \addfontfeatures with sig. 'm' on line 533.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontfeature with sig. 'mm' on line 544.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newAATfeature with sig. 'mmmm' on line 552.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newopentypefeature with sig. 'mmm' on line 560.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \aliasfontfeature with sig. 'mm' on line 581.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \aliasfontfeatureoption with sig. 'mmm' on line 590.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontscript with sig. 'mm' on line 594.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontlanguage with sig. 'mm' on line 598.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \DeclareFontsExtensions with sig. 'm' on line 603.
.................................................
\l__fontspec_tmp_int=\count118

(/usr/local/texlive/2016/texmf-dist/tex/latex/fontspec/fontspec.cfg)
LaTeX Info: Redefining \itshape on input line 2629.
LaTeX Info: Redefining \slshape on input line 2634.
LaTeX Info: Redefining \scshape on input line 2639.
LaTeX Info: Redefining \upshape on input line 2644.
\l__fontspec_em_int=\count119
\l__fontspec_emdef_int=\count120
LaTeX Info: Redefining \em on input line 2660.
LaTeX Info: Redefining \emph on input line 2666.
LaTeX Info: Redefining \- on input line 2670.
.................................................
. LaTeX info: "xparse/redefine-command"
. 
. Redefining command \oldstylenums with sig. 'm' on line 2765.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \liningnums with sig. 'm' on line 2769.
.................................................
))
luaotfload | cache : Lookup cache loaded from /home/scott/.texlive2016/texmf-var
/luatex-cache/generic/names/luaotfload-lookup-cache.luc.(compiling luc: /usr/loc
al/texlive/2016/texmf-var/luatex-cache/generic/fonts/otl/freeserif.luc)(load luc
: /home/scott/.texlive2016/texmf-var/luatex-cache/generic/fonts/otl/freeserif.lu
c)
\g__fontspec_family_FreeSerif_int=\count121
(compiling luc: /usr/local/texlive/2016/texmf-var/luatex-cache/generic/fonts/otl
/freeserifbolditalic.luc)(load luc: /home/scott/.texlive2016/texmf-var/luatex-ca
che/generic/fonts/otl/freeserifbolditalic.luc)(compiling luc: /usr/local/texlive
/2016/texmf-var/luatex-cache/generic/fonts/otl/freeserifbold.luc)(load luc: /hom
e/scott/.texlive2016/texmf-var/luatex-cache/generic/fonts/otl/freeserifbold.luc)
(compiling luc: /usr/local/texlive/2016/texmf-var/luatex-cache/generic/fonts/otl
/freeserifitalic.luc)(load luc: /home/scott/.texlive2016/texmf-var/luatex-cache/
generic/fonts/otl/freeserifitalic.luc)
luaotfload | aux : font no 24 (<unknown>) does not define feature smcp for scrip
t latn with language dflt
luaotfload | aux : no font with id 24
luaotfload | aux : font no 22 (<unknown>) does not define feature smcp for scrip
t latn with language dflt
luaotfload | aux : no font with id 22
.................................................
. fontspec info: "defining-font"
. 
. Font family 'FreeSerif(0)' created for font 'FreeSerif' with options
. [Ligatures=TeX,Ligatures=TeX].
. 
. This font family consists of the following NFSS series/shapes:
. - 'normal' (m/n) with NFSS spec.:
. <->"FreeSerif:mode=node;script=latn;language=DFLT;+tlig;+tlig;"
. - 'small caps'  (m/sc) with NFSS spec.:
. <->"FreeSerif:mode=node;script=latn;language=DFLT;+tlig;+tlig;+smcp;"-
. 'bold' (bx/n) with NFSS spec.:
. <->"FreeSerif/B:mode=node;script=latn;language=DFLT;+tlig;+tlig;"
. - 'bold small caps'  (bx/sc) with NFSS spec.:
. <->"FreeSerif/B:mode=node;script=latn;language=DFLT;+tlig;+tlig;+smcp;"-
. 'italic' (m/it) with NFSS spec.:
. <->"FreeSerif/I:mode=node;script=latn;language=DFLT;+tlig;+tlig;"
. - 'italic small caps'  (m/itsc) with NFSS spec.: - 'bold italic' (bx/it)
. with NFSS spec.:
. <->"FreeSerif/BI:mode=node;script=latn;language=DFLT;+tlig;+tlig;"
. - 'bold italic small caps'  (bx/itsc) with NFSS spec.: 
.................................................
(compiling luc: /usr/local/texlive/2016/texmf-var/luatex-cache/generic/fonts/otl
/freesans.luc)(load luc: /home/scott/.texlive2016/texmf-var/luatex-cache/generic
/fonts/otl/freesans.luc)
\g__fontspec_family_FreeSans_int=\count122
(compiling luc: /usr/local/texlive/2016/texmf-var/luatex-cache/generic/fonts/otl
/freesansboldoblique.luc)(load luc: /home/scott/.texlive2016/texmf-var/luatex-ca
che/generic/fonts/otl/freesansboldoblique.luc)(compiling luc: /usr/local/texlive
/2016/texmf-var/luatex-cache/generic/fonts/otl/freesansbold.luc)(load luc: /home
/scott/.texlive2016/texmf-var/luatex-cache/generic/fonts/otl/freesansbold.luc)(c
ompiling luc: /usr/local/texlive/2016/texmf-var/luatex-cache/generic/fonts/otl/f
reesansoblique.luc)(load luc: /home/scott/.texlive2016/texmf-var/luatex-cache/ge
neric/fonts/otl/freesansoblique.luc)
luaotfload | aux : font no 29 (<unknown>) does not define feature smcp for scrip
t latn with language dflt
luaotfload | aux : no font with id 29
luaotfload | aux : font no 27 (<unknown>) does not define feature smcp for scrip
t latn with language dflt
luaotfload | aux : no font with id 27
.................................................
. fontspec info: "defining-font"
. 
. Font family 'FreeSans(0)' created for font 'FreeSans' with options
. [Ligatures=TeX,Ligatures=TeX].
. 
. This font family consists of the following NFSS series/shapes:
. - 'normal' (m/n) with NFSS spec.:
. <->"FreeSans:mode=node;script=latn;language=DFLT;+tlig;+tlig;"
. - 'small caps'  (m/sc) with NFSS spec.:
. <->"FreeSans:mode=node;script=latn;language=DFLT;+tlig;+tlig;+smcp;"- 'bold'
. (bx/n) with NFSS spec.:
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;+tlig;+tlig;"
. - 'bold small caps'  (bx/sc) with NFSS spec.:
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;+tlig;+tlig;+smcp;"-
. 'italic' (m/it) with NFSS spec.:
. <->"FreeSans/I:mode=node;script=latn;language=DFLT;+tlig;+tlig;"
. - 'italic small caps'  (m/itsc) with NFSS spec.: - 'bold italic' (bx/it)
. with NFSS spec.:
. <->"FreeSans/BI:mode=node;script=latn;language=DFLT;+tlig;+tlig;"
. - 'bold italic small caps'  (bx/itsc) with NFSS spec.: 
.................................................
(compiling luc: /usr/local/texlive/2016/texmf-var/luatex-cache/generic/fonts/otl
/freemono.luc)(load luc: /home/scott/.texlive2016/texmf-var/luatex-cache/generic
/fonts/otl/freemono.luc)
\g__fontspec_family_FreeMono_int=\count123
(compiling luc: /usr/local/texlive/2016/texmf-var/luatex-cache/generic/fonts/otl
/freemonoboldoblique.luc)(load luc: /home/scott/.texlive2016/texmf-var/luatex-ca
che/generic/fonts/otl/freemonoboldoblique.luc)(compiling luc: /usr/local/texlive
/2016/texmf-var/luatex-cache/generic/fonts/otl/freemonobold.luc)(load luc: /home
/scott/.texlive2016/texmf-var/luatex-cache/generic/fonts/otl/freemonobold.luc)(c
ompiling luc: /usr/local/texlive/2016/texmf-var/luatex-cache/generic/fonts/otl/f
reemonooblique.luc)(load luc: /home/scott/.texlive2016/texmf-var/luatex-cache/ge
neric/fonts/otl/freemonooblique.luc)
luaotfload | aux : font no 30 (<unknown>) does not define feature smcp for scrip
t latn with language dflt
luaotfload | aux : no font with id 30
luaotfload | aux : font no 32 (<unknown>) does not define feature smcp for scrip
t latn with language dflt
luaotfload | aux : no font with id 32
luaotfload | aux : font no 33 (<unknown>) does not define feature smcp for scrip
t latn with language dflt
luaotfload | aux : no font with id 33
luaotfload | aux : font no 31 (<unknown>) does not define feature smcp for scrip
t latn with language dflt
luaotfload | aux : no font with id 31
.................................................
. fontspec info: "defining-font"
. 
. Font family 'FreeMono(0)' created for font 'FreeMono' with options
. [WordSpace={1,0,0},PunctuationSpace=WordSpace].
. 
. This font family consists of the following NFSS series/shapes:
. - 'normal' (m/n) with NFSS spec.:
. <->"FreeMono:mode=node;script=latn;language=DFLT;"
. - 'small caps'  (m/sc) with NFSS spec.: 
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font
. - 'bold' (bx/n) with NFSS spec.:
. <->"FreeMono/B:mode=node;script=latn;language=DFLT;"
. - 'bold small caps'  (bx/sc) with NFSS spec.: 
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font
. - 'italic' (m/it) with NFSS spec.:
. <->"FreeMono/I:mode=node;script=latn;language=DFLT;"
. - 'italic small caps'  (m/itsc) with NFSS spec.: 
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font
. - 'bold italic' (bx/it) with NFSS spec.:
. <->"FreeMono/BI:mode=node;script=latn;language=DFLT;"
. - 'bold italic small caps'  (bx/itsc) with NFSS spec.: 
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
.................................................

(/usr/local/texlive/2016/texmf-dist/tex/latex/polyglossia/polyglossia.sty
Package: polyglossia 2015/03/25 v1.42.4 Alternative to Babel for XeLaTeX and Lua
LaTeX

(/usr/local/texlive/2016/texmf-dist/tex/latex/etoolbox/etoolbox.sty
Package: etoolbox 2015/08/02 v2.2a e-TeX tools for LaTeX (JAW)
\etb at tempcnta=\count124
)
(/usr/local/texlive/2016/texmf-dist/tex/latex/makecmds/makecmds.sty
Package: makecmds 2009/09/03 v1.0a extra command making commands
)
(/usr/local/texlive/2016/texmf-dist/tex/latex/xkeyval/xkeyval.sty
Package: xkeyval 2014/12/03 v2.7a package option processing (HA)

(/usr/local/texlive/2016/texmf-dist/tex/generic/xkeyval/xkeyval.tex
(/usr/local/texlive/2016/texmf-dist/tex/generic/xkeyval/xkvutils.tex
\XKV at toks=\toks17
\XKV at tempa@toks=\toks18
)
\XKV at depth=\count125
File: xkeyval.tex 2014/12/03 v2.7a key=value parser (HA)
))
(/usr/local/texlive/2016/texmf-dist/tex/generic/oberdiek/ifluatex.sty
Package: ifluatex 2016/05/16 v1.4 Provides the ifluatex switch (HO)
Package ifluatex Info: LuaTeX detected.
)
(/usr/local/texlive/2016/texmf-dist/tex/generic/ifxetex/ifxetex.sty
Package: ifxetex 2010/09/12 v0.6 Provides ifxetex conditional
)
(/usr/local/texlive/2016/texmf-dist/tex/luatex/luatexbase/luatexbase.sty
Package: luatexbase 2015/10/04 v1.3 luatexbase interface to LuaTeX 

(/usr/local/texlive/2016/texmf-dist/tex/luatex/ctablestack/ctablestack.sty
Package: ctablestack 2015/10/01 v1.0 Catcode table stable support
\@catcodetablestackcnt=\count126
)
\CatcodeTableOther=\catcodetable6
\CatcodeTableExpl=\catcodetable7
)
luatex-hyphen: using data file: /usr/local/texlive/2016/texmf-var/tex/generic/co
nfig/language.dat.lua
Lua module: polyglossia 2013/05/11 1.3 Polyglossia)
(/usr/local/texlive/2016/texmf-dist/tex/latex/polyglossia/gloss-spanish.ldf
File: gloss-spanish.ldf polyglossia: module for spanish

hyph-es.pat.txt
Language spanish was not yet loaded; created with id 4
Language spanish already loaded; id is 4
Language spanish already loaded; id is 4)
Package polyglossia Info: Default language is spanish.


LaTeX Warning: Unused global option(s):
    [spanish].

No file dvi_minimal.aux.

\openout1 = dvi_minimal.aux
LaTeX Font Info:    Checking defaults for OML/cmm/m/it on input line 8.
LaTeX Font Info:    ... okay on input line 8.
LaTeX Font Info:    Checking defaults for T1/cmr/m/n on input line 8.
LaTeX Font Info:    ... okay on input line 8.
LaTeX Font Info:    Checking defaults for OT1/cmr/m/n on input line 8.
LaTeX Font Info:    ... okay on input line 8.
LaTeX Font Info:    Checking defaults for OMS/cmsy/m/n on input line 8.
LaTeX Font Info:    ... okay on input line 8.
LaTeX Font Info:    Checking defaults for OMX/cmex/m/n on input line 8.
LaTeX Font Info:    ... okay on input line 8.
LaTeX Font Info:    Checking defaults for U/cmr/m/n on input line 8.
LaTeX Font Info:    ... okay on input line 8.
LaTeX Font Info:    Checking defaults for EU2/lmr/m/n on input line 8.
LaTeX Font Info:    ... okay on input line 8.
LaTeX Font Info:    Checking defaults for T3/cmr/m/n on input line 8.
LaTeX Font Info:    Try loading font information for T3+cmr on input line 8.
(/usr/local/texlive/2016/texmf-dist/tex/latex/tipa/t3cmr.fd
File: t3cmr.fd 2001/12/31 TIPA font definitions
)
LaTeX Font Info:    ... okay on input line 8.
.................................................
. fontspec info: "setup-math"
. 
. Adjusting the maths setup (use [no-math] to avoid this).
.................................................
\symlegacymaths=\mathgroup4
LaTeX Font Info:    Overwriting symbol font `legacymaths' in version `bold'
(Font)                  OT1/cmr/m/n --> OT1/cmr/bx/n on input line 8.
LaTeX Font Info:    Redeclaring math accent \acute on input line 8.
LaTeX Font Info:    Redeclaring math accent \grave on input line 8.
LaTeX Font Info:    Redeclaring math accent \ddot on input line 8.
LaTeX Font Info:    Redeclaring math accent \tilde on input line 8.
LaTeX Font Info:    Redeclaring math accent \bar on input line 8.
LaTeX Font Info:    Redeclaring math accent \breve on input line 8.
LaTeX Font Info:    Redeclaring math accent \check on input line 8.
LaTeX Font Info:    Redeclaring math accent \hat on input line 8.
LaTeX Font Info:    Redeclaring math accent \dot on input line 8.
LaTeX Font Info:    Redeclaring math accent \mathring on input line 8.
LaTeX Font Info:    Redeclaring math symbol \colon on input line 8.
LaTeX Font Info:    Redeclaring math symbol \Gamma on input line 8.
LaTeX Font Info:    Redeclaring math symbol \Delta on input line 8.
LaTeX Font Info:    Redeclaring math symbol \Theta on input line 8.
LaTeX Font Info:    Redeclaring math symbol \Lambda on input line 8.
LaTeX Font Info:    Redeclaring math symbol \Xi on input line 8.
LaTeX Font Info:    Redeclaring math symbol \Pi on input line 8.
LaTeX Font Info:    Redeclaring math symbol \Sigma on input line 8.
LaTeX Font Info:    Redeclaring math symbol \Upsilon on input line 8.
LaTeX Font Info:    Redeclaring math symbol \Phi on input line 8.
LaTeX Font Info:    Redeclaring math symbol \Psi on input line 8.
LaTeX Font Info:    Redeclaring math symbol \Omega on input line 8.
LaTeX Font Info:    Redeclaring math symbol \mathdollar on input line 8.
LaTeX Font Info:    Redeclaring symbol font `operators' on input line 8.
LaTeX Font Info:    Encoding `OT1' has changed to `EU2' for symbol font
(Font)              `operators' in the math version `normal' on input line 8.
LaTeX Font Info:    Overwriting symbol font `operators' in version `normal'
(Font)                  OT1/cmr/m/n --> EU2/FreeSerif(0)/m/n on input line 8.
LaTeX Font Info:    Encoding `OT1' has changed to `EU2' for symbol font
(Font)              `operators' in the math version `bold' on input line 8.
LaTeX Font Info:    Overwriting symbol font `operators' in version `bold'
(Font)                  OT1/cmr/bx/n --> EU2/FreeSerif(0)/m/n on input line 8.
LaTeX Font Info:    Overwriting symbol font `operators' in version `normal'
(Font)                  EU2/FreeSerif(0)/m/n --> EU2/FreeSerif(0)/m/n on input l
ine 8.
LaTeX Font Info:    Overwriting math alphabet `\mathit' in version `normal'
(Font)                  OT1/cmr/m/it --> EU2/FreeSerif(0)/m/it on input line 8.
LaTeX Font Info:    Overwriting math alphabet `\mathbf' in version `normal'
(Font)                  OT1/cmr/bx/n --> EU2/FreeSerif(0)/bx/n on input line 8.
LaTeX Font Info:    Overwriting math alphabet `\mathsf' in version `normal'
(Font)                  OT1/cmss/m/n --> EU2/FreeSans(0)/m/n on input line 8.
LaTeX Font Info:    Overwriting math alphabet `\mathtt' in version `normal'
(Font)                  OT1/cmtt/m/n --> EU2/FreeMono(0)/m/n on input line 8.
LaTeX Font Info:    Overwriting symbol font `operators' in version `bold'
(Font)                  EU2/FreeSerif(0)/m/n --> EU2/FreeSerif(0)/bx/n on input 
line 8.
LaTeX Font Info:    Overwriting math alphabet `\mathit' in version `bold'
(Font)                  OT1/cmr/bx/it --> EU2/FreeSerif(0)/bx/it on input line 8
.
LaTeX Font Info:    Overwriting math alphabet `\mathsf' in version `bold'
(Font)                  OT1/cmss/bx/n --> EU2/FreeSans(0)/bx/n on input line 8.
LaTeX Font Info:    Overwriting math alphabet `\mathtt' in version `bold'
(Font)                  OT1/cmtt/m/n --> EU2/FreeMono(0)/bx/n on input line 8.

Language spanish already loaded; id is 4
LaTeX Font Info:    External font `cmex10' loaded for size
(Font)              <12> on input line 10.
LaTeX Font Info:    External font `cmex10' loaded for size
(Font)              <8> on input line 10.
LaTeX Font Info:    External font `cmex10' loaded for size
(Font)              <6> on input line 10.


LaTeX Warning: No \author given.

[1

] (./dvi_minimal.aux
luatex-hyphen: loading patterns and exceptions for: spanish (\language4)
luatex-hyphen: info: no hyphenation exceptions for this language
Language spanish already loaded; id is 4))

Here is how much of LuaTeX's memory you used:
 14280 strings out of 495113
 125171,319454 words of node,token memory allocated
 446 words of node memory still in use:
   3 hlist, 1 vlist, 1 rule, 13 glue, 6 attribute, 44 glue_spec, 6 attribute_lis
t, 1 write nodes
   avail lists: 2:65,3:15,4:6,5:28,6:66,7:61,8:3,9:16,10:5,11:10
 17498 multiletter control sequences out of 65536+600000
 47 fonts using 17752695 bytes
 48i,6n,62p,829b,231s stack positions out of 5000i,500n,10000p,200000b,100000s
Output written on dvi_minimal.dvi (1 page, 788 bytes).
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dvi_minimal.tex
Type: application/x-tex
Size: 303 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20160831/e78f11eb/attachment-0001.tex>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20160831/e78f11eb/attachment-0001.bin>

From herbs at wideopenwest.com  Wed Aug 31 16:09:21 2016
From: herbs at wideopenwest.com (Herbert Schulz)
Date: Wed, 31 Aug 2016 09:09:21 -0500
Subject: [luatex] dvilualatex does not export character with accent
In-Reply-To: <20160831134006.4fewxothddqfeyw4@steph>
References: <20160831134006.4fewxothddqfeyw4@steph>
Message-ID: <021EFE55-47E4-4C30-B0D5-D3FD66191223@wideopenwest.com>

> On Aug 31, 2016, at 8:40 AM, Scott Kostyshak <skostysh at lyx.org> wrote:
> 
> <dvi_minimal.tex>

Howdy,

I guess I wouldn't expect dvips to understand anything about Unicode and it looks like it's trying to use Computer Modern since it has no idea about OTF fonts either.

If I use lualatex (i.e., with direct pdf output) I have no problem at all.

Good Luck,

Herb Schulz
(herbs at wideopenwest dot com)







From skostysh at lyx.org  Wed Aug 31 16:20:14 2016
From: skostysh at lyx.org (Scott Kostyshak)
Date: Wed, 31 Aug 2016 10:20:14 -0400
Subject: [luatex] dvilualatex does not export character with accent
In-Reply-To: <021EFE55-47E4-4C30-B0D5-D3FD66191223@wideopenwest.com>
References: <20160831134006.4fewxothddqfeyw4@steph>
 <021EFE55-47E4-4C30-B0D5-D3FD66191223@wideopenwest.com>
Message-ID: <20160831142014.q4vxxycqflmmavd7@steph>

On Wed, Aug 31, 2016 at 09:09:21AM -0500, Herbert Schulz wrote:
> > On Aug 31, 2016, at 8:40 AM, Scott Kostyshak <skostysh at lyx.org> wrote:
> > 
> > <dvi_minimal.tex>
> 
> Howdy,
> 
> I guess I wouldn't expect dvips to understand anything about Unicode and it looks like it's trying to use Computer Modern since it has no idea about OTF fonts either.

OK good to know that dvips does not give much information about whether
the DVI produced is correct.

> If I use lualatex (i.e., with direct pdf output) I have no problem at all.

Same here.

> Good Luck,

Thank you,

Scott
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20160831/617a52fc/attachment.bin>

