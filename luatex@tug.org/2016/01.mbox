From skostysh at lyx.org  Sat Jan  2 12:44:53 2016
From: skostysh at lyx.org (Scott Kostyshak)
Date: Sat, 2 Jan 2016 06:44:53 -0500
Subject: [luatex] Hebrew example that used to work and now fails
Message-ID: <20160102114453.GA4118@cotopaxi>

The log file clearly states:

Package polyglossia Warning: Hebrew is not supported with LuaTeX.
(polyglossia)                I will proceed with the compilation, but
(polyglossia)                the output is not guaranteed to be correct
(polyglossia)                and may look very wrong. on input line 6.

so I do not expect LuaTeX to work with Hebrew. However, I have a file
written in Hebrew that used to compile with LuaTeX and no longer does.
If I put in the time to narrow this down to a minimal example, would
someone be interested in looking at it?

I don't personally care, but just wanted to see if this would be
helpful.

Best,

Scott
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20160102/0b7b37ba/attachment.bin>

From luigi.scarso at gmail.com  Mon Jan  4 18:34:19 2016
From: luigi.scarso at gmail.com (luigi scarso)
Date: Mon, 4 Jan 2016 18:34:19 +0100
Subject: [luatex] Hebrew example that used to work and now fails
In-Reply-To: <20160102114453.GA4118@cotopaxi>
References: <20160102114453.GA4118@cotopaxi>
Message-ID: <CAG5iGsBgLqMuRZWoPVQZ-9+KwS1bb2ZfqMy3_pbM_Etavv595Q@mail.gmail.com>

On Sat, Jan 2, 2016 at 12:44 PM, Scott Kostyshak <skostysh at lyx.org> wrote:

> The log file clearly states:
>
> Package polyglossia Warning: Hebrew is not supported with LuaTeX.
> (polyglossia)                I will proceed with the compilation, but
> (polyglossia)                the output is not guaranteed to be correct
> (polyglossia)                and may look very wrong. on input line 6.
>
> so I do not expect LuaTeX to work with Hebrew. However, I have a file
> written in Hebrew that used to compile with LuaTeX and no longer does.
> If I put in the time to narrow this down to a minimal example, would
> someone be interested in looking at it?
>
> I don't personally care, but just wanted to see if this would be
> helpful.
>
> Best,
>
> Scott
>



hm I can try with latest luatex+context to see if it's a luatex problem,
but I need the right free fonts, a test, and the expected output.

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160104/6728f2f8/attachment.html>

From skostysh at lyx.org  Thu Jan  7 14:59:22 2016
From: skostysh at lyx.org (Scott Kostyshak)
Date: Thu, 7 Jan 2016 08:59:22 -0500
Subject: [luatex] Hebrew example that used to work and now fails
In-Reply-To: <CAG5iGsBgLqMuRZWoPVQZ-9+KwS1bb2ZfqMy3_pbM_Etavv595Q@mail.gmail.com>
References: <20160102114453.GA4118@cotopaxi>
 <CAG5iGsBgLqMuRZWoPVQZ-9+KwS1bb2ZfqMy3_pbM_Etavv595Q@mail.gmail.com>
Message-ID: <20160107135922.GA9087@cotopaxi>

On Mon, Jan 04, 2016 at 06:34:19PM +0100, luigi scarso wrote:
> On Sat, Jan 2, 2016 at 12:44 PM, Scott Kostyshak <skostysh at lyx.org> wrote:
> 
> > The log file clearly states:
> >
> > Package polyglossia Warning: Hebrew is not supported with LuaTeX.
> > (polyglossia)                I will proceed with the compilation, but
> > (polyglossia)                the output is not guaranteed to be correct
> > (polyglossia)                and may look very wrong. on input line 6.
> >
> > so I do not expect LuaTeX to work with Hebrew. However, I have a file
> > written in Hebrew that used to compile with LuaTeX and no longer does.
> > If I put in the time to narrow this down to a minimal example, would
> > someone be interested in looking at it?
> >
> > I don't personally care, but just wanted to see if this would be
> > helpful.
> >
> > Best,
> >
> > Scott
> >
> 
> 
> 
> hm I can try with latest luatex+context to see if it's a luatex problem,
> but I need the right free fonts, a test, and the expected output.

Thanks for the interest, Luigi.

Attached is the minimal example and the log from before a big TL 2015
update (the "good" log) and the log after a big TL 2015 update (the
"bad" log). Also attached is the PDF that results from the "good"
compilation.

This is not my file and I have no idea if it is the correct
way to do things. I just notice that it goes from succeeding to failing.
I also notice the xelatex succeeds on the same file. But as I mentioned
before, since LuaTeX doesn't officially support Hebrew these
observations are not surprising. I just want to confirm that the changes
were intended. In any case, with an updated TL the error I get is:

  ! LaTeX Error: Command \newattribute already defined.
               Or name \end... illegal, see p.192 of the manual.

Also attached is the log (the "bad2" log) from a separate older TL
system, which gives the following error:

  XeTeX is required to compile this document. Sorry!

Scott
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mwe.tex
Type: application/x-tex
Size: 287 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20160107/8b67d73f/attachment-0001.tex>
-------------- next part --------------
This is LuaTeX, Version beta-0.80.0 (TeX Live 2015) (rev 5238)  (format=lualatex 2016.1.6)  7 JAN 2016 08:35
 restricted \write18 enabled.
**mwe.tex
(./mwe.tex
LaTeX2e <2015/10/01> patch level 2
Babel <3.9m> and hyphenation patterns for 79 languages loaded.
(/usr/local/texlive/2015/texmf-dist/tex/latex/base/article.cls
Document Class: article 2014/09/29 v1.4h Standard LaTeX document class
(/usr/local/texlive/2015/texmf-dist/tex/latex/base/size10.clo
File: size10.clo 2014/09/29 v1.4h Standard LaTeX file (size option)
)
\c at part=\count79
\c at section=\count80
\c at subsection=\count81
\c at subsubsection=\count82
\c at paragraph=\count83
\c at subparagraph=\count84
\c at figure=\count85
\c at table=\count86
\abovecaptionskip=\skip41
\belowcaptionskip=\skip42
\bibindent=\dimen102
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec.sty
Package: fontspec 2015/09/24 v2.4e Font selection for XeLaTeX and LuaLaTeX

(/usr/local/texlive/2015/texmf-dist/tex/latex/l3kernel/expl3.sty
Package: expl3 2016/01/03 v6358 L3 programming layer (loader) 

(/usr/local/texlive/2015/texmf-dist/tex/latex/l3kernel/expl3-code.tex
Package: expl3 2016/01/03 v6358 L3 programming layer (code)
L3 Module: l3bootstrap 2016/01/01 v6339 L3 Bootstrap code
\ucharcat at table=\catcodetable5
L3 Module: l3names 2015/12/21 v6328 L3 Namespace for primitives
L3 Module: l3basics 2015/11/22 v6315 L3 Basic definitions
L3 Module: l3expan 2015/09/10 v5983 L3 Argument expansion
L3 Module: l3tl 2015/09/29 v6121 L3 Token lists
L3 Module: l3str 2016/01/03 v6357 L3 Strings
L3 Module: l3seq 2015/08/05 v5777 L3 Sequences and stacks
L3 Module: l3int 2015/09/25 v6089 L3 Integers
\c_max_int=\count87
\l_tmpa_int=\count88
\l_tmpb_int=\count89
\g_tmpa_int=\count90
\g_tmpb_int=\count91
L3 Module: l3quark 2015/08/17 v5855 L3 Quarks
L3 Module: l3prg 2015/11/01 v6216 L3 Control structures
\g__prg_map_int=\count92
L3 Module: l3clist 2015/09/02 v5901 L3 Comma separated lists
L3 Module: l3token 2015/11/11 v6249 L3 Experimental token manipulation
L3 Module: l3prop 2015/08/05 v5777 L3 Property lists
L3 Module: l3msg 2015/09/28 v6113 L3 Messages
L3 Module: l3file 2015/12/03 v6317 L3 File and I/O operations
\l_iow_line_count_int=\count93
\l__iow_target_count_int=\count94
\l__iow_current_line_int=\count95
\l__iow_current_word_int=\count96
\l__iow_current_indentation_int=\count97
L3 Module: l3skip 2015/09/25 v6089 L3 Dimensions and skips
\c_zero_dim=\dimen103
\c_max_dim=\dimen104
\l_tmpa_dim=\dimen105
\l_tmpb_dim=\dimen106
\g_tmpa_dim=\dimen107
\g_tmpb_dim=\dimen108
\c_zero_skip=\skip43
\c_max_skip=\skip44
\l_tmpa_skip=\skip45
\l_tmpb_skip=\skip46
\g_tmpa_skip=\skip47
\g_tmpb_skip=\skip48
\c_zero_muskip=\muskip10
\c_max_muskip=\muskip11
\l_tmpa_muskip=\muskip12
\l_tmpb_muskip=\muskip13
\g_tmpa_muskip=\muskip14
\g_tmpb_muskip=\muskip15
L3 Module: l3keys 2015/11/17 v6284 L3 Key-value interfaces
\g__keyval_level_int=\count98
\l_keys_choice_int=\count99
L3 Module: l3fp 2015/08/25 v5890 L3 Floating points
\c__fp_leading_shift_int=\count100
\c__fp_middle_shift_int=\count101
\c__fp_trailing_shift_int=\count102
\c__fp_big_leading_shift_int=\count103
\c__fp_big_middle_shift_int=\count104
\c__fp_big_trailing_shift_int=\count105
\c__fp_Bigg_leading_shift_int=\count106
\c__fp_Bigg_middle_shift_int=\count107
\c__fp_Bigg_trailing_shift_int=\count108
L3 Module: l3box 2015/08/09 v5822 L3 Experimental boxes
\c_empty_box=\box26
\l_tmpa_box=\box27
\l_tmpb_box=\box28
\g_tmpa_box=\box29
\g_tmpb_box=\box30
L3 Module: l3coffins 2015/08/06 v5789 L3 Coffin code layer
\l__coffin_internal_box=\box31
\l__coffin_internal_dim=\dimen109
\l__coffin_offset_x_dim=\dimen110
\l__coffin_offset_y_dim=\dimen111
\l__coffin_x_dim=\dimen112
\l__coffin_y_dim=\dimen113
\l__coffin_x_prime_dim=\dimen114
\l__coffin_y_prime_dim=\dimen115
\c_empty_coffin=\box32
\l__coffin_aligned_coffin=\box33
\l__coffin_aligned_internal_coffin=\box34
\l_tmpa_coffin=\box35
\l_tmpb_coffin=\box36
\l__coffin_display_coffin=\box37
\l__coffin_display_coord_coffin=\box38
\l__coffin_display_pole_coffin=\box39
\l__coffin_display_offset_dim=\dimen116
\l__coffin_display_x_dim=\dimen117
\l__coffin_display_y_dim=\dimen118
L3 Module: l3color 2014/08/23 v5354 L3 Experimental color support
L3 Module: l3candidates 2015/12/20 v6325 L3 Experimental additions to l3kernel
\l__box_top_dim=\dimen119
\l__box_bottom_dim=\dimen120
\l__box_left_dim=\dimen121
\l__box_right_dim=\dimen122
\l__box_top_new_dim=\dimen123
\l__box_bottom_new_dim=\dimen124
\l__box_left_new_dim=\dimen125
\l__box_right_new_dim=\dimen126
\l__box_internal_box=\box40
\l__coffin_bounding_shift_dim=\dimen127
\l__coffin_left_corner_dim=\dimen128
\l__coffin_right_corner_dim=\dimen129
\l__coffin_bottom_corner_dim=\dimen130
\l__coffin_top_corner_dim=\dimen131
\l__coffin_scaled_total_height_dim=\dimen132
\l__coffin_scaled_width_dim=\dimen133
L3 Module: l3sys 2015/09/25 v6087 L3 Experimental system/runtime functions
L3 Module: l3luatex 2015/11/11 v6250 L3 Experimental LuaTeX-specific functions
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/l3kernel/l3pdfmode.def
File: l3pdfmode.def 2015/11/11 v6250 L3 Experimental driver: PDF mode
\l__driver_color_stack_int=\count109
))
(/usr/local/texlive/2015/texmf-dist/tex/latex/l3packages/xparse/xparse.sty
Package: xparse 2015/12/20 v6326 L3 Experimental document command parser
\l__xparse_current_arg_int=\count110
\l__xparse_m_args_int=\count111
\l__xparse_mandatory_args_int=\count112
\l__xparse_processor_int=\count113
\l__xparse_v_nesting_int=\count114
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload.sty
Package: luaotfload 2015/12/09 v2.6 OpenType layout system
Lua module: luaotfload-main 2015/12/09 2.60001 OpenType layout system.
Lua module: lualibs 2015-12-02 2.3 ConTeXt Lua standard libraries.
Lua module: lualibs-extended 2015-12-02 2.3 ConTeXt Lua libraries -- extended co
llection.(using write cache: /home/scott/.texlive2015/texmf-var/luatex-cache/gen
eric)(using read cache: /usr/local/texlive/2015/texmf-var/luatex-cache/generic /
home/scott/.texlive2015/texmf-var/luatex-cache/generic)
luaotfload | conf : Root cache directory is /home/scott/.texlive2015/texmf-var/l
uatex-cache/generic/names.
Lua-only attribute luaotfload at state = 1
Lua-only attribute luaotfload at cursbase = 2
Lua-only attribute luaotfload at noligature = 3
luaotfload | init : Context OpenType loader version ?2.82?
Inserting `luaotfload.node_processor' at position 1 in `pre_linebreak_filter'.
Inserting `luaotfload.node_processor' at position 1 in `hpack_filter'.
Inserting `luaotfload.define_font' at position 1 in `define_font'.
Lua-only attribute luaotfload_color_attribute = 4
luaotfload | conf : Root cache directory is /home/scott/.texlive2015/texmf-var/l
uatex-cache/generic/names.
Inserting `luaotfload.aux.set_sscale_dimens' at position 1 in `luaotfload.patch_
font'.
Inserting `luaotfload.aux.patch_cambria_domh' at position 2 in `luaotfload.patch
_font'.
Inserting `luaotfload.aux.fixup_fontdata' at position 1 in `luaotfload.patch_fon
t_unsafe'.
Inserting `luaotfload.aux.set_capheight' at position 3 in `luaotfload.patch_font
'.
Inserting `luaotfload.rewrite_fontname' at position 4 in `luaotfload.patch_font'
.
luaotfload | main : initialization completed in 0.094 seconds)
Lua module: fontspec 2013/05/20 2.3c Advanced font selection for LuaLaTeX.
\l_fontspec_script_int=\count115
\l_fontspec_language_int=\count116
\l_fontspec_strnum_int=\count117
\l__fontspec_tmpa_dim=\dimen134
\l__fontspec_tmpb_dim=\dimen135
\l__fontspec_tmpc_dim=\dimen136

(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec-patches.sty
Package: fontspec-patches 2015/09/24 v2.4e Font selection for XeLaTeX and LuaLaT
eX
LaTeX Info: Redefining \em on input line 49.
LaTeX Info: Redefining \emph on input line 57.
LaTeX Info: Redefining \- on input line 60.
.................................................
. LaTeX info: "xparse/redefine-command"
. 
. Redefining command \oldstylenums with sig. 'm' on line 155.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \liningnums with sig. 'm' on line 159.
.................................................
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec-luatex.sty
Package: fontspec-luatex 2015/09/24 v2.4e Font selection for XeLaTeX and LuaLaTe
X

(/usr/local/texlive/2015/texmf-dist/tex/latex/base/fontenc.sty
Package: fontenc 2005/09/27 v1.99g Standard LaTeX package

(/usr/local/texlive/2015/texmf-dist/tex/latex/euenc/eu2enc.def
File: eu2enc.def 2010/05/27 v0.1h Experimental Unicode font encodings
)
LaTeX Font Info:    Try loading font information for EU2+lmr on input line 105.

(/usr/local/texlive/2015/texmf-dist/tex/latex/euenc/eu2lmr.fd
File: eu2lmr.fd 2009/10/30 v1.6 Font defs for Latin Modern
)
luaotfload | db : Font names database loaded from /home/scott/.texlive2015/texmf
-var/luatex-cache/generic/names/luaotfload-names.luc(load luc: /usr/local/texliv
e/2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman10-regular.luc)(save: /ho
me/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman10-regular
.lua)(save: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/lm
roman10-regular.luc))
(/usr/local/texlive/2015/texmf-dist/tex/xelatex/xunicode/xunicode.sty
File: xunicode.sty 2011/09/09 v0.981 provides access to latin accents and many o
ther characters in Unicode lower plane

(/usr/local/texlive/2015/texmf-dist/tex/latex/tipa/t3enc.def
File: t3enc.def 2001/12/31 T3 encoding
(load luc: /usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/lmro
manslant10-regular.luc)(save: /home/scott/.texlive2015/texmf-var/luatex-cache/ge
neric/fonts/otf/lmromanslant10-regular.lua)(save: /home/scott/.texlive2015/texmf
-var/luatex-cache/generic/fonts/otf/lmromanslant10-regular.luc)(load luc: /usr/l
ocal/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman10-italic.luc)
(save: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman
10-italic.lua)(save: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fon
ts/otf/lmroman10-italic.luc)(load luc: /usr/local/texlive/2015/texmf-var/luatex-
cache/generic/fonts/otf/lmroman10-bold.luc)(save: /home/scott/.texlive2015/texmf
-var/luatex-cache/generic/fonts/otf/lmroman10-bold.lua)(save: /home/scott/.texli
ve2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman10-bold.luc)
LaTeX Font Info:    Try loading font information for EU2+lmss on input line 357.


(/usr/local/texlive/2015/texmf-dist/tex/latex/euenc/eu2lmss.fd
File: eu2lmss.fd 2009/10/30 v1.6 Font defs for Latin Modern
)(load luc: /usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/lms
ans10-regular.luc)(save: /home/scott/.texlive2015/texmf-var/luatex-cache/generic
/fonts/otf/lmsans10-regular.lua)(save: /home/scott/.texlive2015/texmf-var/luatex
-cache/generic/fonts/otf/lmsans10-regular.luc))
\tipaTiiicode=\count118
\tipasavetokens=\toks14
\tipachecktokens=\toks15

(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/graphicx.sty
Package: graphicx 2014/10/28 v1.0g Enhanced LaTeX Graphics (DPC,SPQR)

(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/keyval.sty
Package: keyval 2014/10/28 v1.15 key=value parser (DPC)
\KV at toks@=\toks16
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/graphics.sty
Package: graphics 2014/10/28 v1.0p Standard LaTeX Graphics (DPC,SPQR)

(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/trig.sty
Package: trig 1999/03/16 v1.09 sin cos tan (DPC)
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/latexconfig/graphics.cfg
File: graphics.cfg 2010/04/23 v1.9 graphics configuration of TeX Live
)
Package graphics Info: Driver file: pdftex.def on input line 94.

(/usr/local/texlive/2015/texmf-dist/tex/latex/pdftex-def/pdftex.def
File: pdftex.def 2011/05/27 v0.06d Graphics/color for pdfTeX

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/infwarerr.sty
Package: infwarerr 2010/04/08 v1.3 Providing info/warning/error messages (HO)
)
(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/ltxcmds.sty
Package: ltxcmds 2011/11/09 v1.22 LaTeX kernel commands for general use (HO)
)
\Gread at gobject=\count119
))
\Gin at req@height=\dimen137
\Gin at req@width=\dimen138
))
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \__fontspec_post_arg:w with sig. 'mmO{}' on line 45.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \fontspec with sig. 'om' on line 47.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmainfont with sig. 'om' on line 57.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setsansfont with sig. 'om' on line 67.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmonofont with sig. 'om' on line 77.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmathrm with sig. 'om' on line 91.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setboldmathrm with sig. 'om' on line 99.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmathsf with sig. 'om' on line 107.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmathtt with sig. 'om' on line 115.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontfamily with sig. 'mom' on line 129.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontface with sig. 'mom' on line 144.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \defaultfontfeatures with sig. 't+om' on line 158.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \addfontfeatures with sig. 'm' on line 214.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontfeature with sig. 'mm' on line 225.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newAATfeature with sig. 'mmmm' on line 233.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newopentypefeature with sig. 'mmm' on line 241.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \aliasfontfeature with sig. 'mm' on line 262.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \aliasfontfeatureoption with sig. 'mmm' on line 271.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontscript with sig. 'mm' on line 276.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontlanguage with sig. 'mm' on line 302.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \DeclareFontsExtensions with sig. 'm' on line 322.
.................................................
\l__fontspec_tmp_int=\count120
LaTeX Info: Redefining \itshape on input line 2151.
LaTeX Info: Redefining \slshape on input line 2156.
LaTeX Info: Redefining \scshape on input line 2161.
LaTeX Info: Redefining \upshape on input line 2166.

(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec.cfg)))
\g__file_internal_ior=\read1
luaotfload | cache : Lookup cache loaded from /home/scott/.texlive2015/texmf-var
/luatex-cache/generic/names/luaotfload-lookup-cache.luc.
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"(load luc: /usr/loc
al/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/freesans.luc)(save: /ho
me/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/freesans.lua)(sav
e: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/freesans.lu
c)
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
\g__fontspec_family_FreeSans_int=\count121
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"(load lu
c: /usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/freesansbold
oblique.luc)(save: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts
/otf/freesansboldoblique.lua)(save: /home/scott/.texlive2015/texmf-var/luatex-ca
che/generic/fonts/otf/freesansboldoblique.luc)
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"(load luc: /usr
/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/freesansbold.luc)(s
ave: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/freesansb
old.lua)(save: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf
/freesansbold.luc)
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"(load luc: /
usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/freesansoblique.
luc)(save: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/fre
esansoblique.lua)(save: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/
fonts/otf/freesansoblique.luc)
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | aux : font no 24 (FreeSansOblique) does not define feature smcp for
 script latn with language dflt
luaotfload | aux : no font with id 24
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | aux : font no 22 (FreeSansBoldOblique) does not define feature smcp
 for script latn with language dflt
luaotfload | aux : no font with id 22
.................................................
. fontspec info: "defining-font"
. 
. Font family 'FreeSans(0)' created for font 'FreeSans' with options
. [Ligatures=TeX,Ligatures=TeX].
. 
. This font family consists of the following shapes:
. 
. * 'normal' with NFSS spec.:
. <->"FreeSans:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'small caps' with NFSS spec.:
. 
. <->"FreeSans:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;+smcp
;"
. and font adjustment code:
. 
. 
. * 'bold' with NFSS spec.:
. 
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'bold small caps' with NFSS spec.:
. 
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;+sm
cp;"
. and font adjustment code:
. 
. 
. * 'italic' with NFSS spec.:
. 
. <->"FreeSans/I:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'small caps' with NFSS spec.:
. 
. and font adjustment code:
. 
. 
. * 'bold italic' with NFSS spec.:
. 
. <->"FreeSans/BI:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'bold small caps' with NFSS spec.:
. 
. and font adjustment code:
. 
.................................................
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | aux : font no 24 (FreeSansOblique) does not define feature smcp for
 script latn with language dflt
luaotfload | aux : no font with id 24
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | aux : font no 22 (FreeSansBoldOblique) does not define feature smcp
 for script latn with language dflt
luaotfload | aux : no font with id 22
.................................................
. fontspec info: "defining-font"
. 
. Font family 'FreeSans(1)' created for font 'FreeSans' with options
. [WordSpace={1,0,0},PunctuationSpace=WordSpace].
. 
. This font family consists of the following shapes:
. 
. * 'normal' with NFSS spec.:
. <->"FreeSans:mode=node;script=latn;language=DFLT;"
. 
. * 'small caps' with NFSS spec.:
. <->"FreeSans:mode=node;script=latn;language=DFLT;+smcp;"
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
. 
. * 'bold' with NFSS spec.:
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;"
. 
. * 'bold small caps' with NFSS spec.:
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;+smcp;"
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
. 
. * 'italic' with NFSS spec.:
. <->"FreeSans/I:mode=node;script=latn;language=DFLT;"
. 
. * 'small caps' with NFSS spec.:
. 
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
. 
. * 'bold italic' with NFSS spec.:
. <->"FreeSans/BI:mode=node;script=latn;language=DFLT;"
. 
. * 'bold small caps' with NFSS spec.:
. 
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
.................................................

(/usr/local/texlive/2015/texmf-dist/tex/latex/polyglossia/polyglossia.sty
Package: polyglossia 2015/08/06 v1.42.0 Alternative to Babel for XeLaTeX and Lua
LaTeX

(/usr/local/texlive/2015/texmf-dist/tex/latex/etoolbox/etoolbox.sty
Package: etoolbox 2015/08/02 v2.2a e-TeX tools for LaTeX (JAW)
\etb at tempcnta=\count122
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/makecmds/makecmds.sty
Package: makecmds 2009/09/03 v1.0a extra command making commands
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/xkeyval/xkeyval.sty
Package: xkeyval 2014/12/03 v2.7a package option processing (HA)

(/usr/local/texlive/2015/texmf-dist/tex/generic/xkeyval/xkeyval.tex
(/usr/local/texlive/2015/texmf-dist/tex/generic/xkeyval/xkvutils.tex
\XKV at toks=\toks17
\XKV at tempa@toks=\toks18
)
\XKV at depth=\count123
File: xkeyval.tex 2014/12/03 v2.7a key=value parser (HA)
))
(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/ifluatex.sty
Package: ifluatex 2010/03/01 v1.3 Provides the ifluatex switch (HO)
Package ifluatex Info: LuaTeX detected.
)
(/usr/local/texlive/2015/texmf-dist/tex/generic/ifxetex/ifxetex.sty
Package: ifxetex 2010/09/12 v0.6 Provides ifxetex conditional
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase.sty
Package: luatexbase 2013/05/11 v0.6 Resource management for the LuaTeX macro pro
grammer

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/luatex.sty
Package: luatex 2010/03/09 v0.4 LuaTeX basic definition package (HO)

(/usr/local/texlive/2015/texmf-dist/tex/latex/etex-pkg/etex.sty
Package: etex 2015/09/02 v2.4 eTeX basic definition package (PEB,DPC)
\et at xins=\count124
)
\LuT at AllocAttribute=\count277


! LaTeX Error: Command \newattribute already defined.
               Or name \end... illegal, see p.192 of the manual.

See the LaTeX manual or LaTeX Companion for explanation.
Type  H <return>  for immediate help.
 ...                                              
                                                  
l.373 }
     
? X


Here is how much of LuaTeX's memory you used:
 15069 strings out of 494897
 125171,383344 words of node,token memory allocated 264 words of node memory still in use:
   2 hlist, 1 rule, 1 attribute, 41 glue_spec, 1 attribute_list, 2 if_stack, 1 w
rite, 1 dir nodes
   avail lists: 2:8,3:3,4:5,6:2,7:1,9:2
 18477 multiletter control sequences out of 65536+600000
 25 fonts using 4415719 bytes
 48i,0n,62p,820b,222s stack positions out of 5000i,500n,10000p,200000b,100000s
No pages of output.

PDF statistics: 0 PDF objects out of 1000 (max. 8388607)
 0 named destinations out of 1000 (max. 131072)
 1 words of extra memory for PDF output out of 10000 (max. 10000000)

-------------- next part --------------
This is LuaTeX, Version beta-0.80.0 (TeX Live 2015) (rev 5231)  (format=lualatex 2015.5.7)  7 JAN 2016 08:55
 restricted \write18 enabled.
**mwe.tex
(./mwe.tex
LaTeX2e <2015/01/01>
Babel <3.9l> and hyphenation patterns for 79 languages loaded.
(/usr/local/texlive/2015/texmf-dist/tex/latex/base/article.cls
Document Class: article 2014/09/29 v1.4h Standard LaTeX document class
(/usr/local/texlive/2015/texmf-dist/tex/latex/base/size10.clo
File: size10.clo 2014/09/29 v1.4h Standard LaTeX file (size option)
)
\c at part=\count79
\c at section=\count80
\c at subsection=\count81
\c at subsubsection=\count82
\c at paragraph=\count83
\c at subparagraph=\count84
\c at figure=\count85
\c at table=\count86
\abovecaptionskip=\skip41
\belowcaptionskip=\skip42
\bibindent=\dimen102
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec.sty
Package: fontspec 2015/03/14 v2.4c Font selection for XeLaTeX and LuaLaTeX

(/usr/local/texlive/2015/texmf-dist/tex/latex/l3kernel/expl3.sty
Package: expl3 2015/03/01 v5547 L3 programming layer (loader) 

(/usr/local/texlive/2015/texmf-dist/tex/latex/l3kernel/expl3-code.tex
Package: expl3 2015/03/01 v5547 L3 programming layer (code) 
L3 Module: l3bootstrap 2015/02/28 v5542 L3 Bootstrap code
L3 Module: l3names 2015/02/24 v5535 L3 Namespace for primitives
L3 Module: l3basics 2015/01/27 v5500 L3 Basic definitions
L3 Module: l3expan 2014/11/27 v5472 L3 Argument expansion
L3 Module: l3tl 2015/01/27 v5500 L3 Token lists
L3 Module: l3str 2015/03/01 v5545 L3 Strings
L3 Module: l3seq 2014/08/23 v5354 L3 Sequences and stacks
L3 Module: l3int 2015/02/21 v5529 L3 Integers
\c_max_int=\count87
\l_tmpa_int=\count88
\l_tmpb_int=\count89
\g_tmpa_int=\count90
\g_tmpb_int=\count91
L3 Module: l3quark 2014/08/23 v5354 L3 Quarks
L3 Module: l3prg 2014/08/23 v5354 L3 Control structures
\g__prg_map_int=\count92
L3 Module: l3clist 2014/08/23 v5354 L3 Comma separated lists
L3 Module: l3token 2014/09/15 v5422 L3 Experimental token manipulation
L3 Module: l3prop 2014/08/23 v5354 L3 Property lists
L3 Module: l3msg 2015/02/26 v5537 L3 Messages
L3 Module: l3file 2014/08/24 v5369 L3 File and I/O operations
\l_iow_line_count_int=\count93
\l__iow_target_count_int=\count94
\l__iow_current_line_int=\count95
\l__iow_current_word_int=\count96
\l__iow_current_indentation_int=\count97
L3 Module: l3skip 2014/08/23 v5354 L3 Dimensions and skips
\c_zero_dim=\dimen103
\c_max_dim=\dimen104
\l_tmpa_dim=\dimen105
\l_tmpb_dim=\dimen106
\g_tmpa_dim=\dimen107
\g_tmpb_dim=\dimen108
\c_zero_skip=\skip43
\c_max_skip=\skip44
\l_tmpa_skip=\skip45
\l_tmpb_skip=\skip46
\g_tmpa_skip=\skip47
\g_tmpb_skip=\skip48
\c_zero_muskip=\muskip10
\c_max_muskip=\muskip11
\l_tmpa_muskip=\muskip12
\l_tmpb_muskip=\muskip13
\g_tmpa_muskip=\muskip14
\g_tmpb_muskip=\muskip15
L3 Module: l3keys 2015/01/27 v5500 L3 Key-value interfaces
\g__keyval_level_int=\count98
\l_keys_choice_int=\count99
L3 Module: l3fp 2014/08/22 v5336 L3 Floating points
\c__fp_leading_shift_int=\count100
\c__fp_middle_shift_int=\count101
\c__fp_trailing_shift_int=\count102
\c__fp_big_leading_shift_int=\count103
\c__fp_big_middle_shift_int=\count104
\c__fp_big_trailing_shift_int=\count105
\c__fp_Bigg_leading_shift_int=\count106
\c__fp_Bigg_middle_shift_int=\count107
\c__fp_Bigg_trailing_shift_int=\count108
L3 Module: l3box 2014/08/23 v5354 L3 Experimental boxes
\c_empty_box=\box26
\l_tmpa_box=\box27
\l_tmpb_box=\box28
\g_tmpa_box=\box29
\g_tmpb_box=\box30
L3 Module: l3coffins 2014/08/23 v5354 L3 Coffin code layer
\l__coffin_internal_box=\box31
\l__coffin_internal_dim=\dimen109
\l__coffin_offset_x_dim=\dimen110
\l__coffin_offset_y_dim=\dimen111
\l__coffin_x_dim=\dimen112
\l__coffin_y_dim=\dimen113
\l__coffin_x_prime_dim=\dimen114
\l__coffin_y_prime_dim=\dimen115
\c_empty_coffin=\box32
\l__coffin_aligned_coffin=\box33
\l__coffin_aligned_internal_coffin=\box34
\l_tmpa_coffin=\box35
\l_tmpb_coffin=\box36
\l__coffin_display_coffin=\box37
\l__coffin_display_coord_coffin=\box38
\l__coffin_display_pole_coffin=\box39
\l__coffin_display_offset_dim=\dimen116
\l__coffin_display_x_dim=\dimen117
\l__coffin_display_y_dim=\dimen118
L3 Module: l3color 2014/08/23 v5354 L3 Experimental color support
L3 Module: l3candidates 2015/03/01 v5544 L3 Experimental additions to l3kernel
\l__box_top_dim=\dimen119
\l__box_bottom_dim=\dimen120
\l__box_left_dim=\dimen121
\l__box_right_dim=\dimen122
\l__box_top_new_dim=\dimen123
\l__box_bottom_new_dim=\dimen124
\l__box_left_new_dim=\dimen125
\l__box_right_new_dim=\dimen126
\l__box_internal_box=\box40
\l__coffin_bounding_shift_dim=\dimen127
\l__coffin_left_corner_dim=\dimen128
\l__coffin_right_corner_dim=\dimen129
\l__coffin_bottom_corner_dim=\dimen130
\l__coffin_top_corner_dim=\dimen131
\l__coffin_scaled_total_height_dim=\dimen132
\l__coffin_scaled_width_dim=\dimen133
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/l3kernel/l3unicode-data.def
File: l3unicode-data.def 2015/03/01 v5544 L3 Unicode data
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/l3kernel/l3pdfmode.def
File: l3pdfmode.def 2015/03/01 v5544 L3 Experimental driver: PDF mode
\l__driver_color_stack_int=\count109
))
(/usr/local/texlive/2015/texmf-dist/tex/latex/l3packages/xparse/xparse.sty
Package: xparse 2014/11/25 v5471 L3 Experimental document command parser
\l__xparse_current_arg_int=\count110
\l__xparse_m_args_int=\count111
\l__xparse_mandatory_args_int=\count112
\l__xparse_processor_int=\count113
\l__xparse_v_nesting_int=\count114
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload.sty
Package: luaotfload 2014/08/10 v2.5-4 OpenType layout system

(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase.sty
Package: luatexbase 2013/05/11 v0.6 Resource management for the LuaTeX macro pro
grammer

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/ifluatex.sty
Package: ifluatex 2010/03/01 v1.3 Provides the ifluatex switch (HO)
Package ifluatex Info: LuaTeX detected.
)
(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/luatex.sty
Package: luatex 2010/03/09 v0.4 LuaTeX basic definition package (HO)

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/infwarerr.sty
Package: infwarerr 2010/04/08 v1.3 Providing info/warning/error messages (HO)
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/etex-pkg/etex.sty
Package: etex 2015/03/02 v2.1 eTeX basic definition package (PEB,DPC)
\et at xins=\count115
)
\LuT at AllocAttribute=\count277
\LuT at AllocCatcodeTable=\count278
\CatcodeTableStack=\count279
\CatcodeTableIniTeX=\catcodetable1
\CatcodeTableString=\catcodetable3
\CatcodeTableOther=\catcodetable5
\CatcodeTableLaTeX=\catcodetable7

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/luatex-loader.sty
Package: luatex-loader 2010/03/09 v0.4 Lua module loader (HO)

(/usr/local/texlive/2015/texmf-dist/scripts/oberdiek/oberdiek.luatex.lua)))
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase-compat.sty
Package: luatexbase-compat 2011/05/24 v0.4 Compatibility tools for LuaTeX
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase-modutils.s
ty
Package: luatexbase-modutils 2013/05/11 v0.6 Module utilities for LuaTeX

(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase-loader.sty
Package: luatexbase-loader 2013/05/11 v0.6 Lua module loader for LuaTeX
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase.loader.lua)
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/modutils.lua)
Lua module: luatexbase-modutils 2013/05/11 0.6 Module utilities for LuaTeX
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase-regs.sty
Package: luatexbase-regs 2011/05/24 v0.4 Registers allocation for LuaTeX
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase-attr.sty
Package: luatexbase-attr 2013/05/11 v0.6 Attributes allocation for LuaTeX

(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/attr.lua)
Lua module: luatexbase-attr 2013/05/11 0.6 Attributes allocation for LuaTeX
\lltxb at attr@unsetvalue=\count280
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase-cctb.sty
Package: luatexbase-cctb 2013/05/11 v0.6 Catcodetable allocation for LuaTeX

(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/cctb.lua)
Lua module: luatexbase-cctb 2013/05/11 0.6 Catcodetable allocation for LuaTeX
\lltxb at catcodetable@alloc=\count281
\CatcodeTableStack=\count282
\CatcodeTableIniTeX=\luatexcatcodetable1
\CatcodeTableString=\luatexcatcodetable3
\CatcodeTableOther=\luatexcatcodetable5
\CatcodeTableLaTeX=\luatexcatcodetable7
\CatcodeTableLaTeXAtLetter=\luatexcatcodetable9
\CatcodeTableExpl=\luatexcatcodetable11
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase-mcb.sty
Package: luatexbase-mcb 2013/05/11 v0.6 Callback management for LuaTeX

(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/mcb.lua)
Lua module: luatexbase-mcb 2013/05/11 0.6 register several functions in a callba
ck
))
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-main.lua)
Lua module: luaotfload-main 2014/08/10 2.50003 OpenType layout system.

(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-log.lua)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-fontloader.
lua)(using write cache: /home/scott/.texlive2015/texmf-var/luatex-cache/generic)
(using read cache: /usr/local/texlive/2015/texmf-var/luatex-cache/generic /home/
scott/.texlive2015/texmf-var/luatex-cache/generic)
luatexbase-attr: luatexbase.attributes["luaotfload at kernpair"] = 1
luatexbase-attr: luatexbase.attributes["luaotfload at ligacomp"] = 2
luatexbase-attr: luatexbase.attributes["luaotfload at markbase"] = 3
luatexbase-attr: luatexbase.attributes["luaotfload at markmark"] = 4
luatexbase-attr: luatexbase.attributes["luaotfload at markdone"] = 5
luatexbase-attr: luatexbase.attributes["luaotfload at cursbase"] = 6
luatexbase-attr: luatexbase.attributes["luaotfload at curscurs"] = 7
luatexbase-attr: luatexbase.attributes["luaotfload at cursdone"] = 8
luatexbase-attr: luatexbase.attributes["luaotfload at state"] = 9
luaotfload | main : fontloader loaded in 0.026 seconds
luatexbase-mcb: inserting 'luaotfload.node_processor'
at position 1 in 'pre_linebreak_filter'
luatexbase-mcb: inserting 'luaotfload.node_processor'
at position 1 in 'hpack_filter'
luatexbase-mcb: inserting 'luaotfload.find_vf_file'
at position 1 in 'find_vf_file'
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-override.lu
a)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-parsers.lua
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-configurati
on.lua)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-status.lua)
luaotfload | conf : Root cache directory is /home/scott/.texlive2015/texmf-var/l
uatex-cache/generic/names.
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-loaders.lua
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-database.lu
a)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-colors.lua)
luaotfload | conf : Root cache directory is /home/scott/.texlive2015/texmf-var/l
uatex-cache/generic/names.
luatexbase-mcb: creating 'luaotfload.resolve_font' type 4
luatexbase-mcb: creating 'luaotfload.patch_font' type 4
luatexbase-mcb: resetting callback 'define_font'
luatexbase-mcb: inserting 'luaotfload.define_font'
at position 1 in 'define_font'
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-features.lu
a)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-letterspace
.lua)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-auxiliary.l
ua)
luatexbase-mcb: inserting 'luaotfload.aux.set_sscale_dimens'
at position 1 in 'luaotfload.patch_font'
luatexbase-mcb: inserting 'luaotfload.aux.patch_cambria_domh'
at position 2 in 'luaotfload.patch_font'
luatexbase-mcb: inserting 'luaotfload.aux.set_capheight'
at position 3 in 'luaotfload.patch_font'
luatexbase-mcb: inserting 'luaotfload.rewrite_fontname'
at position 4 in 'luaotfload.patch_font')
(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec.lua)
Lua module: fontspec 2013/05/20 2.3c Advanced font selection for LuaLaTeX.
\l_fontspec_script_int=\count283
\l_fontspec_language_int=\count284
\l_fontspec_strnum_int=\count285
\l__fontspec_tmpa_dim=\dimen256
\l__fontspec_tmpb_dim=\dimen257
\l__fontspec_tmpc_dim=\dimen258
Variant \tl_gset:cV already defined; not changing it on line 71

(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec-patches.sty
Package: fontspec-patches 2015/03/14 v2.4c Font selection for XeLaTeX and LuaLaT
eX
LaTeX Info: Redefining \em on input line 49.
LaTeX Info: Redefining \emph on input line 57.
LaTeX Info: Redefining \- on input line 60.
.................................................
. LaTeX info: "xparse/redefine-command"
. 
. Redefining command \oldstylenums with sig. 'm' on line 155.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \liningnums with sig. 'm' on line 159.
.................................................
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec-luatex.sty
Package: fontspec-luatex 2015/03/14 v2.4c Font selection for XeLaTeX and LuaLaTe
X

(/usr/local/texlive/2015/texmf-dist/tex/latex/base/fontenc.sty
Package: fontenc 2005/09/27 v1.99g Standard LaTeX package

(/usr/local/texlive/2015/texmf-dist/tex/latex/euenc/eu2enc.def
File: eu2enc.def 2010/05/27 v0.1h Experimental Unicode font encodings
)
LaTeX Font Info:    Try loading font information for EU2+lmr on input line 105.

(/usr/local/texlive/2015/texmf-dist/tex/latex/euenc/eu2lmr.fd
File: eu2lmr.fd 2009/10/30 v1.6 Font defs for Latin Modern
)
luaotfload | db : Font names database loaded from /home/scott/.texlive2015/texmf
-var/luatex-cache/generic/names/luaotfload-names.luc(compiling luc: /usr/local/t
exlive/2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman10-regular.luc)(load
 luc: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman1
0-regular.luc))
(/usr/local/texlive/2015/texmf-dist/tex/xelatex/xunicode/xunicode.sty
File: xunicode.sty 2011/09/09 v0.981 provides access to latin accents and many o
ther characters in Unicode lower plane

(/usr/local/texlive/2015/texmf-dist/tex/latex/tipa/t3enc.def
File: t3enc.def 2001/12/31 T3 encoding
(compiling luc: /usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf
/lmromanslant10-regular.luc)(load luc: /home/scott/.texlive2015/texmf-var/luatex
-cache/generic/fonts/otf/lmromanslant10-regular.luc)(compiling luc: /usr/local/t
exlive/2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman10-italic.luc)(load 
luc: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman10
-italic.luc)(compiling luc: /usr/local/texlive/2015/texmf-var/luatex-cache/gener
ic/fonts/otf/lmroman10-bold.luc)(load luc: /home/scott/.texlive2015/texmf-var/lu
atex-cache/generic/fonts/otf/lmroman10-bold.luc)
LaTeX Font Info:    Try loading font information for EU2+lmss on input line 357.


(/usr/local/texlive/2015/texmf-dist/tex/latex/euenc/eu2lmss.fd
File: eu2lmss.fd 2009/10/30 v1.6 Font defs for Latin Modern
)(compiling luc: /usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/ot
f/lmsans10-regular.luc)(load luc: /home/scott/.texlive2015/texmf-var/luatex-cach
e/generic/fonts/otf/lmsans10-regular.luc))
\tipaTiiicode=\count286
\tipasavetokens=\toks14
\tipachecktokens=\toks15

(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/graphicx.sty
Package: graphicx 2014/10/28 v1.0g Enhanced LaTeX Graphics (DPC,SPQR)

(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/keyval.sty
Package: keyval 2014/10/28 v1.15 key=value parser (DPC)
\KV at toks@=\toks16
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/graphics.sty
Package: graphics 2014/10/28 v1.0p Standard LaTeX Graphics (DPC,SPQR)

(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/trig.sty
Package: trig 1999/03/16 v1.09 sin cos tan (DPC)
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/latexconfig/graphics.cfg
File: graphics.cfg 2010/04/23 v1.9 graphics configuration of TeX Live
)
Package graphics Info: Driver file: pdftex.def on input line 94.

(/usr/local/texlive/2015/texmf-dist/tex/latex/pdftex-def/pdftex.def
File: pdftex.def 2011/05/27 v0.06d Graphics/color for pdfTeX

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/ltxcmds.sty
Package: ltxcmds 2011/11/09 v1.22 LaTeX kernel commands for general use (HO)
)
\Gread at gobject=\count287
))
\Gin at req@height=\dimen259
\Gin at req@width=\dimen260
))
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \__fontspec_post_arg:w with sig. 'mmO{}' on line 45.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \fontspec with sig. 'om' on line 47.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmainfont with sig. 'om' on line 57.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setsansfont with sig. 'om' on line 67.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmonofont with sig. 'om' on line 77.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmathrm with sig. 'om' on line 91.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setboldmathrm with sig. 'om' on line 99.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmathsf with sig. 'om' on line 107.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmathtt with sig. 'om' on line 115.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontfamily with sig. 'mom' on line 129.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontface with sig. 'mom' on line 144.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \defaultfontfeatures with sig. 't+om' on line 158.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \addfontfeatures with sig. 'm' on line 214.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontfeature with sig. 'mm' on line 225.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newAATfeature with sig. 'mmmm' on line 233.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newopentypefeature with sig. 'mmm' on line 241.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \aliasfontfeature with sig. 'mm' on line 265.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \aliasfontfeatureoption with sig. 'mmm' on line 274.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontscript with sig. 'mm' on line 279.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontlanguage with sig. 'mm' on line 305.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \DeclareFontsExtensions with sig. 'm' on line 325.
.................................................
Variant \prop_gput:cnV already defined; not changing it on line 708
Variant \prop_gput:cnx already defined; not changing it on line 709
\l__fontspec_tmp_int=\count288
LaTeX Info: Redefining \itshape on input line 2156.
LaTeX Info: Redefining \slshape on input line 2161.
LaTeX Info: Redefining \scshape on input line 2166.
LaTeX Info: Redefining \upshape on input line 2171.

(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec.cfg)))
\g__file_internal_ior=\read1
luaotfload | cache : Lookup cache loaded from /home/scott/.texlive2015/texmf-var
/luatex-cache/generic/names/luaotfload-lookup-cache.luc.
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"(compiling luc: /us
r/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/freesans.luc)(load
 luc: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/freesans
.luc)
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
\g__fontspec_family_FreeSans_int=\count289
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"(compili
ng luc: /usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/freesan
sboldoblique.luc)(load luc: /home/scott/.texlive2015/texmf-var/luatex-cache/gene
ric/fonts/otf/freesansboldoblique.luc)
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"(compiling luc:
 /usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/freesansbold.l
uc)(load luc: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/
freesansbold.luc)
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"(compiling l
uc: /usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/freesansobl
ique.luc)(load luc: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/font
s/otf/freesansoblique.luc)
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | aux : font no 24 (FreeSansOblique) does not define feature smcp for
 script latn with language dflt
luaotfload | aux : no font with id 24
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | aux : font no 22 (FreeSansBoldOblique) does not define feature smcp
 for script latn with language dflt
luaotfload | aux : no font with id 22
.................................................
. fontspec info: "defining-font"
. 
. Font family 'FreeSans(0)' created for font 'FreeSans' with options
. [Ligatures=TeX,Ligatures=TeX].
. 
. This font family consists of the following shapes:
. 
. * 'normal' with NFSS spec.:
. <->"FreeSans:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'small caps' with NFSS spec.:
. 
. <->"FreeSans:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;+smcp
;"
. and font adjustment code:
. 
. 
. * 'bold' with NFSS spec.:
. 
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'bold small caps' with NFSS spec.:
. 
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;+sm
cp;"
. and font adjustment code:
. 
. 
. * 'italic' with NFSS spec.:
. 
. <->"FreeSans/I:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'small caps' with NFSS spec.:
. 
. and font adjustment code:
. 
. 
. * 'bold italic' with NFSS spec.:
. 
. <->"FreeSans/BI:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'bold small caps' with NFSS spec.:
. 
. and font adjustment code:
. 
.................................................
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | aux : font no 24 (FreeSansOblique) does not define feature smcp for
 script latn with language dflt
luaotfload | aux : no font with id 24
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | aux : font no 22 (FreeSansBoldOblique) does not define feature smcp
 for script latn with language dflt
luaotfload | aux : no font with id 22
.................................................
. fontspec info: "defining-font"
. 
. Font family 'FreeSans(1)' created for font 'FreeSans' with options
. [WordSpace={1,0,0},PunctuationSpace=WordSpace].
. 
. This font family consists of the following shapes:
. 
. * 'normal' with NFSS spec.:
. <->"FreeSans:mode=node;script=latn;language=DFLT;"
. 
. * 'small caps' with NFSS spec.:
. <->"FreeSans:mode=node;script=latn;language=DFLT;+smcp;"
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
. 
. * 'bold' with NFSS spec.:
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;"
. 
. * 'bold small caps' with NFSS spec.:
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;+smcp;"
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
. 
. * 'italic' with NFSS spec.:
. <->"FreeSans/I:mode=node;script=latn;language=DFLT;"
. 
. * 'small caps' with NFSS spec.:
. 
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
. 
. * 'bold italic' with NFSS spec.:
. <->"FreeSans/BI:mode=node;script=latn;language=DFLT;"
. 
. * 'bold small caps' with NFSS spec.:
. 
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
.................................................

(/usr/local/texlive/2015/texmf-dist/tex/latex/polyglossia/polyglossia.sty
Package: polyglossia 2014/05/21 v1.33.5 Babel replacement for XeLaTeX and LuaTeX


(/usr/local/texlive/2015/texmf-dist/tex/latex/etoolbox/etoolbox.sty
Package: etoolbox 2015/05/04 v2.2 e-TeX tools for LaTeX (JAW)
\etb at tempcnta=\count290
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/makecmds/makecmds.sty
Package: makecmds 2009/09/03 v1.0a extra command making commands
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/xkeyval/xkeyval.sty
Package: xkeyv
-------------- next part --------------
This is LuaTeX, Version beta-0.80.0 (TeX Live 2015) (rev 5238)  (format=lualatex 2015.8.24)  7 JAN 2016 08:54
 restricted \write18 enabled.
**mwe.tex
(./mwe.tex
LaTeX2e <2015/01/01> patch level 2
Babel <3.9m> and hyphenation patterns for 79 languages loaded.
(/usr/local/texlive/2015/texmf-dist/tex/latex/base/article.cls
Document Class: article 2014/09/29 v1.4h Standard LaTeX document class
(/usr/local/texlive/2015/texmf-dist/tex/latex/base/size10.clo
File: size10.clo 2014/09/29 v1.4h Standard LaTeX file (size option)
)
\c at part=\count79
\c at section=\count80
\c at subsection=\count81
\c at subsubsection=\count82
\c at paragraph=\count83
\c at subparagraph=\count84
\c at figure=\count85
\c at table=\count86
\abovecaptionskip=\skip41
\belowcaptionskip=\skip42
\bibindent=\dimen102
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec.sty
Package: fontspec 2015/07/22 v2.4d Font selection for XeLaTeX and LuaLaTeX

(/usr/local/texlive/2015/texmf-dist/tex/latex/l3kernel/expl3.sty
Package: expl3 2015/07/30 v5724 L3 programming layer (loader) 

(/usr/local/texlive/2015/texmf-dist/tex/latex/l3kernel/expl3-code.tex
Package: expl3 2015/07/30 v5724 L3 programming layer (code) 
L3 Module: l3bootstrap 2015/07/30 v5721 L3 Bootstrap code
L3 Module: l3names 2015/07/28 v5705 L3 Namespace for primitives
L3 Module: l3basics 2015/01/27 v5500 L3 Basic definitions
L3 Module: l3expan 2014/11/27 v5472 L3 Argument expansion
L3 Module: l3tl 2015/07/14 v5659 L3 Token lists
L3 Module: l3str 2015/07/14 v5659 L3 Strings
L3 Module: l3seq 2015/07/24 v5681 L3 Sequences and stacks
L3 Module: l3int 2015/07/14 v5659 L3 Integers
\c_max_int=\count87
\l_tmpa_int=\count88
\l_tmpb_int=\count89
\g_tmpa_int=\count90
\g_tmpb_int=\count91
L3 Module: l3quark 2015/07/14 v5659 L3 Quarks
L3 Module: l3prg 2015/07/30 v5722 L3 Control structures
\g__prg_map_int=\count92
L3 Module: l3clist 2014/08/23 v5354 L3 Comma separated lists
L3 Module: l3token 2014/09/15 v5422 L3 Experimental token manipulation
L3 Module: l3prop 2014/08/23 v5354 L3 Property lists
L3 Module: l3msg 2015/02/26 v5537 L3 Messages
L3 Module: l3file 2015/07/30 v5714 L3 File and I/O operations
\l_iow_line_count_int=\count93
\l__iow_target_count_int=\count94
\l__iow_current_line_int=\count95
\l__iow_current_word_int=\count96
\l__iow_current_indentation_int=\count97
L3 Module: l3skip 2015/07/14 v5659 L3 Dimensions and skips
\c_zero_dim=\dimen103
\c_max_dim=\dimen104
\l_tmpa_dim=\dimen105
\l_tmpb_dim=\dimen106
\g_tmpa_dim=\dimen107
\g_tmpb_dim=\dimen108
\c_zero_skip=\skip43
\c_max_skip=\skip44
\l_tmpa_skip=\skip45
\l_tmpb_skip=\skip46
\g_tmpa_skip=\skip47
\g_tmpb_skip=\skip48
\c_zero_muskip=\muskip10
\c_max_muskip=\muskip11
\l_tmpa_muskip=\muskip12
\l_tmpb_muskip=\muskip13
\g_tmpa_muskip=\muskip14
\g_tmpb_muskip=\muskip15
L3 Module: l3keys 2015/07/26 v5684 L3 Key-value interfaces
\g__keyval_level_int=\count98
\l_keys_choice_int=\count99
L3 Module: l3fp 2015/07/09 v5652 L3 Floating points
\c__fp_leading_shift_int=\count100
\c__fp_middle_shift_int=\count101
\c__fp_trailing_shift_int=\count102
\c__fp_big_leading_shift_int=\count103
\c__fp_big_middle_shift_int=\count104
\c__fp_big_trailing_shift_int=\count105
\c__fp_Bigg_leading_shift_int=\count106
\c__fp_Bigg_middle_shift_int=\count107
\c__fp_Bigg_trailing_shift_int=\count108
L3 Module: l3box 2014/08/23 v5354 L3 Experimental boxes
\c_empty_box=\box26
\l_tmpa_box=\box27
\l_tmpb_box=\box28
\g_tmpa_box=\box29
\g_tmpb_box=\box30
L3 Module: l3coffins 2014/08/23 v5354 L3 Coffin code layer
\l__coffin_internal_box=\box31
\l__coffin_internal_dim=\dimen109
\l__coffin_offset_x_dim=\dimen110
\l__coffin_offset_y_dim=\dimen111
\l__coffin_x_dim=\dimen112
\l__coffin_y_dim=\dimen113
\l__coffin_x_prime_dim=\dimen114
\l__coffin_y_prime_dim=\dimen115
\c_empty_coffin=\box32
\l__coffin_aligned_coffin=\box33
\l__coffin_aligned_internal_coffin=\box34
\l_tmpa_coffin=\box35
\l_tmpb_coffin=\box36
\l__coffin_display_coffin=\box37
\l__coffin_display_coord_coffin=\box38
\l__coffin_display_pole_coffin=\box39
\l__coffin_display_offset_dim=\dimen116
\l__coffin_display_x_dim=\dimen117
\l__coffin_display_y_dim=\dimen118
L3 Module: l3color 2014/08/23 v5354 L3 Experimental color support
L3 Module: l3candidates 2015/07/22 v5677 L3 Experimental additions to l3kernel
\l__box_top_dim=\dimen119
\l__box_bottom_dim=\dimen120
\l__box_left_dim=\dimen121
\l__box_right_dim=\dimen122
\l__box_top_new_dim=\dimen123
\l__box_bottom_new_dim=\dimen124
\l__box_left_new_dim=\dimen125
\l__box_right_new_dim=\dimen126
\l__box_internal_box=\box40
\l__coffin_bounding_shift_dim=\dimen127
\l__coffin_left_corner_dim=\dimen128
\l__coffin_right_corner_dim=\dimen129
\l__coffin_bottom_corner_dim=\dimen130
\l__coffin_top_corner_dim=\dimen131
\l__coffin_scaled_total_height_dim=\dimen132
\l__coffin_scaled_width_dim=\dimen133
L3 Module: l3luatex 2015/06/30 v5646 L3 Experimental LuaTeX-specific functions
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/l3kernel/l3unicode-data.def
File: l3unicode-data.def 2015/07/20 v-1 L3 Unicode data
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/l3kernel/l3pdfmode.def
File: l3pdfmode.def 2015/06/30 v5646 L3 Experimental driver: PDF mode
\l__driver_color_stack_int=\count109
))
(/usr/local/texlive/2015/texmf-dist/tex/latex/l3packages/xparse/xparse.sty
Package: xparse 2015/07/28 v5700 L3 Experimental document command parser
\l__xparse_current_arg_int=\count110
\l__xparse_m_args_int=\count111
\l__xparse_mandatory_args_int=\count112
\l__xparse_processor_int=\count113
\l__xparse_v_nesting_int=\count114
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload.sty
Package: luaotfload 2014/08/10 v2.5-4 OpenType layout system

(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase.sty
Package: luatexbase 2013/05/11 v0.6 Resource management for the LuaTeX macro pro
grammer

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/ifluatex.sty
Package: ifluatex 2010/03/01 v1.3 Provides the ifluatex switch (HO)
Package ifluatex Info: LuaTeX detected.
)
(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/luatex.sty
Package: luatex 2010/03/09 v0.4 LuaTeX basic definition package (HO)

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/infwarerr.sty
Package: infwarerr 2010/04/08 v1.3 Providing info/warning/error messages (HO)
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/etex-pkg/etex.sty
Package: etex 2015/07/08 v2.3 eTeX basic definition package (PEB,DPC)
\et at xins=\count115
)
\LuT at AllocAttribute=\count277
\LuT at AllocCatcodeTable=\count278
\CatcodeTableStack=\count279
\CatcodeTableIniTeX=\catcodetable1
\CatcodeTableString=\catcodetable3
\CatcodeTableOther=\catcodetable5
\CatcodeTableLaTeX=\catcodetable7

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/luatex-loader.sty
Package: luatex-loader 2010/03/09 v0.4 Lua module loader (HO)

(/usr/local/texlive/2015/texmf-dist/scripts/oberdiek/oberdiek.luatex.lua)))
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase-compat.sty
Package: luatexbase-compat 2011/05/24 v0.4 Compatibility tools for LuaTeX
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase-modutils.s
ty
Package: luatexbase-modutils 2013/05/11 v0.6 Module utilities for LuaTeX

(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase-loader.sty
Package: luatexbase-loader 2013/05/11 v0.6 Lua module loader for LuaTeX
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase.loader.lua)
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/modutils.lua)
Lua module: luatexbase-modutils 2013/05/11 0.6 Module utilities for LuaTeX
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase-regs.sty
Package: luatexbase-regs 2011/05/24 v0.4 Registers allocation for LuaTeX
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase-attr.sty
Package: luatexbase-attr 2013/05/11 v0.6 Attributes allocation for LuaTeX

(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/attr.lua)
Lua module: luatexbase-attr 2013/05/11 0.6 Attributes allocation for LuaTeX
\lltxb at attr@unsetvalue=\count280
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase-cctb.sty
Package: luatexbase-cctb 2013/05/11 v0.6 Catcodetable allocation for LuaTeX

(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/cctb.lua)
Lua module: luatexbase-cctb 2013/05/11 0.6 Catcodetable allocation for LuaTeX
\lltxb at catcodetable@alloc=\count281
\CatcodeTableStack=\count282
\CatcodeTableIniTeX=\luatexcatcodetable1
\CatcodeTableString=\luatexcatcodetable3
\CatcodeTableOther=\luatexcatcodetable5
\CatcodeTableLaTeX=\luatexcatcodetable7
\CatcodeTableLaTeXAtLetter=\luatexcatcodetable9
\CatcodeTableExpl=\luatexcatcodetable11
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase-mcb.sty
Package: luatexbase-mcb 2013/05/11 v0.6 Callback management for LuaTeX

(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/mcb.lua)
Lua module: luatexbase-mcb 2013/05/11 0.6 register several functions in a callba
ck
))
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-main.lua)
Lua module: luaotfload-main 2014/08/10 2.50003 OpenType layout system.

(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-log.lua)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-fontloader.
lua)(using write cache: /home/scott/.texlive2015/texmf-var/luatex-cache/generic)
(using read cache: /usr/local/texlive/2015/texmf-var/luatex-cache/generic /home/
scott/.texlive2015/texmf-var/luatex-cache/generic)
luatexbase-attr: luatexbase.attributes["luaotfload at kernpair"] = 1
luatexbase-attr: luatexbase.attributes["luaotfload at ligacomp"] = 2
luatexbase-attr: luatexbase.attributes["luaotfload at markbase"] = 3
luatexbase-attr: luatexbase.attributes["luaotfload at markmark"] = 4
luatexbase-attr: luatexbase.attributes["luaotfload at markdone"] = 5
luatexbase-attr: luatexbase.attributes["luaotfload at cursbase"] = 6
luatexbase-attr: luatexbase.attributes["luaotfload at curscurs"] = 7
luatexbase-attr: luatexbase.attributes["luaotfload at cursdone"] = 8
luatexbase-attr: luatexbase.attributes["luaotfload at state"] = 9
luaotfload | main : fontloader loaded in 0.014 seconds
luatexbase-mcb: inserting 'luaotfload.node_processor'
at position 1 in 'pre_linebreak_filter'
luatexbase-mcb: inserting 'luaotfload.node_processor'
at position 1 in 'hpack_filter'
luatexbase-mcb: inserting 'luaotfload.find_vf_file'
at position 1 in 'find_vf_file'
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-override.lu
a)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-parsers.lua
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-configurati
on.lua)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-status.lua)
luaotfload | conf : Root cache directory is /home/scott/.texlive2015/texmf-var/l
uatex-cache/generic/names.
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-loaders.lua
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-database.lu
a)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-colors.lua)
luaotfload | conf : Root cache directory is /home/scott/.texlive2015/texmf-var/l
uatex-cache/generic/names.
luatexbase-mcb: creating 'luaotfload.resolve_font' type 4
luatexbase-mcb: creating 'luaotfload.patch_font' type 4
luatexbase-mcb: resetting callback 'define_font'
luatexbase-mcb: inserting 'luaotfload.define_font'
at position 1 in 'define_font'
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-features.lu
a)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-letterspace
.lua)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload-auxiliary.l
ua)
luatexbase-mcb: inserting 'luaotfload.aux.set_sscale_dimens'
at position 1 in 'luaotfload.patch_font'
luatexbase-mcb: inserting 'luaotfload.aux.patch_cambria_domh'
at position 2 in 'luaotfload.patch_font'
luatexbase-mcb: inserting 'luaotfload.aux.set_capheight'
at position 3 in 'luaotfload.patch_font'
luatexbase-mcb: inserting 'luaotfload.rewrite_fontname'
at position 4 in 'luaotfload.patch_font')
(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec.lua)
Lua module: fontspec 2013/05/20 2.3c Advanced font selection for LuaLaTeX.
\l_fontspec_script_int=\count283
\l_fontspec_language_int=\count284
\l_fontspec_strnum_int=\count285
\l__fontspec_tmpa_dim=\dimen256
\l__fontspec_tmpb_dim=\dimen257
\l__fontspec_tmpc_dim=\dimen258

(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec-patches.sty
Package: fontspec-patches 2015/07/22 v2.4d Font selection for XeLaTeX and LuaLaT
eX
LaTeX Info: Redefining \em on input line 49.
LaTeX Info: Redefining \emph on input line 57.
LaTeX Info: Redefining \- on input line 60.
.................................................
. LaTeX info: "xparse/redefine-command"
. 
. Redefining command \oldstylenums with sig. 'm' on line 155.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \liningnums with sig. 'm' on line 159.
.................................................
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec-luatex.sty
Package: fontspec-luatex 2015/07/22 v2.4d Font selection for XeLaTeX and LuaLaTe
X

(/usr/local/texlive/2015/texmf-dist/tex/latex/base/fontenc.sty
Package: fontenc 2005/09/27 v1.99g Standard LaTeX package

(/usr/local/texlive/2015/texmf-dist/tex/latex/euenc/eu2enc.def
File: eu2enc.def 2010/05/27 v0.1h Experimental Unicode font encodings
)
LaTeX Font Info:    Try loading font information for EU2+lmr on input line 105.

(/usr/local/texlive/2015/texmf-dist/tex/latex/euenc/eu2lmr.fd
File: eu2lmr.fd 2009/10/30 v1.6 Font defs for Latin Modern
)
luaotfload | db : Font names database loaded from /home/scott/.texlive2015/texmf
-var/luatex-cache/generic/names/luaotfload-names.luc(compiling luc: /usr/local/t
exlive/2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman10-regular.luc)(load
 luc: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman1
0-regular.luc))
(/usr/local/texlive/2015/texmf-dist/tex/xelatex/xunicode/xunicode.sty
File: xunicode.sty 2011/09/09 v0.981 provides access to latin accents and many o
ther characters in Unicode lower plane

(/usr/local/texlive/2015/texmf-dist/tex/latex/tipa/t3enc.def
File: t3enc.def 2001/12/31 T3 encoding
(compiling luc: /usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf
/lmromanslant10-regular.luc)(load luc: /home/scott/.texlive2015/texmf-var/luatex
-cache/generic/fonts/otf/lmromanslant10-regular.luc)(compiling luc: /usr/local/t
exlive/2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman10-italic.luc)(load 
luc: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman10
-italic.luc)(compiling luc: /usr/local/texlive/2015/texmf-var/luatex-cache/gener
ic/fonts/otf/lmroman10-bold.luc)(load luc: /home/scott/.texlive2015/texmf-var/lu
atex-cache/generic/fonts/otf/lmroman10-bold.luc)
LaTeX Font Info:    Try loading font information for EU2+lmss on input line 357.


(/usr/local/texlive/2015/texmf-dist/tex/latex/euenc/eu2lmss.fd
File: eu2lmss.fd 2009/10/30 v1.6 Font defs for Latin Modern
)(compiling luc: /usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/ot
f/lmsans10-regular.luc)(load luc: /home/scott/.texlive2015/texmf-var/luatex-cach
e/generic/fonts/otf/lmsans10-regular.luc))
\tipaTiiicode=\count286
\tipasavetokens=\toks14
\tipachecktokens=\toks15

(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/graphicx.sty
Package: graphicx 2014/10/28 v1.0g Enhanced LaTeX Graphics (DPC,SPQR)

(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/keyval.sty
Package: keyval 2014/10/28 v1.15 key=value parser (DPC)
\KV at toks@=\toks16
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/graphics.sty
Package: graphics 2014/10/28 v1.0p Standard LaTeX Graphics (DPC,SPQR)

(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/trig.sty
Package: trig 1999/03/16 v1.09 sin cos tan (DPC)
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/latexconfig/graphics.cfg
File: graphics.cfg 2010/04/23 v1.9 graphics configuration of TeX Live
)
Package graphics Info: Driver file: pdftex.def on input line 94.

(/usr/local/texlive/2015/texmf-dist/tex/latex/pdftex-def/pdftex.def
File: pdftex.def 2011/05/27 v0.06d Graphics/color for pdfTeX

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/ltxcmds.sty
Package: ltxcmds 2011/11/09 v1.22 LaTeX kernel commands for general use (HO)
)
\Gread at gobject=\count287
))
\Gin at req@height=\dimen259
\Gin at req@width=\dimen260
))
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \__fontspec_post_arg:w with sig. 'mmO{}' on line 45.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \fontspec with sig. 'om' on line 47.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmainfont with sig. 'om' on line 57.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setsansfont with sig. 'om' on line 67.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmonofont with sig. 'om' on line 77.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmathrm with sig. 'om' on line 91.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setboldmathrm with sig. 'om' on line 99.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmathsf with sig. 'om' on line 107.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmathtt with sig. 'om' on line 115.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontfamily with sig. 'mom' on line 129.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontface with sig. 'mom' on line 144.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \defaultfontfeatures with sig. 't+om' on line 158.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \addfontfeatures with sig. 'm' on line 214.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontfeature with sig. 'mm' on line 225.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newAATfeature with sig. 'mmmm' on line 233.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newopentypefeature with sig. 'mmm' on line 241.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \aliasfontfeature with sig. 'mm' on line 265.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \aliasfontfeatureoption with sig. 'mmm' on line 274.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontscript with sig. 'mm' on line 279.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontlanguage with sig. 'mm' on line 305.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \DeclareFontsExtensions with sig. 'm' on line 325.
.................................................
\l__fontspec_tmp_int=\count288
LaTeX Info: Redefining \itshape on input line 2154.
LaTeX Info: Redefining \slshape on input line 2159.
LaTeX Info: Redefining \scshape on input line 2164.
LaTeX Info: Redefining \upshape on input line 2169.

(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec.cfg)))
\g__file_internal_ior=\read2
luaotfload | cache : Lookup cache loaded from /home/scott/.texlive2015/texmf-var
/luatex-cache/generic/names/luaotfload-lookup-cache.luc.
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"(compiling luc: /us
r/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/freesans.luc)(load
 luc: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/freesans
.luc)
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
\g__fontspec_family_FreeSans_int=\count289
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"(compili
ng luc: /usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/freesan
sboldoblique.luc)(load luc: /home/scott/.texlive2015/texmf-var/luatex-cache/gene
ric/fonts/otf/freesansboldoblique.luc)
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"(compiling luc:
 /usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/freesansbold.l
uc)(load luc: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/
freesansbold.luc)
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"(compiling l
uc: /usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/freesansobl
ique.luc)(load luc: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/font
s/otf/freesansoblique.luc)
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | aux : font no 24 (FreeSansOblique) does not define feature smcp for
 script latn with language dflt
luaotfload | aux : no font with id 24
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | aux : font no 22 (FreeSansBoldOblique) does not define feature smcp
 for script latn with language dflt
luaotfload | aux : no font with id 22
.................................................
. fontspec info: "defining-font"
. 
. Font family 'FreeSans(0)' created for font 'FreeSans' with options
. [Ligatures=TeX,Ligatures=TeX].
. 
. This font family consists of the following shapes:
. 
. * 'normal' with NFSS spec.:
. <->"FreeSans:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'small caps' with NFSS spec.:
. 
. <->"FreeSans:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;+smcp
;"
. and font adjustment code:
. 
. 
. * 'bold' with NFSS spec.:
. 
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'bold small caps' with NFSS spec.:
. 
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;+sm
cp;"
. and font adjustment code:
. 
. 
. * 'italic' with NFSS spec.:
. 
. <->"FreeSans/I:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'small caps' with NFSS spec.:
. 
. and font adjustment code:
. 
. 
. * 'bold italic' with NFSS spec.:
. 
. <->"FreeSans/BI:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'bold small caps' with NFSS spec.:
. 
. and font adjustment code:
. 
.................................................
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | aux : font no 24 (FreeSansOblique) does not define feature smcp for
 script latn with language dflt
luaotfload | aux : no font with id 24
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | aux : font no 22 (FreeSansBoldOblique) does not define feature smcp
 for script latn with language dflt
luaotfload | aux : no font with id 22
.................................................
. fontspec info: "defining-font"
. 
. Font family 'FreeSans(1)' created for font 'FreeSans' with options
. [WordSpace={1,0,0},PunctuationSpace=WordSpace].
. 
. This font family consists of the following shapes:
. 
. * 'normal' with NFSS spec.:
. <->"FreeSans:mode=node;script=latn;language=DFLT;"
. 
. * 'small caps' with NFSS spec.:
. <->"FreeSans:mode=node;script=latn;language=DFLT;+smcp;"
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
. 
. * 'bold' with NFSS spec.:
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;"
. 
. * 'bold small caps' with NFSS spec.:
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;+smcp;"
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
. 
. * 'italic' with NFSS spec.:
. <->"FreeSans/I:mode=node;script=latn;language=DFLT;"
. 
. * 'small caps' with NFSS spec.:
. 
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
. 
. * 'bold italic' with NFSS spec.:
. <->"FreeSans/BI:mode=node;script=latn;language=DFLT;"
. 
. * 'bold small caps' with NFSS spec.:
. 
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
.................................................

(/usr/local/texlive/2015/texmf-dist/tex/latex/polyglossia/polyglossia.sty
Package: polyglossia 2015/08/06 v1.42.0 Alternative to Babel for XeLaTeX and Lua
LaTeX

(/usr/local/texlive/2015/texmf-dist/tex/latex/etoolbox/etoolbox.sty
Package: etoolbox 2015/08/02 v2.2a e-TeX tools for LaTeX (JAW)
\etb at tempcnta=\count290
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/makecmds/makecmds.sty
Package: makecmds 2009/09/03 v1.0a extra command making commands
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/xkeyval/xkeyval.sty
Package: xkeyval 2014/12/03 v2.7a package option processing (HA)

(/usr/local/texlive/2015/texmf-dist/tex/generic/xkeyval/xkeyval.tex
(/usr/local/texlive/2015/texmf-dist/tex/generic/xkeyval/xkvutils.tex
\XKV at toks=\toks17
\XKV at tempa@toks=\toks18
)
\XKV at depth=\count291
File: xkeyval.tex 2014/12/03 v2.7a key=value parser (HA)
))
(/usr/local/texlive/2015/texmf-dist/tex/generic/ifxetex/ifxetex.sty
Package: ifxetex 2010/09/12 v0.6 Provides ifxetex conditional
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/polyglossia/polyglossia.lua)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/hyph-utf8/luatex-hyphen.lua)
luatex-hyphen: using data file: /usr/local/texlive/2015/texmf-var/tex/generic/co
nfig/language.dat.lua
Lua module: polyglossia 2013/05/11 1.3 Polyglossia
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/polyglossia/gloss-hebrew.ldf
File: gloss-hebrew.ldf polyglossia: module for hebrew


Package polyglossia Warning: Hebrew is not supported with LuaTeX.
(polyglossia)                I will proceed with the compilation, but
(polyglossia)                the output is not guaranteed to be correct
(polyglossia)                and may look very wrong. on input line 6.

(/usr/local/texlive/2015/texmf-dist/tex/lualatex/luabidi/luabidi.sty
Package: luabidi 2013/05/27 v0.2 Bidirectional typesetting in LuaTeX
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/polyglossia/hebrewcal.sty
Package: hebrewcal 2015/04/17 v2.6 Hebrew calendar for polyglossia (adapted from
 hebcal.sty in Babel)

(/usr/local/texlive/2015/texmf-dist/tex/latex/polyglossia/cal-util.def
\c at tmpA=\count292
\c at tmpB=\count293
\c at tmpC=\count294
\c at tmpD=\count295
\c at tmpE=\count296
\c at tmpF=\count297
)
\hebrewday=\count298
\hebrewmonth=\count299
\hebrewyear=\count300
\@common=\count301
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/polyglossia/babel-hebrewalph.def
File: babel-hebrewalph.def 2010/03/02 Babel definitions for Hebrew numerals
 Adapted from hebrew.ldf (2005/03/30 v2.3h)
))
Package polyglossia Info: Default language is hebrew.
(/usr/local/texlive/2015/texmf-dist/tex/latex/polyglossia/gloss-english.ldf
File: gloss-english.ldf polyglossia: module for english
)

LaTeX Warning: Unused global option(s):
    [english,hebrew].

No file mwe.aux.

\openout1 = mwe.aux
LaTeX Font Info:    Checking defaults for OML/cmm/m/it on input line 10.
LaTeX Font Info:    ... okay on input line 10.
LaTeX Font Info:    Checking defaults for T1/cmr/m/n on input line 10.
LaTeX Font Info:    ... okay on input line 10.
LaTeX Font Info:    Checking defaults for OT1/cmr/m/n on input line 10.
LaTeX Font Info:    ... okay on input line 10.
LaTeX Font Info:    Checking defaults for OMS/cmsy/m/n on input line 10.
LaTeX Font Info:    ... okay on input line 10.
LaTeX Font Info:    Checking defaults for OMX/cmex/m/n on input line 10.
LaTeX Font Info:    ... okay on input line 10.
LaTeX Font Info:    Checking defaults for U/cmr/m/n on input line 10.
LaTeX Font Info:    ... okay on input line 10.
LaTeX Font Info:    Checking defaults for EU2/lmr/m/n on input line 10.
LaTeX Font Info:    ... okay on input line 10.
LaTeX Font Info:    Checking defaults for T3/cmr/m/n on input line 10.
LaTeX Font Info:    Try loading font information for T3+cmr on input line 10.
(/usr/local/texlive/2015/texmf-dist/tex/latex/tipa/t3cmr.fd
File: t3cmr.fd 2001/12/31 TIPA font definitions
)
LaTeX Font Info:    ... okay on input line 10.

(/usr/local/texlive/2015/texmf-dist/tex/context/base/supp-pdf.mkii
[Loading MPS to PDF converter (version 2006.09.02).]
\scratchcounter=\count302
\scratchdimen=\dimen261
\scratchbox=\box256
\nofMPsegments=\count303
\nofMParguments=\count304
\everyMPshowfont=\toks19
\MPscratchCnt=\count305
\MPscratchDim=\dimen262
\MPnumerator=\count306
\makeMPintoPDFobject=\count307
\everyMPtoPDFconversion=\toks20
) (/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/pdftexcmds.sty
Package: pdftexcmds 2011/11/29 v0.20 Utility functions of pdfTeX for LuaTeX (HO)


(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/ifpdf.sty
Package: ifpdf 2011/01/30 v2.3 Provides the ifpdf switch (HO)
Package ifpdf Info: pdfTeX in PDF mode is detected.
)
Package pdftexcmds Info: \pdf at primitive is available.
Package pdftexcmds Info: \pdf at ifprimitive is available.
Package pdftexcmds Info: \pdfdraftmode found.

(/usr/local/texlive/2015/texmf-dist/scripts/oberdiek/pdftexcmds.lua)
\pdftexcmds at toks=\toks21
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/oberdiek/epstopdf-base.sty
Package: epstopdf-base 2010/02/09 v2.5 Base part for package epstopdf

(/usr/local/texlive/2015/texmf-dist/tex/latex/oberdiek/grfext.sty
Package: grfext 2010/08/19 v1.1 Manage graphics extensions (HO)

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/kvdefinekeys.sty
Package: kvdefinekeys 2011/04/07 v1.3 Define keys (HO)
))
(/usr/local/texlive/2015/texmf-dist/tex/latex/oberdiek/kvoptions.sty
Package: kvoptions 2011/06/30 v3.11 Key value format for package options (HO)

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/kvsetkeys.sty
Package: kvsetkeys 2012/04/25 v1.16 Key value parser (HO)

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/etexcmds.sty
Package: etexcmds 2011/02/16 v1.5 Avoid name clashes with e-TeX commands (HO)
)))
Package grfext Info: Graphics extension search list:
(grfext)             [.png,.pdf,.jpg,.mps,.tif,.jpeg,.PNG,.PDF,.JPG,.JPEG,.eps]
(grfext)             \AppendGraphicsExtensions on input line 452.

(/usr/local/texlive/2015/texmf-dist/tex/latex/latexconfig/epstopdf-sys.cfg
File: epstopdf-sys.cfg 2010/07/13 v1.3 Configuration of (r)epstopdf for TeX Live

))
.................................................
. fontspec info: "setup-math"
. 
. Adjusting the maths setup (use [no-math] to avoid this).
.................................................
\symlegacymaths=\mathgroup4
LaTeX Font Info:    Overwriting symbol font `legacymaths' in version `bold'
(Font)                  OT1/cmr/m/n --> OT1/cmr/bx/n on input line 10.
LaTeX Font Info:    Redeclaring math accent \acute on input line 10.
LaTeX Font Info:    Redeclaring math accent \grave on input line 10.
LaTeX Font Info:    Redeclaring math accent \ddot on input line 10.
LaTeX Font Info:    Redeclaring math accent \tilde on input line 10.
LaTeX Font Info:    Redeclaring math accent \bar on input line 10.
LaTeX Font Info:    Redeclaring math accent \breve on input line 10.
LaTeX Font Info:    Redeclaring math accent \check on input line 10.
LaTeX Font Info:    Redeclaring math accent \hat on input line 10.
LaTeX Font Info:    Redeclaring math accent \dot on input line 10.
LaTeX Font Info:    Redeclaring math accent \mathring on input line 10.
LaTeX Font Info:    Redeclaring math symbol \colon on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Gamma on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Delta on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Theta on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Lambda on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Xi on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Pi on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Sigma on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Upsilon on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Phi on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Psi on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Omega on input line 10.
LaTeX Font Info:    Redeclaring math symbol \mathdollar on input line 10.
LaTeX Font Info:    Redeclaring symbol font `operators' on input line 10.
LaTeX Font Info:    Encoding `OT1' has changed to `EU2' for symbol font
(Font)              `operators' in the math version `normal' on input line 10.
LaTeX Font Info:    Overwriting symbol font `operators' in version `normal'
(Font)                  OT1/cmr/m/n --> EU2/FreeSans(0)/m/n on input line 10.
LaTeX Font Info:    Encoding `OT1' has changed to `EU2' for symbol font
(Font)              `operators' in the math version `bold' on input line 10.
LaTeX Font Info:    Overwriting symbol font `operators' in version `bold'
(Font)                  OT1/cmr/bx/n --> EU2/FreeSans(0)/m/n on input line 10.
LaTeX Font Info:    Overwriting symbol font `operators' in version `normal'
(Font)                  EU2/FreeSans(0)/m/n --> EU2/FreeSans(0)/m/n on input lin
e 10.
LaTeX Font Info:    Overwriting math alphabet `\mathit' in version `normal'
(Font)                  OT1/cmr/m/it --> EU2/FreeSans(0)/m/it on input line 10.
LaTeX Font Info:    Overwriting math alphabet `\mathbf' in version `normal'
(Font)                  OT1/cmr/bx/n --> EU2/FreeSans(0)/bx/n on input line 10.
LaTeX Font Info:    Overwriting math alphabet `\mathsf' in version `normal'
(Font)                  OT1/cmss/m/n --> EU2/FreeSans(0)/m/n on input line 10.
LaTeX Font Info:    Overwriting math alphabet `\mathtt' in version `normal'
(Font)                  OT1/cmtt/m/n --> EU2/FreeSans(1)/m/n on input line 10.
LaTeX Font Info:    Overwriting symbol font `operators' in version `bold'
(Font)                  EU2/FreeSans(0)/m/n --> EU2/FreeSans(0)/bx/n on input li
ne 10.
LaTeX Font Info:    Overwriting math alphabet `\mathit' in version `bold'
(Font)                  OT1/cmr/bx/it --> EU2/FreeSans(0)/bx/it on input line 10
.
LaTeX Font Info:    Overwriting math alphabet `\mathsf' in version `bold'
(Font)                  OT1/cmss/bx/n --> EU2/FreeSans(0)/bx/n on input line 10.

LaTeX Font Info:    Overwriting math alphabet `\mathtt' in version `bold'
(Font)                  OT1/cmtt/m/n --> EU2/FreeSans(1)/bx/n on input line 10.
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | aux : font no 21 (FreeSans) does not define feature smcp for script
 hebr with language dflt
luaotfload | aux : no font with id 21
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | aux : font no 23 (FreeSansBold) does not define feature smcp for sc
ript hebr with language dflt
luaotfload | aux : no font with id 23
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | aux : font no 24 (FreeSansOblique) does not define feature smcp for
 script hebr with language dflt
luaotfload | aux : no font with id 24
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | aux : font no 22 (FreeSansBoldOblique) does not define feature smcp
 for script hebr with language dflt
luaotfload | aux : no font with id 22
.................................................
. fontspec info: "defining-font"
. 
. Font family 'FreeSans(2)' created for font 'FreeSans' with options
. [Ligatures=TeX,Ligatures=TeX,Script=Hebrew].
. 
. This font family consists of the following shapes:
. 
. * 'normal' with NFSS spec.:
. <->"FreeSans:mode=node;script=hebr;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'small caps' with NFSS spec.:
. 
. and font adjustment code:
. 
. 
. * 'bold' with NFSS spec.:
. 
. <->"FreeSans/B:mode=node;script=hebr;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'bold small caps' with NFSS spec.:
. 
. and font adjustment code:
. 
. 
. * 'italic' with NFSS spec.:
. 
. <->"FreeSans/I:mode=node;script=hebr;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'small caps' with NFSS spec.:
. 
. and font adjustment code:
. 
. 
. * 'bold italic' with NFSS spec.:
. 
. <->"FreeSans/BI:mode=node;script=hebr;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'bold small caps' with NFSS spec.:
. 
. and font adjustment code:
. 
.................................................
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
[1

{/usr/local/texlive/2015/texmf-var/fonts/map/pdftex/updmap/pdftex.map}]
(./mwe.aux
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf")

LaTeX Warning: Label(s) may have changed. Rerun to get cross-references right.

)

Here is how much of LuaTeX's memory you used:
 16201 strings out of 494699
 125171,383344 words of node,token memory allocated
 306 words of node memory still in use:
   3 hlist, 1 vlist, 1 rule, 2 glue, 1 kern, 4 attribute, 43 glue_spec, 4 attrib
ute_list, 1 write nodes
   avail lists: 1:1,2:31,3:9,4:22,6:12,7:1,9:6
 19412 multiletter control sequences out of 65536+600000
 27 fonts using 6330935 bytes
 48i,4n,66p,1197b,262s stack positions out of 5000i,500n,10000p,200000b,100000s
</usr/local/texlive/2015/texmf-dist/fonts/truetype/public/gnu-freefont/FreeSans.
ttf>
Output written on mwe.pdf (1 page, 8959 bytes).

PDF statistics: 15 PDF objects out of 1000 (max. 8388607)
 8 compressed objects within 1 object stream
 0 named destinations out of 1000 (max. 131072)
 1 words of extra memory for PDF output out of 10000 (max. 10000000)

-------------- next part --------------
A non-text attachment was scrubbed...
Name: mwe_good.pdf
Type: application/pdf
Size: 8959 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20160107/8b67d73f/attachment-0001.pdf>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20160107/8b67d73f/attachment-0001.bin>

From d.p.carlisle at gmail.com  Thu Jan  7 15:28:57 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 7 Jan 2016 14:28:57 +0000
Subject: [luatex] Hebrew example that used to work and now fails
In-Reply-To: <20160107135922.GA9087@cotopaxi>
References: <20160102114453.GA4118@cotopaxi>
 <CAG5iGsBgLqMuRZWoPVQZ-9+KwS1bb2ZfqMy3_pbM_Etavv595Q@mail.gmail.com>
 <20160107135922.GA9087@cotopaxi>
Message-ID: <CAEW6iOgTSBR1LyNS3GAiCTDAXfkNv1PUaRptAczBQvmFo=HLDw@mail.gmail.com>

You mostly have an October 2015 (current) setup but your luatexbase is out
of date (hence the error about \newattribute)

You show

(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase.sty
Package: luatexbase 2013/05/11 v0.6 Resource management for the LuaTeX
macro programmer


I get

(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase.sty
Package: luatexbase 2015/10/04 v1.3 luatexbase interface to LuaTeX


David




On 7 January 2016 at 13:59, Scott Kostyshak <skostysh at lyx.org> wrote:

> On Mon, Jan 04, 2016 at 06:34:19PM +0100, luigi scarso wrote:
> > On Sat, Jan 2, 2016 at 12:44 PM, Scott Kostyshak <skostysh at lyx.org>
> wrote:
> >
> > > The log file clearly states:
> > >
> > > Package polyglossia Warning: Hebrew is not supported with LuaTeX.
> > > (polyglossia)                I will proceed with the compilation, but
> > > (polyglossia)                the output is not guaranteed to be correct
> > > (polyglossia)                and may look very wrong. on input line 6.
> > >
> > > so I do not expect LuaTeX to work with Hebrew. However, I have a file
> > > written in Hebrew that used to compile with LuaTeX and no longer does.
> > > If I put in the time to narrow this down to a minimal example, would
> > > someone be interested in looking at it?
> > >
> > > I don't personally care, but just wanted to see if this would be
> > > helpful.
> > >
> > > Best,
> > >
> > > Scott
> > >
> >
> >
> >
> > hm I can try with latest luatex+context to see if it's a luatex problem,
> > but I need the right free fonts, a test, and the expected output.
>
> Thanks for the interest, Luigi.
>
> Attached is the minimal example and the log from before a big TL 2015
> update (the "good" log) and the log after a big TL 2015 update (the
> "bad" log). Also attached is the PDF that results from the "good"
> compilation.
>
> This is not my file and I have no idea if it is the correct
> way to do things. I just notice that it goes from succeeding to failing.
> I also notice the xelatex succeeds on the same file. But as I mentioned
> before, since LuaTeX doesn't officially support Hebrew these
> observations are not surprising. I just want to confirm that the changes
> were intended. In any case, with an updated TL the error I get is:
>
>   ! LaTeX Error: Command \newattribute already defined.
>                Or name \end... illegal, see p.192 of the manual.
>
> Also attached is the log (the "bad2" log) from a separate older TL
> system, which gives the following error:
>
>   XeTeX is required to compile this document. Sorry!
>
> Scott
>



-- 
http://dpcarlisle.blogspot.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160107/46f30b4f/attachment.html>

From skostysh at lyx.org  Thu Jan  7 17:45:08 2016
From: skostysh at lyx.org (Scott Kostyshak)
Date: Thu, 7 Jan 2016 11:45:08 -0500
Subject: [luatex] Hebrew example that used to work and now fails
In-Reply-To: <CAEW6iOgTSBR1LyNS3GAiCTDAXfkNv1PUaRptAczBQvmFo=HLDw@mail.gmail.com>
References: <20160102114453.GA4118@cotopaxi>
 <CAG5iGsBgLqMuRZWoPVQZ-9+KwS1bb2ZfqMy3_pbM_Etavv595Q@mail.gmail.com>
 <20160107135922.GA9087@cotopaxi>
 <CAEW6iOgTSBR1LyNS3GAiCTDAXfkNv1PUaRptAczBQvmFo=HLDw@mail.gmail.com>
Message-ID: <20160107164508.GA1642@cotopaxi>

On Thu, Jan 07, 2016 at 02:28:57PM +0000, David Carlisle wrote:
> You mostly have an October 2015 (current) setup but your luatexbase is out
> of date (hence the error about \newattribute)
> 
> You show
> 
> (/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase.sty
> Package: luatexbase 2013/05/11 v0.6 Resource management for the LuaTeX
> macro programmer
> 
> 
> I get
> 
> (/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase.sty
> Package: luatexbase 2015/10/04 v1.3 luatexbase interface to LuaTeX

Thanks for catching that David. I was experimenting with reverting
packages to figure out which update triggered the change in behavior and
I sloppily forgot to reupdate. Attached is my log after updating. The
error I get is:

! Undefined control sequence.
\setRL ->\@RTLtrue \luatexpardir 
                                 TRT \luatextextdir TRT
l.10 \begin{document}

Do you get the same error, David?
                   
Scott
                                                    


> 
> 
> David
> 
> 
> 
> 
> On 7 January 2016 at 13:59, Scott Kostyshak <skostysh at lyx.org> wrote:
> 
> > On Mon, Jan 04, 2016 at 06:34:19PM +0100, luigi scarso wrote:
> > > On Sat, Jan 2, 2016 at 12:44 PM, Scott Kostyshak <skostysh at lyx.org>
> > wrote:
> > >
> > > > The log file clearly states:
> > > >
> > > > Package polyglossia Warning: Hebrew is not supported with LuaTeX.
> > > > (polyglossia)                I will proceed with the compilation, but
> > > > (polyglossia)                the output is not guaranteed to be correct
> > > > (polyglossia)                and may look very wrong. on input line 6.
> > > >
> > > > so I do not expect LuaTeX to work with Hebrew. However, I have a file
> > > > written in Hebrew that used to compile with LuaTeX and no longer does.
> > > > If I put in the time to narrow this down to a minimal example, would
> > > > someone be interested in looking at it?
> > > >
> > > > I don't personally care, but just wanted to see if this would be
> > > > helpful.
> > > >
> > > > Best,
> > > >
> > > > Scott
> > > >
> > >
> > >
> > >
> > > hm I can try with latest luatex+context to see if it's a luatex problem,
> > > but I need the right free fonts, a test, and the expected output.
> >
> > Thanks for the interest, Luigi.
> >
> > Attached is the minimal example and the log from before a big TL 2015
> > update (the "good" log) and the log after a big TL 2015 update (the
> > "bad" log). Also attached is the PDF that results from the "good"
> > compilation.
> >
> > This is not my file and I have no idea if it is the correct
> > way to do things. I just notice that it goes from succeeding to failing.
> > I also notice the xelatex succeeds on the same file. But as I mentioned
> > before, since LuaTeX doesn't officially support Hebrew these
> > observations are not surprising. I just want to confirm that the changes
> > were intended. In any case, with an updated TL the error I get is:
> >
> >   ! LaTeX Error: Command \newattribute already defined.
> >                Or name \end... illegal, see p.192 of the manual.
> >
> > Also attached is the log (the "bad2" log) from a separate older TL
> > system, which gives the following error:
> >
> >   XeTeX is required to compile this document. Sorry!
> >
> > Scott
> >
> 
> 
> 
> -- 
> http://dpcarlisle.blogspot.com/
-------------- next part --------------
This is LuaTeX, Version beta-0.80.0 (TeX Live 2015) (rev 5238)  (format=lualatex 2016.1.7)  7 JAN 2016 11:41
 restricted \write18 enabled.
**mwe.tex
(./mwe.tex
LaTeX2e <2015/10/01> patch level 2
Babel <3.9m> and hyphenation patterns for 79 languages loaded.
(/usr/local/texlive/2015/texmf-dist/tex/latex/base/article.cls
Document Class: article 2014/09/29 v1.4h Standard LaTeX document class
(/usr/local/texlive/2015/texmf-dist/tex/latex/base/size10.clo
File: size10.clo 2014/09/29 v1.4h Standard LaTeX file (size option)
)
\c at part=\count79
\c at section=\count80
\c at subsection=\count81
\c at subsubsection=\count82
\c at paragraph=\count83
\c at subparagraph=\count84
\c at figure=\count85
\c at table=\count86
\abovecaptionskip=\skip41
\belowcaptionskip=\skip42
\bibindent=\dimen102
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec.sty
Package: fontspec 2015/09/24 v2.4e Font selection for XeLaTeX and LuaLaTeX

(/usr/local/texlive/2015/texmf-dist/tex/latex/l3kernel/expl3.sty
Package: expl3 2016/01/03 v6358 L3 programming layer (loader) 

(/usr/local/texlive/2015/texmf-dist/tex/latex/l3kernel/expl3-code.tex
Package: expl3 2016/01/03 v6358 L3 programming layer (code)
L3 Module: l3bootstrap 2016/01/01 v6339 L3 Bootstrap code
\ucharcat at table=\catcodetable5
L3 Module: l3names 2015/12/21 v6328 L3 Namespace for primitives
L3 Module: l3basics 2015/11/22 v6315 L3 Basic definitions
L3 Module: l3expan 2015/09/10 v5983 L3 Argument expansion
L3 Module: l3tl 2015/09/29 v6121 L3 Token lists
L3 Module: l3str 2016/01/03 v6357 L3 Strings
L3 Module: l3seq 2015/08/05 v5777 L3 Sequences and stacks
L3 Module: l3int 2015/09/25 v6089 L3 Integers
\c_max_int=\count87
\l_tmpa_int=\count88
\l_tmpb_int=\count89
\g_tmpa_int=\count90
\g_tmpb_int=\count91
L3 Module: l3quark 2015/08/17 v5855 L3 Quarks
L3 Module: l3prg 2015/11/01 v6216 L3 Control structures
\g__prg_map_int=\count92
L3 Module: l3clist 2015/09/02 v5901 L3 Comma separated lists
L3 Module: l3token 2015/11/11 v6249 L3 Experimental token manipulation
L3 Module: l3prop 2015/08/05 v5777 L3 Property lists
L3 Module: l3msg 2015/09/28 v6113 L3 Messages
L3 Module: l3file 2015/12/03 v6317 L3 File and I/O operations
\l_iow_line_count_int=\count93
\l__iow_target_count_int=\count94
\l__iow_current_line_int=\count95
\l__iow_current_word_int=\count96
\l__iow_current_indentation_int=\count97
L3 Module: l3skip 2015/09/25 v6089 L3 Dimensions and skips
\c_zero_dim=\dimen103
\c_max_dim=\dimen104
\l_tmpa_dim=\dimen105
\l_tmpb_dim=\dimen106
\g_tmpa_dim=\dimen107
\g_tmpb_dim=\dimen108
\c_zero_skip=\skip43
\c_max_skip=\skip44
\l_tmpa_skip=\skip45
\l_tmpb_skip=\skip46
\g_tmpa_skip=\skip47
\g_tmpb_skip=\skip48
\c_zero_muskip=\muskip10
\c_max_muskip=\muskip11
\l_tmpa_muskip=\muskip12
\l_tmpb_muskip=\muskip13
\g_tmpa_muskip=\muskip14
\g_tmpb_muskip=\muskip15
L3 Module: l3keys 2015/11/17 v6284 L3 Key-value interfaces
\g__keyval_level_int=\count98
\l_keys_choice_int=\count99
L3 Module: l3fp 2015/08/25 v5890 L3 Floating points
\c__fp_leading_shift_int=\count100
\c__fp_middle_shift_int=\count101
\c__fp_trailing_shift_int=\count102
\c__fp_big_leading_shift_int=\count103
\c__fp_big_middle_shift_int=\count104
\c__fp_big_trailing_shift_int=\count105
\c__fp_Bigg_leading_shift_int=\count106
\c__fp_Bigg_middle_shift_int=\count107
\c__fp_Bigg_trailing_shift_int=\count108
L3 Module: l3box 2015/08/09 v5822 L3 Experimental boxes
\c_empty_box=\box26
\l_tmpa_box=\box27
\l_tmpb_box=\box28
\g_tmpa_box=\box29
\g_tmpb_box=\box30
L3 Module: l3coffins 2015/08/06 v5789 L3 Coffin code layer
\l__coffin_internal_box=\box31
\l__coffin_internal_dim=\dimen109
\l__coffin_offset_x_dim=\dimen110
\l__coffin_offset_y_dim=\dimen111
\l__coffin_x_dim=\dimen112
\l__coffin_y_dim=\dimen113
\l__coffin_x_prime_dim=\dimen114
\l__coffin_y_prime_dim=\dimen115
\c_empty_coffin=\box32
\l__coffin_aligned_coffin=\box33
\l__coffin_aligned_internal_coffin=\box34
\l_tmpa_coffin=\box35
\l_tmpb_coffin=\box36
\l__coffin_display_coffin=\box37
\l__coffin_display_coord_coffin=\box38
\l__coffin_display_pole_coffin=\box39
\l__coffin_display_offset_dim=\dimen116
\l__coffin_display_x_dim=\dimen117
\l__coffin_display_y_dim=\dimen118
L3 Module: l3color 2014/08/23 v5354 L3 Experimental color support
L3 Module: l3candidates 2015/12/20 v6325 L3 Experimental additions to l3kernel
\l__box_top_dim=\dimen119
\l__box_bottom_dim=\dimen120
\l__box_left_dim=\dimen121
\l__box_right_dim=\dimen122
\l__box_top_new_dim=\dimen123
\l__box_bottom_new_dim=\dimen124
\l__box_left_new_dim=\dimen125
\l__box_right_new_dim=\dimen126
\l__box_internal_box=\box40
\l__coffin_bounding_shift_dim=\dimen127
\l__coffin_left_corner_dim=\dimen128
\l__coffin_right_corner_dim=\dimen129
\l__coffin_bottom_corner_dim=\dimen130
\l__coffin_top_corner_dim=\dimen131
\l__coffin_scaled_total_height_dim=\dimen132
\l__coffin_scaled_width_dim=\dimen133
L3 Module: l3sys 2015/09/25 v6087 L3 Experimental system/runtime functions
L3 Module: l3luatex 2015/11/11 v6250 L3 Experimental LuaTeX-specific functions
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/l3kernel/l3pdfmode.def
File: l3pdfmode.def 2015/11/11 v6250 L3 Experimental driver: PDF mode
\l__driver_color_stack_int=\count109
))
(/usr/local/texlive/2015/texmf-dist/tex/latex/l3packages/xparse/xparse.sty
Package: xparse 2015/12/20 v6326 L3 Experimental document command parser
\l__xparse_current_arg_int=\count110
\l__xparse_m_args_int=\count111
\l__xparse_mandatory_args_int=\count112
\l__xparse_processor_int=\count113
\l__xparse_v_nesting_int=\count114
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luaotfload/luaotfload.sty
Package: luaotfload 2015/12/09 v2.6 OpenType layout system
Lua module: luaotfload-main 2015/12/09 2.60001 OpenType layout system.
Lua module: lualibs 2015-12-02 2.3 ConTeXt Lua standard libraries.
Lua module: lualibs-extended 2015-12-02 2.3 ConTeXt Lua libraries -- extended co
llection.(using write cache: /home/scott/.texlive2015/texmf-var/luatex-cache/gen
eric)(using read cache: /usr/local/texlive/2015/texmf-var/luatex-cache/generic /
home/scott/.texlive2015/texmf-var/luatex-cache/generic)
luaotfload | conf : Root cache directory is /home/scott/.texlive2015/texmf-var/l
uatex-cache/generic/names.
Lua-only attribute luaotfload at state = 1
Lua-only attribute luaotfload at cursbase = 2
Lua-only attribute luaotfload at noligature = 3
luaotfload | init : Context OpenType loader version ?2.82?
Inserting `luaotfload.node_processor' at position 1 in `pre_linebreak_filter'.
Inserting `luaotfload.node_processor' at position 1 in `hpack_filter'.
Inserting `luaotfload.define_font' at position 1 in `define_font'.
Lua-only attribute luaotfload_color_attribute = 4
luaotfload | conf : Root cache directory is /home/scott/.texlive2015/texmf-var/l
uatex-cache/generic/names.
Inserting `luaotfload.aux.set_sscale_dimens' at position 1 in `luaotfload.patch_
font'.
Inserting `luaotfload.aux.patch_cambria_domh' at position 2 in `luaotfload.patch
_font'.
Inserting `luaotfload.aux.fixup_fontdata' at position 1 in `luaotfload.patch_fon
t_unsafe'.
Inserting `luaotfload.aux.set_capheight' at position 3 in `luaotfload.patch_font
'.
Inserting `luaotfload.rewrite_fontname' at position 4 in `luaotfload.patch_font'
.
luaotfload | main : initialization completed in 0.184 seconds)
Lua module: fontspec 2013/05/20 2.3c Advanced font selection for LuaLaTeX.
\l_fontspec_script_int=\count115
\l_fontspec_language_int=\count116
\l_fontspec_strnum_int=\count117
\l__fontspec_tmpa_dim=\dimen134
\l__fontspec_tmpb_dim=\dimen135
\l__fontspec_tmpc_dim=\dimen136

(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec-patches.sty
Package: fontspec-patches 2015/09/24 v2.4e Font selection for XeLaTeX and LuaLaT
eX
LaTeX Info: Redefining \em on input line 49.
LaTeX Info: Redefining \emph on input line 57.
LaTeX Info: Redefining \- on input line 60.
.................................................
. LaTeX info: "xparse/redefine-command"
. 
. Redefining command \oldstylenums with sig. 'm' on line 155.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \liningnums with sig. 'm' on line 159.
.................................................
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec-luatex.sty
Package: fontspec-luatex 2015/09/24 v2.4e Font selection for XeLaTeX and LuaLaTe
X

(/usr/local/texlive/2015/texmf-dist/tex/latex/base/fontenc.sty
Package: fontenc 2005/09/27 v1.99g Standard LaTeX package

(/usr/local/texlive/2015/texmf-dist/tex/latex/euenc/eu2enc.def
File: eu2enc.def 2010/05/27 v0.1h Experimental Unicode font encodings
)
LaTeX Font Info:    Try loading font information for EU2+lmr on input line 105.

(/usr/local/texlive/2015/texmf-dist/tex/latex/euenc/eu2lmr.fd
File: eu2lmr.fd 2009/10/30 v1.6 Font defs for Latin Modern
)
luaotfload | db : Font names database loaded from /home/scott/.texlive2015/texmf
-var/luatex-cache/generic/names/luaotfload-names.luc(load luc: /usr/local/texliv
e/2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman10-regular.luc)(save: /ho
me/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman10-regular
.lua)(save: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/lm
roman10-regular.luc))
(/usr/local/texlive/2015/texmf-dist/tex/xelatex/xunicode/xunicode.sty
File: xunicode.sty 2011/09/09 v0.981 provides access to latin accents and many o
ther characters in Unicode lower plane

(/usr/local/texlive/2015/texmf-dist/tex/latex/tipa/t3enc.def
File: t3enc.def 2001/12/31 T3 encoding
(load luc: /usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/lmro
manslant10-regular.luc)(save: /home/scott/.texlive2015/texmf-var/luatex-cache/ge
neric/fonts/otf/lmromanslant10-regular.lua)(save: /home/scott/.texlive2015/texmf
-var/luatex-cache/generic/fonts/otf/lmromanslant10-regular.luc)(load luc: /usr/l
ocal/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman10-italic.luc)
(save: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman
10-italic.lua)(save: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fon
ts/otf/lmroman10-italic.luc)(load luc: /usr/local/texlive/2015/texmf-var/luatex-
cache/generic/fonts/otf/lmroman10-bold.luc)(save: /home/scott/.texlive2015/texmf
-var/luatex-cache/generic/fonts/otf/lmroman10-bold.lua)(save: /home/scott/.texli
ve2015/texmf-var/luatex-cache/generic/fonts/otf/lmroman10-bold.luc)
LaTeX Font Info:    Try loading font information for EU2+lmss on input line 357.


(/usr/local/texlive/2015/texmf-dist/tex/latex/euenc/eu2lmss.fd
File: eu2lmss.fd 2009/10/30 v1.6 Font defs for Latin Modern
)(load luc: /usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/lms
ans10-regular.luc)(save: /home/scott/.texlive2015/texmf-var/luatex-cache/generic
/fonts/otf/lmsans10-regular.lua)(save: /home/scott/.texlive2015/texmf-var/luatex
-cache/generic/fonts/otf/lmsans10-regular.luc))
\tipaTiiicode=\count118
\tipasavetokens=\toks14
\tipachecktokens=\toks15

(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/graphicx.sty
Package: graphicx 2014/10/28 v1.0g Enhanced LaTeX Graphics (DPC,SPQR)

(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/keyval.sty
Package: keyval 2014/10/28 v1.15 key=value parser (DPC)
\KV at toks@=\toks16
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/graphics.sty
Package: graphics 2014/10/28 v1.0p Standard LaTeX Graphics (DPC,SPQR)

(/usr/local/texlive/2015/texmf-dist/tex/latex/graphics/trig.sty
Package: trig 1999/03/16 v1.09 sin cos tan (DPC)
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/latexconfig/graphics.cfg
File: graphics.cfg 2010/04/23 v1.9 graphics configuration of TeX Live
)
Package graphics Info: Driver file: pdftex.def on input line 94.

(/usr/local/texlive/2015/texmf-dist/tex/latex/pdftex-def/pdftex.def
File: pdftex.def 2011/05/27 v0.06d Graphics/color for pdfTeX

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/infwarerr.sty
Package: infwarerr 2010/04/08 v1.3 Providing info/warning/error messages (HO)
)
(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/ltxcmds.sty
Package: ltxcmds 2011/11/09 v1.22 LaTeX kernel commands for general use (HO)
)
\Gread at gobject=\count119
))
\Gin at req@height=\dimen137
\Gin at req@width=\dimen138
))
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \__fontspec_post_arg:w with sig. 'mmO{}' on line 45.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \fontspec with sig. 'om' on line 47.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmainfont with sig. 'om' on line 57.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setsansfont with sig. 'om' on line 67.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmonofont with sig. 'om' on line 77.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmathrm with sig. 'om' on line 91.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setboldmathrm with sig. 'om' on line 99.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmathsf with sig. 'om' on line 107.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \setmathtt with sig. 'om' on line 115.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontfamily with sig. 'mom' on line 129.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontface with sig. 'mom' on line 144.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \defaultfontfeatures with sig. 't+om' on line 158.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \addfontfeatures with sig. 'm' on line 214.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontfeature with sig. 'mm' on line 225.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newAATfeature with sig. 'mmmm' on line 233.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newopentypefeature with sig. 'mmm' on line 241.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \aliasfontfeature with sig. 'mm' on line 262.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \aliasfontfeatureoption with sig. 'mmm' on line 271.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontscript with sig. 'mm' on line 276.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \newfontlanguage with sig. 'mm' on line 302.
.................................................
.................................................
. LaTeX info: "xparse/define-command"
. 
. Defining command \DeclareFontsExtensions with sig. 'm' on line 322.
.................................................
\l__fontspec_tmp_int=\count120
LaTeX Info: Redefining \itshape on input line 2151.
LaTeX Info: Redefining \slshape on input line 2156.
LaTeX Info: Redefining \scshape on input line 2161.
LaTeX Info: Redefining \upshape on input line 2166.

(/usr/local/texlive/2015/texmf-dist/tex/latex/fontspec/fontspec.cfg)))
\g__file_internal_ior=\read1
luaotfload | cache : Lookup cache loaded from /home/scott/.texlive2015/texmf-var
/luatex-cache/generic/names/luaotfload-lookup-cache.luc.
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"(load luc: /usr/loc
al/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/freesans.luc)(save: /ho
me/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/freesans.lua)(sav
e: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/freesans.lu
c)
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
\g__fontspec_family_FreeSans_int=\count121
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"(load lu
c: /usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/freesansbold
oblique.luc)(save: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts
/otf/freesansboldoblique.lua)(save: /home/scott/.texlive2015/texmf-var/luatex-ca
che/generic/fonts/otf/freesansboldoblique.luc)
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"(load luc: /usr
/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/freesansbold.luc)(s
ave: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/freesansb
old.lua)(save: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf
/freesansbold.luc)
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"(load luc: /
usr/local/texlive/2015/texmf-var/luatex-cache/generic/fonts/otf/freesansoblique.
luc)(save: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/fonts/otf/fre
esansoblique.lua)(save: /home/scott/.texlive2015/texmf-var/luatex-cache/generic/
fonts/otf/freesansoblique.luc)
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | aux : font no 24 (FreeSansOblique) does not define feature smcp for
 script latn with language dflt
luaotfload | aux : no font with id 24
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | aux : font no 22 (FreeSansBoldOblique) does not define feature smcp
 for script latn with language dflt
luaotfload | aux : no font with id 22
.................................................
. fontspec info: "defining-font"
. 
. Font family 'FreeSans(0)' created for font 'FreeSans' with options
. [Ligatures=TeX,Ligatures=TeX].
. 
. This font family consists of the following shapes:
. 
. * 'normal' with NFSS spec.:
. <->"FreeSans:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'small caps' with NFSS spec.:
. 
. <->"FreeSans:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;+smcp
;"
. and font adjustment code:
. 
. 
. * 'bold' with NFSS spec.:
. 
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'bold small caps' with NFSS spec.:
. 
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;+sm
cp;"
. and font adjustment code:
. 
. 
. * 'italic' with NFSS spec.:
. 
. <->"FreeSans/I:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'small caps' with NFSS spec.:
. 
. and font adjustment code:
. 
. 
. * 'bold italic' with NFSS spec.:
. 
. <->"FreeSans/BI:mode=node;script=latn;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'bold small caps' with NFSS spec.:
. 
. and font adjustment code:
. 
.................................................
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | aux : font no 24 (FreeSansOblique) does not define feature smcp for
 script latn with language dflt
luaotfload | aux : no font with id 24
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | aux : font no 22 (FreeSansBoldOblique) does not define feature smcp
 for script latn with language dflt
luaotfload | aux : no font with id 22
.................................................
. fontspec info: "defining-font"
. 
. Font family 'FreeSans(1)' created for font 'FreeSans' with options
. [WordSpace={1,0,0},PunctuationSpace=WordSpace].
. 
. This font family consists of the following shapes:
. 
. * 'normal' with NFSS spec.:
. <->"FreeSans:mode=node;script=latn;language=DFLT;"
. 
. * 'small caps' with NFSS spec.:
. <->"FreeSans:mode=node;script=latn;language=DFLT;+smcp;"
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
. 
. * 'bold' with NFSS spec.:
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;"
. 
. * 'bold small caps' with NFSS spec.:
. <->"FreeSans/B:mode=node;script=latn;language=DFLT;+smcp;"
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
. 
. * 'italic' with NFSS spec.:
. <->"FreeSans/I:mode=node;script=latn;language=DFLT;"
. 
. * 'small caps' with NFSS spec.:
. 
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
. 
. * 'bold italic' with NFSS spec.:
. <->"FreeSans/BI:mode=node;script=latn;language=DFLT;"
. 
. * 'bold small caps' with NFSS spec.:
. 
. and font adjustment code:
. \fontdimen 2\font =1\fontdimen 2\font \fontdimen 3\font =0\fontdimen 3\font
. \fontdimen 4\font =0\fontdimen 4\font \fontdimen 7\font =0\fontdimen 2\font 
.................................................

(/usr/local/texlive/2015/texmf-dist/tex/latex/polyglossia/polyglossia.sty
Package: polyglossia 2015/08/06 v1.42.0 Alternative to Babel for XeLaTeX and Lua
LaTeX

(/usr/local/texlive/2015/texmf-dist/tex/latex/etoolbox/etoolbox.sty
Package: etoolbox 2015/08/02 v2.2a e-TeX tools for LaTeX (JAW)
\etb at tempcnta=\count122
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/makecmds/makecmds.sty
Package: makecmds 2009/09/03 v1.0a extra command making commands
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/xkeyval/xkeyval.sty
Package: xkeyval 2014/12/03 v2.7a package option processing (HA)

(/usr/local/texlive/2015/texmf-dist/tex/generic/xkeyval/xkeyval.tex
(/usr/local/texlive/2015/texmf-dist/tex/generic/xkeyval/xkvutils.tex
\XKV at toks=\toks17
\XKV at tempa@toks=\toks18
)
\XKV at depth=\count123
File: xkeyval.tex 2014/12/03 v2.7a key=value parser (HA)
))
(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/ifluatex.sty
Package: ifluatex 2010/03/01 v1.3 Provides the ifluatex switch (HO)
Package ifluatex Info: LuaTeX detected.
)
(/usr/local/texlive/2015/texmf-dist/tex/generic/ifxetex/ifxetex.sty
Package: ifxetex 2010/09/12 v0.6 Provides ifxetex conditional
)
(/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase.sty
Package: luatexbase 2015/10/04 v1.3 luatexbase interface to LuaTeX 

(/usr/local/texlive/2015/texmf-dist/tex/luatex/ctablestack/ctablestack.sty
Package: ctablestack 2015/10/01 v1.0 Catcode table stable support
\@catcodetablestackcnt=\count124
)
\CatcodeTableOther=\catcodetable6
\CatcodeTableExpl=\catcodetable7
)
luatex-hyphen: using data file: /usr/local/texlive/2015/texmf-var/tex/generic/co
nfig/language.dat.lua
Lua module: polyglossia 2013/05/11 1.3 Polyglossia)
(/usr/local/texlive/2015/texmf-dist/tex/latex/polyglossia/gloss-hebrew.ldf
File: gloss-hebrew.ldf polyglossia: module for hebrew


Package polyglossia Warning: Hebrew is not supported with LuaTeX.
(polyglossia)                I will proceed with the compilation, but
(polyglossia)                the output is not guaranteed to be correct
(polyglossia)                and may look very wrong. on input line 6.

(/usr/local/texlive/2015/texmf-dist/tex/lualatex/luabidi/luabidi.sty
Package: luabidi 2013/05/27 v0.2 Bidirectional typesetting in LuaTeX
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/polyglossia/hebrewcal.sty
Package: hebrewcal 2015/04/17 v2.6 Hebrew calendar for polyglossia (adapted from
 hebcal.sty in Babel)

(/usr/local/texlive/2015/texmf-dist/tex/latex/polyglossia/cal-util.def
\c at tmpA=\count125
\c at tmpB=\count126
\c at tmpC=\count127
\c at tmpD=\count128
\c at tmpE=\count129
\c at tmpF=\count130
)
\hebrewday=\count131
\hebrewmonth=\count132
\hebrewyear=\count133
\@common=\count134
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/polyglossia/babel-hebrewalph.def
File: babel-hebrewalph.def 2010/03/02 Babel definitions for Hebrew numerals
 Adapted from hebrew.ldf (2005/03/30 v2.3h)
))
Package polyglossia Info: Default language is hebrew.
(/usr/local/texlive/2015/texmf-dist/tex/latex/polyglossia/gloss-english.ldf
File: gloss-english.ldf polyglossia: module for english
)

LaTeX Warning: Unused global option(s):
    [english,hebrew].

No file mwe.aux.

\openout1 = mwe.aux
LaTeX Font Info:    Checking defaults for OML/cmm/m/it on input line 10.
LaTeX Font Info:    ... okay on input line 10.
LaTeX Font Info:    Checking defaults for T1/cmr/m/n on input line 10.
LaTeX Font Info:    ... okay on input line 10.
LaTeX Font Info:    Checking defaults for OT1/cmr/m/n on input line 10.
LaTeX Font Info:    ... okay on input line 10.
LaTeX Font Info:    Checking defaults for OMS/cmsy/m/n on input line 10.
LaTeX Font Info:    ... okay on input line 10.
LaTeX Font Info:    Checking defaults for OMX/cmex/m/n on input line 10.
LaTeX Font Info:    ... okay on input line 10.
LaTeX Font Info:    Checking defaults for U/cmr/m/n on input line 10.
LaTeX Font Info:    ... okay on input line 10.
LaTeX Font Info:    Checking defaults for EU2/lmr/m/n on input line 10.
LaTeX Font Info:    ... okay on input line 10.
LaTeX Font Info:    Checking defaults for T3/cmr/m/n on input line 10.
LaTeX Font Info:    Try loading font information for T3+cmr on input line 10.
(/usr/local/texlive/2015/texmf-dist/tex/latex/tipa/t3cmr.fd
File: t3cmr.fd 2001/12/31 TIPA font definitions
)
LaTeX Font Info:    ... okay on input line 10.

(/usr/local/texlive/2015/texmf-dist/tex/context/base/supp-pdf.mkii
[Loading MPS to PDF converter (version 2006.09.02).]
\scratchcounter=\count135
\scratchdimen=\dimen139
\scratchbox=\box41
\nofMPsegments=\count136
\nofMParguments=\count137
\everyMPshowfont=\toks19
\MPscratchCnt=\count138
\MPscratchDim=\dimen140
\MPnumerator=\count139
\makeMPintoPDFobject=\count140
\everyMPtoPDFconversion=\toks20
) (/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/pdftexcmds.sty
Package: pdftexcmds 2011/11/29 v0.20 Utility functions of pdfTeX for LuaTeX (HO)


(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/ifpdf.sty
Package: ifpdf 2011/01/30 v2.3 Provides the ifpdf switch (HO)
Package ifpdf Info: pdfTeX in PDF mode is detected.
)
Package pdftexcmds Info: \pdf at primitive is available.
Package pdftexcmds Info: \pdf at ifprimitive is available.
Package pdftexcmds Info: \pdfdraftmode found.

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/luatex-loader.sty
Package: luatex-loader 2010/03/09 v0.4 Lua module loader (HO)

(/usr/local/texlive/2015/texmf-dist/scripts/oberdiek/oberdiek.luatex.lua))
\pdftexcmds at toks=\toks21
)
(/usr/local/texlive/2015/texmf-dist/tex/latex/oberdiek/epstopdf-base.sty
Package: epstopdf-base 2010/02/09 v2.5 Base part for package epstopdf

(/usr/local/texlive/2015/texmf-dist/tex/latex/oberdiek/grfext.sty
Package: grfext 2010/08/19 v1.1 Manage graphics extensions (HO)

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/kvdefinekeys.sty
Package: kvdefinekeys 2011/04/07 v1.3 Define keys (HO)
))
(/usr/local/texlive/2015/texmf-dist/tex/latex/oberdiek/kvoptions.sty
Package: kvoptions 2011/06/30 v3.11 Key value format for package options (HO)

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/kvsetkeys.sty
Package: kvsetkeys 2012/04/25 v1.16 Key value parser (HO)

(/usr/local/texlive/2015/texmf-dist/tex/generic/oberdiek/etexcmds.sty
Package: etexcmds 2011/02/16 v1.5 Avoid name clashes with e-TeX commands (HO)
)))
Package grfext Info: Graphics extension search list:
(grfext)             [.png,.pdf,.jpg,.mps,.tif,.jpeg,.PNG,.PDF,.JPG,.JPEG,.eps]
(grfext)             \AppendGraphicsExtensions on input line 452.

(/usr/local/texlive/2015/texmf-dist/tex/latex/latexconfig/epstopdf-sys.cfg
File: epstopdf-sys.cfg 2010/07/13 v1.3 Configuration of (r)epstopdf for TeX Live

))
.................................................
. fontspec info: "setup-math"
. 
. Adjusting the maths setup (use [no-math] to avoid this).
.................................................
\symlegacymaths=\mathgroup4
LaTeX Font Info:    Overwriting symbol font `legacymaths' in version `bold'
(Font)                  OT1/cmr/m/n --> OT1/cmr/bx/n on input line 10.
LaTeX Font Info:    Redeclaring math accent \acute on input line 10.
LaTeX Font Info:    Redeclaring math accent \grave on input line 10.
LaTeX Font Info:    Redeclaring math accent \ddot on input line 10.
LaTeX Font Info:    Redeclaring math accent \tilde on input line 10.
LaTeX Font Info:    Redeclaring math accent \bar on input line 10.
LaTeX Font Info:    Redeclaring math accent \breve on input line 10.
LaTeX Font Info:    Redeclaring math accent \check on input line 10.
LaTeX Font Info:    Redeclaring math accent \hat on input line 10.
LaTeX Font Info:    Redeclaring math accent \dot on input line 10.
LaTeX Font Info:    Redeclaring math accent \mathring on input line 10.
LaTeX Font Info:    Redeclaring math symbol \colon on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Gamma on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Delta on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Theta on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Lambda on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Xi on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Pi on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Sigma on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Upsilon on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Phi on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Psi on input line 10.
LaTeX Font Info:    Redeclaring math symbol \Omega on input line 10.
LaTeX Font Info:    Redeclaring math symbol \mathdollar on input line 10.
LaTeX Font Info:    Redeclaring symbol font `operators' on input line 10.
LaTeX Font Info:    Encoding `OT1' has changed to `EU2' for symbol font
(Font)              `operators' in the math version `normal' on input line 10.
LaTeX Font Info:    Overwriting symbol font `operators' in version `normal'
(Font)                  OT1/cmr/m/n --> EU2/FreeSans(0)/m/n on input line 10.
LaTeX Font Info:    Encoding `OT1' has changed to `EU2' for symbol font
(Font)              `operators' in the math version `bold' on input line 10.
LaTeX Font Info:    Overwriting symbol font `operators' in version `bold'
(Font)                  OT1/cmr/bx/n --> EU2/FreeSans(0)/m/n on input line 10.
LaTeX Font Info:    Overwriting symbol font `operators' in version `normal'
(Font)                  EU2/FreeSans(0)/m/n --> EU2/FreeSans(0)/m/n on input lin
e 10.
LaTeX Font Info:    Overwriting math alphabet `\mathit' in version `normal'
(Font)                  OT1/cmr/m/it --> EU2/FreeSans(0)/m/it on input line 10.
LaTeX Font Info:    Overwriting math alphabet `\mathbf' in version `normal'
(Font)                  OT1/cmr/bx/n --> EU2/FreeSans(0)/bx/n on input line 10.
LaTeX Font Info:    Overwriting math alphabet `\mathsf' in version `normal'
(Font)                  OT1/cmss/m/n --> EU2/FreeSans(0)/m/n on input line 10.
LaTeX Font Info:    Overwriting math alphabet `\mathtt' in version `normal'
(Font)                  OT1/cmtt/m/n --> EU2/FreeSans(1)/m/n on input line 10.
LaTeX Font Info:    Overwriting symbol font `operators' in version `bold'
(Font)                  EU2/FreeSans(0)/m/n --> EU2/FreeSans(0)/bx/n on input li
ne 10.
LaTeX Font Info:    Overwriting math alphabet `\mathit' in version `bold'
(Font)                  OT1/cmr/bx/it --> EU2/FreeSans(0)/bx/it on input line 10
.
LaTeX Font Info:    Overwriting math alphabet `\mathsf' in version `bold'
(Font)                  OT1/cmss/bx/n --> EU2/FreeSans(0)/bx/n on input line 10.

LaTeX Font Info:    Overwriting math alphabet `\mathtt' in version `bold'
(Font)                  OT1/cmtt/m/n --> EU2/FreeSans(1)/bx/n on input line 10.
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
luaotfload | aux : font no 21 (FreeSans) does not define feature smcp for script
 hebr with language dflt
luaotfload | aux : no font with id 21
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBold.ttf"
luaotfload | aux : font no 23 (FreeSansBold) does not define feature smcp for sc
ript hebr with language dflt
luaotfload | aux : no font with id 23
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansOblique.ttf"
luaotfload | aux : font no 24 (FreeSansOblique) does not define feature smcp for
 script hebr with language dflt
luaotfload | aux : no font with id 24
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSansBoldOblique.ttf"
luaotfload | aux : font no 22 (FreeSansBoldOblique) does not define feature smcp
 for script hebr with language dflt
luaotfload | aux : no font with id 22
.................................................
. fontspec info: "defining-font"
. 
. Font family 'FreeSans(2)' created for font 'FreeSans' with options
. [Ligatures=TeX,Ligatures=TeX,Script=Hebrew].
. 
. This font family consists of the following shapes:
. 
. * 'normal' with NFSS spec.:
. <->"FreeSans:mode=node;script=hebr;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'small caps' with NFSS spec.:
. 
. and font adjustment code:
. 
. 
. * 'bold' with NFSS spec.:
. 
. <->"FreeSans/B:mode=node;script=hebr;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'bold small caps' with NFSS spec.:
. 
. and font adjustment code:
. 
. 
. * 'italic' with NFSS spec.:
. 
. <->"FreeSans/I:mode=node;script=hebr;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'small caps' with NFSS spec.:
. 
. and font adjustment code:
. 
. 
. * 'bold italic' with NFSS spec.:
. 
. <->"FreeSans/BI:mode=node;script=hebr;language=DFLT;+tlig;+trep;+tlig;+trep;"
. 
. * 'bold small caps' with NFSS spec.:
. 
. and font adjustment code:
. 
.................................................
luaotfload | load : Lookup/name: "FreeSans" -> "FreeSans.ttf"
! Undefined control sequence.
\setRL ->\@RTLtrue \luatexpardir 
                                 TRT \luatextextdir TRT
l.10 \begin{document}
                   
? X


Here is how much of LuaTeX's memory you used:
 16347 strings out of 494897
 125171,383344 words of node,token memory allocated 260 words of node memory still in use:
   2 hlist, 1 rule, 1 attribute, 41 glue_spec, 1 attribute_list, 1 write, 1 dir 
nodes
   avail lists: 2:12,3:3,4:5,6:2,7:1,9:2
 19564 multiletter control sequences out of 65536+600000
 27 fonts using 6328199 bytes
 48i,0n,66p,820b,222s stack positions out of 5000i,500n,10000p,200000b,100000s
No pages of output.

PDF statistics: 0 PDF objects out of 1000 (max. 8388607)
 0 named destinations out of 1000 (max. 131072)
 1 words of extra memory for PDF output out of 10000 (max. 10000000)

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20160107/46ee7d0e/attachment-0001.bin>

From luigi.scarso at gmail.com  Thu Jan  7 17:53:39 2016
From: luigi.scarso at gmail.com (luigi scarso)
Date: Thu, 7 Jan 2016 17:53:39 +0100
Subject: [luatex] Hebrew example that used to work and now fails
In-Reply-To: <20160107164508.GA1642@cotopaxi>
References: <20160102114453.GA4118@cotopaxi>
 <CAG5iGsBgLqMuRZWoPVQZ-9+KwS1bb2ZfqMy3_pbM_Etavv595Q@mail.gmail.com>
 <20160107135922.GA9087@cotopaxi>
 <CAEW6iOgTSBR1LyNS3GAiCTDAXfkNv1PUaRptAczBQvmFo=HLDw@mail.gmail.com>
 <20160107164508.GA1642@cotopaxi>
Message-ID: <CAG5iGsB8fTyW8oXHa=z=tQVh6W_8G_7EB8DgD=vYjipYQ=Ny3A@mail.gmail.com>

On Thu, Jan 7, 2016 at 5:45 PM, Scott Kostyshak <skostysh at lyx.org> wrote:

> On Thu, Jan 07, 2016 at 02:28:57PM +0000, David Carlisle wrote:
> > You mostly have an October 2015 (current) setup but your luatexbase is
> out
> > of date (hence the error about \newattribute)
> >
> > You show
> >
> > (/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase.sty
> > Package: luatexbase 2013/05/11 v0.6 Resource management for the LuaTeX
> > macro programmer
> >
> >
> > I get
> >
> > (/usr/local/texlive/2015/texmf-dist/tex/luatex/luatexbase/luatexbase.sty
> > Package: luatexbase 2015/10/04 v1.3 luatexbase interface to LuaTeX
>
> Thanks for catching that David. I was experimenting with reverting
> packages to figure out which update triggered the change in behavior and
> I sloppily forgot to reupdate. Attached is my log after updating. The
> error I get is:
>
> ! Undefined control sequence.
> \setRL ->\@RTLtrue \luatexpardir
>                                  TRT \luatextextdir TRT
> l.10 \begin{document}
>
> Do you get the same error, David?
>
> Scott
>
>



\setupdirections   [bidi=global]
\definefontfeature [hebrew] [default] [lang=heb,ccmp=yes,script=hebr]
%% \definefont [Hebrew] [file:SILEOT.ttf]
\definefont [Hebrew] [file:FreeSans.otf]

\starttext
  \startTEXpage
     {\hfill{\Hebrew ?????}}
  \stopTEXpage
\stoptext


looks ok in ConTeXt mkiv



-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160107/382bc002/attachment.html>

From d.p.carlisle at gmail.com  Thu Jan  7 18:03:39 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 7 Jan 2016 17:03:39 +0000
Subject: [luatex] Hebrew example that used to work and now fails
In-Reply-To: <CAG5iGsB8fTyW8oXHa=z=tQVh6W_8G_7EB8DgD=vYjipYQ=Ny3A@mail.gmail.com>
References: <20160102114453.GA4118@cotopaxi>
 <CAG5iGsBgLqMuRZWoPVQZ-9+KwS1bb2ZfqMy3_pbM_Etavv595Q@mail.gmail.com>
 <20160107135922.GA9087@cotopaxi>
 <CAEW6iOgTSBR1LyNS3GAiCTDAXfkNv1PUaRptAczBQvmFo=HLDw@mail.gmail.com>
 <20160107164508.GA1642@cotopaxi>
 <CAG5iGsB8fTyW8oXHa=z=tQVh6W_8G_7EB8DgD=vYjipYQ=Ny3A@mail.gmail.com>
Message-ID: <CAEW6iOgdyv=uJht3h8M9sL42aPuWtUnYSyMtgu4jebXbeWO2gA@mail.gmail.com>

> Do you get the same error, David?

Yes see ltnews.pdf :-)

as from the October release lualatex has stopped prefixing command names
with "luatex" so uses the same names as plain and context until the package
is updated you can simply alias the old name, I had the following in the
test file. lines 1 and 2 are needed for the 2015/10/01 release, actually
I'm using luatex 0.87 and latex 2016/01/01 and further adjustments are
needed for that (you can find luatex85.sty on github, but it's unstable and
not needed unless you have luatex 0.87 builds which are not aimed at
general use until texlive 2016 later in the year)


\RequirePackage{luatex85}
\let\luatexpardir\pardir
\let\luatextextdir\textdir
\documentclass[english,hebrew]{article}
\usepackage{fontspec}
\setmainfont[Ligatures=TeX]{FreeSans}
\setsansfont[Ligatures=TeX]{FreeSans}
\setmonofont{FreeSans}

\usepackage{polyglossia}
\setdefaultlanguage{hebrew}
\setotherlanguage{english}
\begin{document}

?????

\end{document}
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160107/fdd6f8be/attachment.html>

From skostysh at lyx.org  Thu Jan  7 18:56:15 2016
From: skostysh at lyx.org (Scott Kostyshak)
Date: Thu, 7 Jan 2016 12:56:15 -0500
Subject: [luatex] Hebrew example that used to work and now fails
In-Reply-To: <CAEW6iOgdyv=uJht3h8M9sL42aPuWtUnYSyMtgu4jebXbeWO2gA@mail.gmail.com>
References: <20160102114453.GA4118@cotopaxi>
 <CAG5iGsBgLqMuRZWoPVQZ-9+KwS1bb2ZfqMy3_pbM_Etavv595Q@mail.gmail.com>
 <20160107135922.GA9087@cotopaxi>
 <CAEW6iOgTSBR1LyNS3GAiCTDAXfkNv1PUaRptAczBQvmFo=HLDw@mail.gmail.com>
 <20160107164508.GA1642@cotopaxi>
 <CAG5iGsB8fTyW8oXHa=z=tQVh6W_8G_7EB8DgD=vYjipYQ=Ny3A@mail.gmail.com>
 <CAEW6iOgdyv=uJht3h8M9sL42aPuWtUnYSyMtgu4jebXbeWO2gA@mail.gmail.com>
Message-ID: <20160107175615.GA15950@cotopaxi>

On Thu, Jan 07, 2016 at 05:03:39PM +0000, David Carlisle wrote:
> > Do you get the same error, David?
> 
> Yes see ltnews.pdf :-)
> 
> as from the October release lualatex has stopped prefixing command names
> with "luatex" so uses the same names as plain and context until the package
> is updated you can simply alias the old name, I had the following in the
> test file. lines 1 and 2 are needed for the 2015/10/01 release, actually
> I'm using luatex 0.87 and latex 2016/01/01 and further adjustments are
> needed for that (you can find luatex85.sty on github, but it's unstable and
> not needed unless you have luatex 0.87 builds which are not aimed at
> general use until texlive 2016 later in the year)

I see. Thanks for the explanation and the workaround, David.

Scott
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 473 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20160107/3657dd35/attachment-0001.bin>

From reinhard.kotucha at web.de  Sat Jan  9 01:34:57 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 9 Jan 2016 01:34:57 +0100
Subject: [luatex] luaotfload in format file
Message-ID: <22160.21937.419690.300753@zaphod.ms25.net>

Hi,
when I run

  lualatex '\RequirePackage{luaotfload}\stop'

luaotfload is loaded without errors.

For a particular project I have to load luaotfload when the format
file is created.  This worked fine in the past.

Now I'm trying to make it work with TL2015.  I've updated the LaTeX
stuff in my .ini file but now I encounter a problem with luaotfload.

Here is a minimal example:

-------------- next part --------------
A non-text attachment was scrubbed...
Name: test-luaotfload.tar.xz
Type: application/octet-stream
Size: 1036 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20160109/7ee41d30/attachment.obj>
-------------- next part --------------

What am I doing wrong?

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From d.p.carlisle at gmail.com  Sat Jan  9 12:06:16 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sat, 9 Jan 2016 11:06:16 +0000
Subject: [luatex] luaotfload in format file
In-Reply-To: <22160.21937.419690.300753@zaphod.ms25.net>
References: <22160.21937.419690.300753@zaphod.ms25.net>
Message-ID: <CAEW6iOj9NidZrc3xguHFSqRntyzoztEBhEkMxs3ouQDd8-xr7A@mail.gmail.com>

On 9 January 2016 at 00:34, Reinhard Kotucha <reinhard.kotucha at web.de>
wrote:

> Hi,
> when I run
>
>   lualatex '\RequirePackage{luaotfload}\stop'
>
> luaotfload is loaded without errors.
>
> For a particular project I have to load luaotfload when the format
> file is created.  This worked fine in the past.
>
> Now I'm trying to make it work with TL2015.  I've updated the LaTeX
> stuff in my .ini file but now I encounter a problem with luaotfload.
>
> Here is a minimal example:
>
>
>
> What error do you get, you don't say?

I have updated luatex to luatex0.87 so the ini file as you have doesn't
work at all (\pdfoutput not defined is the first error) but if I input a
compatibility layer to define the \pdfxxx command names then the format
builds from your makefile.   but with the  error

luaotfload-main.lua:66: attempt to index local 'luatexbase' (a
 nil value)
stack traceback:

is that what you see?
I'll investigate that anyway but it would be good if you could confirm that
is what you see

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160109/d353ca04/attachment.html>

From d.p.carlisle at gmail.com  Sat Jan  9 12:18:42 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sat, 9 Jan 2016 11:18:42 +0000
Subject: [luatex] luaotfload in format file
In-Reply-To: <CAEW6iOj9NidZrc3xguHFSqRntyzoztEBhEkMxs3ouQDd8-xr7A@mail.gmail.com>
References: <22160.21937.419690.300753@zaphod.ms25.net>
 <CAEW6iOj9NidZrc3xguHFSqRntyzoztEBhEkMxs3ouQDd8-xr7A@mail.gmail.com>
Message-ID: <CAEW6iOgWr1kev9-p7ipfR6e=mGO_ohR2SP9HAL51A1JtbcDZeQ@mail.gmail.com>

hmm so the latex 2015/10/01 format defines the lua luatexbase table by
default, but the lua code is delayed until \everyjob as it can't be saved
in the format
so you end up loading luatotfload before luatexbase is defined which isn't
good

I think you want to end your ini file with


%\RequirePackage{luatexbase-loader}
 \everyjob\expandafter{\the\everyjob\RequirePackage{luaotfload}}

\DUMP


On 9 January 2016 at 11:06, David Carlisle <d.p.carlisle at gmail.com> wrote:

>
>
> On 9 January 2016 at 00:34, Reinhard Kotucha <reinhard.kotucha at web.de>
> wrote:
>
>> Hi,
>> when I run
>>
>>   lualatex '\RequirePackage{luaotfload}\stop'
>>
>> luaotfload is loaded without errors.
>>
>> For a particular project I have to load luaotfload when the format
>> file is created.  This worked fine in the past.
>>
>> Now I'm trying to make it work with TL2015.  I've updated the LaTeX
>> stuff in my .ini file but now I encounter a problem with luaotfload.
>>
>> Here is a minimal example:
>>
>>
>>
>> What error do you get, you don't say?
>
> I have updated luatex to luatex0.87 so the ini file as you have doesn't
> work at all (\pdfoutput not defined is the first error) but if I input a
> compatibility layer to define the \pdfxxx command names then the format
> builds from your makefile.   but with the  error
>
> luaotfload-main.lua:66: attempt to index local 'luatexbase' (a
>  nil value)
> stack traceback:
>
> is that what you see?
> I'll investigate that anyway but it would be good if you could confirm
> that is what you see
>
> David
>
>


-- 
http://dpcarlisle.blogspot.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160109/43a7679f/attachment.html>

From joseph.wright at morningstar2.co.uk  Sat Jan  9 15:29:39 2016
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Sat, 9 Jan 2016 14:29:39 +0000
Subject: [luatex] luaotfload in format file
In-Reply-To: <22160.21937.419690.300753@zaphod.ms25.net>
References: <22160.21937.419690.300753@zaphod.ms25.net>
Message-ID: <56911953.4040804@morningstar2.co.uk>

On 09/01/2016 00:34, Reinhard Kotucha wrote:
> Hi,
> when I run
> 
>   lualatex '\RequirePackage{luaotfload}\stop'
> 
> luaotfload is loaded without errors.
> 
> For a particular project I have to load luaotfload when the format
> file is created.  This worked fine in the past.
> 
> Now I'm trying to make it work with TL2015.  I've updated the LaTeX
> stuff in my .ini file but now I encounter a problem with luaotfload.
> 
> Here is a minimal example:
> 
> 
> 
> 
> What am I doing wrong?
> 
> Regards,
>   Reinhard
> 

How could this ever work? LuaTeX doesn't dump the Lua part of the set up
into the format.

Joseph

From reinhard.kotucha at web.de  Sun Jan 10 02:11:54 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 10 Jan 2016 02:11:54 +0100
Subject: [luatex] luaotfload in format file
In-Reply-To: <56911953.4040804@morningstar2.co.uk>
References: <22160.21937.419690.300753@zaphod.ms25.net>
 <56911953.4040804@morningstar2.co.uk>
Message-ID: <22161.45018.312829.325294@zaphod.ms25.net>

On 2016-01-09 at 14:29:39 +0000, Joseph Wright wrote:

 > On 09/01/2016 00:34, Reinhard Kotucha wrote:
 > > Hi,
 > > when I run
 > > 
 > >   lualatex '\RequirePackage{luaotfload}\stop'
 > > 
 > > luaotfload is loaded without errors.
 > > 
 > > For a particular project I have to load luaotfload when the format
 > > file is created.  This worked fine in the past.
 > > 
 > > Now I'm trying to make it work with TL2015.  I've updated the LaTeX
 > > stuff in my .ini file but now I encounter a problem with luaotfload.
 > > 
 > > Here is a minimal example:
 > > 
 > > 
 > > 
 > > 
 > > What am I doing wrong?
 > > 
 > > Regards,
 > >   Reinhard
 > > 
 > 
 > How could this ever work? LuaTeX doesn't dump the Lua part of the
 > set up into the format.

This needs some explanation indeed.  I don't need the Lua part in the
format but I need it in order to load fonts when the format file is
created.

What I'm doing is what TeX did from the beginning: Preload font
metrics when the format file is created.  TeX doesn't have to load tfm
files at run-time when their content is in the format file already.
Though you can load additional fonts in plain TeX any time later, it's
neither needed nor desired in my case.

Of course I can't use nfss2 which assumes that fonts can be loaded at
run-time.

Sure, I'm using luatex here in a crazy way.  Maybe it's best to look
at an example file first (created with TL-2014):

  http://ms25.ath.cx/printecg.pdf

Loading otf/ttf fonts at run-time is problematic.  The most
problematic part is the font cache because absolute paths are used.
I'm developing under Linux but end users are using Windows, hence
everything needs to be as portable as possible.

There are a few other things you should know.  We can't ship the
complete TL distribution.  It's too big and installation would take
too much time.  Thus I've written a program from which I can invoke
luatex.  It runs luatex as usual but traces system calls (exec, stat,
open) in order to create a tiny TeX distribution in a separate (TDS
compliant) directory tree on-the-fly.  This tiny TeX distribution is
what we distribute.  It doesn't contain luaotfload and doesn't try to
access the font cache because fonts are preloaded in the format file
already.  Hence the most problematic parts are run on my machine only
and I don't have to worry about Windows.

Like pdftex, luatex has to embed the actual fonts at run-time.
Because luaotfload supports system fonts too, these files are
specified with their absolute paths.  In a former version of my
program I had to patch luaotfload, this made it difficult to
maintain.  Philipp then added a callback which allows me to strip the
path component.  Without a full path the fonts can be found by
kpathsea.  This is quite portable.

Though one might think that the file mentioned above is created by a
usual LaTeX document, it's not the case.  There is no external program
which creates LaTeX code.  The capacitive ECG device (electrodes have
no electrical contact to the skin) sends data via Bluetooth to a
computer.  The program which receives data from the device displays
curves on screen in real-time.  When everything looks good, one can
tell the device to stop data transmission.  Then one can instruct the
computer program to make a printed copy of what it received last.

The program creates two Lua files, ecg-data.lua and ecg-info.lua, adds
the tiny TeX distribution to PATH, and invokes my program (ecgtex).
Both Lua files contain Lua data structures (nested tables).  The first
one contains vectors for plotting and information about scaling, the
second one contains strings for typesetting the (LaTeX) tables.  But
none of them contain TeX control sequences.  Everything else is done
by Lua code.  In order to create the plots, I tested Metapost first but
it was too slow and created too large files.  The solution was to
provide Lua code which creates PDF directly.  Sounds more difficult
than it actually is.

There is a tiny LaTeX master file.  But it more or less
only calls functions defined in Lua.  LaTeX is used though, but LaTeX
code is created by Lua from the content of the Lua files.  There is
nothing which looks like a LaTeX file.

There are a few constraints:

  * Computers are fast nowadays.  But since end users (usually
    physicians and nurses) expect a reaction immediately when they
    press a button, speed still matters.  Windows is much slower than
    Linux, but if the file system is the culprit then it makes a lot
    of sense to put as much as possible into the format file.

  * Though I can create a tiny TeX distribution easily on-the-fly at
    any time, the whole distribution is using an installer from
    Microsoft which doesn't allow to change the directory structure
    easily.  Adding a file requires a lot of manual work.  Whatever I
    can put into the format file in order to reduce the number of
    files needed at run-time is fine.  Admittedly, I still haven't
    groked why Microsoft bothers its users with such a braindead
    installer.

  * Using the font cache at run-time is nearly impossible in my case.
    It has to be created at install time.  The tiny TeX installation I
    provide contains all the fonts my program needs, hence the font
    cache is only used when I create the format file on my machine,
    there is no need to create it on custumer's machines.

    Suppose that the font cache has to be created at run-time.  It's
    disastrous.  The program looks for system fonts.  Some of them are
    broken and creating an entry in the cache can take an indefinite
    amount of time.  There is a black list but there is no way to
    create entries to this black list automatically in advance.  The
    installer will always hang for an indefinite amount of time.
    The only reasonable solution is to avoid the font cache.

Until TL-2014 everything worked fine.  I didn't have to load
luatexbase-loader explicitly.  I doubt that your changes to the format
file break it.  Either luaotfload was changed or my enableprimitives setup
needs some adaptions, or both.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From d.p.carlisle at gmail.com  Sun Jan 10 03:23:49 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Sun, 10 Jan 2016 02:23:49 +0000
Subject: [luatex] luaotfload in format file
In-Reply-To: <22161.45018.312829.325294@zaphod.ms25.net>
References: <22160.21937.419690.300753@zaphod.ms25.net>
 <56911953.4040804@morningstar2.co.uk>
 <22161.45018.312829.325294@zaphod.ms25.net>
Message-ID: <CAEW6iOhOiXnKshpopwNRtjCtWDWwrVati+ASgeYR-Ccw_KBzmQ@mail.gmail.com>

On 10 January 2016 at 01:11, Reinhard Kotucha <reinhard.kotucha at web.de>
wrote:

>
> Until TL-2014 everything worked fine.  I didn't have to load
> luatexbase-loader explicitly.  I doubt that your changes to the format
> file break it.  Either luaotfload was changed or my enableprimitives setup
> needs some adaptions, or both.
>
> Regards,
>   Reinhard
>


Hmmmmm

So I guess the main change is that since October 2015 release the latex
format includes
ltluatex (basically a refactored luatexbase)  however the lua part of that
is loaded at \everyjob
as you can't save lua state in the format.

So what's affected you is that luaotfload detects it's running under latex
so doesn't load
ltluatex (or luatexbase) however at the point you are using it only the tex
side of ltluatex is loaded.

A quick test suggests that this should work (at least the format makes
without error) you'll need to
check whether it works for your use case, ping back if it doesn't...

\input latex.ltx

%\nonstopmode

\directlua{require("ltluatex")}
\RequirePackage{luaotfload}

\DUMP

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160110/234a4463/attachment.html>

From reinhard.kotucha at web.de  Mon Jan 11 19:49:28 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Mon, 11 Jan 2016 19:49:28 +0100
Subject: [luatex] luaotfload in format file
In-Reply-To: <CAEW6iOhOiXnKshpopwNRtjCtWDWwrVati+ASgeYR-Ccw_KBzmQ@mail.gmail.com>
References: <22160.21937.419690.300753@zaphod.ms25.net>
 <56911953.4040804@morningstar2.co.uk>
 <22161.45018.312829.325294@zaphod.ms25.net>
 <CAEW6iOhOiXnKshpopwNRtjCtWDWwrVati+ASgeYR-Ccw_KBzmQ@mail.gmail.com>
Message-ID: <22163.63800.147799.391556@zaphod.ms25.net>

On 2016-01-10 at 02:23:49 +0000, David Carlisle wrote:

 > On 10 January 2016 at 01:11, Reinhard Kotucha <reinhard.kotucha at web.de> wrote:
 > 
 >     Until TL-2014 everything worked fine.? I didn't have to load
 >     luatexbase-loader explicitly.? I doubt that your changes to the
 >     format file break it.? Either luaotfload was changed or my
 >     enableprimitives setup needs some adaptions, or both.
 >    
 >     Regards,
 >     ? Reinhard
 > 
 > Hmmmmm
 > 
 > So I guess the main change is that since October 2015 release the
 > latex format includes ltluatex (basically a refactored luatexbase)
 > however the lua part of that is loaded at \everyjob as you can't
 > save lua state in the format.
 > 
 > So what's affected you is that luaotfload detects it's running
 > under latex so doesn't load ltluatex (or luatexbase) however at the
 > point you are using it only the tex side of ltluatex is loaded.
 > 
 > A quick test suggests that this should work (at least the format
 > makes without error) you'll need to check whether it works for your
 > use case, ping back if it doesn't...
 > 
 > \input latex.ltx
 > 
 > %\nonstopmode
 > 
 > \directlua{require("ltluatex")}
 > \RequirePackage{luaotfload}
 > 
 > \DUMP

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From luigi.scarso at gmail.com  Mon Jan 18 12:29:23 2016
From: luigi.scarso at gmail.com (luigi scarso)
Date: Mon, 18 Jan 2016 12:29:23 +0100
Subject: [luatex] Luatex 0.88.0 announcement
Message-ID: <CAG5iGsAYvaKNNT083rP1B6V_yxHmvjObtegwX7JrK0yMxyaEUQ@mail.gmail.com>

==============================================================
Luatex Release 0.88.0 was released 2016011500
==============================================================

This is a next step upto 0.90 and it has the following changes:

- mostly small bug fixes

- a few setters/getters added to the pdf namespace (were in the tex one
before)

- The current libraries under libs are now:
  * poppler-0.40.0
  * mpfr-3.1.3
  * luajit-2.1.0-beta1
  * gmp-6.1.0
  * zziplib-0.13.62
  * zlib-1.2.8
  * lua52-5.2.4
  * pixman-0.32.8
  * libpng-1.6.21
  * cairo-1.14.6


Have fun,
The luatex team
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160118/80b94800/attachment.html>

From d.p.carlisle at gmail.com  Tue Jan 19 13:18:52 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 19 Jan 2016 12:18:52 +0000
Subject: [luatex] pdfdecimaldigits < 4
Message-ID: <CAEW6iOjGVjqrLFN9+xvg2RYM0Y0asbFyDkOfe1FNuQ2qEp_QCQ@mail.gmail.com>

If pdfdecimal digits is set less than 4 the it appears that you get a
warning

warning  (pdf backend): forcing decimal digits to 4

The manual could mention in the documentation of pdf.setdecimaldigits that
if set low then although
pdf.getdecimaldigits() will return the lower number, the effective value
will be 4 (if that is what happens?)

This came up as texlive 2015 shared pdftex/luatex format ini files set



\pdfdecimaldigits=3

in /usr/local/texlive/2015/texmf-dist/tex/generic/config/pdftexconfig.tex

so having translated that to
\pdfvariable decimaldigits=4

we get a warning in every (plain and latex) document.

So we could change the default to 4 but that would change pdftex as well
(in the currently suggested setup for texlive 2016 which uses a shared
setup)
Or we could separate the setup and use different values for pdftex and
luatex.

So to help decide could you say why the minimum value of 4 was chosen, is
there a problem with 3 that we ought to definitely use 4 also in pdftex?
If not, could luatex allow 3?

Either way could the manual mention that setting the value low gives a
warning.

(Would it be possible for pdf.setdecimaldigits() to refuse to set the lua
value to
a low value, so that pdf.getdecimaldigits() always returns the effective
value that will be used?)


David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160119/95279232/attachment.html>

From igor.liferenko at gmail.com  Tue Jan 19 13:21:36 2016
From: igor.liferenko at gmail.com (Igor Liferenko)
Date: Tue, 19 Jan 2016 19:21:36 +0700
Subject: [luatex] Why LuaTeX forces extension on reading and writing files?
Message-ID: <CAJyx360FZBXhp-auioHrSn-SpyufJPqW_0oVOU7OTdAoe7fNCg@mail.gmail.com>

Hi all,

LuaTeX requires extension in file name to work correctly. Consider these tests:

Test for reading (does not work without extension):

    $ echo a > in

    \newread\infile
    \openin\infile=in
    \ifeof\infile
      \message{I am not able to open the file for reading}
    \fi
    \closein\infile
    \bye

Test for writing (adds .tex extension):

    \nopagenumbers
    \newwrite\outfile
    \immediate\openout\outfile=out
    \immediate\write\outfile{a}
    \immediate\closeout\outfile
    \bye

How LuaTeX justifies this odd behavior? Is this just a bug which has
not been fixed or it is intentional?

Extensionless filename is perfectly legitimate - why force an extension?

Best regards,
Igor

From Herbert.Voss at FU-Berlin.DE  Tue Jan 19 14:47:57 2016
From: Herbert.Voss at FU-Berlin.DE (Herbert Voss)
Date: Tue, 19 Jan 2016 14:47:57 +0100
Subject: [luatex] Why LuaTeX forces extension on reading and writing
 files?
In-Reply-To: <CAJyx360FZBXhp-auioHrSn-SpyufJPqW_0oVOU7OTdAoe7fNCg@mail.gmail.com>
References: <CAJyx360FZBXhp-auioHrSn-SpyufJPqW_0oVOU7OTdAoe7fNCg@mail.gmail.com>
Message-ID: <569E3E8D.8080900@FU-Berlin.DE>

Am 19.01.2016 um 13:21 schrieb Igor Liferenko:

> LuaTeX requires extension in file name to work correctly. Consider these tests:
>
> Test for reading (does not work without extension):
>
>      $ echo a > in
>
>      \newread\infile
>      \openin\infile=in

\openin\infile={in}

works

Herbert


From pragma at wxs.nl  Tue Jan 19 15:25:11 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 19 Jan 2016 15:25:11 +0100
Subject: [luatex] pdfdecimaldigits < 4
In-Reply-To: <CAEW6iOjGVjqrLFN9+xvg2RYM0Y0asbFyDkOfe1FNuQ2qEp_QCQ@mail.gmail.com>
References: <CAEW6iOjGVjqrLFN9+xvg2RYM0Y0asbFyDkOfe1FNuQ2qEp_QCQ@mail.gmail.com>
Message-ID: <569E4747.2070503@wxs.nl>

On 1/19/2016 1:18 PM, David Carlisle wrote:
>
>
> If pdfdecimal digits is set less than 4 the it appears that you get a
> warning
>
> warning  (pdf backend): forcing decimal digits to 4
>
> The manual could mention in the documentation of pdf.setdecimaldigits
> that if set low then although
> pdf.getdecimaldigits() will return the lower number, the effective value
> will be 4 (if that is what happens?)
>
> This came up as texlive 2015 shared pdftex/luatex format ini files set
>
>
>
> \pdfdecimaldigits=3
>
> in /usr/local/texlive/2015/texmf-dist/tex/generic/config/pdftexconfig.tex
>
> so having translated that to
> \pdfvariable decimaldigits=4
>
> we get a warning in every (plain and latex) document.
>
> So we could change the default to 4 but that would change pdftex as well
> (in the currently suggested setup for texlive 2016 which uses a shared
> setup)
> Or we could separate the setup and use different values for pdftex and
> luatex.
>
> So to help decide could you say why the minimum value of 4 was chosen,
> is there a problem with 3 that we ought to definitely use 4 also in pdftex?
> If not, could luatex allow 3?
>
> Either way could the manual mention that setting the value low gives a
> warning.
>
> (Would it be possible for pdf.setdecimaldigits() to refuse to set the
> lua value to
> a low value, so that pdf.getdecimaldigits() always returns the effective
> value that will be used?)

i'll look at it but when we were looking into some off behaviour for 
large values we found that we had to lower the upper bound and that it 
also made sense to enlarge the lower bound (the backend truncates 
trailing zeros so it's quite efficient) ... because the backend does 
lots of transforms 4 digits is already a bit low (context has been using 
6 for ages and this setting was introduced in pdftex when we found out 
that 3 was now okay ... unless of course you want to have worse output 
than possible (tex itself is rather accurate)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
       tel: 038 477 53 69 | www.pragma-ade.com | www.pragma-pod.nl
-----------------------------------------------------------------

From d.p.carlisle at gmail.com  Tue Jan 19 16:10:35 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 19 Jan 2016 15:10:35 +0000
Subject: [luatex] pdfdecimaldigits < 4
In-Reply-To: <569E4747.2070503@wxs.nl>
References: <CAEW6iOjGVjqrLFN9+xvg2RYM0Y0asbFyDkOfe1FNuQ2qEp_QCQ@mail.gmail.com>
 <569E4747.2070503@wxs.nl>
Message-ID: <CAEW6iOjzXdeo2Dt7YZonw_0P6WCYyrwa=LXgY+C1PtEtspsn_g@mail.gmail.com>

Hans wrote
> unless of course you want to have worse output than possible (tex itself
is rather accurate)

Well not really:-)

I was just trying to chase down where the warning was coming from (as it
isn't mentioned in the manual)
and if we're going to ask texlive/miktex to change the default setting for
pdftex whether there is any documentation
of the minimal advisable level, rather than just documenting it as a change
to track changes in luatex.

But in luatex, if there is a minimal value, I think it would be more
natural if pdf.setdecimaldigits(3) warned
(and set to 4) rather than the lua table value being set to 3 with no
warning but then getting a warning from the backend
later (that is, it would seem more natural to me as a user: if that
violates an internal split between backend and main code,
I'll just have to re-align my expectations:-)

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160119/764892a4/attachment.html>

From pragma at wxs.nl  Tue Jan 19 16:22:29 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 19 Jan 2016 16:22:29 +0100
Subject: [luatex] pdfdecimaldigits < 4
In-Reply-To: <CAEW6iOjzXdeo2Dt7YZonw_0P6WCYyrwa=LXgY+C1PtEtspsn_g@mail.gmail.com>
References: <CAEW6iOjGVjqrLFN9+xvg2RYM0Y0asbFyDkOfe1FNuQ2qEp_QCQ@mail.gmail.com>
 <569E4747.2070503@wxs.nl>
 <CAEW6iOjzXdeo2Dt7YZonw_0P6WCYyrwa=LXgY+C1PtEtspsn_g@mail.gmail.com>
Message-ID: <569E54B5.3090205@wxs.nl>

On 1/19/2016 4:10 PM, David Carlisle wrote:
> Hans wrote
>  > unless of course you want to have worse output than possible (tex
> itself is rather accurate)
>
> Well not really:-)
>
> I was just trying to chase down where the warning was coming from (as it
> isn't mentioned in the manual)
> and if we're going to ask texlive/miktex to change the default setting
> for pdftex whether there is any documentation
> of the minimal advisable level, rather than just documenting it as a
> change to track changes in luatex.
>
> But in luatex, if there is a minimal value, I think it would be more
> natural if pdf.setdecimaldigits(3) warned
> (and set to 4) rather than the lua table value being set to 3 with no

in that case we set it to 3 and there is no need for a warning (not our 
responsibility then that users want 3 to start with; less work too)

> warning but then getting a warning from the backend
> later (that is, it would seem more natural to me as a user: if that
> violates an internal split between backend and main code,
> I'll just have to re-align my expectations:-)

ha, you might also need to re-align you expectation that the the luatex 
backend is the same as the pdftex backend which is only partially true 
(we started out with the pdf backend but that's about it)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
       tel: 038 477 53 69 | www.pragma-ade.com | www.pragma-pod.nl
-----------------------------------------------------------------

From d.p.carlisle at gmail.com  Tue Jan 19 16:58:42 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 19 Jan 2016 15:58:42 +0000
Subject: [luatex] pdfdecimaldigits < 4
In-Reply-To: <569E54B5.3090205@wxs.nl>
References: <CAEW6iOjGVjqrLFN9+xvg2RYM0Y0asbFyDkOfe1FNuQ2qEp_QCQ@mail.gmail.com>
 <569E4747.2070503@wxs.nl>
 <CAEW6iOjzXdeo2Dt7YZonw_0P6WCYyrwa=LXgY+C1PtEtspsn_g@mail.gmail.com>
 <569E54B5.3090205@wxs.nl>
Message-ID: <CAEW6iOj_-=Ofv+ObkYqk-B_yb2Q8sr5_hCyBv8rENw7SbatdZQ@mail.gmail.com>

On 19 January 2016 at 15:22, Hans Hagen <pragma at wxs.nl> wrote:

> On 1/19/2016 4:10 PM, David Carlisle wrote:
>
>> Hans wrote
>>  > unless of course you want to have worse output than possible (tex
>> itself is rather accurate)
>>
>> Well not really:-)
>>
>> I was just trying to chase down where the warning was coming from (as it
>> isn't mentioned in the manual)
>> and if we're going to ask texlive/miktex to change the default setting
>> for pdftex whether there is any documentation
>> of the minimal advisable level, rather than just documenting it as a
>> change to track changes in luatex.
>>
>> But in luatex, if there is a minimal value, I think it would be more
>> natural if pdf.setdecimaldigits(3) warned
>> (and set to 4) rather than the lua table value being set to 3 with no
>>
>
> in that case we set it to 3 and there is no need for a warning (not our
> responsibility then that users want 3 to start with; less work too)
>


But luatex 0.88 does give a warning???



$ luatex
This is LuaTeX, Version beta-0.88.0 (TeX Live 2016/dev)
 restricted system commands enabled.
**\directlua{pdf.setdecimaldigits(3)}

*x

*\bye

warning  (pdf backend): forcing decimal digits to 4
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[1{/usr/local/texlive/2015/texmf-var/fonts/map/pdftex/updmap/pdftex.map}]
(see the transcript file for additional
information)<</usr/local/texlive/2015/t
exmf-dist/fonts/type1/public/amsfonts/cm/cmr10.pfb>
Output written on texput.pdf (1 page, 8475 bytes).
Transcript written on texput.log.





>
> warning but then getting a warning from the backend
>> later (that is, it would seem more natural to me as a user: if that
>> violates an internal split between backend and main code,
>> I'll just have to re-align my expectations:-)
>>
>
> ha, you might also need to re-align you expectation that the the luatex
> backend is the same as the pdftex backend which is only partially true (we
> started out with the pdf backend but that's about it)
>
>
>

I think you misunderstood me, sorry I'll try again.

Forgetting all about pdftex,

I meant that my expectation was that if I do

pdf.setdecimaldigits(2)

and get no warning and

pdf.getdecimaldigits()

returns 2 then

2 decimal digits would be used, but actually what happens (as far as I can
see)
is that the backend (later) gives a warning and sets the effective value to
4
even though the lua value stays at 2.


If it isn't safe to set the value below 4 that's fine, I take your word for
it,
but why isn't the warning on the setter?

My reference to the backend was a guess at a possible answer that the
setdecimaldigits
could in theory be used with other backends and 2 might be acceptable so
the warning
belongs in the pdf back end as it is now.

That would also be fine if that's  case.

But since none of this is in the manual at all, I'm having to guess....





> Hans
>

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160119/fe9af937/attachment.html>

From pragma at wxs.nl  Wed Jan 20 10:38:14 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 20 Jan 2016 10:38:14 +0100
Subject: [luatex] pdfdecimaldigits < 4
In-Reply-To: <CAEW6iOj_-=Ofv+ObkYqk-B_yb2Q8sr5_hCyBv8rENw7SbatdZQ@mail.gmail.com>
References: <CAEW6iOjGVjqrLFN9+xvg2RYM0Y0asbFyDkOfe1FNuQ2qEp_QCQ@mail.gmail.com>
 <569E4747.2070503@wxs.nl>
 <CAEW6iOjzXdeo2Dt7YZonw_0P6WCYyrwa=LXgY+C1PtEtspsn_g@mail.gmail.com>
 <569E54B5.3090205@wxs.nl>
 <CAEW6iOj_-=Ofv+ObkYqk-B_yb2Q8sr5_hCyBv8rENw7SbatdZQ@mail.gmail.com>
Message-ID: <569F5586.6070106@wxs.nl>

On 1/19/2016 4:58 PM, David Carlisle wrote:

> But since none of this is in the manual at all, I'm having to guess....

next release:

- no message any more
- any integer accepted
- backend will limit (silently) to 3--6 range

so you can then use a value of 3

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
       tel: 038 477 53 69 | www.pragma-ade.com | www.pragma-pod.nl
-----------------------------------------------------------------

From d.p.carlisle at gmail.com  Wed Jan 20 10:39:36 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Wed, 20 Jan 2016 09:39:36 +0000
Subject: [luatex] pdfdecimaldigits < 4
In-Reply-To: <569F5586.6070106@wxs.nl>
References: <CAEW6iOjGVjqrLFN9+xvg2RYM0Y0asbFyDkOfe1FNuQ2qEp_QCQ@mail.gmail.com>
 <569E4747.2070503@wxs.nl>
 <CAEW6iOjzXdeo2Dt7YZonw_0P6WCYyrwa=LXgY+C1PtEtspsn_g@mail.gmail.com>
 <569E54B5.3090205@wxs.nl>
 <CAEW6iOj_-=Ofv+ObkYqk-B_yb2Q8sr5_hCyBv8rENw7SbatdZQ@mail.gmail.com>
 <569F5586.6070106@wxs.nl>
Message-ID: <CAEW6iOh_tROgu1S3Kuuyg3p=K45uWQO_Qhbe7rM04bvyqx039A@mail.gmail.com>

On 20 January 2016 at 09:38, Hans Hagen <pragma at wxs.nl> wrote:

> On 1/19/2016 4:58 PM, David Carlisle wrote:
>
> But since none of this is in the manual at all, I'm having to guess....
>>
>
> next release:
>
> - no message any more
> - any integer accepted
> - backend will limit (silently) to 3--6 range
>
> so you can then use a value of 3
>
>
> Hans
>


Thanks!

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160120/1a89c2db/attachment-0001.html>

From patrick at gundla.ch  Thu Jan 21 18:08:32 2016
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu, 21 Jan 2016 18:08:32 +0100
Subject: [luatex] Prevent stop when tiff file loads
Message-ID: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>

Hello all,

I am using LuaTeX 0.79.1 and use

    local foo = img.scan({filename = "foo.tiff"})

but this fails with 

!LuaTeX error: internal error: unknown image type (2)
 ==> Fatal error occurred, no output PDF file produced!


Is there a way to prevent LuaTeX from stopping the whole process? Is there a function like 

can_you_handle_this_imagetype(filename="foo.tiff")

?


Patrick




From pragma at wxs.nl  Thu Jan 21 21:46:04 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Thu, 21 Jan 2016 21:46:04 +0100
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
Message-ID: <56A1438C.1080604@wxs.nl>

On 1/21/2016 6:08 PM, Patrick Gundlach wrote:
> Hello all,
>
> I am using LuaTeX 0.79.1 and use
>
>      local foo = img.scan({filename = "foo.tiff"})
>
> but this fails with
>
> !LuaTeX error: internal error: unknown image type (2)
>   ==> Fatal error occurred, no output PDF file produced!
>
>
> Is there a way to prevent LuaTeX from stopping the whole process? Is there a function like
>
> can_you_handle_this_imagetype(filename="foo.tiff")
>
> ?

local imgscan   = img.scan
local supported = { pdf = true, jpg = true, png = true }

function img.scan(t)
     if t and t.filename then
         local e = string.match(t.filename,".-%.(.-)$")
         if supported[e] then
             return imgscan(t)
         end
     end
end

local foo = img.scan({filename = "foo.tiff"})
local foo = img.scan({filename = "foo.pdf"})




-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
       tel: 038 477 53 69 | www.pragma-ade.com | www.pragma-pod.nl
-----------------------------------------------------------------

From patrick at gundla.ch  Thu Jan 21 22:10:59 2016
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu, 21 Jan 2016 22:10:59 +0100
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <56A1438C.1080604@wxs.nl>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl>
Message-ID: <D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>

>> 
>> Is there a way to prevent LuaTeX from stopping the whole process? Is there a function like
>> 
>> can_you_handle_this_imagetype(filename="foo.tiff")
>> 
>> ?
> 
> local imgscan   = img.scan
> local supported = { pdf = true, jpg = true, png = true }
> 
> function img.scan(t)
>    if t and t.filename then
>        local e = string.match(t.filename,".-%.(.-)$")
>        if supported[e] then
>            return imgscan(t)
>        end
>    end
> end
> 
> local foo = img.scan({filename = "foo.tiff"})
> local foo = img.scan({filename = "foo.pdf"})


in my (real) case I don't have a file extension. I need to ask LuaTeX: do you understand that file format? I guess there is no way except for a fatal error, right?

Patrick




From luigi.scarso at gmail.com  Thu Jan 21 22:56:50 2016
From: luigi.scarso at gmail.com (luigi scarso)
Date: Thu, 21 Jan 2016 22:56:50 +0100
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl>	<D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
Message-ID: <CAG5iGsC9iNrRiayiQEws43JWEBdKi_cKuteZpbpYpk6Rev7dMg@mail.gmail.com>

On Thu, Jan 21, 2016 at 10:10 PM, Patrick Gundlach <patrick at gundla.ch>
wrote:

> >>
> >> Is there a way to prevent LuaTeX from stopping the whole process? Is
> there a function like
> >>
> >> can_you_handle_this_imagetype(filename="foo.tiff")
> >>
> >> ?
> >
> > local imgscan   = img.scan
> > local supported = { pdf = true, jpg = true, png = true }
> >
> > function img.scan(t)
> >    if t and t.filename then
> >        local e = string.match(t.filename,".-%.(.-)$")
> >        if supported[e] then
> >            return imgscan(t)
> >        end
> >    end
> > end
> >
> > local foo = img.scan({filename = "foo.tiff"})
> > local foo = img.scan({filename = "foo.pdf"})
>
>
> in my (real) case I don't have a file extension. I need to ask LuaTeX: do
> you understand that file format? I guess there is no way except for a fatal
> error, right?
>
> Patrick
>
>
>
>
Why not mimic the Unix file command in Lua ?

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160121/437c2ef6/attachment-0001.html>

From reinhard.kotucha at web.de  Fri Jan 22 04:45:02 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 22 Jan 2016 04:45:02 +0100
Subject: [luatex] messages from babel
Message-ID: <22177.42430.509169.23352@zaphod.ms25.net>

Hello,

 | $ lualatex \\stop
 | This is LuaTeX, Version beta-0.80.0 (TeX Live 2015) (rev 5238) 
 |  restricted \write18 enabled.
 | LaTeX2e <2015/10/01> patch level 2
 | Babel <3.9n> and hyphenation patterns for 79 languages loaded.

Babel pretends that all these patterns are loaded already but in truth
only those actually needed are loaded at run-time.  Hence the message
is misleading.

I suppose that the number of supported languages is determined when
the format file is built.  If it's possible to detect on which engine
babel is running, maybe the word "loaded" can be replaced with
"available" when appropriate.

LuaTeX allows to preload patterns into the format (remove entries from
language.dat.lua).  But even then "available" is more appropriate than
"loaded".

It's also possible to replace "loaded" with "available" always.  Users
only want know what's available and experts can consult the logfiles
produced by INITEX.  In TeX Live the logs are kept in the same
directory as the respective format files.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From reinhard.kotucha at web.de  Fri Jan 22 04:59:12 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 22 Jan 2016 04:59:12 +0100
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
Message-ID: <22177.43280.927767.917925@zaphod.ms25.net>

On 2016-01-21 at 18:08:32 +0100, Patrick Gundlach wrote:

 > Hello all,
 > 
 > I am using LuaTeX 0.79.1 and use
 > 
 >     local foo = img.scan({filename = "foo.tiff"})
 > 
 > but this fails with 
 > 
 > !LuaTeX error: internal error: unknown image type (2)
 >  ==> Fatal error occurred, no output PDF file produced!
 > 
 > 
 > Is there a way to prevent LuaTeX from stopping the whole process? Is there a function like 
 > 
 > can_you_handle_this_imagetype(filename="foo.tiff")

Luigi suggested to mimic file(1).  Since the number of graphic file
formats supported by pdftex/luatex is quite small I'm wondering
whether img.scan() can't check itself whether the magic number is
appropriate and return false otherwise.

Then one could write

  local foo = img.scan({filename = "foo.tiff"})

  if foo then
    ...
  end

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From phg at phi-gamma.net  Fri Jan 22 07:45:34 2016
From: phg at phi-gamma.net (Philipp Gesang)
Date: Fri, 22 Jan 2016 07:45:34 +0100
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <CAG5iGsC9iNrRiayiQEws43JWEBdKi_cKuteZpbpYpk6Rev7dMg@mail.gmail.com>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl> <D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
 <CAG5iGsC9iNrRiayiQEws43JWEBdKi_cKuteZpbpYpk6Rev7dMg@mail.gmail.com>
Message-ID: <20160122064534.GA1484@phlegethon>

???<date: 2016-01-21, Thursday>???<from: luigi scarso>???

> On Thu, Jan 21, 2016 at 10:10 PM, Patrick Gundlach <patrick at gundla.ch>
> wrote:
> 
> > >> Is there a way to prevent LuaTeX from stopping the whole process? Is
> > there a function like
> >
> Why not mimic the Unix file command in Lua ?

This is less trivial than it?d appear: file(1)?s recognition
magic has been improved and battle-tested over the years. It?ll
be hard to arrive at that level with a custom implementation,
especially from a security standpoint: Scanning a well prepared
user-supplied file can DOS your machine. Why not invoke file (or
perhaps identify(1)) directly?

Philipp

(A Lua implementation of file would be interesting though =))

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 819 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20160122/3ae09744/attachment-0001.bin>

From luigi.scarso at gmail.com  Fri Jan 22 07:54:29 2016
From: luigi.scarso at gmail.com (luigi scarso)
Date: Fri, 22 Jan 2016 07:54:29 +0100
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <20160122064534.GA1484@phlegethon>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl>	<D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
 <CAG5iGsC9iNrRiayiQEws43JWEBdKi_cKuteZpbpYpk6Rev7dMg@mail.gmail.com>
 <20160122064534.GA1484@phlegethon>
Message-ID: <CAG5iGsB+gjQGCQ7EFYXUbHk5Bpbepv2Z6YO-OEr3-oHiMTiugA@mail.gmail.com>

On Fri, Jan 22, 2016 at 7:45 AM, Philipp Gesang <phg at phi-gamma.net> wrote:

> ???<date: 2016-01-21, Thursday>???<from: luigi scarso>???
>
> > On Thu, Jan 21, 2016 at 10:10 PM, Patrick Gundlach <patrick at gundla.ch>
> > wrote:
> >
> > > >> Is there a way to prevent LuaTeX from stopping the whole process? Is
> > > there a function like
> > >
> > Why not mimic the Unix file command in Lua ?
>
> This is less trivial than it?d appear: file(1)?s recognition
> magic has been improved and battle-tested over the years. It?ll
> be hard to arrive at that level with a custom implementation,
> especially from a security standpoint: Scanning a well prepared
> user-supplied file can DOS your machine. Why not invoke file (or
> perhaps identify(1)) directly?
>
> I mean: using the magic fie from file(1)  to build  an lpeg grammar.
 Not all the patters from magic, of course.



-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160122/6710e761/attachment.html>

From Nicolas.Holzschuch at inria.fr  Fri Jan 22 08:08:14 2016
From: Nicolas.Holzschuch at inria.fr (Nicolas Holzschuch)
Date: Fri, 22 Jan 2016 08:08:14 +0100
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <20160122064534.GA1484@phlegethon>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl> <D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
 <CAG5iGsC9iNrRiayiQEws43JWEBdKi_cKuteZpbpYpk6Rev7dMg@mail.gmail.com>
 <20160122064534.GA1484@phlegethon>
Message-ID: <7D14DAF5-58F6-462D-9A69-EEF8F2EC5322@inria.fr>


> On 22 Jan 2016, at 07:45, Philipp Gesang <phg at phi-gamma.net> wrote:
> 
> ???<date: 2016-01-21, Thursday>???<from: luigi scarso>???
> 
>> On Thu, Jan 21, 2016 at 10:10 PM, Patrick Gundlach <patrick at gundla.ch>
>> wrote:
>> 
>>>>> Is there a way to prevent LuaTeX from stopping the whole process? Is
>>> there a function like
>>> 
>> Why not mimic the Unix file command in Lua ?
> 
> This is less trivial than it?d appear: file(1)?s recognition
> magic has been improved and battle-tested over the years. It?ll
> be hard to arrive at that level with a custom implementation,
> especially from a security standpoint: Scanning a well prepared
> user-supplied file can DOS your machine. Why not invoke file (or
> perhaps identify(1)) directly?

In practice, identifying all image files formats (tiff, png, pdf...) *should* work with the first 4 bytes of the file (they were designed this way). 

Sure, a well-prepared user-supplied file could pretend to be a PDF and kill your machine, but to answer the original question it would be enough to:
- scan the first 4 bytes of the file
- compare with a table ("%!PD" -> it must be a PDF, for example, "II42" -> it must be a Tiff, and so on)
- only load the file if it's one of the types that LuaTeX can handle. Anything that is not recognized defaults to "can not handle, don't load (without crashing)".

It's not the full behaviour of file(1), but it's a start. It's how file(1) was started, actually. 

Nicolas



> 
> Philipp
> 
> (A Lua implementation of file would be interesting though =))
> 



From patrick at gundla.ch  Fri Jan 22 10:15:26 2016
From: patrick at gundla.ch (Patrick Gundlach)
Date: Fri, 22 Jan 2016 10:15:26 +0100
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <7D14DAF5-58F6-462D-9A69-EEF8F2EC5322@inria.fr>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl> <D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
 <CAG5iGsC9iNrRiayiQEws43JWEBdKi_cKuteZpbpYpk6Rev7dMg@mail.gmail.com>
 <20160122064534.GA1484@phlegethon>
 <7D14DAF5-58F6-462D-9A69-EEF8F2EC5322@inria.fr>
Message-ID: <037060C0-1F2A-46D0-8474-8769ABEB6D0A@gundla.ch>

Hello

> In practice, identifying all image files formats (tiff, png, pdf...) *should* work with the first 4 bytes of the file (they were designed this way). 

I think I'll go that way, but I still wish (feature request) that LuaTeX does not fail with a fatal error if an unknown file format is encountered, instead it would be nice to have something like "return nil, errormessage".

Thanks

   Patrick




From luigi.scarso at gmail.com  Fri Jan 22 10:51:18 2016
From: luigi.scarso at gmail.com (luigi scarso)
Date: Fri, 22 Jan 2016 10:51:18 +0100
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <037060C0-1F2A-46D0-8474-8769ABEB6D0A@gundla.ch>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl>	<D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
 <CAG5iGsC9iNrRiayiQEws43JWEBdKi_cKuteZpbpYpk6Rev7dMg@mail.gmail.com>
 <20160122064534.GA1484@phlegethon>
 <7D14DAF5-58F6-462D-9A69-EEF8F2EC5322@inria.fr>
 <037060C0-1F2A-46D0-8474-8769ABEB6D0A@gundla.ch>
Message-ID: <CAG5iGsDTxO4nLZvhm6gZccjD8y5QqhTj+FnuSUzys6GcpF=cew@mail.gmail.com>

Il 22/gen/2016 10:16, "Patrick Gundlach" <patrick at gundla.ch> ha scritto:
>
> Hello
>
> > In practice, identifying all image files formats (tiff, png, pdf...)
*should* work with the first 4 bytes of the file (they were designed this
way).
>
> I think I'll go that way, but I still wish (feature request) that LuaTeX
does not fail with a fatal error if an unknown file format is encountered,
instead it would be nice to have something like "return nil, errormessage".
>
> Thanks
>
>    Patrick
>
>
>
Yes, clear.  I will see how pdftex manages these things, could be also a
backward compatibility issue.

--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160122/7ebe385d/attachment.html>

From pragma at wxs.nl  Fri Jan 22 11:18:57 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 22 Jan 2016 11:18:57 +0100
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl> <D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
Message-ID: <56A20211.80003@wxs.nl>

On 1/21/2016 10:10 PM, Patrick Gundlach wrote:
>>>
>>> Is there a way to prevent LuaTeX from stopping the whole process? Is there a function like
>>>
>>> can_you_handle_this_imagetype(filename="foo.tiff")
>>>
>>> ?
>>
>> local imgscan   = img.scan
>> local supported = { pdf = true, jpg = true, png = true }
>>
>> function img.scan(t)
>>     if t and t.filename then
>>         local e = string.match(t.filename,".-%.(.-)$")
>>         if supported[e] then
>>             return imgscan(t)
>>         end
>>     end
>> end
>>
>> local foo = img.scan({filename = "foo.tiff"})
>> local foo = img.scan({filename = "foo.pdf"})
>
>
> in my (real) case I don't have a file extension. I need to ask LuaTeX: do you understand that file format? I guess there is no way except for a fatal error, right?

just open the file look at the magic bytes

local imgscan = img.scan

local valid = {
     ["png"] = string.char(0x89,0x50,0x4E,0x47,0x0D,0x0A,0x1A,0x0A),
     ["jpg"] = string.char(0xFF,0xD8,0xFF),
     ["jp2"] = 
string.char(0x00,0x00,0x00,0x0C,0x6A,0x50,0x20,0x20,0x0D,0x0A),
     ["gif"] = "GIF",
     ["pdf"] = ".-%%PDF",
}

function img.scan(t)
     if t and t.filename then
         local f = io.open(t.filename,"rb")
         if f then
             local d = f:read(5000)
             for k, v in pairs(valid) do
                 if string.find(d,"^"..v) then
                     return imgscan(t)
                 end
             end
         end
     end
end

print(img.scan({filename = "hacker1b.tif"}))
print(img.scan({filename = "cow.pdf"}))
print(img.scan({filename = "mill.png"}))



-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
       tel: 038 477 53 69 | www.pragma-ade.com | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Fri Jan 22 11:24:29 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 22 Jan 2016 11:24:29 +0100
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl> <D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
Message-ID: <56A2035D.9050804@wxs.nl>

On 1/21/2016 10:10 PM, Patrick Gundlach wrote:
>>>
>>> Is there a way to prevent LuaTeX from stopping the whole process? Is there a function like
>>>
>>> can_you_handle_this_imagetype(filename="foo.tiff")
>>>
>>> ?
>>
>> local imgscan   = img.scan
>> local supported = { pdf = true, jpg = true, png = true }
>>
>> function img.scan(t)
>>     if t and t.filename then
>>         local e = string.match(t.filename,".-%.(.-)$")
>>         if supported[e] then
>>             return imgscan(t)
>>         end
>>     end
>> end
>>
>> local foo = img.scan({filename = "foo.tiff"})
>> local foo = img.scan({filename = "foo.pdf"})
>
>
> in my (real) case I don't have a file extension. I need to ask LuaTeX: do you understand that file format? I guess there is no way except for a fatal error, right?

previous mail : remove the GIF entry ... (not a native supported type in 
luatex)

btw, if you really want to be robust then you can probably best run a 
graphicmagick identify on the file because even if luatex can handle the 
file, it can still quit at some point because of an invalid image (and 
because when reading all kind of things happen luatex will quit simply 
because recovering is not possible) ... in the latest release all 
errors/warnings (when identified) are reported (lots of messages possible)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
       tel: 038 477 53 69 | www.pragma-ade.com | www.pragma-pod.nl
-----------------------------------------------------------------

From cereda.paulo at gmail.com  Fri Jan 22 11:51:26 2016
From: cereda.paulo at gmail.com (Paulo Roberto Massa Cereda)
Date: Fri, 22 Jan 2016 08:51:26 -0200
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <037060C0-1F2A-46D0-8474-8769ABEB6D0A@gundla.ch>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl> <D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
 <CAG5iGsC9iNrRiayiQEws43JWEBdKi_cKuteZpbpYpk6Rev7dMg@mail.gmail.com>
 <20160122064534.GA1484@phlegethon>
 <7D14DAF5-58F6-462D-9A69-EEF8F2EC5322@inria.fr>
 <037060C0-1F2A-46D0-8474-8769ABEB6D0A@gundla.ch>
Message-ID: <56A209AE.2090901@gmail.com>

Hi friends,

Pat, I once used this library to help me with some unknown files:

https://bitbucket.org/leafstorm/lua-mimetypes

Hope it could give us some pointers and ideas. :)

Cheerio!

Paulo

Em 22-01-2016 07:15, Patrick Gundlach escreveu:
> Hello
>
>> In practice, identifying all image files formats (tiff, png, pdf...) *should* work with the first 4 bytes of the file (they were designed this way).
>
> I think I'll go that way, but I still wish (feature request) that LuaTeX does not fail with a fatal error if an unknown file format is encountered, instead it would be nice to have something like "return nil, errormessage".
>
> Thanks
>
>     Patrick
>
>
>

From arthur.reutenauer at normalesup.org  Fri Jan 22 14:00:26 2016
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Fri, 22 Jan 2016 13:00:26 +0000
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <56A209AE.2090901@gmail.com>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl> <D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
 <CAG5iGsC9iNrRiayiQEws43JWEBdKi_cKuteZpbpYpk6Rev7dMg@mail.gmail.com>
 <20160122064534.GA1484@phlegethon>
 <7D14DAF5-58F6-462D-9A69-EEF8F2EC5322@inria.fr>
 <037060C0-1F2A-46D0-8474-8769ABEB6D0A@gundla.ch> <56A209AE.2090901@gmail.com>
Message-ID: <20160122130026.GC1793792@phare.normalesup.org>

> https://bitbucket.org/leafstorm/lua-mimetypes

  I'm sorry Paulo, but this is only mapping file extensions to MIME
types, it doesn't try to guess the file type from its actual contents;
and here as I understand Patrick's files don't have an extension at all,
so emulating file(1), in at least a rudimentary fashion, is the only
option.

	Best,

		Arthur

From cereda.paulo at gmail.com  Fri Jan 22 14:18:37 2016
From: cereda.paulo at gmail.com (Paulo Roberto Massa Cereda)
Date: Fri, 22 Jan 2016 11:18:37 -0200
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <20160122130026.GC1793792@phare.normalesup.org>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl> <D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
 <CAG5iGsC9iNrRiayiQEws43JWEBdKi_cKuteZpbpYpk6Rev7dMg@mail.gmail.com>
 <20160122064534.GA1484@phlegethon>
 <7D14DAF5-58F6-462D-9A69-EEF8F2EC5322@inria.fr>
 <037060C0-1F2A-46D0-8474-8769ABEB6D0A@gundla.ch> <56A209AE.2090901@gmail.com>
 <20160122130026.GC1793792@phare.normalesup.org>
Message-ID: <56A22C2D.9030901@gmail.com>

Ouch, you are right, Arthur. Sorry for the noise. I never got curious to 
look at the source code, and it just employs guesswork based on the file 
extension. My bad.

All the best!

Paulo

Em 22-01-2016 11:00, Arthur Reutenauer escreveu:
>> https://bitbucket.org/leafstorm/lua-mimetypes
>
>    I'm sorry Paulo, but this is only mapping file extensions to MIME
> types, it doesn't try to guess the file type from its actual contents;
> and here as I understand Patrick's files don't have an extension at all,
> so emulating file(1), in at least a rudimentary fashion, is the only
> option.
>
> 	Best,
>
> 		Arthur
>

From arthur.reutenauer at normalesup.org  Fri Jan 22 14:31:22 2016
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Fri, 22 Jan 2016 13:31:22 +0000
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <56A22C2D.9030901@gmail.com>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl> <D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
 <CAG5iGsC9iNrRiayiQEws43JWEBdKi_cKuteZpbpYpk6Rev7dMg@mail.gmail.com>
 <20160122064534.GA1484@phlegethon>
 <7D14DAF5-58F6-462D-9A69-EEF8F2EC5322@inria.fr>
 <037060C0-1F2A-46D0-8474-8769ABEB6D0A@gundla.ch> <56A209AE.2090901@gmail.com>
 <20160122130026.GC1793792@phare.normalesup.org> <56A22C2D.9030901@gmail.com>
Message-ID: <20160122133122.GA638003@phare.normalesup.org>

> Ouch, you are right, Arthur. Sorry for the noise. I never got curious to
> look at the source code, and it just employs guesswork based on the file
> extension.

  No worries.  ?Mimetypes? was a dead giveaway ;-)

	Best,

		Arthur

From listas at tex-tipografia.com  Fri Jan 22 15:43:37 2016
From: listas at tex-tipografia.com (Javier Bezos)
Date: Fri, 22 Jan 2016 15:43:37 +0100
Subject: [luatex] messages from babel
In-Reply-To: <22177.42430.509169.23352@zaphod.ms25.net>
References: <22177.42430.509169.23352@zaphod.ms25.net>
Message-ID: <56A24019.50309@tex-tipografia.com>

Reinhard,

 > Babel pretends that all these patterns are loaded already but in truth
 > only those actually needed are loaded at run-time.  Hence the message
 > is misleading.

Yes, it is.

 > I suppose that the number of supported languages is determined when
 > the format file is built.  If it's possible to detect on which engine
 > babel is running, maybe the word "loaded" can be replaced with
 > "available" when appropriate.

I'm currently working on a revamped loader for luatex, which will
load, well, nothing (except english), not even the information in
language.dat.lua, because the format doesn't need it at all.

Javier

From jbezosl at gmail.com  Fri Jan 22 15:42:40 2016
From: jbezosl at gmail.com (Javier Bezos)
Date: Fri, 22 Jan 2016 15:42:40 +0100
Subject: [luatex] messages from babel
In-Reply-To: <22177.42430.509169.23352@zaphod.ms25.net>
References: <22177.42430.509169.23352@zaphod.ms25.net>
Message-ID: <56A23FE0.1090906@gmail.com>

Reinhard,

> Babel pretends that all these patterns are loaded already but in truth
> only those actually needed are loaded at run-time.  Hence the message
> is misleading.

Yes, it is.

> I suppose that the number of supported languages is determined when
> the format file is built.  If it's possible to detect on which engine
> babel is running, maybe the word "loaded" can be replaced with
> "available" when appropriate.

I'm currently working on a revamped loader for luatex, which will
load, well, nothing (except english), not even the information in
language.dat.lua, because the format doesn't need it at all.

Javier

From luigi.scarso at gmail.com  Fri Jan 22 20:48:07 2016
From: luigi.scarso at gmail.com (luigi scarso)
Date: Fri, 22 Jan 2016 20:48:07 +0100
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <037060C0-1F2A-46D0-8474-8769ABEB6D0A@gundla.ch>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl>	<D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
 <CAG5iGsC9iNrRiayiQEws43JWEBdKi_cKuteZpbpYpk6Rev7dMg@mail.gmail.com>
 <20160122064534.GA1484@phlegethon>
 <7D14DAF5-58F6-462D-9A69-EEF8F2EC5322@inria.fr>
 <037060C0-1F2A-46D0-8474-8769ABEB6D0A@gundla.ch>
Message-ID: <CAG5iGsBw4ORTEBXisXcuQBSO9OgnYtUB3r_vuyDdKQF2WfD1Kg@mail.gmail.com>

On Fri, Jan 22, 2016 at 10:15 AM, Patrick Gundlach <patrick at gundla.ch>
wrote:

> Hello
>
> > In practice, identifying all image files formats (tiff, png, pdf...)
> *should* work with the first 4 bytes of the file (they were designed this
> way).
>
> I think I'll go that way, but I still wish (feature request) that LuaTeX
> does not fail with a fatal error if an unknown file format is encountered,
> instead it would be nice to have something like "return nil, errormessage".
>
>
Hm.
As is the source code now,  I think that it's better to exit (as is now)
than try to recover from the wrong image.
I mean: all is doable, but we should rewrite code
to obtain (with a small effort) the same thing that we can have just now,
breaking the compatibility with the behaviour of pdftex.




-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160122/e9542a32/attachment-0001.html>

From pragma at wxs.nl  Sat Jan 23 00:23:35 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Sat, 23 Jan 2016 00:23:35 +0100
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <037060C0-1F2A-46D0-8474-8769ABEB6D0A@gundla.ch>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl> <D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
 <CAG5iGsC9iNrRiayiQEws43JWEBdKi_cKuteZpbpYpk6Rev7dMg@mail.gmail.com>
 <20160122064534.GA1484@phlegethon>
 <7D14DAF5-58F6-462D-9A69-EEF8F2EC5322@inria.fr>
 <037060C0-1F2A-46D0-8474-8769ABEB6D0A@gundla.ch>
Message-ID: <56A2B9F7.1060102@wxs.nl>

Hi Patrick,

>> In practice, identifying all image files formats (tiff, png, pdf...) *should* work with the first 4 bytes of the file (they were designed this way).
>
> I think I'll go that way, but I still wish (feature request) that LuaTeX does not fail with a fatal error if an unknown file format is encountered, instead it would be nice to have something like "return nil, errormessage".

In addition to L's remark ...

Concerning img in luatex: when an image is needed (can be a delayed 
action) the backend will create objects that keep some states (e.g. 
requirements and later identified properties). Then at some point there 
is some checking of filename and preamble, then when it's a known format 
the datastructures are checked .. at any point luatex can quit on error 
(recovering is no option due to the many dependencies or maybe 
overflows).  For instance changing the error in a warning (i tested it 
to be sure) aborts luatex.

Now, we could reshuffle code of course (and for instance check first) 
but then we have a chicken-egg issue: we have callbacks for locating 
files and these can decide to choose for instance to report back a jpg 
instead of a gif when present. Think of:

- scan requested
   - image objects made (anchored in other backend mechanisms)
   - image scan happens
     - file is looked up based on info stored in object (1)
     - when known type detailed scan happens (2)
     - extended object is available
    - a valid object is required (contains partially parsed image data + 
properties now)

moving 1 up in the chain could probably work but then we still can't be 
too sure about success later on anyway where we still would need to 
abort the run.

Anyway, I made a catch for an unknown type but beware: you need to check 
the dimensions (zero) in order to figure out that was ignored. Basically 
an image object is still present but with zero dimensions (after all it 
was not scanned).

 From the upcoming 0.89 manual:

You can use \type {pdf.setignoreunknownimages(1)} (or at the \TEX\ end
the \type {\pdfvariable} \type {ignoreunknownimages}) to get around a
quit when no known image type is found (based on name or preamble).
Beware: this will not catch invalid images and we cannot guarantee side
effects. A zero dimension image is still included when requested. No
special flags are set. A proper workflow will not rely in such a catch
but make sure that images are valid.

(Fwiw: personally i'd not rely on such a catch in a workflow.)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
       tel: 038 477 53 69 | www.pragma-ade.com | www.pragma-pod.nl
-----------------------------------------------------------------

From luigi.scarso at gmail.com  Sat Jan 23 01:48:01 2016
From: luigi.scarso at gmail.com (luigi scarso)
Date: Sat, 23 Jan 2016 01:48:01 +0100
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <56A2B9F7.1060102@wxs.nl>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl>	<D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
 <CAG5iGsC9iNrRiayiQEws43JWEBdKi_cKuteZpbpYpk6Rev7dMg@mail.gmail.com>
 <20160122064534.GA1484@phlegethon>
 <7D14DAF5-58F6-462D-9A69-EEF8F2EC5322@inria.fr>
 <037060C0-1F2A-46D0-8474-8769ABEB6D0A@gundla.ch>	<56A2B9F7.1060102@wxs.nl>
Message-ID: <CAG5iGsAUwdm9jf-Lo245WX0OSXOx8KnvJZJQ5BDqAadwFg+pwQ@mail.gmail.com>

On Sat, Jan 23, 2016 at 12:23 AM, Hans Hagen <pragma at wxs.nl> wrote:

> Hi Patrick,
>
> In practice, identifying all image files formats (tiff, png, pdf...)
>>> *should* work with the first 4 bytes of the file (they were designed this
>>> way).
>>>
>>
>> I think I'll go that way, but I still wish (feature request) that LuaTeX
>> does not fail with a fatal error if an unknown file format is encountered,
>> instead it would be nice to have something like "return nil, errormessage".
>>
>
> In addition to L's remark ...
>
> Concerning img in luatex: when an image is needed (can be a delayed
> action) the backend will create objects that keep some states (e.g.
> requirements and later identified properties). Then at some point there is
> some checking of filename and preamble, then when it's a known format the
> datastructures are checked .. at any point luatex can quit on error
> (recovering is no option due to the many dependencies or maybe overflows).
> For instance changing the error in a warning (i tested it to be sure)
> aborts luatex.
>
> Now, we could reshuffle code of course (and for instance check first) but
> then we have a chicken-egg issue: we have callbacks for locating files and
> these can decide to choose for instance to report back a jpg instead of a
> gif when present. Think of:
>
> - scan requested
>   - image objects made (anchored in other backend mechanisms)
>   - image scan happens
>     - file is looked up based on info stored in object (1)
>     - when known type detailed scan happens (2)
>     - extended object is available
>    - a valid object is required (contains partially parsed image data +
> properties now)
>
> moving 1 up in the chain could probably work but then we still can't be
> too sure about success later on anyway where we still would need to abort
> the run.
>
> Anyway, I made a catch for an unknown type but beware: you need to check
> the dimensions (zero) in order to figure out that was ignored. Basically an
> image object is still present but with zero dimensions (after all it was
> not scanned).
>
> From the upcoming 0.89 manual:
>
> You can use \type {pdf.setignoreunknownimages(1)} (or at the \TEX\ end
> the \type {\pdfvariable} \type {ignoreunknownimages}) to get around a
> quit when no known image type is found (based on name or preamble).
> Beware: this will not catch invalid images and we cannot guarantee side
> effects. A zero dimension image is still included when requested. No
> special flags are set. A proper workflow will not rely in such a catch
> but make sure that images are valid.
>
> (Fwiw: personally i'd not rely on such a catch in a workflow.)




on trunk now.
-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/luatex/attachments/20160123/62c9e50c/attachment.html>

From reinhard.kotucha at web.de  Sat Jan 23 03:30:55 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 23 Jan 2016 03:30:55 +0100
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <CAG5iGsAUwdm9jf-Lo245WX0OSXOx8KnvJZJQ5BDqAadwFg+pwQ@mail.gmail.com>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl>	<D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
 <CAG5iGsC9iNrRiayiQEws43JWEBdKi_cKuteZpbpYpk6Rev7dMg@mail.gmail.com>
 <20160122064534.GA1484@phlegethon>
 <7D14DAF5-58F6-462D-9A69-EEF8F2EC5322@inria.fr>
 <037060C0-1F2A-46D0-8474-8769ABEB6D0A@gundla.ch>	<56A2B9F7.1060102@wxs.nl>
 <CAG5iGsAUwdm9jf-Lo245WX0OSXOx8KnvJZJQ5BDqAadwFg+pwQ@mail.gmail.com>
Message-ID: <22178.58847.596517.776361@zaphod.ms25.net>

On 2016-01-23 at 01:48:01 +0100, luigi scarso wrote:
   
 >> You can use \type {pdf.setignoreunknownimages(1)}

 > on trunk now.

Does pdf.setignoreunknownimages really expects a number as an argument
instead of a boolean?  Or is pdf.setignoreunknownimages(2) meaningful?

And is the substring "set" really necessary in the name?  Why not
simply pdf.ignoreunknownimages?

Sure, it's common practice in the TeX world to choose the longest name
one can imagine (like \pdfoptionpdfminorversion), choose a more
reasonable name in the next release, preserve the old stuff somehow in
order to prevent breaking existing documents, and so on.  What a mess!

Isn't it possible to use reasonable names from the beginning?

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From pragma at wxs.nl  Sat Jan 23 11:15:24 2016
From: pragma at wxs.nl (Hans Hagen)
Date: Sat, 23 Jan 2016 11:15:24 +0100
Subject: [luatex] Prevent stop when tiff file loads
In-Reply-To: <22178.58847.596517.776361@zaphod.ms25.net>
References: <6B40D264-6E4D-4EBC-A300-CA8A792E9442@gundla.ch>
 <56A1438C.1080604@wxs.nl> <D1468C04-D343-40CF-B0B4-F2B89669F7E1@gundla.ch>
 <CAG5iGsC9iNrRiayiQEws43JWEBdKi_cKuteZpbpYpk6Rev7dMg@mail.gmail.com>
 <20160122064534.GA1484@phlegethon>
 <7D14DAF5-58F6-462D-9A69-EEF8F2EC5322@inria.fr>
 <037060C0-1F2A-46D0-8474-8769ABEB6D0A@gundla.ch> <56A2B9F7.1060102@wxs.nl>
 <CAG5iGsAUwdm9jf-Lo245WX0OSXOx8KnvJZJQ5BDqAadwFg+pwQ@mail.gmail.com>
 <22178.58847.596517.776361@zaphod.ms25.net>
Message-ID: <56A352BC.8090000@wxs.nl>

On 1/23/2016 3:30 AM, Reinhard Kotucha wrote:
> On 2016-01-23 at 01:48:01 +0100, luigi scarso wrote:
>
>   >> You can use \type {pdf.setignoreunknownimages(1)}
>
>   > on trunk now.
>
> Does pdf.setignoreunknownimages really expects a number as an argument
> instead of a boolean?  Or is pdf.setignoreunknownimages(2) meaningful?

it reflects the setting at the tex level and those are numbers (and who 
knows if at some point 2 will used too)

> And is the substring "set" really necessary in the name?  Why not
> simply pdf.ignoreunknownimages?

that would indicate a variable i.e. pdf.ignoreunknownimages = 1 and we 
deliberately use setters/getters instead of virtual keys (more flexible)

> Sure, it's common practice in the TeX world to choose the longest name
> one can imagine (like \pdfoptionpdfminorversion), choose a more

Wasn't that one gone for ages? (And i think that particular long names 
was chosen in order to avoid some conflicts with something i forgot by 
now ... i always aliased it to the original shorter name.)

> reasonable name in the next release, preserve the old stuff somehow in
> order to prevent breaking existing documents, and so on.  What a mess!

so you like pdf.iui more .. forget about it, verbose names is what you 
get (and some currently short ones might even get verbose) .. these 
names are the same as at the tex end (otherwise we need to document two 
sets of variables)

> Isn't it possible to use reasonable names from the beginning?

like \pdfiui and so ... settings like this are normally done one and 
probably in a macro package so no user ever sees them (or knows about them)

and as we're taking tex / lua, nothing prevents you or a macro package 
to provide short names like

pdf.iui = pdf.setignoreunknownimages

pdf.ignoreunknownimages = pdf.setignoreunknownimages

or whatever suits you best

Hans

ps. Lucky you that we don't use dutch or german in the interface ... 
much longer words then.  You'd be better off with french.

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
       tel: 038 477 53 69 | www.pragma-ade.com | www.pragma-pod.nl
-----------------------------------------------------------------

From dirk.laurie at gmail.com  Thu Jan 28 11:55:31 2016
From: dirk.laurie at gmail.com (Dirk Laurie)
Date: Thu, 28 Jan 2016 12:55:31 +0200
Subject: [luatex] dvi file reader?
Message-ID: <CABcj=t=GdkLpDVHKom8L306_HL+C2r9LNc1x_V5ftfs8eNUQOA@mail.gmail.com>

Does anybody have a Lua module that decodes dvi files
into Lua tables?

From listas at tex-tipografia.com  Thu Jan 28 16:43:37 2016
From: listas at tex-tipografia.com (Javier Bezos)
Date: Thu, 28 Jan 2016 16:43:37 +0100
Subject: [luatex] Request for Arabic and Hebrew
Message-ID: <56AA3729.5060707@tex-tipografia.com>

Hi all,

I intend to work with Arabic and Hebrew for babel (luatex
and lualatex) and I'd like to get some complex examples
- including footnotes, lists, indexes, math, floats with
captions and so on - to do some tests and have a clearer
idea of what I need to do (volunteers are welcome :-)).
Of course, I won't publish  them, just for private use.

Javier


