From elie.roux at telecom-bretagne.eu  Wed Jan  6 15:02:45 2010
From: elie.roux at telecom-bretagne.eu (=?UTF-8?Q?=C3=89lie_Roux?=)
Date: Wed, 6 Jan 2010 16:02:45 +0200
Subject: [luatex] problem with a .pk file
Message-ID: <eba574421001060602g1cbc792ftecfe09607f0a74c7@mail.gmail.com>

Hello,

this plain TeX minimal example shows different output when compiled
with pdfTeX and LuaTeX (0.50):

\font\toto=frca10 at 10pt\toto
ligature
\bye

the frca10 comes from the package frcursive
(http://www.ctan.org/tex-archive/fonts/frcursive/), present in TeX
Live 2009. The pdf contains ligat when compiled with LuaTeX and
ligature when compiled with pdfTeX. Is it a problem in the .tfm/.pk
file or is it a bug in LuaTeX?

Thank you!
-- 
Elie

From taco at elvenkind.com  Wed Jan  6 16:21:20 2010
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 06 Jan 2010 16:21:20 +0100
Subject: [luatex] problem with a .pk file
In-Reply-To: <eba574421001060602g1cbc792ftecfe09607f0a74c7@mail.gmail.com>
References: <eba574421001060602g1cbc792ftecfe09607f0a74c7@mail.gmail.com>
Message-ID: <4B44AA70.6000102@elvenkind.com>



?lie Roux wrote:
> Hello,
> 
> this plain TeX minimal example shows different output when compiled
> with pdfTeX and LuaTeX (0.50):
> 
> \font\toto=frca10 at 10pt\toto
> ligature
> \bye
> 
> the frca10 comes from the package frcursive
> (http://www.ctan.org/tex-archive/fonts/frcursive/), present in TeX
> Live 2009. The pdf contains ligat when compiled with LuaTeX and
> ligature when compiled with pdfTeX. Is it a problem in the .tfm/.pk
> file or is it a bug in LuaTeX?

Something is wrong in luatex: the routine that inserts the
discretionaries has a problem with the massive amount of ligatures
in the frca10 font. I will add a tracker item, but it may take a
while to fix this.

Best wishes,
Taco


From mpg at elzevir.fr  Thu Jan  7 01:36:25 2010
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Thu, 07 Jan 2010 01:36:25 +0100
Subject: [luatex] Glue node without spec field?
Message-ID: <4B452C89.40004@elzevir.fr>

Hi,

>From the LuaTeX manual, I'm inclined to think that a glue node always have a
spec field. However, experience shows that it's not true:

\directlua{%
assert(callback.register('post_linebreak_filter', function(head)
    local n = node.slide(head.list)
    assert(node.type(n.id) == 'glue', 'last node is not glue.')
    assert(n.spec, 'glue node without spec field')
end))}
Blah.
\bye

compile with luatex 0.50.0 gives an error:

error: <\directlua >:1: glue node (subtype 9) without spec field

Am I misunderstanding the manual, or is this a bug?

Thanks,
Manuel.

From luigi.scarso at gmail.com  Thu Jan  7 03:05:18 2010
From: luigi.scarso at gmail.com (luigi scarso)
Date: Thu, 7 Jan 2010 03:05:18 +0100
Subject: [luatex] Glue node without spec field?
In-Reply-To: <4B452C89.40004@elzevir.fr>
References: <4B452C89.40004@elzevir.fr>
Message-ID: <fe8d59da1001061805r1a5d2189pe612a9b948226dbd@mail.gmail.com>

On Thu, Jan 7, 2010 at 1:36 AM, Manuel P?gouri?-Gonnard <mpg at elzevir.fr> wrote:
> Am I misunderstanding the manual, or is this a bug?
>
> Thanks,
> Manuel.
>
printing n subtype and spec
\directlua{%
assert(callback.register('post_linebreak_filter', function(head)
   local n = node.slide(head.list)
   assert(node.type(n.id) == 'glue', 'last node is not glue.')
   print(n.subtype,n.spec)
   assert(n.spec, 'glue node without spec field')
end))}
Blah.
\bye

gives
n.subtype=9 and n.spec=nil
I argue that if n.subtype=0  then n.spec is a glue_spec structure

(pag 152 (148 on doc) and 147 (143 on doc) of luatexref-t.pdf  0.50)

-- 
luigi


From elie.roux at telecom-bretagne.eu  Thu Jan  7 08:35:26 2010
From: elie.roux at telecom-bretagne.eu (=?UTF-8?Q?=C3=89lie_Roux?=)
Date: Thu, 7 Jan 2010 09:35:26 +0200
Subject: [luatex] problem with a .pk file
In-Reply-To: <4B44AA70.6000102@elvenkind.com>
References: <eba574421001060602g1cbc792ftecfe09607f0a74c7@mail.gmail.com>
	<4B44AA70.6000102@elvenkind.com>
Message-ID: <eba574421001062335x4dd5cfd1v7fe80c3e37579e05@mail.gmail.com>

2010/1/6 Taco Hoekwater <taco at elvenkind.com>:
>
> Something is wrong in luatex: the routine that inserts the
> discretionaries has a problem with the massive amount of ligatures
> in the frca10 font. I will add a tracker item, but it may take a
> while to fix this.

Ok, thank you!
-- 
Elie

From taco at elvenkind.com  Thu Jan  7 09:11:30 2010
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 07 Jan 2010 09:11:30 +0100
Subject: [luatex] Glue node without spec field?
In-Reply-To: <4B452C89.40004@elzevir.fr>
References: <4B452C89.40004@elzevir.fr>
Message-ID: <4B459732.9070704@elvenkind.com>



Manuel P?gouri?-Gonnard wrote:
> Hi,
> 
>>From the LuaTeX manual, I'm inclined to think that a glue node always have a
> spec field. However, experience shows that it's not true:
> 
> \directlua{%
> assert(callback.register('post_linebreak_filter', function(head)
>     local n = node.slide(head.list)
>     assert(node.type(n.id) == 'glue', 'last node is not glue.')
>     assert(n.spec, 'glue node without spec field')
> end))}
> Blah.
> \bye
> 
> compile with luatex 0.50.0 gives an error:
> 
> error: <\directlua >:1: glue node (subtype 9) without spec field
> 
> Am I misunderstanding the manual, or is this a bug?

That was a bug, fixed in svn trunk now. If you don't want to compile
the trunk, you can just treat 'nil' in a spec field as equal to 0.

Best wishes,
Taco

From mpg at elzevir.fr  Thu Jan  7 11:47:58 2010
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Thu, 07 Jan 2010 11:47:58 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
Message-ID: <4B45BBDE.4030206@elzevir.fr>

Hi,

My last attempt to build the current trunk, as well as 0.50.0, failed. Surely
this is a problem with my local configuration, but I used to be able to build
luatex successfully on this machine. Below is the end of the output from
build.sh, and I attach config.log in case it may contain clues.

Thanks,
Manuel.

make[5]: entrant dans le r?pertoire ? /home/mpg/src/luatex/git/build/texk/web2c ?
date >stamp-tangle
srcdir=../../../source/texk/web2c /bin/sh
../../../source/texk/web2c/web2c/convert tangleboot
gcc -DHAVE_CONFIG_H -I. -I../../../source/texk/web2c -I./..
-I/home/mpg/src/luatex/git/build/texk -I/home/mpg/src/luatex/git/source/texk
-g -O2 -MT tangleboot.o -MD -MP -MF .deps/tangleboot.Tpo -c -o tangleboot.o
tangleboot.c
mv -f .deps/tangleboot.Tpo .deps/tangleboot.Po
/bin/sh ./libtool --tag=CC   --mode=link gcc  -g -O2   -o tangleboot
tangleboot.o lib/lib.a
/home/mpg/src/luatex/git/build/texk/kpathsea/libkpathsea.la -lm
eval: 1: libtool_args+=: not found
eval: 1: compile_command+=: not found
eval: 1: finalize_command+=: not found
eval: 1: libtool_args+=: not found
eval: 1: compile_command+=: not found
eval: 1: finalize_command+=: not found
eval: 1: libtool_args+=: not found
eval: 1: compile_command+=: not found
eval: 1: finalize_command+=: not found
eval: 1: libtool_args+=: not found
eval: 1: compile_command+=: not found
eval: 1: finalize_command+=: not found
eval: 1: libtool_args+=: not found
eval: 1: compile_command+=: not found
eval: 1: finalize_command+=: not found
eval: 1: libtool_args+=: not found
eval: 1: libtool_args+=: not found
eval: 1: libtool_args+=: not found
libtool: link: gcc  lib/lib.a
/home/mpg/src/luatex/git/build/texk/kpathsea/.libs/libkpathsea.a -lm
lib/lib.a(main.o): In function `main':
/home/mpg/src/luatex/git/build/texk/web2c/lib/../../../../source/texk/web2c/lib/main.c:26:
undefined reference to `mainbody'
collect2: ld returned 1 exit status
make[5]: *** [tangleboot] Erreur 1
make[5]: quittant le r?pertoire ? /home/mpg/src/luatex/git/build/texk/web2c ?
make[4]: *** [all-recursive] Erreur 1
make[4]: quittant le r?pertoire ? /home/mpg/src/luatex/git/build/texk/web2c ?
make[3]: *** [all] Erreur 2
make[3]: quittant le r?pertoire ? /home/mpg/src/luatex/git/build/texk/web2c ?
make[2]: *** [subtexk] Erreur 1
make[2]: quittant le r?pertoire ? /home/mpg/src/luatex/git/build/texk ?
make[1]: *** [all-recursive] Erreur 1
make[1]: quittant le r?pertoire ? /home/mpg/src/luatex/git/build/texk ?
make: *** [all-recursive] Erreur 1
strip: 'build/texk/web2c/luatex': No such file
ls: ne peut acc?der build/texk/web2c/luatex: Aucun fichier ou dossier de ce type
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: config.log
URL: <http://tug.org/pipermail/luatex/attachments/20100107/f48862c9/attachment-0001.pl>

From taco at elvenkind.com  Thu Jan  7 12:02:24 2010
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 07 Jan 2010 12:02:24 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <4B45BBDE.4030206@elzevir.fr>
References: <4B45BBDE.4030206@elzevir.fr>
Message-ID: <4B45BF40.5060705@elvenkind.com>


Hi Manuel,

Manuel P?gouri?-Gonnard wrote:
> Hi,
> 
> My last attempt to build the current trunk, as well as 0.50.0, failed. Surely
> this is a problem with my local configuration, but I used to be able to build
> luatex successfully on this machine. Below is the end of the output from
> build.sh, and I attach config.log in case it may contain clues.

This typically means that your shell is /bin/dash or some other shell
that does not understand += notation for variables.

Adding

  export CONFIG_SHELL=/bin/bash

before running the build should fix it (this is a known problem with
the configure script that I import from TeXLive)

Best wishes,
Taco

From luigi.scarso at gmail.com  Thu Jan  7 12:10:11 2010
From: luigi.scarso at gmail.com (luigi scarso)
Date: Thu, 7 Jan 2010 12:10:11 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <4B45BBDE.4030206@elzevir.fr>
References: <4B45BBDE.4030206@elzevir.fr>
Message-ID: <fe8d59da1001070310m6c91ee1fnb2b0db4c41c2b0c9@mail.gmail.com>

On Thu, Jan 7, 2010 at 11:47 AM, Manuel P?gouri?-Gonnard <mpg at elzevir.fr> wrote:
> Hi,
>
> My last attempt to build the current trunk, as well as 0.50.0, failed. Surely
> this is a problem with my local configuration, but I used to be able to build
> luatex successfully on this machine. Below is the end of the output from
> build.sh, and I attach config.log in case it may contain clues.
>
> Thanks,
> Manuel.
Try to add
export CONFIG_SHELL=/bin/bash
to build.sh

ie
# try to find gnu make; we may need it
export CONFIG_SHELL=/bin/bash
MAKE=make;

-- 
luigi


From mpg at elzevir.fr  Thu Jan  7 12:24:41 2010
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Thu, 07 Jan 2010 12:24:41 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <4B45BF40.5060705@elvenkind.com>
References: <4B45BBDE.4030206@elzevir.fr> <4B45BF40.5060705@elvenkind.com>
Message-ID: <4B45C479.6050002@elzevir.fr>

On 07/01/2010 12:02, Taco Hoekwater wrote:
> This typically means that your shell is /bin/dash or some other shell
> that does not understand += notation for variables.
> 
> Adding
> 
>   export CONFIG_SHELL=/bin/bash
> 
> before running the build should fix it (this is a known problem with
> the configure script that I import from TeXLive)
> 
Oh, right. Shame one me, I read many times about this problem in tlbuild@ but
didn't remember it when I needed to. Thanks for reminding me.

Manuel.

From khaledhosny at eglug.org  Thu Jan  7 12:57:03 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 7 Jan 2010 13:57:03 +0200
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <fe8d59da1001070310m6c91ee1fnb2b0db4c41c2b0c9@mail.gmail.com>
References: <4B45BBDE.4030206@elzevir.fr>
	<fe8d59da1001070310m6c91ee1fnb2b0db4c41c2b0c9@mail.gmail.com>
Message-ID: <20100107115703.GA8191@khaled-laptop>

On Thu, Jan 07, 2010 at 12:10:11PM +0100, luigi scarso wrote:
> On Thu, Jan 7, 2010 at 11:47 AM, Manuel P?gouri?-Gonnard <mpg at elzevir.fr> wrote:
> > Hi,
> >
> > My last attempt to build the current trunk, as well as 0.50.0, failed. Surely
> > this is a problem with my local configuration, but I used to be able to build
> > luatex successfully on this machine. Below is the end of the output from
> > build.sh, and I attach config.log in case it may contain clues.
> >
> > Thanks,
> > Manuel.
> Try to add
> export CONFIG_SHELL=/bin/bash
> to build.sh

Since this is a common problem, can't this line be added to build.sh in
the repository?

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://tug.org/pipermail/luatex/attachments/20100107/755eed2d/attachment.bin>

From luigi.scarso at gmail.com  Thu Jan  7 13:00:25 2010
From: luigi.scarso at gmail.com (luigi scarso)
Date: Thu, 7 Jan 2010 13:00:25 +0100
Subject: [luatex] Glue node without spec field?
In-Reply-To: <4B459732.9070704@elvenkind.com>
References: <4B452C89.40004@elzevir.fr> <4B459732.9070704@elvenkind.com>
Message-ID: <fe8d59da1001070400x1183835ds7cd7a2176bb3bad1@mail.gmail.com>

On Thu, Jan 7, 2010 at 9:11 AM, Taco Hoekwater <taco at elvenkind.com> wrote:
>
>
> Manuel P?gouri?-Gonnard wrote:
>> Hi,
>>
>>>From the LuaTeX manual, I'm inclined to think that a glue node always have a
>> spec field. However, experience shows that it's not true:
>>
>> \directlua{%
>> assert(callback.register('post_linebreak_filter', function(head)
>> ? ? local n = node.slide(head.list)
>> ? ? assert(node.type(n.id) == 'glue', 'last node is not glue.')
>> ? ? assert(n.spec, 'glue node without spec field')
>> end))}
>> Blah.
>> \bye
>>
>> compile with luatex 0.50.0 gives an error:
>>
>> error: <\directlua >:1: glue node (subtype 9) without spec field
>>
>> Am I misunderstanding the manual, or is this a bug?
>
> That was a bug, fixed in svn trunk now. If you don't want to compile
> the trunk, you can just treat 'nil' in a spec field as equal to 0.
If I understand it correctly,
if subtype is not 0 then spec is an empty node

So in this case
print(n.subtype,n.spec)
gives
subtype=9  and spec= <node    nil <      0 >    nil : glue_spec 0>)

This is different to say that
if subtype is not 0 then spec is nil

But now
print(n.subtype,n.spec,n.leader)
gives
9 <node    nil <      0 >    nil : glue_spec 0>   nil

ie
n.leader == nil

Is it OK ?

-- 
luigi


From khaledhosny at eglug.org  Thu Jan  7 12:06:09 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 7 Jan 2010 13:06:09 +0200
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <4B45BBDE.4030206@elzevir.fr>
References: <4B45BBDE.4030206@elzevir.fr>
Message-ID: <20100107110608.GA7948@khaled-laptop>

Ubuntu (and I think Debian), makes /bin/sh a symlink to dash, but
apparently some build scripts are using bash specific feature while
asking for sh. I'm not sure to whom should I report this.

Any way, you can get around this by setting CONFIG_SHELL=/bin/bash
before running build script.

On Thu, Jan 07, 2010 at 11:47:58AM +0100, Manuel P?gouri?-Gonnard wrote:
> Hi,
> 
> My last attempt to build the current trunk, as well as 0.50.0, failed. Surely
> this is a problem with my local configuration, but I used to be able to build
> luatex successfully on this machine. Below is the end of the output from
> build.sh, and I attach config.log in case it may contain clues.
> 
> Thanks,
> Manuel.
> 
> make[5]: entrant dans le r?pertoire ? /home/mpg/src/luatex/git/build/texk/web2c ?
> date >stamp-tangle
> srcdir=../../../source/texk/web2c /bin/sh
> ../../../source/texk/web2c/web2c/convert tangleboot
> gcc -DHAVE_CONFIG_H -I. -I../../../source/texk/web2c -I./..
> -I/home/mpg/src/luatex/git/build/texk -I/home/mpg/src/luatex/git/source/texk
> -g -O2 -MT tangleboot.o -MD -MP -MF .deps/tangleboot.Tpo -c -o tangleboot.o
> tangleboot.c
> mv -f .deps/tangleboot.Tpo .deps/tangleboot.Po
> /bin/sh ./libtool --tag=CC   --mode=link gcc  -g -O2   -o tangleboot
> tangleboot.o lib/lib.a
> /home/mpg/src/luatex/git/build/texk/kpathsea/libkpathsea.la -lm
> eval: 1: libtool_args+=: not found
> eval: 1: compile_command+=: not found
> eval: 1: finalize_command+=: not found
> eval: 1: libtool_args+=: not found
> eval: 1: compile_command+=: not found
> eval: 1: finalize_command+=: not found
> eval: 1: libtool_args+=: not found
> eval: 1: compile_command+=: not found
> eval: 1: finalize_command+=: not found
> eval: 1: libtool_args+=: not found
> eval: 1: compile_command+=: not found
> eval: 1: finalize_command+=: not found
> eval: 1: libtool_args+=: not found
> eval: 1: compile_command+=: not found
> eval: 1: finalize_command+=: not found
> eval: 1: libtool_args+=: not found
> eval: 1: libtool_args+=: not found
> eval: 1: libtool_args+=: not found
> libtool: link: gcc  lib/lib.a
> /home/mpg/src/luatex/git/build/texk/kpathsea/.libs/libkpathsea.a -lm
> lib/lib.a(main.o): In function `main':
> /home/mpg/src/luatex/git/build/texk/web2c/lib/../../../../source/texk/web2c/lib/main.c:26:
> undefined reference to `mainbody'
> collect2: ld returned 1 exit status
> make[5]: *** [tangleboot] Erreur 1
> make[5]: quittant le r?pertoire ? /home/mpg/src/luatex/git/build/texk/web2c ?
> make[4]: *** [all-recursive] Erreur 1
> make[4]: quittant le r?pertoire ? /home/mpg/src/luatex/git/build/texk/web2c ?
> make[3]: *** [all] Erreur 2
> make[3]: quittant le r?pertoire ? /home/mpg/src/luatex/git/build/texk/web2c ?
> make[2]: *** [subtexk] Erreur 1
> make[2]: quittant le r?pertoire ? /home/mpg/src/luatex/git/build/texk ?
> make[1]: *** [all-recursive] Erreur 1
> make[1]: quittant le r?pertoire ? /home/mpg/src/luatex/git/build/texk ?
> make: *** [all-recursive] Erreur 1
> strip: 'build/texk/web2c/luatex': No such file
> ls: ne peut acc?der build/texk/web2c/luatex: Aucun fichier ou dossier de ce type

> This file contains any messages produced by compilers while
> running configure, to aid debugging if configure makes a mistake.
> 
> It was created by TeX Live configure 2009test-1.6, which was
> generated by GNU Autoconf 2.63.  Invocation command line was
> 
>   $ ../source/configure --enable-cxx-runtime-hack --disable-afm2pl --disable-aleph --disable-bibtex --disable-bibtex8 --disable-cfftot1 --disable-cjkutils --disable-detex --disable-devnag --disable-dialog --disable-dtl --enable-dump-share --disable-dvi2tty --disable-dvidvi --disable-dviljk --disable-dvipdfm --disable-dvipdfmx --disable-dvipos --disable-dvipsk --disable-gsftopk --disable-lacheck --disable-lcdf-typetools --disable-makeindexk --disable-mf --disable-mmafm --disable-mmpfb --disable-musixflx --disable-otfinfo --disable-otftotfm --disable-pdfopen --disable-pdftex --disable-ps2eps --disable-ps2pkm --disable-psutils --disable-seetexk --disable-t1dotlessj --disable-t1lint --disable-t1rawafm --disable-t1reencode --disable-t1testpage --disable-t1utils --disable-tex --disable-tex4htk --disable-tpic2pdftex --disable-ttf2pk --disable-ttfdump --disable-ttftotype42 --disable-vlna --disable-web-progs --disable-xdv2pdf --disable-xdvipdfmx --without-system-kpathsea --without-system-freetype2 --without-system-gd
>  --without-system-libpng --without-system-teckit --without-system-zlib --without-system-t1lib --disable-shared --disable-largefile --disable-ipc --without-mf-x-toolkit --without-x
> 
> ## --------- ##
> ## Platform. ##
> ## --------- ##
> 
> hostname = roth
> uname -m = x86_64
> uname -r = 2.6.30-2-amd64
> uname -s = Linux
> uname -v = #1 SMP Mon Dec 7 05:21:45 UTC 2009
> 
> /usr/bin/uname -p = unknown
> /bin/uname -X     = unknown
> 
> /bin/arch              = unknown
> /usr/bin/arch -k       = unknown
> /usr/convex/getsysinfo = unknown
> /usr/bin/hostinfo      = unknown
> /bin/machine           = unknown
> /usr/bin/oslevel       = unknown
> /bin/universe          = unknown
> 
> PATH: /home/mpg/bin
> PATH: /home/mpg/usr/tlsel/bin
> PATH: /usr/local/bin
> PATH: /usr/bin
> PATH: /bin
> PATH: /usr/games
> PATH: /home/mpg/tl/trunk/Master/tlpkg/bin
> 
> 
> ## ----------- ##
> ## Core tests. ##
> ## ----------- ##
> 
> configure:2222: checking build system type
> configure:2240: result: x86_64-unknown-linux-gnu
> configure:2262: checking host system type
> configure:2277: result: x86_64-unknown-linux-gnu
> configure:2400: Assuming `--enable-web2c=yes'
> configure:2627: Using `kpathsea' headers and library from TL tree
> configure:2708: Assuming `xpdf' headers and library from TL tree
> configure:2770: Using `libpng' headers and library from TL tree
> configure:2827: Using `zlib' headers and library from TL tree
> configure:2855: checking for a BSD-compatible install
> configure:2923: result: /usr/bin/install -c
> configure:2934: checking whether build environment is sane
> configure:2977: result: yes
> configure:3002: checking for a thread-safe mkdir -p
> configure:3041: result: /bin/mkdir -p
> configure:3054: checking for gawk
> configure:3084: result: no
> configure:3054: checking for mawk
> configure:3070: found /usr/bin/mawk
> configure:3081: result: mawk
> configure:3092: checking whether make sets $(MAKE)
> configure:3114: result: yes
> configure:3169: checking for style of include used by make
> configure:3197: result: GNU
> configure:3267: checking for gcc
> configure:3283: found /usr/bin/gcc
> configure:3294: result: gcc
> configure:3526: checking for C compiler version
> configure:3534: gcc --version >&5
> gcc (Debian 4.3.4-6) 4.3.4
> Copyright (C) 2008 Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.  There is NO
> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
> 
> configure:3538: $? = 0
> configure:3545: gcc -v >&5
> Using built-in specs.
> Target: x86_64-linux-gnu
> Configured with: ../src/configure -v --with-pkgversion='Debian 4.3.4-6' --with-bugurl=file:///usr/share/doc/gcc-4.3/README.Bugs --enable-languages=c,c++,fortran,objc,obj-c++ --prefix=/usr --enable-shared --enable-multiarch --enable-linker-build-id --with-system-zlib --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --enable-nls --with-gxx-include-dir=/usr/include/c++/4.3 --program-suffix=-4.3 --enable-clocale=gnu --enable-libstdcxx-debug --enable-objc-gc --enable-mpfr --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu
> Thread model: posix
> gcc version 4.3.4 (Debian 4.3.4-6) 
> configure:3549: $? = 0
> configure:3556: gcc -V >&5
> gcc: '-V' option must have argument
> configure:3560: $? = 1
> configure:3583: checking for C compiler default output file name
> configure:3605: gcc    conftest.c  >&5
> configure:3609: $? = 0
> configure:3647: result: a.out
> configure:3666: checking whether the C compiler works
> configure:3676: ./a.out
> configure:3680: $? = 0
> configure:3699: result: yes
> configure:3706: checking whether we are cross compiling
> configure:3708: result: no
> configure:3711: checking for suffix of executables
> configure:3718: gcc -o conftest    conftest.c  >&5
> configure:3722: $? = 0
> configure:3748: result: 
> configure:3754: checking for suffix of object files
> configure:3780: gcc -c   conftest.c >&5
> configure:3784: $? = 0
> configure:3809: result: o
> configure:3813: checking whether we are using the GNU C compiler
> configure:3842: gcc -c   conftest.c >&5
> configure:3849: $? = 0
> configure:3866: result: yes
> configure:3875: checking whether gcc accepts -g
> configure:3905: gcc -c -g  conftest.c >&5
> configure:3912: $? = 0
> configure:4013: result: yes
> configure:4030: checking for gcc option to accept ISO C89
> configure:4104: gcc  -c -g -O2  conftest.c >&5
> configure:4111: $? = 0
> configure:4134: result: none needed
> configure:4154: checking dependency style of gcc
> configure:4245: result: gcc3
> configure:4260: checking for a sed that does not truncate output
> configure:4326: result: /bin/sed
> configure:4344: checking for grep that handles long lines and -e
> configure:4404: result: /bin/grep
> configure:4409: checking for egrep
> configure:4473: result: /bin/grep -E
> configure:4478: checking for fgrep
> configure:4542: result: /bin/grep -F
> configure:4577: checking for ld used by gcc
> configure:4644: result: /usr/bin/ld
> configure:4653: checking if the linker (/usr/bin/ld) is GNU ld
> configure:4668: result: yes
> configure:4680: checking for BSD- or MS-compatible name lister (nm)
> configure:4729: result: /usr/bin/nm -B
> configure:4847: checking the name lister (/usr/bin/nm -B) interface
> configure:4854: gcc -c -g -O2  conftest.c >&5
> configure:4857: /usr/bin/nm -B "conftest.o"
> configure:4860: output
> 0000000000000000 B some_variable
> configure:4867: result: BSD nm
> configure:4870: checking whether ln -s works
> configure:4874: result: yes
> configure:4882: checking the maximum length of command line arguments
> configure:5002: result: 1572864
> configure:5019: checking whether the shell understands some XSI constructs
> configure:5029: result: yes
> configure:5033: checking whether the shell understands "+="
> configure:5039: result: yes
> configure:5074: checking for /usr/bin/ld option to reload object files
> configure:5081: result: -r
> configure:5150: checking for objdump
> configure:5166: found /usr/bin/objdump
> configure:5177: result: objdump
> configure:5209: checking how to recognize dependent libraries
> configure:5405: result: pass_all
> configure:5465: checking for ar
> configure:5481: found /usr/bin/ar
> configure:5492: result: ar
> configure:5570: checking for strip
> configure:5586: found /usr/bin/strip
> configure:5597: result: strip
> configure:5669: checking for ranlib
> configure:5685: found /usr/bin/ranlib
> configure:5696: result: ranlib
> configure:5786: checking command to parse /usr/bin/nm -B output from gcc object
> configure:5904: gcc -c -g -O2  conftest.c >&5
> configure:5907: $? = 0
> configure:5911: /usr/bin/nm -B conftest.o \| sed -n -e 's/^.*[	 ]\([ABCDGIRSTW][ABCDGIRSTW]*\)[	 ][	 ]*\([_A-Za-z][_A-Za-z0-9]*\)$/\1 \2 \2/p' \> conftest.nm
> configure:5914: $? = 0
> configure:5968: gcc -o conftest -g -O2   conftest.c conftstm.o >&5
> configure:5971: $? = 0
> configure:6009: result: ok
> configure:6105: gcc -c -g -O2  conftest.c >&5
> configure:6108: $? = 0
> configure:6876: checking how to run the C preprocessor
> configure:6916: gcc -E  conftest.c
> configure:6923: $? = 0
> configure:6954: gcc -E  conftest.c
> conftest.c:8:28: error: ac_nonexistent.h: No such file or directory
> configure:6961: $? = 1
> configure: failed program was:
> | /* confdefs.h.  */
> | #define PACKAGE_NAME "TeX Live"
> | #define PACKAGE_TARNAME "tex-live"
> | #define PACKAGE_VERSION "2009test-1.6"
> | #define PACKAGE_STRING "TeX Live 2009test-1.6"
> | #define PACKAGE_BUGREPORT "tex-k at tug.org"
> | /* end confdefs.h.  */
> | #include <ac_nonexistent.h>
> configure:6994: result: gcc -E
> configure:7023: gcc -E  conftest.c
> configure:7030: $? = 0
> configure:7061: gcc -E  conftest.c
> conftest.c:8:28: error: ac_nonexistent.h: No such file or directory
> configure:7068: $? = 1
> configure: failed program was:
> | /* confdefs.h.  */
> | #define PACKAGE_NAME "TeX Live"
> | #define PACKAGE_TARNAME "tex-live"
> | #define PACKAGE_VERSION "2009test-1.6"
> | #define PACKAGE_STRING "TeX Live 2009test-1.6"
> | #define PACKAGE_BUGREPORT "tex-k at tug.org"
> | /* end confdefs.h.  */
> | #include <ac_nonexistent.h>
> configure:7108: checking for ANSI C header files
> configure:7138: gcc -c -g -O2  conftest.c >&5
> configure:7145: $? = 0
> configure:7244: gcc -o conftest -g -O2   conftest.c  >&5
> configure:7248: $? = 0
> configure:7254: ./conftest
> configure:7258: $? = 0
> configure:7276: result: yes
> configure:7300: checking for sys/types.h
> configure:7321: gcc -c -g -O2  conftest.c >&5
> configure:7328: $? = 0
> configure:7345: result: yes
> configure:7300: checking for sys/stat.h
> configure:7321: gcc -c -g -O2  conftest.c >&5
> configure:7328: $? = 0
> configure:7345: result: yes
> configure:7300: checking for stdlib.h
> configure:7321: gcc -c -g -O2  conftest.c >&5
> configure:7328: $? = 0
> configure:7345: result: yes
> configure:7300: checking for string.h
> configure:7321: gcc -c -g -O2  conftest.c >&5
> configure:7328: $? = 0
> configure:7345: result: yes
> configure:7300: checking for memory.h
> configure:7321: gcc -c -g -O2  conftest.c >&5
> configure:7328: $? = 0
> configure:7345: result: yes
> configure:7300: checking for strings.h
> configure:7321: gcc -c -g -O2  conftest.c >&5
> configure:7328: $? = 0
> configure:7345: result: yes
> configure:7300: checking for inttypes.h
> configure:7321: gcc -c -g -O2  conftest.c >&5
> configure:7328: $? = 0
> configure:7345: result: yes
> configure:7300: checking for stdint.h
> configure:7321: gcc -c -g -O2  conftest.c >&5
> configure:7328: $? = 0
> configure:7345: result: yes
> configure:7300: checking for unistd.h
> configure:7321: gcc -c -g -O2  conftest.c >&5
> configure:7328: $? = 0
> configure:7345: result: yes
> configure:7363: checking for dlfcn.h
> configure:7384: gcc -c -g -O2  conftest.c >&5
> configure:7391: $? = 0
> configure:7408: result: yes
> configure:7603: checking whether to enable maintainer-specific portions of Makefiles
> configure:7612: result: no
> configure:7799: checking for objdir
> configure:7814: result: .libs
> configure:8110: checking if gcc supports -fno-rtti -fno-exceptions
> configure:8128: gcc -c -g -O2  -fno-rtti -fno-exceptions conftest.c >&5
> cc1: warning: command line option "-fno-rtti" is valid for C++/ObjC++ but not for C
> configure:8132: $? = 0
> configure:8145: result: no
> configure:8165: checking for gcc option to produce PIC
> configure:8437: result: -fPIC -DPIC
> configure:8449: checking if gcc PIC flag -fPIC -DPIC works
> configure:8467: gcc -c -g -O2  -fPIC -DPIC -DPIC conftest.c >&5
> configure:8471: $? = 0
> configure:8484: result: yes
> configure:8508: checking if gcc static flag -static works
> configure:8536: result: yes
> configure:8551: checking if gcc supports -c -o file.o
> configure:8572: gcc -c -g -O2  -o out/conftest2.o conftest.c >&5
> configure:8576: $? = 0
> configure:8598: result: yes
> configure:8606: checking if gcc supports -c -o file.o
> configure:8653: result: yes
> configure:8686: checking whether the gcc linker (/usr/bin/ld -m elf_x86_64) supports shared libraries
> configure:9760: result: yes
> configure:9999: checking dynamic linker characteristics
> configure:10442: gcc -o conftest -g -O2   -Wl,-rpath -Wl,/foo conftest.c  >&5
> configure:10449: $? = 0
> configure:10682: result: GNU/Linux ld.so
> configure:10784: checking how to hardcode library paths into programs
> configure:10809: result: immediate
> configure:11642: checking whether stripping libraries is possible
> configure:11647: result: yes
> configure:11682: checking if libtool supports shared libraries
> configure:11684: result: yes
> configure:11687: checking whether to build shared libraries
> configure:11708: result: no
> configure:11711: checking whether to build static libraries
> configure:11715: result: yes
> configure:12106: checking for _LARGEFILE_SOURCE value needed for large files
> configure:12135: gcc -o conftest -g -O2   conftest.c  >&5
> configure:12142: $? = 0
> configure:12215: result: no
> configure:12246: checking for dirent.h that defines DIR
> configure:12275: gcc -c -g -O2  conftest.c >&5
> configure:12282: $? = 0
> configure:12299: result: yes
> configure:12314: checking for library containing opendir
> configure:12355: gcc -o conftest -g -O2   conftest.c  >&5
> configure:12362: $? = 0
> configure:12393: result: none required
> configure:12491: checking for ANSI C header files
> configure:12659: result: yes
> configure:12669: checking whether closedir returns void
> configure:12703: gcc -o conftest -g -O2   conftest.c  >&5
> configure:12707: $? = 0
> configure:12713: ./conftest
> configure:12717: $? = 0
> configure:12734: result: no
> configure:12770: checking assert.h usability
> configure:12787: gcc -c -g -O2  conftest.c >&5
> configure:12794: $? = 0
> configure:12808: result: yes
> configure:12812: checking assert.h presence
> configure:12827: gcc -E  conftest.c
> configure:12834: $? = 0
> configure:12848: result: yes
> configure:12881: checking for assert.h
> configure:12890: result: yes
> configure:12770: checking float.h usability
> configure:12787: gcc -c -g -O2  conftest.c >&5
> configure:12794: $? = 0
> configure:12808: result: yes
> configure:12812: checking float.h presence
> configure:12827: gcc -E  conftest.c
> configure:12834: $? = 0
> configure:12848: result: yes
> configure:12881: checking for float.h
> configure:12890: result: yes
> configure:12770: checking limits.h usability
> configure:12787: gcc -c -g -O2  conftest.c >&5
> configure:12794: $? = 0
> configure:12808: result: yes
> configure:12812: checking limits.h presence
> configure:12827: gcc -E  conftest.c
> configure:12834: $? = 0
> configure:12848: result: yes
> configure:12881: checking for limits.h
> configure:12890: result: yes
> configure:12759: checking for memory.h
> configure:12766: result: yes
> configure:12770: checking pwd.h usability
> configure:12787: gcc -c -g -O2  conftest.c >&5
> configure:12794: $? = 0
> configure:12808: result: yes
> configure:12812: checking pwd.h presence
> configure:12827: gcc -E  conftest.c
> configure:12834: $? = 0
> configure:12848: result: yes
> configure:12881: checking for pwd.h
> configure:12890: result: yes
> configure:12759: checking for stdlib.h
> configure:12766: result: yes
> configure:12759: checking for string.h
> configure:12766: result: yes
> configure:12759: checking for strings.h
> configure:12766: result: yes
> configure:12770: checking sys/param.h usability
> configure:12787: gcc -c -g -O2  conftest.c >&5
> configure:12794: $? = 0
> configure:12808: result: yes
> configure:12812: checking sys/param.h presence
> configure:12827: gcc -E  conftest.c
> configure:12834: $? = 0
> configure:12848: result: yes
> configure:12881: checking for sys/param.h
> configure:12890: result: yes
> configure:12759: checking for unistd.h
> configure:12766: result: yes
> configure:12912: checking for putenv
> configure:12968: gcc -o conftest -g -O2   conftest.c  >&5
> configure:12975: $? = 0
> configure:12997: result: yes
> configure:12912: checking for strcasecmp
> configure:12968: gcc -o conftest -g -O2   conftest.c  >&5
> conftest.c:59: warning: conflicting types for built-in function 'strcasecmp'
> configure:12975: $? = 0
> configure:12997: result: yes
> configure:12912: checking for strtol
> configure:12968: gcc -o conftest -g -O2   conftest.c  >&5
> configure:12975: $? = 0
> configure:12997: result: yes
> configure:12912: checking for strstr
> configure:12968: gcc -o conftest -g -O2   conftest.c  >&5
> conftest.c:61: warning: conflicting types for built-in function 'strstr'
> configure:12975: $? = 0
> configure:12997: result: yes
> configure:13025: checking for bcmp
> configure:13081: gcc -o conftest -g -O2   conftest.c  >&5
> conftest.c:62: warning: conflicting types for built-in function 'bcmp'
> configure:13088: $? = 0
> configure:13110: result: yes
> configure:13025: checking for bcopy
> configure:13081: gcc -o conftest -g -O2   conftest.c  >&5
> conftest.c:63: warning: conflicting types for built-in function 'bcopy'
> configure:13088: $? = 0
> configure:13110: result: yes
> configure:13025: checking for bzero
> configure:13081: gcc -o conftest -g -O2   conftest.c  >&5
> conftest.c:64: warning: conflicting types for built-in function 'bzero'
> configure:13088: $? = 0
> configure:13110: result: yes
> configure:13025: checking for getcwd
> configure:13081: gcc -o conftest -g -O2   conftest.c  >&5
> configure:13088: $? = 0
> configure:13110: result: yes
> configure:13025: checking for getwd
> configure:13081: gcc -o conftest -g -O2   conftest.c  >&5
> /tmp/cc6aEYr3.o: In function `main':
> /home/mpg/src/luatex/git/build/conftest.c:77: warning: the `getwd' function is dangerous and should not be used.
> configure:13088: $? = 0
> configure:13110: result: yes
> configure:13025: checking for index
> configure:13081: gcc -o conftest -g -O2   conftest.c  >&5
> conftest.c:67: warning: conflicting types for built-in function 'index'
> configure:13088: $? = 0
> configure:13110: result: yes
> configure:13025: checking for memcmp
> configure:13081: gcc -o conftest -g -O2   conftest.c  >&5
> conftest.c:68: warning: conflicting types for built-in function 'memcmp'
> configure:13088: $? = 0
> configure:13110: result: yes
> configure:13025: checking for memcpy
> configure:13081: gcc -o conftest -g -O2   conftest.c  >&5
> conftest.c:69: warning: conflicting types for built-in function 'memcpy'
> configure:13088: $? = 0
> configure:13110: result: yes
> configure:13025: checking for mktemp
> configure:13081: gcc -o conftest -g -O2   conftest.c  >&5
> /tmp/cc6LzG0F.o: In function `main':
> /home/mpg/src/luatex/git/build/conftest.c:81: warning: the use of `mktemp' is dangerous, better use `mkstemp' or `mkdtemp'
> configure:13088: $? = 0
> configure:13110: result: yes
> configure:13025: checking for mkstemp
> configure:13081: gcc -o conftest -g -O2   conftest.c  >&5
> configure:13088: $? = 0
> configure:13110: result: yes
> configure:13025: checking for rindex
> configure:13081: gcc -o conftest -g -O2   conftest.c  >&5
> conftest.c:72: warning: conflicting types for built-in function 'rindex'
> configure:13088: $? = 0
> configure:13110: result: yes
> configure:13025: checking for strchr
> configure:13081: gcc -o conftest -g -O2   conftest.c  >&5
> conftest.c:73: warning: conflicting types for built-in function 'strchr'
> configure:13088: $? = 0
> configure:13110: result: yes
> configure:13025: checking for strrchr
> configure:13081: gcc -o conftest -g -O2   conftest.c  >&5
> conftest.c:74: warning: conflicting types for built-in function 'strrchr'
> configure:13088: $? = 0
> configure:13110: result: yes
> configure:13122: checking for an ANSI C-conforming const
> configure:13197: gcc -c -g -O2  conftest.c >&5
> configure:13204: $? = 0
> configure:13219: result: yes
> configure:13229: checking for inline
> configure:13255: gcc -c -g -O2  conftest.c >&5
> configure:13262: $? = 0
> configure:13280: result: inline
> configure:13299: checking for struct stat.st_mtim
> configure:13327: gcc -c -g -O2  conftest.c >&5
> conftest.c: In function 'main':
> conftest.c:89: error: used struct type value where scalar is required
> configure:13334: $? = 1
> configure: failed program was:
> | /* confdefs.h.  */
> | #define PACKAGE_NAME "TeX Live"
> | #define PACKAGE_TARNAME "tex-live"
> | #define PACKAGE_VERSION "2009test-1.6"
> | #define PACKAGE_STRING "TeX Live 2009test-1.6"
> | #define PACKAGE_BUGREPORT "tex-k at tug.org"
> | #define STDC_HEADERS 1
> | #define HAVE_SYS_TYPES_H 1
> | #define HAVE_SYS_STAT_H 1
> | #define HAVE_STDLIB_H 1
> | #define HAVE_STRING_H 1
> | #define HAVE_MEMORY_H 1
> | #define HAVE_STRINGS_H 1
> | #define HAVE_INTTYPES_H 1
> | #define HAVE_STDINT_H 1
> | #define HAVE_UNISTD_H 1
> | #define HAVE_DLFCN_H 1
> | #define PACKAGE "tex-live"
> | #define VERSION "2009test-1.6"
> | #define LT_OBJDIR ".libs/"
> | #define HAVE_FSEEKO 1
> | #define HAVE_DIRENT_H 1
> | #define STDC_HEADERS 1
> | #define HAVE_ASSERT_H 1
> | #define HAVE_FLOAT_H 1
> | #define HAVE_LIMITS_H 1
> | #define HAVE_MEMORY_H 1
> | #define HAVE_PWD_H 1
> | #define HAVE_STDLIB_H 1
> | #define HAVE_STRING_H 1
> | #define HAVE_STRINGS_H 1
> | #define HAVE_SYS_PARAM_H 1
> | #define HAVE_UNISTD_H 1
> | #define HAVE_PUTENV 1
> | #define HAVE_STRCASECMP 1
> | #define HAVE_STRTOL 1
> | #define HAVE_STRSTR 1
> | #define HAVE_BCMP 1
> | #define HAVE_BCOPY 1
> | #define HAVE_BZERO 1
> | #define HAVE_GETCWD 1
> | #define HAVE_GETWD 1
> | #define HAVE_INDEX 1
> | #define HAVE_MEMCMP 1
> | #define HAVE_MEMCPY 1
> | #define HAVE_MKTEMP 1
> | #define HAVE_MKSTEMP 1
> | #define HAVE_RINDEX 1
> | #define HAVE_STRCHR 1
> | #define HAVE_STRRCHR 1
> | /* end confdefs.h.  */
> | #include <stdio.h>
> | #ifdef HAVE_SYS_TYPES_H
> | # include <sys/types.h>
> | #endif
> | #ifdef HAVE_SYS_STAT_H
> | # include <sys/stat.h>
> | #endif
> | #ifdef STDC_HEADERS
> | # include <stdlib.h>
> | # include <stddef.h>
> | #else
> | # ifdef HAVE_STDLIB_H
> | #  include <stdlib.h>
> | # endif
> | #endif
> | #ifdef HAVE_STRING_H
> | # if !defined STDC_HEADERS && defined HAVE_MEMORY_H
> | #  include <memory.h>
> | # endif
> | # include <string.h>
> | #endif
> | #ifdef HAVE_STRINGS_H
> | # include <strings.h>
> | #endif
> | #ifdef HAVE_INTTYPES_H
> | # include <inttypes.h>
> | #endif
> | #ifdef HAVE_STDINT_H
> | # include <stdint.h>
> | #endif
> | #ifdef HAVE_UNISTD_H
> | # include <unistd.h>
> | #endif
> | int
> | main ()
> | {
> | static struct stat ac_aggr;
> | if (ac_aggr.st_mtim)
> | return 0;
> |   ;
> |   return 0;
> | }
> configure:13367: gcc -c -g -O2  conftest.c >&5
> configure:13374: $? = 0
> configure:13392: result: yes
> configure:13403: checking whether the compiler accepts prototypes
> configure:13429: gcc -o conftest -g -O2   conftest.c  >&5
> configure:13436: $? = 0
> configure:13456: result: yes
> configure:13463: checking whether program_invocation_name is predefined
> configure:13490: gcc -o conftest -g -O2   conftest.c  >&5
> configure:13497: $? = 0
> configure:13517: result: yes
> configure:13526: checking what warning flags to pass to the C compiler
> configure:13559: result: -Wall -Wunused -Wdeclaration-after-statement -Wno-unknown-pragmas
> configure:13568: checking for X
> configure:13797: result: disabled
> configure:15006: checking for g++
> configure:15022: found /usr/bin/g++
> configure:15033: result: g++
> configure:15060: checking for C++ compiler version
> configure:15068: g++ --version >&5
> g++ (Debian 4.3.4-6) 4.3.4
> Copyright (C) 2008 Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.  There is NO
> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
> 
> configure:15072: $? = 0
> configure:15079: g++ -v >&5
> Using built-in specs.
> Target: x86_64-linux-gnu
> Configured with: ../src/configure -v --with-pkgversion='Debian 4.3.4-6' --with-bugurl=file:///usr/share/doc/gcc-4.3/README.Bugs --enable-languages=c,c++,fortran,objc,obj-c++ --prefix=/usr --enable-shared --enable-multiarch --enable-linker-build-id --with-system-zlib --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --enable-nls --with-gxx-include-dir=/usr/include/c++/4.3 --program-suffix=-4.3 --enable-clocale=gnu --enable-libstdcxx-debug --enable-objc-gc --enable-mpfr --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu
> Thread model: posix
> gcc version 4.3.4 (Debian 4.3.4-6) 
> configure:15083: $? = 0
> configure:15090: g++ -V >&5
> g++: '-V' option must have argument
> configure:15094: $? = 1
> configure:15097: checking whether we are using the GNU C++ compiler
> configure:15126: g++ -c   conftest.cpp >&5
> configure:15133: $? = 0
> configure:15150: result: yes
> configure:15159: checking whether g++ accepts -g
> configure:15189: g++ -c -g  conftest.cpp >&5
> configure:15196: $? = 0
> configure:15297: result: yes
> configure:15322: checking dependency style of g++
> configure:15413: result: gcc3
> configure:15541: checking for C++ compiler version
> configure:15549: g++ --version >&5
> g++ (Debian 4.3.4-6) 4.3.4
> Copyright (C) 2008 Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.  There is NO
> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
> 
> configure:15553: $? = 0
> configure:15560: g++ -v >&5
> Using built-in specs.
> Target: x86_64-linux-gnu
> Configured with: ../src/configure -v --with-pkgversion='Debian 4.3.4-6' --with-bugurl=file:///usr/share/doc/gcc-4.3/README.Bugs --enable-languages=c,c++,fortran,objc,obj-c++ --prefix=/usr --enable-shared --enable-multiarch --enable-linker-build-id --with-system-zlib --libexecdir=/usr/lib --without-included-gettext --enable-threads=posix --enable-nls --with-gxx-include-dir=/usr/include/c++/4.3 --program-suffix=-4.3 --enable-clocale=gnu --enable-libstdcxx-debug --enable-objc-gc --enable-mpfr --with-tune=generic --enable-checking=release --build=x86_64-linux-gnu --host=x86_64-linux-gnu --target=x86_64-linux-gnu
> Thread model: posix
> gcc version 4.3.4 (Debian 4.3.4-6) 
> configure:15564: $? = 0
> configure:15571: g++ -V >&5
> g++: '-V' option must have argument
> configure:15575: $? = 1
> configure:15578: checking whether we are using the GNU C++ compiler
> configure:15631: result: yes
> configure:15640: checking whether g++ accepts -g
> configure:15778: result: yes
> configure:15803: checking dependency style of g++
> configure:15894: result: gcc3
> configure:15908: checking what warning flags to pass to the C++ compiler
> configure:15932: result: -Wall -Wunused -Wno-unknown-pragmas
> configure:15945: checking how to run the C++ preprocessor
> configure:15981: g++ -E  conftest.cpp
> configure:15988: $? = 0
> configure:16019: g++ -E  conftest.cpp
> conftest.cpp:55:28: error: ac_nonexistent.h: No such file or directory
> configure:16026: $? = 1
> configure: failed program was:
> | /* confdefs.h.  */
> | #define PACKAGE_NAME "TeX Live"
> | #define PACKAGE_TARNAME "tex-live"
> | #define PACKAGE_VERSION "2009test-1.6"
> | #define PACKAGE_STRING "TeX Live 2009test-1.6"
> | #define PACKAGE_BUGREPORT "tex-k at tug.org"
> | #define STDC_HEADERS 1
> | #define HAVE_SYS_TYPES_H 1
> | #define HAVE_SYS_STAT_H 1
> | #define HAVE_STDLIB_H 1
> | #define HAVE_STRING_H 1
> | #define HAVE_MEMORY_H 1
> | #define HAVE_STRINGS_H 1
> | #define HAVE_INTTYPES_H 1
> | #define HAVE_STDINT_H 1
> | #define HAVE_UNISTD_H 1
> | #define HAVE_DLFCN_H 1
> | #define PACKAGE "tex-live"
> | #define VERSION "2009test-1.6"
> | #define LT_OBJDIR ".libs/"
> | #define HAVE_FSEEKO 1
> | #define HAVE_DIRENT_H 1
> | #define STDC_HEADERS 1
> | #define HAVE_ASSERT_H 1
> | #define HAVE_FLOAT_H 1
> | #define HAVE_LIMITS_H 1
> | #define HAVE_MEMORY_H 1
> | #define HAVE_PWD_H 1
> | #define HAVE_STDLIB_H 1
> | #define HAVE_STRING_H 1
> | #define HAVE_STRINGS_H 1
> | #define HAVE_SYS_PARAM_H 1
> | #define HAVE_UNISTD_H 1
> | #define HAVE_PUTENV 1
> | #define HAVE_STRCASECMP 1
> | #define HAVE_STRTOL 1
> | #define HAVE_STRSTR 1
> | #define HAVE_BCMP 1
> | #define HAVE_BCOPY 1
> | #define HAVE_BZERO 1
> | #define HAVE_GETCWD 1
> | #define HAVE_GETWD 1
> | #define HAVE_INDEX 1
> | #define HAVE_MEMCMP 1
> | #define HAVE_MEMCPY 1
> | #define HAVE_MKTEMP 1
> | #define HAVE_MKSTEMP 1
> | #define HAVE_RINDEX 1
> | #define HAVE_STRCHR 1
> | #define HAVE_STRRCHR 1
> | #define HAVE_STRUCT_STAT_ST_MTIM 1
> | #define HAVE_PROGRAM_INVOCATION_NAME 1
> | #define X_DISPLAY_MISSING 1
> | /* end confdefs.h.  */
> | #include <ac_nonexistent.h>
> configure:16059: result: g++ -E
> configure:16088: g++ -E  conftest.cpp
> configure:16095: $? = 0
> configure:16126: g++ -E  conftest.cpp
> conftest.cpp:55:28: error: ac_nonexistent.h: No such file or directory
> configure:16133: $? = 1
> configure: failed program was:
> | /* confdefs.h.  */
> | #define PACKAGE_NAME "TeX Live"
> | #define PACKAGE_TARNAME "tex-live"
> | #define PACKAGE_VERSION "2009test-1.6"
> | #define PACKAGE_STRING "TeX Live 2009test-1.6"
> | #define PACKAGE_BUGREPORT "tex-k at tug.org"
> | #define STDC_HEADERS 1
> | #define HAVE_SYS_TYPES_H 1
> | #define HAVE_SYS_STAT_H 1
> | #define HAVE_STDLIB_H 1
> | #define HAVE_STRING_H 1
> | #define HAVE_MEMORY_H 1
> | #define HAVE_STRINGS_H 1
> | #define HAVE_INTTYPES_H 1
> | #define HAVE_STDINT_H 1
> | #define HAVE_UNISTD_H 1
> | #define HAVE_DLFCN_H 1
> | #define PACKAGE "tex-live"
> | #define VERSION "2009test-1.6"
> | #define LT_OBJDIR ".libs/"
> | #define HAVE_FSEEKO 1
> | #define HAVE_DIRENT_H 1
> | #define STDC_HEADERS 1
> | #define HAVE_ASSERT_H 1
> | #define HAVE_FLOAT_H 1
> | #define HAVE_LIMITS_H 1
> | #define HAVE_MEMORY_H 1
> | #define HAVE_PWD_H 1
> | #define HAVE_STDLIB_H 1
> | #define HAVE_STRING_H 1
> | #define HAVE_STRINGS_H 1
> | #define HAVE_SYS_PARAM_H 1
> | #define HAVE_UNISTD_H 1
> | #define HAVE_PUTENV 1
> | #define HAVE_STRCASECMP 1
> | #define HAVE_STRTOL 1
> | #define HAVE_STRSTR 1
> | #define HAVE_BCMP 1
> | #define HAVE_BCOPY 1
> | #define HAVE_BZERO 1
> | #define HAVE_GETCWD 1
> | #define HAVE_GETWD 1
> | #define HAVE_INDEX 1
> | #define HAVE_MEMCMP 1
> | #define HAVE_MEMCPY 1
> | #define HAVE_MKTEMP 1
> | #define HAVE_MKSTEMP 1
> | #define HAVE_RINDEX 1
> | #define HAVE_STRCHR 1
> | #define HAVE_STRRCHR 1
> | #define HAVE_STRUCT_STAT_ST_MTIM 1
> | #define HAVE_PROGRAM_INVOCATION_NAME 1
> | #define X_DISPLAY_MISSING 1
> | /* end confdefs.h.  */
> | #include <ac_nonexistent.h>
> configure:16309: checking for ld used by g++
> configure:16376: result: /usr/bin/ld -m elf_x86_64
> configure:16385: checking if the linker (/usr/bin/ld -m elf_x86_64) is GNU ld
> configure:16400: result: yes
> configure:16455: checking whether the g++ linker (/usr/bin/ld -m elf_x86_64) supports shared libraries
> configure:17430: result: yes
> configure:17458: g++ -c -g -O2  conftest.cpp >&5
> configure:17461: $? = 0
> configure:17643: checking for g++ option to produce PIC
> configure:17960: result: -fPIC -DPIC
> configure:17969: checking if g++ PIC flag -fPIC -DPIC works
> configure:17987: g++ -c -g -O2  -fPIC -DPIC -DPIC conftest.cpp >&5
> configure:17991: $? = 0
> configure:18004: result: yes
> configure:18025: checking if g++ static flag -static works
> configure:18053: result: yes
> configure:18065: checking if g++ supports -c -o file.o
> configure:18086: g++ -c -g -O2  -o out/conftest2.o conftest.cpp >&5
> configure:18090: $? = 0
> configure:18112: result: yes
> configure:18117: checking if g++ supports -c -o file.o
> configure:18164: result: yes
> configure:18194: checking whether the g++ linker (/usr/bin/ld -m elf_x86_64) supports shared libraries
> configure:18220: result: yes
> configure:18357: checking dynamic linker characteristics
> configure:18748: g++ -o conftest -g -O2   -Wl,-rpath -Wl,/foo conftest.cpp  >&5
> configure:18755: $? = 0
> configure:18988: result: GNU/Linux ld.so
> configure:19039: checking how to hardcode library paths into programs
> configure:19064: result: immediate
> configure:19204: checking for freetype-config
> configure:19220: found /usr/bin/freetype-config
> configure:19231: result: freetype-config
> configure:19313: checking for pkg-config
> configure:19329: found /usr/bin/pkg-config
> configure:19340: result: pkg-config
> configure:20669: creating ./config.status
> 
> ## ---------------------- ##
> ## Running config.status. ##
> ## ---------------------- ##
> 
> This file was extended by TeX Live config.status 2009test-1.6, which was
> generated by GNU Autoconf 2.63.  Invocation command line was
> 
>   CONFIG_FILES    = 
>   CONFIG_HEADERS  = 
>   CONFIG_LINKS    = 
>   CONFIG_COMMANDS = 
>   $ ./config.status 
> 
> on roth
> 
> config.status:983: creating Makefile
> config.status:1187: executing depfiles commands
> config.status:1187: executing libtool commands
> configure:23025: === configuring in texk/kpathsea (/home/mpg/src/luatex/git/build/texk/kpathsea)
> configure:23128: running /bin/bash ../../../source/texk/kpathsea/configure --disable-option-checking '--prefix=/usr/local'  '--enable-cxx-runtime-hack' '--disable-afm2pl' '--disable-aleph' '--disable-bibtex' '--disable-bibtex8' '--disable-cfftot1' '--disable-cjkutils' '--disable-detex' '--disable-devnag' '--disable-dialog' '--disable-dtl' '--enable-dump-share' '--disable-dvi2tty' '--disable-dvidvi' '--disable-dviljk' '--disable-dvipdfm' '--disable-dvipdfmx' '--disable-dvipos' '--disable-dvipsk' '--disable-gsftopk' '--disable-lacheck' '--disable-lcdf-typetools' '--disable-makeindexk' '--disable-mf' '--disable-mmafm' '--disable-mmpfb' '--disable-musixflx' '--disable-otfinfo' '--disable-otftotfm' '--disable-pdfopen' '--disable-pdftex' '--disable-ps2eps' '--disable-ps2pkm' '--disable-psutils' '--disable-seetexk' '--disable-t1dotlessj' '--disable-t1lint' '--disable-t1rawafm' '--disable-t1reencode' '--disable-t1testpage' '--disable-t1utils' '--disable-tex' '--disable-tex4htk' '--disable-tpic2pdftex' '--disable-ttf
> 2pk' '--disable-ttfdump' '--disable-ttftotype42' '--disable-vlna' '--disable-web-progs' '--disable-xdv2pdf' '--disable-xdvipdfmx' '--without-system-kpathsea' '--without-system-freetype2' '--without-system-gd' '--without-system-libpng' '--without-system-teckit' '--without-system-zlib' '--without-system-t1lib' '--disable-shared' '--disable-largefile' '--disable-ipc' '--without-mf-x-toolkit' '--without-x' '--enable-native-texlive-build' '--enable-multiplatform' '--enable-texlive-build' '--bindir=${exec_prefix}/bin/x86_64-unknown-linux-gnu' '--libdir=${exec_prefix}/lib/x86_64-unknown-linux-gnu' '--enable-web2c=yes' '--with-system-xpdf=no' --cache-file=/dev/null --srcdir=../../../source/texk/kpathsea
> configure:23025: === configuring in libs (/home/mpg/src/luatex/git/build/libs)
> configure:23128: running /bin/bash ../../source/libs/configure --disable-option-checking '--prefix=/usr/local'  '--enable-cxx-runtime-hack' '--disable-afm2pl' '--disable-aleph' '--disable-bibtex' '--disable-bibtex8' '--disable-cfftot1' '--disable-cjkutils' '--disable-detex' '--disable-devnag' '--disable-dialog' '--disable-dtl' '--enable-dump-share' '--disable-dvi2tty' '--disable-dvidvi' '--disable-dviljk' '--disable-dvipdfm' '--disable-dvipdfmx' '--disable-dvipos' '--disable-dvipsk' '--disable-gsftopk' '--disable-lacheck' '--disable-lcdf-typetools' '--disable-makeindexk' '--disable-mf' '--disable-mmafm' '--disable-mmpfb' '--disable-musixflx' '--disable-otfinfo' '--disable-otftotfm' '--disable-pdfopen' '--disable-pdftex' '--disable-ps2eps' '--disable-ps2pkm' '--disable-psutils' '--disable-seetexk' '--disable-t1dotlessj' '--disable-t1lint' '--disable-t1rawafm' '--disable-t1reencode' '--disable-t1testpage' '--disable-t1utils' '--disable-tex' '--disable-tex4htk' '--disable-tpic2pdftex' '--disable-ttf2pk' '--disa
> ble-ttfdump' '--disable-ttftotype42' '--disable-vlna' '--disable-web-progs' '--disable-xdv2pdf' '--disable-xdvipdfmx' '--without-system-kpathsea' '--without-system-freetype2' '--without-system-gd' '--without-system-libpng' '--without-system-teckit' '--without-system-zlib' '--without-system-t1lib' '--disable-shared' '--disable-largefile' '--disable-ipc' '--without-mf-x-toolkit' '--without-x' '--enable-native-texlive-build' '--enable-multiplatform' '--enable-texlive-build' '--bindir=${exec_prefix}/bin/x86_64-unknown-linux-gnu' '--libdir=${exec_prefix}/lib/x86_64-unknown-linux-gnu' '--enable-web2c=yes' '--with-system-xpdf=no' --cache-file=/dev/null --srcdir=../../source/libs
> configure:23025: === configuring in utils (/home/mpg/src/luatex/git/build/utils)
> configure:23128: running /bin/bash ../../source/utils/configure --disable-option-checking '--prefix=/usr/local'  '--enable-cxx-runtime-hack' '--disable-afm2pl' '--disable-aleph' '--disable-bibtex' '--disable-bibtex8' '--disable-cfftot1' '--disable-cjkutils' '--disable-detex' '--disable-devnag' '--disable-dialog' '--disable-dtl' '--enable-dump-share' '--disable-dvi2tty' '--disable-dvidvi' '--disable-dviljk' '--disable-dvipdfm' '--disable-dvipdfmx' '--disable-dvipos' '--disable-dvipsk' '--disable-gsftopk' '--disable-lacheck' '--disable-lcdf-typetools' '--disable-makeindexk' '--disable-mf' '--disable-mmafm' '--disable-mmpfb' '--disable-musixflx' '--disable-otfinfo' '--disable-otftotfm' '--disable-pdfopen' '--disable-pdftex' '--disable-ps2eps' '--disable-ps2pkm' '--disable-psutils' '--disable-seetexk' '--disable-t1dotlessj' '--disable-t1lint' '--disable-t1rawafm' '--disable-t1reencode' '--disable-t1testpage' '--disable-t1utils' '--disable-tex' '--disable-tex4htk' '--disable-tpic2pdftex' '--disable-ttf2pk' '--dis
> able-ttfdump' '--disable-ttftotype42' '--disable-vlna' '--disable-web-progs' '--disable-xdv2pdf' '--disable-xdvipdfmx' '--without-system-kpathsea' '--without-system-freetype2' '--without-system-gd' '--without-system-libpng' '--without-system-teckit' '--without-system-zlib' '--without-system-t1lib' '--disable-shared' '--disable-largefile' '--disable-ipc' '--without-mf-x-toolkit' '--without-x' '--enable-native-texlive-build' '--enable-multiplatform' '--enable-texlive-build' '--bindir=${exec_prefix}/bin/x86_64-unknown-linux-gnu' '--libdir=${exec_prefix}/lib/x86_64-unknown-linux-gnu' '--enable-web2c=yes' '--with-system-xpdf=no' --cache-file=/dev/null --srcdir=../../source/utils
> configure:23025: === configuring in texk (/home/mpg/src/luatex/git/build/texk)
> configure:23128: running /bin/bash ../../source/texk/configure --disable-option-checking '--prefix=/usr/local'  '--enable-cxx-runtime-hack' '--disable-afm2pl' '--disable-aleph' '--disable-bibtex' '--disable-bibtex8' '--disable-cfftot1' '--disable-cjkutils' '--disable-detex' '--disable-devnag' '--disable-dialog' '--disable-dtl' '--enable-dump-share' '--disable-dvi2tty' '--disable-dvidvi' '--disable-dviljk' '--disable-dvipdfm' '--disable-dvipdfmx' '--disable-dvipos' '--disable-dvipsk' '--disable-gsftopk' '--disable-lacheck' '--disable-lcdf-typetools' '--disable-makeindexk' '--disable-mf' '--disable-mmafm' '--disable-mmpfb' '--disable-musixflx' '--disable-otfinfo' '--disable-otftotfm' '--disable-pdfopen' '--disable-pdftex' '--disable-ps2eps' '--disable-ps2pkm' '--disable-psutils' '--disable-seetexk' '--disable-t1dotlessj' '--disable-t1lint' '--disable-t1rawafm' '--disable-t1reencode' '--disable-t1testpage' '--disable-t1utils' '--disable-tex' '--disable-tex4htk' '--disable-tpic2pdftex' '--disable-ttf2pk' '--disa
> ble-ttfdump' '--disable-ttftotype42' '--disable-vlna' '--disable-web-progs' '--disable-xdv2pdf' '--disable-xdvipdfmx' '--without-system-kpathsea' '--without-system-freetype2' '--without-system-gd' '--without-system-libpng' '--without-system-teckit' '--without-system-zlib' '--without-system-t1lib' '--disable-shared' '--disable-largefile' '--disable-ipc' '--without-mf-x-toolkit' '--without-x' '--enable-native-texlive-build' '--enable-multiplatform' '--enable-texlive-build' '--bindir=${exec_prefix}/bin/x86_64-unknown-linux-gnu' '--libdir=${exec_prefix}/lib/x86_64-unknown-linux-gnu' '--enable-web2c=yes' '--with-system-xpdf=no' --cache-file=/dev/null --srcdir=../../source/texk
> configure:23167: result:
> ** Configuration summary for TeX Live 2009test-1.6:
> 
>    compiling for x86_64-unknown-linux-gnu
>    prefix:               /usr/local
>    enable_multiplatform: yes
> 
> ** Next run `make' to configure and build each library and program.
> 
> 
> ## ---------------- ##
> ## Cache variables. ##
> ## ---------------- ##
> 
> ac_cv_build=x86_64-unknown-linux-gnu
> ac_cv_c_compiler_gnu=yes
> ac_cv_c_const=yes
> ac_cv_c_inline=inline
> ac_cv_cxx_compiler_gnu=yes
> ac_cv_env_CCC_set=
> ac_cv_env_CCC_value=
> ac_cv_env_CC_set=
> ac_cv_env_CC_value=
> ac_cv_env_CFLAGS_set=
> ac_cv_env_CFLAGS_value=
> ac_cv_env_CPPFLAGS_set=
> ac_cv_env_CPPFLAGS_value=
> ac_cv_env_CPP_set=
> ac_cv_env_CPP_value=
> ac_cv_env_CXXCPP_set=
> ac_cv_env_CXXCPP_value=
> ac_cv_env_CXXFLAGS_set=
> ac_cv_env_CXXFLAGS_value=
> ac_cv_env_CXX_set=
> ac_cv_env_CXX_value=
> ac_cv_env_LDFLAGS_set=
> ac_cv_env_LDFLAGS_value=
> ac_cv_env_LIBS_set=
> ac_cv_env_LIBS_value=
> ac_cv_env_XMKMF_set=
> ac_cv_env_XMKMF_value=
> ac_cv_env_build_alias_set=
> ac_cv_env_build_alias_value=
> ac_cv_env_host_alias_set=
> ac_cv_env_host_alias_value=
> ac_cv_env_target_alias_set=
> ac_cv_env_target_alias_value=
> ac_cv_func_bcmp=yes
> ac_cv_func_bcopy=yes
> ac_cv_func_bzero=yes
> ac_cv_func_closedir_void=no
> ac_cv_func_getcwd=yes
> ac_cv_func_getwd=yes
> ac_cv_func_index=yes
> ac_cv_func_memcmp=yes
> ac_cv_func_memcpy=yes
> ac_cv_func_mkstemp=yes
> ac_cv_func_mktemp=yes
> ac_cv_func_putenv=yes
> ac_cv_func_rindex=yes
> ac_cv_func_strcasecmp=yes
> ac_cv_func_strchr=yes
> ac_cv_func_strrchr=yes
> ac_cv_func_strstr=yes
> ac_cv_func_strtol=yes
> ac_cv_header_assert_h=yes
> ac_cv_header_dirent_dirent_h=yes
> ac_cv_header_dlfcn_h=yes
> ac_cv_header_float_h=yes
> ac_cv_header_inttypes_h=yes
> ac_cv_header_limits_h=yes
> ac_cv_header_memory_h=yes
> ac_cv_header_pwd_h=yes
> ac_cv_header_stdc=yes
> ac_cv_header_stdint_h=yes
> ac_cv_header_stdlib_h=yes
> ac_cv_header_string_h=yes
> ac_cv_header_strings_h=yes
> ac_cv_header_sys_param_h=yes
> ac_cv_header_sys_stat_h=yes
> ac_cv_header_sys_types_h=yes
> ac_cv_header_unistd_h=yes
> ac_cv_host=x86_64-unknown-linux-gnu
> ac_cv_member_struct_stat_st_mtim=yes
> ac_cv_objext=o
> ac_cv_path_EGREP='/bin/grep -E'
> ac_cv_path_FGREP='/bin/grep -F'
> ac_cv_path_GREP=/bin/grep
> ac_cv_path_SED=/bin/sed
> ac_cv_path_install='/usr/bin/install -c'
> ac_cv_path_mkdir=/bin/mkdir
> ac_cv_prog_AWK=mawk
> ac_cv_prog_CPP='gcc -E'
> ac_cv_prog_CXXCPP='g++ -E'
> ac_cv_prog_ac_ct_AR=ar
> ac_cv_prog_ac_ct_CC=gcc
> ac_cv_prog_ac_ct_CXX=g++
> ac_cv_prog_ac_ct_FT2_CONFIG=freetype-config
> ac_cv_prog_ac_ct_OBJDUMP=objdump
> ac_cv_prog_ac_ct_PKG_CONFIG=pkg-config
> ac_cv_prog_ac_ct_RANLIB=ranlib
> ac_cv_prog_ac_ct_STRIP=strip
> ac_cv_prog_cc_c89=
> ac_cv_prog_cc_g=yes
> ac_cv_prog_cxx_g=yes
> ac_cv_prog_make_make_set=yes
> ac_cv_search_opendir='none required'
> ac_cv_sys_largefile_source=no
> am_cv_CC_dependencies_compiler_type=gcc3
> am_cv_CXX_dependencies_compiler_type=gcc3
> kb_cv_c_prototypes=yes
> kb_cv_var_program_inv_name=yes
> kpse_cv_warning_cflags='-Wall -Wunused -Wdeclaration-after-statement -Wno-unknown-pragmas'
> kpse_cv_warning_cxxflags='-Wall -Wunused -Wno-unknown-pragmas'
> lt_cv_deplibs_check_method=pass_all
> lt_cv_file_magic_cmd='$MAGIC_CMD'
> lt_cv_file_magic_test_file=
> lt_cv_ld_reload_flag=-r
> lt_cv_nm_interface='BSD nm'
> lt_cv_objdir=.libs
> lt_cv_path_LD=/usr/bin/ld
> lt_cv_path_LDCXX='/usr/bin/ld -m elf_x86_64'
> lt_cv_path_NM='/usr/bin/nm -B'
> lt_cv_prog_compiler_c_o=yes
> lt_cv_prog_compiler_c_o_CXX=yes
> lt_cv_prog_compiler_pic_works=yes
> lt_cv_prog_compiler_pic_works_CXX=yes
> lt_cv_prog_compiler_rtti_exceptions=no
> lt_cv_prog_compiler_static_works=yes
> lt_cv_prog_compiler_static_works_CXX=yes
> lt_cv_prog_gnu_ld=yes
> lt_cv_prog_gnu_ldcxx=yes
> lt_cv_sys_global_symbol_pipe='sed -n -e '\''s/^.*[	 ]\([ABCDGIRSTW][ABCDGIRSTW]*\)[	 ][	 ]*\([_A-Za-z][_A-Za-z0-9]*\)$/\1 \2 \2/p'\'''
> lt_cv_sys_global_symbol_to_c_name_address='sed -n -e '\''s/^: \([^ ]*\) $/  {\"\1\", (void *) 0},/p'\'' -e '\''s/^[ABCDGIRSTW]* \([^ ]*\) \([^ ]*\)$/  {"\2", (void *) \&\2},/p'\'''
> lt_cv_sys_global_symbol_to_c_name_address_lib_prefix='sed -n -e '\''s/^: \([^ ]*\) $/  {\"\1\", (void *) 0},/p'\'' -e '\''s/^[ABCDGIRSTW]* \([^ ]*\) \(lib[^ ]*\)$/  {"\2", (void *) \&\2},/p'\'' -e '\''s/^[ABCDGIRSTW]* \([^ ]*\) \([^ ]*\)$/  {"lib\2", (void *) \&\2},/p'\'''
> lt_cv_sys_global_symbol_to_cdecl='sed -n -e '\''s/^T .* \(.*\)$/extern int \1();/p'\'' -e '\''s/^[ABCDGIRSTW]* .* \(.*\)$/extern char \1;/p'\'''
> lt_cv_sys_max_cmd_len=1572864
> 
> ## ----------------- ##
> ## Output variables. ##
> ## ----------------- ##
> 
> ACLOCAL='${SHELL} /home/mpg/src/luatex/git/source/build-aux/missing --run aclocal-1.10'
> AMDEPBACKSLASH='\'
> AMDEP_FALSE='#'
> AMDEP_TRUE=''
> AMTAR='${SHELL} /home/mpg/src/luatex/git/source/build-aux/missing --run tar'
> AR='ar'
> AUTOCONF='${SHELL} /home/mpg/src/luatex/git/source/build-aux/missing --run autoconf'
> AUTOHEADER='${SHELL} /home/mpg/src/luatex/git/source/build-aux/missing --run autoheader'
> AUTOMAKE='${SHELL} /home/mpg/src/luatex/git/source/build-aux/missing --run automake-1.10'
> AWK='mawk'
> CC='gcc'
> CCDEPMODE='depmode=gcc3'
> CFLAGS='-g -O2'
> CPP='gcc -E'
> CPPFLAGS=''
> CXX='g++'
> CXXCPP='g++ -E'
> CXXDEPMODE='depmode=gcc3'
> CXXFLAGS='-g -O2'
> CYGPATH_W='echo'
> DEFS='-DPACKAGE_NAME=\"TeX\ Live\" -DPACKAGE_TARNAME=\"tex-live\" -DPACKAGE_VERSION=\"2009test-1.6\" -DPACKAGE_STRING=\"TeX\ Live\ 2009test-1.6\" -DPACKAGE_BUGREPORT=\"tex-k at tug.org\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DPACKAGE=\"tex-live\" -DVERSION=\"2009test-1.6\" -DLT_OBJDIR=\".libs/\" -DHAVE_FSEEKO=1 -DHAVE_DIRENT_H=1 -DSTDC_HEADERS=1 -DHAVE_ASSERT_H=1 -DHAVE_FLOAT_H=1 -DHAVE_LIMITS_H=1 -DHAVE_MEMORY_H=1 -DHAVE_PWD_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_STRINGS_H=1 -DHAVE_SYS_PARAM_H=1 -DHAVE_UNISTD_H=1 -DHAVE_PUTENV=1 -DHAVE_STRCASECMP=1 -DHAVE_STRTOL=1 -DHAVE_STRSTR=1 -DHAVE_BCMP=1 -DHAVE_BCOPY=1 -DHAVE_BZERO=1 -DHAVE_GETCWD=1 -DHAVE_GETWD=1 -DHAVE_INDEX=1 -DHAVE_MEMCMP=1 -DHAVE_MEMCPY=1 -DHAVE_MKTEMP=1 -DHAVE_MKSTEMP=1 -DHAVE_RINDEX=1 -DHAVE_STRCHR=1 -DHAVE_STRRCHR=1 -DHAVE_STRUCT_STAT_ST_MTIM=1 -DHAVE_PROGRAM_INVOCATION_NAME
> =1 -DX_DISPLAY_MISSING=1'
> DEPDIR='.deps'
> DSYMUTIL=''
> DUMPBIN=''
> ECHO_C=''
> ECHO_N='-n'
> ECHO_T=''
> EGREP='/bin/grep -E'
> EXEEXT=''
> FGREP='/bin/grep -F'
> FT2_CONFIG='freetype-config'
> GREP='/bin/grep'
> INSTALL_DATA='${INSTALL} -m 644'
> INSTALL_PROGRAM='${INSTALL}'
> INSTALL_SCRIPT='${INSTALL}'
> INSTALL_STRIP_PROGRAM='$(install_sh) -c -s'
> LD='/usr/bin/ld -m elf_x86_64'
> LDFLAGS=''
> LIBOBJS=''
> LIBS=''
> LIBTOOL='$(SHELL) $(top_builddir)/libtool'
> LIPO=''
> LN_S='ln -s'
> LTLIBOBJS=''
> MAINT='#'
> MAINTAINER_MODE_FALSE=''
> MAINTAINER_MODE_TRUE='#'
> MAKEINFO='${SHELL} /home/mpg/src/luatex/git/source/build-aux/missing --run makeinfo'
> MKDIR_P='/bin/mkdir -p'
> NM='/usr/bin/nm -B'
> NMEDIT=''
> OBJDUMP='objdump'
> OBJEXT='o'
> OTOOL64=''
> OTOOL=''
> PACKAGE='tex-live'
> PACKAGE_BUGREPORT='tex-k at tug.org'
> PACKAGE_NAME='TeX Live'
> PACKAGE_STRING='TeX Live 2009test-1.6'
> PACKAGE_TARNAME='tex-live'
> PACKAGE_VERSION='2009test-1.6'
> PATH_SEPARATOR=':'
> PKG_CONFIG='pkg-config'
> RANLIB='ranlib'
> SED='/bin/sed'
> SET_MAKE=''
> SHELL='/bin/bash'
> STRIP='strip'
> VERSION='2009test-1.6'
> WARNING_CFLAGS='-Wall -Wunused -Wdeclaration-after-statement -Wno-unknown-pragmas'
> WARNING_CXXFLAGS='-Wall -Wunused -Wno-unknown-pragmas'
> XMKMF=''
> X_CFLAGS=''
> X_EXTRA_LIBS=''
> X_LIBS=''
> X_PRE_LIBS=''
> ac_ct_CC='gcc'
> ac_ct_CXX='g++'
> ac_ct_DUMPBIN=''
> am__fastdepCC_FALSE='#'
> am__fastdepCC_TRUE=''
> am__fastdepCXX_FALSE='#'
> am__fastdepCXX_TRUE=''
> am__include='include'
> am__isrc=' -I$(srcdir)'
> am__leading_dot='.'
> am__quote=''
> am__tar='${AMTAR} chof - "$$tardir"'
> am__untar='${AMTAR} xf -'
> bindir='${exec_prefix}/bin/x86_64-unknown-linux-gnu'
> build='x86_64-unknown-linux-gnu'
> build_alias=''
> build_cpu='x86_64'
> build_kpathsea_FALSE='#'
> build_kpathsea_TRUE=''
> build_os='linux-gnu'
> build_vendor='unknown'
> datadir='${datarootdir}'
> datarootdir='${prefix}/share'
> docdir='${datarootdir}/doc/${PACKAGE_TARNAME}'
> dvidir='${docdir}'
> exec_prefix='${prefix}'
> host='x86_64-unknown-linux-gnu'
> host_alias=''
> host_cpu='x86_64'
> host_os='linux-gnu'
> host_vendor='unknown'
> htmldir='${docdir}'
> includedir='${prefix}/include'
> infodir='${datarootdir}/info'
> install_sh='$(SHELL) /home/mpg/src/luatex/git/source/build-aux/install-sh'
> libdir='${exec_prefix}/lib/x86_64-unknown-linux-gnu'
> libexecdir='${exec_prefix}/libexec'
> localedir='${datarootdir}/locale'
> localstatedir='${prefix}/var'
> lt_ECHO='echo'
> mandir='${datarootdir}/man'
> mkdir_p='/bin/mkdir -p'
> oldincludedir='/usr/include'
> pdfdir='${docdir}'
> prefix='/usr/local'
> program_transform_name='s,x,x,'
> psdir='${docdir}'
> sbindir='${exec_prefix}/sbin'
> sharedstatedir='${prefix}/com'
> subdirs=' texk/kpathsea libs utils texk'
> sysconfdir='${prefix}/etc'
> target_alias=''
> 
> ## ----------- ##
> ## confdefs.h. ##
> ## ----------- ##
> 
> #define PACKAGE_NAME "TeX Live"
> #define PACKAGE_TARNAME "tex-live"
> #define PACKAGE_VERSION "2009test-1.6"
> #define PACKAGE_STRING "TeX Live 2009test-1.6"
> #define PACKAGE_BUGREPORT "tex-k at tug.org"
> #define STDC_HEADERS 1
> #define HAVE_SYS_TYPES_H 1
> #define HAVE_SYS_STAT_H 1
> #define HAVE_STDLIB_H 1
> #define HAVE_STRING_H 1
> #define HAVE_MEMORY_H 1
> #define HAVE_STRINGS_H 1
> #define HAVE_INTTYPES_H 1
> #define HAVE_STDINT_H 1
> #define HAVE_UNISTD_H 1
> #define HAVE_DLFCN_H 1
> #define PACKAGE "tex-live"
> #define VERSION "2009test-1.6"
> #define LT_OBJDIR ".libs/"
> #define HAVE_FSEEKO 1
> #define HAVE_DIRENT_H 1
> #define STDC_HEADERS 1
> #define HAVE_ASSERT_H 1
> #define HAVE_FLOAT_H 1
> #define HAVE_LIMITS_H 1
> #define HAVE_MEMORY_H 1
> #define HAVE_PWD_H 1
> #define HAVE_STDLIB_H 1
> #define HAVE_STRING_H 1
> #define HAVE_STRINGS_H 1
> #define HAVE_SYS_PARAM_H 1
> #define HAVE_UNISTD_H 1
> #define HAVE_PUTENV 1
> #define HAVE_STRCASECMP 1
> #define HAVE_STRTOL 1
> #define HAVE_STRSTR 1
> #define HAVE_BCMP 1
> #define HAVE_BCOPY 1
> #define HAVE_BZERO 1
> #define HAVE_GETCWD 1
> #define HAVE_GETWD 1
> #define HAVE_INDEX 1
> #define HAVE_MEMCMP 1
> #define HAVE_MEMCPY 1
> #define HAVE_MKTEMP 1
> #define HAVE_MKSTEMP 1
> #define HAVE_RINDEX 1
> #define HAVE_STRCHR 1
> #define HAVE_STRRCHR 1
> #define HAVE_STRUCT_STAT_ST_MTIM 1
> #define HAVE_PROGRAM_INVOCATION_NAME 1
> #define X_DISPLAY_MISSING 1
> 
> configure: exit 0


-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://tug.org/pipermail/luatex/attachments/20100107/5eca6aa3/attachment-0001.bin>

From taco at elvenkind.com  Thu Jan  7 13:03:28 2010
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 07 Jan 2010 13:03:28 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <20100107115703.GA8191@khaled-laptop>
References: <4B45BBDE.4030206@elzevir.fr>	<fe8d59da1001070310m6c91ee1fnb2b0db4c41c2b0c9@mail.gmail.com>
	<20100107115703.GA8191@khaled-laptop>
Message-ID: <4B45CD90.6040604@elvenkind.com>

Khaled Hosny wrote:
> On Thu, Jan 07, 2010 at 12:10:11PM +0100, luigi scarso wrote:
>> On Thu, Jan 7, 2010 at 11:47 AM, Manuel P?gouri?-Gonnard <mpg at elzevir.fr> wrote:
>>> Hi,
>>>
>>> My last attempt to build the current trunk, as well as 0.50.0, failed. Surely
>>> this is a problem with my local configuration, but I used to be able to build
>>> luatex successfully on this machine. Below is the end of the output from
>>> build.sh, and I attach config.log in case it may contain clues.
>>>
>>> Thanks,
>>> Manuel.
>> Try to add
>> export CONFIG_SHELL=/bin/bash
>> to build.sh
> 
> Since this is a common problem, can't this line be added to build.sh in
> the repository?

Not like this, because the location of /bin/bash is not guaranteed
and it is quite possible that /bin/sh is working just fine. So,
it would need some kind of extra test of the existence of /bin/bash,
and only do the export if /bin/bash actually exists.

I am bad at shell programming, but if I receive such a patch it
will certainly be added.

Best wishes,
Taco



From taco at elvenkind.com  Thu Jan  7 13:10:08 2010
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 07 Jan 2010 13:10:08 +0100
Subject: [luatex] Glue node without spec field?
In-Reply-To: <fe8d59da1001070400x1183835ds7cd7a2176bb3bad1@mail.gmail.com>
References: <4B452C89.40004@elzevir.fr> <4B459732.9070704@elvenkind.com>
	<fe8d59da1001070400x1183835ds7cd7a2176bb3bad1@mail.gmail.com>
Message-ID: <4B45CF20.8000803@elvenkind.com>

luigi scarso wrote:
> If I understand it correctly,
> if subtype is not 0 then spec is an empty node

No, that is wrong. spec is *never* an empty node.

The spec can be zero though, and that is a static spec with
values 0pt plus 0pt minus 0pt. The lua interface treated that
wrongly (all other node links cannot be zero, and there was
no special case for spec fields).

The non-zero subtype means that this glue matches
one of the internal parameters, e.g. 9 == \rightskip,
or that it is a leader (values 100-102).

> n.leader == nil

Yes, in this case the leader is nil, leader only has
useful values for glues with a subtype that says it is
a leader.

Best wishes,
Taco

From khaledhosny at eglug.org  Thu Jan  7 13:23:14 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 7 Jan 2010 14:23:14 +0200
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <4B45CD90.6040604@elvenkind.com>
References: <4B45BBDE.4030206@elzevir.fr>
	<fe8d59da1001070310m6c91ee1fnb2b0db4c41c2b0c9@mail.gmail.com>
	<20100107115703.GA8191@khaled-laptop>
	<4B45CD90.6040604@elvenkind.com>
Message-ID: <20100107122314.GA8590@khaled-laptop>

On Thu, Jan 07, 2010 at 01:03:28PM +0100, Taco Hoekwater wrote:
> Khaled Hosny wrote:
> >On Thu, Jan 07, 2010 at 12:10:11PM +0100, luigi scarso wrote:
> >>On Thu, Jan 7, 2010 at 11:47 AM, Manuel P?gouri?-Gonnard <mpg at elzevir.fr> wrote:
> >>>Hi,
> >>>
> >>>My last attempt to build the current trunk, as well as 0.50.0, failed. Surely
> >>>this is a problem with my local configuration, but I used to be able to build
> >>>luatex successfully on this machine. Below is the end of the output from
> >>>build.sh, and I attach config.log in case it may contain clues.
> >>>
> >>>Thanks,
> >>>Manuel.
> >>Try to add
> >>export CONFIG_SHELL=/bin/bash
> >>to build.sh
> >
> >Since this is a common problem, can't this line be added to build.sh in
> >the repository?
> 
> Not like this, because the location of /bin/bash is not guaranteed
> and it is quite possible that /bin/sh is working just fine. So,
> it would need some kind of extra test of the existence of /bin/bash,
> and only do the export if /bin/bash actually exists.
> 
> I am bad at shell programming, but if I receive such a patch it
> will certainly be added.

if [ -x /bin/bash ]; then
  export CONFIG_SHELL=/bin/bash;
fi


Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://tug.org/pipermail/luatex/attachments/20100107/fbfc674e/attachment.bin>

From preining at logic.at  Thu Jan  7 13:36:13 2010
From: preining at logic.at (Norbert Preining)
Date: Thu, 7 Jan 2010 13:36:13 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <20100107122314.GA8590@khaled-laptop>
References: <4B45BBDE.4030206@elzevir.fr>
	<fe8d59da1001070310m6c91ee1fnb2b0db4c41c2b0c9@mail.gmail.com>
	<20100107115703.GA8191@khaled-laptop>
	<4B45CD90.6040604@elvenkind.com>
	<20100107122314.GA8590@khaled-laptop>
Message-ID: <20100107123613.GB3061@gamma.logic.tuwien.ac.at>

On Do, 07 Jan 2010, Khaled Hosny wrote:
> if [ -x /bin/bash ]; then
>   export CONFIG_SHELL=/bin/bash;
> fi

I would suggest:

	if which bash >/dev/null
	then
		export CONFIG_SHELL=`which bash`
	fi

which would work on computers where bash is not in /bin (yes there are!)

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan            TU Wien, Austria           Debian TeX Task Force
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
THURNBY (n.)
A rucked-up edge of carpet or linoleum which everyone says someone
will trip over and break a leg unless it gets fixed. After a year or
two someone trips over it and breaks a leg.
			--- Douglas Adams, The Meaning of Liff

From patrick at gundla.ch  Thu Jan  7 13:43:27 2010
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu, 7 Jan 2010 13:43:27 +0100
Subject: [luatex] German LuaTeX blog
Message-ID: <C02D78CE-0772-4205-9527-4BC24D6EEBE3@gundla.ch>

Hi,

I just want to tell the german speaking (=reading) users, that I have started a LuaTeX blog with news and technical stuff (focus is on the technical stuff) at 

http://www.luatex.de

If you have any suggestions: please don't hesitate to contact me.

Patrick



From taco at elvenkind.com  Thu Jan  7 13:58:05 2010
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 07 Jan 2010 13:58:05 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <20100107123613.GB3061@gamma.logic.tuwien.ac.at>
References: <4B45BBDE.4030206@elzevir.fr>	<fe8d59da1001070310m6c91ee1fnb2b0db4c41c2b0c9@mail.gmail.com>	<20100107115703.GA8191@khaled-laptop>	<4B45CD90.6040604@elvenkind.com>	<20100107122314.GA8590@khaled-laptop>
	<20100107123613.GB3061@gamma.logic.tuwien.ac.at>
Message-ID: <4B45DA5D.5050908@elvenkind.com>



Norbert Preining wrote:
> On Do, 07 Jan 2010, Khaled Hosny wrote:
>> if [ -x /bin/bash ]; then
>>   export CONFIG_SHELL=/bin/bash;
>> fi
> 
> I would suggest:
> 
> 	if which bash >/dev/null
> 	then
> 		export CONFIG_SHELL=`which bash`
> 	fi
> 
> which would work on computers where bash is not in /bin (yes there are!)

Committed (I will/can not test this myself, I have /bin/bash as
login shell and am perfectly happy with that).

Best wishes,
Taco

From preining at logic.at  Thu Jan  7 14:01:29 2010
From: preining at logic.at (Norbert Preining)
Date: Thu, 7 Jan 2010 14:01:29 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <4B45DA5D.5050908@elvenkind.com>
References: <4B45BBDE.4030206@elzevir.fr>
	<fe8d59da1001070310m6c91ee1fnb2b0db4c41c2b0c9@mail.gmail.com>
	<20100107115703.GA8191@khaled-laptop>
	<4B45CD90.6040604@elvenkind.com>
	<20100107122314.GA8590@khaled-laptop>
	<20100107123613.GB3061@gamma.logic.tuwien.ac.at>
	<4B45DA5D.5050908@elvenkind.com>
Message-ID: <20100107130129.GD3061@gamma.logic.tuwien.ac.at>

On Do, 07 Jan 2010, Taco Hoekwater wrote:
> Committed (I will/can not test this myself, I have /bin/bash as
> login shell and am perfectly happy with that).

Me too, and I don't want anything else  ...

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan            TU Wien, Austria           Debian TeX Task Force
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
FORSINAIN (n. archaic)
The right of the lord of the manor to molest dwarves on their
birthdays.
			--- Douglas Adams, The Meaning of Liff

From t34www at googlemail.com  Thu Jan  7 14:01:43 2010
From: t34www at googlemail.com (T T)
Date: Thu, 7 Jan 2010 13:01:43 +0000
Subject: [luatex] German LuaTeX blog
In-Reply-To: <C02D78CE-0772-4205-9527-4BC24D6EEBE3@gundla.ch>
References: <C02D78CE-0772-4205-9527-4BC24D6EEBE3@gundla.ch>
Message-ID: <e7fba2611001070501l6c7fc397h5abd26989be89455@mail.gmail.com>

2010/1/7 Patrick Gundlach <patrick at gundla.ch>:
> Hi,
>
> I just want to tell the german speaking (=reading) users, that I have started a LuaTeX blog with news and technical stuff (focus is on the technical stuff) at
>
> http://www.luatex.de
>
> If you have any suggestions: please don't hesitate to contact me.

Widen your audience and write it in English ;)

Cheers,

Tomek

From khaledhosny at eglug.org  Thu Jan  7 14:09:07 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 7 Jan 2010 15:09:07 +0200
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <20100107130129.GD3061@gamma.logic.tuwien.ac.at>
References: <4B45BBDE.4030206@elzevir.fr>
	<fe8d59da1001070310m6c91ee1fnb2b0db4c41c2b0c9@mail.gmail.com>
	<20100107115703.GA8191@khaled-laptop>
	<4B45CD90.6040604@elvenkind.com>
	<20100107122314.GA8590@khaled-laptop>
	<20100107123613.GB3061@gamma.logic.tuwien.ac.at>
	<4B45DA5D.5050908@elvenkind.com>
	<20100107130129.GD3061@gamma.logic.tuwien.ac.at>
Message-ID: <20100107130907.GA18874@khaled-laptop>

On Thu, Jan 07, 2010 at 02:01:29PM +0100, Norbert Preining wrote:
> On Do, 07 Jan 2010, Taco Hoekwater wrote:
> > Committed (I will/can not test this myself, I have /bin/bash as
> > login shell and am perfectly happy with that).
> 
> Me too, and I don't want anything else  ...

Though I use bash too (I didn't even now about the existence of dash
until recently), still I get that issue unless I explicitly export
CONFIG_SHELL, so thanks for fixing this :)

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://tug.org/pipermail/luatex/attachments/20100107/14652794/attachment-0001.bin>

From luigi.scarso at gmail.com  Thu Jan  7 15:09:48 2010
From: luigi.scarso at gmail.com (luigi scarso)
Date: Thu, 7 Jan 2010 15:09:48 +0100
Subject: [luatex] Glue node without spec field?
In-Reply-To: <4B45CF20.8000803@elvenkind.com>
References: <4B452C89.40004@elzevir.fr> <4B459732.9070704@elvenkind.com>
	<fe8d59da1001070400x1183835ds7cd7a2176bb3bad1@mail.gmail.com>
	<4B45CF20.8000803@elvenkind.com>
Message-ID: <fe8d59da1001070609l4506ec3em6380b5b43347a82e@mail.gmail.com>

On Thu, Jan 7, 2010 at 1:10 PM, Taco Hoekwater <taco at elvenkind.com> wrote:
> luigi scarso wrote:
>>
>> If I understand it correctly,
>> if subtype is not 0 then spec is an empty node
>
> No, that is wrong. spec is *never* an empty node.
>
> The spec can be zero though, and that is a static spec with
> values 0pt plus 0pt minus 0pt. The lua interface treated that
> wrongly (all other node links cannot be zero, and there was
> no special case for spec fields).
>
> The non-zero subtype means that this glue matches
> one of the internal parameters, e.g. 9 == \rightskip,
> or that it is a leader (values 100-102).
Ah ok, now understand.

-- 
luigi

From mpg at elzevir.fr  Thu Jan  7 15:22:21 2010
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Thu, 07 Jan 2010 15:22:21 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <4B45DA5D.5050908@elvenkind.com>
References: <4B45BBDE.4030206@elzevir.fr>	<fe8d59da1001070310m6c91ee1fnb2b0db4c41c2b0c9@mail.gmail.com>	<20100107115703.GA8191@khaled-laptop>	<4B45CD90.6040604@elvenkind.com>	<20100107122314.GA8590@khaled-laptop>	<20100107123613.GB3061@gamma.logic.tuwien.ac.at>
	<4B45DA5D.5050908@elvenkind.com>
Message-ID: <4B45EE1D.7030006@elzevir.fr>

[building with bash on the system, but /bin/sh != bash]

On 07/01/2010 13:58, Taco Hoekwater wrote:
> Norbert Preining wrote:
>> I would suggest:
>>
>> 	if which bash >/dev/null
>> 	then
>> 		export CONFIG_SHELL=`which bash`
>> 	fi
>>
>> which would work on computers where bash is not in /bin (yes there are!)
> 
> Committed (I will/can not test this myself, I have /bin/bash as
> login shell and am perfectly happy with that).
> 
Hum, though I cannot find a reference right now, I seem to remember it was fixed
in the TL build system some time ago by using a more recent libtools.

Peter, do you confirm? Taco, when was the last time you updated the build system
from TeX Live?

Manuel.

From taco at elvenkind.com  Thu Jan  7 15:23:34 2010
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 07 Jan 2010 15:23:34 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <4B45EE1D.7030006@elzevir.fr>
References: <4B45BBDE.4030206@elzevir.fr>	<fe8d59da1001070310m6c91ee1fnb2b0db4c41c2b0c9@mail.gmail.com>	<20100107115703.GA8191@khaled-laptop>	<4B45CD90.6040604@elvenkind.com>	<20100107122314.GA8590@khaled-laptop>	<20100107123613.GB3061@gamma.logic.tuwien.ac.at>
	<4B45DA5D.5050908@elvenkind.com> <4B45EE1D.7030006@elzevir.fr>
Message-ID: <4B45EE66.1020407@elvenkind.com>



Manuel P?gouri?-Gonnard wrote:
> [building with bash on the system, but /bin/sh != bash]
> 
> On 07/01/2010 13:58, Taco Hoekwater wrote:
>> Norbert Preining wrote:
>>> I would suggest:
>>>
>>> 	if which bash >/dev/null
>>> 	then
>>> 		export CONFIG_SHELL=`which bash`
>>> 	fi
>>>
>>> which would work on computers where bash is not in /bin (yes there are!)
>> Committed (I will/can not test this myself, I have /bin/bash as
>> login shell and am perfectly happy with that).
>>
> Hum, though I cannot find a reference right now, I seem to remember it was fixed
> in the TL build system some time ago by using a more recent libtools.
> 
> Taco, when was the last time you updated the build system
> from TeX Live?

A few weeks before the freeze of TL2009 (so a while back already)

Best wishes,
Taco

From mpg at elzevir.fr  Thu Jan  7 15:24:02 2010
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Thu, 07 Jan 2010 15:24:02 +0100
Subject: [luatex] German LuaTeX blog
In-Reply-To: <e7fba2611001070501l6c7fc397h5abd26989be89455@mail.gmail.com>
References: <C02D78CE-0772-4205-9527-4BC24D6EEBE3@gundla.ch>
	<e7fba2611001070501l6c7fc397h5abd26989be89455@mail.gmail.com>
Message-ID: <4B45EE82.2050305@elzevir.fr>

On 07/01/2010 14:01, T T wrote:
> 2010/1/7 Patrick Gundlach <patrick at gundla.ch>:
>> Hi,
>>
>> I just want to tell the german speaking (=reading) users, that I have started a LuaTeX blog with news and technical stuff (focus is on the technical stuff) at
>>
>> http://www.luatex.de
>>
>> If you have any suggestions: please don't hesitate to contact me.
> 
> Widen your audience and write it in English ;)
> 
No, please don't! I was precisely looking for a good motivation to
improve/revive my German :-)

Manuel.

From patrick at gundla.ch  Thu Jan  7 15:38:21 2010
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu, 7 Jan 2010 15:38:21 +0100
Subject: [luatex] German LuaTeX blog
In-Reply-To: <4B45EE82.2050305@elzevir.fr>
References: <C02D78CE-0772-4205-9527-4BC24D6EEBE3@gundla.ch>
	<e7fba2611001070501l6c7fc397h5abd26989be89455@mail.gmail.com>
	<4B45EE82.2050305@elzevir.fr>
Message-ID: <F5AF11C7-1EF4-4091-8B75-5BA7AD15F268@gundla.ch>

>>> 
>>> If you have any suggestions: please don't hesitate to contact me.
>> 
>> Widen your audience and write it in English ;)
>> 
> No, please don't! I was precisely looking for a good motivation to
> improve/revive my German :-)

Thanks Manuel for saving me :-)

Patrick

(My english is not good enough to make me feel comfortable writing in it a lot - one of my goals is to promote the use of LuaTeX in the German (speaking) TeX user's group DANTE e.V. )

From mpg at elzevir.fr  Thu Jan  7 16:20:04 2010
From: mpg at elzevir.fr (=?UTF-8?B?TWFudWVsIFDDqWdvdXJpw6ktR29ubmFyZA==?=)
Date: Thu, 07 Jan 2010 16:20:04 +0100
Subject: [luatex] Glue node without spec field?
In-Reply-To: <4B45CF20.8000803@elvenkind.com>
References: <4B452C89.40004@elzevir.fr>
	<4B459732.9070704@elvenkind.com>	<fe8d59da1001070400x1183835ds7cd7a2176bb3bad1@mail.gmail.com>
	<4B45CF20.8000803@elvenkind.com>
Message-ID: <4B45FBA4.4000405@elzevir.fr>

On 07/01/2010 13:10, Taco Hoekwater wrote:
> No, that is wrong. spec is *never* an empty node.
> 
> The spec can be zero though, and that is a static spec with
> values 0pt plus 0pt minus 0pt. The lua interface treated that
> wrongly (all other node links cannot be zero, and there was
> no special case for spec fields).
> 
Ok. Now the interface is the same as for nay other node, according to my tests.
So, the user doesn't even need to know that there is something special with 0
spec, right?

> The non-zero subtype means that this glue matches
> one of the internal parameters, e.g. 9 == \rightskip,
> or that it is a leader (values 100-102).
> 
Thanks for the explanation! I've been wondering about the special subtypes.

Manuel.

From taco at elvenkind.com  Thu Jan  7 16:24:48 2010
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 07 Jan 2010 16:24:48 +0100
Subject: [luatex] Glue node without spec field?
In-Reply-To: <4B45FBA4.4000405@elzevir.fr>
References: <4B452C89.40004@elzevir.fr>
	<4B459732.9070704@elvenkind.com>	<fe8d59da1001070400x1183835ds7cd7a2176bb3bad1@mail.gmail.com>
	<4B45CF20.8000803@elvenkind.com> <4B45FBA4.4000405@elzevir.fr>
Message-ID: <4B45FCC0.9000506@elvenkind.com>



Manuel P?gouri?-Gonnard wrote:
> On 07/01/2010 13:10, Taco Hoekwater wrote:
>> No, that is wrong. spec is *never* an empty node.
>>
>> The spec can be zero though, and that is a static spec with
>> values 0pt plus 0pt minus 0pt. The lua interface treated that
>> wrongly (all other node links cannot be zero, and there was
>> no special case for spec fields).
>>
> Ok. Now the interface is the same as for nay other node, according to my tests.
> So, the user doesn't even need to know that there is something special with 0
> spec, right?

No, that was just an oversight on my part.

>> The non-zero subtype means that this glue matches
>> one of the internal parameters, e.g. 9 == \rightskip,
>> or that it is a leader (values 100-102).
>>
> Thanks for the explanation! I've been wondering about the special subtypes.

They are also documented in the manual ;)

Best wishes,
Taco

From taco at elvenkind.com  Thu Jan  7 16:41:02 2010
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 07 Jan 2010 16:41:02 +0100
Subject: [luatex] Glue node without spec field?
In-Reply-To: <4B45FF0E.20501@elzevir.fr>
References: <4B452C89.40004@elzevir.fr>
	<4B459732.9070704@elvenkind.com>	<fe8d59da1001070400x1183835ds7cd7a2176bb3bad1@mail.gmail.com>
	<4B45CF20.8000803@elvenkind.com> <4B45FBA4.4000405@elzevir.fr>
	<4B45FCC0.9000506@elvenkind.com> <4B45FF0E.20501@elzevir.fr>
Message-ID: <4B46008E.1080507@elvenkind.com>



Manuel P?gouri?-Gonnard wrote:
> On 07/01/2010 16:24, Taco Hoekwater wrote:
>>> Thanks for the explanation! I've been wondering about the special subtypes.
>> They are also documented in the manual ;)
>>
> Sorry for not finding it myself, but where can I read the exact correspondence
> like 9 == \rightskip? I just did a pdf search on 'rightskip' and didn't find it.

The exact values are not documented yet, it seems. Here they are:

 1 \lineskip
 2 \baselineskip
 3 \parskip
 4 \abovedisplayskip
 5 \belowdisplayskip
 6 \abovedisplayshortskip
 7 \belowdisplayshortskip
 8 \leftskip
 9 \rightskip
10 \topskip
11 \splittopskip
12 \tabskip
13 \spaceskip
14 \xspaceskip
15 \parfillskip
16 \thinmuskip
17 \medmuskip
18 \thickmuskip

I will add that table to the manual.

Best wishes,
Taco

From mpg at elzevir.fr  Thu Jan  7 16:42:23 2010
From: mpg at elzevir.fr (=?UTF-8?B?TWFudWVsIFDDqWdvdXJpw6ktR29ubmFyZA==?=)
Date: Thu, 07 Jan 2010 16:42:23 +0100
Subject: [luatex] Glue node without spec field?
In-Reply-To: <4B46008E.1080507@elvenkind.com>
References: <4B452C89.40004@elzevir.fr>
	<4B459732.9070704@elvenkind.com>	<fe8d59da1001070400x1183835ds7cd7a2176bb3bad1@mail.gmail.com>
	<4B45CF20.8000803@elvenkind.com> <4B45FBA4.4000405@elzevir.fr>
	<4B45FCC0.9000506@elvenkind.com> <4B45FF0E.20501@elzevir.fr>
	<4B46008E.1080507@elvenkind.com>
Message-ID: <4B4600DF.1010700@elzevir.fr>

On 07/01/2010 16:41, Taco Hoekwater wrote:
> The exact values are not documented yet, it seems. Here they are:
> [...]
> I will add that table to the manual.
> 
Thanks a lot!

Manuel

From mpg at elzevir.fr  Thu Jan  7 16:34:38 2010
From: mpg at elzevir.fr (=?UTF-8?B?TWFudWVsIFDDqWdvdXJpw6ktR29ubmFyZA==?=)
Date: Thu, 07 Jan 2010 16:34:38 +0100
Subject: [luatex] Glue node without spec field?
In-Reply-To: <4B45FCC0.9000506@elvenkind.com>
References: <4B452C89.40004@elzevir.fr>
	<4B459732.9070704@elvenkind.com>	<fe8d59da1001070400x1183835ds7cd7a2176bb3bad1@mail.gmail.com>
	<4B45CF20.8000803@elvenkind.com> <4B45FBA4.4000405@elzevir.fr>
	<4B45FCC0.9000506@elvenkind.com>
Message-ID: <4B45FF0E.20501@elzevir.fr>

On 07/01/2010 16:24, Taco Hoekwater wrote:
>> Thanks for the explanation! I've been wondering about the special subtypes.
> 
> They are also documented in the manual ;)
> 
Sorry for not finding it myself, but where can I read the exact correspondence
like 9 == \rightskip? I just did a pdf search on 'rightskip' and didn't find it.

(I'm trying to understand why, with latex, I have a glude node of subtype 2 at
the beginning of paragraphs with the article class, but not with minimal.)

Thanks,
Manuel.

From karl at freefriends.org  Fri Jan  8 00:15:26 2010
From: karl at freefriends.org (Karl Berry)
Date: Thu, 7 Jan 2010 23:15:26 GMT
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <20100107123613.GB3061@gamma.logic.tuwien.ac.at>
Message-ID: <201001072315.o07NFQmN003302@f7.net>

            if which bash >/dev/null

I doubt "which" is sufficiently portable, given that we're already
talking about systems that don't have /bin/bash.

There is no really easy way to do this.  Checking along PATH has its own
pain.  (; vs. :, cygwin vs. COMSPEC, .exe vs. x bits, etc., etc.  See
the texi2dvi script for gory details.)

Hope the actual CONFIG_SHELL-related fixes can be installed in luatex
easily enough and make the whole issue go away.

From karl at freefriends.org  Thu Jan  7 23:55:30 2010
From: karl at freefriends.org (Karl Berry)
Date: Thu, 7 Jan 2010 22:55:30 GMT
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <4B45EE1D.7030006@elzevir.fr>
Message-ID: <201001072255.o07MtUn9028848@f7.net>

    Hum, though I cannot find a reference right now, I seem to remember
    it was fixed in the TL build system some time ago by using a more
    recent libtools.

My understanding is:

1) Yes, Peter has fixed it in the TL sources.

2) It was not about using a more recent libtool, but about our usage of
   libtool (Ralf W and other libtool folks helped us figure this out).
   In particular, timing and propagation of shell detection.

3) Unfortunately, there is no simple patch, but below is what Peter wrote
   to Frank a few weeks ago.

4) After these changes are made, it should not be necessary to do the
   kludgey CONFIG_SHELL setting that was discussed earlier today.

karl


Date: Mon, 14 Dec 2009 16:56:32 +0100 (CET)
From: Peter Breitenlohner <peb at mppmu.mpg.de>
To: Frank K??ster <frank at kuesterei.ch>
cc: Karl Berry <karl at freefriends.org>
Subject: Re: bash-ism and libtool and tl

peb>> (2) Configure tests /bin/sh and if necessary uses another shell and the
peb>> chosen (sh or other) shell is then propagated to Make and further to
peb>> Libtool.  However, this was not handled correctly in TL2009, and the problem
peb>> was only understood when the distro (iso image) was ready.

frankk> Can you point me to a patch for this issue?

Hi Frank,

not easily, this was part of a major update with many different changes in
the build system that have accumulated during the freeze for the TL2009
distro.

However, the relevant modifications are in {libs,texk,utils}/Makefile.am,
replacing
 	eval $(SHELL) $$cmd$$skip) && \
by
 	CONFIG_SHELL=$(SHELL) && export CONFIG_SHELL && \
 	eval $(SHELL) $$cmd$$skip) && \
and an analogous modification in libs/icu/Makefile.am.

These are the cases where a Makefile starts configuring a subdirectory.

Regards

From reinhard.kotucha at web.de  Fri Jan  8 03:47:49 2010
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 8 Jan 2010 03:47:49 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <201001072315.o07NFQmN003302@f7.net>
References: <20100107123613.GB3061@gamma.logic.tuwien.ac.at>
	<201001072315.o07NFQmN003302@f7.net>
Message-ID: <19270.40149.796138.921731@zaphod.ms25.net>

On 7 January 2010 Karl Berry wrote:

 >             if which bash >/dev/null
 > 
 > I doubt "which" is sufficiently portable, given that we're already
 > talking about systems that don't have /bin/bash.

Are assignments prefixed by "export" portable?

Isn't it more portable to write

   FOO=bar
   export FOO

instead of 

   export FOO=bar

?

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From preining at logic.at  Fri Jan  8 03:50:42 2010
From: preining at logic.at (Norbert Preining)
Date: Fri, 8 Jan 2010 03:50:42 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <19270.40149.796138.921731@zaphod.ms25.net>
References: <20100107123613.GB3061@gamma.logic.tuwien.ac.at>
	<201001072315.o07NFQmN003302@f7.net>
	<19270.40149.796138.921731@zaphod.ms25.net>
Message-ID: <20100108025042.GL7864@gamma.logic.tuwien.ac.at>

On Fr, 08 Jan 2010, Reinhard Kotucha wrote:
>    FOO=bar
>    export FOO

Yes indeed, Taco please make these changes. The online is again
one of my bash habits ;-)

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan            TU Wien, Austria           Debian TeX Task Force
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
AINDERBY QUERNHOW (n.)
One who continually bemoans the 'loss' of the word 'gay' to the
English language, even though they had never used the word in any
context at all until they started complaining that they couldn't use
it any more.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Fri Jan  8 03:51:26 2010
From: preining at logic.at (Norbert Preining)
Date: Fri, 8 Jan 2010 03:51:26 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <201001072315.o07NFQmN003302@f7.net>
References: <20100107123613.GB3061@gamma.logic.tuwien.ac.at>
	<201001072315.o07NFQmN003302@f7.net>
Message-ID: <20100108025126.GM7864@gamma.logic.tuwien.ac.at>

On Do, 07 Jan 2010, Karl Berry wrote:
>             if which bash >/dev/null
> 
> I doubt "which" is sufficiently portable, given that we're already
> talking about systems that don't have /bin/bash.

I agree, but we cannot cater *automatically* for everyone ;-)

Still, as said, the build system fix itself is the best way.

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan            TU Wien, Austria           Debian TeX Task Force
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
COTTERSTOCK (n.)
A piece of wood used to stir paint and thereafter stored uselessly in
a shed in perpetuity.
			--- Douglas Adams, The Meaning of Liff

From reinhard.kotucha at web.de  Fri Jan  8 04:42:01 2010
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 8 Jan 2010 04:42:01 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <201001072315.o07NFQmN003302@f7.net>
References: <20100107123613.GB3061@gamma.logic.tuwien.ac.at>
	<201001072315.o07NFQmN003302@f7.net>
Message-ID: <19270.43401.67306.468928@zaphod.ms25.net>

On 7 January 2010 Karl Berry wrote:

 > I doubt "which" is sufficiently portable, given that we're already
 > talking about systems that don't have /bin/bash.

We have a function called "which" already in tlpkg/TeXLive/TLUtils.pm.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From preining at logic.at  Fri Jan  8 07:16:09 2010
From: preining at logic.at (Norbert Preining)
Date: Fri, 8 Jan 2010 07:16:09 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <19270.43401.67306.468928@zaphod.ms25.net>
References: <20100107123613.GB3061@gamma.logic.tuwien.ac.at>
	<201001072315.o07NFQmN003302@f7.net>
	<19270.43401.67306.468928@zaphod.ms25.net>
Message-ID: <20100108061609.GA25908@gamma.logic.tuwien.ac.at>

On Fr, 08 Jan 2010, Reinhard Kotucha wrote:
>  > I doubt "which" is sufficiently portable, given that we're already
>  > talking about systems that don't have /bin/bash.
> 
> We have a function called "which" already in tlpkg/TeXLive/TLUtils.pm.

That does not help, if you missed it, we are talking about the build
system of TeX Live, not the installation. And there we are in sh world,
not perl world.

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan            TU Wien, Austria           Debian TeX Task Force
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
SKETTY (n.)
Apparently self-propelled little dance a beer glass performs in its
own puddle.
			--- Douglas Adams, The Meaning of Liff

From taco at elvenkind.com  Fri Jan  8 08:20:12 2010
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 08 Jan 2010 08:20:12 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <20100108025042.GL7864@gamma.logic.tuwien.ac.at>
References: <20100107123613.GB3061@gamma.logic.tuwien.ac.at>	<201001072315.o07NFQmN003302@f7.net>	<19270.40149.796138.921731@zaphod.ms25.net>
	<20100108025042.GL7864@gamma.logic.tuwien.ac.at>
Message-ID: <4B46DCAC.8070105@elvenkind.com>

Norbert Preining wrote:
> On Fr, 08 Jan 2010, Reinhard Kotucha wrote:
>>    FOO=bar
>>    export FOO
> 
> Yes indeed, Taco please make these changes. The online is again
> one of my bash habits ;-)

done

From khaledhosny at eglug.org  Fri Jan  8 16:55:12 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 8 Jan 2010 17:55:12 +0200
Subject: [luatex] [luatex-fonts] \fontname of OpenType fonts
Message-ID: <20100108155512.GA28779@khaled-laptop>

Luatex-fonts sets the internal font name to the full filename path,
thus \fontname\font returns filename, but this is not compatable with
LaTeX which assumes that \fontname will return tfm file name and use it
to re-call previously defined fonts, in luatex-fonts case this raises an
error because the filename isn't usable for defining fonts.

My suggestion is to store the full specification in the name feild so
that it can be used to recall the font (XeTeX does this too)

See the attached patch.

\input luatex-fonts
\font\xxx="[lmroman10-regular.otf]" at 20pt
\font\yyy="[lmroman10-regular.otf]" at 10pt
\font\zzz="[lmroman10-regular.otf]"

\fontname\xxx\par
\fontname\yyy\par
\fontname\zzz
\bye

(Comment out the first line and try it with xetex)

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tfmtable.name.diff
Type: text/x-diff
Size: 1040 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20100108/ff11c79f/attachment.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://tug.org/pipermail/luatex/attachments/20100108/ff11c79f/attachment-0001.bin>

From khaledhosny at eglug.org  Fri Jan  8 17:10:44 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 8 Jan 2010 18:10:44 +0200
Subject: [luatex] [luatex-fonts] Negative font feature
Message-ID: <20100108161044.GA29067@khaled-laptop>

Currently, negative feature enable the feature instead of disabling it:

\input luatex-fonts
\font\xxx=lmroman10-regular.otf:-liga\xxx
fi fl ff ffi ffl
\bye

This will activate 'liga' feature. The attached patch should fix it
(looks like we must remove the feature from the table, "no" desn't make
a difference.)

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: font-xtx.diff
Type: text/x-diff
Size: 596 bytes
Desc: not available
URL: <http://tug.org/pipermail/luatex/attachments/20100108/b56432c4/attachment.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://tug.org/pipermail/luatex/attachments/20100108/b56432c4/attachment-0001.bin>

From reinhard.kotucha at web.de  Fri Jan  8 23:27:22 2010
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 8 Jan 2010 23:27:22 +0100
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <20100108061609.GA25908@gamma.logic.tuwien.ac.at>
References: <20100107123613.GB3061@gamma.logic.tuwien.ac.at>
	<201001072315.o07NFQmN003302@f7.net>
	<19270.43401.67306.468928@zaphod.ms25.net>
	<20100108061609.GA25908@gamma.logic.tuwien.ac.at>
Message-ID: <19271.45386.557719.842496@zaphod.ms25.net>

On 8 January 2010 Norbert Preining wrote:

 > On Fr, 08 Jan 2010, Reinhard Kotucha wrote:
 > >  > I doubt "which" is sufficiently portable, given that we're already
 > >  > talking about systems that don't have /bin/bash.
 > > 
 > > We have a function called "which" already in tlpkg/TeXLive/TLUtils.pm.
 > 
 > That does not help, if you missed it, we are talking about the build
 > system of TeX Live, not the installation. And there we are in sh world,
 > not perl world.

Sure, but it's not difficult to port it to sh.  I mentioned this
function in order to allow you to estimate the required effort.

The script below should work on Cygwin and MinGW too, though I can
test it only on Linux.  It's very likely that it still contains bugs.
It expects config.guess in the current directory (can be copied from
tlpkg/installer/).

Regarding "test -x", I don't have access to a Windows machine, but as
far as I remember, Cygwin supports Unix file permissions natively and
MinGW regards everything as executable which has the extension ".exe".
Hope it works as expected.

Regards,
  Reinhard

------------------------------------------------------------------------
#! /bin/sh

SYS_ID=`./config.guess`
SAVED_IFS=$IFS # We have to restore IFS when we are finished.

# which() expects a program name as an argument (without extension).
# Return value is 0 if the program was found in PATH and 1 otherwise.
# If the program was found in PATH, the variable PROG contains the name 
# of the program preceded by the first element of PATH where the program 
# was found.  Don't use PROG unless the return value is 0.

which () {
    prog="$1"
    if echo $SYS_ID | egrep "(mingw|cygwin)"; then
	prog="$1.exe"
    fi  

    if echo $SYS_ID | grep "mingw"; then
	IFS=';'
    else
	IFS=:
    fi

    for p in $PATH; do 
	if [ -x "$p/$prog" ]; then 
	    PROG="$p/$prog"; 
	    IFS=$SAVED_IFS; 
	    return 0
	fi 
    done
    IFS=$SAVED_IFS
    return 1
}

# Example Code:

echo "System: $SYS_ID"

if which bash; then
    echo $PROG
else
    echo "No bash in $PATH"
fi
------------------------------------------------------------------------

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From karl at freefriends.org  Fri Jan  8 23:38:04 2010
From: karl at freefriends.org (Karl Berry)
Date: Fri, 8 Jan 2010 22:38:04 GMT
Subject: [luatex] Problem building 0.50.0 (and trunk)
In-Reply-To: <19271.45386.557719.842496@zaphod.ms25.net>
Message-ID: <201001082238.o08Mc4kx011726@f7.net>

    which () {

It's not sufficient.  See the code at the beginning of
Build/source/utils/tpic2pdftex/tpic2pdftex, which I imported from
texi2dvi.

Please, let's stop this thread now, and give Taco some time to import
the actual fixes into luatex, so that the bash kludge can be entirely
deleted.  Which is the only right thing to do, it seems to me.

If you want to talk portable sh with me, feel free to write me
privately :).

k

From javier at digi21.eu  Mon Jan 18 18:59:30 2010
From: javier at digi21.eu (=?ISO-8859-1?Q?Javier_M=FAgica?=)
Date: Mon, 18 Jan 2010 18:59:30 +0100
Subject: [luatex] SVN
Message-ID: <5088e64f1001180959y724e1568y554ece32bdb653ad@mail.gmail.com>

How can I download a directory from the Supelec? I can browse through
them, but I don't see how to download them.

From luigi.scarso at gmail.com  Mon Jan 18 19:51:53 2010
From: luigi.scarso at gmail.com (luigi scarso)
Date: Mon, 18 Jan 2010 19:51:53 +0100
Subject: [luatex] SVN
In-Reply-To: <5088e64f1001180959y724e1568y554ece32bdb653ad@mail.gmail.com>
References: <5088e64f1001180959y724e1568y554ece32bdb653ad@mail.gmail.com>
Message-ID: <fe8d59da1001181051p48e912c3r44149d6006315671@mail.gmail.com>

On Mon, Jan 18, 2010 at 6:59 PM, Javier M?gica <javier at digi21.eu> wrote:
> How can I download a directory from the Supelec? I can browse through
> them, but I don't see how to download them.
>
http://foundry.supelec.fr/gf/project/luatex/scmsvn/?action=AccessInfo

for example
svn checkout http://foundry.supelec.fr/svn/luatex/trunk

-- 
luigi


