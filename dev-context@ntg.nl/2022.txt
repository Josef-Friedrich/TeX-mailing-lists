From modules at contextgarden.net  Sat Jan  1 21:10:23 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 1 Jan 2022 21:10:23 +0100
Subject: [dev-context] CGModules new: Environment for collating marks
 version 2.0 published.
Message-ID: <20220101201023.9183A285891@zapf.ntg.nl>

Willi Egger submitted the new

               Environment for collating marks

package.

Version number: 2.0
License type: Public Domain
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Environment to place collating marks on the spine of a section

Announcement text:
----------------------------------------------------------------------

This is a replacement of the version from 2011.

----------------------------------------------------------------------


From modules at contextgarden.net  Sat Jan  1 21:58:50 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 1 Jan 2022 21:58:50 +0100
Subject: [dev-context] CGModules new: Environment for collating marks
 version 2022-01-01 published.
Message-ID: <20220101205850.802FF283831@zapf.ntg.nl>

Willi Egger submitted the new

               Environment for collating marks

package.

Version number: 2022-01-01
License type: Public Domain
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Environment to place collating marks on the spine of a section

Announcement text:
----------------------------------------------------------------------

This is a replacement of the version from 2011.

----------------------------------------------------------------------


From modules at contextgarden.net  Sat Jan  1 21:59:26 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 1 Jan 2022 21:59:26 +0100
Subject: [dev-context] CGModules new: Environment for collating marks
 version 2022.01.01 published.
Message-ID: <20220101205926.563B6285891@zapf.ntg.nl>

Willi Egger submitted the new

               Environment for collating marks

package.

Version number: 2022.01.01
License type: Public Domain
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Environment to place collating marks on the spine of a section

Announcement text:
----------------------------------------------------------------------

This is a replacement of the version from 2011.

----------------------------------------------------------------------


From modules at contextgarden.net  Fri Feb  4 09:59:09 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Fri, 4 Feb 2022 09:59:09 +0100
Subject: [dev-context] CGModules update: lua-widow-control version v1.1.4
 published.
Message-ID: <20220204085909.6F0A42898C8@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v1.1.4
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

Changes from previous version:
  - Enable protrusion/expansion in the demo table in the documentation (Issue #3)
  - Fix \prevdepth bug

----------------------------------------------------------------------


From modules at contextgarden.net  Tue Feb 15 11:07:38 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Tue, 15 Feb 2022 11:07:38 +0100
Subject: [dev-context] CGModules update: lua-widow-control version v1.1.5
 published.
Message-ID: <20220215100738.52A6A2A2A7C@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v1.1.5
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

- Improve the appearance of the demo table in the documentation (#4)

- Improve compatibility with microtype

- Block loading the package without LuaTeX

- Improve logging

- Bug fix to prevent crashing

----------------------------------------------------------------------


From modules at contextgarden.net  Thu Feb 17 07:31:09 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Thu, 17 Feb 2022 07:31:09 +0100
Subject: [dev-context] CGModules update: Filter version 2022.02.17 published.
Message-ID: <20220217063109.76B2A2A2B0B@zapf.ntg.nl>

Aditya Mahajan submitted an update to the

               Filter

package.

Version number: 2022.02.17
License type: BSD License (simplified)
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: A module to run external programs on the contents of start-stop evironment

Announcement text:
----------------------------------------------------------------------

Bugfix release.

* Typesetting two external files (in the vim module) which lie in different
  directories but have the same name resulted in a clash. It was not possible
  to use the same external file twice with different start-stop values.
  Repored on Github (https://github.com/adityam/filter/issues/59). We now
  create an MD5 hash of the full filename, and all options which are passed to
  vim. So, if either the filename or any of these options change, a output
  filenames are different.

----------------------------------------------------------------------


From modules at contextgarden.net  Thu Feb 17 07:31:25 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Thu, 17 Feb 2022 07:31:25 +0100
Subject: [dev-context] CGModules update: vim syntax highlighting version
 2022.02.17 published.
Message-ID: <20220217063126.39DF72A2B12@zapf.ntg.nl>

Aditya Mahajan submitted an update to the

               vim syntax highlighting

package.

Version number: 2022.02.17
License type: BSD License (simplified)
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: This module uses Vim editor's syntax files to syntax highlight verbatim code in ConTeXt

Announcement text:
----------------------------------------------------------------------

Bugfix release.

* Typesetting two external files (in the vim module) which lie in different
  directories but have the same name resulted in a clash. It was not possible
  to use the same external file twice with different start-stop values.
  Repored on Github (https://github.com/adityam/filter/issues/59). We now
  create an MD5 hash of the full filename, and all options which are passed to
  vim. So, if either the filename or any of these options change, a output
  filenames are different.

----------------------------------------------------------------------


From modules at contextgarden.net  Tue Feb 22 10:46:11 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Tue, 22 Feb 2022 10:46:11 +0100
Subject: [dev-context] CGModules update: lua-widow-control version v1.1.6
 published.
Message-ID: <20220222094611.3C1002A2C57@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v1.1.6
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

- Add support for the OpTeX format/macro package.
- Add support for the LuaTeX/MKIV version of ConTeXt.
- Ensure compatibility with the new "linebreaker" package.
- Fix a small bug with "\lwcdisablecmd".
- Test the "\outputpenalty" for the specific values that indicate a widow or orphan.

----------------------------------------------------------------------


From modules at contextgarden.net  Tue Mar  8 04:59:13 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Tue, 8 Mar 2022 04:59:13 +0100
Subject: [dev-context] CGModules update: lua-widow-control version v2.0.0
 published.
Message-ID: <20220308035913.C173E2A2F34@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v2.0.0
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

**Breaking Changes**
- Page breaks may be slightly different
- Removed `\lwcemergencystretch` and `\lwcdisablecmd` in LaTeX. Please use the new keyÃÂ¢ÃÂÃÂvalue interface

Other Changes
- Use expl3 for the LaTeX files (#20)
- Use a keyÃÂ¢ÃÂÃÂvalue interface for configuration with LaTeX (#11)
- Silence some extraneous `luatexbase` info messages
- Add a "debug mode" to print extra information (#12)
- Fix error message line wrapping
- Don't reset `\interlinepenalty` and `\brokenpenalty`
- Set and analyze `\displaywidowpenalty`
- Keep section headings with moved orphans (#17)
- Add the ability to configure the maximum paragraph cost (#22)
- Add a "strict" mode
- Use an improved cost function to select the best paragraph to lengthen (#23)
- Dozens of bug fixes
- Miscellaneous documentation updates

You can view the full changelog on GitHub: https://github.com/gucci-on-fleek/lua-widow-control/compare/release-2c7201854d89535ef7c02f6c38486205677f1aa1...release-cea06ddad8dfcf15fa9ba2a86c6640648b9df523.

----------------------------------------------------------------------


From modules at contextgarden.net  Sat Mar 19 06:32:34 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 19 Mar 2022 06:32:34 +0100
Subject: [dev-context] CGModules update: lua-widow-control version v2.0.1
 published.
Message-ID: <20220319053234.D5A6828372D@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v2.0.1
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

- Documentation updates (#25)
- Bug fixes (#28)

----------------------------------------------------------------------


From modules at contextgarden.net  Sun Mar 20 23:26:02 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sun, 20 Mar 2022 23:26:02 +0100
Subject: [dev-context] CGModules update: lua-widow-control version v2.0.2
 published.
Message-ID: <20220320222602.62C18286815@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v2.0.2
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

Add balanced mode preset.

----------------------------------------------------------------------


From modules at contextgarden.net  Tue Mar 29 02:40:21 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Tue, 29 Mar 2022 02:40:21 +0200
Subject: [dev-context] CGModules update: lua-widow-control version v2.0.3
 published.
Message-ID: <20220329004021.DCAD82A2A40@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v2.0.3
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

Automatically patch section commands provided by memoir, KOMA-Script, and titlesec.

----------------------------------------------------------------------


From modules at contextgarden.net  Thu Apr  7 10:29:17 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Thu, 7 Apr 2022 10:29:17 +0200
Subject: [dev-context] CGModules update: lua-widow-control version v2.0.4
 published.
Message-ID: <20220407082917.1E6902A34DC@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v2.0.4
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

- Don't expand paragraphs typeset during output routines (#31)

----------------------------------------------------------------------


From luigi.scarso at gmail.com  Sat Apr  9 18:07:50 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Sat, 9 Apr 2022 18:07:50 +0200
Subject: [dev-context] [luatex] Bug: attempt to double-free kern node
In-Reply-To: <cfc43c46a1ff9cd2068962386867b5c79bf62117.camel@henrimenke.de>
References: <cfc43c46a1ff9cd2068962386867b5c79bf62117.camel@henrimenke.de>
Message-ID: <CAG5iGsCp_QjnUyewY4vERV6H3KhCTXWCO=ZvkR9=aG9zhn0Emw@mail.gmail.com>

On Sat, Apr 9, 2022 at 6:05 PM Henri Menke via luatex <luatex at tug.org>
wrote:

> Dear devs,
>
>    ! error:  (nodes): attempt to double-free kern node 239, ignored
>    !  ==> Fatal error occurred, no output PDF file produced!
>
> MWE:
>
>    \catcode`@=11
>
>    \Umathordordspacing\displaystyle=\thinmuskip
>    \Umathordordspacing\textstyle=\thinmuskip
>
>    \def\operator at font{\fam0}
>
>    \def\qopname#1#2#3{%
>      \mathop{\mathpalette\@qopname{#1\kern\z@\operator at font#3}}\csname
> n#2limits@\endcsname
>    }
>    \def\@qopname#1#2{%
>      \hbox{$
>        \Umathordordspacing\displaystyle=0mu
>        \Umathordordspacing\textstyle=0mu
>        \m at th#1#2
>        $}}
>
>    \def\max{\qopname\relax m{max}}
>    \def\min{\qopname\relax m{max}}
>
>    \catcode`@=12
>
>    $$\max a b / \min a b$$
>
>    \bye
>

ok, thank you . Checking it now.

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20220409/f8efa2bc/attachment.htm>

From henri at henrimenke.de  Sat Apr  9 18:05:23 2022
From: henri at henrimenke.de (Henri Menke)
Date: Sat, 09 Apr 2022 18:05:23 +0200
Subject: [dev-context] Bug: attempt to double-free kern node
Message-ID: <cfc43c46a1ff9cd2068962386867b5c79bf62117.camel@henrimenke.de>

Dear devs,

   ! error:  (nodes): attempt to double-free kern node 239, ignored
   !  ==> Fatal error occurred, no output PDF file produced!

MWE:

   \catcode`@=11
   
   \Umathordordspacing\displaystyle=\thinmuskip
   \Umathordordspacing\textstyle=\thinmuskip
   
   \def\operator at font{\fam0}
   
   \def\qopname#1#2#3{%
     \mathop{\mathpalette\@qopname{#1\kern\z@\operator at font#3}}\csname n#2limits@\endcsname
   }
   \def\@qopname#1#2{%
     \hbox{$
       \Umathordordspacing\displaystyle=0mu
       \Umathordordspacing\textstyle=0mu
       \m at th#1#2
       $}}
   
   \def\max{\qopname\relax m{max}}
   \def\min{\qopname\relax m{max}}
   
   \catcode`@=12
   
   $$\max a b / \min a b$$
   
   \bye

Cheers,
Henri

From henri at henrimenke.de  Mon Apr 11 20:15:57 2022
From: henri at henrimenke.de (Henri Menke)
Date: Mon, 11 Apr 2022 20:15:57 +0200
Subject: [dev-context] Bug: Null-byte in csname not handled correctly
Message-ID: <30bc81ccef6900f37ee68f13ab14f0b8bb1f882d.camel@henrimenke.de>

Dear devs,

A control sequence that only contains a single null byte is not
correctly stringified. Comparison between Knuth TeX and LuaTeX:

   $ tex test.tex
   ! \^^@.
   l.2 \errmessage{\string\^^@}
   
   $ luatex test.tex
   ! \.
   l.2 \errmessage{\string\^^@}

MWE:

   \catcode0=11
   \errmessage{\string\^^@}
   \bye

Cheers,
Henri

From luigi.scarso at gmail.com  Tue Apr 12 08:44:58 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Tue, 12 Apr 2022 08:44:58 +0200
Subject: [dev-context] [luatex] Bug: attempt to double-free kern node
In-Reply-To: <CAG5iGsCp_QjnUyewY4vERV6H3KhCTXWCO=ZvkR9=aG9zhn0Emw@mail.gmail.com>
References: <cfc43c46a1ff9cd2068962386867b5c79bf62117.camel@henrimenke.de>
 <CAG5iGsCp_QjnUyewY4vERV6H3KhCTXWCO=ZvkR9=aG9zhn0Emw@mail.gmail.com>
Message-ID: <CAG5iGsAVMJVx95-62-==P8RbWtRH3ueNJH5H391jCz23Ot6UQQ@mail.gmail.com>

On Sat, Apr 9, 2022 at 6:07 PM luigi scarso <luigi.scarso at gmail.com> wrote:

>
>
> On Sat, Apr 9, 2022 at 6:05 PM Henri Menke via luatex <luatex at tug.org>
> wrote:
>
>> Dear devs,
>>
>>    ! error:  (nodes): attempt to double-free kern node 239, ignored
>>    !  ==> Fatal error occurred, no output PDF file produced!
>>
>> MWE:
>>
>>    \catcode`@=11
>>
>>    \Umathordordspacing\displaystyle=\thinmuskip
>>    \Umathordordspacing\textstyle=\thinmuskip
>>
>>    \def\operator at font{\fam0}
>>
>>    \def\qopname#1#2#3{%
>>      \mathop{\mathpalette\@qopname{#1\kern\z@\operator at font#3}}\csname
>> n#2limits@\endcsname
>>    }
>>    \def\@qopname#1#2{%
>>      \hbox{$
>>        \Umathordordspacing\displaystyle=0mu
>>        \Umathordordspacing\textstyle=0mu
>>        \m at th#1#2
>>        $}}
>>
>>    \def\max{\qopname\relax m{max}}
>>    \def\min{\qopname\relax m{max}}
>>
>>    \catcode`@=12
>>
>>    $$\max a b / \min a b$$
>>
>>    \bye
>>
>
> ok, thank you . Checking it now.
>


It should be fixed in rev7518.

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20220412/4f176969/attachment.htm>

From luigi.scarso at gmail.com  Wed Apr 13 09:29:47 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Wed, 13 Apr 2022 09:29:47 +0200
Subject: [dev-context] Bug: Null-byte in csname not handled correctly
In-Reply-To: <30bc81ccef6900f37ee68f13ab14f0b8bb1f882d.camel@henrimenke.de>
References: <30bc81ccef6900f37ee68f13ab14f0b8bb1f882d.camel@henrimenke.de>
Message-ID: <CAG5iGsALFSeDnCvYoo+ub-f_aoSCkLLCARF+OKpLCERFnDcjDg@mail.gmail.com>

On Mon, Apr 11, 2022 at 8:16 PM Henri Menke <henri at henrimenke.de> wrote:

> Dear devs,
>
> A control sequence that only contains a single null byte is not
> correctly stringified. Comparison between Knuth TeX and LuaTeX:
>
>    $ tex test.tex
>    ! \^^@.
>    l.2 \errmessage{\string\^^@}
>
>    $ luatex test.tex
>    ! \.
>    l.2 \errmessage{\string\^^@}
>
> MWE:
>
>    \catcode0=11
>    \errmessage{\string\^^@}
>    \bye
>
>
looking at it.

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20220413/ef645d27/attachment.htm>

From modules at contextgarden.net  Thu Apr 14 04:00:40 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Thu, 14 Apr 2022 04:00:40 +0200
Subject: [dev-context] CGModules update: lua-widow-control version v2.0.5
 published.
Message-ID: <20220414020040.D6BF2289BDA@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v2.0.5
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

- Support nested \lwcdisablecmd macros
- Fix \lwcdisablecmd in Plain TeX
- Support command patching in OpTeX
- Patch memoir to prevent spurious asterisks at broken two-line paragraphs (#32)

----------------------------------------------------------------------


From luigi.scarso at gmail.com  Mon Apr 18 11:36:24 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Mon, 18 Apr 2022 11:36:24 +0200
Subject: [dev-context] Bug: Null-byte in csname not handled correctly
In-Reply-To: <CAG5iGsALFSeDnCvYoo+ub-f_aoSCkLLCARF+OKpLCERFnDcjDg@mail.gmail.com>
References: <30bc81ccef6900f37ee68f13ab14f0b8bb1f882d.camel@henrimenke.de>
 <CAG5iGsALFSeDnCvYoo+ub-f_aoSCkLLCARF+OKpLCERFnDcjDg@mail.gmail.com>
Message-ID: <CAG5iGsBEWZBsTyJhoPc5HTQP788i2iTyJA5xuBwJmgs7fOaDBw@mail.gmail.com>

On Wed, Apr 13, 2022 at 9:29 AM luigi scarso <luigi.scarso at gmail.com> wrote:

>
>
> On Mon, Apr 11, 2022 at 8:16 PM Henri Menke <henri at henrimenke.de> wrote:
>
>> Dear devs,
>>
>> A control sequence that only contains a single null byte is not
>> correctly stringified. Comparison between Knuth TeX and LuaTeX:
>>
>>    $ tex test.tex
>>    ! \^^@.
>>    l.2 \errmessage{\string\^^@}
>>
>>    $ luatex test.tex
>>    ! \.
>>    l.2 \errmessage{\string\^^@}
>>
>> MWE:
>>
>>    \catcode0=11
>>    \errmessage{\string\^^@}
>>    \bye
>>
>>
> looking at it.
>
>
Committed revision 7521.
-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20220418/f9a5cd1f/attachment.htm>

From henri at henrimenke.de  Mon Apr 18 11:54:18 2022
From: henri at henrimenke.de (Henri Menke)
Date: Mon, 18 Apr 2022 11:54:18 +0200
Subject: [dev-context] Bug: Null-byte in csname not handled correctly
In-Reply-To: <CAG5iGsBEWZBsTyJhoPc5HTQP788i2iTyJA5xuBwJmgs7fOaDBw@mail.gmail.com>
References: <30bc81ccef6900f37ee68f13ab14f0b8bb1f882d.camel@henrimenke.de>
 <CAG5iGsALFSeDnCvYoo+ub-f_aoSCkLLCARF+OKpLCERFnDcjDg@mail.gmail.com>
 <CAG5iGsBEWZBsTyJhoPc5HTQP788i2iTyJA5xuBwJmgs7fOaDBw@mail.gmail.com>
Message-ID: <9610a8ecc220f1e1088dd528746bb7342bdfff93.camel@henrimenke.de>

Dear Luigi,

Thank you very much for all the quick fixes!

Happy easter and kind regards,
Henri

On Mon, 2022-04-18 at 11:36 +0200, luigi scarso wrote:
> On Wed, Apr 13, 2022 at 9:29 AM luigi scarso <luigi.scarso at gmail.com>
> wrote:
> 
> > 
> > 
> > On Mon, Apr 11, 2022 at 8:16 PM Henri Menke <henri at henrimenke.de>
> > wrote:
> > 
> > > Dear devs,
> > > 
> > > A control sequence that only contains a single null byte is not
> > > correctly stringified. Comparison between Knuth TeX and LuaTeX:
> > > 
> > > Â Â  $ tex test.tex
> > > Â Â  ! \^^@.
> > > Â Â  l.2 \errmessage{\string\^^@}
> > > 
> > > Â Â  $ luatex test.tex
> > > Â Â  ! \.
> > > Â Â  l.2 \errmessage{\string\^^@}
> > > 
> > > MWE:
> > > 
> > > Â Â  \catcode0=11
> > > Â Â  \errmessage{\string\^^@}
> > > Â Â  \bye
> > > 
> > > 
> > looking at it.
> > 
> > 
> Committed revision 7521.


From henri at henrimenke.de  Mon Apr 18 12:10:24 2022
From: henri at henrimenke.de (Henri Menke)
Date: Mon, 18 Apr 2022 12:10:24 +0200
Subject: [dev-context] Where is the LuaTeX SVN?
Message-ID: <ce3a4bd25221a2893db8366047723309932ca715.camel@henrimenke.de>

Dear list,

On the ConTeXt wiki there are links to the LuaTeX SVN:

   https://wiki.contextgarden.net/ConTeXt_Standalone/Implementation#LuaTeX
   
   SVN: https://foundry.supelec.fr/svn/luatex
   ViewVC: https://foundry.supelec.fr/scm/viewvc.php/?root=luatex
   Files: http://foundry.supelec.fr/gf/project/luatex/frs/

However, none of these links work. All connections time out.

Somewhere on the mailing list I found this alternative server

   https://serveur-svn.lri.fr/svn/modhel/luatex/

but this doesn't have ViewVC to browse the history.

Cheers, Henri


From luigi.scarso at gmail.com  Mon Apr 18 12:57:37 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Mon, 18 Apr 2022 12:57:37 +0200
Subject: [dev-context] Where is the LuaTeX SVN?
In-Reply-To: <ce3a4bd25221a2893db8366047723309932ca715.camel@henrimenke.de>
References: <ce3a4bd25221a2893db8366047723309932ca715.camel@henrimenke.de>
Message-ID: <CAG5iGsA7Lhh0t7amqBa_GHKo9GEF4qujt67ridxBYd2m8CkrEg@mail.gmail.com>

On Mon, Apr 18, 2022 at 12:10 PM Henri Menke <henri at henrimenke.de> wrote:

> Dear list,
>
> On the ConTeXt wiki there are links to the LuaTeX SVN:
>
>    https://wiki.contextgarden.net/ConTeXt_Standalone/Implementation#LuaTeX
>
>    SVN: https://foundry.supelec.fr/svn/luatex
>    ViewVC: https://foundry.supelec.fr/scm/viewvc.php/?root=luatex
>    Files: http://foundry.supelec.fr/gf/project/luatex/frs/
>
> However, none of these links work. All connections time out.
>
> Somewhere on the mailing list I found this alternative server
>
>    https://serveur-svn.lri.fr/svn/modhel/luatex/
>
> but this doesn't have ViewVC to browse the history.
>

This is the official site, already from a while,  is
 https://www.luatex.org/download.html

As per https://tug.org/pipermail/luatex/2022-April/007668.html
I am trying to set up a git mirror of the svn site, but I am not able to
see the vendor branch yet.

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20220418/92bc41a5/attachment.htm>

From modules at contextgarden.net  Sun Apr 24 06:19:22 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sun, 24 Apr 2022 06:19:22 +0200
Subject: [dev-context] CGModules update: lua-widow-control version v2.0.6
 published.
Message-ID: <20220424041922.D4AAD280953@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v2.0.6
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

- Emergency fix for renamed LMTX engine Lua functions
- Internal LaTeX refactoring

----------------------------------------------------------------------


From henri at henrimenke.de  Mon Apr 25 22:09:12 2022
From: henri at henrimenke.de (Henri Menke)
Date: Mon, 25 Apr 2022 22:09:12 +0200
Subject: [dev-context] Italic correction missing when using \left...\right
Message-ID: <851522234ae5d1636188a88a574149ed0b157c82.camel@henrimenke.de>

Dear devs,

When using delimiter with \left...\right the italic correction between
the preceding letter and the delimiter is dropped. I've tried this with
a few fonts and all show the problem. For Libertinus Math the glyphs
even overlap.

MWE for mtxrun --script plain (TeX Live 2022)

   %\input luaotfload.sty
   \font\mathfont="file:LibertinusMath-Regular.otf:mode=base;script=math" at 10pt
   \textfont0=\mathfont
   \textfont2=\mathfont
   
   \Umathcodenum`f="1D453
   \protected\def\langle{\Udelimiter"4"0"27E8\relax}
   \protected\def\rangle{\Udelimiter"5"0"27E9\relax}
   
   $f\rangle$
   
   \nulldelimiterspace=0pt
   $\left.f\right\rangle$
   
   \bye

Cheers, Henri

From henri at henrimenke.de  Tue Apr 26 08:59:20 2022
From: henri at henrimenke.de (Henri Menke)
Date: Tue, 26 Apr 2022 08:59:20 +0200
Subject: [dev-context] Italic correction missing when using
 \left...\right
In-Reply-To: <851522234ae5d1636188a88a574149ed0b157c82.camel@henrimenke.de>
References: <851522234ae5d1636188a88a574149ed0b157c82.camel@henrimenke.de>
Message-ID: <1ad408030ed638d78eb974f66519765398a8a63d.camel@henrimenke.de>

On Mon, 2022-04-25 at 22:09 +0200, Henri Menke wrote:
> Dear devs,
> 
> When using delimiter with \left...\right the italic correction
> between
> the preceding letter and the delimiter is dropped. I've tried this
> with
> a few fonts and all show the problem. For Libertinus Math the glyphs
> even overlap.
> 
> MWE for mtxrun --script plain (TeX Live 2022)
> 
>    %\input luaotfload.sty
>    \font\mathfont="file:LibertinusMath-
> Regular.otf:mode=base;script=math" at 10pt
>    \textfont0=\mathfont
>    \textfont2=\mathfont
>    
>    \Umathcodenum`f="1D453
>    \protected\def\langle{\Udelimiter"4"0"27E8\relax}
>    \protected\def\rangle{\Udelimiter"5"0"27E9\relax}
>    
>    $f\rangle$
>    
>    \nulldelimiterspace=0pt
>    $\left.f\right\rangle$
>    
>    \bye

Ulrike pointed out \mathitalicsmode=1 on TeX Stack Exchange, but there
is still an issue with sub_mlists:

   %\input luaotfload.sty
   \font\mathfont="file:LibertinusMath-Regular.otf:mode=base;script=math" at 10pt
   \textfont0=\mathfont
   \textfont2=\mathfont

   \Umathcodenum`f="1D453
   \protected\def\langle{\Udelimiter"4"0"27E8\relax}
   \protected\def\rangle{\Udelimiter"5"0"27E9\relax}

   \mathitalicsmode=1

   $f\rangle$

   \nulldelimiterspace=0pt
   $\left.f\right\rangle$

   ${-f}\rangle$

   $\left.{-f}\right\rangle$

   \bye

Cheers, Henri

> 
> Cheers, Henri


From luigi.scarso at gmail.com  Tue Apr 26 10:04:13 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Tue, 26 Apr 2022 10:04:13 +0200
Subject: [dev-context] Italic correction missing when using
 \left...\right
In-Reply-To: <1ad408030ed638d78eb974f66519765398a8a63d.camel@henrimenke.de>
References: <851522234ae5d1636188a88a574149ed0b157c82.camel@henrimenke.de>
 <1ad408030ed638d78eb974f66519765398a8a63d.camel@henrimenke.de>
Message-ID: <CAG5iGsCzdf0bawg7tgnBpOkQNmteoBBF_zj2VQ=YxZT3zJ9Rsg@mail.gmail.com>

On Tue, Apr 26, 2022 at 8:59 AM Henri Menke <henri at henrimenke.de> wrote:

> On Mon, 2022-04-25 at 22:09 +0200, Henri Menke wrote:
> > Dear devs,
> >
> > When using delimiter with \left...\right the italic correction
> > between
> > the preceding letter and the delimiter is dropped. I've tried this
> > with
> > a few fonts and all show the problem. For Libertinus Math the glyphs
> > even overlap.
> >
> > MWE for mtxrun --script plain (TeX Live 2022)
> >
> >    %\input luaotfload.sty
> >    \font\mathfont="file:LibertinusMath-
> > Regular.otf:mode=base;script=math" at 10pt
> >    \textfont0=\mathfont
> >    \textfont2=\mathfont
> >
> >    \Umathcodenum`f="1D453
> >    \protected\def\langle{\Udelimiter"4"0"27E8\relax}
> >    \protected\def\rangle{\Udelimiter"5"0"27E9\relax}
> >
> >    $f\rangle$
> >
> >    \nulldelimiterspace=0pt
> >    $\left.f\right\rangle$
> >
> >    \bye
>
> Ulrike pointed out \mathitalicsmode=1 on TeX Stack Exchange, but there
> is still an issue with sub_mlists:
>
>    %\input luaotfload.sty
>    \font\mathfont="file:LibertinusMath-Regular.otf:mode=base;script=math"
> at 10pt
>    \textfont0=\mathfont
>    \textfont2=\mathfont
>
>    \Umathcodenum`f="1D453
>    \protected\def\langle{\Udelimiter"4"0"27E8\relax}
>    \protected\def\rangle{\Udelimiter"5"0"27E9\relax}
>
>    \mathitalicsmode=1
>
>    $f\rangle$
>
>    \nulldelimiterspace=0pt
>    $\left.f\right\rangle$
>
>    ${-f}\rangle$
>
>    $\left.{-f}\right\rangle$
>
>    \bye
>

I will check it, but have  you already seen mlist.c  ?

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20220426/54554ce9/attachment.htm>

From luigi.scarso at gmail.com  Tue Apr 26 15:32:22 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Tue, 26 Apr 2022 15:32:22 +0200
Subject: [dev-context] Italic correction missing when using
 \left...\right
In-Reply-To: <CAG5iGsCzdf0bawg7tgnBpOkQNmteoBBF_zj2VQ=YxZT3zJ9Rsg@mail.gmail.com>
References: <851522234ae5d1636188a88a574149ed0b157c82.camel@henrimenke.de>
 <1ad408030ed638d78eb974f66519765398a8a63d.camel@henrimenke.de>
 <CAG5iGsCzdf0bawg7tgnBpOkQNmteoBBF_zj2VQ=YxZT3zJ9Rsg@mail.gmail.com>
Message-ID: <CAG5iGsCfHAbgpHepX1o9GvJ4qkVuG+K0ydtN4zb8qkQOWkLAag@mail.gmail.com>

On Tue, Apr 26, 2022 at 10:04 AM luigi scarso <luigi.scarso at gmail.com>
wrote:

>
>
> On Tue, Apr 26, 2022 at 8:59 AM Henri Menke <henri at henrimenke.de> wrote:
>
>> On Mon, 2022-04-25 at 22:09 +0200, Henri Menke wrote:
>> > Dear devs,
>> >
>> > When using delimiter with \left...\right the italic correction
>> > between
>> > the preceding letter and the delimiter is dropped. I've tried this
>> > with
>> > a few fonts and all show the problem. For Libertinus Math the glyphs
>> > even overlap.
>> >
>> > MWE for mtxrun --script plain (TeX Live 2022)
>> >
>> >    %\input luaotfload.sty
>> >    \font\mathfont="file:LibertinusMath-
>> > Regular.otf:mode=base;script=math" at 10pt
>> >    \textfont0=\mathfont
>> >    \textfont2=\mathfont
>> >
>> >    \Umathcodenum`f="1D453
>> >    \protected\def\langle{\Udelimiter"4"0"27E8\relax}
>> >    \protected\def\rangle{\Udelimiter"5"0"27E9\relax}
>> >
>> >    $f\rangle$
>> >
>> >    \nulldelimiterspace=0pt
>> >    $\left.f\right\rangle$
>> >
>> >    \bye
>>
>> Ulrike pointed out \mathitalicsmode=1 on TeX Stack Exchange, but there
>> is still an issue with sub_mlists:
>>
>>    %\input luaotfload.sty
>>    \font\mathfont="file:LibertinusMath-Regular.otf:mode=base;script=math"
>> at 10pt
>>    \textfont0=\mathfont
>>    \textfont2=\mathfont
>>
>>    \Umathcodenum`f="1D453
>>    \protected\def\langle{\Udelimiter"4"0"27E8\relax}
>>    \protected\def\rangle{\Udelimiter"5"0"27E9\relax}
>>
>>    \mathitalicsmode=1
>>
>>    $f\rangle$
>>
>>    \nulldelimiterspace=0pt
>>    $\left.f\right\rangle$
>>
>>    ${-f}\rangle$
>>
>>    $\left.{-f}\right\rangle$
>>
>>    \bye
>>
>
> I will check it, but have  you already seen mlist.c  ?
>
> --
> luigi
>

Hans has enabled \mathitalicsmode=2.
Committed revision 7525.
-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20220426/b04bf6fc/attachment.htm>

From modules at contextgarden.net  Sat May 14 09:45:32 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 14 May 2022 09:45:32 +0200
Subject: [dev-context] CGModules update: lua-widow-control version v2.1.0
 published.
Message-ID: <20220514074532.0C7AD3608D4@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v2.1.0
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

- Fully support grid snapping in ConTeXt
- New warnings when a new widow/orphan is inadvertently created
- Significant internal rewrites
- Add Plain and OpTeX interfaces to `\nobreak` behaviour and debug mode

----------------------------------------------------------------------


From wolfgang.schuster.lists at gmail.com  Mon May 16 09:12:48 2022
From: wolfgang.schuster.lists at gmail.com (Wolfgang Schuster)
Date: Mon, 16 May 2022 09:12:48 +0200
Subject: [dev-context] page-pcl.mkxl
Message-ID: <eaceef9d-2e94-0f9d-9be9-7005daf89886@gmail.com>

Hi,

\def\page_col_routine_package_step
 Â  {% needs packaging anyway
 Â Â  \mofcolumns\recurselevel % added
 Â Â  \getboxfromcache{\s!pagecolumn}{\number\recurselevel}\scratchbox
\page_lines_add_numbers_to_box\scratchbox\recurselevel\c_page_col_n_of_columns\plusone 
% new
\page_marks_synchronize_column\plusone\c_page_col_n_of_columns\recurselevel\scratchbox
 Â Â  % backgrounds
 Â Â  \anch_mark_column_box\scratchbox\recurselevel
-Â  \mixedcolumnseparatorheight\ht\scratchbox
-Â  \mixedcolumnseparatordepth \dp\scratchbox
+Â  \pagecolumnseparatorheight\ht\scratchbox
+Â  \pagecolumnseparatordepth \dp\scratchbox
 Â Â  \inheritedpagecolumnsframedbox\recurselevel\scratchbox}

Wolfgang


From wolfgang.schuster.lists at gmail.com  Tue May 17 21:44:22 2022
From: wolfgang.schuster.lists at gmail.com (Wolfgang Schuster)
Date: Tue, 17 May 2022 21:44:22 +0200
Subject: [dev-context] strc-sec.mkxl
Message-ID: <9d16a109-41b6-ba10-27a6-d1498b7fbbd1@gmail.com>

Hi,

I'm not sure if my message on the regular list got noticed but

 Â Â Â  \setuphead[chapter][referenceprefix=+]

doesn't work in LMTX and MkIV.

Below is a fix the LMTX version (I used MkII as reference):

\def\strc_sectioning_set_reference_prefix
 Â  {\ifempty\currentstructurereferenceprefix
 Â Â Â Â  % nothing
\orelse\ifx\currentstructurereferenceprefix\m_strc_references_prefix_yes
-Â Â Â  \global\advance\prefixcounter \plusone % temp here
-Â Â Â  \setupglobalreferenceprefix[\the\prefixcounter]%
+Â Â Â  \ifempty\currentstructurereference
+Â Â Â Â Â  \global\advance\prefixcounter \plusone % temp here
+Â Â Â Â Â  \setupglobalreferenceprefix[\the\prefixcounter]%
+Â Â Â  \else
+Â Â Â Â Â  \setupglobalreferenceprefix[\currentstructurereference]%
+Â Â Â  \fi
\orelse\ifx\currentstructurereferenceprefix\m_strc_references_prefix_nop
 Â Â Â Â  \setupglobalreferenceprefix[]%
 Â Â  \else
 Â Â Â Â  \setupglobalreferenceprefix[\currentstructurereferenceprefix]%
 Â Â  \fi
 Â Â  \glet\currentstructurereferenceprefix\referenceprefix}

Wolfgang


From modules at contextgarden.net  Fri May 20 09:59:02 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Fri, 20 May 2022 09:59:02 +0200
Subject: [dev-context] CGModules update: lua-widow-control version v2.1.1
 published.
Message-ID: <20220520075902.9B254280971@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v2.1.1
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

- Prevent spurious "under/overfull \vbox" warnings when widows/orphans are removed
- Add TUGboat article to the distributed documentation
- Rewrite many portions of the manual
- Add support for "luahbtex" and "mmoptex" (Michal VlasÃÂÃÂ¡k)
- Fix the (undocumented) "microtype" LaTeX option

----------------------------------------------------------------------


From oinos at gmx.es  Sat May 21 19:13:11 2022
From: oinos at gmx.es (Pablo Rodriguez)
Date: Sat, 21 May 2022 19:13:11 +0200
Subject: [dev-context] wrong XML snippet?
Message-ID: <d9c8b194-13d1-2854-d571-a6e9c1440ced@gmx.es>

Hans,

Iâm not sure I understand the differences between postion(), match() and
and index()
[https://www.pragma-ade.com/general/manuals/xml-mkiv.pdf#page=34].

The XML snippet that comes with them only makes sense to me when
<resources> and <collections> have their tags closed.

I attach the diff containing what I think is the right way to do it.

Many thanks for your excellent work,

Pablo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: xml-mkiv.diff
Type: text/x-patch
Size: 522 bytes
Desc: not available
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20220521/ce940011/attachment.bin>

From modules at contextgarden.net  Fri May 27 03:51:52 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Fri, 27 May 2022 03:51:52 +0200
Subject: [dev-context] CGModules update: lua-widow-control version v2.1.2
 published.
Message-ID: <20220527015152.991ED289FA1@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v2.1.2
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

- Fully-support footnotes/inserts: lua-widow-control now moves the "footnote text" with the "footnote mark" when it moves a line to the next page.
- No longer attempt to expand paragraphs in \vboxes
- Minor documentation updates

----------------------------------------------------------------------


From modules at contextgarden.net  Fri May 27 08:31:07 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Fri, 27 May 2022 08:31:07 +0200
Subject: [dev-context] CGModules update: lua-widow-control version v2.1.2
 published.
Message-ID: <20220527063107.5E1E028A068@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v2.1.2
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

- Fully-support footnotes/inserts: lua-widow-control now moves the "footnote text" with the "footnote mark" when it moves a line to the next page.
- No longer attempt to expand paragraphs in \vboxes
- Minor documentation updates

----------------------------------------------------------------------


From wolfgang.schuster.lists at gmail.com  Sun May 29 21:29:15 2022
From: wolfgang.schuster.lists at gmail.com (Wolfgang Schuster)
Date: Sun, 29 May 2022 21:29:15 +0200
Subject: [dev-context] tabl-tbl.mkxl
Message-ID: <f075c8e8-8a13-e997-f26a-caefe3c24e66@gmail.com>

Hi,

the \tabl_tabulate_NR_common needs \tolerant, otherwise \NR fails when 
it appear at the end of an included file.

tabl-tbl.mkxl, line 1971 (LMTX only):

-\permanent\protected\def\tabl_tabulate_NR_common#1#2#.#3% #. gobbles 
pars and spaces
+\permanent\tolerant\protected\def\tabl_tabulate_NR_common#1#2#.#3% #. 
gobbles pars and spaces
 Â  {\global\advance\c_tabl_tabulate_noflines\plusone
 Â Â  ...
 Â Â  \noalign{\the\t_tabl_tabulate_every_after_row#2}#3}

Wolfgang


From j.hagen at xs4all.nl  Sun May 29 23:47:58 2022
From: j.hagen at xs4all.nl (Hans Hagen)
Date: Sun, 29 May 2022 23:47:58 +0200
Subject: [dev-context] tabl-tbl.mkxl
In-Reply-To: <f075c8e8-8a13-e997-f26a-caefe3c24e66@gmail.com>
References: <f075c8e8-8a13-e997-f26a-caefe3c24e66@gmail.com>
Message-ID: <c4acc394-543e-2a4d-ac3a-2c47cbb81180@xs4all.nl>

On 5/29/2022 9:29 PM, Wolfgang Schuster wrote:
> Hi,
> 
> the \tabl_tabulate_NR_common needs \tolerant, otherwise \NR fails when 
> it appear at the end of an included file.
> 
> tabl-tbl.mkxl, line 1971 (LMTX only):
> 
> -\permanent\protected\def\tabl_tabulate_NR_common#1#2#.#3% #. gobbles 
> pars and spaces
> +\permanent\tolerant\protected\def\tabl_tabulate_NR_common#1#2#.#3% #. 
> gobbles pars and spaces
>  Â  {\global\advance\c_tabl_tabulate_noflines\plusone
>  Â Â  ...
>  Â Â  \noalign{\the\t_tabl_tabulate_every_after_row#2}#3}
ah, fixed ...

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------

From oinos at gmx.es  Sat Jun  4 10:45:16 2022
From: oinos at gmx.es (Pablo Rodriguez)
Date: Sat, 4 Jun 2022 10:45:16 +0200
Subject: [dev-context] allow non-ASCII chars in scite-xml
Message-ID: <17a701ee-166b-592b-e901-ca961392d8c4@gmx.es>

Hans,

here is a patch, copied from buff-imp-xml.lua, so that XML elements are
highlighted when they contain non-ASCII chars.

MWE that shows the issue (commenting the first line gives different
results):

  \usemodule[scite]
  \starttext
  \startTEXpage[offset=1ex]
  \type[option=xml]{<ans/>}
  \type[option=xml]{<aÃ¡Ã±s/>}
  \stopTEXpage
  \stoptext

Many thanks for your help,

Pablo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: scite-xml.diff
Type: text/x-patch
Size: 980 bytes
Desc: not available
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20220604/e3b43c03/attachment.bin>

From modules at contextgarden.net  Sat Jun 18 08:55:11 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 18 Jun 2022 08:55:11 +0200
Subject: [dev-context] CGModules update: lua-widow-control version v2.2.0
 published.
Message-ID: <20220618065511.811C028A140@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v2.2.0
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

- Fix paragraphs not being properly saved for potential expansion. **May affect page breaks.**
- Add a new `draft` option
- Fix a node memory leak. You should now be able to use lua-widow-control on documents with > 10 000 pages.
- Use `\lua_load_module:n` when available.
- Add additional metadata to the documentation.

----------------------------------------------------------------------


From modules at contextgarden.net  Thu Jul 14 12:10:43 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Thu, 14 Jul 2022 12:10:43 +0200
Subject: [dev-context] CGModules update: simpleslides version 2022.07.13
 published.
Message-ID: <20220714101043.9618228A48D@zapf.ntg.nl>

Henning Hraban Ramm submitted an update to the

               simpleslides

package.

Version number: 2022.07.13
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: A module for creating presentations in ConTeXt.

Announcement text:
----------------------------------------------------------------------

Remote revision: deb6f5d, log message:
adaption to ConTeXt LMTX - version 2022.07.13

----------------------------------------------------------------------


From witiko at mail.muni.cz  Fri Jul 15 18:37:34 2022
From: witiko at mail.muni.cz (=?UTF-8?Q?V=C3=ADt?= =?UTF-8?Q?=20Novotn=C3=BD?=)
Date: Fri, 15 Jul 2022 18:37:34 +0200
Subject: [dev-context] =?utf-8?q?A_robust_way_of_detecting_ConTeXt_from_L?=
 =?utf-8?q?aTeX3?=
Message-ID: <1657903054-409729-155.443905058146-475@mail.muni.cz>

Dear ConTeXt developers,

in the l3file module of LaTeX3, we need to detect whether we are using the ConTeXt format, so that we can correctly decide which input and output streams are reserved by the format, and whether we need to \relax a control sequence before using \newread and \newwrite with it.

At the moment, we detect ConTeXt by checking that the \normalend command is defined. However, this can produce false positives outside iniTeX when LaTeX3 is loaded from the expl3-generic.tex macro package and a \normalend user command is defined. Furthermore, this can produce false negatives if a future version of ConTeXt does not define \normalend.

Can you suggest alternative internal command(s) that we can use to detect ConTeXt? Here are the desiderata:

- No false negatives: All past versions of ConTeXt define these commands. All future versions of ConTeXt are likely to define these commands.

- No false positives: The commands are long / contain characters that don't have letter catcode in the normal regime and therefore are unlikely to be defined by users. The text of the commands contains ConTeXt-specific terminology that makes them unlikely to be defined by other formats.

Looking forward to your helpful suggestions.

Best,
Vit

From henri at henrimenke.de  Sun Jul 17 19:59:02 2022
From: henri at henrimenke.de (Henri Menke)
Date: Sun, 17 Jul 2022 19:59:02 +0200
Subject: [dev-context] A robust way of detecting ConTeXt from LaTeX3
In-Reply-To: <1657903054-409729-155.443905058146-475@mail.muni.cz>
References: <1657903054-409729-155.443905058146-475@mail.muni.cz>
Message-ID: <24c90767091dc40689c3ac0ab722eb4222478555.camel@henrimenke.de>

On Fri, 2022-07-15 at 18:37 +0200, VÃ­t NovotnÃ½ wrote:
> Dear ConTeXt developers,
> 
> in the l3file module of LaTeX3, we need to detect whether we are
> using the ConTeXt format, so that we can correctly decide which input
> and output streams are reserved by the format, and whether we need to
> \relax a control sequence before using \newread and \newwrite with
> it.
> 
> At the moment, we detect ConTeXt by checking that the \normalend
> command is defined. However, this can produce false positives outside
> iniTeX when LaTeX3 is loaded from the expl3-generic.tex macro package
> and a \normalend user command is defined. Furthermore, this can
> produce false negatives if a future version of ConTeXt does not
> define \normalend.
> 
> Can you suggest alternative internal command(s) that we can use to
> detect ConTeXt? Here are the desiderata:
> 
> - No false negatives: All past versions of ConTeXt define these
> commands. All future versions of ConTeXt are likely to define these
> commands.
> 
> - No false positives: The commands are long / contain characters that
> don't have letter catcode in the normal regime and therefore are
> unlikely to be defined by users. The text of the commands contains
> ConTeXt-specific terminology that makes them unlikely to be defined
> by other formats.

How about \contextversion?

Cheers, Henri

> 
> Looking forward to your helpful suggestions.
> 
> Best,
> Vit
> _______________________________________________
> dev-context mailing list
> dev-context at ntg.nl
> https://mailman.ntg.nl/mailman/listinfo/dev-context


From witiko at mail.muni.cz  Mon Jul 18 11:49:00 2022
From: witiko at mail.muni.cz (=?utf-8?B?VsOtdGVrIE5vdm90bsO9?=)
Date: Mon, 18 Jul 2022 11:49:00 +0200
Subject: [dev-context] A robust way of detecting ConTeXt from LaTeX3
In-Reply-To: <24c90767091dc40689c3ac0ab722eb4222478555.camel@henrimenke.de>
References: <1657903054-409729-155.443905058146-475@mail.muni.cz>
 <24c90767091dc40689c3ac0ab722eb4222478555.camel@henrimenke.de>
Message-ID: <20220718094900.ext2vt7enleawgkh@raspberrypi>

Dear Henri,

thank you for your suggestion. Hans already reached out to me and his
suggestion matches yours. I think \contextversion is what we have been
looking for.

Best,
Vit

On Sun, Jul 17, 2022 at 07:59:02PM +0200, Henri Menke wrote:
> On Fri, 2022-07-15 at 18:37 +0200, VÃ­t NovotnÃ½ wrote:
> > Dear ConTeXt developers,
> > 
> > in the l3file module of LaTeX3, we need to detect whether we are
> > using the ConTeXt format, so that we can correctly decide which input
> > and output streams are reserved by the format, and whether we need to
> > \relax a control sequence before using \newread and \newwrite with
> > it.
> > 
> > At the moment, we detect ConTeXt by checking that the \normalend
> > command is defined. However, this can produce false positives outside
> > iniTeX when LaTeX3 is loaded from the expl3-generic.tex macro package
> > and a \normalend user command is defined. Furthermore, this can
> > produce false negatives if a future version of ConTeXt does not
> > define \normalend.
> > 
> > Can you suggest alternative internal command(s) that we can use to
> > detect ConTeXt? Here are the desiderata:
> > 
> > - No false negatives: All past versions of ConTeXt define these
> > commands. All future versions of ConTeXt are likely to define these
> > commands.
> > 
> > - No false positives: The commands are long / contain characters that
> > don't have letter catcode in the normal regime and therefore are
> > unlikely to be defined by users. The text of the commands contains
> > ConTeXt-specific terminology that makes them unlikely to be defined
> > by other formats.
> 
> How about \contextversion?
> 
> Cheers, Henri
> 
> > 
> > Looking forward to your helpful suggestions.
> > 
> > Best,
> > Vit
> > _______________________________________________
> > dev-context mailing list
> > dev-context at ntg.nl
> > https://mailman.ntg.nl/mailman/listinfo/dev-context
> 
> _______________________________________________
> dev-context mailing list
> dev-context at ntg.nl
> https://mailman.ntg.nl/mailman/listinfo/dev-context
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: not available
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20220718/4bac01fd/attachment.sig>

From witiko at mail.muni.cz  Thu Jul 21 21:45:00 2022
From: witiko at mail.muni.cz (=?utf-8?B?VsOtdGVrIE5vdm90bsO9?=)
Date: Thu, 21 Jul 2022 21:45:00 +0200
Subject: [dev-context] A robust way of detecting ConTeXt from LaTeX3
In-Reply-To: <20220718094900.ext2vt7enleawgkh@raspberrypi>
References: <1657903054-409729-155.443905058146-475@mail.muni.cz>
 <24c90767091dc40689c3ac0ab722eb4222478555.camel@henrimenke.de>
 <20220718094900.ext2vt7enleawgkh@raspberrypi>
Message-ID: <20220721194500.epo6syredcjuffrm@raspberrypi>

Dear all,

however, `\fmtname` also seems to return `cont-en` consistently across
different versions of ConTeXt. Since we already parse and expose
`\fmtname` in LaTeX3, perhaps that would be preferable over
`\contextversion` (and hopefully equally as robust)?

Best,
Vit

On Mon, Jul 18, 2022 at 11:49:00AM +0200, VÃ­tek NovotnÃ½ wrote:
> Dear Henri,
> 
> thank you for your suggestion. Hans already reached out to me and his
> suggestion matches yours. I think \contextversion is what we have been
> looking for.
> 
> Best,
> Vit
> 
> On Sun, Jul 17, 2022 at 07:59:02PM +0200, Henri Menke wrote:
> > On Fri, 2022-07-15 at 18:37 +0200, VÃ­t NovotnÃ½ wrote:
> > > Dear ConTeXt developers,
> > > 
> > > in the l3file module of LaTeX3, we need to detect whether we are
> > > using the ConTeXt format, so that we can correctly decide which input
> > > and output streams are reserved by the format, and whether we need to
> > > \relax a control sequence before using \newread and \newwrite with
> > > it.
> > > 
> > > At the moment, we detect ConTeXt by checking that the \normalend
> > > command is defined. However, this can produce false positives outside
> > > iniTeX when LaTeX3 is loaded from the expl3-generic.tex macro package
> > > and a \normalend user command is defined. Furthermore, this can
> > > produce false negatives if a future version of ConTeXt does not
> > > define \normalend.
> > > 
> > > Can you suggest alternative internal command(s) that we can use to
> > > detect ConTeXt? Here are the desiderata:
> > > 
> > > - No false negatives: All past versions of ConTeXt define these
> > > commands. All future versions of ConTeXt are likely to define these
> > > commands.
> > > 
> > > - No false positives: The commands are long / contain characters that
> > > don't have letter catcode in the normal regime and therefore are
> > > unlikely to be defined by users. The text of the commands contains
> > > ConTeXt-specific terminology that makes them unlikely to be defined
> > > by other formats.
> > 
> > How about \contextversion?
> > 
> > Cheers, Henri
> > 
> > > 
> > > Looking forward to your helpful suggestions.
> > > 
> > > Best,
> > > Vit
> > > _______________________________________________
> > > dev-context mailing list
> > > dev-context at ntg.nl
> > > https://mailman.ntg.nl/mailman/listinfo/dev-context
> > 
> > _______________________________________________
> > dev-context mailing list
> > dev-context at ntg.nl
> > https://mailman.ntg.nl/mailman/listinfo/dev-context
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: not available
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20220721/7ba4f9b9/attachment.sig>

From mojca.miklavec.lists at gmail.com  Sat Jul 23 10:59:11 2022
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 23 Jul 2022 10:59:11 +0200
Subject: [dev-context] A robust way of detecting ConTeXt from LaTeX3
In-Reply-To: <20220721194500.epo6syredcjuffrm@raspberrypi>
References: <1657903054-409729-155.443905058146-475@mail.muni.cz>
 <24c90767091dc40689c3ac0ab722eb4222478555.camel@henrimenke.de>
 <20220718094900.ext2vt7enleawgkh@raspberrypi>
 <20220721194500.epo6syredcjuffrm@raspberrypi>
Message-ID: <CALBOmsYMjqvBjam4_nkVf-c8p5YtUMV0zVOGdg-HhSzwjMR1zg@mail.gmail.com>

On Thu, 21 Jul 2022 at 21:45, VÃ­tek NovotnÃ½ wrote:
>
> Dear all,
>
> however, `\fmtname` also seems to return `cont-en` consistently across
> different versions of ConTeXt.

Unless you are using the Czech interface, that is ;)
In that case you would probably get cont-cz (or cont-cs, not sure).

Mojca

PS: I'm not really sure if that's still a thing nowadays, but cont-nl
was definitely "widely" used in the past.

From witiko at mail.muni.cz  Mon Jul 25 17:06:23 2022
From: witiko at mail.muni.cz (=?utf-8?B?VsOtdGVrIE5vdm90bsO9?=)
Date: Mon, 25 Jul 2022 17:06:23 +0200
Subject: [dev-context] A robust way of detecting ConTeXt from LaTeX3
In-Reply-To: <CALBOmsYMjqvBjam4_nkVf-c8p5YtUMV0zVOGdg-HhSzwjMR1zg@mail.gmail.com>
References: <1657903054-409729-155.443905058146-475@mail.muni.cz>
 <24c90767091dc40689c3ac0ab722eb4222478555.camel@henrimenke.de>
 <20220718094900.ext2vt7enleawgkh@raspberrypi>
 <20220721194500.epo6syredcjuffrm@raspberrypi>
 <CALBOmsYMjqvBjam4_nkVf-c8p5YtUMV0zVOGdg-HhSzwjMR1zg@mail.gmail.com>
Message-ID: <20220725150623.3vah2q73thnywx6b@raspberrypi>

Dear Mojca (and also Hans, off-list),

thank you for your helpful feedback. We updated LaTeX3, so that it
detects ConTeXt by the existence of the `\contextversion` command:

- https://github.com/latex3/latex3/pull/1114
- https://github.com/latex3/latex3/pull/1117

Best,
Vit

On Sat, Jul 23, 2022 at 10:59:11AM +0200, Mojca Miklavec wrote:
> On Thu, 21 Jul 2022 at 21:45, VÃ­tek NovotnÃ½ wrote:
> >
> > Dear all,
> >
> > however, `\fmtname` also seems to return `cont-en` consistently across
> > different versions of ConTeXt.
>
> Unless you are using the Czech interface, that is ;)
> In that case you would probably get cont-cz (or cont-cs, not sure).
>
> Mojca
>
> PS: I'm not really sure if that's still a thing nowadays, but cont-nl
> was definitely "widely" used in the past.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 833 bytes
Desc: not available
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20220725/232cb8db/attachment.sig>

From modules at contextgarden.net  Thu Jul 28 09:35:29 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Thu, 28 Jul 2022 09:35:29 +0200
Subject: [dev-context] CGModules update: lua-widow-control version v2.2.1
 published.
Message-ID: <20220728073529.70678360908@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v2.2.1
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

- Fix crashes with recent LuaMetaTeX (ConTeXt MkXL)
- No longer show "left parfill skip" warnings with ConTeXt LMTX/MkXL (#7)

----------------------------------------------------------------------


From modules at contextgarden.net  Wed Aug 24 03:14:59 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Wed, 24 Aug 2022 03:14:59 +0200
Subject: [dev-context] CGModules update: lua-widow-control version v2.2.2
 published.
Message-ID: <20220824011459.9B5312A4063@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v2.2.2
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

- Add preliminary support for inserts/footnotes in LuaMetaTeX (#38).

- Use the built-in LaTeX keyÃÂ¢ÃÂÃÂvalue interface where available.
  This means that lua-widow-control now also reads the global class options.

- Add support for split footnotes (#37).

----------------------------------------------------------------------


From tomas.hala at mendelu.cz  Thu Aug 25 12:06:16 2022
From: tomas.hala at mendelu.cz (=?iso-8859-2?Q?Tom=E1=B9_H=E1la?=)
Date: Thu, 25 Aug 2022 10:06:16 +0000
Subject: [dev-context] Footnotes v width
Message-ID: <AM0P194MB03406DCEF10144A3D972EFC9FD729@AM0P194MB0340.EURP194.PROD.OUTLOOK.COM>

Hi all,

just for information (I do not know if it is a bug) -- looking for a solution for footnotes, I discovered strange behaviour of footnotes produced by the settings below. Compare #1--#9 with #10--#12, it is caused by unadjusted width.

The best,

TomÃ¡Å¡

\setupnotation[footnote][
    alternative=serried,
    distance=.33em,
    width=,
    numbercommand=\hfill\high,
]

\starttext
\showframe[text][text]
\dorecurse{6}{Toto je text.\footnote{\dorecurse{12}{Bla bla bla. }} }
\page
\dorecurse{6}{Toto je text.\footnote{\dorecurse{12}{Bla bla bla. }} }
\stoptext
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20220825/22d50ae4/attachment.htm>

From modules at contextgarden.net  Sat Sep 17 18:36:17 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:17 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2009.02.14
 published.
Message-ID: <20220917163617.8DF00360BA0@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2009.02.14
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:17 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:17 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2009.06.14
 published.
Message-ID: <20220917163617.CD3C6360BC3@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2009.06.14
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:18 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:18 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2009.08.01
 published.
Message-ID: <20220917163618.1BB78360BD1@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2009.08.01
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:18 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:18 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2009.09.15
 published.
Message-ID: <20220917163618.DFAC9360BD7@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2009.09.15
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:18 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:18 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2009.08.29
 published.
Message-ID: <20220917163618.8DF87360BD5@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2009.08.29
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:19 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:19 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2009.09.16
 published.
Message-ID: <20220917163619.40DD5360BDD@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2009.09.16
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:19 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:19 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2009.09.20
 published.
Message-ID: <20220917163619.C5CD7360BDB@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2009.09.20
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:20 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:20 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2009.10.04
 published.
Message-ID: <20220917163620.3EF9D360BD8@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2009.10.04
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:20 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:20 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2009.10.06
 published.
Message-ID: <20220917163620.BBB4F360BDC@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2009.10.06
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:21 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:21 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2009.11.21
 published.
Message-ID: <20220917163621.B7770360BCF@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2009.11.21
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:21 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:21 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2009.10.25
 published.
Message-ID: <20220917163621.2349B360BE4@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2009.10.25
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:22 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:22 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2009.11.24
 published.
Message-ID: <20220917163622.2FF28360BE7@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2009.11.24
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:22 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:22 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2010.02.02
 published.
Message-ID: <20220917163622.B2F23360BEB@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2010.02.02
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:23 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:23 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2010.03.12
 published.
Message-ID: <20220917163623.30219360BEE@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2010.03.12
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:23 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:23 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2010.10.13
 published.
Message-ID: <20220917163623.F171A360BF2@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2010.10.13
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:24 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:24 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2010.12.28
 published.
Message-ID: <20220917163624.69828360BE8@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2010.12.28
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:25 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:25 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2010.02.03
 published.
Message-ID: <20220917163625.09FE5360BF7@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2010.02.03
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:25 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:25 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2011.02.04
 published.
Message-ID: <20220917163625.B7DB0360BF8@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2011.02.04
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:26 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:26 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2011.02.18
 published.
Message-ID: <20220917163626.3BC63360BF9@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2011.02.18
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:26 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:26 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2011.03.11
 published.
Message-ID: <20220917163626.B5398360BFB@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2011.03.11
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:27 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:27 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2011.03.19
 published.
Message-ID: <20220917163627.71194360BF3@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2011.03.19
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:28 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:28 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2011.03.26
 published.
Message-ID: <20220917163628.1F4CE360C02@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2011.03.26
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:28 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:28 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2011.06.17
 published.
Message-ID: <20220917163628.D2BFB360BF5@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2011.06.17
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:29 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:29 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2011.12.16
 published.
Message-ID: <20220917163629.F1B9F360BD7@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2011.12.16
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:30 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:30 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2011.12.17
 published.
Message-ID: <20220917163630.5B479360C03@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2011.12.17
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:31 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:31 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2012.01.09
 published.
Message-ID: <20220917163631.38F73360BED@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2012.01.09
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:31 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:31 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2012.07.25
 published.
Message-ID: <20220917163631.E7E7D360C0F@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2012.07.25
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From modules at contextgarden.net  Sat Sep 17 18:36:32 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Sat, 17 Sep 2022 18:36:32 +0200
Subject: [dev-context] CGModules update: Simplefonts version 2013.02.24
 published.
Message-ID: <20220917163632.76460360C12@zapf.ntg.nl>

Wolfgang Schuster submitted an update to the

               Simplefonts

package.

Version number: 2013.02.24
License type: GNU General Public License
Wants to be in ConTeXt distribution: no
Wants to be synced with CTAN: no

Summary description: Module to simplify the font mechanism in ConTeXt MkIV.

Announcement text:
----------------------------------------------------------------------



----------------------------------------------------------------------


From oinos at gmx.es  Fri Oct 14 22:49:48 2022
From: oinos at gmx.es (Pablo Rodriguez)
Date: Fri, 14 Oct 2022 22:49:48 +0200
Subject: [dev-context] fix for footnote hyperlink
Message-ID: <9176035d-8f6c-258d-9db1-45b7e6c26318@gmx.es>

Hi Hans,

the patch fixes the regression for internal hyperlinks (footnotes and
similar) with current latest (2022.10.14 10:16).

This sample shows the issue:

  \setupinteraction[state=start,
    focus=standard]
  \starttext
  \completecontent
  \section{section}
  a\footnote{\contextversion}
  \stopsection
  \stoptext

Without the fix, destinations are referred to an unexisting 7 0 object
(instead of the page at 1 0 R).

I think this fixes the regression in current latest.

Many thanks for your help,

Pablo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: link-part-fix.diff
Type: text/x-patch
Size: 512 bytes
Desc: not available
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20221014/75d1bba1/attachment.bin>

From j.hagen at xs4all.nl  Sat Oct 15 09:13:32 2022
From: j.hagen at xs4all.nl (Hans Hagen)
Date: Sat, 15 Oct 2022 09:13:32 +0200
Subject: [dev-context] fix for footnote hyperlink
In-Reply-To: <9176035d-8f6c-258d-9db1-45b7e6c26318@gmx.es>
References: <9176035d-8f6c-258d-9db1-45b7e6c26318@gmx.es>
Message-ID: <9dc4c7c8-1e06-d97e-5057-26058610c936@xs4all.nl>

On 10/14/2022 10:49 PM, Pablo Rodriguez wrote:
> Hi Hans,
> 
> the patch fixes the regression for internal hyperlinks (footnotes and
> similar) with current latest (2022.10.14 10:16).
> 
> This sample shows the issue:
> 
>    \setupinteraction[state=start,
>      focus=standard]
>    \starttext
>    \completecontent
>    \section{section}
>    a\footnote{\contextversion}
>    \stopsection
>    \stoptext
> 
> Without the fix, destinations are referred to an unexisting 7 0 object
> (instead of the page at 1 0 R).
> 
> I think this fixes the regression in current latest.
ok, thanks,

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From oinos at gmx.es  Sun Oct 16 12:54:44 2022
From: oinos at gmx.es (Pablo Rodriguez)
Date: Sun, 16 Oct 2022 12:54:44 +0200
Subject: [dev-context] fix for named destinations in URLs
Message-ID: <52be58d3-1e07-be77-22e6-bdca035a8ed3@gmx.es>

Hi Hans,

the attached patch replaces "#" with "^" as autoprefix for named
destinations in lpdf.ano (both for MkXL and MkIV).

This would allow urls such as
https://pdf.ousia.tk/autoprefix.pdf#nameddest=^33 ("#" is a reserved
char in urls).

Also âPDF Open Parametersâ reserves the usage of "#", "&", "=" and these
special characters cannot be escaped
(https://pdfobject.com/pdf/pdf_open_parameters_acro8.pdf#search=escape).

I hope it helps,

Pablo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lpdf-autoprefix.diff
Type: text/x-patch
Size: 918 bytes
Desc: not available
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20221016/443a4a73/attachment.bin>

From oinos at gmx.es  Sat Oct 22 17:40:23 2022
From: oinos at gmx.es (Pablo Rodriguez)
Date: Sat, 22 Oct 2022 17:40:23 +0200
Subject: [dev-context] named destinations for lists
Message-ID: <c5b02c23-30f9-4d61-cb46-c72460ddba18@gmx.es>

Hi Hans,

unless cheat is removed, named destinations wonât work for lists.

  \setupinteraction[state=start, focus=standard, prefix=_]
  \starttext
  \completecontent
  \dorecurse{25}
    {\section{Section}
      a\footnote{}}
  \stoptext

It think "cheat" is superfluous in strc-lst.lua, since "cheats[v]"
already includes what was intended with it.

I have tested this both with LMTX and MkIV.

The variable "cheat" seems not to be used elsewhere.

I attach a patch, if this might be handy.

Just in case it may help,

Pablo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: only_cheats.diff
Type: text/x-patch
Size: 731 bytes
Desc: not available
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20221022/36577149/attachment.bin>

From oinos at gmx.es  Mon Oct 24 17:54:43 2022
From: oinos at gmx.es (Pablo Rodriguez)
Date: Mon, 24 Oct 2022 17:54:43 +0200
Subject: [dev-context] named destinations for lists
In-Reply-To: <c5b02c23-30f9-4d61-cb46-c72460ddba18@gmx.es>
References: <c5b02c23-30f9-4d61-cb46-c72460ddba18@gmx.es>
Message-ID: <8aee8cd2-0020-ae3f-058a-865d37d87f6d@gmx.es>

On 10/22/22 17:40, Pablo Rodriguez wrote:
> Hi Hans,
> [...]
> The variable "cheat" seems not to be used elsewhere.

Hans,

Iâm afraid my previous patch was wrong.

I totally overlooked the other conditional where "cheat" was in use (in
strc-lst.lua).

I attach the diff file (but against the file included in current latest).

Sorry for the mess and many thanks for your help,

Pablo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: proper-cheat.diff
Type: text/x-patch
Size: 712 bytes
Desc: not available
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20221024/8b1bf984/attachment.bin>

From modules at contextgarden.net  Tue Nov 22 09:21:11 2022
From: modules at contextgarden.net (modules at contextgarden.net)
Date: Tue, 22 Nov 2022 09:21:11 +0100
Subject: [dev-context] CGModules update: lua-widow-control version v3.0.0
 published.
Message-ID: <20221122082111.E90F8360FB9@zapf.ntg.nl>

Max Chernoff submitted an update to the

               lua-widow-control

package.

Version number: v3.0.0
License type: Mozilla Public License v2.0
Wants to be in ConTeXt distribution: yes
Wants to be synced with CTAN: yes

Summary description: Automatically remove widows and orphans from any document

Announcement text:
----------------------------------------------------------------------

- Add new TUGboat and Zpravodaj articles.

- Add and document the public Lua interfaces.

- Change \parfillskip settings for lengthened paragraphs to more
  strongly prevent short last lines. **May affect page breaks.**

- Add the ability to configure the horizontal offset for the paragraph
  costs printed in draft mode.

- Add support for LuaMetaLaTeX and LuaMetaPlain. All features should
  work identically to the LuaTeX-based version, although there are a
  few minor bugs. (#40)

- Fully support inserts/footnotes in LuaMetaTeX (#38).

- Add support for presets in ConTeXt.

- Add support for node colouring in ConTeXt and OpTeX (#39).

----------------------------------------------------------------------


From erik.schultheis at aalto.fi  Mon Dec 12 14:11:39 2022
From: erik.schultheis at aalto.fi (Schultheis Erik)
Date: Mon, 12 Dec 2022 13:11:39 +0000
Subject: [dev-context] luametatex compiled with g++
Message-ID: <8e2b9e54-d2c9-013b-1acc-bc66eccb7823@aalto.fi>

Hi,

I'm not sure if this is the right list, if not please redirect me.


So, I tried compiling luametatex using g++, and noticed some things that prevent it from also being considered valid C++ code.

Two general problems are:

1) Initialization order. C++ wants initializers to be specified in the order in which they will actually initialize the object, i.e. in the order of the members.

2) Reserved names. Some variables are named `class` or `template`, which of course, breaks C++.

But more interesting are the specific pieces of code that get rejected, because C++ is a bit more strict than C in some cases.

3) We get one complaint about comparing a pointer to an integer using <, which  I believe is an actual bug in the code.
4) A second complaint is about dropping const in `tex_to_cstring`. I don't think this causes an actual error in the program, though.
5) Some of the `goto`s cause problems, because the jump skips over the initialization of variables in the target scope. Again, these variables are not used, so I don't think there is an actual error. The easy fix here is to just move the code from the `goto` target into its own function, which is probably better for readability anyway.

6) The last problem is that things break with g++ if the marco `infinity` is defined.

I've attached patches for 3), 4), and 5), as I think that these benefit code quality in general. I can also send ones for 1) and 2), if there is interest. 6) seems to be a more general incompatibility, I'm not sure if there is a "fix" that doesn't require #if s.

Kind regards,

Erik
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20221212/3f0246b4/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: bug.patch
Type: text/x-patch
Size: 620 bytes
Desc: bug.patch
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20221212/3f0246b4/attachment.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: const.patch
Type: text/x-patch
Size: 3589 bytes
Desc: const.patch
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20221212/3f0246b4/attachment-0001.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: less_goto.patch
Type: text/x-patch
Size: 4578 bytes
Desc: less_goto.patch
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20221212/3f0246b4/attachment-0002.bin>

From j.hagen at xs4all.nl  Mon Dec 12 19:38:36 2022
From: j.hagen at xs4all.nl (Hans Hagen)
Date: Mon, 12 Dec 2022 19:38:36 +0100
Subject: [dev-context] luametatex compiled with g++
In-Reply-To: <8e2b9e54-d2c9-013b-1acc-bc66eccb7823@aalto.fi>
References: <8e2b9e54-d2c9-013b-1acc-bc66eccb7823@aalto.fi>
Message-ID: <6db1de55-5030-5f02-07bd-83fe7439a033@xs4all.nl>

On 12/12/2022 2:11 PM, Schultheis Erik wrote:

> I'm not sure if this is the right list, if not please redirect me.

this list or the general context list

> So, I tried compiling luametatex using g++, and noticed some things that 
> prevent it from also being considered valid C++ code.

ok, but keep in mind that we try to avoid c++ specifics

> Two general problems are:
> 
> 1) Initialization order. C++ wants initializers to be specified in the 
> order in which they will actually initialize the object, i.e. in the 
> order of the members.

Do you have a list of locations?

> 2) Reserved names. Some variables are named `class` or `template`, which 
> of course, breaks C++.

i'll replace these (but you need to check it as i don't compile with g++

> But more interesting are the specific pieces of code that get rejected, 
> because C++ is a bit more strict than C in some cases.

interesting; we compile with clang, gcc and msvc and each has its own 
(sometimes conflicting) messages

> 3) We get one complaint about comparing a pointer to an integer using <, 
> whichÂ  I believe is an actual bug in the code.

ok, fixed

> 4) A second complaint is about dropping const in `tex_to_cstring`. I 
> don't think this causes an actual error in the program, though.

hm, changes but let's see what othjer compilers say

> 5) Some of the `goto`s cause problems, because the jump skips over the 
> initialization of variables in the target scope. Again, these variables 
> are not used, so I don't think there is an actual error. The easy fix 
> here is to just move the code from the `goto` target into its own 
> function, which is probably better for readability anyway.

adapted (slightly different)

> 6) The last problem is that things break with g++ if the marco 
> `infinity` is defined.

adapted but best check if i didn't make mistakes there

> I've attached patches for 3), 4), and 5), as I think that these benefit 
> code quality in general. I can also send ones for 1) and 2), if there is 
> interest. 6) seems to be a more general incompatibility, I'm not sure if 
> there is a "fix" that doesn't require #if s.

you can check (1) and (2) next upload; we really try to avoid compiler 
specific #if's

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
        tel: 038 477 53 69 | www.pragma-ade.nl | www.pragma-pod.nl
-----------------------------------------------------------------


From oinos at gmx.es  Fri Dec 30 12:43:26 2022
From: oinos at gmx.es (Pablo Rodriguez)
Date: Fri, 30 Dec 2022 12:43:26 +0100
Subject: [dev-context] three rendition options
Message-ID: <d1e1b5c6-3b38-59d4-a439-6bbedf2430a1@gmx.es>

Hi Hans,

Michal VlasÃ¡k send me the attached patch to be able to set volume,
opacity and repeat for renditions, such as in:

  \setupinteraction[state=start]
  \starttext
  \null\page
  \definerenderingwindow[myrenderingwindow]
    [width=\textwidth, height=\textwidth,
     openpageaction=StartRendering{\currentrendering},
     closepageaction=StopRendering{\currentrendering}]
  \startTEXpage[offset=1ex, pagestate=start]
  \userendering[key-name][video/mp4][video.mp4]
    [embed=yes, volume=25]
  \placerenderingwindow[myrenderingwindow][key-name]
  \stopTEXpage
  \null\page
  \stoptext

He asked me to submit the patch to ConTeXt to be merged, since he lacks
the free time to submit it himself.

Many thanks for your help,

Pablo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rendition-options.diff
Type: text/x-patch
Size: 3198 bytes
Desc: not available
URL: <http://mailman.ntg.nl/pipermail/dev-context/attachments/20221230/377b166b/attachment.bin>

