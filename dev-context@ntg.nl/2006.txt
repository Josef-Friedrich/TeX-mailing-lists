From patrick at gundla.ch  Sun Jan  1 11:48:41 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Sun Jan  1 11:48:10 2006
Subject: [dev-context] Re: Wiki spam (again)
In-Reply-To: <43B10D8E.5040101@elvenkind.com> (Taco Hoekwater's message of
	"Tue, 27 Dec 2005 10:46:54 +0100")
References: <m2oe3aup5g.fsf@levana.de> <43B10D8E.5040101@elvenkind.com>
Message-ID: <m2u0co441i.fsf@levana.de>

Hi Taco,

> I think I've rolled back everything, 

and again, and again. Thanks. I have manually disabled linking to the
daj.pl site. The spamblocker so far was really doing a good job. Let's
hope that they use their old tactics.

Patrick

Happy new year to all!
-- 
ConTeXt wiki and more: http://contextgarden.net
From patrick at gundla.ch  Sun Jan  1 14:52:54 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Sun Jan  1 14:52:20 2006
Subject: [dev-context] Re: cont-en.xml
In-Reply-To: <m2oe3aup5g.fsf@levana.de> (Patrick Gundlach's message of "Wed,
	21 Dec 2005 22:16:27 +0100")
References: <m2oe3aup5g.fsf@levana.de>
Message-ID: <m2irt43vih.fsf@levana.de>

Hi,

in cont-de.xml

<cd:interface xmlns:cd="http://www.pragma-ade.com/commands" name="context" language="en" version="2004.11.17">

should be 

<cd:interface xmlns:cd="http://www.pragma-ade.com/commands" name="context" language="de" version="2004.11.17">

I'd guess (language="en" -> langugage="de"). 

----------------------------------------

in keys-??.xml: do the separated sections have any special meaning?

Why 

  <cd:variables>
    <cd:variable name="one" value="eins"/>
    <cd:variable name="two" value="zwei"/>
    <cd:variable name="three" value="drei"/>
    <cd:variable name="four" value="vier"/>
    <cd:variable name="five" value="fuenf"/>
  </cd:variables>

  <cd:variables>
    <cd:variable name="environment" value="umgebung"/>
    <cd:variable name="component" value="komponente"/>
    <cd:variable name="product" value="produkt"/>
    <cd:variable name="project" value="projekt"/>
  </cd:variables>


instead of

  <cd:variables>
    <cd:variable name="one" value="eins"/>
    <cd:variable name="two" value="zwei"/>
    <cd:variable name="three" value="drei"/>
    <cd:variable name="four" value="vier"/>
    <cd:variable name="five" value="fuenf"/>
    <cd:variable name="environment" value="umgebung"/>
    <cd:variable name="component" value="komponente"/>
    <cd:variable name="product" value="produkt"/>
    <cd:variable name="project" value="projekt"/>
  </cd:variables>

?? 

For editing purpose?

----------------------------------------

Those cont-(de|nl|it|...).xml files are generated by cont-en.xml +
keys-??.xml files, right?

Patrick
-- 
ConTeXt wiki and more: http://contextgarden.net
From taco at elvenkind.com  Mon Jan  2 09:42:40 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon Jan  2 09:42:46 2006
Subject: [dev-context] Re: Cron <context@server>
	/var/www/aanhet.net/context/bin/cron/context-svn
In-Reply-To: <20060102080104.1C9692800086@server.aanhet.net>
References: <20060102080104.1C9692800086@server.aanhet.net>
Message-ID: <43B8E780.4010706@elvenkind.com>


Hi, starting sometime yesterday, I 've been getting these
messages from my svn checkout script:

Cron Daemon wrote:
> svn: Can't find a temporary directory

I've searched on subversion.org, and it seems that this means
that the svn server cannot write to it's temporary directory
(/tmp or /var/tmp ?). Hans, can you check this please?

Cheers and Happy Newyear!

Taco
From patrick at gundla.ch  Mon Jan  2 12:43:23 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Mon Jan  2 12:43:07 2006
Subject: [dev-context] cont-en.xml
Message-ID: <m2psna3les.fsf@levana.de>

Hi,

an empty parameter slipped into cont-en.xml in 

<cd:command name="setupdescriptions" file="core-des.tex">

I guess this should be:


~/prog/ruby/garden/newtexshow/spielwiese$ diff -u cont-en.xml{-orig,}
--- cont-en.xml-orig    2005-11-24 22:31:16.000000000 +0100
+++ cont-en.xml 2006-01-02 12:38:05.000000000 +0100
@@ -3015,6 +3015,7 @@
         <cd:constant type="hanging"/>
       </cd:parameter>
       <cd:parameter name="headcommand">
+       <cd:variable type="cd:command" />
       </cd:parameter>
       <cd:parameter name="hang">
         <cd:constant type="fit"/>


Patrick
-- 
ConTeXt wiki and more: http://contextgarden.net
From patrick at gundla.ch  Mon Jan  2 13:48:23 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Mon Jan  2 13:48:12 2006
Subject: [dev-context] Re: What about dynamic documentation?
In-Reply-To: <43A31BE2.3010207@elvenkind.com> (Taco Hoekwater's message of
	"Fri, 16 Dec 2005 20:56:18 +0100")
References: <1bbbbe0f95e365f76129a09c0e9f2841@u-bourgogne.fr>
	<43959947.6050409@elvenkind.com>
	<e26c22df361b6e7e2b6bec19ac01d169@u-bourgogne.fr>
	<43A31BE2.3010207@elvenkind.com>
Message-ID: <m2bqyu3ieg.fsf@levana.de>

Hi

(from main list)

[...]

>> 5 - The command variants might need specials (eg \setupinterlinespace).
>
> Yes, the current solution for that command is not very nice. But
> there are more than a few commands with such variant calling
> conventions, 

I can only find setupinterlinespace in cont-en.xml. The xml-element is
cd:choice, and only appears in that cmd. What others (undocumented)
commands are there that have this?

> and it is hard to come up with a nice-looking solution. Suggestions
> for solutions are welcome.


instead of 

\setupinterlinespace[...]|[...,...=...,...]
[...]	reset small medium big on off
height	number
depth	number
line	dimension
top	number
bottom	number

we could have two entries:


\setupinterlinespace[...]
[...]	reset small medium big on off

\setupinterlinespace[...,...=...,...]
height	number
depth	number
line	dimension
top	number
bottom	number

Patrick
-- 
ConTeXt wiki and more: http://contextgarden.net
From taco at elvenkind.com  Mon Jan  2 14:12:00 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon Jan  2 14:12:06 2006
Subject: [dev-context] Re: What about dynamic documentation?
In-Reply-To: <m2bqyu3ieg.fsf@levana.de>
References: <1bbbbe0f95e365f76129a09c0e9f2841@u-bourgogne.fr>	<43959947.6050409@elvenkind.com>	<e26c22df361b6e7e2b6bec19ac01d169@u-bourgogne.fr>	<43A31BE2.3010207@elvenkind.com>
	<m2bqyu3ieg.fsf@levana.de>
Message-ID: <43B926A0.9050301@elvenkind.com>



Patrick Gundlach wrote:
> Hi
> 
> (from main list)
> 
> [...]
> 
> 
>>>5 - The command variants might need specials (eg \setupinterlinespace).
>>
>>Yes, the current solution for that command is not very nice. But
>>there are more than a few commands with such variant calling
>>conventions, 
> 
> 
> I can only find setupinterlinespace in cont-en.xml. The xml-element is

If you grep the source on \doifassignmentelse you can find a few more,
but they are not very easy to spot, because that macro is sometimes
used to filter optional arguments also.

Here is an attempt of a list:

   \definecolor
   \definepalet
   \ornamenttext (core-box)
   blocks
   comments
   itemgroups
   \definenumber
   \definesection
   \setuppapersize

Taco
From patrick at gundla.ch  Mon Jan  2 16:15:23 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Mon Jan  2 16:15:04 2006
Subject: [dev-context] Re: cont-en.xml
In-Reply-To: <m2oe3aup5g.fsf@levana.de> (Patrick Gundlach's message of "Wed,
	21 Dec 2005 22:16:27 +0100")
References: <m2oe3aup5g.fsf@levana.de>
Message-ID: <m2y81y1x10.fsf@levana.de>


2 questions:


In

<cd:command name="defineinteractionmenu" file="core-int.tex">

there is something unusual:

        <cd:constant type="small...cd:command"/>

shouldn't this rater be 

        <cd:constant type="small" />
        <cd:variable type="cd:command"/>

Or sth. similar?

----------------------------------------

In some places 

   4293:        <cd:constant type="cd:command"/>

appears and in some places:

   6013:        <cd:variable type="cd:command"/>


(constant/variable). I wonder if this is on purpose.

Patrick

-- 
ConTeXt wiki and more: http://contextgarden.net
From patrick at gundla.ch  Mon Jan  2 17:35:09 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Mon Jan  2 17:34:49 2006
Subject: [dev-context] Re: What about dynamic documentation?
In-Reply-To: <43B926A0.9050301@elvenkind.com> (Taco Hoekwater's message of
	"Mon, 02 Jan 2006 14:12:00 +0100")
References: <1bbbbe0f95e365f76129a09c0e9f2841@u-bourgogne.fr>
	<43959947.6050409@elvenkind.com>
	<e26c22df361b6e7e2b6bec19ac01d169@u-bourgogne.fr>
	<43A31BE2.3010207@elvenkind.com> <m2bqyu3ieg.fsf@levana.de>
	<43B926A0.9050301@elvenkind.com>
Message-ID: <m2u0cm1tc2.fsf@levana.de>



> If you grep the source on \doifassignmentelse you can find a few
> more,

OK, there is always exactly one alternative to an assignment?

e.g. setupinterlinespace has [keywords | assignment list]

Patrick
From taco at elvenkind.com  Mon Jan  2 18:38:34 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon Jan  2 18:38:36 2006
Subject: [dev-context] Re: What about dynamic documentation?
In-Reply-To: <m2u0cm1tc2.fsf@levana.de>
References: <1bbbbe0f95e365f76129a09c0e9f2841@u-bourgogne.fr>	<43959947.6050409@elvenkind.com>	<e26c22df361b6e7e2b6bec19ac01d169@u-bourgogne.fr>	<43A31BE2.3010207@elvenkind.com>
	<m2bqyu3ieg.fsf@levana.de>	<43B926A0.9050301@elvenkind.com>
	<m2u0cm1tc2.fsf@levana.de>
Message-ID: <43B9651A.5060206@elvenkind.com>

Patrick Gundlach wrote:
> 
>>If you grep the source on \doifassignmentelse you can find a few
>>more,
> 
> 
> OK, there is always exactly one alternative to an assignment?
> 
> e.g. setupinterlinespace has [keywords | assignment list]

Usually the keyword form replaces|abbreviates an assignment,
so that is what I would expect, but there are no guarantees.

Cheers,
Taco
From pragma at wxs.nl  Tue Jan  3 18:57:41 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue Jan  3 18:57:46 2006
Subject: [dev-context] cont-en.xml
In-Reply-To: <m2psna3les.fsf@levana.de>
References: <m2psna3les.fsf@levana.de>
Message-ID: <43BABB15.7000407@wxs.nl>

Patrick Gundlach wrote:

>Hi,
>
>an empty parameter slipped into cont-en.xml in 
>
><cd:command name="setupdescriptions" file="core-des.tex">
>
>I guess this should be:
>
>
>~/prog/ruby/garden/newtexshow/spielwiese$ diff -u cont-en.xml{-orig,}
>--- cont-en.xml-orig    2005-11-24 22:31:16.000000000 +0100
>+++ cont-en.xml 2006-01-02 12:38:05.000000000 +0100
>@@ -3015,6 +3015,7 @@
>         <cd:constant type="hanging"/>
>       </cd:parameter>
>       <cd:parameter name="headcommand">
>+       <cd:variable type="cd:command" />
>       </cd:parameter>
>       <cd:parameter name="hang">
>         <cd:constant type="fit"/>
>
>  
>
ok, patched
From pragma at wxs.nl  Tue Jan  3 19:05:07 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue Jan  3 19:05:11 2006
Subject: [dev-context] Re: cont-en.xml
In-Reply-To: <m2irt43vih.fsf@levana.de>
References: <m2oe3aup5g.fsf@levana.de> <m2irt43vih.fsf@levana.de>
Message-ID: <43BABCD3.8010409@wxs.nl>

Patrick Gundlach wrote:

>Hi,
>
>in cont-de.xml
>
><cd:interface xmlns:cd="http://www.pragma-ade.com/commands" name="context" language="en" version="2004.11.17">
>
>should be 
>
><cd:interface xmlns:cd="http://www.pragma-ade.com/commands" name="context" language="de" version="2004.11.17">
>
>I'd guess (language="en" -> langugage="de"). 
>
>  
>

in ctxtools, add

            data.gsub!(/(\<cd\:interface[^\>]*?language=")en(")/) do
                $1 + interface + $2
            end

before:

            report("saving #{outfile}")

(then run ctxtools --translate de)

Hans
From pragma at wxs.nl  Tue Jan  3 19:19:39 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue Jan  3 19:19:43 2006
Subject: [dev-context] Re: cont-en.xml
In-Reply-To: <m2y81y1x10.fsf@levana.de>
References: <m2oe3aup5g.fsf@levana.de> <m2y81y1x10.fsf@levana.de>
Message-ID: <43BAC03B.6040608@wxs.nl>

Patrick Gundlach wrote:

>2 questions:
>
>
>In
>
><cd:command name="defineinteractionmenu" file="core-int.tex">
>
>there is something unusual:
>
>        <cd:constant type="small...cd:command"/>
>
>shouldn't this rater be 
>
>        <cd:constant type="small" />
>        <cd:variable type="cd:command"/>
>
>Or sth. similar?
>  
>
indeed, i think that the three dots messed of the converter (since we 
now only have cont-en.xml) we can fix it in there; done

>----------------------------------------
>
>In some places 
>
>   4293:        <cd:constant type="cd:command"/>
>
>appears and in some places:
>
>   6013:        <cd:variable type="cd:command"/>
>
>
>(constant/variable). I wonder if this is on purpose.
>  
>
looks messed up (also, some of the cd:command's should be just command), 
i'll check this

Hans
From pragma at wxs.nl  Tue Jan  3 19:24:17 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue Jan  3 20:18:29 2006
Subject: [dev-context] Re: cont-en.xml
In-Reply-To: <m2y81y1x10.fsf@levana.de>
References: <m2oe3aup5g.fsf@levana.de> <m2y81y1x10.fsf@levana.de>
Message-ID: <43BAC151.9060401@wxs.nl>

Patrick Gundlach wrote:

>(constant/variable). I wonder if this is on purpose.
>  
>
it should be

cd:constant type="cd:xxx"

(we may consider something cd:user type="xxx" but i don't want to change 
too much)

Hans
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cont-en.xml
Type: text/xml
Size: 284048 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060103/bffd2177/cont-en-0001.xml
From pragma at wxs.nl  Tue Jan  3 20:25:26 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue Jan  3 20:25:47 2006
Subject: [dev-context] Re: What about dynamic documentation?
In-Reply-To: <43B926A0.9050301@elvenkind.com>
References: <1bbbbe0f95e365f76129a09c0e9f2841@u-bourgogne.fr>
	<43959947.6050409@elvenkind.com>
	<e26c22df361b6e7e2b6bec19ac01d169@u-bourgogne.fr>
	<43A31BE2.3010207@elvenkind.com> <m2bqyu3ieg.fsf@levana.de>
	<43B926A0.9050301@elvenkind.com>
Message-ID: <43BACFA6.2090205@wxs.nl>

Taco Hoekwater wrote:

>
>
> Patrick Gundlach wrote:
>
>> Hi
>>
>> (from main list)
>>
>> [...]
>>
>>
>>>> 5 - The command variants might need specials (eg 
>>>> \setupinterlinespace).
>>>
>>>
>>> Yes, the current solution for that command is not very nice. But
>>> there are more than a few commands with such variant calling
>>> conventions, 
>>
>>
>>
>> I can only find setupinterlinespace in cont-en.xml. The xml-element is
>
>
> If you grep the source on \doifassignmentelse you can find a few more,
> but they are not very easy to spot, because that macro is sometimes
> used to filter optional arguments also.
>
> Here is an attempt of a list:
>
>   \definecolor
>   \definepalet
>   \ornamenttext (core-box)
>   blocks
>   comments
>   itemgroups
>   \definenumber
>   \definesection
>   \setuppapersize

indeed these descriptions need a choice patch

Hans
From mojca.miklavec.lists at gmail.com  Tue Jan  3 21:44:25 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Tue Jan  3 21:44:27 2006
Subject: [dev-context] fonts on the garden
Message-ID: <6faad9f00601031244r15c989b6i5471fb312f7f769e@mail.gmail.com>

Hello, Patrick,

I should probably leave your "stack" untouched until you finish the
texshow, but I have a request for once you find some time.

There are many fonts missing on the garden (including the new lm ones,
antykwa, iwona, ... in those example with bold typewritter (cm) on the
wiki).

I would like to suggest to upgrade/add those fonts (tfm's), perhaps
together with some more fancy fonts for which Hraban wrote some
modules (or maybe some other as well) and together with a
corresponding wiki page, so that users can see how they're named and
examples how to use them. Adding additional fonts & modules takes some
more work, but perhaps at least the new versions of Polish fonts would
be very useful.

XeTeX can't be supported on the garden, but perhaps Aleph once in the
very distand future ...

I added Hraban to CC since he's not on this list and could surely help a lot.

Best wishes,
    Mojca
From patrick at gundla.ch  Wed Jan  4 21:16:09 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Wed Jan  4 21:16:26 2006
Subject: [dev-context] Re: fonts on the garden
In-Reply-To: <6faad9f00601031244r15c989b6i5471fb312f7f769e@mail.gmail.com>
	(Mojca Miklavec's message of "Tue, 3 Jan 2006 21:44:25 +0100")
References: <6faad9f00601031244r15c989b6i5471fb312f7f769e@mail.gmail.com>
Message-ID: <m2u0cjzr3q.fsf@levana.de>

Hi,

> There are many fonts missing on the garden (including the new lm ones,
> antykwa, iwona, ... in those example with bold typewritter (cm) on the
> wiki).

OK, I need some information on how to install those fonts. I guess
I'll find them on the wiki and come back to you tomorrow. There is
also chinese on my todo list.

> XeTeX can't be supported on the garden, but perhaps Aleph once in the
> very distand future ...

Is aleph supported by tetex 3.0? Can I use aleph in parallel to
pdfetex? 

Patrick

(Just keep pushing me)
-- 
ConTeXt wiki and more: http://contextgarden.net
From pragma at wxs.nl  Wed Jan  4 22:33:35 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed Jan  4 22:33:43 2006
Subject: [dev-context] Re: fonts on the garden
In-Reply-To: <m2u0cjzr3q.fsf@levana.de>
References: <6faad9f00601031244r15c989b6i5471fb312f7f769e@mail.gmail.com>
	<m2u0cjzr3q.fsf@levana.de>
Message-ID: <43BC3F2F.3010002@wxs.nl>

Patrick Gundlach wrote:

>Hi,
>
>  
>
>>There are many fonts missing on the garden (including the new lm ones,
>>antykwa, iwona, ... in those example with bold typewritter (cm) on the
>>wiki).
>>    
>>
>
>OK, I need some information on how to install those fonts. I guess
>I'll find them on the wiki and come back to you tomorrow. There is
>also chinese on my todo list.
>
>  
>
>>XeTeX can't be supported on the garden, but perhaps Aleph once in the
>>very distand future ...
>>    
>>
>
>Is aleph supported by tetex 3.0? Can I use aleph in parallel to
>pdfetex? 
>  
>
is you use texexec you can use them in parallel

(you can use the --tex switch to texexec)

Hans

From patrick at gundla.ch  Thu Jan  5 11:06:33 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu Jan  5 11:11:18 2006
Subject: [dev-context] Re: fonts on the garden
In-Reply-To: <6faad9f00601031244r15c989b6i5471fb312f7f769e@mail.gmail.com>
	(Mojca Miklavec's message of "Tue, 3 Jan 2006 21:44:25 +0100")
References: <6faad9f00601031244r15c989b6i5471fb312f7f769e@mail.gmail.com>
Message-ID: <m2irszyonq.fsf@levana.de>

Hi,

could someone send me testfiles for these fonts:

* the new lm
* antykwa
* iwona (?)

Just some small context input to see if the fonts are working?

Patrick
-- 
ConTeXt wiki and more: http://contextgarden.net
From mojca.miklavec.lists at gmail.com  Thu Jan  5 13:26:06 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu Jan  5 13:42:41 2006
Subject: [dev-context] Re: fonts on the garden
In-Reply-To: <m2irszyonq.fsf@levana.de>
References: <6faad9f00601031244r15c989b6i5471fb312f7f769e@mail.gmail.com>
	<m2irszyonq.fsf@levana.de>
Message-ID: <6faad9f00601050426q20ce3b76n498d848d2af52dbc@mail.gmail.com>

Patrick Gundlach wrote:
> Hi,
>
> could someone send me testfiles for these fonts:
>
> * the new lm
> * antykwa
> * iwona (?)

(I also heard for Iwona and Kurier for the first time when Hans posted
me some code some time ago.)

> Just some small context input to see if the fonts are working?

For lm at least the examples on
http://wiki.contextgarden.net/Latin_Modern should work:

\definedfont[ec-lmtk10]Demi\crlf
\definedfont[ec-lmtko10]Demi Slanted\crlf
\definedfont[ec-lmtl10]Light\crlf
\definedfont[ec-lmtlo10]Light Slanted\crlf
\definedfont[ec-lmtlc10]Light Condensed\crlf
\definedfont[ec-lmtlco10]Light Condensed Slanted\crlf

(and some more)

For Antykwa:
  \usetypescript [antykwa-torunska] [\defaultencoding]
  \setupbodyfont [antykwa,rm]
altough this may fail due to some name changes.

Kurier:
\definedfont[ec-kurierli]Light Italic\crlf
\definedfont[ec-kurierlcap]Small Caps\crlf
...

Sorry, I should give some better, more ConTeXt-oriented example (I
have my copy-paste code at home), but you can test at least a subset
of fonts this way - if this works, probably everything else will work
as well.

Mojca
From taco at elvenkind.com  Thu Jan  5 13:48:50 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu Jan  5 13:48:59 2006
Subject: [dev-context] ConTeXt Revisions project
In-Reply-To: <m2fyom1q77.fsf@levana.de>
References: <43A19331.5090200@elvenkind.com>
	<43A6D2B7.1000608@elvenkind.com>	<43A7DFDA.5030209@elvenkind.com>
	<43A7ED43.40000@elvenkind.com>	<43A7F42F.1050305@wxs.nl>
	<43A80975.6000907@elvenkind.com>	<43A94B2B.9020509@elvenkind.com>
	<m2fyom1q77.fsf@levana.de>
Message-ID: <43BD15B2.5070004@elvenkind.com>

Hi All,

I wrote a few weeks ago, about making old context releases
available to everybody:

>>I'll start adding stuff next week. The first ones
>>will be hard, [..] 

122 massive commits later, I am finished putting all
cont-tmf.zip files in the subversion repository:

    https://foundry.supelec.fr/projects/contextrev/

The svn comment is always the release date.

There are less than 122 releases in the SVN, more like 110,
because  sometimes I messed up the commit, and had to add a
few files afterwards. Usually, that happened when new directories
were added to the zip (it is surprisingly hard to get that
right in one iteration).

Everything from March 2003 onwards is complete and reliable,
there can be tiny errors in the older commits (it took me
that long to iron out all of the bugs in the zip compare
script).

I've lowercased the MS-DOS filenames in the oldest zips, and put
them in tex/context/base (these antiquary zips did not have an
embedded directory tree).

I will create file releases for every zip archive also, but there
are problems with the uploads for that, so it'll have to wait
until Fabrice has time to debug the site configuration. If you
want to  make sure you download a 100% accurate version of one
of the old releases, it is better to wait for those releases to
appear.

Happy TeXing!

Taco
From pragma at wxs.nl  Thu Jan  5 14:25:24 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Jan  5 14:25:48 2006
Subject: [dev-context] ConTeXt Revisions project
In-Reply-To: <43BD15B2.5070004@elvenkind.com>
References: <43A19331.5090200@elvenkind.com> <43A6D2B7.1000608@elvenkind.com>
	<43A7DFDA.5030209@elvenkind.com> <43A7ED43.40000@elvenkind.com>
	<43A7F42F.1050305@wxs.nl> <43A80975.6000907@elvenkind.com>
	<43A94B2B.9020509@elvenkind.com> <m2fyom1q77.fsf@levana.de>
	<43BD15B2.5070004@elvenkind.com>
Message-ID: <43BD1E44.3060008@wxs.nl>

Taco Hoekwater wrote:

> Hi All,
>
> I wrote a few weeks ago, about making old context releases
> available to everybody:
>
>>> I'll start adding stuff next week. The first ones
>>> will be hard, [..] 
>>
>
> 122 massive commits later, I am finished putting all
> cont-tmf.zip files in the subversion repository:
>
>    https://foundry.supelec.fr/projects/contextrev/
>
> The svn comment is always the release date.

whow! looks great

we need to make sure that this is backed up

Hans
From patrick at gundla.ch  Thu Jan  5 15:01:26 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu Jan  5 15:02:00 2006
Subject: [dev-context] Re: cont-en.xml
In-Reply-To: <m2oe3aup5g.fsf@levana.de> (Patrick Gundlach's message of "Wed,
	21 Dec 2005 22:16:27 +0100")
References: <m2oe3aup5g.fsf@levana.de>
Message-ID: <m2bqyqyds9.fsf@levana.de>


sorry to bother you with all those questions.


<cd:command name="gotobox" file="core-ref.tex">
  <cd:sequence>
    <cd:string value="gotobox"/>
  </cd:sequence>
  <cd:arguments>
    <cd:content interactive="exclusive"/>
    <cd:reference list="yes"/>
  </cd:arguments>
</cd:command>


What is this interactive="exclusive"? 

Pat
From pragma at wxs.nl  Thu Jan  5 16:04:53 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Jan  5 16:04:58 2006
Subject: [dev-context] Re: cont-en.xml
In-Reply-To: <m2bqyqyds9.fsf@levana.de>
References: <m2oe3aup5g.fsf@levana.de> <m2bqyqyds9.fsf@levana.de>
Message-ID: <43BD3595.9070004@wxs.nl>

Patrick Gundlach wrote:

>sorry to bother you with all those questions.
>
>
><cd:command name="gotobox" file="core-ref.tex">
>  <cd:sequence>
>    <cd:string value="gotobox"/>
>  </cd:sequence>
>  <cd:arguments>
>    <cd:content interactive="exclusive"/>
>    <cd:reference list="yes"/>
>  </cd:arguments>
></cd:command>
>
>
>What is this interactive="exclusive"? 
>  
>
that it only works in interaction mode ... should become an attribute to 
cd:command, so for the moment ignore it

Hans
From patrick at gundla.ch  Thu Jan  5 16:16:45 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu Jan  5 16:16:56 2006
Subject: [dev-context] Re: cont-en.xml
In-Reply-To: <43BD3595.9070004@wxs.nl> (Hans Hagen's message of "Thu,
	05 Jan 2006 16:04:53 +0100")
References: <m2oe3aup5g.fsf@levana.de> <m2bqyqyds9.fsf@levana.de>
	<43BD3595.9070004@wxs.nl>
Message-ID: <m23bk2yaaq.fsf@levana.de>


[...]

>> What is this interactive="exclusive"?  
>>
> that it only works in interaction mode ... should become an attribute
> to cd:command, so for the moment ignore it

ok, you anticipated my next question... Thanks.

Patrick
From patrick at gundla.ch  Thu Jan  5 17:32:55 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu Jan  5 17:33:14 2006
Subject: [dev-context] Re: cont-en.xml
In-Reply-To: <m2oe3aup5g.fsf@levana.de> (Patrick Gundlach's message of "Wed,
	21 Dec 2005 22:16:27 +0100")
References: <m2oe3aup5g.fsf@levana.de>
Message-ID: <m2y81uws7c.fsf@levana.de>


What is the difference between the arguments of those two (except for
the plurals)?


\underbar {...}* 
* TEXT 
\underbars {.. ... ..}* 
* WORD 


Patrick
-- 
ConTeXt wiki and more: http://contextgarden.net
From pragma at wxs.nl  Thu Jan  5 19:50:21 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Thu Jan  5 19:50:26 2006
Subject: [dev-context] Re: cont-en.xml
In-Reply-To: <m2y81uws7c.fsf@levana.de>
References: <m2oe3aup5g.fsf@levana.de> <m2y81uws7c.fsf@levana.de>
Message-ID: <43BD6A6D.9010102@wxs.nl>

Patrick Gundlach wrote:

>What is the difference between the arguments of those two (except for
>the plurals)?
>
>
>\underbar {...}* 
>* TEXT 
>\underbars {.. ... ..}* 
>* WORD 
>  
>

the second one splits the argument in words whil ethe first one 
underbars the whole thing

Hans
From mojca.miklavec.lists at gmail.com  Sat Jan  7 14:56:46 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sun Jan  8 02:20:06 2006
Subject: [dev-context] texshow (request, what else?) again
Message-ID: <6faad9f00601070556g9355421q400060a9557646b8@mail.gmail.com>

Hello, Patrick,

a small proposal again: there are some commands in ConTeXt such as
\texteuro, \ccaron, \tracewhatever, ... which are not really proper
commands like \setupframed[..].

In case you still have any space for manipulation in that way: have
you considered a possibility for adding such "pseudo-commands" as
well? If you add support for such weird stuff, you can then add flags
to commands (in the sense of Categories on wiki), say "context
command" (those that are currently present in texshow), "symbol"
(texteuro, ccaron, dstroke, ...), "low-level commands" (do not use!),
"metafun macros" (although they currently don't really fit in very
well), "TeX primitive", "plain TeX macro", "commands from a certain
module" (bibliography, lettrine, m-* files, s-* files, ...)

The basic search would then consider only commands from the "same" set
that is currently present, while "full search" or links from wiki
could access the whole set of commands/macros/primitives/...

The stubborn Mojca again
From taco at elvenkind.com  Fri Jan 13 11:17:39 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri Jan 13 11:17:44 2006
Subject: [dev-context] Ann-context@ntg.nl and NTG-context@ntg.nl
In-Reply-To: <43C67857.3010607@elvenkind.com>
References: <43C67857.3010607@elvenkind.com>
Message-ID: <43C77E43.7060407@elvenkind.com>


Hi!

Hans, can you add ntg-context as a subscriber of ann-context?
That way I eon't have to add the normal list manually for
each announcement.

TIA, Taco

From taco at elvenkind.com  Tue Jan 17 16:13:24 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue Jan 17 16:13:30 2006
Subject: [dev-context] SciTE on linux
Message-ID: <43CD0994.6020308@elvenkind.com>

Hi,

I now have a SciTE environment running on linux, but I've had to
tweak some stuff, that perhaps could be backported to the distro.

* Especially, setting up the font was a bit weird. The X font server
(at least the free version) does not understand OpenType fonts, so I
had to convert LMTypewriter10-Regular to truetype using fontforge,
then install the truetype font in X.

The system name became "LMTypewriter10 Regular", and the addition
of " Regular" is crucial. Just "LMTypewriter10" does not work.

Also, I found I needed to add an exclamation mark in from of the
name to get an antialiased font (it looks awful without that).

So I have changed the two lines in context.properties to:

   font.monospace=font:!LMTypewriter10 Regular,size:16.5
   font.errorfont=font:!LMTypewriter10 Regular,size:11.5

Now it works, with the exception that the top of a number of
characters like [ and ] is not displayed in a most font sizes
(that may be a problem caused by the auto-generated TTF font.
does it happen on windows as well?).


* I've changed the 'go' command so that it runs

   $(name.context.acrobat) $(FileName).pdf

system() on unix does not automatically resolve file extensions
like windows does, so the direct "$(FileName).pdf" did not work.


* I also had to create texmfstart: that command does not exist on
texlive (but it is in tetex 3.0).


Cheers, Taco
PS Shouldn't there be a cont-fr-scite.properties as well now?
From taco at elvenkind.com  Tue Jan 17 17:09:29 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue Jan 17 17:09:33 2006
Subject: [dev-context] SciTE on linux
In-Reply-To: <43CD0994.6020308@elvenkind.com>
References: <43CD0994.6020308@elvenkind.com>
Message-ID: <43CD16B9.7030809@elvenkind.com>



Taco Hoekwater wrote:
> Now it works, with the exception that the top of a number of
> characters like [ and ] is not displayed in a most font sizes
> (that may be a problem caused by the auto-generated TTF font.
> does it happen on windows as well?).

A problem with fontforge, it seems (is makes the descender too ). I've 
tried using the pfb font  for a while, and that does not have this
problem. However, it uses oldstyle instead of lining digits, which is
just too weird for any serious editing. I guess have to find some
sort of ttf -> ascii -> ttf program now.

Cheers,
Taco

From taco at elvenkind.com  Tue Jan 17 17:29:30 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue Jan 17 17:29:34 2006
Subject: [dev-context] SciTE on linux
In-Reply-To: <43CD16B9.7030809@elvenkind.com>
References: <43CD0994.6020308@elvenkind.com> <43CD16B9.7030809@elvenkind.com>
Message-ID: <43CD1B6A.9020907@elvenkind.com>



Taco Hoekwater wrote:
> 
> 
> Taco Hoekwater wrote:
> 
>> Now it works, with the exception that the top of a number of
>> characters like [ and ] is not displayed in a most font sizes
>> (that may be a problem caused by the auto-generated TTF font.
>> does it happen on windows as well?).
> 
> 
> A problem with fontforge, it seems (is makes the descender too ). I've 
> tried using the pfb font  for a while, and that does not have this
> problem. However, it uses oldstyle instead of lining digits, which is
> just too weird for any serious editing. I guess have to find some
> sort of ttf -> ascii -> ttf program now.

Fixed, the ttf works fine now.

saved in fontforge as svg font, edited manually, then reopened :-)


Taco
From pragma at wxs.nl  Tue Jan 17 17:30:46 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue Jan 17 17:30:48 2006
Subject: [dev-context] SciTE on linux
In-Reply-To: <43CD0994.6020308@elvenkind.com>
References: <43CD0994.6020308@elvenkind.com>
Message-ID: <43CD1BB6.40305@wxs.nl>

Taco Hoekwater wrote:

> PS Shouldn't there be a cont-fr-scite.properties as well now?


ok, I patched ctxtools (thanks for noticing)

Hans
From pragma at wxs.nl  Tue Jan 17 17:36:54 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue Jan 17 17:36:56 2006
Subject: [dev-context] SciTE on linux
In-Reply-To: <43CD0994.6020308@elvenkind.com>
References: <43CD0994.6020308@elvenkind.com>
Message-ID: <43CD1D26.9060703@wxs.nl>

Taco Hoekwater wrote:

> Hi,
>
> I now have a SciTE environment running on linux, but I've had to
> tweak some stuff, that perhaps could be backported to the distro.
>
> * Especially, setting up the font was a bit weird. The X font server
> (at least the free version) does not understand OpenType fonts, so I
> had to convert LMTypewriter10-Regular to truetype using fontforge,
> then install the truetype font in X.
>
> The system name became "LMTypewriter10 Regular", and the addition
> of " Regular" is crucial. Just "LMTypewriter10" does not work.
>
> Also, I found I needed to add an exclamation mark in from of the
> name to get an antialiased font (it looks awful without that).
>
> So I have changed the two lines in context.properties to:
>
>   font.monospace=font:!LMTypewriter10 Regular,size:16.5
>   font.errorfont=font:!LMTypewriter10 Regular,size:11.5

so we need:

if PLAT_WIN
    font.monospace=font:LMTypewriter10,size:16.5
    font.errorfont=font:LMTypewriter10,size:11.5

if PLAT_GTK
    font.monospace=font:!LMTypewriter10 Regular,size:16.5
    font.errorfont=font:!LMTypewriter10 Regular,size:11.5

> Now it works, with the exception that the top of a number of
> characters like [ and ] is not displayed in a most font sizes
> (that may be a problem caused by the auto-generated TTF font.
> does it happen on windows as well?).
>
>
> * I've changed the 'go' command so that it runs
>
>   $(name.context.acrobat) $(FileName).pdf
>
> system() on unix does not automatically resolve file extensions
> like windows does, so the direct "$(FileName).pdf" did not work.

like this?

if PLAT_WIN
    command.go.$(file.patterns.context)=$(FileName).pdf
    command.go.$(file.patterns.metafun)=$(FileName).pdf
    command.go.$(file.patterns.example)=$(FileName).pdf
    command.go.*.fo=$(FileName).pdf

if PLAT_GTK
    name.context.acrobat=acroread

if PLAT_GTK
    command.go.$(file.patterns.context)=$(name.context.acrobat) 
$(FileName).pdf
    command.go.$(file.patterns.metafun)=$(name.context.acrobat) 
$(FileName).pdf
    command.go.$(file.patterns.example)=$(name.context.acrobat) 
$(FileName).pdf
    command.go.*.fo=$(name.context.acrobat) $(FileName).pdf


>
>
> * I also had to create texmfstart: that command does not exist on
> texlive (but it is in tetex 3.0).

hm, that's bad news

Hans
From pragma at wxs.nl  Tue Jan 17 17:39:28 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue Jan 17 17:39:32 2006
Subject: [dev-context] SciTE on linux
In-Reply-To: <43CD1B6A.9020907@elvenkind.com>
References: <43CD0994.6020308@elvenkind.com> <43CD16B9.7030809@elvenkind.com>
	<43CD1B6A.9020907@elvenkind.com>
Message-ID: <43CD1DC0.2090803@wxs.nl>

Taco Hoekwater wrote:

>
> saved in fontforge as svg font, edited manually, then reopened :-)

only you can figure that out -)

Hans

From taco at elvenkind.com  Tue Jan 17 17:43:00 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue Jan 17 17:43:09 2006
Subject: [dev-context] SciTE on linux
In-Reply-To: <43CD1D26.9060703@wxs.nl>
References: <43CD0994.6020308@elvenkind.com> <43CD1D26.9060703@wxs.nl>
Message-ID: <43CD1E94.7060104@elvenkind.com>



Hans Hagen wrote:
> so we need:
> 
> if PLAT_WIN
>    font.monospace=font:LMTypewriter10,size:16.5
>    font.errorfont=font:LMTypewriter10,size:11.5
> 
> if PLAT_GTK
>    font.monospace=font:!LMTypewriter10 Regular,size:16.5
>    font.errorfont=font:!LMTypewriter10 Regular,size:11.5

Not so sure. Perhaps you should not set the font on linux
at all. I had to do perform quite some magic to get a usable
lmtypewriter on linux, and I doubt many people will want to
go through that (on X11, not setting any font is much better
than attempting to set a non-existant one).

> like this?
> ...
> if PLAT_GTK
>    name.context.acrobat=acroread
> ...

Yes, that looks fine.

Taco
From pragma at wxs.nl  Tue Jan 17 23:24:10 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue Jan 17 23:24:14 2006
Subject: [dev-context] SciTE on linux
In-Reply-To: <43CD1E94.7060104@elvenkind.com>
References: <43CD0994.6020308@elvenkind.com> <43CD1D26.9060703@wxs.nl>
	<43CD1E94.7060104@elvenkind.com>
Message-ID: <43CD6E8A.1010105@wxs.nl>

Taco Hoekwater wrote:

>
>
> Hans Hagen wrote:
>
>> so we need:
>>
>> if PLAT_WIN
>>    font.monospace=font:LMTypewriter10,size:16.5
>>    font.errorfont=font:LMTypewriter10,size:11.5
>>
>> if PLAT_GTK
>>    font.monospace=font:!LMTypewriter10 Regular,size:16.5
>>    font.errorfont=font:!LMTypewriter10 Regular,size:11.5
>
can't we add your variant to the distribution (font part or tex live)?

btw, such things fit into the font cd project

>
> Not so sure. Perhaps you should not set the font on linux
> at all. I had to do perform quite some magic to get a usable
> lmtypewriter on linux, and I doubt many people will want to
> go through that (on X11, not setting any font is much better
> than attempting to set a non-existant one).


scite ignores that, at least on windows, it then uses its fall back font

Hans
From taco at elvenkind.com  Wed Jan 18 08:58:18 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed Jan 18 08:57:13 2006
Subject: [dev-context] SciTE on linux
In-Reply-To: <43CD6E8A.1010105@wxs.nl>
References: <43CD0994.6020308@elvenkind.com> <43CD1D26.9060703@wxs.nl>
	<43CD1E94.7060104@elvenkind.com> <43CD6E8A.1010105@wxs.nl>
Message-ID: <43CDF51A.10209@elvenkind.com>

Hans Hagen wrote:
> Taco Hoekwater wrote:
> 
>>
>> Hans Hagen wrote:
>>
>>> so we need:
>>>
>>> if PLAT_WIN
>>>    font.monospace=font:LMTypewriter10,size:16.5
>>>    font.errorfont=font:LMTypewriter10,size:11.5
>>>
>>> if PLAT_GTK
>>>    font.monospace=font:!LMTypewriter10 Regular,size:16.5
>>>    font.errorfont=font:!LMTypewriter10 Regular,size:11.5
>>
> can't we add your variant to the distribution (font part or tex live)?

No, but I'll see if I can convince Jacko to remove the
oldstyle figures from the monospace PFB default encoding.

It is even possible that the wrong values are wrong in
the OTF font as well, there are duplicate sets of metrics
in the OTF. I'll check.

>> Not so sure. Perhaps you should not set the font on linux
>> at all. I had to do perform quite some magic to get a usable
>> lmtypewriter on linux, and I doubt many people will want to
>> go through that (on X11, not setting any font is much better
>> than attempting to set a non-existant one).
> 
> scite ignores that, at least on windows, it then uses its fall back font

Not on X11. I had SciTE ask for a non-existant one, and what
I got was, in fact, a bold-italic sans-serif font. That's because
X11 never ever returns a "font not found" error, you always get
'something'. It is possible for a program to work around this,
but most programs don't bother.


From taco at elvenkind.com  Fri Jan 20 12:26:47 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri Jan 20 12:26:50 2006
Subject: [dev-context] context release packaging
In-Reply-To: <20060119140105.89CC8280009F@server.aanhet.net>
References: <20060119140105.89CC8280009F@server.aanhet.net>
Message-ID: <43D0C8F7.4000406@elvenkind.com>


Hi Hans (esp.),

Please consider:

   * Cont-pat.zip (Standalone distribution of pattern files)

Is it not sensible to remove this? Most people should have a new
one with patterns included now, and when not, it is wiser to let
them upgrade their base files as well.

   * Cont-msw.zip (Font support files for microsoft verdana and arial)

I suggest merging the windows support files with cont-fnt.zip.

   * Cont-ext.zip (Third party ConTeXt additions)

This is nearly empty. I guess at least nath and amsl should be added,
since they are widely used.
Also, I'ld like to see the bib module moved to this zip. WDYT?

   * Cont-win.zip (texmfstart.exe for windows)

Is this still needed/does it work to have only texmfstart as
executable and the others as .rb? (I just don't know).

   * Cont-lmt.zip (Latin Modern font distribution)

Now that Latin Modern is becoming more stable, perhaps this
is no longer needed?

Cheers, Taco
From pragma at wxs.nl  Fri Jan 20 14:53:07 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Jan 20 14:53:08 2006
Subject: [dev-context] context release packaging
In-Reply-To: <43D0C8F7.4000406@elvenkind.com>
References: <20060119140105.89CC8280009F@server.aanhet.net>
	<43D0C8F7.4000406@elvenkind.com>
Message-ID: <43D0EB43.10209@wxs.nl>

Taco Hoekwater wrote:

> Please consider: 

ok, will think about it this weekend (always takes some file juggling)  

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

From taco at elvenkind.com  Fri Jan 20 15:52:01 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri Jan 20 15:52:05 2006
Subject: [dev-context] using xpdf instead of acrobat
Message-ID: <43D0F911.7040107@elvenkind.com>

Attached is a small patch for texexec (perl version) and
a minimalistic shell script. This allows

   texexec --autopdf --xpdf --pdf test.pdf

It will use xpdf instead of acroread. This removes the need
to press 'R' in xpdf, nothing else. It is mostly useful when
running texexec from an editor

Cheers, Taco
-------------- next part --------------
A non-text attachment was scrubbed...
Name: texexec-xpdf.diff
Type: text/x-patch
Size: 1388 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060120/78f3bc1b/texexec-xpdf.bin
-------------- next part --------------
#!/usr/bin/env sh
screen xpdf -remote TeXExec $* &
From taco at elvenkind.com  Fri Jan 20 16:41:03 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri Jan 20 16:41:07 2006
Subject: [dev-context] SciTE on linux
In-Reply-To: <43CD6E8A.1010105@wxs.nl>
References: <43CD0994.6020308@elvenkind.com> <43CD1D26.9060703@wxs.nl>
	<43CD1E94.7060104@elvenkind.com> <43CD6E8A.1010105@wxs.nl>
Message-ID: <43D1048F.9090801@elvenkind.com>


Hi,

SciTE is slowly growing on me. Hans, can you remove or guard
these lines from context.properties, please?

   # WINDOWS-ONLY!!
   eol.mode=CRLF


Some bits of my user file may be of interest:


   # from tex.properties, accidentally? cleaned by context.properties
   file.patterns.tex=*.tex;*.sty;
   # also from tex.properties, but with 'cls' added
   file.patterns.latex=*.tex;*.sty;*.aux;*.toc;*.idx;*.cls;

   # these were undefined, it seems
   filter.tex=plain TeX|$(file.patterns.tex)|
   filter.latex=LaTeX|$(file.patterns.latex)|

   # invented by me
   file.patterns.texmplog=*.log;*.blg;*.ilg;*.err;*.fls
   filter.log=TeX&MP logs|$(file.patterns.texmplog)|

   open.filter=$(all.files)\ # .......................
   # ...........

   # personal preference: i like tabs
   tabbar.hide.one=0

   # rxvt is a reasonable default on linux
   name.context.console=rxvt
   # but konsole is the kde terminal, and I like that even better
   name.context.console=konsole

   # the shell script to call xpdf in server mode
   name.context.acrobat=xpdfopen

   # patched texexec
   name.context.texexec=texmfstart texexec.pl --xpdf

   # bugfix for Gtk version of SciTE
   command.compile.$(file.patterns.context)= \
           $(name.context.texexec) --pdf $(FileNameExt)
   command.build.$(file.patterns.context)= \
           $(name.context.texexec) --autopdf --pdf $(FileNameExt)


I had to create separate compile and build commands. With SciTE on 
linux, when the pdf browser is started from within texexec, the build
command never exits: the menu remain disabled after the first run,
until such time as you quit the browser manually. It does not matter
whether texmfstart returns to the commandline, Scite waits for all
the (grand)children to exit.

Setting

    command.build.subsystem.$(file.patterns.context)=2

does not help, because then I get nothing in the output window. So
now I do first Ctrl-f7 (compile), then F5 (go), then F7 thereafter.

Not ideal, but I could not come up with a better solution.



Hans Hagen wrote:
> Taco Hoekwater wrote:
> 
>> Hans Hagen wrote:
>>
>>> so we need:
>>>
>>> if PLAT_WIN
>>>    font.monospace=font:LMTypewriter10,size:16.5
>>>    font.errorfont=font:LMTypewriter10,size:11.5
>>>
>>> if PLAT_GTK
>>>    font.monospace=font:!LMTypewriter10 Regular,size:16.5
>>>    font.errorfont=font:!LMTypewriter10 Regular,size:11.5
>>
>>
> can't we add your variant to the distribution (font part or tex live)?
> 
> btw, such things fit into the font cd project
> 
>>
>> Not so sure. Perhaps you should not set the font on linux
>> at all. I had to do perform quite some magic to get a usable
>> lmtypewriter on linux, and I doubt many people will want to
>> go through that (on X11, not setting any font is much better
>> than attempting to set a non-existant one).
> 
> 
> 
> scite ignores that, at least on windows, it then uses its fall back font
> 
> Hans
From pragma at wxs.nl  Fri Jan 20 18:36:40 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Jan 20 18:36:43 2006
Subject: [dev-context] SciTE on linux
In-Reply-To: <43D1048F.9090801@elvenkind.com>
References: <43CD0994.6020308@elvenkind.com> <43CD1D26.9060703@wxs.nl>
	<43CD1E94.7060104@elvenkind.com> <43CD6E8A.1010105@wxs.nl>
	<43D1048F.9090801@elvenkind.com>
Message-ID: <43D11FA8.6040307@wxs.nl>

Taco Hoekwater wrote:

> SciTE is slowly growing on me. Hans, can you remove or guard
> these lines from context.properties, please?
>
>   # WINDOWS-ONLY!!
>   eol.mode=CRLF
>
ok

> Some bits of my user file may be of interest:
>
>   # from tex.properties, accidentally? cleaned by context.properties
>   file.patterns.tex=*.tex;*.sty;

not here

>   # also from tex.properties, but with 'cls' added
>   file.patterns.latex=*.tex;*.sty;*.aux;*.toc;*.idx;*.cls;

ok

>
>   # these were undefined, it seems
>   filter.tex=plain TeX|$(file.patterns.tex)|
>   filter.latex=LaTeX|$(file.patterns.latex)|
>
i hope that does not clash

>   # invented by me
>   file.patterns.texmplog=*.log;*.blg;*.ilg;*.err;*.fls
>   filter.log=TeX&MP logs|$(file.patterns.texmplog)|

isn't that: filter.texmplog

>
>   open.filter=$(all.files)

?

> \ # .......................
>   # ...........
>
>   # personal preference: i like tabs
>   tabbar.hide.one=0

what does this one do?

>
>   # rxvt is a reasonable default on linux
>   name.context.console=rxvt
>   # but konsole is the kde terminal, and I like that even better
>   name.context.console=konsole

ok

>
>   # the shell script to call xpdf in server mode
>   name.context.acrobat=xpdfopen

ok

>
>   # patched texexec
>   name.context.texexec=texmfstart texexec.pl --xpdf

ok, i introduced

name.texexec.flag.pdfopen=--autopdf --xpdf

>
>   # bugfix for Gtk version of SciTE
>   command.compile.$(file.patterns.context)= \
>           $(name.context.texexec) --pdf $(FileNameExt)
>   command.build.$(file.patterns.context)= \
>           $(name.context.texexec) --autopdf --pdf $(FileNameExt)
>
>
> I had to create separate compile and build commands. With SciTE on 
> linux, when the pdf browser is started from within texexec, the build
> command never exits: the menu remain disabled after the first run,
> until such time as you quit the browser manually. It does not matter
> whether texmfstart returns to the commandline, Scite waits for all
> the (grand)children to exit.

so maybe it's better in gtk mode to omit --autopdf ?

>
> Setting
>
>    command.build.subsystem.$(file.patterns.context)=2
>
> does not help, because then I get nothing in the output window. So
> now I do first Ctrl-f7 (compile), then F5 (go), then F7 thereafter.
>
> Not ideal, but I could not come up with a better solution.
>
>
>
> Hans Hagen wrote:
>
>> Taco Hoekwater wrote:
>>
>>> Hans Hagen wrote:
>>>
>>>> so we need:
>>>>
>>>> if PLAT_WIN
>>>>    font.monospace=font:LMTypewriter10,size:16.5
>>>>    font.errorfont=font:LMTypewriter10,size:11.5
>>>>
>>>> if PLAT_GTK
>>>>    font.monospace=font:!LMTypewriter10 Regular,size:16.5
>>>>    font.errorfont=font:!LMTypewriter10 Regular,size:11.5
>>>
>>>
>>>
>> can't we add your variant to the distribution (font part or tex live)?
>>
>> btw, such things fit into the font cd project
>>
>>>
>>> Not so sure. Perhaps you should not set the font on linux
>>> at all. I had to do perform quite some magic to get a usable
>>> lmtypewriter on linux, and I doubt many people will want to
>>> go through that (on X11, not setting any font is much better
>>> than attempting to set a non-existant one).
>>
>>
>>
>>
>> scite ignores that, at least on windows, it then uses its fall back font
>>
>> Hans
>


-- 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

From mojca.miklavec.lists at gmail.com  Fri Jan 20 19:48:58 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri Jan 20 21:30:15 2006
Subject: [dev-context] newpstopdf - only the first page?
Message-ID: <6faad9f00601201048h20a470ebwe26364854e536ed0@mail.gmail.com>

Is newpstopdf (without any arguments) supposed to convert the first
page of ps only?

Mojca
From taco at elvenkind.com  Fri Jan 20 22:40:15 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri Jan 20 22:39:15 2006
Subject: [dev-context] SciTE on linux
In-Reply-To: <43D11FA8.6040307@wxs.nl>
References: <43CD0994.6020308@elvenkind.com> <43CD1D26.9060703@wxs.nl>
	<43CD1E94.7060104@elvenkind.com> <43CD6E8A.1010105@wxs.nl>
	<43D1048F.9090801@elvenkind.com> <43D11FA8.6040307@wxs.nl>
Message-ID: <43D158BF.6030502@elvenkind.com>

Hans Hagen wrote:
>>   # invented by me
>>   file.patterns.texmplog=*.log;*.blg;*.ilg;*.err;*.fls
>>   filter.log=TeX&MP logs|$(file.patterns.texmplog)|
> 
> isn't that: filter.texmplog

I could have named it that.

>>
>>   open.filter=$(all.files)
> 
> ?

The default one starts with $(all.source), and I often
need to see everything, not just 'registered' files.

>>   tabbar.hide.one=0
> 
> what does this one do?

If it is set to 1, there is no tabbar when only one document
is open. But that makes the document jump up and down when
you switch from one to two open documents and back, which
I don't like.

>> I had to create separate compile and build commands. With SciTE on 
>> linux, when the pdf browser is started from within texexec, the build
>> command never exits: the menu remain disabled after the first run,
>> until such time as you quit the browser manually. It does not matter
>> whether texmfstart returns to the commandline, Scite waits for all
>> the (grand)children to exit.
> 
> so maybe it's better in gtk mode to omit --autopdf ?

Maybe so. My setup works for me, but not for the general public,
I guess.

Cheers,
Taco
From pragma at wxs.nl  Fri Jan 20 23:51:04 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri Jan 20 23:51:06 2006
Subject: [dev-context] SciTE on linux
In-Reply-To: <43D158BF.6030502@elvenkind.com>
References: <43CD0994.6020308@elvenkind.com> <43CD1D26.9060703@wxs.nl>
	<43CD1E94.7060104@elvenkind.com> <43CD6E8A.1010105@wxs.nl>
	<43D1048F.9090801@elvenkind.com> <43D11FA8.6040307@wxs.nl>
	<43D158BF.6030502@elvenkind.com>
Message-ID: <43D16958.9050503@wxs.nl>

Taco Hoekwater wrote:

>
> Maybe so. My setup works for me, but not for the general public,
> I guess.

i added most of what you want, the rest can then be configured (overloaded) in the user.properties file; that's the nice things about scite 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

From taco at elvenkind.com  Tue Jan 24 16:44:14 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 24 Jan 2006 16:44:14 +0100
Subject: [dev-context] SciTE on linux
In-Reply-To: <43D16958.9050503@wxs.nl>
References: <43CD0994.6020308@elvenkind.com> <43CD1D26.9060703@wxs.nl>
	<43CD1E94.7060104@elvenkind.com> <43CD6E8A.1010105@wxs.nl>
	<43D1048F.9090801@elvenkind.com> <43D11FA8.6040307@wxs.nl>
	<43D158BF.6030502@elvenkind.com> <43D16958.9050503@wxs.nl>
Message-ID: <43D64B4E.5070307@elvenkind.com>


Hi again,

I've found this little thingy useful:

command.name.26.*=Open Logfile
command.subsystem.26.*=3
command.26.*=open_log
command.save.before.26.*=2
command.groupundo.26.*=yes
command.shortcut.26.*=Ctrl+L

function open_log()
    scite.Open(props['FileName'] .. ".log")
end

Cheers, Taco

Hans Hagen wrote:

> i added most of what you want, the rest can then be configured 
> (overloaded) in the user.properties file; that's the nice things about 
> scite

From pragma at wxs.nl  Tue Jan 24 17:04:35 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 24 Jan 2006 17:04:35 +0100
Subject: [dev-context] SciTE on linux
In-Reply-To: <43D64B4E.5070307@elvenkind.com>
References: <43CD0994.6020308@elvenkind.com> <43CD1D26.9060703@wxs.nl>
	<43CD1E94.7060104@elvenkind.com> <43CD6E8A.1010105@wxs.nl>
	<43D1048F.9090801@elvenkind.com> <43D11FA8.6040307@wxs.nl>
	<43D158BF.6030502@elvenkind.com> <43D16958.9050503@wxs.nl>
	<43D64B4E.5070307@elvenkind.com>
Message-ID: <43D65013.3070302@wxs.nl>

Taco Hoekwater wrote:

>
> Hi again,
>
> I've found this little thingy useful:
>
> command.name.26.*=Open Logfile
> command.subsystem.26.*=3
> command.26.*=open_log
> command.save.before.26.*=2
> command.groupundo.26.*=yes
> command.shortcut.26.*=Ctrl+L
>
> function open_log()
>    scite.Open(props['FileName'] .. ".log")
> end

ok, added; but Ctrl+E instead (ctrl-l is too handy) 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From pragma at wxs.nl  Tue Jan 24 22:53:29 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 24 Jan 2006 22:53:29 +0100
Subject: [dev-context] How to help ConTeXt?
In-Reply-To: <20060124083256.GC29877@zapata.cryptyx.com>
References: <20060124083256.GC29877@zapata.cryptyx.com>
Message-ID: <43D6A1D9.2050106@wxs.nl>

Hi Junod

I forward your mail to the context dev list. The primary sites to get 
context are our website (source code) and the internal svn server 
(manuals). Taco and Patrick are the ones who take care of the wiki, 
mirroring, announcing and such, so they can best tell what help is 
needed as soon as files leave our servers. Thanks for offering.

>Hello Hans, 
>
>I falled in love with ConTeXt and would like to help the project. I'm
>a swiss student in computer science, ie I've no money to donate. But I
>would be really happy to host a mirror or somethig equivalent, if
>needed, on one of my german servers (big machines, fast networks).
>
>Let me know if you're interested!
>
>And thanks for having created ConTeXt!
>  
>
you're welcome

>-Junod Antoine
>  
>
-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From mojca.miklavec.lists at gmail.com  Wed Jan 25 03:22:30 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Tue, 24 Jan 2006 18:22:30 -0800
Subject: [dev-context] little unharmful bug in \showfont & using \iffontchar
	in \definecharacter
Message-ID: <6faad9f00601241822q1acf925n5ef3168ec85720a6@mail.gmail.com>

Hello,

I spotted a somehow strange behaviour in \showfont. It seems to be
language-dependent for some reason. \showfont draws a gray square if
there is no glyph present on some slot, but sometimes the blue numbers
are drawn in that square and sometimes not. See for example the number
14 and 15 (gray square, numbers) in comparison to 16 and seventeen
(gray square, no numbers) in the next example:

\mainlanguage[sl] % try "en" or leave this line out and compare

\starttext
\showfont[ts1-lmr10]
\font\tslmr=ts1-lmr10

% just to test:
\page
\def\test#1{#1: \getglyph{ts1-lmr10}{\char#1}
{\sl\iffontchar\tslmr#1\else (empty)\fi}\par}
\startcolumns[n=5]
\dostepwiserecurse{0}{39}{1}{\test{\recurselevel}}
\stopcolumns
\stoptext


When trying to understand what \showfont does I started wondering if
it would be feasible to do font-depending encoding-depending
definitions of glyphs (\definecharacter). If \iffontchar exists: why
not using it?

It's stupid to tell to ConTeXt that "ijligature" or "ccaron" exists in
the font although the slot is empty, if ConTeXt could figure that out
from the font itself and then use the fallback definition
\buildtextcaron c instead. This would also reduce the need of files
such as "enco-ecm.tex".

I already asked some time ago if it would be possible to use something
like this:
\starttypescript [whatever font]
    \startencoding [ec]
        \definecharacter ijligature {ij}
        % or
        \undefinecharacter ijligature
        % or
        \definecharacter ijligature {\takethefallbackdefinitionofijligature}
    \stopencoding
\stoptypescript

But even if this was implemented, it would require quite some
error-prone manual work. In contrast to that, \iffontchar would offer
a fully automatic alternative and would solve many problems with
third-party fonts (those that don't mind having TeX-specific
characters).

Mojca

From taco at elvenkind.com  Wed Jan 25 09:51:50 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 25 Jan 2006 09:51:50 +0100
Subject: [dev-context] little unharmful bug in \showfont & using
 \iffontchar in \definecharacter
In-Reply-To: <6faad9f00601241822q1acf925n5ef3168ec85720a6@mail.gmail.com>
References: <6faad9f00601241822q1acf925n5ef3168ec85720a6@mail.gmail.com>
Message-ID: <43D73C26.4050005@elvenkind.com>


Hi Mojca,

I bet I can guess what goes wrong:

Mojca Miklavec wrote:
> 
> \mainlanguage[sl] % try "en" or leave this line out and compare

\sl is a language switch now. Those two-letter language switches are
a bit problematic at times.

> When trying to understand what \showfont does I started wondering if
> it would be feasible to do font-depending encoding-depending
> definitions of glyphs (\definecharacter). If \iffontchar exists: why
> not using it?

Sounds like a good idea. Optional perhaps? (because it slows down
font switching quite a bit).

Taco

From taco at elvenkind.com  Wed Jan 25 10:01:52 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 25 Jan 2006 10:01:52 +0100
Subject: [dev-context] How to help ConTeXt?
In-Reply-To: <43D6A1D9.2050106@wxs.nl>
References: <20060124083256.GC29877@zapata.cryptyx.com>
	<43D6A1D9.2050106@wxs.nl>
Message-ID: <43D73E80.2090107@elvenkind.com>


Hi Junod,

This is more for Patrick, I think. A backup/mirror of the
contextgarden stuff may be a good idea

My server (http://context.aanhet.net, holland) hosts a mirror of
the pragma-ade site and the subversion manual repository, and I
do not see a lot of traffic from that (less than 1GB / month).
There is also Patrick's mirror at http://mirror.contextgarden.net
(germany), so my guess is that the pragma site is nicely covered
(within west-europe, at least).

Cheers, taco

Hans Hagen wrote:
> Hi Junod
> 
> I forward your mail to the context dev list. The primary sites to get 
> context are our website (source code) and the internal svn server 
> (manuals). Taco and Patrick are the ones who take care of the wiki, 
> mirroring, announcing and such, so they can best tell what help is 
> needed as soon as files leave our servers. Thanks for offering.
> 
> 
>>Hello Hans, 
>>
>>I falled in love with ConTeXt and would like to help the project. I'm
>>a swiss student in computer science, ie I've no money to donate. But I
>>would be really happy to host a mirror or somethig equivalent, if
>>needed, on one of my german servers (big machines, fast networks).
>>
>>Let me know if you're interested!
>>
>>And thanks for having created ConTeXt!
>> 
>>
> 
> you're welcome
> 
> 
>>-Junod Antoine
>> 
>>
> 
> -----------------------------------------------------------------
>                                           Hans Hagen | PRAGMA ADE
>               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
>      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
>                                              | www.pragma-pod.nl
> -----------------------------------------------------------------
> 
> _______________________________________________
> dev-context mailing list
> dev-context at ntg.nl
> http://www.ntg.nl/mailman/listinfo/dev-context

From pragma at wxs.nl  Wed Jan 25 12:20:34 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 25 Jan 2006 12:20:34 +0100
Subject: [dev-context] [Fwd: Re: little unharmful bug in \showfont & using
 \iffontchar in \definecharacter]
Message-ID: <43D75F02.1000007@wxs.nl>


-- 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

-------------- next part --------------
An embedded message was scrubbed...
From: Hans Hagen <pragma at wxs.nl>
Subject: Re: [dev-context] little unharmful bug in \showfont & using
	\iffontchar in \definecharacter
Date: Wed, 25 Jan 2006 12:20:14 +0100
Size: 2640
Url: http://www.ntg.nl/mailman/private/dev-context/attachments/20060125/ff4da806/attachment.mht 

From mojca.miklavec.lists at gmail.com  Wed Jan 25 12:37:51 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 25 Jan 2006 12:37:51 +0100
Subject: [dev-context] How to help ConTeXt?
In-Reply-To: <43D73E80.2090107@elvenkind.com>
References: <20060124083256.GC29877@zapata.cryptyx.com>
	<43D6A1D9.2050106@wxs.nl> <43D73E80.2090107@elvenkind.com>
Message-ID: <6faad9f00601250337q66010dc7t6098f053a251aba0@mail.gmail.com>

> Hi Junod,
>
> This is more for Patrick, I think. A backup/mirror of the
> contextgarden stuff may be a good idea
>
> My server (http://context.aanhet.net, holland) hosts a mirror of
> the pragma-ade site and the subversion manual repository, and I
> do not see a lot of traffic from that (less than 1GB / month).
> There is also Patrick's mirror at http://mirror.contextgarden.net
> (germany), so my guess is that the pragma site is nicely covered
> (within west-europe, at least).
>
> Cheers, taco

Perhaps a CPU/bandwidth donation could be used to combine the newly
prepared archive of old ConTeXt files with "ConTeXt live" to get the
benchmark working (repository with test files to be compiled with
different ConTeXt versions), but this would need some man-week(s)
first, not only CPU.

Mojca

From mojca.miklavec.lists at gmail.com  Wed Jan 25 12:59:22 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 25 Jan 2006 12:59:22 +0100
Subject: [dev-context] little unharmful bug in \showfont & using
	\iffontchar in \definecharacter
In-Reply-To: <43D73C26.4050005@elvenkind.com>
References: <6faad9f00601241822q1acf925n5ef3168ec85720a6@mail.gmail.com>
	<43D73C26.4050005@elvenkind.com>
Message-ID: <6faad9f00601250359w6183bd65iac60ebad6baee126@mail.gmail.com>

> Hi Mojca,
>
> I bet I can guess what goes wrong:
>
> Mojca Miklavec wrote:
> >
> > \mainlanguage[sl] % try "en" or leave this line out and compare
>
> \sl is a language switch now. Those two-letter language switches are
> a bit problematic at times.

Interesting observation. Since I know that \sl stands for something
else, I never bothered about using \sl instead of \language[sl] for
switching the language (except for trying it and figuring out that it
actually didn't work - as expected).

> Sounds like a good idea. Optional perhaps? (because it slows down
> font switching quite a bit).

I didn't know that it would slow down the process that much, but I
could imagine that people who want to use "empty" fonts would
sacrifice those couple of optional seconds to get better results (an
additional \ifuserwanttodothatelse would probably slow down the
process as well :). However, I don't know how to do that anyway, so I
would redefine those commands manually in that case (already happened
a couple of times, although at first I had no idea what to do).

Mojca

From pragma at wxs.nl  Wed Jan 25 13:19:40 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 25 Jan 2006 13:19:40 +0100
Subject: [dev-context] little unharmful bug in \showfont &
 using	\iffontchar in \definecharacter
In-Reply-To: <6faad9f00601250359w6183bd65iac60ebad6baee126@mail.gmail.com>
References: <6faad9f00601241822q1acf925n5ef3168ec85720a6@mail.gmail.com>
	<43D73C26.4050005@elvenkind.com>
	<6faad9f00601250359w6183bd65iac60ebad6baee126@mail.gmail.com>
Message-ID: <43D76CDC.1070005@wxs.nl>

Mojca Miklavec wrote:

>I didn't know that it would slow down the process that much, but I
>could imagine that people who want to use "empty" fonts would
>sacrifice those couple of optional seconds to get better results (an
>additional \ifuserwanttodothatelse would probably slow down the
>process as well :). However, I don't know how to do that anyway, so I
>would redefine those commands manually in that case (already happened
>a couple of times, although at first I had no idea what to do).
>  
>
tests can be made fast (enough) but we need to keep in mind that definitions of characters have to (fully) expand differently depending on the circumstances

so testing a combination of 

{language,none}{font,none}{encoding,default}

is doable but needs some thinking 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Wed Jan 25 13:49:57 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 25 Jan 2006 13:49:57 +0100
Subject: [dev-context] little unharmful bug in \showfont & using
 \iffontchar in \definecharacter
In-Reply-To: <43D75EEE.7000201@wxs.nl>
References: <6faad9f00601241822q1acf925n5ef3168ec85720a6@mail.gmail.com>
	<43D73C26.4050005@elvenkind.com> <43D75EEE.7000201@wxs.nl>
Message-ID: <43D773F5.9090409@elvenkind.com>



Hans Hagen wrote:
> Taco Hoekwater wrote:
>> \sl is a language switch now. Those two-letter language switches are
>> a bit problematic at times.
>>  
> no, sl is still slanted, language switches are not defined when there is 
> an existing command and the font mechanism will redefine it anyway; 
> \mainlanguage[slovenian] should work as well;

I guessed wrong, so I owe you something now. Beer at BachoTeX?

Taco

From pragma at wxs.nl  Wed Jan 25 16:14:46 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 25 Jan 2006 16:14:46 +0100
Subject: [dev-context] little unharmful bug in \showfont & using
 \iffontchar in \definecharacter
In-Reply-To: <43D773F5.9090409@elvenkind.com>
References: <6faad9f00601241822q1acf925n5ef3168ec85720a6@mail.gmail.com>
	<43D73C26.4050005@elvenkind.com> <43D75EEE.7000201@wxs.nl>
	<43D773F5.9090409@elvenkind.com>
Message-ID: <43D795E6.1010601@wxs.nl>

Taco Hoekwater wrote:

>Hans Hagen wrote:
>  
>
>>Taco Hoekwater wrote:
>>    
>>
>>>\sl is a language switch now. Those two-letter language switches are
>>>a bit problematic at times.
>>> 
>>>      
>>>
>>no, sl is still slanted, language switches are not defined when there is 
>>an existing command and the font mechanism will redefine it anyway; 
>>\mainlanguage[slovenian] should work as well;
>>    
>>
>
>I guessed wrong, so I owe you something now. Beer at BachoTeX?
>  
>
ok, that will compensate it -) 

Hans 


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From patrick at gundla.ch  Wed Jan 25 16:33:37 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Wed, 25 Jan 2006 16:33:37 +0100
Subject: [dev-context] cont-en.xml: duplicate entries
Message-ID: <m2fyncnwz2.fsf@levana.de>

Hi,

in cont-en.xml (and probably the others, too), the following entries
have duplicates:

placecombinedlist
placeregister
defineinteractionmenu
setupstrut


Patrick

From pragma at wxs.nl  Wed Jan 25 23:35:53 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 25 Jan 2006 23:35:53 +0100
Subject: [dev-context] cont-en.xml: duplicate entries
In-Reply-To: <m2fyncnwz2.fsf@levana.de>
References: <m2fyncnwz2.fsf@levana.de>
Message-ID: <43D7FD49.6000703@wxs.nl>

Patrick Gundlach wrote:

>Hi,
>
>in cont-en.xml (and probably the others, too), the following entries
>have duplicates:
>
>placecombinedlist
>  
>
two instances, watch the generated='yes'

added:

    variant='1'
    variant='2'

>placeregister
>  
>
two instances, watch the generated='yes'

added:

    variant='1'
    variant='2'

>defineinteractionmenu
>  
>
two variants, we need to find a way to distinguish them, maybe just

added:

    variant='1'
    variant='2'

>setupstrut
>  
>
removed

Hans

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From patrick at gundla.ch  Thu Jan 26 14:21:50 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu, 26 Jan 2006 14:21:50 +0100
Subject: [dev-context] cont-en.xml: duplicate entries
In-Reply-To: <43D7FD49.6000703@wxs.nl> (Hans Hagen's message of "Wed,
	25 Jan 2006 23:35:53 +0100")
References: <m2fyncnwz2.fsf@levana.de> <43D7FD49.6000703@wxs.nl>
Message-ID: <m24q3rnmz5.fsf@levana.de>


>>in cont-en.xml (and probably the others, too), the following entries
>>have duplicates:
>>
>>placecombinedlist
>>  
>>
> two instances, watch the generated='yes'

I see, I obviously didn't compare those instances. Could you send me a
current one off list?

Patrick

-- 
ConTeXt wiki and more: http://contextgarden.net

From patrick at gundla.ch  Thu Jan 26 14:35:41 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu, 26 Jan 2006 14:35:41 +0100
Subject: [dev-context] How to help ConTeXt?
In-Reply-To: <43D73E80.2090107@elvenkind.com> (Taco Hoekwater's message of
	"Wed, 25 Jan 2006 10:01:52 +0100")
References: <20060124083256.GC29877@zapata.cryptyx.com>
	<43D6A1D9.2050106@wxs.nl> <43D73E80.2090107@elvenkind.com>
Message-ID: <m2zmljm7rm.fsf@levana.de>

Hi Junod (I see, you are on the list) and others,

> This is more for Patrick, I think. A backup/mirror of the
> contextgarden stuff may be a good idea

So I have to make a plan how to do that. Perhaps I should store all
files/database dumps so that they are available at some place so that
they can be mirrored as well as making the apps available.

But more than mirroring I need ruby/ruby on rails developers. 


Patrick
-- 
ConTeXt wiki and more: http://contextgarden.net

From patrick at gundla.ch  Thu Jan 26 16:38:36 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu, 26 Jan 2006 16:38:36 +0100
Subject: [dev-context] cont-en.xml: duplicate entries
In-Reply-To: <43D7FD49.6000703@wxs.nl> (Hans Hagen's message of "Wed,
	25 Jan 2006 23:35:53 +0100")
References: <m2fyncnwz2.fsf@levana.de> <43D7FD49.6000703@wxs.nl>
Message-ID: <m2irs7m22r.fsf@levana.de>

Hi,

>>defineinteractionmenu
>>  
>>
> two variants, we need to find a way to distinguish them, maybe just
>
> added:
>
>     variant='1'
>     variant='2'

These (defineinteractionmenu) are currently (the file you sent me)
both variant="1".

Perhaps we can then remove the cd:choice in setupinterlinespace by
making one

<cd:command name="setupinterlinespace" variant="1">
  <cd:sequence>
    <cd:string value="setupinterlinespace"/>
  </cd:sequence>
  <cd:arguments>
    <cd:keywords optional="yes">
      <cd:constant type="reset"/>
      <cd:constant type="small" default="yes"/>
      <cd:constant type="medium"/>
      <cd:constant type="auto"/>
      <cd:constant type="big"/>
      <cd:constant type="on"/>
      <cd:constant type="off"/>
    </cd:keywords>
  </cd:arguments>
</cd:command>

and the other one:

<cd:command name="setupinterlinespace" variant="2">
  <cd:sequence>
    <cd:string value="setupinterlinespace"/>
  </cd:sequence>
  <cd:arguments>
    <cd:assignments list="yes">
      <cd:parameter name="height">
        <cd:constant type="cd:number"/>
      </cd:parameter>
      <cd:parameter name="depth">
        <cd:constant type="cd:number"/>
      </cd:parameter>
      <cd:parameter name="line">
        <cd:constant type="cd:dimension"/>
      </cd:parameter>
      <cd:parameter name="top">
        <cd:constant type="cd:number"/>
      </cd:parameter>
      <cd:parameter name="bottom">
        <cd:constant type="cd:number"/>
      </cd:parameter>
    </cd:assignments>
  </cd:arguments>
</cd:command>

?

From taco at elvenkind.com  Fri Jan 27 17:47:39 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 27 Jan 2006 17:47:39 +0100
Subject: [dev-context] new release
Message-ID: <43DA4EAB.6010500@elvenkind.com>

The latest and (hopefully) greatest:

    http://wiki.contextgarden.net/Context_2006.01.27

I won't do an official announce yet, I sort of expect another
release in the not-so-distant future :-)

Taco


From pragma at wxs.nl  Fri Jan 27 18:07:17 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 27 Jan 2006 18:07:17 +0100
Subject: [dev-context] new release
In-Reply-To: <43DA4EAB.6010500@elvenkind.com>
References: <43DA4EAB.6010500@elvenkind.com>
Message-ID: <43DA5345.1090707@wxs.nl>

Taco Hoekwater wrote:
> The latest and (hopefully) greatest:
>
>     http://wiki.contextgarden.net/Context_2006.01.27
>
> I won't do an official announce yet, I sort of expect another
> release in the not-so-distant future :-)
>   
indeed

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Mon Jan 30 14:21:10 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 30 Jan 2006 14:21:10 +0100
Subject: [dev-context] collector item #20 (ignored dx/dy in label arranging)
Message-ID: <43DE12C6.6050207@elvenkind.com>


Hi Hans,

This patch should do it:


\def\pusharrangedpageXY#1%
   {\doglobal\increment\arrangedpageN
    \reportarrangedpage\arrangedpageN
    \doglobal\increment\arrangedpageM
    \global\setbox\arrangedpageB\hbox
      \ifdim\@@ppwidth>\zeropoint to \@@ppwidth \fi
      {\ifvoid\arrangedpageB\else
         \unhbox\arrangedpageB
         %TH three changed lines follow
         \ifdim\@@ppdx>\zeropoint \else \hss\fi
         \hskip\@@ppdx
         \ifdim\@@ppdx>\zeropoint \else \hss\fi
       \fi
       \box#1}%
    \ifnum\arrangedpageM<\arrangedpageX\else
      \global\setbox\arrangedpageA\vbox
        \ifdim\@@ppheight>\zeropoint to \@@ppheight \fi
        {\offinterlineskip
         \ifvoid\arrangedpageA\else
           \unvbox\arrangedpageA
           %TH three changed lines follow
           \ifdim\@@ppdy>\zeropoint \else \vss\fi
           \vskip\@@ppdy
           \ifdim\@@ppdy>\zeropoint \else \vss\fi
         \fi
         \box\arrangedpageB}%
      \doglobal\newcounter\arrangedpageM
    \fi
    \ifnum\arrangedpageN<\arrangedpageT\else
      \poparrangedpages
    \fi}

Cheers, taco

From pragma at wxs.nl  Mon Jan 30 15:58:51 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 30 Jan 2006 15:58:51 +0100
Subject: [dev-context] collector item #20 (ignored dx/dy in label
	arranging)
In-Reply-To: <43DE12C6.6050207@elvenkind.com>
References: <43DE12C6.6050207@elvenkind.com>
Message-ID: <43DE29AB.80304@wxs.nl>

Taco Hoekwater wrote:
> Hi Hans,
>
> This patch should do it:
>
>   
ok

Hans

From taco at elvenkind.com  Wed Feb  1 13:54:45 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 01 Feb 2006 13:54:45 +0100
Subject: [dev-context] [Fwd: Re: [NTG-context] setupframedtexts]
Message-ID: <43E0AF95.20504@elvenkind.com>



AFAICS, margin is indeed ignored, but it is documented in the xml
files. Looks like a leftover from the dutch days.

Taco

Hans van der Meer wrote:
> The manual gives as settable parameter "margin = standard,yes,no.
> However there is no visible effect when using "margin=no" in the setup.
> Inspecting the code for setupframedtexts I could not foun something  
> like \c!margin.
>
> Is this an obsolete parameter? Or will it be implemented.
>   
does setting "leftoffset=0pt" work?

-- 

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

_______________________________________________
ntg-context mailing list
ntg-context at ntg.nl
http://www.ntg.nl/mailman/listinfo/ntg-context

From taco at elvenkind.com  Thu Feb  2 13:23:50 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 02 Feb 2006 13:23:50 +0100
Subject: [dev-context] context release packaging
In-Reply-To: <43D0EB43.10209@wxs.nl>
References: <20060119140105.89CC8280009F@server.aanhet.net>
	<43D0C8F7.4000406@elvenkind.com> <43D0EB43.10209@wxs.nl>
Message-ID: <43E1F9D6.1080907@elvenkind.com>

Hans Hagen wrote:
> Taco Hoekwater wrote:
> 
>> Please consider: 
> ok, will think about it this weekend (always takes some file juggling) 

Ok, so:

Hans has trashed cont-pat.zip and cont-lmt.zip and merged the
windows font zip with cont-fnt, so we now have only eight zip
files.

What is still missing is a way for Hans to fill/update cont-ext.zip
(at least semi-)automatically. I wonder: would it be doable for Hans
to simply fetch the stuff back from CTAN that Patrick uploads to
there? Or perhaps even better: could there be a pre-packaged
cont-ext.zip on contextgarden than only needs mirroring to
pragma?

Taco

From taco at elvenkind.com  Fri Feb  3 14:38:50 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 03 Feb 2006 14:38:50 +0100
Subject: [dev-context] [NTG-context] Paragraph itemization
In-Reply-To: <43E350E3.8030504@wxs.nl>
References: <Pine.WNT.4.63.0602022056150.3516@nqvgln>	<43E33B98.3080404@elvenkind.com>
	<43E350E3.8030504@wxs.nl>
Message-ID: <43E35CEA.3070108@elvenkind.com>



Hans Hagen wrote:
> \startitemize[r,text]
>   \item The first thing,
>   \item the second thing, and
>   \item finally, the last thing.
> \stopitemize

Added to the wiki. Cont-XX.xml should be updated as well, of course.

Cheers,
Taco

From pragma at wxs.nl  Fri Feb  3 21:50:27 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 03 Feb 2006 21:50:27 +0100
Subject: [dev-context] context release packaging
In-Reply-To: <43E1F9D6.1080907@elvenkind.com>
References: <20060119140105.89CC8280009F@server.aanhet.net>
	<43D0C8F7.4000406@elvenkind.com> <43D0EB43.10209@wxs.nl>
	<43E1F9D6.1080907@elvenkind.com>
Message-ID: <43E3C213.6040805@wxs.nl>

Taco Hoekwater wrote:
> What is still missing is a way for Hans to fill/update cont-ext.zip
> (at least semi-)automatically. I wonder: would it be doable for Hans
> to simply fetch the stuff back from CTAN that Patrick uploads to
> there? Or perhaps even better: could there be a pre-packaged
> cont-ext.zip on contextgarden than only needs mirroring to
> pragma?
>   
easiest is if i can just wget the stuff from well defined places at the wiki 

Hans 


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Sat Feb  4 16:33:51 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 04 Feb 2006 16:33:51 +0100
Subject: [dev-context] [Fwd: new fonts from SIL]
Message-ID: <43E4C95F.5040409@elvenkind.com>

Hi,

Nelson Beebe forwarded this to tex-live, but tex-live 2006 is still
very, very far away. Is anybody interested in making a context
module/typescript for this font, perhaps? :)

Taco

-------- Original Message --------
Subject: [tex-live] new fonts from SIL
Date: Sat, 4 Feb 2006 08:04:51 -0700 (MST)
From: Nelson H. F. Beebe <beebe at math.utah.edu>
To: tex-live at tug.org
CC: beebe at math.utah.edu

The Unicode list this morning carried this announcement, and I think
that we should examine the license to see whether it could be included
in future TeX Live distributions (also, list readers who are Debian
folks, with their different views of licensing, may wish to do the
same):

>> ...
>> SIL International is pleased to announce the official release of the 
>> Charis SIL Unicode fonts (http://scripts.sil.org/CharisSILfont). Charis 
>> SIL provides a single Unicode-based font family that contains 
>> near-complete coverage of all the characters defined in Unicode 4.1 for 
>> Latin and Cyrillic-based writing systems, whether used for phonetic or 
>> orthographic needs. In addition, there is provision for other characters 
>> and symbols useful to linguists. These fonts make use of state-of-the-art 
>> font technologies to support complex typographic issues, such as the need 
>> to position arbitrary combinations of base glyphs and diacritics 
>> optimally.
>> 
>> Charis SIL is a serif, proportionally-spaced font optimized for 
>> readability in long printed documents, and is similar in design to 
>> Bitstream Charter, one of the first fonts designed specifically for laser 
>> printers. It is highly readable and holds up well in less-than-ideal 
>> reproduction environments. It also has a full set of styles - regular, 
>> italic, bold, and bold italic. It has been released under SIL's Open Font 
>> License (http://scripts.sil.org/OFL): 
>> 
>> The goals of the Open Font License (OFL) are to stimulate worldwide 
>> development of cooperative font projects, to support the font creation 
>> efforts of academic and linguistic communities, and to provide an open 
>> framework in which fonts may be shared and improved in partnership with 
>> others.
>> 
>> The OFL allows the licensed fonts to be used, studied, modified and 
>> redistributed freely as long as they are not sold by themselves. The 
>> fonts, including any derivative works, can be bundled, embedded, 
>> redistributed and sold with any software provided that the font names of 
>> derivative works are changed. The fonts and derivatives, however, cannot 
>> be released under any other type of license.
>> 
>> At the same time, SIL has also released an update of the Doulos SIL font 
>> (See http://scripts.sil.org/DoulosSILfont) to match the character set 
>> represented in Charis SIL.
>> ...

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254 
       -
- University of Utah                    FAX: +1 801 581 4148 
       -
- Department of Mathematics, 110 LCB    Internet e-mail: 
beebe at math.utah.edu  -
- 155 S 1400 E RM 233                       beebe at acm.org 
beebe at computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: 
http://www.math.utah.edu/~beebe/ -
-------------------------------------------------------------------------------

_______________________________________________
TeX Live mailing list
http://tug.org/mailman/listinfo/tex-live

From atl at comp.lancs.ac.uk  Sun Feb  5 19:15:19 2006
From: atl at comp.lancs.ac.uk (Adam Lindsay)
Date: Sun, 05 Feb 2006 18:15:19 +0000
Subject: [dev-context] [NTG-context] Dense encoding, part II
In-Reply-To: <43D4FC81.4030106@wxs.nl>
References: <6faad9f00601230737q5a3a248ala84953f04bbdede1@mail.gmail.com>
	<43D4FC81.4030106@wxs.nl>
Message-ID: <43E640B7.7060007@comp.lancs.ac.uk>

Hans Hagen wrote:
> Mojca Miklavec wrote:
> 
>> Hello,
>>
>> The fact that all Polish fonts (lm, iwona, kurier, antt) now ship with
>> el-* files makes me wonder: is there time to do the next step and
>> finish the second encoding with symbols?
>>  
>>
> indeed

Oop. Sorry, I hadn't been watching that.
I've suggested texnansi as a starting point, at least within ConTeXt. 
What symbols do people want that *aren't* within texnansi?

(Hint:
  Here are some symbols present in some Unicode-y fonts, but there's 
really little pattern to the coverage within "typical" professional fonts:
  http://homepage.mac.com/atl/tex/UnicodeSymbolDemo.pdf )
-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
  Adam T. Lindsay, Computing Dept.     atl at comp.lancs.ac.uk
  Lancaster University, InfoLab21        +44(0)1524/510.514
  Lancaster, LA1 4WA, UK             Fax:+44(0)1524/510.492
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-


From taco at elvenkind.com  Tue Feb  7 12:01:36 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 07 Feb 2006 12:01:36 +0100
Subject: [dev-context] itemization bug
Message-ID: <43E87E10.1090009@elvenkind.com>


This is supposed to wrok, right? (it did before)

\setupitemize[n]
\starttext
\startitemize[start=2]
\item Test  % I want 2. , not 1.
\stopitemize
\stoptext

Cheers, Taco

From taco at elvenkind.com  Tue Feb  7 13:26:15 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 07 Feb 2006 13:26:15 +0100
Subject: [dev-context] Release testing issues
Message-ID: <43E891E7.4000001@elvenkind.com>

Hi all,


Over the past ten days, there have been 7 new context releases,
of which probably only three would have been necessary if there
would not have been silly bugs embedded in the new code. In fact,
we are still awaiting an eight upload (for that extra space after
\quote and \quotation).

When there is a bug found or a request made on the mailing list,
usually Hans (and sometimes me) will post a bit of code that
*should* remove a  bug or implement a new feature.

We both expect the original requestor to test that bit of code
for side-effects (since we usually do not have enough time to
do thorough testing ourselves). And that's where it goes wrong,
of course. Beginners at ConTeXt are often incapable to test
anything except the immediate intended effect (and not always
even that).

I wanted to bring this up because I hope that some of you can find
a way to help testing those new bits (or find other ideas to solve
the problem without placing too much of a burden on Hans' time).

A possible side-effect could be the organic growth of a set of
regression test files, an idea that has been talked about before.

Greetings, Taco





From taco at elvenkind.com  Wed Feb 15 17:28:50 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 15 Feb 2006 17:28:50 +0100
Subject: [dev-context] Cron <context@server>(new release)
In-Reply-To: <20060215150132.21F952800087@server.aanhet.net>
References: <20060215150132.21F952800087@server.aanhet.net>
Message-ID: <43F356C2.60005@elvenkind.com>

Hi,

I have no time now to document everything in this release,
there are changes all over the place so i will need a bit of time.

Cheers, Taco

Cron Daemon wrote:
> receiving file list ... done
>  context/current/
>  context/current/cont-exa.zip
>  context/current/cont-ext.zip
>  context/current/cont-fnt.zip
>  context/current/cont-img.zip
>  context/current/cont-mpd.zip
>  context/current/cont-ppc.zip
>  context/current/cont-tmf.zip
>  context/current/cont-win.zip

From atl at comp.lancs.ac.uk  Wed Feb 15 20:19:24 2006
From: atl at comp.lancs.ac.uk (Adam Lindsay)
Date: Wed, 15 Feb 2006 19:19:24 +0000
Subject: [dev-context] new upload
Message-ID: <43F37EBC.6090906@comp.lancs.ac.uk>

I'm trying out a new way running the minimal trees, and just updated to 
today's 17:41 version...

(/Users/Shared/mintex/texmf-local/tex/context/patterns/lang-de.pat
! Bad \patterns.
\dobuildtextaccent #1#2->{
                           \let \char \normalaccent #1\let \char 
\normalchar #2}
l.113 .ge5r[odiaeresis]

Does anyone else get this, or did I screw something up along the way?

adam
-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
  Adam T. Lindsay, Computing Dept.     atl at comp.lancs.ac.uk
  Lancaster University, InfoLab21        +44(0)1524/510.514
  Lancaster, LA1 4WA, UK             Fax:+44(0)1524/510.492
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-


From atl at comp.lancs.ac.uk  Wed Feb 15 20:23:58 2006
From: atl at comp.lancs.ac.uk (Adam Lindsay)
Date: Wed, 15 Feb 2006 19:23:58 +0000
Subject: [dev-context] new upload
In-Reply-To: <43F37EBC.6090906@comp.lancs.ac.uk>
References: <43F37EBC.6090906@comp.lancs.ac.uk>
Message-ID: <43F37FCE.5030003@comp.lancs.ac.uk>

Adam Lindsay wrote:

> Does anyone else get this, or did I screw something up along the way?

Sorry-
fired off an email too quick.
I was *also* experimenting with a pruned TeX format, and although it 
worked with a recent version, I cut out too much for this version. Oeps.

adam
-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
  Adam T. Lindsay, Computing Dept.     atl at comp.lancs.ac.uk
  Lancaster University, InfoLab21        +44(0)1524/510.514
  Lancaster, LA1 4WA, UK             Fax:+44(0)1524/510.492
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-


From pragma at wxs.nl  Wed Feb 15 22:18:53 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 15 Feb 2006 22:18:53 +0100
Subject: [dev-context] dependencies
Message-ID: <43F39ABD.8000106@wxs.nl>

Hi Taco & Patrick,

Attached  is version of ctxtools that provides

ctxtools --dependencies

it takes the context.tex file and analyzes in the order of loading what 
macros are defined

(we can probably throw away the names that match \\.[!?@])

by default i generate an xml file; taco suggested that maybe patrick can 
use this file as a prelude to an api interface (crosslinking sources)

when i have time i will use this analysis to check dependencies in the 
loading order (i'm sure that some forward referencing has crept in, if 
only because of splitting files)

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

-------------- next part --------------
A non-text attachment was scrubbed...
Name: ctxtools.zip
Type: application/zip
Size: 16257 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060215/bbc6701c/attachment-0001.zip 

From taco at elvenkind.com  Thu Feb 16 12:53:30 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 16 Feb 2006 12:53:30 +0100
Subject: [dev-context] [Fwd: Re: [NTG-context] gnuplot mode]
Message-ID: <43F467BA.4020807@elvenkind.com>


Hi Mojca,

Can you tell/send me what I need to get (and where) to compile a
GNUplot from source with your terminal in it (on linux)?

Cheers, taco


-------- Original Message --------
And a final word: I finally installed "something to compile gnuplot
with" yesterday. I have the first pre-alpha ;) "set terminal context"
working and I will need both Hans and Taco's hand as well as
gnuplot/metafun users to help me with
suggestions/requests/brainstorming about how to implement certain
parts, so that the output will remain highly configurable regarding
fonts, colors & styles, but more about that in another mail.


From atl at comp.lancs.ac.uk  Thu Feb 16 13:39:35 2006
From: atl at comp.lancs.ac.uk (Adam Lindsay)
Date: Thu, 16 Feb 2006 12:39:35 +0000
Subject: [dev-context] TUG Lucida
Message-ID: <43F47287.6040309@comp.lancs.ac.uk>

I've finally gotten around to completing the Lucida-TUG typescripts, to 
enable using the TUG-distributed Lucida fonts 1) without renaming the 
files on installation and 2) with the Lucida Basic option.

I've enclosed the TeX files, but you can check out the unremarkable PDFs at:
  http://homepage.mac.com/atl/tex/TUGLucida.zip
  http://homepage.mac.com/atl/tex/TUGLucidaTeXOnly.zip

Comments? Questions? Testers?
-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
  Adam T. Lindsay, Computing Dept.     atl at comp.lancs.ac.uk
  Lancaster University, InfoLab21        +44(0)1524/510.514
  Lancaster, LA1 4WA, UK             Fax:+44(0)1524/510.492
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-

-------------- next part --------------
A non-text attachment was scrubbed...
Name: TUGLucidaTeXOnly.zip
Type: application/zip
Size: 7957 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060216/52b2fc3a/attachment.zip 

From mojca.miklavec.lists at gmail.com  Thu Feb 16 14:27:32 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 16 Feb 2006 14:27:32 +0100
Subject: [dev-context] [Fwd: Re: [NTG-context] gnuplot mode]
In-Reply-To: <43F467BA.4020807@elvenkind.com>
References: <43F467BA.4020807@elvenkind.com>
Message-ID: <6faad9f00602160527y14cdef48g4551fd2390880c37@mail.gmail.com>

On 2/16/06, Taco Hoekwater wrote:
>
> Hi Mojca,
>
> Can you tell/send me what I need to get (and where) to compile a
> GNUplot from source with your terminal in it (on linux)?

You can either get gnuplot source from CVS repository
(http://sourceforge.net/cvs/?group_id=2055) or take one from the
distribution, although it may be that the interface changed since the
version used in sources used in linux distributions (I don't know, I
didn't succeed to compile it yet under linux, although it should be
ten times more simple).

You have to copy the context.trm into term/ folder and add a line
# include "context.trm"
to src/term.h

You need to have pdflib and gd library as well, but I had so many
problems with inclusion of the two that I removed/commented
them/#undef HAVE_PDFLIB_H in config file or something similar (don't
remember exactly). I don't need them for testing context terminal
anyway.

You're warned: the terminal is in very preliminary state and doesn't
do anything else than drawing lines, points (I guess I forgot to
include Hans's code for that in the zip) and text. The rest is more or
less marked as "TODO". It's really simple to edit the source (except
the undocummented part), so if anyone would like to contribute, it's
not a big deal, but the decision has to be made how the things are to
be implemented, so that they will allow as flexible output as possible
(easy configuration of fonts & styles). The only problem with gnuplot
is that it's not that easy to compile it and they might need a bit
long time between releases (last one in April 2004), so if you just
miss one, it may take forever before the next release comes out.

I'll put the files somewhere online (probably together with windows
executable) for testing & collecting proposals, but it's still far
from being ready.

Mojca
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gnuplot-testing.zip
Type: application/zip
Size: 4011 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060216/f76aca03/attachment.zip 

From atl at comp.lancs.ac.uk  Fri Feb 17 01:43:25 2006
From: atl at comp.lancs.ac.uk (Adam Lindsay)
Date: Fri, 17 Feb 2006 00:43:25 +0000
Subject: [dev-context] bfm math bug?
Message-ID: <43F51C2D.50607@comp.lancs.ac.uk>

compare the following formulae with your favourite working bold math 
setup (confirmed with CM, Iwona, Lucida here):

\startformula   % this works
\sin{\frac{{\bfm \pi}}{2}}=\sqrt{\bfm2}
\stopformula
\startformula   % this doesn't
\sin{\frac{{\bfm \pi}}{2}}=\sqrt{2}
\stopformula
% \startformula % this crashes
% \sin{\frac{\bfm \pi}{2}}=\sqrt{2}
% \stopformula

I can't claim to know about all the family magic that goes on behind the 
scenes with bold math, but I'm fairly confident I can configure things 
properly. Smells like a bug.


In other news, these will make bold numbers, if you need them:
\definemathcharacter [48]   [nothing] [mr] ["30]
\definemathcharacter [49]   [nothing] [mr] ["31]
\definemathcharacter [50]   [nothing] [mr] ["32]
\definemathcharacter [51]   [nothing] [mr] ["33]
\definemathcharacter [52]   [nothing] [mr] ["34]
\definemathcharacter [53]   [nothing] [mr] ["35]
\definemathcharacter [54]   [nothing] [mr] ["36]
\definemathcharacter [55]   [nothing] [mr] ["37]
\definemathcharacter [56]   [nothing] [mr] ["38]
\definemathcharacter [57]   [nothing] [mr] ["39]

Again, checked on my limited test cases and knowledge of mathematics. 
I'm sure there will be unanticipated side effects.
-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
  Adam T. Lindsay, Computing Dept.     atl at comp.lancs.ac.uk
  Lancaster University, InfoLab21        +44(0)1524/510.514
  Lancaster, LA1 4WA, UK             Fax:+44(0)1524/510.492
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-


From taco at elvenkind.com  Fri Feb 17 11:52:51 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 17 Feb 2006 11:52:51 +0100
Subject: [dev-context] bfm math bug?
In-Reply-To: <43F51C2D.50607@comp.lancs.ac.uk>
References: <43F51C2D.50607@comp.lancs.ac.uk>
Message-ID: <43F5AB03.7010209@elvenkind.com>

Adam Lindsay wrote:
> compare the following formulae 
> with your favourite working bold math setup 

Count me out. :(

I get "\textfont6 is undefined" on the formula that is
supposed to work, and a nice bold dotlessi (!) on the
one that is not. (the third one has missing braces)

But then, I only added \setupformulas[method=bold] to the
example, nothing else.

This appears to work reasonably well for me:

   \startformula   % this works
   \bfmath \sin{\frac{\pi}{2}}=\sqrt{2}
   \stopformula

Cheers, Taco

From atl at comp.lancs.ac.uk  Fri Feb 17 12:44:27 2006
From: atl at comp.lancs.ac.uk (Adam Lindsay)
Date: Fri, 17 Feb 2006 11:44:27 +0000
Subject: [dev-context] bfm math bug?
In-Reply-To: <43F5AB03.7010209@elvenkind.com>
References: <43F51C2D.50607@comp.lancs.ac.uk> <43F5AB03.7010209@elvenkind.com>
Message-ID: <43F5B71B.8050400@comp.lancs.ac.uk>

Taco Hoekwater wrote:
> Adam Lindsay wrote:
>> compare the following formulae with your favourite working bold math 
>> setup 
> 
> Count me out. :(
> 
> I get "\textfont6 is undefined" on the formula that is
> supposed to work, and a nice bold dotlessi (!) on the
> one that is not. (the third one has missing braces)
> 
> But then, I only added \setupformulas[method=bold] to the
> example, nothing else.

okay, add this line too, which I believe is the only thing you need for 
enabling mixed bfmath in CM:
  \definetypeface [] [mm] [bfmath] [computer-modern] [computer-modern] 
[encoding=default]

> This appears to work reasonably well for me:
> 
>   \startformula   % this works
>   \bfmath \sin{\frac{\pi}{2}}=\sqrt{2}
>   \stopformula

yup, I get it as all bold.
-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
  Adam T. Lindsay, Computing Dept.     atl at comp.lancs.ac.uk
  Lancaster University, InfoLab21        +44(0)1524/510.514
  Lancaster, LA1 4WA, UK             Fax:+44(0)1524/510.492
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-


From taco at elvenkind.com  Fri Feb 17 14:18:48 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 17 Feb 2006 14:18:48 +0100
Subject: [dev-context] bfm math bug?
In-Reply-To: <43F5B71B.8050400@comp.lancs.ac.uk>
References: <43F51C2D.50607@comp.lancs.ac.uk> <43F5AB03.7010209@elvenkind.com>
	<43F5B71B.8050400@comp.lancs.ac.uk>
Message-ID: <43F5CD38.6050909@elvenkind.com>

Adam Lindsay wrote:
> okay, add this line too, which I believe is the only thing you need for 
> enabling mixed bfmath in CM:
>  \definetypeface [] [mm] [bfmath] [computer-modern] [computer-modern] 
> [encoding=default]

That did it, I think. The first example is now ok, i guess, the
second still has a bold dotlessi, and only the third gives an error

Cheers,
Taco

From atl at comp.lancs.ac.uk  Fri Feb 17 16:06:45 2006
From: atl at comp.lancs.ac.uk (Adam Lindsay)
Date: Fri, 17 Feb 2006 15:06:45 +0000
Subject: [dev-context] bfm math bug?
In-Reply-To: <43F5CD38.6050909@elvenkind.com>
References: <43F51C2D.50607@comp.lancs.ac.uk> <43F5AB03.7010209@elvenkind.com>
	<43F5B71B.8050400@comp.lancs.ac.uk>
	<43F5CD38.6050909@elvenkind.com>
Message-ID: <43F5E685.20000@comp.lancs.ac.uk>

Taco Hoekwater wrote:
> Adam Lindsay wrote:
>> okay, add this line too, which I believe is the only thing you need 
>> for enabling mixed bfmath in CM:
>>  \definetypeface [] [mm] [bfmath] [computer-modern] [computer-modern] 
>> [encoding=default]
> 
> That did it, I think. The first example is now ok, i guess, the
> second still has a bold dotlessi, and only the third gives an error

That's what I get, too.
Now:  why? :)
-- 
=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
  Adam T. Lindsay, Computing Dept.     atl at comp.lancs.ac.uk
  Lancaster University, InfoLab21        +44(0)1524/510.514
  Lancaster, LA1 4WA, UK             Fax:+44(0)1524/510.492
-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-


From taco at elvenkind.com  Sat Feb 18 15:35:09 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 18 Feb 2006 15:35:09 +0100
Subject: [dev-context] bfm math bug?
In-Reply-To: <43F5E685.20000@comp.lancs.ac.uk>
References: <43F51C2D.50607@comp.lancs.ac.uk> <43F5AB03.7010209@elvenkind.com>
	<43F5B71B.8050400@comp.lancs.ac.uk>
	<43F5CD38.6050909@elvenkind.com> <43F5E685.20000@comp.lancs.ac.uk>
Message-ID: <43F7309D.5060708@elvenkind.com>

Adam Lindsay wrote:
> Taco Hoekwater wrote:
> 
>> Adam Lindsay wrote:
>>
>>> okay, add this line too, which I believe is the only thing you need 
>>> for enabling mixed bfmath in CM:
>>>  \definetypeface [] [mm] [bfmath] [computer-modern] [computer-modern] 
>>> [encoding=default]
>>
>>
>> That did it, I think. The first example is now ok, i guess, the
>> second still has a bold dotlessi, and only the third gives an error
> 
> 
> That's what I get, too.
> Now:  why? :)

The bold font (ec-lmbx12) is in ec encoding, where "19 equals \dotlessi,
not \pi (that took some searching).  As to why it uses latin modern
instead of cm: I have no idea.

Cheers, Taco

From dh at capdm.com  Wed Feb 22 13:04:02 2006
From: dh at capdm.com (Duncan Hothersall)
Date: Wed, 22 Feb 2006 12:04:02 +0000
Subject: [dev-context] \dodoregister bug
Message-ID: <43FC5332.3050305@capdm.com>

With latest ConTeXt:

--
\starttext
This is a paragraph of text with an index term at the very end of it.
This is a paragraph of text with an index term at the very end of it.
\index{test}

This is another paragraph. This is another paragraph. This is another
paragraph.
\stoptext
--

These two paras run together. If I remove the recent fix (which I
requested - sorry Hans!) to \dodoregister in core-reg:

\def\dodoregister[#1]#2#3%
  {\doprocesspageregister[#1]{#2}{#3}}

% intead of

%% \def\dodoregister[#1]#2#3%
%%  {\doflushatpar{\doprocesspageregister[#1]{#2}{#3}}}

This makes things work correctly again, but of course it also removes
the nice fix which stopped \index calls at the start of paras causing
additional white-space.

I suggest that this is reverted though, because this is probably a more
serious and common problem than the one we were trying to fix.

Duncan

From taco at elvenkind.com  Wed Feb 22 14:22:54 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 22 Feb 2006 14:22:54 +0100
Subject: [dev-context] \dodoregister bug
In-Reply-To: <43FC5332.3050305@capdm.com>
References: <43FC5332.3050305@capdm.com>
Message-ID: <43FC65AE.7030508@elvenkind.com>



Duncan Hothersall wrote:
> With latest ConTeXt:
> 
> --
> \starttext
> This is a paragraph of text with an index term at the very end of it.
> This is a paragraph of text with an index term at the very end of it.
> \index{test}
> 
> This is another paragraph. This is another paragraph. This is another
> paragraph.
> \stoptext
> --
> 
> These two paras run together. If I remove the recent fix (which I
> requested - sorry Hans!) to \dodoregister in core-reg:
> 
> \def\dodoregister[#1]#2#3%
>   {\doprocesspageregister[#1]{#2}{#3}}
> 
> % intead of
> 
> %% \def\dodoregister[#1]#2#3%
> %%  {\doflushatpar{\doprocesspageregister[#1]{#2}{#3}}}

What about:

\def\dodoregister[#1]#2#3%
   {\ifvmode
      \expandafter\doflushatpar
    \else
      \expandafter\firstofoneargument
    \fi
    {\doprocesspageregister[#1]{#2}{#3}}}

Does that behave ok?

Taco

From pragma at wxs.nl  Wed Mar  1 21:06:40 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 01 Mar 2006 21:06:40 +0100
Subject: [dev-context] yarv
Message-ID: <4405FED0.8040908@wxs.nl>

Hi,

Has someone tried this?

http://www.atdot.net/yarv/

Ruby compiling 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From patrick at gundla.ch  Thu Mar  2 13:40:26 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu, 02 Mar 2006 13:40:26 +0100
Subject: [dev-context] yarv
In-Reply-To: <4405FED0.8040908@wxs.nl> (Hans Hagen's message of "Wed,
	01 Mar 2006 21:06:40 +0100")
References: <4405FED0.8040908@wxs.nl>
Message-ID: <m2irqxrpdx.fsf@levana.de>


> Has someone tried this?
>
> http://www.atdot.net/yarv/
>
> Ruby compiling 

No, not yet. Its going to be the vm for ruby 2. Reports on the web say
its somewhat useable but not stable. At least that is what I
understood.


Patrick

From now at bitwi.se  Thu Mar  2 22:19:29 2006
From: now at bitwi.se (Nikolai Weibull)
Date: Thu, 2 Mar 2006 22:19:29 +0100
Subject: [dev-context] yarv
In-Reply-To: <m2irqxrpdx.fsf@levana.de>
References: <4405FED0.8040908@wxs.nl> <m2irqxrpdx.fsf@levana.de>
Message-ID: <dbfc82860603021319s17914d20xa87203732523ee49@mail.gmail.com>

On 3/2/06, Patrick Gundlach <patrick at gundla.ch> wrote:

> > http://www.atdot.net/yarv/48

> No, not yet. Its going to be the vm for ruby 2. Reports on the web say
> its somewhat useable but not stable. At least that is what I
> understood.

Someone actually got Ruby-on-Rails up and running on a 1.9 build
compiled with YARV as the VM.  And, while Ruby-on-Rails isn't the only
thing Ruby, it certainly gives a good indication of how far along
they've come.

From patrick at gundla.ch  Thu Mar  2 22:25:42 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu, 02 Mar 2006 22:25:42 +0100
Subject: [dev-context] yarv
In-Reply-To: <dbfc82860603021319s17914d20xa87203732523ee49@mail.gmail.com>
	(Nikolai Weibull's message of "Thu, 2 Mar 2006 22:19:29 +0100")
References: <4405FED0.8040908@wxs.nl> <m2irqxrpdx.fsf@levana.de>
	<dbfc82860603021319s17914d20xa87203732523ee49@mail.gmail.com>
Message-ID: <m21wxksfmx.fsf@levana.de>

Hello Nikolai,

>> > http://www.atdot.net/yarv/48
>
>> No, not yet. Its going to be the vm for ruby 2. Reports on the web say
>> its somewhat useable but not stable. At least that is what I
>> understood.
>
> Someone actually got Ruby-on-Rails up and running on a 1.9 build
> compiled with YARV as the VM.  And, while Ruby-on-Rails isn't the only
> thing Ruby, it certainly gives a good indication of how far along
> they've come.


Well, it is the opposite from what I've found out. Running rails:
yes, rendering dynamic stuff: no. So this is not really rails... and
not really usable. But I have no experience from myself. I'd love to
see that I am wrong. It might make some of my stuff faster.

http://redhanded.hobix.com/inspect/yarvNoLongerAnAcronymForYouAcknowledgeTheReekOfVapors.html
http://cwilliams.textdriven.com/articles/2006/02/23/yarv-and-rails


Patrick
-- 
ConTeXt wiki and more: http://contextgarden.net

From pragma at wxs.nl  Fri Mar  3 00:05:41 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 03 Mar 2006 00:05:41 +0100
Subject: [dev-context] yarv
In-Reply-To: <m21wxksfmx.fsf@levana.de>
References: <4405FED0.8040908@wxs.nl> <m2irqxrpdx.fsf@levana.de>
	<dbfc82860603021319s17914d20xa87203732523ee49@mail.gmail.com>
	<m21wxksfmx.fsf@levana.de>
Message-ID: <44077A45.8030007@wxs.nl>

Patrick Gundlach wrote:
> Hello Nikolai,
>
>   
>>>> http://www.atdot.net/yarv/48
>>>>         
>>> No, not yet. Its going to be the vm for ruby 2. Reports on the web say
>>> its somewhat useable but not stable. At least that is what I
>>> understood.
>>>       
>> Someone actually got Ruby-on-Rails up and running on a 1.9 build
>> compiled with YARV as the VM.  And, while Ruby-on-Rails isn't the only
>> thing Ruby, it certainly gives a good indication of how far along
>> they've come.
>>     
>
>
> Well, it is the opposite from what I've found out. Running rails:
> yes, rendering dynamic stuff: no. So this is not really rails... and
> not really usable. But I have no experience from myself. I'd love to
> see that I am wrong. It might make some of my stuff faster.
>
> http://redhanded.hobix.com/inspect/yarvNoLongerAnAcronymForYouAcknowledgeTheReekOfVapors.html
> http://cwilliams.textdriven.com/articles/2006/02/23/yarv-and-rails
>   
So how about nitro? 

Anyhow, from the perspective of running tex, those frameworks solve only part of the problem. I'm currently writing some web stuff and as usual the relative long tex runs have some session and caching demands that forces one to write quit esome code. A nasty characteristic of scripting languages is that chdir and env vars are global to the process, so threading multiple sessions using different tex trees and resource paths is possible, but a bit painful. For this I extended texmfstart a bit and  also a kind of texmf configuration system, but i need to document it .. .

Hans 





-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From now at bitwi.se  Fri Mar  3 16:43:30 2006
From: now at bitwi.se (Nikolai Weibull)
Date: Fri, 3 Mar 2006 16:43:30 +0100
Subject: [dev-context] yarv
In-Reply-To: <44077A45.8030007@wxs.nl>
References: <4405FED0.8040908@wxs.nl> <m2irqxrpdx.fsf@levana.de>
	<dbfc82860603021319s17914d20xa87203732523ee49@mail.gmail.com>
	<m21wxksfmx.fsf@levana.de> <44077A45.8030007@wxs.nl>
Message-ID: <dbfc82860603030743k7a0ff22fle89a4b155964481d@mail.gmail.com>

On 3/3/06, Hans Hagen <pragma at wxs.nl> wrote:
> Patrick Gundlach wrote:
> > Well, it is the opposite from what I've found out. Running rails:
> > yes, rendering dynamic stuff: no. So this is not really rails... and
> > not really usable. But I have no experience from myself. I'd love to
> > see that I am wrong. It might make some of my stuff faster.

> So how about nitro?
>
> Anyhow, from the perspective of running tex, those frameworks solve only part of the problem. I'm currently writing some web stuff and as usual the relative long tex runs have some session and caching demands that forces one to write quit esome code. A nasty characteristic of scripting languages is that chdir and env vars are global to the process, so threading multiple sessions using different tex trees and resource paths is possible, but a bit painful. For this I extended texmfstart a bit and  also a kind of texmf configuration system, but i need to document it .. .

Eh, sorry, but I wasn't trying to get into a discussion on
web-frameworks here.  I just said that YARV is on its way to becoming
the standard VM and it seems to be doing a good job at that.

 nikolai

From pragma at wxs.nl  Sun Mar 12 20:18:50 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Sun, 12 Mar 2006 20:18:50 +0100
Subject: [dev-context] stijlbijdrage
In-Reply-To: <955EE644-1675-4A19-9239-0D928322C268@science.uva.nl>
References: <955EE644-1675-4A19-9239-0D928322C268@science.uva.nl>
Message-ID: <4414741A.4080900@wxs.nl>

Hoi,
>
> Ik heb de cdcover-code van Dennis van Dok (uit de laatste NTG MAPS) 
> bewerkt voor ConTeXt en er nog wat toeters en bellen aan toegevoegd.
> Het lijkt erop dat de eerste kinderziekten er nu uit zijn (fingers 
> crossed). Of dat echt zo is blijkt waarschijnlijk pas als anderen het 
> gebruiken.
> Mijn vraag: is er interesse om dit op te nemen in het thirdparty 
> aanbod op de Pragma site?
> Zo ja dan kan ik je het bestand toezenden. Jij en Taco kunnen er dan 
> eerst naar kijken om te zien of je het wat vindt.
> Dennis van Dok was accoord met verdere verspreiding van zijn geesteskind.
third party modules are now coordinated via the wiki; i still need to set up a way to fetch the styles etc from the wiki so that we can have an additional zip; the website is generated from xml files, so i need to add entries for tp modules there (maybe we need a kind of xml description file for that as well: name, author, description, etc)  

so, best is to create an entry in the wiki on the third party page and then announce it; after that people from the dev team will pick it up and check the file for (for instance) low level dependencies and such

the 'latest versions' are stored in the wiki and from there submitted to ctan (in a next stage we can consider to also have a third party svn branch) 

Hans 


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From hansm at science.uva.nl  Sun Mar 12 21:42:05 2006
From: hansm at science.uva.nl (Hans van der Meer)
Date: Sun, 12 Mar 2006 21:42:05 +0100
Subject: [dev-context] stijlbijdrage
In-Reply-To: <4414741A.4080900@wxs.nl>
References: <955EE644-1675-4A19-9239-0D928322C268@science.uva.nl>
	<4414741A.4080900@wxs.nl>
Message-ID: <50B01E8B-448A-4D0F-8793-C4FA264C7B09@science.uva.nl>

I created an account as hansm on the ContextGardenWiki and have  
uploaded file cdcase.tex.
Probably that is the correct procedure?

Hans van der Meer


On Mar 12, 2006, at 20:18, Hans Hagen wrote:

> Hoi,
>>
>> Ik heb de cdcover-code van Dennis van Dok (uit de laatste NTG  
>> MAPS) bewerkt voor ConTeXt
>>
> so, best is to create an entry in the wiki on the third party page  
> and then announce it; after that people from the dev team will pick  
> it up and check the file for (for instance) low level dependencies  
> and such



From stappers at stappers.nl  Tue Mar 14 00:12:55 2006
From: stappers at stappers.nl (Geert Stappers)
Date: Tue, 14 Mar 2006 00:12:55 +0100
Subject: [dev-context] stijlbijdrage
In-Reply-To: <50B01E8B-448A-4D0F-8793-C4FA264C7B09@science.uva.nl>
References: <955EE644-1675-4A19-9239-0D928322C268@science.uva.nl>
	<4414741A.4080900@wxs.nl>
	<50B01E8B-448A-4D0F-8793-C4FA264C7B09@science.uva.nl>
Message-ID: <20060313231255.GC29071@gpm.stappers.nl>

On Sun, Mar 12, 2006 at 09:42:05PM +0100, Hans van der Meer wrote:
> On Mar 12, 2006, at 20:18, Hans Hagen wrote:
> 
> > Hoi,
> >>
> >> Ik heb de cdcover-code van Dennis van Dok (uit de laatste NTG  
> >> MAPS) bewerkt voor ConTeXt
> >>
> > so, best is to create an entry in the wiki on the third party page  
> > and then announce it; after that people from the dev team will pick  
> > it up and check the file for (for instance) low level dependencies  
> > and such
> 
> I created an account as hansm on the ContextGardenWiki and have  
> uploaded file cdcase.tex.
> Probably that is the correct procedure?

With help from http://wiki.contextgarden.net/Special:Recentchanges
I found "Image:Cdcase.tex", but no changes on the "third party page".
(I even couldn't find the "third party page" (and I don't have the power
to add 'third party page "FIXME"' the Main_Page))


What I'm trying to say is that 'style contributions' are not yet obvious ...


GSt

From taco at elvenkind.com  Tue Mar 14 09:48:03 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 14 Mar 2006 09:48:03 +0100
Subject: [dev-context] stijlbijdrage
In-Reply-To: <20060313231255.GC29071@gpm.stappers.nl>
References: <955EE644-1675-4A19-9239-0D928322C268@science.uva.nl>	<4414741A.4080900@wxs.nl>	<50B01E8B-448A-4D0F-8793-C4FA264C7B09@science.uva.nl>
	<20060313231255.GC29071@gpm.stappers.nl>
Message-ID: <44168343.100@elvenkind.com>



Geert Stappers wrote:
>>>so, best is to create an entry in the wiki on the third party page  
>>>and then announce it; after that people from the dev team will pick  
>>>it up and check the file for (for instance) low level dependencies  
>>>and such
>>
>>I created an account as hansm on the ContextGardenWiki and have  
>>uploaded file cdcase.tex.
>>Probably that is the correct procedure?

(I am speaking for Patrick now, who seems to be otherwise occupied at 
the moment.)

The 'third party modules' (http://modules.contextgarden.net ) is a part
of the contextgarden collection, but not part of the wiki as such (there
are a number of services running at contextgarden.net, and the wiki is
just the most visible of them.

AFAIK, the modules section is still missing a nice upload/submit form, 
so the way to get something up there is to ask Patrick in person
(by email or on this list). I think i remember plans for a more
automated system a la the CTAN upload form, but have not heard anything
more about that in a while.


Cheers, Taco

From pragma at wxs.nl  Tue Mar 14 19:11:19 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 14 Mar 2006 19:11:19 +0100
Subject: [dev-context] kpse
Message-ID: <44170747.8030909@wxs.nl>

Hi,

Attached is a zip with ruby stuff. Not perfect, also not best organized 
but it shows some ideas.

compare

  kpsewhich texnansi.enc
  tmftools.rb texnansi-enc

the first alternative is a bit faster, the second can be faster when we 
use a serialized hash.

now, say (windows)

  set KPSEMETHOD=drb
  set KPSEPORT=7000

and run

  tmftools --serve

and next

  tmftools.rb texnansi-enc

since we now run kpse as a service, we have a pretty fast response.

One may wonder why we need such things ... but imagine (as part of a 
workflow):

texmfstart bin:xsltproc --output whatever.xml kpse:something.xsl 
whoknows.xml
texmfstart rlxtools --manipulate kpse:test.rlx whatever.rlg

we can now save calls to kpsewhich.

texmfstart already has many built in optimizations to limit the number 
of calls and kpsefast also has some caching.

Btw, the server serves multiple trees at the same time.

(I have to reshuffle the kpse classes/modules a bit.)

Other new features involve passing environment variables. In threaded 
scripts the problem is that the environment hash is shared. This means 
that one cannot easily do something

ENV['TEXMF']= = "..."
system("texexec ...")

in treads because each thread may have different assignments to TEXMF. 
For this purpose, texmfstart already had:

  --tree=/mytex/version-1

with setuptex.tmf is part of the minimal distributions and and is just a 
series of assignments. This file is put in the root of a tree.

(btw, this makes it easy to put several trees on the wiki and to select 
a version; it's juts a matter if adding the --tree switch)

# usage: texmfstart --tree=f:/minimal/tex ...
#
# this assumes that calling script sets TEXPATH without a trailing
# slash; %VARNAME% expands to the environment variable, $VARNAME
# is left untouched; we also assume that TEXOS is set.

TEXMFMAIN    = %TEXPATH%/texmf
TEXMFLOCAL   = %TEXPATH%/texmf-local
TEXMFFONTS   = %TEXPATH%/texmf-fonts
TEXMFEXTRA   = %TEXPATH%/texmf-extra
TEXMFPROJECT = %TEXPATH%/texmf-project
VARTEXMF     = %TMP%/texmf-var
HOMETEXMF    =

TEXMFOS      = %TEXPATH%/%TEXOS%
# OSFONTDIR  = %SYSTEMROOT%/fonts

TEXMFCNF     = %TEXPATH%/texmf{-local,}/web2c
TEXMF        = 
{$TEXMFOS,$TEXMFPROJECT,$TEXMFFONTS,$TEXMFLOCAL,$TEXMFEXTRA,!!$TEXMFMAIN}
TEXMFDBS     = $TEXMF

TEXFORMATS   = %TEXMFOS%/web2c/{$engine,}
MPMEMS       = %TEXFORMATS%
TEXPOOL      = %TEXFORMATS%
MPPOOL       = %TEXPOOL%

PATH         > %TEXMFOS%/bin
PATH         > %TEXMFLOCAL%/scripts/perl/context
PATH         > %TEXMFLOCAL%/scripts/ruby/context

EXAMPLEROOT  = %VARTEXMF%

TEXINPUTS    =
MPINPUTS     =
MFINPUTS     =

In addition to this file, one can also feed an extra file with the 
--environment option.

This means that one can leave most dirty details to texmfstart and keep 
scripts simple.


Hans

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.zip
Type: application/zip
Size: 67869 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060314/0a7b527c/attachment-0001.zip 

From pragma at wxs.nl  Wed Mar 15 12:34:38 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 15 Mar 2006 12:34:38 +0100
Subject: [dev-context] kpse
In-Reply-To: <4417E1A5.8090604@elvenkind.com>
References: <4417E1A5.8090604@elvenkind.com>
Message-ID: <4417FBCE.7010909@wxs.nl>

Taco Hoekwater wrote:
>
> Hi Hans,
>
> Somehow, it does not find my texmf.cnf.
>
> I get:
>
>   [taco at glenlivet ruby]$ ruby tmftools.rb texnansi.enc
>   ./base/kpsefast.rb:650:in `basename': cannot convert nil into String
>   (TypeError)
>         from ./base/kpsefast.rb:650:in `_is_cnf_?'
>         from ./base/kpsefast.rb:654:in `find_file'
>         from ./tmftools.rb:111:in `main'
>         from ./tmftools.rb:110:in `each'
>         from ./tmftools.rb:110:in `main'
>         from ./tmftools.rb:168:in `send'
>         from ./tmftools.rb:168
>
> I what environment settings do I need? I now have:
>
>   TEXMFCNF=/opt/tex/texmf.local/web2c:/opt/tex/teTeX/texmf/web2c
>   TEXMFLOCAL=/opt/tex/texmf.local
>   TEXMFMAIN=/opt/tex/teTeX/texmf
>
> and
>
>   [taco at glenlivet ruby]$ kpsewhich texmf.cnf
>   /opt/tex/texmf.local/web2c/texmf.cnf
a better definition is:

    def _is_cnf_?(filename)
        filename == File.basename((@cnffiles.first rescue 'texmf.cnf'))
    end

(is in files i sent you in aseparate mail) 

Hans 


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Wed Mar 15 14:20:00 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 15 Mar 2006 14:20:00 +0100
Subject: [dev-context] kpse
In-Reply-To: <4417FBCE.7010909@wxs.nl>
References: <4417E1A5.8090604@elvenkind.com> <4417FBCE.7010909@wxs.nl>
Message-ID: <44181480.3050006@elvenkind.com>



Hans Hagen wrote:
> 
> a better definition is:
> 
>    def _is_cnf_?(filename)
>        filename == File.basename((@cnffiles.first rescue 'texmf.cnf'))
>    end
> 
> (is in files i sent you in aseparate mail)

The new zip has the same problem. It seems it doesnt like the
two-part TEXMFCNF, because if I remove one of the two parts it no
longer complains.

But the only file it actually can find is texmf.cnf, perhaps
because there are only $SELFAUTOPARENT paths in texmf.cnf, or
perhaps also because of embedded colons?

Cheers,
Taco







From taco at elvenkind.com  Mon Mar 20 17:42:41 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 20 Mar 2006 17:42:41 +0100
Subject: [dev-context] [NTG-context] Curious blank page
In-Reply-To: <441E8716.7040405@wxs.nl>
References: <B0D46017-95E4-4066-9438-76D917FBFA65@cox.net>	<441E7BBE.1040602@elvenkind.com>
	<441E8716.7040405@wxs.nl>
Message-ID: <441EDB81.8060101@elvenkind.com>



Hans Hagen wrote:
>>  
> 
> can you check the version i uploaded a moment ago? 
> 

Hans,

can you check the summary I wrote here:

   http://wiki.contextgarden.net/Release_Notes

I am not sure I've understood everything correctly.

Cheers, Taco

From pragma at wxs.nl  Mon Mar 20 18:06:36 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 20 Mar 2006 18:06:36 +0100
Subject: [dev-context] [NTG-context] Curious blank page
In-Reply-To: <441EDB81.8060101@elvenkind.com>
References: <B0D46017-95E4-4066-9438-76D917FBFA65@cox.net>
	<441E7BBE.1040602@elvenkind.com> <441E8716.7040405@wxs.nl>
	<441EDB81.8060101@elvenkind.com>
Message-ID: <441EE11C.30805@wxs.nl>

Taco Hoekwater wrote:
> Hans Hagen wrote:
>   
>>>  
>>>       
>> can you check the version i uploaded a moment ago? 
>>
>>     
>
> Hans,
>
> can you check the summary I wrote here:
>
>    http://wiki.contextgarden.net/Release_Notes
>
> I am not sure I've understood everything correctly.
>   
looks correct to me; it' smostly an integration of recent additions version

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Wed Mar 22 12:20:54 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 22 Mar 2006 12:20:54 +0100
Subject: [dev-context] Cron <context@server>
	/var/www/aanhet.net/context/bin/cron/context-mirror
In-Reply-To: <20060322110105.2F5A0280009E@server.aanhet.net>
References: <20060322110105.2F5A0280009E@server.aanhet.net>
Message-ID: <44213316.90103@elvenkind.com>



Cron Daemon wrote:
> receiving file list ... done
>  ./
>  context/current/
>  context/current/cont-tmf.zip

Hi Hans,

I've created a wiki page for this, but there is almost no news, right?

   http://wiki.contextgarden.net/Context_2006.03.22

Cheers, Taco




From dh at capdm.com  Fri Mar 24 16:23:10 2006
From: dh at capdm.com (Duncan Hothersall)
Date: Fri, 24 Mar 2006 15:23:10 +0000
Subject: [dev-context] xtag-mmp.tex patch
Message-ID: <44240EDE.6020000@capdm.com>

At line 492 in xtag-mmp.tex:

\def\pMULTISCRIPTmmlPRE#1#2#3#4%
  {\ifdone
     \ifodd\scratchcounter
       ^{\naturalxmlr{#1}{#2}{#3}{#4}}{}%
     \else
       _{\naturalxmlr{#1}{#2}{#3}{#4}}%
     \fi
   \else
     \doif{mprescripts/}{#1}{\donetrue{}}% weak, the / here
   \fi
   \ifdone \advance\scratchcounter 1 \fi}

I think the super/sub scripts are the wrong way around; suggest swapping
fourth and sixth lines:

\def\pMULTISCRIPTmmlPRE#1#2#3#4%
  {\ifdone
     \ifodd\scratchcounter
       _{\naturalxmlr{#1}{#2}{#3}{#4}}%
     \else
       ^{\naturalxmlr{#1}{#2}{#3}{#4}}{}%
     \fi
   \else
     \doif{mprescripts/}{#1}{\donetrue{}}% weak, the / here
   \fi
   \ifdone \advance\scratchcounter 1 \fi}

According to the MathML spec
http://www.w3.org/TR/2003/REC-MathML2-20031021/chapter3.html#presm.mmultiscripts
the syntax is
<mmultiscripts>
    base
     (subscript superscript)*
     [ <mprescripts/> (presubscript presuperscript)* ]
</mmultiscripts>

Thanks from the strange world of presentational MathML,

Duncan

From taco at elvenkind.com  Thu Mar 30 16:52:40 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 30 Mar 2006 16:52:40 +0200
Subject: [dev-context] Extended unic-032 and unic-033
Message-ID: <442BF0B8.70505@elvenkind.com>

Hi,

I guess the two symb-xxx.tex files in the zip should be merged
with some other stuff like math-uni.tex and (maybe?) a reinstated
enco-uni.tex.

Cheers, Taco



-------------- next part --------------
A non-text attachment was scrubbed...
Name: uni-symb.zip
Type: application/octet-stream
Size: 9100 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060330/1910fdff/attachment.obj 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test-uni.tex
Type: application/x-tex
Size: 437 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060330/1910fdff/attachment.tex 

From pragma at wxs.nl  Thu Mar 30 21:07:43 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Thu, 30 Mar 2006 21:07:43 +0200
Subject: [dev-context] Extended unic-032 and unic-033
In-Reply-To: <442BF0B8.70505@elvenkind.com>
References: <442BF0B8.70505@elvenkind.com>
Message-ID: <442C2C7F.5060506@wxs.nl>

Taco Hoekwater wrote:
> Hi,
>
> I guess the two symb-xxx.tex files in the zip should be merged
> with some other stuff like math-uni.tex and (maybe?) a reinstated
> enco-uni.tex.
ok, i integrated this into 

  enco-032, math-uni, uni-032, uni-033 

i'll generate a new beta zip 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Fri Mar 31 15:56:01 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 31 Mar 2006 15:56:01 +0200
Subject: [dev-context] [NTG-context] modules on wiki
In-Reply-To: <442D0C7A.3030601@wxs.nl>
References: <442D0C7A.3030601@wxs.nl>
Message-ID: <442D34F1.6080606@elvenkind.com>


Hi Hans,

(moved to dev-context)

Hans Hagen wrote:
> Thi sis what we have:
> 
> Archive:  t-bib.zip
> 
> - this on is ok

Jay me! :)

> Archive:  t-lettrine.zip
> 
> - doc path

What do you mean by this? the files are in the 'doc' tree already?

And i think those t-XXXX.pdf files tend to be the output of

   texexec --module t-XXXX

(but they seem unnecessary).

> - either we use t-name or name as subpath, but we need to be
> consistent and since only t-'s go there, we can omit the t- from the
> path

I vote for dropping the prefix. We are in 'third' already.

> - only store runtime files in context/third/somename

> - always provide an doc path
> 
> - put a file t-somename.xml in the tex path that looks like:

I already have t-bib.xml and t-lettrine.xml, those contain
texshow/xml syntax information. Perhaps these should be
moved elsewhere?

> or whatever we can agree on, but at least let's cook up a format that
> can be parsed (the wiki already has something like that to generate
> the modules pages, i dunno the format)

How about the TPM format? It is an RDF syntax that should do all we
need already. There even is a filled one for context (TL2005):

http://www.tug.org/texlive/devsrc/Master/texmf-dist/tpm/context.tpm


Taco


From pragma at wxs.nl  Fri Mar 31 16:04:49 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 31 Mar 2006 16:04:49 +0200
Subject: [dev-context] [NTG-context] modules on wiki
In-Reply-To: <442D34F1.6080606@elvenkind.com>
References: <442D0C7A.3030601@wxs.nl> <442D34F1.6080606@elvenkind.com>
Message-ID: <442D3701.1000701@wxs.nl>

Taco Hoekwater wrote:
> And i think those t-XXXX.pdf files tend to be the output of
>
>    texexec --module t-XXXX
>
> (but they seem unnecessary).
>   
indeed, let's not add those, otherwise the cont-ext.zip file will grow 
too large

(btw, t-bib files will go in the main context zip since bibliographies 
are part of the core deal; we may even promite it to m-bib)
>   
>> - either we use t-name or name as subpath, but we need to be
>> consistent and since only t-'s go there, we can omit the t- from the
>> path
>>     
>
> I vote for dropping the prefix. We are in 'third' already.
>   
ok, dropped
> I already have t-bib.xml and t-lettrine.xml, those contain
> texshow/xml syntax information. Perhaps these should be
> moved elsewhere?
>   
ah, good point, so maybe something r-lettrine.xml (with the r- for 
readme); i can even imagine then that d-* files are for the main 
documentation)
>   
>> or whatever we can agree on, but at least let's cook up a format that
>> can be parsed (the wiki already has something like that to generate
>> the modules pages, i dunno the format)
>>     
>
> How about the TPM format? It is an RDF syntax that should do all we
> need already. There even is a filled one for context (TL2005):
>
> http://www.tug.org/texlive/devsrc/Master/texmf-dist/tpm/context.tpm
>   
ok, can you make one for t-bib and t-lettrine that can serve as an example?

i think that these go in atpm path in tds

Hans

 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Fri Mar 31 16:45:26 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 31 Mar 2006 16:45:26 +0200
Subject: [dev-context] latest beta (tests needed)
In-Reply-To: <442CEF96.7010101@elvenkind.com>
References: <442AAC0E.40906@wxs.nl>
	<D6146B5E-4C46-4C74-ABF4-B5FFB878A084@rna.nl>
	<442CEF96.7010101@elvenkind.com>
Message-ID: <442D4086.4020602@elvenkind.com>


Hi,

Hans, you are almost there, afaik.

A few notes still:

* The new bibliography module.

It would be more comfortable if the t-bib was in tex/context/bib
like before. It is now in tex/context/third, like in my zipfile,
but that is searched later, so I now had to delete the old one
manually. And if you want to promote it to core status anyway ...

* A small fix to verbatim (color)

* The improved version of math substacks. (looks fine)

* The xtag-mml patch.
* The \dodoregister patch.

Duncan, can you check if these last two items are ok now?


Taco

From taco at elvenkind.com  Fri Mar 31 17:04:21 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 31 Mar 2006 17:04:21 +0200
Subject: [dev-context] [NTG-context] modules on wiki
In-Reply-To: <442D3701.1000701@wxs.nl>
References: <442D0C7A.3030601@wxs.nl> <442D34F1.6080606@elvenkind.com>
	<442D3701.1000701@wxs.nl>
Message-ID: <442D44F5.8010601@elvenkind.com>



Hans Hagen wrote:
> 
> ok, can you make one for t-bib and t-lettrine that can serve as an example?
> 
> i think that these go in atpm path in tds

Sure (but not today any more, I need a break). They will be
named "t-bib.tpm" etc., by the way.

Shall we create
	tex/context/interface/third
for the syntax definitions?

Taco

From dh at capdm.com  Fri Mar 31 17:12:48 2006
From: dh at capdm.com (Duncan Hothersall)
Date: Fri, 31 Mar 2006 16:12:48 +0100
Subject: [dev-context] latest beta (tests needed)
In-Reply-To: <442D4086.4020602@elvenkind.com>
References: <442AAC0E.40906@wxs.nl>	<D6146B5E-4C46-4C74-ABF4-B5FFB878A084@rna.nl>	<442CEF96.7010101@elvenkind.com>
	<442D4086.4020602@elvenkind.com>
Message-ID: <442D46F0.6020909@capdm.com>

> * The xtag-mml patch.
> * The \dodoregister patch.
> 
> Duncan, can you check if these last two items are ok now?

I think line 504 of xtag-mmp.tex needs to be reversed:
\let\pMULTISCRIPTmmlPOST\pMULTISCRIPTmmlPRE
rather than
\let\pMULTISCRIPTmmlPRE\pMULTISCRIPTmmlPOST
because the definition above is \pMULTISCRIPTmmlPRE
?

The \dodoregister patch looks fine in my tests.

Thanks,

Duncan

From pragma at wxs.nl  Fri Mar 31 17:18:55 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 31 Mar 2006 17:18:55 +0200
Subject: [dev-context] [NTG-context] modules on wiki
In-Reply-To: <442D44F5.8010601@elvenkind.com>
References: <442D0C7A.3030601@wxs.nl> <442D34F1.6080606@elvenkind.com>
	<442D3701.1000701@wxs.nl> <442D44F5.8010601@elvenkind.com>
Message-ID: <442D485F.9020108@wxs.nl>

Taco Hoekwater wrote:
>
>
> Hans Hagen wrote:
>>
>> ok, can you make one for t-bib and t-lettrine that can serve as an 
>> example?
>>
>> i think that these go in atpm path in tds
>
> Sure (but not today any more, I need a break). They will be
> named "t-bib.tpm" etc., by the way.
>
> Shall we create
>     tex/context/interface/third
> for the syntax definitions?
ok 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From pragma at wxs.nl  Fri Mar 31 17:20:29 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 31 Mar 2006 17:20:29 +0200
Subject: [dev-context] latest beta (tests needed)
In-Reply-To: <442D46F0.6020909@capdm.com>
References: <442AAC0E.40906@wxs.nl>
	<D6146B5E-4C46-4C74-ABF4-B5FFB878A084@rna.nl>
	<442CEF96.7010101@elvenkind.com>
	<442D4086.4020602@elvenkind.com> <442D46F0.6020909@capdm.com>
Message-ID: <442D48BD.6080802@wxs.nl>

Duncan Hothersall wrote:
>> * The xtag-mml patch.
>> * The \dodoregister patch.
>>
>> Duncan, can you check if these last two items are ok now?
>>     
>
> I think line 504 of xtag-mmp.tex needs to be reversed:
> \let\pMULTISCRIPTmmlPOST\pMULTISCRIPTmmlPRE
> rather than
> \let\pMULTISCRIPTmmlPRE\pMULTISCRIPTmmlPOST
> because the definition above is \pMULTISCRIPTmmlPRE
> ?
>   
indeed

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Fri Mar 31 19:24:24 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 31 Mar 2006 19:24:24 +0200
Subject: [dev-context] latest beta (tests needed)
In-Reply-To: <442D4086.4020602@elvenkind.com>
References: <442AAC0E.40906@wxs.nl>
	<D6146B5E-4C46-4C74-ABF4-B5FFB878A084@rna.nl>
	<442CEF96.7010101@elvenkind.com> <442D4086.4020602@elvenkind.com>
Message-ID: <442D65C8.1000305@elvenkind.com>


Hi,

Latest latest beta (18:10)

Taco Hoekwater wrote:
> * The new bibliography module.

No more bib module at all :(

> * The xtag-mml patch.

Last remark by Duncan included.

New:

* url spaces patch (as posted by Hans about an hour and a half ago)
* linebreaking routines for metapost paths added to newtexexec. (tex.rb)

Taco

From pragma at wxs.nl  Fri Mar 31 23:34:31 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 31 Mar 2006 23:34:31 +0200
Subject: [dev-context] latest beta (tests needed)
In-Reply-To: <442D65C8.1000305@elvenkind.com>
References: <442AAC0E.40906@wxs.nl>
	<D6146B5E-4C46-4C74-ABF4-B5FFB878A084@rna.nl>
	<442CEF96.7010101@elvenkind.com> <442D4086.4020602@elvenkind.com>
	<442D65C8.1000305@elvenkind.com>
Message-ID: <442DA067.7040600@wxs.nl>

Taco Hoekwater wrote:
> Hi,
>
> Latest latest beta (18:10)
>
> Taco Hoekwater wrote:
>   
>> * The new bibliography module.
>>     
>
> No more bib module at all :(
>   
hm, weird, part of it (the bibtex path is there) ; i'll fix it 

Hans  

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Sat Apr  1 08:19:38 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 01 Apr 2006 08:19:38 +0200
Subject: [dev-context] latest beta (tests needed)
In-Reply-To: <442D65C8.1000305@elvenkind.com>
References: <442AAC0E.40906@wxs.nl>
	<D6146B5E-4C46-4C74-ABF4-B5FFB878A084@rna.nl>
	<442CEF96.7010101@elvenkind.com> <442D4086.4020602@elvenkind.com>
	<442D65C8.1000305@elvenkind.com>
Message-ID: <442E1B7A.5080104@elvenkind.com>

Hi,

Latest latest beta (23:47)

Taco Hoekwater wrote:
> 
> No more bib module at all :(

It's Back! :)

The last remaining 'new' issue I have in my head is the textext()
problem.

Cheers, taco

From pragma at wxs.nl  Sat Apr  1 13:28:01 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Sat, 01 Apr 2006 13:28:01 +0200
Subject: [dev-context] latest beta (tests needed)
In-Reply-To: <442E1B7A.5080104@elvenkind.com>
References: <442AAC0E.40906@wxs.nl>
	<D6146B5E-4C46-4C74-ABF4-B5FFB878A084@rna.nl>
	<442CEF96.7010101@elvenkind.com> <442D4086.4020602@elvenkind.com>
	<442D65C8.1000305@elvenkind.com> <442E1B7A.5080104@elvenkind.com>
Message-ID: <442E63C1.5020609@wxs.nl>

Taco Hoekwater wrote:
>
> The last remaining 'new' issue I have in my head is the textext()
> problem.
>   
i'll do some tests (the problem is that it works here)

Hans

From taco at elvenkind.com  Sat Apr  1 19:30:32 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 01 Apr 2006 19:30:32 +0200
Subject: [dev-context] latest beta (tests needed)
In-Reply-To: <442E63C1.5020609@wxs.nl>
References: <442AAC0E.40906@wxs.nl>
	<D6146B5E-4C46-4C74-ABF4-B5FFB878A084@rna.nl>
	<442CEF96.7010101@elvenkind.com> <442D4086.4020602@elvenkind.com>
	<442D65C8.1000305@elvenkind.com>
	<442E1B7A.5080104@elvenkind.com> <442E63C1.5020609@wxs.nl>
Message-ID: <442EB8B8.3090204@elvenkind.com>

Hans Hagen wrote:
> Taco Hoekwater wrote:
> 
>>
>> The last remaining 'new' issue I have in my head is the textext()
>> problem.
>>   
> 
> i'll do some tests (the problem is that it works here)

The 8bit-y ness of the executable may be the problem. I don't
know what old texexec does to make mpost load the natural.tcx,
but I hope that the problem goes away if you can make
newtexexec mimic the old commandline exactly.

Taco

From patrick at gundla.ch  Sat Apr  1 22:36:56 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Sat, 01 Apr 2006 22:36:56 +0200
Subject: [dev-context] modules/mails
Message-ID: <m2acb5rq1j.fsf@levana.de>

Hi,

I am currently working on a new modules section on contextgarden. I
might finish it tomorrow. Edit and upload will be possible then. 

And I'll answer some mails tomorrow (many to go...)

Patrick
-- 
ConTeXt wiki and more: http://contextgarden.net

From taco at elvenkind.com  Mon Apr  3 10:04:42 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 03 Apr 2006 10:04:42 +0200
Subject: [dev-context] modules/mails
In-Reply-To: <m2acb5rq1j.fsf@levana.de>
References: <m2acb5rq1j.fsf@levana.de>
Message-ID: <4430D71A.20309@elvenkind.com>


Hi Patrick,

Great news!

(I will wait for the new version instead of flooding you with
updated packages)

Taco

Patrick Gundlach wrote:
> Hi,
> 
> I am currently working on a new modules section on contextgarden. I
> might finish it tomorrow. Edit and upload will be possible then. 
> 
> And I'll answer some mails tomorrow (many to go...)
> 
> Patrick

From pragma at wxs.nl  Mon Apr  3 11:08:48 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 03 Apr 2006 11:08:48 +0200
Subject: [dev-context] latest beta (tests needed)
In-Reply-To: <442EB8B8.3090204@elvenkind.com>
References: <442AAC0E.40906@wxs.nl>
	<D6146B5E-4C46-4C74-ABF4-B5FFB878A084@rna.nl>
	<442CEF96.7010101@elvenkind.com> <442D4086.4020602@elvenkind.com>
	<442D65C8.1000305@elvenkind.com>
	<442E1B7A.5080104@elvenkind.com> <442E63C1.5020609@wxs.nl>
	<442EB8B8.3090204@elvenkind.com>
Message-ID: <4430E620.8000202@wxs.nl>

Taco Hoekwater wrote:
> Hans Hagen wrote:
>> Taco Hoekwater wrote:
>>
>>>
>>> The last remaining 'new' issue I have in my head is the textext()
>>> problem.
>>>   
>>
>> i'll do some tests (the problem is that it works here)
>
> The 8bit-y ness of the executable may be the problem. I don't
> know what old texexec does to make mpost load the natural.tcx,
> but I hope that the problem goes away if you can make
> newtexexec mimic the old commandline exactly.
when i run

  newtexexec --make --fast --verbose metafun

i get reported

  mpost --progname=metafun --ini --translate-file=natural.tcx metafun

do you know if the tcx vector info is saved in the mp format file (as with tex)? 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Tue Apr  4 10:17:06 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 04 Apr 2006 10:17:06 +0200
Subject: [dev-context] modules setup
In-Reply-To: <44322817.9060006@wxs.nl>
References: <44322817.9060006@wxs.nl>
Message-ID: <44322B82.4060904@elvenkind.com>


Hi all developers,

FYI, here is the new t-lettrine.zip, and the tpm.dtd (from texlive).

The zip has the structure we discussed over the past few days
(I think so, at least). The sizes in the embedded tpm file are
estimated, and just a tad higher than the actual sizes.

Cheers, Taco

Hans Hagen wrote:
> Hi,
> 
> In order to be able to generate new zips i'd like the modules in the 
> wiki to be tds compliant as soon as possible.
> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: t-lettrine-2006.04.04.zip
Type: application/octet-stream
Size: 107672 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060404/aee9d0f2/attachment-0001.obj 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tpm.dtd
Type: text/x-dtd
Size: 2697 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060404/aee9d0f2/attachment-0001.bin 

From taco at elvenkind.com  Wed Apr  5 11:00:01 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 05 Apr 2006 11:00:01 +0200
Subject: [dev-context] Updated modules at contextgarden
Message-ID: <44338711.4000008@elvenkind.com>

Hi all,

I think I have succeeded in uploading new versions of my modules
to contextgarden (thanks to Patrick for the input form and Hans
for the distribution/tpm builder).

   http://modules.contextgarden.net/t-lettrine
   http://modules.contextgarden.net/bib

   http://modules.contextgarden.net/urwgothic

For that last one I have a question for Patrick:

I changed the filename in the edit form (from urwgothic-support
to f-urwgothic). That did not change the existing files, just the
links, so those became invalid. I expected that, so I added a new
release and re-uploaded my zipfile. That worked fine, the new
version now has the right filename (cool!).

But it also means that there is now a set of "orphan files"
on http://dl.contextgarden.net, and I do not know how you want
to handle that?

We also have serious duplication of information now: the info in
the tpm file duplicates the info in modules interface + filesystem.
It would perhaps make more sense if one or the other was auto-generated?

Cheers, Taco



From taco at elvenkind.com  Wed Apr  5 11:29:56 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 05 Apr 2006 11:29:56 +0200
Subject: [dev-context] Updated modules at contextgarden
In-Reply-To: <44338711.4000008@elvenkind.com>
References: <44338711.4000008@elvenkind.com>
Message-ID: <44338E14.1070107@elvenkind.com>


Hi Patrick,


Taco Hoekwater wrote:
> Hi all,
> 
> I think I have succeeded in uploading new versions of my modules
> to contextgarden (thanks to Patrick for the input form and Hans
> for the distribution/tpm builder).

A bugreport is in order: uploading is fine, but downloading of
newly uploaded files is impossible (permission denied).

Cheers,
Taco


From patrick at gundla.ch  Wed Apr  5 19:16:54 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Wed, 05 Apr 2006 19:16:54 +0200
Subject: [dev-context] Updated modules at contextgarden
In-Reply-To: <44338E14.1070107@elvenkind.com> (Taco Hoekwater's message of
	"Wed, 05 Apr 2006 11:29:56 +0200")
References: <44338711.4000008@elvenkind.com> <44338E14.1070107@elvenkind.com>
Message-ID: <m24q18djsp.fsf@levana.de>

Hi Taco,


> A bugreport is in order: uploading is fine, but downloading of
> newly uploaded files is impossible (permission denied).

this should be fixed now.

-- 
ConTeXt wiki and more: http://contextgarden.net

From patrick at gundla.ch  Wed Apr  5 19:24:00 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Wed, 05 Apr 2006 19:24:00 +0200
Subject: [dev-context] Updated modules at contextgarden
In-Reply-To: <44338711.4000008@elvenkind.com> (Taco Hoekwater's message of
	"Wed, 05 Apr 2006 11:00:01 +0200")
References: <44338711.4000008@elvenkind.com>
Message-ID: <m2zmj0c4wf.fsf@levana.de>

Hi,

>    http://modules.contextgarden.net/urwgothic
>
> For that last one I have a question for Patrick:
>
> I changed the filename in the edit form (from urwgothic-support
> to f-urwgothic). That did not change the existing files, just the
> links, so those became invalid. I expected that, so I added a new
> release and re-uploaded my zipfile. That worked fine, the new
> version now has the right filename (cool!).

> But it also means that there is now a set of "orphan files"
> on http://dl.contextgarden.net, and I do not know how you want
> to handle that?

I have moved those files manually. From now on, one cannot change the
filename anymore. I'll do that on the server if someone sends me an
email.

Patrick
-- 
ConTeXt wiki and more: http://contextgarden.net

From patrick at gundla.ch  Wed Apr  5 19:25:31 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Wed, 05 Apr 2006 19:25:31 +0200
Subject: [dev-context] modules/mails
In-Reply-To: <m2acb5rq1j.fsf@levana.de> (Patrick Gundlach's message of "Sat,
	01 Apr 2006 22:36:56 +0200")
References: <m2acb5rq1j.fsf@levana.de>
Message-ID: <m2vetoc4tw.fsf@levana.de>

Hello again,

> I am currently working on a new modules section on contextgarden. I
> might finish it tomorrow. Edit and upload will be possible then. 

It's not tomorrow, but a new modules-section is online:

http://modules.contextgarden.net/

If any of the authors try to login and cannot find their own modules,
please contact me off list.

Patrick
-- 
ConTeXt wiki and more: http://contextgarden.net

From taco at elvenkind.com  Wed Apr  5 19:36:55 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 05 Apr 2006 19:36:55 +0200
Subject: [dev-context] Updated modules at contextgarden
In-Reply-To: <m24q18djsp.fsf@levana.de>
References: <44338711.4000008@elvenkind.com> <44338E14.1070107@elvenkind.com>
	<m24q18djsp.fsf@levana.de>
Message-ID: <44340037.7060005@elvenkind.com>

Patrick Gundlach wrote:
> Hi Taco,
> 
> 
> 
>>A bugreport is in order: uploading is fine, but downloading of
>>newly uploaded files is impossible (permission denied).
> 
> 
> this should be fixed now.

Yes, works fine now. Hans, can you check and see if you are happy with 
the archive's contents now?

Cheers, taco

From pragma at wxs.nl  Wed Apr  5 19:44:10 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 05 Apr 2006 19:44:10 +0200
Subject: [dev-context] Updated modules at contextgarden
In-Reply-To: <44340037.7060005@elvenkind.com>
References: <44338711.4000008@elvenkind.com> <44338E14.1070107@elvenkind.com>
	<m24q18djsp.fsf@levana.de> <44340037.7060005@elvenkind.com>
Message-ID: <443401EA.9020502@wxs.nl>

Taco Hoekwater wrote:
> Patrick Gundlach wrote:
>   
>> Hi Taco,
>>
>>
>>
>>     
>>> A bugreport is in order: uploading is fine, but downloading of
>>> newly uploaded files is impossible (permission denied).
>>>       
>> this should be fixed now.
>>     
>
> Yes, works fine now. Hans, can you check and see if you are happy with 
> the archive's contents now?
>   
wget -nd http://dl.contextgarden.net/modules/f-urwgothic.zip
wget -nd http://dl.contextgarden.net/modules/t-bib.zip
wget -nd http://dl.contextgarden.net/modules/t-lettrine.zip

all work ok now, so i can make a last beta before going current 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Wed Apr  5 19:55:19 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 05 Apr 2006 19:55:19 +0200
Subject: [dev-context] Updated modules at contextgarden
In-Reply-To: <443401EA.9020502@wxs.nl>
References: <44338711.4000008@elvenkind.com> <44338E14.1070107@elvenkind.com>
	<m24q18djsp.fsf@levana.de> <44340037.7060005@elvenkind.com>
	<443401EA.9020502@wxs.nl>
Message-ID: <44340487.80507@elvenkind.com>


Hi Patrick,


>>>
>>> this should be fixed now.

Can you have a look at my mail on the normal list?
It seems I've added to the chaos by trying to change
the manual for the bib module. It seems doc items
are 'create-only' right now, all else seems to give
Rails errors.

Taco

From taco at elvenkind.com  Tue Apr 18 10:32:27 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 18 Apr 2006 10:32:27 +0200
Subject: [dev-context] [NTG-context] beta
In-Reply-To: <4443F8CF.3050406@wxs.nl>
References: <4443F8CF.3050406@wxs.nl>
Message-ID: <4444A41B.6000502@elvenkind.com>



Hans Hagen wrote:
> I uploaded a beta:
> 
> - some TABLE extensions
> - a new (read: better) 'renumbering' feature (important when floats move 
> to top/bottom of pages)
> - a small fix to itemize (bug crept in during optimization some time ago)


I have not checked into depth, but also:

- read ctx files in parent and grandparent directories
- lots of file path conversions from win32-style \ to unix-style /
   in ruby scripts
- small code improvement in switch.rb
- that math alignment fix with a \vcenter
- read (new) core-pgr.tex
- core-pos reorganized
- an extra \par in core-ntb.tex
- a small change in core-sec.tex (todo with section numbers?)
- m-streams: \starttextstreamlayer added
- m-visual: \simplethesis example added
- page-num: \checknumber[page] instead of \checknummer
- verb-c.tex added
- x-openmath.tex added
- figure (resource) library changes

Taco

From pragma at wxs.nl  Tue Apr 18 10:41:40 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 18 Apr 2006 10:41:40 +0200
Subject: [dev-context] [NTG-context] beta
In-Reply-To: <4444A41B.6000502@elvenkind.com>
References: <4443F8CF.3050406@wxs.nl> <4444A41B.6000502@elvenkind.com>
Message-ID: <4444A644.7050802@wxs.nl>

Taco Hoekwater wrote:
> Hans Hagen wrote:
>   
>> I uploaded a beta:
>>
>> - some TABLE extensions
>> - a new (read: better) 'renumbering' feature (important when floats move 
>> to top/bottom of pages)
>> - a small fix to itemize (bug crept in during optimization some time ago)
>>     
>
>
> I have not checked into depth, but also:
>
> - read ctx files in parent and grandparent directories
> - lots of file path conversions from win32-style \ to unix-style /
>    in ruby scripts
> - small code improvement in switch.rb
> - that math alignment fix with a \vcenter
> - read (new) core-pgr.tex
> - core-pos reorganized
> - an extra \par in core-ntb.tex
> - a small change in core-sec.tex (todo with section numbers?)
>   
dutch -> english
extra counter that keeps track of total in checked counters (needed for 
renumbering)
> - m-streams: \starttextstreamlayer added
> - m-visual: \simplethesis example added
> - page-num: \checknumber[page] instead of \checknummer
> - verb-c.tex added
> - x-openmath.tex added
> - figure (resource) library changes
>   
xml resource included in fig lib pdf file

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Sat Apr 22 15:37:41 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 22 Apr 2006 15:37:41 +0200
Subject: [dev-context] new release
Message-ID: <444A31A5.9090401@elvenkind.com>

Hi Hans,

I've created

   http://wiki.contextgarden.net/Context_2006.04.22

but not all of it makes sense to me, this time.

(I've ordered "programming ruby" so hopefully I'll start
understanding it better soon)

Cheers, taco

From taco at elvenkind.com  Sat Apr 22 15:46:15 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 22 Apr 2006 15:46:15 +0200
Subject: [dev-context] new release
In-Reply-To: <444A31A5.9090401@elvenkind.com>
References: <444A31A5.9090401@elvenkind.com>
Message-ID: <444A33A7.9070604@elvenkind.com>

Taco Hoekwater wrote:
> Hi Hans,
> 
> I've created
> 
>    http://wiki.contextgarden.net/Context_2006.04.22
> 
> but not all of it makes sense to me, this time.

oh, I forgot: unic-251.tex is called for but not in the zip
(harmless but probably unintentional)

Cheers,
Taco

From mojca.miklavec.lists at gmail.com  Sat Apr 22 18:25:42 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 22 Apr 2006 18:25:42 +0200
Subject: [dev-context] new release
In-Reply-To: <444A33A7.9070604@elvenkind.com>
References: <444A31A5.9090401@elvenkind.com> <444A33A7.9070604@elvenkind.com>
Message-ID: <6faad9f00604220925l7677f014se9be94ea832f65f1@mail.gmail.com>

On 4/22/06, Taco Hoekwater wrote:
> Taco Hoekwater wrote:
> > Hi Hans,
> >
> > I've created
> >
> >    http://wiki.contextgarden.net/Context_2006.04.22
> >
> > but not all of it makes sense to me, this time.
>
> oh, I forgot: unic-251.tex is called for but not in the zip

Taco: if we're talking about unicode: you have just missed my mail
(I've put your email  address into the subject line instead of putting
it into the "cc" ;)

In the unicode vectors there are characters like \unic at whatever,
\UnicodeWhatever (for example in vector 37), ...

I wanted to update this file:
http://pub.mojca.org/tex/enco/contextlist/contextnames.txt, but I
don't know which names would be better (it would be fine to have some
sort of unified names). Hans suggested \ucWhatever since it's slightly
shorter.

Mojca

From taco at elvenkind.com  Sun Apr 23 09:10:25 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 23 Apr 2006 09:10:25 +0200
Subject: [dev-context] new release
In-Reply-To: <6faad9f00604220925l7677f014se9be94ea832f65f1@mail.gmail.com>
References: <444A31A5.9090401@elvenkind.com> <444A33A7.9070604@elvenkind.com>
	<6faad9f00604220925l7677f014se9be94ea832f65f1@mail.gmail.com>
Message-ID: <444B2861.7050604@elvenkind.com>

Mojca Miklavec wrote:
> 
> In the unicode vectors there are characters like \unic at whatever,
> \UnicodeWhatever (for example in vector 37), ...
> 
> I wanted to update this file:
> http://pub.mojca.org/tex/enco/contextlist/contextnames.txt, but I
> don't know which names would be better (it would be fine to have some
> sort of unified names). Hans suggested \ucWhatever since it's slightly
> shorter.

I've used \unic@ names for most things, except where a TeX
control sequence was already available (like \leftarrow etc.)

The prefix is there to prevent name clashes, of course. I have
build the csnames (almost) straight from the unicode name. So

   ADDRESSED TO THE SUBJECT => \unic at addressedtothesubject

I made (i think) only one change, for brevity's sake:

   SCRIPT CAPITAL L         => \unic at scriptL
   SCRIPT SMALL L           => \unic at scriptl

I prefer lowercase names as much as possible (they are internal
commands, after all) and adding the '@' prevents clashes with
document-level shortcuts/commands.

I agree unified names are important, but I don't feel strong
about the actual names used. I just used something that seemed
natural to me at the time ;-) Eventually, I want to be able
to take the unicode standard, lookup a _any_ character, and use
a simple recipe inside my head to create a ConTeXt name, like:

   \unicode{scriptL}

I know that this will have to wait for a while (for one, it would
use too much string space and hash entries, current TeX's are not
up to the task).

Cheers, Taco

From pragma at wxs.nl  Sun Apr 23 16:11:06 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Sun, 23 Apr 2006 16:11:06 +0200
Subject: [dev-context] new release
In-Reply-To: <444A31A5.9090401@elvenkind.com>
References: <444A31A5.9090401@elvenkind.com>
Message-ID: <444B8AFA.2060203@wxs.nl>

Taco Hoekwater wrote:
> Hi Hans,
>
> I've created
>
>    http://wiki.contextgarden.net/Context_2006.04.22
>
> but not all of it makes sense to me, this time.
>   
-)
> (I've ordered "programming ruby" so hopefully I'll start
> understanding it better soon)
>   
most of the changes in ruby scripts concern handling border cases and extending features; some of those i probably only use myself 

anyhow, learning ruby is no bad idea 

Hans 
 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From pragma at wxs.nl  Sun Apr 23 16:13:06 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Sun, 23 Apr 2006 16:13:06 +0200
Subject: [dev-context] new release
In-Reply-To: <444A33A7.9070604@elvenkind.com>
References: <444A31A5.9090401@elvenkind.com> <444A33A7.9070604@elvenkind.com>
Message-ID: <444B8B72.30908@wxs.nl>

Taco Hoekwater wrote:
> Taco Hoekwater wrote:
>   
>> Hi Hans,
>>
>> I've created
>>
>>    http://wiki.contextgarden.net/Context_2006.04.22
>>
>> but not all of it makes sense to me, this time.
>>     
>
> oh, I forgot: unic-251.tex is called for but not in the zip
> (harmless but probably unintentional)
>   
ah, added 

hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Thu Apr 27 15:48:12 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 27 Apr 2006 15:48:12 +0200
Subject: [dev-context] context-mirror
In-Reply-To: <20060427110148.88DF92800095@server.aanhet.net>
References: <20060427110148.88DF92800095@server.aanhet.net>
Message-ID: <4450CB9C.7050402@elvenkind.com>


Hi,

I've just created a page for the new release (04/27),

   http://wiki.contextgarden.net/Context_2006.04.27

but I a bit hesitant to announce it formally. I suspect that
the changes in kpse.rb/kpsefast.rb break on Mac OS X.

Cheers, Taco

From taco at elvenkind.com  Fri May  5 08:01:40 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 05 May 2006 08:01:40 +0200
Subject: [dev-context] [NTG-context] Need a dot after float caption
	number	(\floatcaptionsuffix)
In-Reply-To: <E9E57944-7096-42C5-B878-5EDAFC7156BA@kotikone.fi>
References: <E9E57944-7096-42C5-B878-5EDAFC7156BA@kotikone.fi>
Message-ID: <445AEA44.9000101@elvenkind.com>

Jyrki Ruuskanen wrote:
> I edited page-flt.tex like so:

This change has my vote as well.

Cheers,
Taco

From pragma at wxs.nl  Fri May  5 12:53:16 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 05 May 2006 12:53:16 +0200
Subject: [dev-context] [NTG-context] Need a dot after float
 caption	number (\floatcaptionsuffix)
In-Reply-To: <445AEA44.9000101@elvenkind.com>
References: <E9E57944-7096-42C5-B878-5EDAFC7156BA@kotikone.fi>
	<445AEA44.9000101@elvenkind.com>
Message-ID: <445B2E9C.80103@wxs.nl>

Taco Hoekwater wrote:
> Jyrki Ruuskanen wrote:
>   
>> I edited page-flt.tex like so:
>>     
>
> This change has my vote as well.
>   
what change 
-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Fri May  5 13:01:41 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 05 May 2006 13:01:41 +0200
Subject: [dev-context] [NTG-context] Need a dot after float
 caption	number (\floatcaptionsuffix)
In-Reply-To: <445B2E9C.80103@wxs.nl>
References: <E9E57944-7096-42C5-B878-5EDAFC7156BA@kotikone.fi>
	<445AEA44.9000101@elvenkind.com> <445B2E9C.80103@wxs.nl>
Message-ID: <445B3095.50707@elvenkind.com>

Hans Hagen wrote:
> Taco Hoekwater wrote:
> 
>> Jyrki Ruuskanen wrote:
>>  
>>
>>> I edited page-flt.tex like so:
>>>     
>>
>>
>> This change has my vote as well.
>>   
> 
> what change 

(from ntg-context)

I edited page-flt.tex like so:
1423c1423
<        \hbox{\doattributes{\??kj#1}\c!headstyle\c!headcolor{\strut#2
\@@kjkjseparator}}%
---
  >        \hbox{\doattributes{\??kj#1}\c!headstyle\c!headcolor
{\strut#2\floatcaptionsuffix}}%
1824d1823
<       \def\@@kjkjseparator {\getvalue{\??kj#4\c!separator}}%

Which gives me the dot with \setupcaptions[separator=.].

Jyrki Ruuskanen

From pragma at wxs.nl  Fri May  5 13:44:05 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 05 May 2006 13:44:05 +0200
Subject: [dev-context] [NTG-context] Need a dot after float
 caption	number (\floatcaptionsuffix)
In-Reply-To: <445B3095.50707@elvenkind.com>
References: <E9E57944-7096-42C5-B878-5EDAFC7156BA@kotikone.fi>
	<445AEA44.9000101@elvenkind.com> <445B2E9C.80103@wxs.nl>
	<445B3095.50707@elvenkind.com>
Message-ID: <445B3A85.9070605@wxs.nl>

Taco Hoekwater wrote:
> Hans Hagen wrote:
>> Taco Hoekwater wrote:
>>
>>> Jyrki Ruuskanen wrote:
>>>  
>>>
>>>> I edited page-flt.tex like so:
>>>>     
>>>
>>>
>>> This change has my vote as well.
>>>   
>>
>> what change 
>
> (from ntg-context)
>
> I edited page-flt.tex like so:
> 1423c1423
> <        \hbox{\doattributes{\??kj#1}\c!headstyle\c!headcolor{\strut#2
> \@@kjkjseparator}}%
> ---
>  >        \hbox{\doattributes{\??kj#1}\c!headstyle\c!headcolor
> {\strut#2\floatcaptionsuffix}}%
> 1824d1823
> <       \def\@@kjkjseparator {\getvalue{\??kj#4\c!separator}}%
>
> Which gives me the dot with \setupcaptions[separator=.].
hm, i've always a bit problems with reading such diff's; where did the 
floatcaptionsuffix go?


       
\hbox{\doattributes{\??kj#1}\c!headstyle\c!headcolor{\strut#2\floatcaptionsuffix\@@kjkjseparator}}%

anyway, it will *always* add a separatir which is not what i want, so: 

a next releas will provide: 

\setupcaptions[separator=!,stopper=?]


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From mojca.miklavec.lists at gmail.com  Sat May  6 07:56:27 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 6 May 2006 07:56:27 +0200
Subject: [dev-context] Font switching in XeTeX
Message-ID: <6faad9f00605052256k710b7e27ma8bc2818e0cde4c9@mail.gmail.com>

Hello Hans and Adam,

Which are the high-level font switching commands for XeTeX?

Documentation in font-ini states that something like
\definedfont["cmtt10" at 40pt] should work, but if I try to play with
\definedfont["Latin Modern Roman" at 40pt] I get the message that TFM
files for "Latin Modern Roman" do not exist. \font\A="Latin Modern
Roman" at 40pt works OK.

I have some problems with the default Type1 lmr font - it doesn't know
that there are any "ccarons" present in the font (with OpenType lmr it
works OK), but I have to inspect that a bit anyway. There should be a
way to "preload" the lm fonts so that they would work OK with
diacritical marks.

Mojca

From christopher at creutzig.de  Tue May  9 13:45:09 2006
From: christopher at creutzig.de (Christopher Creutzig)
Date: Tue, 09 May 2006 13:45:09 +0200
Subject: [dev-context] scripts/context/stubs/unix/texmfstart.bat?
Message-ID: <446080C5.8000605@creutzig.de>

Salve Hans,

  I doubt there is a unix system where 
scripts/context/stubs/unix/texmfstart.bat cum suis will work, those are 
DOS/Win/CP/M batch files.


Regards,
	Christopher

From pragma at wxs.nl  Tue May  9 14:35:59 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 09 May 2006 14:35:59 +0200
Subject: [dev-context] scripts/context/stubs/unix/texmfstart.bat?
In-Reply-To: <446080C5.8000605@creutzig.de>
References: <446080C5.8000605@creutzig.de>
Message-ID: <44608CAF.2070603@wxs.nl>

Christopher Creutzig wrote:
> Salve Hans,
>
>   I doubt there is a unix system where 
> scripts/context/stubs/unix/texmfstart.bat cum suis will work, those are 
> DOS/Win/CP/M batch files.
>   
this has been corrected 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Tue May  9 16:34:50 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 09 May 2006 16:34:50 +0200
Subject: [dev-context] new release pages
Message-ID: <4460A88A.3040109@elvenkind.com>

Hi,

I hope these make sense:

   http://wiki.contextgarden.net/Context_2006.05.08
   http://wiki.contextgarden.net/Context_2006.05.08b

Is there going to be another release today or tomorrow,
or should I announce this version? (I am not sure about
those problems that were reported on the list).

Cheers, taco

From taco at elvenkind.com  Wed May 10 10:23:43 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 10 May 2006 10:23:43 +0200
Subject: [dev-context] metafun troubles
Message-ID: <4461A30F.3090700@elvenkind.com>

Hi Hans,

I still have trouble with the metafun mem when using the newtexexec.
Missing specials, to be precise, because the runtime mpost reads
different values from texmf.cnf from the ini mpost.

The root of the problem is that
	
   texexec --make metafun

runs the following command:

   mpost -progname=metafun --ini -translate-file=natural.tcx metafun

But

   texexec talk

runs:

   mpost -progname=mpost -mem=metafun -translate-file=natural.tcx  \
             talk-mpgraph.mp

(I have separate settings in texmf.cnf for mpost, metafun, and mpplain).

Cheers, taco



From pragma at wxs.nl  Wed May 10 11:20:17 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 10 May 2006 11:20:17 +0200
Subject: [dev-context] metafun troubles
In-Reply-To: <4461A30F.3090700@elvenkind.com>
References: <4461A30F.3090700@elvenkind.com>
Message-ID: <4461B051.9020606@wxs.nl>

Taco Hoekwater wrote:
> Hi Hans,
>
> I still have trouble with the metafun mem when using the newtexexec.
> Missing specials, to be precise, because the runtime mpost reads
> different values from texmf.cnf from the ini mpost.
>
> The root of the problem is that
> 	
>    texexec --make metafun
>
> runs the following command:
>
>    mpost -progname=metafun --ini -translate-file=natural.tcx metafun
>
> But
>
>    texexec talk
>
> runs:
>
>    mpost -progname=mpost -mem=metafun -translate-file=natural.tcx  \
>              talk-mpgraph.mp
>
> (I have separate settings in texmf.cnf for mpost, metafun, and mpplain).
>   
so we need the commented version: 

            # command = [quoted(mpsengine),prognameflag(progname),formatflag(mpsengine,mpsformat),tcxflag,runoptions(mpsengine),filename,mpsprocextras(mpsformat)].join(' ')
            command = [quoted(mpsengine),"-progname=mpost",formatflag(mpsengine,mpsformat),tcxflag,runoptions(mpsengine),mpname,mpsprocextras(mpsformat)].join(' ')

what happens if mp is run and an unknown progname is used (imagine texmf.cnf files without metafun entry)

and, what doe sprogname default to in mp, the format? if so, we can leave out the progname for mp 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Thu May 11 14:21:11 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 11 May 2006 14:21:11 +0200
Subject: [dev-context] [Fwd: Supelec-Foundry Project Approved]
Message-ID: <44632C37.1030903@elvenkind.com>



-------- Original Message --------
Subject: Supelec-Foundry Project Approved
Date: Thu, 11 May 2006 14:11:11 +0200
From: noreply at foundry.supelec.fr
To: taco at metatex.org

Your project registration for Supelec-Foundry has been approved.

Project Full Name:  ConTeXt Manuals
Project Unix Name:  contextman
CVS Server:         cvs.contextman.foundry.supelec.fr
Shell/Web Server:   contextman.foundry.supelec.fr

Your DNS will take up to a day to become active on our site.
While waiting for your DNS to resolve, you may try shelling into
shell.foundry.supelec.fr and pointing CVS to scm.foundry.supelec.fr

If after 6 hours your shell/CVS accounts still do not work, please
open a support ticket so that we may take a look at the problem.
Please note that all shell/CVS accounts are closed to telnet and only
work with SSH.

Your web site is accessible through your shell account. Please read
site documentation (see link below) about intended usage, available
services, and directory layout of the account.

If you visit your
own project page in Supelec-Foundry while logged in, you will find
additional menu functions to your left labeled 'Project Admin'.

We highly suggest that you now visit Supelec-Foundry and create a public
description for your project. This can be done by visiting your project
page while logged in, and selecting 'Project Admin' from the menus
on the left (or by visiting 
http://foundry.supelec.fr/project/admin/?group_id=22
after login).

Your project will also not appear in the Trove Software Map (primary
list of projects hosted on Supelec-Foundry which offers great flexibility in
browsing and search) until you categorize it in the project administration
screens. So that people can find your project, you should do this now.
Visit your project while logged in, and select 'Project Admin' from the
menus on the left.

Enjoy the system, and please tell others about Supelec-Foundry. Let us know
if there is anything we can do to help you.

-- the Supelec-Foundry crew

From taco at elvenkind.com  Wed May 17 10:14:58 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 17 May 2006 10:14:58 +0200
Subject: [dev-context] version 2006.05.16 18:35
Message-ID: <446ADB82.9090809@elvenkind.com>

Hi,

I just finished a page on  that release:

   http://wiki.contextgarden.net/Context_2006.05.16

I take it there will be a new release shortly, so I am
not going to announce this version.

Taco

From taco at elvenkind.com  Thu May 18 10:52:51 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 18 May 2006 10:52:51 +0200
Subject: [dev-context] new beta
Message-ID: <446C35E3.2020701@elvenkind.com>

Hans,

Your new beta only has some openmath/content-mathml related fixes,
correct?

Will you have a look at Aditya's math requests, or should I?

Taco

From pragma at wxs.nl  Thu May 18 11:54:01 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Thu, 18 May 2006 11:54:01 +0200
Subject: [dev-context] new beta
In-Reply-To: <446C35E3.2020701@elvenkind.com>
References: <446C35E3.2020701@elvenkind.com>
Message-ID: <446C4439.3010502@wxs.nl>

Taco Hoekwater wrote:
> Hans,
>
> Your new beta only has some openmath/content-mathml related fixes,
> correct?
>   
indeed, and there will be some more; we need it for a (kind of pet) project
> Will you have a look at Aditya's math requests, or should I?
>   
if you can take a look first that would be fine 

Hans 


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From mojca.miklavec.lists at gmail.com  Mon May 22 16:55:21 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 22 May 2006 16:55:21 +0200
Subject: [dev-context] Turkish hyphenation patterns
Message-ID: <6faad9f00605220755m65277e9fve5af38818bbc0936@mail.gmail.com>

Hello Hans,

Considering the Turkish hyphenation patterns (which don't seem to be
EC-encoded): I tried to decipher them, although some native speaker
should probably take a look.

I'm sending the original documentation and a kind of list of replacements.
I would suggest to replace the following letters (see the attached file):
    i,i:,o:,u:,a=,i=,o=,c:,g=,s:
and to ignore the first three patterns and all those containing any of
the following sequences (they seem to be there just for the sake of
Arabic transliteration):
    @,#,g:,z:,d!,h!,k!,s!,t!,z!,d=,n=,t=,z=,h=,s=

(Or to regenerate the patterns with from scratch with a ruby script,
which might be faster :)
    ftp://tug.ctan.org/pub/tex-archive/language/turkish/hyphen/turk_hyf.c

Mojca
-------------- next part --------------

% part of alphabet:
%    a, e, o, u

i  ?? % dotlessi
i: i % i
o: ?? % odiaeresis
u: ?? % udiaeresis

% not part of alphabet, but sometimes used:

a= ?? % acircumflex
i= ?? % icircumflex
o= ?? % ocircumflex


% part of alphabet:
%    b, c, d, f, g, h, j, k, l, m, n, p, r, s, t, v, y, z

c: ?? % ccedilla
g= ?? % gbreve
s: ?? % scedilla

% --------------
% probably to be ignored

% others; http://en.wikipedia.org/wiki/Arabic_alphabet

@  ?? % 0621 / afii57409 / ARABIC LETTER HAMZA
#    % ayn??? - no idea what this should be

g: ?? % gdotaccent
z: ?? % zdotaccent

d! ??? % 1E0D / ddot[below/accent] / might not have the name yet
h! ??? % 1E25 / hdot[below/accent]
k! ??? % 1E33 / kdot[below/accent]
s! ??? % 1E63 / sdot[below/accent]
t! ??? % 1E6D / tdot[below/accent]
z! ??? % 1E93 / zdot[below/accent]

d= ??? % 1E0F / LATIN SMALL LETTER D WITH LINE BELOW
n= ?? % ntilde
t= ??? % 1E6F / LATIN SMALL LETTER T WITH LINE BELOW
z= ??? % 1E95 / LATIN SMALL LETTER Z WITH LINE BELOW

h=   % h with line below: not in unicode; perhaps h with breve below (1E2B)?
s=   % s with line below: not in unicode; perhaps scaron?


-------------- next part --------------
A non-text attachment was scrubbed...
Name: turkish-hyphens.pdf
Type: application/pdf
Size: 71255 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060522/4f5e82c1/attachment-0001.pdf 

From taco at elvenkind.com  Tue May 23 17:45:25 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 23 May 2006 17:45:25 +0200
Subject: [dev-context] Register allocation handling
Message-ID: <44732E15.3000001@elvenkind.com>

Hi,

I've just committed a new version to the repository that uses
omega-style (flat array) register allocation instead of
etex-style (sparse array).

This means that luatex now has 65536 (2^16) of each of the
registers

   \newcount
   \newskip
   \newmuskip
   \newdimen
   \newtoks
   \newbox
   \newmarks

The marks code is completely new, and not very optimized yet, but
it should not be much worse than pdfetex for a 'normal' document
(when no more than 50 or so separate mark classes).

Cheers, Taco

From taco at elvenkind.com  Tue May 23 18:01:46 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 23 May 2006 18:01:46 +0200
Subject: [dev-context] Register allocation handling
In-Reply-To: <44732E15.3000001@elvenkind.com>
References: <44732E15.3000001@elvenkind.com>
Message-ID: <447331EA.7050400@elvenkind.com>


Sorry, wrong list ... should have gone to dev-luatex:

Taco

Taco Hoekwater wrote:
> Hi,
> 
> I've just committed a new version to the repository that uses
> omega-style (flat array) register allocation instead of
> etex-style (sparse array).
> 
> This means that luatex now has 65536 (2^16) of each of the
> registers
> 
>    \newcount
>    \newskip
>    \newmuskip
>    \newdimen
>    \newtoks
>    \newbox
>    \newmarks
> 
> The marks code is completely new, and not very optimized yet, but
> it should not be much worse than pdfetex for a 'normal' document
> (when no more than 50 or so separate mark classes).
> 
> Cheers, Taco
> _______________________________________________
> dev-context mailing list
> dev-context at ntg.nl
> http://www.ntg.nl/mailman/listinfo/dev-context

From mojca.miklavec.lists at gmail.com  Sat Jun  3 11:47:07 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 3 Jun 2006 11:47:07 +0200
Subject: [dev-context] Enviromental variables in MikTeX
Message-ID: <6faad9f00606030247g4666ce30w1af66fb9037fe1bf@mail.gmail.com>

Hello (Hans),

in MikTeX almost no environmental variables are set. Consequently some
basic operations such as "ctxtools --update", "texexec --make --all",
... don't work. (ConTeXt doesn't know where to put the extracted
downloaded files, where put the formats, ...)
texexec does all kinds of trickery on many places, including
MikTeX-dependent behaviour, but doesn't address this problem yet. If I
ignore the lack of interest to support ConTeXt on the MikTeX side,
some things could be improved on ConTeXt side as well.

So: Would it be possible to set some basic environmental variables
somewhere at the beginning, so that the "basic" functionality would be
there for MikTeX as well? I tried to use the code below, but the
problem is that I have no idea how to make changes to environmental
variables global (the following code only changes it locally according
to ruby documentation).

somewhere around line 270 in kpse.rb:

    if Kpse.miktex? then
        # sets the TEXMFLOCAL according to the location of context.tex
        # although a bit of cheating, it should work in 99.5% cases
        ENV['TEXMFLOCAL'] =
run("context.tex").gsub(/\/tex\/context\/base\/context.tex$/, '')
    end

If this worked, other environmental variables could be set in a
similar manner as well. (Another stupid part is that it would probably
be necessary to distinguish between version 2.4 and 2.5 (which behave
completely different and have different directory structure) in some
parts, but that's already another story.) But at least ConTeXt (only
the ruby version) now works with MikTeX 2.5.

Thanks a lot,
    Mojca

PS: one very strong reason why I currently use MikTeX is that metapost
keeps crashing with the stand-alone distribution. It is sometimes very
helpful to have both distros installed and use the one that works
better for the particular task.

From adityam at umich.edu  Sat Jun  3 16:13:15 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Sat, 3 Jun 2006 10:13:15 -0400 (EDT)
Subject: [dev-context] Enviromental variables in MikTeX
In-Reply-To: <6faad9f00606030247g4666ce30w1af66fb9037fe1bf@mail.gmail.com>
References: <6faad9f00606030247g4666ce30w1af66fb9037fe1bf@mail.gmail.com>
Message-ID: <Pine.WNT.4.63.0606031004590.3680@nqvgln>

On Sat, 3 Jun 2006, Mojca Miklavec wrote:

> But at least ConTeXt (only the ruby version) now works with MikTeX 
> 2.5.

Miktex's website says that 2.5 is scheduled to be released in June 
2006. It is already at beta 8. If context works fine with 2.5 beta, is 
it really worth the effort to add additional support for 2.4?

Aditya

From mojca.miklavec.lists at gmail.com  Sat Jun  3 16:28:48 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 3 Jun 2006 16:28:48 +0200
Subject: [dev-context] Enviromental variables in MikTeX
In-Reply-To: <Pine.WNT.4.63.0606031004590.3680@nqvgln>
References: <6faad9f00606030247g4666ce30w1af66fb9037fe1bf@mail.gmail.com>
	<Pine.WNT.4.63.0606031004590.3680@nqvgln>
Message-ID: <6faad9f00606030728l2b77f868lb93cd7fc5c7b6d15@mail.gmail.com>

On 6/3/06, Aditya Mahajan wrote:
> On Sat, 3 Jun 2006, Mojca Miklavec wrote:
>
> > But at least ConTeXt (only the ruby version) now works with MikTeX
> > 2.5.
>
> Miktex's website says that 2.5 is scheduled to be released in June
> 2006. It is already at beta 8. If context works fine with 2.5 beta, is
> it really worth the effort to add additional support for 2.4?

I guess that "decay half time" of MikTeX 2.4 will be approximately a
year or two, but no: since the things didn't work until now anyway, it
wouldn't hurt much if they don't start working in the future. If
things could be settled up to work properly in 2.5, this would already
be a big step forward.

Mojca

From mojca.miklavec.lists at gmail.com  Sun Jun  4 13:45:27 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sun, 4 Jun 2006 13:45:27 +0200
Subject: [dev-context] texexec --make plain
Message-ID: <6faad9f00606040445m6105cc80o99e891ae0449f2ea@mail.gmail.com>

Hello Hans,

In order to be able to "--make plain", four files are missing in the
standalone distribution, namely
    tex/generic/hyphen/hyphen.tex
    fonts/.../manfnt.[afm|pfb|tfm]

Would it make sense to add them?

Morover, texexec --make plain creates a file
web2c/pdfetex/pdfetex.fmt, but when running pdfetex, it expects
"pdfetex.fmt" to exist. Or is plain.fmt meant to be used with texexec?

Thanks,
    Mojca

From pragma at wxs.nl  Sun Jun  4 19:25:26 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Sun, 04 Jun 2006 19:25:26 +0200
Subject: [dev-context] texexec --make plain
In-Reply-To: <6faad9f00606040445m6105cc80o99e891ae0449f2ea@mail.gmail.com>
References: <6faad9f00606040445m6105cc80o99e891ae0449f2ea@mail.gmail.com>
Message-ID: <44831786.1070204@wxs.nl>

Mojca Miklavec wrote:
> Hello Hans,
>
> In order to be able to "--make plain", four files are missing in the
> standalone distribution, namely
>     tex/generic/hyphen/hyphen.tex
>     fonts/.../manfnt.[afm|pfb|tfm]
>
> Would it make sense to add them?
>
> Morover, texexec --make plain creates a file
> web2c/pdfetex/pdfetex.fmt, but when running pdfetex, it expects
> "pdfetex.fmt" to exist. Or is plain.fmt meant to be used with texexec?
>   
this has to do with progname and such; you may try to use -fmt=plain

Hans 


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Mon Jun  5 11:07:35 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 05 Jun 2006 11:07:35 +0200
Subject: [dev-context] texexec --make plain
In-Reply-To: <44831786.1070204@wxs.nl>
References: <6faad9f00606040445m6105cc80o99e891ae0449f2ea@mail.gmail.com>
	<44831786.1070204@wxs.nl>
Message-ID: <4483F457.8010405@elvenkind.com>

Hans Hagen wrote:
> Mojca Miklavec wrote:
> 
>>Hello Hans,
>>
>>In order to be able to "--make plain", four files are missing in the
>>standalone distribution, namely
>>    tex/generic/hyphen/hyphen.tex
>>    fonts/.../manfnt.[afm|pfb|tfm]
>>
>>Would it make sense to add them?

I am in favour of that. I often use plain for small test files.

Taco

From pragma at wxs.nl  Mon Jun  5 11:40:13 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 05 Jun 2006 11:40:13 +0200
Subject: [dev-context] texexec --make plain
In-Reply-To: <4483F457.8010405@elvenkind.com>
References: <6faad9f00606040445m6105cc80o99e891ae0449f2ea@mail.gmail.com>
	<44831786.1070204@wxs.nl> <4483F457.8010405@elvenkind.com>
Message-ID: <4483FBFD.3020800@wxs.nl>

Taco Hoekwater wrote:
> Hans Hagen wrote:
>> Mojca Miklavec wrote:
>>
>>> Hello Hans,
>>>
>>> In order to be able to "--make plain", four files are missing in the
>>> standalone distribution, namely
>>>    tex/generic/hyphen/hyphen.tex
>>>    fonts/.../manfnt.[afm|pfb|tfm]
>>>
>>> Would it make sense to add them?
>
> I am in favour of that. I often use plain for small test files.
>
ok 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From pragma at wxs.nl  Mon Jun  5 17:29:35 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 05 Jun 2006 17:29:35 +0200
Subject: [dev-context] Enviromental variables in MikTeX
In-Reply-To: <6faad9f00606030728l2b77f868lb93cd7fc5c7b6d15@mail.gmail.com>
References: <6faad9f00606030247g4666ce30w1af66fb9037fe1bf@mail.gmail.com>
	<Pine.WNT.4.63.0606031004590.3680@nqvgln>
	<6faad9f00606030728l2b77f868lb93cd7fc5c7b6d15@mail.gmail.com>
Message-ID: <44844DDF.1090205@wxs.nl>

Mojca Miklavec wrote:
> On 6/3/06, Aditya Mahajan wrote:
>   
>> On Sat, 3 Jun 2006, Mojca Miklavec wrote:
>>
>>     
>>> But at least ConTeXt (only the ruby version) now works with MikTeX
>>> 2.5.
>>>       
>> Miktex's website says that 2.5 is scheduled to be released in June
>> 2006. It is already at beta 8. If context works fine with 2.5 beta, is
>> it really worth the effort to add additional support for 2.4?
>>     
>
> I guess that "decay half time" of MikTeX 2.4 will be approximately a
> year or two, but no: since the things didn't work until now anyway, it
> wouldn't hurt much if they don't start working in the future. If
> things could be settled up to work properly in 2.5, this would already
> be a big step forward.
>   
ok, then let's focus on 2.5

Christian Schenk will use the texmfstart.exe that i can make here, so we can assume texmfstart to take care of thing. I can also generate binaries for the other scripts. (if you have exerb on your system you can do that too) 

What is needed for 2.5? Your mentioned patch? 

(/the problem in 2.4 is probably related to the fact that the script path related kpse stuff is not present; this is not so much miktex's fault as well that the texlive/miktex code bases need to be synchronized every now and then) /

just let me know ahat is needed ... 

(it would be handy if i could make a texmf-miktex/bin tree with miktex binaries so that i can test with the minimal) 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Fri Jun  9 15:17:58 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 09 Jun 2006 15:17:58 +0200
Subject: [dev-context] [NTG-context] texmfstart texutil
In-Reply-To: <44896ECC.5010908@elvenkind.com>
References: <AB6D2E71-A15A-4BC2-BDA0-17F41B00B83F@science.uva.nl>	<44895246.7030303@wxs.nl>	<C38192F4-1858-4480-8E1E-119E42BF712F@science.uva.nl>
	<44896ECC.5010908@elvenkind.com>
Message-ID: <44897506.40300@elvenkind.com>


Hans,

maybe you can add something to ctxtools.rb that executes

    system("chmod +x scripts/context/unix/stubs/*")

when the current platform is not a microsoft one? I believe
fixing the stubs is a part of the update process.


Cheers, Taco

Taco Hoekwater wrote:
> 
> Hans van der Meer wrote:
> 
>>For those on UNIX(-like) systems that have only texmfstart.rb enabled  
>>as executable (chmod a+x texmfstart.rb) this will not work as none  
>>the ruby scripts in the distribution seem to have their execution  
>>bits set.
> 
> 
>>The next seems mandatory if only texmfstart is enabled: texmfstart  
>>ctxtools --purge
> 
> 
> There is a whole bunch of shell stubs in the distribution, in
> 
> 	scripts/context/stubs/unix
> 
> but currently you always have to redo the "chmod +x" after each update
> because the execution permission bit is not kept in the zip, so it
> gets trashed during the unzip operation.
> _______________________________________________
> ntg-context mailing list
> ntg-context at ntg.nl
> http://www.ntg.nl/mailman/listinfo/ntg-context

From pragma at wxs.nl  Fri Jun  9 15:47:51 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 09 Jun 2006 15:47:51 +0200
Subject: [dev-context] [NTG-context] texmfstart texutil
In-Reply-To: <44897506.40300@elvenkind.com>
References: <AB6D2E71-A15A-4BC2-BDA0-17F41B00B83F@science.uva.nl>
	<44895246.7030303@wxs.nl>
	<C38192F4-1858-4480-8E1E-119E42BF712F@science.uva.nl>
	<44896ECC.5010908@elvenkind.com> <44897506.40300@elvenkind.com>
Message-ID: <44897C07.3010706@wxs.nl>

Taco Hoekwater wrote:
> Hans,
>
> maybe you can add something to ctxtools.rb that executes
>
>     system("chmod +x scripts/context/unix/stubs/*")
>
> when the current platform is not a microsoft one? I believe
> fixing the stubs is a part of the update process.
>   
ok 
-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From pragma at wxs.nl  Wed Jun 14 20:54:19 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 14 Jun 2006 20:54:19 +0200
Subject: [dev-context] new mp feature
Message-ID: <44905B5B.3040506@wxs.nl>

Hi,

In order to make sure that Mojca will not enter stress mode due to her 
gnuplot commitments, and also to give other textext users a way out, we 
now have a new feature: texts processed inside the tex run. (yet to be 
tested in intermediate runs, but in the future we may stick to runtime 
completely (experiments with persitent mp runs are pretty promissing).

Attached is a test file. The interesting thing is that one can now have 
arbitrary content in a mp textext (different name btw). Beware: the 
current context is used so one needs to feed specific settings using the 
mp environment or else. Normally this is no big problem.

I may change the name of \sometxt (not sure yet). There is some trickery 
involved in expanding the \sometxt and it took me a while to figure out 
a good way to make the text manipuletable by mp in the usual way while 
still keeping the real thing inside tex. It may learn you a few tricks -)

I'm currently uploading the release (beta) that supports this (plus A's 
static graphics in disguise)

Hans

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

-------------- next part --------------
A non-text attachment was scrubbed...
Name: test-m.tex
Type: application/x-tex
Size: 3864 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060614/2ab4956a/attachment.tex 

From mojca.miklavec.lists at gmail.com  Sat Jun 17 05:59:38 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 17 Jun 2006 05:59:38 +0200
Subject: [dev-context] new mp feature
In-Reply-To: <44905B5B.3040506@wxs.nl>
References: <44905B5B.3040506@wxs.nl>
Message-ID: <6faad9f00606162059x71a33248g4f7e2cc43ea3a9d7@mail.gmail.com>

Not that I would really need to type in the following example, but if
I didn't find something interesting, Hans would accuse me of not
taking a look at it at all ;)

\startMPpage
draw (0,0)--(5cm,0);
draw (0,0)--(5cm,5cm);

picture p;
p := \sometxt{\bTABLE
	\bTR\bTD abc\eTD\bTD xyz\eTD\eTR
	\bTR\bTD abc\eTD\bTD xyz\eTD\eTR
	\bTR\bTD abc\eTD\bTD xyz\eTD\eTR
	\eTABLE}; % or withcolor here

draw p withcolor transparent(1,.5,red);
\stopMPpage

(To be honest I wanted to send the following example, but I didn't
want to torture:
%\startMPpage
%draw \sometxt{
%   \startCSV
%   a b c
%   \stopCSV
%   } ;
%\stopMPpage
)


General opinion: AMAZING speed, amazing feature! I love the fact that
the labels are typest in the flow of the current document, so now
macros defined earlier in the document may be used for labels as well.
That's simply great! Also because of the fact that \def's refused to
work inside of metafun graphics and no additional runs are needed.

That's far more elegant and way more efficient that the way I would
have to go for separating labels from \MPfigs

Hans, that's marvellous! Thanks a lot!

Mojca


Just a side note: I noticed the new database module already in the
beta, but the first Hans's fix (before Taco has touched it) introduced
a new "tab-bug" which hasn't been quite resolved yet. If
"separator=tab", it should trigger catcode change of tab to a "normal
letter" and use that one for separating columns. Well, indeed it seems
that the catcode is changed, but then I get the letter number 9 in EC
font (macron) instead of going to new column.

I'm now asking for impossible again, but: any simple/reasonable way to
control the baseline/general positioning of the labels? (textext
included text with baseline at y=0 by default, the new mechanism
simply puts the lower corner to the baseline)

From mojca.miklavec.lists at gmail.com  Sat Jun 17 18:02:21 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 17 Jun 2006 18:02:21 +0200
Subject: [dev-context] new mp feature
In-Reply-To: <6faad9f00606162059x71a33248g4f7e2cc43ea3a9d7@mail.gmail.com>
References: <44905B5B.3040506@wxs.nl>
	<6faad9f00606162059x71a33248g4f7e2cc43ea3a9d7@mail.gmail.com>
Message-ID: <6faad9f00606170902k7a718053xe4b3086de2ab096d@mail.gmail.com>

Question, questions and questions again ...

The question from yestarday wasn't a serious one. But this one might
get closer. After I've rewritten the context.trm to try the new
\sometxt out, I struggled against the following problem:

\startMPcode
picture p;

vardef rotateme(expr m) =
	(m rotated 90)
enddef;

% this works
p := \sometxt{sin (x)};
draw rotateme(p);

% this doesn't
draw rotateme( \sometxt{sin (x)} );
\stopMPcode

Is handling the second situation too complext for the existing
mechanism? The solution on "my side" is trivial - I can split the
behaviour in the gnuplot module to work in two steps instead in a
single one, but perhaps this can be easility fixed as well.

Mojca

From pragma at wxs.nl  Mon Jun 19 11:21:31 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 19 Jun 2006 11:21:31 +0200
Subject: [dev-context] new mp feature
In-Reply-To: <6faad9f00606170902k7a718053xe4b3086de2ab096d@mail.gmail.com>
References: <44905B5B.3040506@wxs.nl>
	<6faad9f00606162059x71a33248g4f7e2cc43ea3a9d7@mail.gmail.com>
	<6faad9f00606170902k7a718053xe4b3086de2ab096d@mail.gmail.com>
Message-ID: <44966C9B.8060808@wxs.nl>

Mojca Miklavec wrote:
> Question, questions and questions again ...
>
> The question from yestarday wasn't a serious one. But this one might
> get closer. After I've rewritten the context.trm to try the new
> \sometxt out, I struggled against the following problem:
>
> \startMPcode
> picture p;
>
> vardef rotateme(expr m) =
>     (m rotated 90)
> enddef;
>
> % this works
> p := \sometxt{sin (x)};
> draw rotateme(p);
>
> % this doesn't
> draw rotateme( \sometxt{sin (x)} );
> \stopMPcode
>
> Is handling the second situation too complext for the existing
> mechanism? The solution on "my side" is trivial - I can split the
> behaviour in the gnuplot module to work in two steps instead in a
> single one, but perhaps this can be easility fixed as well.
it works ok if we remove the ; from the \sometxt macro

\starttext

\long\def\sometxt#1{sometxt(nexttxt)} % to be used in mp definitions

\startMPcode
vardef rotateme(expr m) =
    (m rotated 90)
enddef;

picture p;
p := \sometxt{$\sin(x)$};
draw rotateme(p);

draw rotateme(\sometxt{$\cos(x)$});
\stopMPcode

\stoptext


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From pragma at wxs.nl  Mon Jun 19 14:18:51 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 19 Jun 2006 14:18:51 +0200
Subject: [dev-context] new mp feature
In-Reply-To: <6faad9f00606162059x71a33248g4f7e2cc43ea3a9d7@mail.gmail.com>
References: <44905B5B.3040506@wxs.nl>
	<6faad9f00606162059x71a33248g4f7e2cc43ea3a9d7@mail.gmail.com>
Message-ID: <4496962B.5030207@wxs.nl>

Mojca Miklavec wrote:
> Not that I would really need to type in the following example, but if
> I didn't find something interesting, Hans would accuse me of not
> taking a look at it at all ;)
>
> \startMPpage
> draw (0,0)--(5cm,0);
> draw (0,0)--(5cm,5cm);
>
> picture p;
> p := \sometxt{\bTABLE
>     \bTR\bTD abc\eTD\bTD xyz\eTD\eTR
>     \bTR\bTD abc\eTD\bTD xyz\eTD\eTR
>     \bTR\bTD abc\eTD\bTD xyz\eTD\eTR
>     \eTABLE}; % or withcolor here
>
> draw p withcolor transparent(1,.5,red);
> \stopMPpage
>
> (To be honest I wanted to send the following example, but I didn't
> want to torture:
> %\startMPpage
> %draw \sometxt{
> %   \startCSV
> %   a b c
> %   \stopCSV
> %   } ;
> %\stopMPpage
> )
>
>
> General opinion: AMAZING speed, amazing feature! I love the fact that
> the labels are typest in the flow of the current document, so now
> macros defined earlier in the document may be used for labels as well.
> That's simply great! Also because of the fact that \def's refused to
> work inside of metafun graphics and no additional runs are needed.
>
> That's far more elegant and way more efficient that the way I would
> have to go for separating labels from \MPfigs
>
> Hans, that's marvellous! Thanks a lot!
>
> Mojca
>
>
> Just a side note: I noticed the new database module already in the
> beta, but the first Hans's fix (before Taco has touched it) introduced
> a new "tab-bug" which hasn't been quite resolved yet. If
> "separator=tab", it should trigger catcode change of tab to a "normal
> letter" and use that one for separating columns. Well, indeed it seems
> that the catcode is changed, but then I get the letter number 9 in EC
> font (macron) instead of going to new column.

so what patc is needed
>
> I'm now asking for impossible again, but: any simple/reasonable way to
> control the baseline/general positioning of the labels? (textext
> included text with baseline at y=0 by default, the new mechanism
> simply puts the lower corner to the baseline)
sign, the never satisfied mojca ... added:

   [n] == nodepth

   or shift over txtdepth

example:

\setupcolors[state=start]

\starttext

\startMPpage
draw (0,0)--(5cm,0);
draw (0,0)--(5cm,5cm);

picture p;
p := \sometxt{\bTABLE
    \bTR\bTD abc\eTD\bTD xyz\eTD\eTR
    \bTR\bTD abc\eTD\bTD xyz\eTD\eTR
    \bTR\bTD abc\eTD\bTD xyz\eTD\eTR
    \eTABLE} ;

draw p ;

draw \sometxt[n]{nodepth} ;
draw \sometxt{depth} ;
draw \sometxt{more and more depth} shifted (0,txtdepth) ;
\stopMPpage

\foundbox\currentTeXtext{1}

\stoptext


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: mp-txts.mp
Url: http://www.ntg.nl/mailman/private/dev-context/attachments/20060619/81502606/attachment.asc 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: meta-tex.tex
Type: application/x-tex
Size: 6075 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060619/81502606/attachment.tex 

From taco at elvenkind.com  Mon Jun 19 16:24:29 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 19 Jun 2006 16:24:29 +0200
Subject: [dev-context] new mp feature
In-Reply-To: <4496962B.5030207@wxs.nl>
References: <44905B5B.3040506@wxs.nl>	<6faad9f00606162059x71a33248g4f7e2cc43ea3a9d7@mail.gmail.com>
	<4496962B.5030207@wxs.nl>
Message-ID: <4496B39D.5000407@elvenkind.com>

Hans Hagen wrote:
>> Just a side note: I noticed the new database module already in the
>> beta, but the first Hans's fix (before Taco has touched it) introduced
>> a new "tab-bug" which hasn't been quite resolved yet. If
>> "separator=tab", it should trigger catcode change of tab to a "normal
>> letter" and use that one for separating columns. Well, indeed it seems
>> that the catcode is changed, but then I get the letter number 9 in EC
>> font (macron) instead of going to new column.
> 
> so what patc is needed


--- m-database.tex~     2006-06-19 16:08:51.282834397 +0200
+++ m-database.tex      2006-06-19 16:23:12.886574121 +0200
@@ -178,9 +178,12 @@
       {\executeifdefined
          {\??ls::\csname\??ls\currentseparatedlist\c!separator\endcsname}%
          {\csname\??ls\currentseparatedlist\c!separator\endcsname}}%
+   \doifinstringelse{tab}
+      {\getvalue{\??ls\currentseparatedlist\c!separator}}
+      {\catcode`\^^I=12 }{}%
     \ifx\currentlistseparator\empty\def\currentlistseparator{,}\fi}

-\setvalue{\??ls::tab}{ }
+{\catcode`\^^I=12 \setgvalue{\??ls::tab}{      }}
  \setvalue{\??ls::space}{ }
  \setvalue{\??ls::comma}{,}


From mojca.miklavec.lists at gmail.com  Fri Jun 23 23:15:08 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 23 Jun 2006 23:15:08 +0200
Subject: [dev-context]  database bug
Message-ID: <6faad9f00606231415y18b047a0hc95b8e05b1f3e088@mail.gmail.com>

On 6/19/06, Taco Hoekwater <taco at elvenkind.com> wrote:
> Hans Hagen wrote:
> >> Just a side note: I noticed the new database module already in the
> >> beta, but the first Hans's fix (before Taco has touched it) introduced
> >> a new "tab-bug" which hasn't been quite resolved yet. If
> >> "separator=tab", it should trigger catcode change of tab to a "normal
> >> letter" and use that one for separating columns. Well, indeed it seems
> >> that the catcode is changed, but then I get the letter number 9 in EC
> >> font (macron) instead of going to new column.
> >
> > so what patc is needed
>
>
> --- m-database.tex~     2006-06-19 16:08:51.282834397 +0200
> +++ m-database.tex      2006-06-19 16:23:12.886574121 +0200
> @@ -178,9 +178,12 @@
>        {\executeifdefined
>           {\??ls::\csname\??ls\currentseparatedlist\c!separator\endcsname}%
>           {\csname\??ls\currentseparatedlist\c!separator\endcsname}}%
> +   \doifinstringelse{tab}
> +      {\getvalue{\??ls\currentseparatedlist\c!separator}}
> +      {\catcode`\^^I=12 }{}%
>      \ifx\currentlistseparator\empty\def\currentlistseparator{,}\fi}
>
> -\setvalue{\??ls::tab}{ }
> +{\catcode`\^^I=12 \setgvalue{\??ls::tab}{      }}
>   \setvalue{\??ls::space}{ }
>   \setvalue{\??ls::comma}{,}

That's slightly better, but can you please also check the following:

\defineseparatedlist
  [CSV]
  [separator=comma,
   before=\bTABLE,after=\eTABLE,
   first=\bTR,last=\eTR,
   left=\bTD,right=\eTD]

% I would expect an empty cell between "a" and "b", but the second
cell starts with comma instead - I guess that it worked OK in the
first version
\startseparatedlist[CSV]
a,,b,c
d,e,f
\stopseparatedlist

Thanks,
    Mojca

From adityam at umich.edu  Fri Jun 23 23:35:28 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Fri, 23 Jun 2006 17:35:28 -0400 (EDT)
Subject: [dev-context] sometxt vs textext
Message-ID: <Pine.GSO.4.63.0606231730490.28258@rrpf4327h10.ratva.hzvpu.rqh>

Hi,

  How can I replace the following textext code to use sometxt?

\startMPpage
   numeric u ; u := 1cm ;
   for i = 0 upto 5:
    dotlabel.bot(textext("$X_{" & decimal(i+1) & "}"), (i*u,0));
  endfor ;
\stopMPpage

  Also is sometxt supposed to be a replacement for textext in the long run?


Thanks
Aditya

From mojca.miklavec.lists at gmail.com  Sat Jun 24 00:49:40 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 24 Jun 2006 00:49:40 +0200
Subject: [dev-context] sometxt vs textext
In-Reply-To: <Pine.GSO.4.63.0606231730490.28258@rrpf4327h10.ratva.hzvpu.rqh>
References: <Pine.GSO.4.63.0606231730490.28258@rrpf4327h10.ratva.hzvpu.rqh>
Message-ID: <6faad9f00606231549h1d0d3096i10526c9df4e47e27@mail.gmail.com>

On 6/23/06, Aditya Mahajan wrote:
> Hi,
>
>   How can I replace the following textext code to use sometxt?
>
> \startMPpage
>    numeric u ; u := 1cm ;
>    for i = 0 upto 5:
>     dotlabel.bot(textext("$X_{" & decimal(i+1) & "}"), (i*u,0));
>   endfor ;
> \stopMPpage

I don't know if there's any shortcut to it (textext seems to be easier
to write in your case), but according to Hans's examples:

\starttext
   \startTeXtexts
      \dostepwiserecurse{6}{1}{-1}{\TeXtext{\recurselevel}{$U_{\recurselevel}$}}
   \stopTeXtexts

   \startMPpage
      numeric u ; u := 1cm ;
      for i = 0 upto 5:
         dotlabel.bot(sometxt(i+1), (i*u,0));
      endfor ;
   \stopMPpage
\stoptext

>   Also is sometxt supposed to be a replacement for textext in the long run?

Left to Hans to answer ...


I would say that textext won't disapper, but in the current
implementation \sometxt might be ten times faster for lots of tables.
Btw: try to use some complex math or double quotes inside textext.

Mojca

From pragma at wxs.nl  Sun Jun 25 19:00:30 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Sun, 25 Jun 2006 19:00:30 +0200
Subject: [dev-context] sometxt vs textext
In-Reply-To: <Pine.GSO.4.63.0606231730490.28258@rrpf4327h10.ratva.hzvpu.rqh>
References: <Pine.GSO.4.63.0606231730490.28258@rrpf4327h10.ratva.hzvpu.rqh>
Message-ID: <449EC12E.80503@wxs.nl>

Aditya Mahajan wrote:
> Hi,
>
>   How can I replace the following textext code to use sometxt?
>
> \startMPpage
>    numeric u ; u := 1cm ;
>    for i = 0 upto 5:
>     dotlabel.bot(textext("$X_{" & decimal(i+1) & "}"), (i*u,0));
>   endfor ;
> \stopMPpage
>   
you cannot, since \sometxt is expanded

this is what textext is about, collect stuff in loops and so
>   Also is sometxt supposed to be a replacement for textext in the long run?
>   
actually, this is what started the processo fcooking up a variant; i have been playing with (a still very alpha version) of luatex and piping  the mp graphics into a pending mp session; this means that one can gets mp support in context with only 1 (sic) mp run. Although taco, fabrice and I got it kind of working we're  still breeding on better things than  pipes since there are tricky sync problems involved. 

So, maybe next year ... 

(well, the demo was impressive: run time graphics nearly as fast as with an intermediate mp run)  

Hans 


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From mojca.miklavec.lists at gmail.com  Mon Jun 26 00:44:49 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 26 Jun 2006 00:44:49 +0200
Subject: [dev-context] another textext distraction
Message-ID: <6faad9f00606251544q6e76e023r6f94b5fc88ec415@mail.gmail.com>

Hello Hans,

before I forget: yes, plese remove the semicolon in \def\sometxt in
meta-tex.tex if you didn't already. (Unless you see some special
reason why it should be left there.)

And then: while trying to convince David to drop the usage of "btex
... etex" I tried (something like) this:

\startMPinclusions
def something =
	draw textext("abc"); % guess what!
	draw (btex def etex) shifted (0,5mm);
enddef;
\stopMPinclusions

\starttext
\startMPcode
something;
\stopMPcode
\stoptext

But it's probably up to you to convince him about that now - I ran out
of ideas. I thought that nothing could go wrong any more ;)

Mojca

From adityam at umich.edu  Mon Jun 26 05:02:33 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Sun, 25 Jun 2006 23:02:33 -0400 (EDT)
Subject: [dev-context] another textext distraction
In-Reply-To: <6faad9f00606251544q6e76e023r6f94b5fc88ec415@mail.gmail.com>
References: <6faad9f00606251544q6e76e023r6f94b5fc88ec415@mail.gmail.com>
Message-ID: <Pine.WNT.4.63.0606252257170.3720@nqvgln>

On Mon, 26 Jun 2006, Mojca Miklavec wrote:

> Hello Hans,
>
> And then: while trying to convince David to drop the usage of "btex
> ... etex" I tried (something like) this:
>
> \startMPinclusions
> def something =
> 	draw textext("abc"); % guess what!
> 	draw (btex def etex) shifted (0,5mm);
> enddef;
> \stopMPinclusions
>
> \starttext
> \startMPcode
> something;
> \stopMPcode
> \stoptext
>
> But it's probably up to you to convince him about that now - I ran out
> of ideas. I thought that nothing could go wrong any more ;)

Hi Mojca,

You need a \forceMPTEXcheck{something} and everything works fine, 
that is, I get something like

    def
abc

on a page. Can you describe the error that you get.

Aditya

From mojca.miklavec.lists at gmail.com  Mon Jun 26 09:57:01 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 26 Jun 2006 09:57:01 +0200
Subject: [dev-context] another textext distraction
In-Reply-To: <Pine.WNT.4.63.0606252257170.3720@nqvgln>
References: <6faad9f00606251544q6e76e023r6f94b5fc88ec415@mail.gmail.com>
	<Pine.WNT.4.63.0606252257170.3720@nqvgln>
Message-ID: <6faad9f00606260057w45acd25i21b1cf37d470b5bd@mail.gmail.com>

On 6/26/06, Aditya Mahajan wrote:
> On Mon, 26 Jun 2006, Mojca Miklavec wrote:
>
> > Hello Hans,
> >
> > And then: while trying to convince David to drop the usage of "btex
> > ... etex" I tried (something like) this:
> >
> > \startMPinclusions
> > def something =
> >       draw textext("abc"); % guess what!
> >       draw (btex def etex) shifted (0,5mm);
> > enddef;
> > \stopMPinclusions
> >
> > \starttext
> > \startMPcode
> > something;
> > \stopMPcode
> > \stoptext
> >
> > But it's probably up to you to convince him about that now - I ran out
> > of ideas. I thought that nothing could go wrong any more ;)
>
> Hi Mojca,
>
> You need a \forceMPTEXcheck{something} and everything works fine,
> that is, I get something like
>
>     def
> abc
>
> on a page. Can you describe the error that you get.

My apologies! It seems it was too late already. I was so stupid that I
was trying to play with \forceMPTEXcheck{textext}. No wonder why it
didn't work!

Please forget about this post!

Mojca

From taco at elvenkind.com  Sun Jul  2 16:05:04 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 02 Jul 2006 16:05:04 +0200
Subject: [dev-context] [NTG-context] Problems with columnsets and
	\startbackground \stopbackground
In-Reply-To: <20060702132807.GA18917@kimberly.tako.de>
References: <20060701220604.GD9525@kimberly.tako.de>
	<44A7A616.2090307@elvenkind.com>
	<20060702132807.GA18917@kimberly.tako.de>
Message-ID: <44A7D290.3070201@elvenkind.com>

Hi Olaf,

Olaf Mersmann wrote:
>>It is probably a bug, but it is not likely that it will get fixed
>>soon. \startbackground is an 'old' command, columnsets are 'new'
>>and the interaction is not always perfect.
> 
> Is this documented in the manuals and I missed it or simply something
> one learns with time? If it's not documented, maby it could be posted
> on contextgarden?

I do not think anything is in the manual, it is one of those
situations that grow over time: there are perceived limits in a
specific solution (like \startbackgrounds) so Hans writes an
alternate subsystem (like \starttextbackgrounds) that slowly
becomes powerful enough to take over the original. The
documentation is normally not updated until 100% of the old
functionality is available in the new subsystem.

A page with 'deprecated / outdated' commands on the wiki would
certainly be helpful, I agree with that. (CC context dev list)

Taco

From mojca.miklavec.lists at gmail.com  Thu Jul  6 16:09:27 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 6 Jul 2006 16:09:27 +0200
Subject: [dev-context] CSV, alpha 2 ;)
Message-ID: <6faad9f00607060709i2be9a2asce97e851d6e2473b@mail.gmail.com>

Hello, Hans and Taco (once you're back),

http://pub.mojca.org/tex/csv/ has the new version of the documentation
for the database module, but it's still a bit buggy. Please forget
about "feature requests" at the end of the document, they're there
just for the guidelines about what could also be useful.

There are still some bugs appearing (problems with UTF were introduced
recently); a funny thing is also that if I redefine the font encoding
to be EC instead of texnansi (I don't understand why texnansi is used
by deafault, but I don't really mind), the resulting characters in
"Taco's mode" are different (wrong in both cases anyway). "Hans's
mode" doesn't compile if utf-8 characters are present.

The following definition has to be fixed:

\def\setupseparatedlist
  {\dodoubleempty\dosetupseparatedlist}

\def\dosetupseparatedlist[#1][#2]%
  {\getparameters[\??ls#1][#2]}


And if you manage to figure out what's going wrong with
    \showsetups{startseparatedlistname}
    \showsetups{processseparatedfile}
and with the very last example with TSV, I would be very grateful as
well. These are probably my mistakes somewhere, but I don't know where
I did a (probably stupid little) mistake.

What's the default behaviour with \inmargin inside \placefloat? I
guess that that is or should be forbidden, but how can I place
something "marginal" next to the float?

(I have some other "\marginal" questions, but that's a topic for another mail.)

Mojca

From taco at elvenkind.com  Tue Jul 11 11:46:37 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 11 Jul 2006 11:46:37 +0200
Subject: [dev-context] [NTG-context] Stopcolumns New Page?
In-Reply-To: <01DE3B33-7236-459B-BC99-763F683E2F4F@cox.net>
References: <01DE3B33-7236-459B-BC99-763F683E2F4F@cox.net>
Message-ID: <44B3737D.9010206@elvenkind.com>



David Arnold wrote:
> All,
> 
> Why is it when I stop two column mode I get a page break with the  
> following?

Looks like a bug. Hans, do you want me to track this down?

Taco

From taco at elvenkind.com  Tue Jul 11 15:12:10 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 11 Jul 2006 15:12:10 +0200
Subject: [dev-context] CSV, alpha 2 ;)
In-Reply-To: <6faad9f00607060709i2be9a2asce97e851d6e2473b@mail.gmail.com>
References: <6faad9f00607060709i2be9a2asce97e851d6e2473b@mail.gmail.com>
Message-ID: <44B3A3AA.1010507@elvenkind.com>


Hi Mojca,

Mojca Miklavec wrote:
> Hello, Hans and Taco (once you're back),

back!

> http://pub.mojca.org/tex/csv/ has the new version of the documentation
> for the database module, but it's still a bit buggy. Please forget
> about "feature requests" at the end of the document, they're there
> just for the guidelines about what could also be useful.

First ,a note on the xml loading. these four lines:

   \usemodule         % interface defined in XML
	[mod-00]
   \complexloadsetups % syntax definition
	[m-database.xml]

do not work for me (\complexloadsetups is and undefined command).

For the bib module docs I have used a hack that goes like this:

   \usemodule[int-load] % preload \loadsetups command
   \def\loadsetups{}    % disable loading cont-en.xml
   \usemodule[mod-01]
   \startXMLmapping[zero]
   \processXMLfilegrouped{t-bib.xml}
   \stopXMLmapping

It seems this part of the core needs a minor extension to make it easier
to document modules (but it may be that you have that already :))

> There are still some bugs appearing (problems with UTF were introduced
> recently); a funny thing is also that if I redefine the font encoding
> to be EC instead of texnansi (I don't understand why texnansi is used
> by deafault, but I don't really mind), the resulting characters in
> "Taco's mode" are different (wrong in both cases anyway). "Hans's
> mode" doesn't compile if utf-8 characters are present.

In "my mode", this is because of the \convertargument. Hans, is
there an easy way that I can detokenize only the characters < 128 ?

> The following definition has to be fixed:
 >
> \def\dosetupseparatedlist[#1][#2]%
>   {\getparameters[\??ls#1][#2]}

I've fixed my local version as well

> 
> And if you manage to figure out what's going wrong with
>     \showsetups{startseparatedlistname}

This one should be defined as:

<cd:command name="separatedlistname" type="environment" generated="yes">
   <cd:sequence>
     <cd:variable value="separatedlistname"/>
   </cd:sequence>
</cd:command>


But somehow \showsetup{separatedlistname} doesn't output anything,
so it is not entirely your fault (AFAICS). Maybe typesetting is
triggered by the presence of an argument?

>     \showsetups{processseparatedfile}

Use the singular: \showsetup

> and with the very last example with TSV, I would be very grateful as

You have a missing comma after the 'last=' entry.

Cheers, Taco

From taco at elvenkind.com  Tue Jul 11 15:50:08 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 11 Jul 2006 15:50:08 +0200
Subject: [dev-context] [NTG-context] sample={99}
In-Reply-To: <FE80D524-E3A5-4570-897B-4B11AB05139F@cox.net>
References: <FE80D524-E3A5-4570-897B-4B11AB05139F@cox.net>
Message-ID: <44B3AC90.5080503@elvenkind.com>



David Arnold wrote:
> All,
> 
> Was I surprised to find that my numbering went to multiples of 2 when  
> I added the option sample={99}. Is this a bug?

Yes, a bug. The local logic in core-des.tex  (\@@dostartdescription)
is not taking into account  trial typesetting runs, so the counter is
typeset twice and incremented twice: first for the 'sampled'
measuring, then for 'real'. Patched version diff in attachment.

Cheers, taco
-------------- next part --------------
A non-text attachment was scrubbed...
Name: core-des.tex.diff
Type: text/x-patch
Size: 674 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060711/080c5af7/attachment.bin 

From pragma at wxs.nl  Tue Jul 11 17:06:07 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 11 Jul 2006 17:06:07 +0200
Subject: [dev-context] [NTG-context] sample={99}
In-Reply-To: <44B3AC90.5080503@elvenkind.com>
References: <FE80D524-E3A5-4570-897B-4B11AB05139F@cox.net>
	<44B3AC90.5080503@elvenkind.com>
Message-ID: <44B3BE5F.7060903@wxs.nl>

Taco Hoekwater wrote:
>
>
> David Arnold wrote:
>> All,
>>
>> Was I surprised to find that my numbering went to multiples of 2 
>> when  I added the option sample={99}. Is this a bug?
>
> Yes, a bug. The local logic in core-des.tex  (\@@dostartdescription)
> is not taking into account  trial typesetting runs, so the counter is
> typeset twice and incremented twice: first for the 'sampled'
> measuring, then for 'real'. Patched version diff in attachment.
actually, there is already a

\trialtypesettingtrue

you patch the second call -) 

the problem is that david didn't test for a preroll 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Tue Jul 11 17:13:05 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 11 Jul 2006 17:13:05 +0200
Subject: [dev-context] [NTG-context] sample={99}
In-Reply-To: <44B3BE5F.7060903@wxs.nl>
References: <FE80D524-E3A5-4570-897B-4B11AB05139F@cox.net>
	<44B3AC90.5080503@elvenkind.com> <44B3BE5F.7060903@wxs.nl>
Message-ID: <44B3C001.50205@elvenkind.com>



Hans Hagen wrote:
> actually, there is already a
> 
> \trialtypesettingtrue
> 
> you patch the second call -)

Unless I am mistaken, there is a third call below that.

Taco

From pragma at wxs.nl  Tue Jul 11 17:26:17 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 11 Jul 2006 17:26:17 +0200
Subject: [dev-context] [NTG-context] sample={99}
In-Reply-To: <44B3C001.50205@elvenkind.com>
References: <FE80D524-E3A5-4570-897B-4B11AB05139F@cox.net>
	<44B3AC90.5080503@elvenkind.com> <44B3BE5F.7060903@wxs.nl>
	<44B3C001.50205@elvenkind.com>
Message-ID: <44B3C319.5050300@wxs.nl>

Taco Hoekwater wrote:
>
>
> Hans Hagen wrote:
>> actually, there is already a
>>
>> \trialtypesettingtrue
>>
>> you patch the second call -)
>
> Unless I am mistaken, there is a third call below that.
the second one does not use the text (copies the box) and the #3 is only used in a special case (list mode) in which complex code fails anyway

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Wed Jul 12 09:40:30 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 12 Jul 2006 09:40:30 +0200
Subject: [dev-context] [NTG-context] sample={99}
In-Reply-To: <44B3C319.5050300@wxs.nl>
References: <FE80D524-E3A5-4570-897B-4B11AB05139F@cox.net>
	<44B3AC90.5080503@elvenkind.com> <44B3BE5F.7060903@wxs.nl>
	<44B3C001.50205@elvenkind.com> <44B3C319.5050300@wxs.nl>
Message-ID: <44B4A76E.4090502@elvenkind.com>



Hans Hagen wrote:
> Taco Hoekwater wrote:
>> Unless I am mistaken, there is a third call below that.
> 
> the second one does not use the text (copies the box) and the #3 is only 
> used in a special case (list mode) in which complex code fails anyway

Ok, got it now.

From mojca.miklavec.lists at gmail.com  Thu Jul 13 04:56:46 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 13 Jul 2006 04:56:46 +0200
Subject: [dev-context] CSV, alpha 2 ;)
In-Reply-To: <44B3A3AA.1010507@elvenkind.com>
References: <6faad9f00607060709i2be9a2asce97e851d6e2473b@mail.gmail.com>
	<44B3A3AA.1010507@elvenkind.com>
Message-ID: <6faad9f00607121956q1e46e847u73af5c5b2bf50d0b@mail.gmail.com>

>    \usemodule         % interface defined in XML
>         [mod-00]
>    \complexloadsetups % syntax definition
>         [m-database.xml]
>
> do not work for me (\complexloadsetups is and undefined command).

Which version of ConTeXt?

from x-set-11.tex:

\def\complexloadsetups[#1]%
  {\startXMLmapping[zero]
   \processXMLfilegrouped{#1}
   \stopXMLmapping}

or from Hans's email (I just wanted to tell you that you might
probably want to use the same command for documenting your module):

\def\loadsetups{\complexorsimple\loadsetups}

\def\simpleloadsetups
 {\complexloadsetups[cont-en.xml]}

\def\complexloadsetups[#1]%
 {\startXMLmapping[zero]
  \processXMLfilegrouped{#1}
  \stopXMLmapping}

and you can use \loadsetups[m-database.xml]

> For the bib module docs I have used a hack that goes like this:
>
>    \usemodule[int-load] % preload \loadsetups command
>    \def\loadsetups{}    % disable loading cont-en.xml

Thanks for this one! (I just wanted to ask how to prevent lenghty
loading of cont-en.)
I don't understand why I have to do two other things tow prevent
something, but since it's a new functionality anyway: would it by any
chance be possible that it would't load the cont-eni.xml by default
when using [complex]loadsetups?

>    \usemodule[mod-01]
>    \startXMLmapping[zero]
>    \processXMLfilegrouped{t-bib.xml}
>    \stopXMLmapping

Apart from loading the first module that should be the same.

> It seems this part of the core needs a minor extension to make it easier
> to document modules (but it may be that you have that already :))

It should be in ConTeXt already.

> > There are still some bugs appearing (problems with UTF were introduced
> > recently); a funny thing is also that if I redefine the font encoding
> > to be EC instead of texnansi (I don't understand why texnansi is used
> > by deafault, but I don't really mind), the resulting characters in
> > "Taco's mode" are different (wrong in both cases anyway). "Hans's
> > mode" doesn't compile if utf-8 characters are present.
>
> In "my mode", this is because of the \convertargument. Hans, is
> there an easy way that I can detokenize only the characters < 128 ?

> > And if you manage to figure out what's going wrong with
> >     \showsetups{startseparatedlistname}
>
> This one should be defined as:
>
> <cd:command name="separatedlistname" type="environment" generated="yes">
>    <cd:sequence>
>      <cd:variable value="separatedlistname"/>
>    </cd:sequence>
> </cd:command>

Thanks. It might make sense (but also most commands in cont-eni.xml
should be fixed then as well - I followed the pattern from there). I
still don't get the setups shown, but ...

> But somehow \showsetup{separatedlistname} doesn't output anything,
> so it is not entirely your fault (AFAICS). Maybe typesetting is
> triggered by the presence of an argument?
>
> >     \showsetups{processseparatedfile}
>
> Use the singular: \showsetup

Thanks. But no luck either. I'll play a bit more.

> > and with the very last example with TSV, I would be very grateful as
>
> You have a missing comma after the 'last=' entry.

Thanks. Such a stupid mistake!

Mojca

From taco at elvenkind.com  Thu Jul 13 11:23:40 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 13 Jul 2006 11:23:40 +0200
Subject: [dev-context] CSV, alpha 2 ;)
In-Reply-To: <6faad9f00607121956q1e46e847u73af5c5b2bf50d0b@mail.gmail.com>
References: <6faad9f00607060709i2be9a2asce97e851d6e2473b@mail.gmail.com>	
	<44B3A3AA.1010507@elvenkind.com>
	<6faad9f00607121956q1e46e847u73af5c5b2bf50d0b@mail.gmail.com>
Message-ID: <44B6111C.3010602@elvenkind.com>



Mojca Miklavec wrote:
>>    \usemodule         % interface defined in XML
>>         [mod-00]
>>    \complexloadsetups % syntax definition
>>         [m-database.xml]
>>
>> do not work for me (\complexloadsetups is and undefined command).
> 
> 
> Which version of ConTeXt?

non-beta ;-)

> or from Hans's email (I just wanted to tell you that you might
> probably want to use the same command for documenting your module):

Yes, I will. Much better that way

Chees, Taco

From taco at elvenkind.com  Fri Jul 14 13:32:02 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 14 Jul 2006 13:32:02 +0200
Subject: [dev-context] [Fwd: [NTG-context] tracingmacros]
Message-ID: <44B780B2.2060604@elvenkind.com>


Hi,

We can't do what Hans asks right now, but it may be worthwhile to
add a new if statement in some locations to support this (a
similar issue is present for the output routine).

If we have

    \newif\iftracingfonts

Then maybe we can do

    \def\synchronizefont%
       {\iftracingfonts\else \tracingnone \fi
        ........ }

or something similar is possible. WDYT?


-------- Original Message --------
Subject: 	[NTG-context] tracingmacros
Date: 	Fri, 14 Jul 2006 12:25:51 +0200
From: 	Hans van der Meer <hansm at science.uva.nl>
Reply-To: 	mailing list for ConTeXt users <ntg-context at ntg.nl>
To: 	NTG ConTeXt <ntg-context at ntg.nl>



Usually I employ \tracingmacros=1 in order to find nasty problems in my
macros.
Font operations then produce a lot of noise in the log.
Is it possible to shutdown these selectively?

Hans van der Meer




From pragma at wxs.nl  Fri Jul 14 15:23:07 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 14 Jul 2006 15:23:07 +0200
Subject: [dev-context] [Fwd: [NTG-context] tracingmacros]
In-Reply-To: <44B780B2.2060604@elvenkind.com>
References: <44B780B2.2060604@elvenkind.com>
Message-ID: <44B79ABB.5080001@wxs.nl>

Taco Hoekwater wrote:
> Hi,
>
> We can't do what Hans asks right now, but it may be worthwhile to
> add a new if statement in some locations to support this (a
> similar issue is present for the output routine).
>
> If we have
>
>     \newif\iftracingfonts
>
> Then maybe we can do
>
>     \def\synchronizefont%
>        {\iftracingfonts\else \tracingnone \fi
>         ........ }
>
> or something similar is possible. WDYT?
>   
we can make a new logging system, something

\newtoks \everytracingall
\newtoks \everytracingnone

\appendtoks
  \tracingonline    \plusone
  \tracingcommands  \plusthree
  \tracingstats     \plustwo
  \tracingpages     \plusone
  \tracingoutput    \plusone
  \tracinglostchars \plustwo
  \tracingmacros    \plustwo
  \tracingparagraphs\plusone
  \tracingrestores  \plusone
  \showboxbreadth   \maxdimen
  \showboxdepth     \maxdimen
  \tracinggroups    \plusone
  \tracingifs       \plusone
  \tracingscantokens\plusone
  \tracingnesting   \plusone
  \tracingassigns   \plustwo
\to \everytracingall

\appendtoks
  \tracingassigns   \zerocount
  \tracingnesting   \zerocount
  \tracingscantokens\zerocount
  \tracingifs       \zerocount
  \tracinggroups    \zerocount
  \showboxdepth     \plusthree
  \showboxbreadth   \plusfive
  \tracingrestores  \zerocount
  \tracingparagraphs\zerocount
  \tracingmacros    \zerocount
  \tracinglostchars \plusone
  \tracingoutput    \zerocount
  \tracingpages     \zerocount
  \tracingstats     \zerocount
  \tracingcommands  \zerocount
  \tracingonline    \zerocount
\to \everytracingnone

\appendtoks
  \errorstopmode
\to \everytracingall

\def\tracingall {\the\everytracingall }
\def\tracingnone{\the\everytracingnone}

\def\loggingall {\tracingall\tracingonline\zerocount}

\newcount\tracingalldepth

\let\normaltracingall \tracingall
\let\normaltracingnone\tracingnone

\let\pushtracingall\donothing
\let\poptracingall \donothing

\def\tracingless
  {\def\pushtracingall
     {\global\advance\tracingalldepth\plusone
      \ifcase\tracingalldepth\or
        \normaltracingnone
      \fi}%
   \def\poptracingall
     {\ifcase\tracingalldepth\or
        \normaltracingall
      \fi
      \global\advance\tracingalldepth\minusone}%
   \normaltracingall}

\let\xsynchronizefont\synchronizefont

\def\synchronizefont
  {\pushtracingall
   \xsynchronizefont
   \poptracingall}

\tracingless test {\em test \bf test} test

this is rather efficient (no checking when not enabled) 

implementing an iftracingfonts can then be done on top of that, for instance 

\def\synchronizefont
  {\pushtracingall\tracingfontmode
   \xsynchronizefont
   \poptracingall\tracingfontmode}

and something \settrue \tracingfontmode 

needs a bit of thinking because we need to add code all over the place 

Hans 



Hans 


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Fri Jul 14 15:45:24 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 14 Jul 2006 15:45:24 +0200
Subject: [dev-context] [Fwd: [NTG-context] tracingmacros]
In-Reply-To: <44B79ABB.5080001@wxs.nl>
References: <44B780B2.2060604@elvenkind.com> <44B79ABB.5080001@wxs.nl>
Message-ID: <44B79FF4.8060401@elvenkind.com>



Hans Hagen wrote:
> Taco Hoekwater wrote:
> 
>> Hi,
>>
>> We can't do what Hans asks right now, but it may be worthwhile to
>> add a new if statement in some locations to support this (a
>> similar issue is present for the output routine).
>>
>> If we have
>>
>>     \newif\iftracingfonts
>>
>> Then maybe we can do
>>
>>     \def\synchronizefont%
>>        {\iftracingfonts\else \tracingnone \fi
>>         ........ }
>>
>> or something similar is possible. WDYT?
>>   
> 
> we can make a new logging system, something

Neat (I probably need this more often
than HansvdM does :-)).

Taco

From patrick at gundla.ch  Sat Jul 15 18:59:24 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Sat, 15 Jul 2006 18:59:24 +0200
Subject: [dev-context] setup: defineinteractionmenu
Message-ID: <m2bqrqst1v.fsf@levana.de>

Hi there,

while looking at a "next generation" texshow-web, I came across two
defineinteractionmenu definitions in cont-en.xml with variant=1 (one
should be 2).

Patrick
-- 
ConTeXt wiki and more: http://contextgarden.net

From taco at elvenkind.com  Tue Jul 18 15:14:12 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 18 Jul 2006 15:14:12 +0200
Subject: [dev-context] [NTG-context] strange font switching (bug?)
In-Reply-To: <6faad9f00607180456g415cbda6p9f9095e3d08294a2@mail.gmail.com>
References: <6faad9f00607180456g415cbda6p9f9095e3d08294a2@mail.gmail.com>
Message-ID: <44BCDEA4.8060207@elvenkind.com>


Hi,

Mojca Miklavec wrote:
> Hello,
> 
> can anyone explain this weird behaviour? The accents on the second

Just for debug information, this helps:

---
\def\xxdododefinefont#1#2#3#4% \autofontsizetrue is set by calling routine
   {\edef\lastfontidentifier{#3}%
-   \ifcsname\newfontidentifier\endcsname\else
+   \iftrue
      \def\localrelativefontsize{#1}%
      \def\localabsolutefontsize{#2}%
      \parsefontspec{#4}\newfontidentifier
      \let\localrelativefontsize\defaultrelativefontsize % not needed
    \fi
    \csname\newfontidentifier\endcsname
    \autofontsizefalse
    \ifskipfontcharacteristics \else
      \setfontcharacteristics
      \the\everyfontswitch
    \fi}
---


> page are broken (setting bodyfont to 7pt at the beginning works OK and
> using other sizes works as well.).
> 
> \setupbodyfont[8pt]
> 
> \startsetups{img}
> \switchtobodyfont[7pt]
> \stopsetups
> 
> \starttext
> \ccaron\scaron\zcaron
> \page \setups{img}
> \ccaron\scaron\zcaron
> \stoptext
> 
> Thank you very much,
>     Mojca
> _______________________________________________
> ntg-context mailing list
> ntg-context at ntg.nl
> http://www.ntg.nl/mailman/listinfo/ntg-context

From adityam at umich.edu  Tue Jul 18 17:08:31 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Tue, 18 Jul 2006 11:08:31 -0400 (EDT)
Subject: [dev-context] [NTG-context] align question
In-Reply-To: <44BB5CE6.9020309@wxs.nl>
References: <Pine.WNT.4.63.0607150119310.3500@nqvgln>
	<p06230909c0de329a0e98@[4.246.253.163]> <44BB5CE6.9020309@wxs.nl>
Message-ID: <Pine.WNT.4.63.0607181102370.4016@nqvgln>

On Mon, 17 Jul 2006, Hans Hagen wrote:

> Bruce H. Wagner wrote:
>> 
>> 
>> Incidentally, the reason I am using the LaTeX syntax is that we are 
>> translating LaTeX code into Context automatically using a perl script, and 
>> it's therefore much easier to stick to whatever LaTeX code works. 
>> Basically, I just want something comparable to the array environment in 
>> LaTeX, which works very nicely.
>> 
> Aditya is in more or less charge of the specification/tryout part of the math 
> extensions and taco/myself implement things based on that input, so i suggest 
> that the two of you come up with specs

Hans and Taco,

  I have been using Taco's mathfix for some time now and have not 
encountered any problem. Taco had implemented two of my requests

i) style=\textstyle or \displaystyle for matrix
and
ii) location=top|bottom for matrix.

I think that these can be added to the core. However, I am not sure 
about the notation. I had requested for location=top|bottom (thinking 
in Latex terms) but I now think that the Context way to name it is 
low|high.

Taco had also provided a bugfix for breaking multiline formula across 
pages. There are some minor glitches with it. Taco, do you have time 
to look into those?

Aditya

From taco at elvenkind.com  Tue Jul 18 20:19:52 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 18 Jul 2006 20:19:52 +0200
Subject: [dev-context] [NTG-context] align question
In-Reply-To: <Pine.WNT.4.63.0607181102370.4016@nqvgln>
References: <Pine.WNT.4.63.0607150119310.3500@nqvgln>	<p06230909c0de329a0e98@[4.246.253.163]>
	<44BB5CE6.9020309@wxs.nl> <Pine.WNT.4.63.0607181102370.4016@nqvgln>
Message-ID: <44BD2648.9090405@elvenkind.com>

Aditya Mahajan wrote:
> Taco had also provided a bugfix for breaking multiline formula across 
> pages. There are some minor glitches with it. Taco, do you have time 
> to look into those?

Somewhere this week, yes. I will also get back to your other math
extensions requests, now that the bibliographic queue is once again
almost empty.

Taco

From adityam at umich.edu  Wed Jul 19 00:50:14 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Tue, 18 Jul 2006 18:50:14 -0400 (EDT)
Subject: [dev-context] My way on matharrows
Message-ID: <Pine.WNT.4.63.0607181832010.3508@nqvgln>

Hi,

  I am attaching myway on using matharrow. Are there any suggestions 
before I release it to public?

I found some surprises while making this my way.

1. Somewhere along the line of development, \xrightarrow{text} changed 
to placing text at the bottom of the arrow (rather than the top as in 
amstex). This is not a bug, just something that works differently. 
Should this be changed? These arrow definitions are pretty new, so I 
do not think that a change at this stage will effect too many users. 
It may not be possible to change later for compatibility reasons.

2. Something goes wrong with palatino (used by mag-01). Have a look at 
the \xmapsto and \xrightleftharpoons and \xleftrightharpoons in the 
pdf. \xmapsto can be corrected by changing its defintion to

\definematharrow [xmapsto]            [3599] [\mapstofill]

Basically, providing a bit more cusion on the left, so that the middle 
\relbar not overlap the \mapstochar.

Should this definition go to math-ext.tex or to something specific to 
palatino. I have not tested with other fonts, but what is the general 
strategy when definitions differ for different fonts?

I could not correct leftrightharpoons. Why does this not work?

\definematharrow [xleftrightharpoons] [3395,3359] [\leftharpoonupfill,\rightharpoondownfill]

\starttext
\math{\xleftrightharpoons}
\stoptext


Aditya
-------------- next part --------------
A non-text attachment was scrubbed...
Name: arrows.xml
Type: text/xml
Size: 7074 bytes
Desc: 
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060718/21a51ab3/attachment-0001.xml 
-------------- next part --------------
\usemodule[mag-01]

\usemodule[int-load]
\def\loadsetups{}
\usemodule[mod-00]

\setupcolors[state=start]


\def\loadsetups{\complexorsimple\loadsetups}

\def\simpleloadsetups
 {\complexloadsetups[cont-en.xml]}

\def\complexloadsetups[#1]%
 {\startXMLmapping[zero]
  \processXMLfilegrouped{#1}
  \stopXMLmapping}

\loadsetups[arrows.xml]

\setupheadertexts[section]

\setvariables
  [magazine]
  [title={Arrows in \CONTEXT},
   author=Aditya Mahajan,
   date=\currentdate,
  ]

\startbuffer[abstract]
This document describes how to use {\em extensible arrows} in \CONTEXT. It
also explains how you can define new arrows on your own.
\stopbuffer

\starttext \setups[titlepage] \setups[title]

\section{Introduction}
Sometimes one needs to typeset arrows like $\xrightarrow{\text{below}}{\text{above the
arrow}}$. \CONTEXT\ provides extensible arrows to get this result. This {\em
My Way} describes how to use extensible arrows and how to define new ones on
your own.

\section{Usage Syntax}
The following extensible arrows are defined in \CONTEXT.

\midaligned{\starttable[|l|m|]
  \NC \tex{xrightarrow        }  \NC \xrightarrow          \NC \NR
  \NC \tex{xleftarrow         }  \NC \xleftarrow           \NC \NR
  \NC \tex{xequal             }  \NC \xequal               \NC \NR
  \NC \tex{xRightarrow        }  \NC \xRightarrow          \NC \NR
  \NC \tex{xLeftarrow         }  \NC \xLeftarrow           \NC \NR
  \NC \tex{xLeftrightarrow    }  \NC \xLeftrightarrow      \NC \NR
  \NC \tex{xleftrightarrow    }  \NC \xleftrightarrow      \NC \NR
  \NC \tex{xmapsto            }  \NC \xmapsto              \NC \NR
  \NC \tex{xtwoheadrightarrow }  \NC \xtwoheadrightarrow   \NC \NR
  \NC \tex{xtwoheadleftarrow  }  \NC \xtwoheadleftarrow    \NC \NR
  \NC \tex{xrightharpoondown  }  \NC \xrightharpoondown    \NC \NR
  \NC \tex{xrightharpoonup    }  \NC \xrightharpoonup      \NC \NR
  \NC \tex{xleftharpoondown   }  \NC \xleftharpoondown     \NC \NR
  \NC \tex{xleftharpoonup     }  \NC \xleftharpoonup       \NC \NR
  \NC \tex{xleftrightharpoons }  \NC \xleftrightharpoons   \NC \NR
  \NC \tex{xrightleftharpoons }  \NC \xrightleftharpoons   \NC \NR
\stoptable}

The syntax of using these commands is
\startTEX
  \arrowname[options]{below}{above}
\stopTEX

\showsetup{xrightarrow}

where \type{<arrowname>} is one of the arrows shown above. The options effect
the spacing around the above and below material. It can be one of the keywords
or a number (which is converted to math units~\type{mu}.) Compare:

\def\below{\text{\framed{below}}}
\def\above{\text{\framed{above}}}
\midaligned{\starttable[|l|m|]
  \NC  \tex{xrightarrow        } \NC \xrightarrow        {\below}{\above} \NC\NR
  \NC  \tex{xrightarrow[none]  } \NC \xrightarrow  [none]{\below}{\above} \NC\NR
  \NC  \tex{xrightarrow[small] } \NC \xrightarrow [small]{\below}{\above} \NC\NR
  \NC  \tex{xrightarrow[medium]} \NC \xrightarrow[medium]{\below}{\above} \NC\NR
  \NC  \tex{xrightarrow[big]   } \NC \xrightarrow   [big]{\below}{\above} \NC\NR
  \NC  \tex{xrightarrow[50]    } \NC \xrightarrow    [50]{\below}{\above} \NC\NR
\stoptable}

All the arguments are optional, so you can also use
\startTEX
  \arrowname[option]{below}
  \arrowname{below}
  \arrowname[option]
  \arrowname
\stopTEX
for example\footnote{This is different from \AMSTEX\ syntax, where
\type<<\arrowname{above}>> places the material {\em above} the arrow.}

\midaligned{\starttable[|l|m|]
  \NC \type<<\xrightarrow{below}      >> \NC \xrightarrow{\below}     \NC\NR
  \NC \type<<\xrightarrow[big]{below} >> \NC \xrightarrow[big]{\below}\NC\NR
  \NC \type<<\xrightarrow[big]        >> \NC \xrightarrow[big]        \NC\NR
  \NC \type<<\xrightarrow             >> \NC \xrightarrow             \NC\NR
\stoptable}

\section{Defining new arrows}
There are two types of extensible arrows
\startitemize[r,text][stopper=]
  \item Those with a single arrow (e.g.\ \tex{xrightarrow}, \tex{xleftarrow},
    etc.) and,
  \item those with two arrows (e.g.\ \tex{xleftrightharpoons},
    \tex{leftrightharpoons} etc.)
\stopitemize
Here I will explain how to define both kinds of arrows. First you need to define
an {\em extensible arrow fill}, which consists of three parts, which define the
left, middle and right part of the arrow, where the middle part is stretched in
a way that the arrow is atleast as long as the material above and below it. This
can be define using \tex{mtharrowfill}, e.g.\ for \tex{xrightarrow} one defines
\startTEX
\def\rightarrowfill{\mtharrowfill \relbar \relbar \rightarrow}
\stopTEX 
Here \tex{relbar} is \math{\relbar} character, which is basically a horizontal
bar at the middle of math line. Thus \tex{rightarrowfill} is an arrow fill in
which the left part is \tex{relbar}, the middle stretchable part is \tex{relbar}
and the right part is \tex{rightarrow}. Similarly, for \tex{xleftarrow} one
defines
\startTEX
\def\leftarrowfill{\mtharrowfill \leftarrow \relbar \relbar}
\stopTEX 
and so on for different arrows.

An extensible arrow can be defined using the \tex{definearrow} command.
\showsetup{definearrow}
It can best be explained by means of an example. \tex{xrightarrow} is defined as
\startTEX
\definematharrow [xrightarrow]        [0359] [\rightarrowfill]
\stopTEX
The first argument is the name of the arrow (\tex{xrightarrow} in this case.)
The second argument consists of a set of 4 numbers and specify the spacing
correction in math units~\type{mu}. These numbers define:

% Where is the fun, if you do everything manually :-)
\defineconversion[ordinal][\enordinaldaynumber]

% Can 9*broad be calculated automatically?
\startitemize[ordinal,9*broad][stopper={ number:}]
  \item left arrow||tip correction
  \item right arrow||tip correction
  \item left space (multiplied by \tex{matharrfactor} and advanced by
    \tex{matharrextra})
  \item right space (multiplied by \tex{matharrfactor} and advanced by
    \tex{matharrextra})
\stopitemize

The third argument is the name of the extensible fill, that we defined earlier.
This gives us an extensible arrow of the first kind.

To define an extenisble arrow the second kind, (e.g.\ \tex{xrightleftharpoons})
we need to define two extensible fills. 
\startTEX
\def\rightharpoonupfill%
    {\mtharrowfill \relbar          \relbar \rightharpoonup}
\def\leftharpoondownfill%
    {\mtharrowfill \leftharpoondown \relbar \relbar        }
\stopTEX  
Next we need to tell \tex{definearrow} to stack them together.
\startTEX
\definematharrow [xrightleftharpoons] [3095,0359] 
                 [\rightharpoonupfill,\leftharpoondownfill]
\stopTEX
The second and the third set of arguments consist of comma separated values. The
first element of the second argument (\type{3095}) corresponds to the spacing
correction of top arrow fill (\tex{rightarrowupfill}). Similarly, \type{0359}
corresponds to bottom arrow fill \tex{leftharpoondownfill}). Stacking them on
top of each other we get
\math{\xrightleftharpoons[big]{\tex{leftharpoondownfill}}{\tex{rightharpoonupfill}}}.

\section{Concluding Comments}
This is just meant as a usage guide for {\em extensible arrows} in \CONTEXT,and
is by no means exhaustive. If you really want to understand the nitty gritty of
the implementation, you need to look at the code (in \type{math-ext.tex}).

\stoptext




From pragma at wxs.nl  Wed Jul 19 01:30:25 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 19 Jul 2006 01:30:25 +0200
Subject: [dev-context] [NTG-context] strange font switching (bug?)
In-Reply-To: <44BCDEA4.8060207@elvenkind.com>
References: <6faad9f00607180456g415cbda6p9f9095e3d08294a2@mail.gmail.com>
	<44BCDEA4.8060207@elvenkind.com>
Message-ID: <44BD6F11.3060103@wxs.nl>

Taco Hoekwater wrote:
> Hi,
>
> Mojca Miklavec wrote:
>   
>> Hello,
>>
>> can anyone explain this weird behaviour? The accents on the second
>>     
>
> Just for debug information, this helps:
>
> ---
> \def\xxdododefinefont#1#2#3#4% \autofontsizetrue is set by calling routine
>    {\edef\lastfontidentifier{#3}%
> -   \ifcsname\newfontidentifier\endcsname\else
> +   \iftrue
>       \def\localrelativefontsize{#1}%
>       \def\localabsolutefontsize{#2}%
>       \parsefontspec{#4}\newfontidentifier
>       \let\localrelativefontsize\defaultrelativefontsize % not needed
>     \fi
>     \csname\newfontidentifier\endcsname
>     \autofontsizefalse
>     \ifskipfontcharacteristics \else
>       \setfontcharacteristics
>       \the\everyfontswitch
>     \fi}
> ---
>
>   
thanks; i guess that we have to do with some math (default encoding) vs 
serif (whatever encoding) mix up, i.e. they share fonts in lm/cm

a bit less efficient but probably ok is the followign patch (\fontstyle 
added):

\def\newfontidentifier{*\fontclass\lastfontidentifier\fontstyle\fontsize*}


Hans  

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From adityam at umich.edu  Wed Jul 19 02:11:14 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Tue, 18 Jul 2006 20:11:14 -0400 (EDT)
Subject: [dev-context] CSV, alpha 2 ;)
In-Reply-To: <44B3A3AA.1010507@elvenkind.com>
References: <6faad9f00607060709i2be9a2asce97e851d6e2473b@mail.gmail.com>
	<44B3A3AA.1010507@elvenkind.com>
Message-ID: <Pine.WNT.4.63.0607182004070.3508@nqvgln>

On Tue, 11 Jul 2006, Taco Hoekwater wrote:

> For the bib module docs I have used a hack that goes like this:
>
>   \usemodule[int-load] % preload \loadsetups command
>   \def\loadsetups{}    % disable loading cont-en.xml
>   \usemodule[mod-01]
>   \startXMLmapping[zero]
>   \processXMLfilegrouped{t-bib.xml}
>   \stopXMLmapping
>
> It seems this part of the core needs a minor extension to make it easier
> to document modules (but it may be that you have that already :))

Well, after a suggestion from Mojca, the simplest way seems to the 
following

\usemodule[int-load]    %Allow context to parse xml markup
\loadsetups[arrows.xml] %Name of the file with xml markup

% Get gray backgrounds for setups
\setupframedtexts
    [setuptext]
    [background=screen,
     frame=off]


Then you can use \setup{command} to show its syntax.

\showsetup is just defined as

\def\showsetup#1%
   {{\def\y##1{\writestatus{setups}{warning: remove y! from #1}}%
     \setup{#1}}}

which seems to do some checking for commands that defined twice.

For the purpose of documenting modules one can even say

\let\showsetup\setup


Aditya

From mojca.miklavec.lists at gmail.com  Wed Jul 19 02:14:41 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 19 Jul 2006 02:14:41 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <Pine.WNT.4.63.0607181832010.3508@nqvgln>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln>
Message-ID: <6faad9f00607181714v3194624dra6843b10ac2475fa@mail.gmail.com>

On 7/19/06, Aditya Mahajan wrote:
> Hi,
>
>   I am attaching myway on using matharrow. Are there any suggestions
> before I release it to public?
>
> I found some surprises while making this my way.

Now that you're all experts in arrows: I'm still looking for
\overrightharpoonup that would:
- be small enough, so that it would still look ok when placed over
(dotless) i or j.
- decrease with style:
$\overrrightharpoonup{AB}_{\overrightharponup{CD}}$ the second arrow
should be smaller.

> 1. Somewhere along the line of development, \xrightarrow{text} changed
> to placing text at the bottom of the arrow (rather than the top as in
> amstex). This is not a bug, just something that works differently.
> Should this be changed? These arrow definitions are pretty new, so I
> do not think that a change at this stage will effect too many users.
> It may not be possible to change later for compatibility reasons.

I guess that you might even be the only one who used that so far, so
if you want compatibility, fix it now! (I never used that
functionality in LaTeX, so I don't know how it works there).

> 2. Something goes wrong with palatino (used by mag-01). Have a look at
> the \xmapsto and \xrightleftharpoons and \xleftrightharpoons in the
> pdf. \xmapsto can be corrected by changing its defintion to
>
> \definematharrow [xmapsto]            [3599] [\mapstofill]
>
> Basically, providing a bit more cusion on the left, so that the middle
> \relbar not overlap the \mapstochar.
>
> Should this definition go to math-ext.tex or to something specific to
> palatino. I have not tested with other fonts, but what is the general
> strategy when definitions differ for different fonts?

Taco - now that you have enough experince with cows: do you have any
suggestions about how to create nice arrows with antykwa-torunska as
well?

Mojca

From pragma at wxs.nl  Wed Jul 19 10:03:06 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 19 Jul 2006 10:03:06 +0200
Subject: [dev-context] CSV, alpha 2 ;)
In-Reply-To: <Pine.WNT.4.63.0607182004070.3508@nqvgln>
References: <6faad9f00607060709i2be9a2asce97e851d6e2473b@mail.gmail.com>
	<44B3A3AA.1010507@elvenkind.com>
	<Pine.WNT.4.63.0607182004070.3508@nqvgln>
Message-ID: <44BDE73A.600@wxs.nl>

Aditya Mahajan wrote:
> On Tue, 11 Jul 2006, Taco Hoekwater wrote:
>
>   
>> For the bib module docs I have used a hack that goes like this:
>>
>>   \usemodule[int-load] % preload \loadsetups command
>>   \def\loadsetups{}    % disable loading cont-en.xml
>>   \usemodule[mod-01]
>>   \startXMLmapping[zero]
>>   \processXMLfilegrouped{t-bib.xml}
>>   \stopXMLmapping
>>
>> It seems this part of the core needs a minor extension to make it easier
>> to document modules (but it may be that you have that already :))
>>     
>
> Well, after a suggestion from Mojca, the simplest way seems to the 
> following
>
> \usemodule[int-load]    %Allow context to parse xml markup
> \loadsetups[arrows.xml] %Name of the file with xml markup
>
> % Get gray backgrounds for setups
> \setupframedtexts
>     [setuptext]
>     [background=screen,
>      frame=off]
>
>
> Then you can use \setup{command} to show its syntax.
>
> \showsetup is just defined as
>
> \def\showsetup#1%
>    {{\def\y##1{\writestatus{setups}{warning: remove y! from #1}}%
>      \setup{#1}}}
>
> which seems to do some checking for commands that defined twice.
>
> For the purpose of documenting modules one can even say
>
> \let\showsetup\setup
>   

i didn;t closely follow this thread ... what exactly is the problem

Hans

From taco at elvenkind.com  Wed Jul 19 10:36:16 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 19 Jul 2006 10:36:16 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <Pine.WNT.4.63.0607181832010.3508@nqvgln>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln>
Message-ID: <44BDEF00.7010200@elvenkind.com>



Aditya Mahajan wrote:
> Hi,
> 
>  I am attaching myway on using matharrow. Are there any suggestions 
> before I release it to public?
> 
> I found some surprises while making this my way.
> 
> 1. Somewhere along the line of development, \xrightarrow{text} changed 
> to placing text at the bottom of the arrow (rather than the top as in 
> amstex). This is not a bug, just something that works differently. 
> Should this be changed? These arrow definitions are pretty new, so I do 
> not think that a change at this stage will effect too many users. It may 
> not be possible to change later for compatibility reasons.

In the interest of porting stuff from amstex, changing the behaviour is
probably better.

> 2. Something goes wrong with palatino (used by mag-01). Have a look at 
> the \xmapsto and \xrightleftharpoons and \xleftrightharpoons in the pdf. 
> \xmapsto can be corrected by changing its defintion to
> 
> \definematharrow [xmapsto]            [3599] [\mapstofill]
> 
> Basically, providing a bit more cusion on the left, so that the middle 
> \relbar not overlap the \mapstochar.
> 
> Should this definition go to math-ext.tex or to something specific to 
> palatino. I have not tested with other fonts, but what is the general 
> strategy when definitions differ for different fonts?

something should be possible with mathcollections, I guess?
(Hans knows this better then I do)

> I could not correct leftrightharpoons. Why does this not work?
> 
> \definematharrow [xleftrightharpoons] [3395,3359] 
> [\leftharpoonupfill,\rightharpoondownfill]

Because the current definition of dodoxmtharrow does not like it
when the second arg starts with two identical digits. Changing
it to this fixes the problem:

   \def\dodoxmtharrow[#1,#2,#3][#4,#5,#6][#7]#8#9%
   {\edef\tempa{#2}\ifx\tempa\empty %TH changed line
      \mathrel{\domthxarrsingle{#7}{#1}{#4}{#8}{#9}}%
    \else
      \mathrel{\domthxarrdouble{#7}{#1}{#2}{#4}{#5}{#8}{#9}}%
    \fi}




From taco at elvenkind.com  Wed Jul 19 10:47:17 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 19 Jul 2006 10:47:17 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <6faad9f00607181714v3194624dra6843b10ac2475fa@mail.gmail.com>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln>
	<6faad9f00607181714v3194624dra6843b10ac2475fa@mail.gmail.com>
Message-ID: <44BDF195.3080900@elvenkind.com>


Hi,

Mojca Miklavec wrote:
> Now that you're all experts in arrows: I'm still looking for
> \overrightharpoonup that would:
> - be small enough, so that it would still look ok when placed over
> (dotless) i or j.
> - decrease with style:
> $\overrrightharpoonup{AB}_{\overrightharponup{CD}}$ the second arrow
> should be smaller.

That is an accent, and therefore quite different from the current
pointy stuff. Shouldnt be very hard to do though, I'll attempt
something.

> Taco - now that you have enough experince with cows: do you have any
> suggestions about how to create nice arrows with antykwa-torunska as
> well?

Because the arrows are not "flat", you mean? If we would have separate
heads, shafts and tails, we could stretch the shafts using similar
logic to cow font. But those are not in there, I assume?


Taco

From pragma at wxs.nl  Wed Jul 19 11:24:28 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 19 Jul 2006 11:24:28 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <44BDEF00.7010200@elvenkind.com>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln>
	<44BDEF00.7010200@elvenkind.com>
Message-ID: <44BDFA4C.2060302@wxs.nl>

Taco Hoekwater wrote:
> Aditya Mahajan wrote:
>   
>> Hi,
>>
>>  I am attaching myway on using matharrow. Are there any suggestions 
>> before I release it to public?
>>
>> I found some surprises while making this my way.
>>
>> 1. Somewhere along the line of development, \xrightarrow{text} changed 
>> to placing text at the bottom of the arrow (rather than the top as in 
>> amstex). This is not a bug, just something that works differently. 
>> Should this be changed? These arrow definitions are pretty new, so I do 
>> not think that a change at this stage will effect too many users. It may 
>> not be possible to change later for compatibility reasons.
>>     
>
> In the interest of porting stuff from amstex, changing the behaviour is
> probably better.
>   
\def\dodoxmtharrow[#1,#2,#3][#4,#5,#6][#7]#8#9% [3] is the optional arg
  {\ifx#2\empty
     \ifsecondargument
       \mathrel{\domthxarrsingle{#7}{#1}{#4}{#8}{#9}}%
     \else
       \mathrel{\domthxarrsingle{#7}{#1}{#4}{}{#8}}%
     \fi
   \else
     \ifsecondargument
       \mathrel{\domthxarrdouble{#7}{#1}{#2}{#4}{#5}{#8}{#9}}%
     \else
       \mathrel{\domthxarrdouble{#7}{#1}{#2}{#4}{#5}{}{#8}}%
     \fi
   \fi}
>   
>> 2. Something goes wrong with palatino (used by mag-01). Have a look at 
>> the \xmapsto and \xrightleftharpoons and \xleftrightharpoons in the pdf. 
>> \xmapsto can be corrected by changing its defintion to
>>
>> \definematharrow [xmapsto]            [3599] [\mapstofill]
>>
>> Basically, providing a bit more cusion on the left, so that the middle 
>> \relbar not overlap the \mapstochar.
>>
>> Should this definition go to math-ext.tex or to something specific to 
>> palatino. I have not tested with other fonts, but what is the general 
>> strategy when definitions differ for different fonts?
>>     
>
> something should be possible with mathcollections, I guess?
> (Hans knows this better then I do)
>
>   
it's font related, not collection related; the problem with these things 
is that in context we want to deal with mixed math font usage so we need 
to figure out a clever way
>> I could not correct leftrightharpoons. Why does this not work?
>>
>> \definematharrow [xleftrightharpoons] [3395,3359] 
>> [\leftharpoonupfill,\rightharpoondownfill]
>>     
>
> Because the current definition of dodoxmtharrow does not like it
> when the second arg starts with two identical digits. Changing
> it to this fixes the problem:
>
>    \def\dodoxmtharrow[#1,#2,#3][#4,#5,#6][#7]#8#9%
>    {\edef\tempa{#2}\ifx\tempa\empty %TH changed line
>       \mathrel{\domthxarrsingle{#7}{#1}{#4}{#8}{#9}}%
>     \else
>       \mathrel{\domthxarrdouble{#7}{#1}{#2}{#4}{#5}{#8}{#9}}%
>     \fi}
>
>   
ok, so we get

\def\dodoxmtharrow[#1,#2,#3][#4,#5,#6][#7]#8#9% [3] is the optional arg
  {\edef\!!string{#2}%
   \ifx\!!stringa\empty
     \ifsecondargument
       \mathrel{\domthxarrsingle{#7}{#1}{#4}{#8}{#9}}%
     \else
       \mathrel{\domthxarrsingle{#7}{#1}{#4}{}{#8}}%
     \fi
   \else
     \ifsecondargument
       \mathrel{\domthxarrdouble{#7}{#1}{#2}{#4}{#5}{#8}{#9}}%
     \else
       \mathrel{\domthxarrdouble{#7}{#1}{#2}{#4}{#5}{}{#8}}%
     \fi
   \fi}

Hans

-- 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From pragma at wxs.nl  Wed Jul 19 11:39:17 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 19 Jul 2006 11:39:17 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <Pine.WNT.4.63.0607181832010.3508@nqvgln>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln>
Message-ID: <44BDFDC5.5060201@wxs.nl>

Aditya Mahajan wrote:
> Hi,
>
>  I am attaching myway on using matharrow. Are there any suggestions 
> before I release it to public?
>
> I found some surprises while making this my way.
>
> 1. Somewhere along the line of development, \xrightarrow{text} changed 
> to placing text at the bottom of the arrow (rather than the top as in 
> amstex). This is not a bug, just something that works differently. 
> Should this be changed? These arrow definitions are pretty new, so I 
> do not think that a change at this stage will effect too many users. 
> It may not be possible to change later for compatibility reasons.
>
> 2. Something goes wrong with palatino (used by mag-01). Have a look at 
> the \xmapsto and \xrightleftharpoons and \xleftrightharpoons in the 
> pdf. \xmapsto can be corrected by changing its defintion to
>
> \definematharrow [xmapsto]            [3599] [\mapstofill]
>
> Basically, providing a bit more cusion on the left, so that the middle 
> \relbar not overlap the \mapstochar.
>
> Should this definition go to math-ext.tex or to something specific to 
> palatino. I have not tested with other fonts, but what is the general 
> strategy when definitions differ for different fonts?
>
> I could not correct leftrightharpoons. Why does this not work?
>
> \definematharrow [xleftrightharpoons] [3395,3359] 
> [\leftharpoonupfill,\rightharpoondownfill]
>
> \starttext
> \math{\xleftrightharpoons}
> \stoptext
>

ok, a dirty trick: when no third arg, then one redefines the dimensions

\starttext

\def\dodefinematharrow[#1][#2][#3][#4]%  
  {\iffourthargument
      \executeifdefined{dodefine#2arrow}
\gobblethreearguments{#1}{#3}{#4}%
   \else\ifthirdargument
      \dodefinebotharrow{#1}{#2}{#3}%
   \else\ifsecondargument
      \redefinebotharrow{#1}{#2}{#3}%
   \fi\fi\fi}

\def\redefinebotharrow#1#2#3%
  {\doifdefined{#1}
     {\pushmacro\dotripleempty
      \def\dotripleempty##1[##2][##3]%
{\setvalue{#1}{\dotripleempty\xmtharrow[#2][##3]}}%
      \getvalue{#1}%
      \popmacro\dotripleempty}}


\def\dodefinebotharrow#1#2#3%
  {\setvalue{#1}{\dotripleempty\xmtharrow[#2][#3]}}


\startformula \xrightarrow{stuff on top}             \stopformula

\definematharrow[xrightarrow][9999]

\startformula \xrightarrow{stuff on top}             \stopformula

\definematharrow[xrightarrow][0000]

\startformula \xrightarrow{stuff on top}             \stopformula

\stoptext


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From adityam at umich.edu  Wed Jul 19 16:03:37 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Wed, 19 Jul 2006 10:03:37 -0400 (EDT)
Subject: [dev-context] CSV, alpha 2 ;)
In-Reply-To: <44BDE73A.600@wxs.nl>
References: <6faad9f00607060709i2be9a2asce97e851d6e2473b@mail.gmail.com>
	<44B3A3AA.1010507@elvenkind.com>
	<Pine.WNT.4.63.0607182004070.3508@nqvgln> <44BDE73A.600@wxs.nl>
Message-ID: <Pine.WNT.4.63.0607191001210.3088@nqvgln>

On Wed, 19 Jul 2006, Hans Hagen wrote:

> Aditya Mahajan wrote:
>> On Tue, 11 Jul 2006, Taco Hoekwater wrote:
>>
>> 
>>> For the bib module docs I have used a hack that goes like this:
>>>
>>>   \usemodule[int-load] % preload \loadsetups command
>>>   \def\loadsetups{}    % disable loading cont-en.xml
>>>   \usemodule[mod-01]
>>>   \startXMLmapping[zero]
>>>   \processXMLfilegrouped{t-bib.xml}
>>>   \stopXMLmapping
>>> 
>>> It seems this part of the core needs a minor extension to make it easier
>>> to document modules (but it may be that you have that already :))
>>> 
>> 
>> Well, after a suggestion from Mojca, the simplest way seems to the 
>> following
>> 
>> \usemodule[int-load]    %Allow context to parse xml markup
>> \loadsetups[arrows.xml] %Name of the file with xml markup
>> 
>> % Get gray backgrounds for setups
>> \setupframedtexts
>>     [setuptext]
>>     [background=screen,
>>      frame=off]
>> 
>> 
>> Then you can use \setup{command} to show its syntax.
>> 
>> \showsetup is just defined as
>> 
>> \def\showsetup#1%
>>    {{\def\y##1{\writestatus{setups}{warning: remove y! from #1}}%
>>      \setup{#1}}}
>> 
>> which seems to do some checking for commands that defined twice.
>> 
>> For the purpose of documenting modules one can even say
>> 
>> \let\showsetup\setup
>> 
>
> i didn;t closely follow this thread ... what exactly is the problem

How should one load setup definitions that are not in cont-en.xml? Is 
this the correct way

\usemodule[int-load]
\loadsetups[my-defs.xml]

\starttext
\setup{my-command}
\stoptext

Aditya

From pragma at wxs.nl  Wed Jul 19 16:36:25 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 19 Jul 2006 16:36:25 +0200
Subject: [dev-context] CSV, alpha 2 ;)
In-Reply-To: <Pine.WNT.4.63.0607191001210.3088@nqvgln>
References: <6faad9f00607060709i2be9a2asce97e851d6e2473b@mail.gmail.com>
	<44B3A3AA.1010507@elvenkind.com>
	<Pine.WNT.4.63.0607182004070.3508@nqvgln> <44BDE73A.600@wxs.nl>
	<Pine.WNT.4.63.0607191001210.3088@nqvgln>
Message-ID: <44BE4369.5040204@wxs.nl>

Aditya Mahajan wrote:
> On Wed, 19 Jul 2006, Hans Hagen wrote:
>
>> Aditya Mahajan wrote:
>>> On Tue, 11 Jul 2006, Taco Hoekwater wrote:
>>>
>>>
>>>> For the bib module docs I have used a hack that goes like this:
>>>>
>>>>   \usemodule[int-load] % preload \loadsetups command
>>>>   \def\loadsetups{}    % disable loading cont-en.xml
>>>>   \usemodule[mod-01]
>>>>   \startXMLmapping[zero]
>>>>   \processXMLfilegrouped{t-bib.xml}
>>>>   \stopXMLmapping
>>>>
>>>> It seems this part of the core needs a minor extension to make it 
>>>> easier
>>>> to document modules (but it may be that you have that already :))
>>>>
>>>
>>> Well, after a suggestion from Mojca, the simplest way seems to the 
>>> following
>>>
>>> \usemodule[int-load]    %Allow context to parse xml markup
>>> \loadsetups[arrows.xml] %Name of the file with xml markup
>>>
>>> % Get gray backgrounds for setups
>>> \setupframedtexts
>>>     [setuptext]
>>>     [background=screen,
>>>      frame=off]
>>>
>>>
>>> Then you can use \setup{command} to show its syntax.
>>>
>>> \showsetup is just defined as
>>>
>>> \def\showsetup#1%
>>>    {{\def\y##1{\writestatus{setups}{warning: remove y! from #1}}%
>>>      \setup{#1}}}
>>>
>>> which seems to do some checking for commands that defined twice.
>>>
>>> For the purpose of documenting modules one can even say
>>>
>>> \let\showsetup\setup
>>>
>>
>> i didn;t closely follow this thread ... what exactly is the problem
>
> How should one load setup definitions that are not in cont-en.xml? Is 
> this the correct way
>
> \usemodule[int-load]
> \loadsetups[my-defs.xml]
>
> \starttext
> \setup{my-command}
> \stoptext
indeed

-- 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From adityam at umich.edu  Wed Jul 19 16:51:37 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Wed, 19 Jul 2006 10:51:37 -0400 (EDT)
Subject: [dev-context] My way on matharrows
In-Reply-To: <44BDFDC5.5060201@wxs.nl>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
Message-ID: <Pine.WNT.4.63.0607191041550.3088@nqvgln>

On Wed, 19 Jul 2006, Hans Hagen wrote:

> Aditya Mahajan wrote:
>> Hi,
>>
>>  I am attaching myway on using matharrow. Are there any suggestions before 
>> I release it to public?
>> 
>> I found some surprises while making this my way.
>> 
>> 1. Somewhere along the line of development, \xrightarrow{text} changed to 
>> placing text at the bottom of the arrow (rather than the top as in amstex). 
>> This is not a bug, just something that works differently. Should this be 
>> changed? These arrow definitions are pretty new, so I do not think that a 
>> change at this stage will effect too many users. It may not be possible to 
>> change later for compatibility reasons.
>> 
>> 2. Something goes wrong with palatino (used by mag-01). Have a look at the 
>> \xmapsto and \xrightleftharpoons and \xleftrightharpoons in the pdf. 
>> \xmapsto can be corrected by changing its defintion to
>> 
>> \definematharrow [xmapsto]            [3599] [\mapstofill]
>> 
>> Basically, providing a bit more cusion on the left, so that the middle 
>> \relbar not overlap the \mapstochar.
>> 
>> Should this definition go to math-ext.tex or to something specific to 
>> palatino. I have not tested with other fonts, but what is the general 
>> strategy when definitions differ for different fonts?
>> 
>> I could not correct leftrightharpoons. Why does this not work?
>> 
>> \definematharrow [xleftrightharpoons] [3395,3359] 
>> [\leftharpoonupfill,\rightharpoondownfill]
>> 
>> \starttext
>> \math{\xleftrightharpoons}
>> \stoptext
>> 
>
> ok, a dirty trick: when no third arg, then one redefines the dimensions

Great. Now we can redefine arrows in font specific scenarios. For 
mapsto I think that a global redefinition in math-ext to

\definematharrow [xmapsto]            [3599] [\mapstofill]

works fine for lm, palatino and times. For leftrightharpoons, I need 
more time to come up with something that is suitable for all fonts. If 
nothing works out, only then we would need to do font specific 
behaviour (I wish to avoid that, if possible.)

For all this trouble, here are some bonus arrows :-)

\def\hookleftfill  {\mtharrowfill \leftarrow \relbar {\relbar\joinrel\rhook}}

\def\hookrightfill {\mtharrowfill {\lhook\joinrel\relbar} \relbar \rightarrow}

\definematharrow [xhookleftarrow]  [3095] [\hookleftfill]
\definematharrow [xhookrightarrow] [0395] [\hookrightfill]


Aditya

From taco at elvenkind.com  Wed Jul 19 16:57:49 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 19 Jul 2006 16:57:49 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <Pine.WNT.4.63.0607191041550.3088@nqvgln>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
Message-ID: <44BE486D.4080307@elvenkind.com>


Aditya,

Aditya Mahajan wrote:
> 
> Great. Now we can redefine arrows in font specific scenarios. For 
> mapsto I think that a global redefinition in math-ext to

Are you keeping track of all those math-ext.tex extensions today?

Taco

From pragma at wxs.nl  Wed Jul 19 17:18:09 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 19 Jul 2006 17:18:09 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <44BE486D.4080307@elvenkind.com>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
	<44BE486D.4080307@elvenkind.com>
Message-ID: <44BE4D31.5000206@wxs.nl>

Taco Hoekwater wrote:
>
> Aditya,
>
> Aditya Mahajan wrote:
>>
>> Great. Now we can redefine arrows in font specific scenarios. For 
>> mapsto I think that a global redefinition in math-ext to
>
> Are you keeping track of all those math-ext.tex extensions today?
i'll make an alpha release 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From adityam at umich.edu  Wed Jul 19 17:01:49 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Wed, 19 Jul 2006 11:01:49 -0400 (EDT)
Subject: [dev-context] My way on matharrows
In-Reply-To: <44BE486D.4080307@elvenkind.com>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
	<44BE486D.4080307@elvenkind.com>
Message-ID: <Pine.WNT.4.63.0607191100460.3088@nqvgln>

On Wed, 19 Jul 2006, Taco Hoekwater wrote:

>
> Aditya,
>
> Aditya Mahajan wrote:
>> 
>> Great. Now we can redefine arrows in font specific scenarios. For mapsto I 
>> think that a global redefinition in math-ext to
>
> Are you keeping track of all those math-ext.tex extensions today?

I am (rather I hope I am). I will send an updated math-ext.tex once I 
can figure something about harpoons.

Aditya

From taco at elvenkind.com  Wed Jul 19 16:56:13 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 19 Jul 2006 16:56:13 +0200
Subject: [dev-context] CSV, alpha 2 ;)
In-Reply-To: <44BE4369.5040204@wxs.nl>
References: <6faad9f00607060709i2be9a2asce97e851d6e2473b@mail.gmail.com>	<44B3A3AA.1010507@elvenkind.com>	<Pine.WNT.4.63.0607182004070.3508@nqvgln>
	<44BDE73A.600@wxs.nl>	<Pine.WNT.4.63.0607191001210.3088@nqvgln>
	<44BE4369.5040204@wxs.nl>
Message-ID: <44BE480D.9060707@elvenkind.com>



Hans Hagen wrote:
>>>>
>>>>\usemodule[int-load]    %Allow context to parse xml markup
>>>>\loadsetups[arrows.xml] %Name of the file with xml markup
>>>>
>>>>% Get gray backgrounds for setups
>>>>\setupframedtexts
>>>>    [setuptext]
>>>>    [background=screen,
>>>>     frame=off]
>>>>
>>>>
>>>>Then you can use \setup{command} to show its syntax.
>>>>
>>>>\showsetup is just defined as
>>>>
>>>>\def\showsetup#1%
>>>>   {{\def\y##1{\writestatus{setups}{warning: remove y! from #1}}%
>>>>     \setup{#1}}}
>>>>
>>>>which seems to do some checking for commands that defined twice.
>>>>
>>>>For the purpose of documenting modules one can even say
>>>>
>>>>\let\showsetup\setup
>>>>
>>>
>>>i didn;t closely follow this thread ... what exactly is the problem
>>
>>How should one load setup definitions that are not in cont-en.xml? Is 
>>this the correct way
>>
>>\usemodule[int-load]
>>\loadsetups[my-defs.xml]
>>
>>\starttext
>>\setup{my-command}
>>\stoptext
> 
> indeed
> 

Also, it would be nice if there was a clean way to *not* load
cont-en.xml when using mod-00 to document as user module
(since loading cont-en is quite slow). The current 'solution' is:

   \usemodule[int-load]
   \def\simpleloadsetups{}
   \usemodule[mod-00]

which is certainly not a very nice way.

Greetings, Taco



From pragma at wxs.nl  Wed Jul 19 17:53:38 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 19 Jul 2006 17:53:38 +0200
Subject: [dev-context] CSV, alpha 2 ;)
In-Reply-To: <44BE480D.9060707@elvenkind.com>
References: <6faad9f00607060709i2be9a2asce97e851d6e2473b@mail.gmail.com>
	<44B3A3AA.1010507@elvenkind.com>
	<Pine.WNT.4.63.0607182004070.3508@nqvgln> <44BDE73A.600@wxs.nl>
	<Pine.WNT.4.63.0607191001210.3088@nqvgln>
	<44BE4369.5040204@wxs.nl> <44BE480D.9060707@elvenkind.com>
Message-ID: <44BE5582.5090005@wxs.nl>

Taco Hoekwater wrote:
>
>>
>
> Also, it would be nice if there was a clean way to *not* load
> cont-en.xml when using mod-00 to document as user module
> (since loading cont-en is quite slow). The current 'solution' is:
>
>   \usemodule[int-load]
>   \def\simpleloadsetups{}
>   \usemodule[mod-00]
>
> which is certainly not a very nice way.

maybe something:

\def\simpleloadsetups
  {\doifnotmode{no-setup-main}
     {\complexloadsetups[cont-en.xml]}}

\def\complexloadsetups[#1]%
  {\doifnotmode{no-setup-all}
     {\startXMLmapping[zero]
      \processXMLfilegrouped{#1}
      \stopXMLmapping}}
 

so that one can run with --mode=no-setup-main 



-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From pragma at wxs.nl  Wed Jul 19 17:57:13 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 19 Jul 2006 17:57:13 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <Pine.WNT.4.63.0607191041550.3088@nqvgln>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
Message-ID: <44BE5659.5020409@wxs.nl>

Aditya Mahajan wrote:
> For all this trouble, here are some bonus arrows :-)
>
> \def\hookleftfill  {\mtharrowfill \leftarrow \relbar 
> {\relbar\joinrel\rhook}}
>
> \def\hookrightfill {\mtharrowfill {\lhook\joinrel\relbar} \relbar 
> \rightarrow}
>
> \definematharrow [xhookleftarrow]  [3095] [\hookleftfill]
> \definematharrow [xhookrightarrow] [0395] [\hookrightfill]
>
added

Hans  

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From pragma at wxs.nl  Wed Jul 19 18:22:16 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 19 Jul 2006 18:22:16 +0200
Subject: [dev-context] alpha release
Message-ID: <44BE5C38.6000102@wxs.nl>

I uploaded an alpha with the discussed patches

- math
- module
- font fix

(we need to figure out a name scheme for the additional setup files, maybe math-ext-en.xml and alike) 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From adityam at umich.edu  Wed Jul 19 18:30:14 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Wed, 19 Jul 2006 12:30:14 -0400 (EDT)
Subject: [dev-context] alpha release
In-Reply-To: <44BE5C38.6000102@wxs.nl>
References: <44BE5C38.6000102@wxs.nl>
Message-ID: <Pine.WNT.4.63.0607191228390.2260@nqvgln>

On Wed, 19 Jul 2006, Hans Hagen wrote:

> I uploaded an alpha with the discussed patches
>
> - math
> - module
> - font fix
>
> (we need to figure out a name scheme for the additional setup files, maybe math-ext-en.xml and alike)

Does the xml syntax support something like \input? Then we can split 
all setup commands according to filenames and input all of them in 
cont-en. I guess that would also involve changing the generation of 
syntax files for various editors.

Aditya



From adityam at umich.edu  Wed Jul 19 19:12:52 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Wed, 19 Jul 2006 13:12:52 -0400 (EDT)
Subject: [dev-context] My way on matharrows
In-Reply-To: <44BE4D31.5000206@wxs.nl>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
	<44BE486D.4080307@elvenkind.com> <44BE4D31.5000206@wxs.nl>
Message-ID: <Pine.WNT.4.63.0607191257230.3504@nqvgln>

On Wed, 19 Jul 2006, Hans Hagen wrote:

> Taco Hoekwater wrote:
>> 
>> Aditya,
>> 
>> Aditya Mahajan wrote:
>>> 
>>> Great. Now we can redefine arrows in font specific scenarios. For mapsto I 
>>> think that a global redefinition in math-ext to
>> 
>> Are you keeping track of all those math-ext.tex extensions today?
> i'll make an alpha release

I think that I have finally managed to come up with the magic numbers. 
The following work fine for LM, times, fourier and palatino. \xmapsto 
also works fine with euler, but harpoons do not work with euler 
(missing symbols).

Hans, can you change the definitions in math-ext to

\definematharrow [xmapsto]            [3599]      [\mapstofill]
\definematharrow [xleftrightharpoons] [3399,3399] [\leftharpoonupfill,\rightharpoondownfill]
\definematharrow [xrightleftharpoons] [3399,3399] [\rightharpoonupfill,\leftharpoondownfill]

None of the extensible arrows work with antykwa-torunska as \relbar is 
not of fixed width in that font. Are there any other free math fonts 
that I should check?

Aditya


From pragma at wxs.nl  Wed Jul 19 19:30:37 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 19 Jul 2006 19:30:37 +0200
Subject: [dev-context] alpha release
In-Reply-To: <Pine.WNT.4.63.0607191228390.2260@nqvgln>
References: <44BE5C38.6000102@wxs.nl> <Pine.WNT.4.63.0607191228390.2260@nqvgln>
Message-ID: <44BE6C3D.5030405@wxs.nl>

Aditya Mahajan wrote:
> On Wed, 19 Jul 2006, Hans Hagen wrote:
>
>> I uploaded an alpha with the discussed patches
>>
>> - math
>> - module
>> - font fix
>>
>> (we need to figure out a name scheme for the additional setup files, 
>> maybe math-ext-en.xml and alike)
>
> Does the xml syntax support something like \input? Then we can split 
> all setup commands according to filenames and input all of them in 
> cont-en. I guess that would also involve changing the generation of 
> syntax files for various editors.
>
it supports anything we want -) 

\defineXMLsingular [cd:include] [file=]
  {\complexloadsetups[\XMLop{file}]}

<cd:include file='yourtestfile.xml'/>

loading would be slower of course, but you can play with it a bit 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Wed Jul 19 20:03:09 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 19 Jul 2006 20:03:09 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <Pine.WNT.4.63.0607191257230.3504@nqvgln>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
	<44BE486D.4080307@elvenkind.com> <44BE4D31.5000206@wxs.nl>
	<Pine.WNT.4.63.0607191257230.3504@nqvgln>
Message-ID: <44BE73DD.6010300@elvenkind.com>

Aditya Mahajan wrote:
> None of the extensible arrows work with antykwa-torunska as \relbar is 
> not of fixed width in that font. Are there any other free math fonts 
> that I should check?

iwona and kurier have math nowadays, don't they?

Taco

From mojca.miklavec.lists at gmail.com  Wed Jul 19 22:31:00 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 19 Jul 2006 22:31:00 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <Pine.WNT.4.63.0607191257230.3504@nqvgln>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
	<44BE486D.4080307@elvenkind.com> <44BE4D31.5000206@wxs.nl>
	<Pine.WNT.4.63.0607191257230.3504@nqvgln>
Message-ID: <6faad9f00607191331r4b8c1193v933fd888dc0f0825@mail.gmail.com>

On 7/19/06, Aditya Mahajan wrote:
> None of the extensible arrows work with antykwa-torunska as \relbar is
> not of fixed width in that font. Are there any other free math fonts
> that I should check?

http://ctan.tug.org/tex-archive/info/Free_Math_Font_Survey/survey.html

To Taco: Polish guys are open to suggestions. Could you explain them
what exactly is needed?  I'm sure that they will add that to their
font(s).

An interesting approach that I saw in OpenOffice (which I use once per
year): there's an arrow and an arrow extension + kerning defined
between the two, so that software doesn't need to think about proper
placement. If you put arrow extention and the arrow, they will be
properly kerned to make a nice longer arrow.

Mojca

From mojca.miklavec.lists at gmail.com  Wed Jul 19 22:36:36 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 19 Jul 2006 22:36:36 +0200
Subject: [dev-context] CSV, alpha 2 ;)
In-Reply-To: <44BE5582.5090005@wxs.nl>
References: <6faad9f00607060709i2be9a2asce97e851d6e2473b@mail.gmail.com>
	<44B3A3AA.1010507@elvenkind.com>
	<Pine.WNT.4.63.0607182004070.3508@nqvgln> <44BDE73A.600@wxs.nl>
	<Pine.WNT.4.63.0607191001210.3088@nqvgln> <44BE4369.5040204@wxs.nl>
	<44BE480D.9060707@elvenkind.com> <44BE5582.5090005@wxs.nl>
Message-ID: <6faad9f00607191336s4ba1dac0g8a17e8d04d49f013@mail.gmail.com>

On 7/19/06, Hans Hagen wrote:
> Taco Hoekwater wrote:
> >
> >>
> >
> > Also, it would be nice if there was a clean way to *not* load
> > cont-en.xml when using mod-00 to document as user module
> > (since loading cont-en is quite slow). The current 'solution' is:
> >
> >   \usemodule[int-load]
> >   \def\simpleloadsetups{}
> >   \usemodule[mod-00]
> >
> > which is certainly not a very nice way.
>
> maybe something:
>
> \def\simpleloadsetups
>   {\doifnotmode{no-setup-main}
>      {\complexloadsetups[cont-en.xml]}}
>
> \def\complexloadsetups[#1]%
>   {\doifnotmode{no-setup-all}
>      {\startXMLmapping[zero]
>       \processXMLfilegrouped{#1}
>       \stopXMLmapping}}
>
>
> so that one can run with --mode=no-setup-main

I might be wrong here, but wouldn't it make more sense that one has to
load cont-en.xml explicitely rather than having to say explicitely
that one doesn't want to load it?

Mojca

From adityam at umich.edu  Wed Jul 19 23:55:47 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Wed, 19 Jul 2006 17:55:47 -0400 (EDT)
Subject: [dev-context] My way on matharrows
In-Reply-To: <44BE73DD.6010300@elvenkind.com>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
	<44BE486D.4080307@elvenkind.com>
	<44BE4D31.5000206@wxs.nl> <Pine.WNT.4.63.0607191257230.3504@nqvgln>
	<44BE73DD.6010300@elvenkind.com>
Message-ID: <Pine.WNT.4.63.0607191747200.3112@nqvgln>

On Wed, 19 Jul 2006, Taco Hoekwater wrote:

> Aditya Mahajan wrote:
>> None of the extensible arrows work with antykwa-torunska as \relbar is not 
>> of fixed width in that font. Are there any other free math fonts that I 
>> should check?
>
> iwona and kurier have math nowadays, don't they?

Tested for iwona and it works fine. I do not know how to get kurier to 
work (I was looking at typescripts defined in type-exa and kurier is 
not there).

Regarding the free fonts survey that Mojca sent, I do not know how to 
use others in Context. Can typescripts for these be included in 
type-exa?

Aditya

From pragma at wxs.nl  Thu Jul 20 09:45:25 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Thu, 20 Jul 2006 09:45:25 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <Pine.WNT.4.63.0607191747200.3112@nqvgln>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
	<44BE486D.4080307@elvenkind.com> <44BE4D31.5000206@wxs.nl>
	<Pine.WNT.4.63.0607191257230.3504@nqvgln>
	<44BE73DD.6010300@elvenkind.com>
	<Pine.WNT.4.63.0607191747200.3112@nqvgln>
Message-ID: <44BF3495.1020208@wxs.nl>

Aditya Mahajan wrote:
> On Wed, 19 Jul 2006, Taco Hoekwater wrote:
>
>> Aditya Mahajan wrote:
>>> None of the extensible arrows work with antykwa-torunska as \relbar 
>>> is not of fixed width in that font. Are there any other free math 
>>> fonts that I should check?
>>
>> iwona and kurier have math nowadays, don't they?
>
> Tested for iwona and it works fine. I do not know how to get kurier to 
> work (I was looking at typescripts defined in type-exa and kurier is 
> not there).
>
\usetypescript[iwona] [texnansi]
\usetypescript[kurier][texnansi]


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Thu Jul 20 10:30:13 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 20 Jul 2006 10:30:13 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <6faad9f00607191331r4b8c1193v933fd888dc0f0825@mail.gmail.com>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln>
	<44BDFDC5.5060201@wxs.nl>	<Pine.WNT.4.63.0607191041550.3088@nqvgln>	<44BE486D.4080307@elvenkind.com>
	<44BE4D31.5000206@wxs.nl>	<Pine.WNT.4.63.0607191257230.3504@nqvgln>
	<6faad9f00607191331r4b8c1193v933fd888dc0f0825@mail.gmail.com>
Message-ID: <44BF3F15.5060303@elvenkind.com>



Mojca Miklavec wrote:
> On 7/19/06, Aditya Mahajan wrote:
> 
>>None of the extensible arrows work with antykwa-torunska as \relbar is
>>not of fixed width in that font. Are there any other free math fonts
>>that I should check?
> 
> 
> http://ctan.tug.org/tex-archive/info/Free_Math_Font_Survey/survey.html
> 
> To Taco: Polish guys are open to suggestions. Could you explain them
> what exactly is needed?  I'm sure that they will add that to their
> font(s).

I am yet undecided what the best solution would be. There are
basically two options:

   <head><leaders stem><tail>
and
   <head><stem streched using CM><tail>

The first case works always (and is the approach used by the cow font)
but this looks sub-optimal for fonts like torunska, the second one
only works if the CM can be adjusted but will generally look better.

I would like to know how many backends cannot do the stretching.

Both solutions need special characters in the font, but the first
solution needs slightly different ones than the second one.

Cheers,

Taco

From pragma at wxs.nl  Thu Jul 20 12:39:49 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Thu, 20 Jul 2006 12:39:49 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <44BF3F15.5060303@elvenkind.com>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
	<44BE486D.4080307@elvenkind.com> <44BE4D31.5000206@wxs.nl>
	<Pine.WNT.4.63.0607191257230.3504@nqvgln>
	<6faad9f00607191331r4b8c1193v933fd888dc0f0825@mail.gmail.com>
	<44BF3F15.5060303@elvenkind.com>
Message-ID: <44BF5D75.6030305@wxs.nl>

Taco Hoekwater wrote:
> Mojca Miklavec wrote:
>   
>> On 7/19/06, Aditya Mahajan wrote:
>>
>>     
>>> None of the extensible arrows work with antykwa-torunska as \relbar is
>>> not of fixed width in that font. Are there any other free math fonts
>>> that I should check?
>>>       
>> http://ctan.tug.org/tex-archive/info/Free_Math_Font_Survey/survey.html
>>
>> To Taco: Polish guys are open to suggestions. Could you explain them
>> what exactly is needed?  I'm sure that they will add that to their
>> font(s).
>>     
>
> I am yet undecided what the best solution would be. There are
> basically two options:
>
>    <head><leaders stem><tail>
> and
>    <head><stem streched using CM><tail>
>
> The first case works always (and is the approach used by the cow font)
> but this looks sub-optimal for fonts like torunska, the second one
> only works if the CM can be adjusted but will generally look better.
>
> I would like to know how many backends cannot do the stretching.
>
> Both solutions need special characters in the font, but the first
> solution needs slightly different ones than the second one.
>   
how about supporting both methods,


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Thu Jul 20 14:25:21 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 20 Jul 2006 14:25:21 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <44BF5D75.6030305@wxs.nl>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
	<44BE486D.4080307@elvenkind.com> <44BE4D31.5000206@wxs.nl>
	<Pine.WNT.4.63.0607191257230.3504@nqvgln>
	<6faad9f00607191331r4b8c1193v933fd888dc0f0825@mail.gmail.com>
	<44BF3F15.5060303@elvenkind.com> <44BF5D75.6030305@wxs.nl>
Message-ID: <44BF7631.2010302@elvenkind.com>



Hans Hagen wrote:
>> I would like to know how many backends cannot do the stretching.
>>
>> Both solutions need special characters in the font, but the first
>> solution needs slightly different ones than the second one.
>>   
> how about supporting both methods,

I'll get back to this after the cows are finished

Taco

From mojca.miklavec.lists at gmail.com  Thu Jul 20 16:26:06 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 20 Jul 2006 16:26:06 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <44BF7631.2010302@elvenkind.com>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
	<44BE486D.4080307@elvenkind.com> <44BE4D31.5000206@wxs.nl>
	<Pine.WNT.4.63.0607191257230.3504@nqvgln>
	<6faad9f00607191331r4b8c1193v933fd888dc0f0825@mail.gmail.com>
	<44BF3F15.5060303@elvenkind.com> <44BF5D75.6030305@wxs.nl>
	<44BF7631.2010302@elvenkind.com>
Message-ID: <6faad9f00607200726t2ba99b5djfc94744b890ca466@mail.gmail.com>

On 7/20/06, Taco Hoekwater wrote:
>
> Hans Hagen wrote:
> >> I would like to know how many backends cannot do the stretching.
> >>
> >> Both solutions need special characters in the font, but the first
> >> solution needs slightly different ones than the second one.
> >>
> > how about supporting both methods,
>
> I'll get back to this after the cows are finished

Thanks!

Do you have any slides/whatever material with cows published somewhere?

Mojca

From taco at elvenkind.com  Thu Jul 20 16:37:05 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 20 Jul 2006 16:37:05 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <6faad9f00607200726t2ba99b5djfc94744b890ca466@mail.gmail.com>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln>
	<44BDFDC5.5060201@wxs.nl>	
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>	
	<44BE486D.4080307@elvenkind.com> <44BE4D31.5000206@wxs.nl>	
	<Pine.WNT.4.63.0607191257230.3504@nqvgln>	
	<6faad9f00607191331r4b8c1193v933fd888dc0f0825@mail.gmail.com>	
	<44BF3F15.5060303@elvenkind.com> <44BF5D75.6030305@wxs.nl>	
	<44BF7631.2010302@elvenkind.com>
	<6faad9f00607200726t2ba99b5djfc94744b890ca466@mail.gmail.com>
Message-ID: <44BF9511.8000406@elvenkind.com>



Mojca Miklavec wrote:
> On 7/20/06, Taco Hoekwater wrote:
> 
>>
>> Hans Hagen wrote:
>> >> I would like to know how many backends cannot do the stretching.
>> >>
>> >> Both solutions need special characters in the font, but the first
>> >> solution needs slightly different ones than the second one.
>> >>
>> > how about supporting both methods,
>>
>> I'll get back to this after the cows are finished
> 
> 
> Thanks!
> 
> Do you have any slides/whatever material with cows published somewhere?

There is a cow paper in the preprints of eurotex2006, but the only
published material at this point is here:

   http://wiki.contextgarden.net/Context_2006.07.13 :)

What did you have in mind? (that paper will also appear in this
autumns maps issue, and I know that Hans is working on manual but
that is not finished yet).

Taco

From mojca.miklavec.lists at gmail.com  Thu Jul 20 16:47:42 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 20 Jul 2006 16:47:42 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <44BF9511.8000406@elvenkind.com>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln>
	<44BE486D.4080307@elvenkind.com> <44BE4D31.5000206@wxs.nl>
	<Pine.WNT.4.63.0607191257230.3504@nqvgln>
	<6faad9f00607191331r4b8c1193v933fd888dc0f0825@mail.gmail.com>
	<44BF3F15.5060303@elvenkind.com> <44BF5D75.6030305@wxs.nl>
	<44BF7631.2010302@elvenkind.com>
	<6faad9f00607200726t2ba99b5djfc94744b890ca466@mail.gmail.com>
	<44BF9511.8000406@elvenkind.com>
Message-ID: <6faad9f00607200747w116637d4pda69ef59395cbc47@mail.gmail.com>

On 7/20/06, Taco Hoekwater <taco at elvenkind.com> wrote:
>
>
> Mojca Miklavec wrote:
> > On 7/20/06, Taco Hoekwater wrote:
> >
> >>
> >> Hans Hagen wrote:
> >> >> I would like to know how many backends cannot do the stretching.
> >> >>
> >> >> Both solutions need special characters in the font, but the first
> >> >> solution needs slightly different ones than the second one.
> >> >>
> >> > how about supporting both methods,
> >>
> >> I'll get back to this after the cows are finished
> >
> >
> > Thanks!
> >
> > Do you have any slides/whatever material with cows published somewhere?
>
> There is a cow paper in the preprints of eurotex2006,

Great! (Is it going to be sent to LUG members as last year or is there
any other way to get it?)

> but the only
> published material at this point is here:
>
>    http://wiki.contextgarden.net/Context_2006.07.13 :)

A question to Patrick: the font is very blurred (or however you may
call it). I remember a discussion on this issue some time ago, but
this time it really seems to me that the fonts should be more sharp.
What's the reason for using
    convert -blur 0.2 ... if this could be done by gs already by
setting -r150 instead of having to additionally scale down the image?

> What did you have in mind? (that paper will also appear in this
> autumns maps issue, and I know that Hans is working on manual but
> that is not finished yet).

Even "more great" ;)

Mojca

From pragma at wxs.nl  Thu Jul 20 17:05:19 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Thu, 20 Jul 2006 17:05:19 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <6faad9f00607200747w116637d4pda69ef59395cbc47@mail.gmail.com>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln>
	<44BE486D.4080307@elvenkind.com> <44BE4D31.5000206@wxs.nl>
	<Pine.WNT.4.63.0607191257230.3504@nqvgln>
	<6faad9f00607191331r4b8c1193v933fd888dc0f0825@mail.gmail.com>
	<44BF3F15.5060303@elvenkind.com> <44BF5D75.6030305@wxs.nl>
	<44BF7631.2010302@elvenkind.com>
	<6faad9f00607200726t2ba99b5djfc94744b890ca466@mail.gmail.com>
	<44BF9511.8000406@elvenkind.com>
	<6faad9f00607200747w116637d4pda69ef59395cbc47@mail.gmail.com>
Message-ID: <44BF9BAF.10303@wxs.nl>

Mojca Miklavec wrote:
> Great! (Is it going to be sent to LUG members as last year or is there
> any other way to get it?)
>   
i assume that (as last year) it will end up in the postbox of lug members

btw, you've seen the colorful slides in den helder so ...

Hans


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From mojca.miklavec.lists at gmail.com  Thu Jul 20 17:11:08 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 20 Jul 2006 17:11:08 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <44BF9BAF.10303@wxs.nl>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln>
	<Pine.WNT.4.63.0607191257230.3504@nqvgln>
	<6faad9f00607191331r4b8c1193v933fd888dc0f0825@mail.gmail.com>
	<44BF3F15.5060303@elvenkind.com> <44BF5D75.6030305@wxs.nl>
	<44BF7631.2010302@elvenkind.com>
	<6faad9f00607200726t2ba99b5djfc94744b890ca466@mail.gmail.com>
	<44BF9511.8000406@elvenkind.com>
	<6faad9f00607200747w116637d4pda69ef59395cbc47@mail.gmail.com>
	<44BF9BAF.10303@wxs.nl>
Message-ID: <6faad9f00607200811r135d796bie9278511d30283d7@mail.gmail.com>

On 7/20/06, Hans Hagen wrote:
> Mojca Miklavec wrote:
> > Great! (Is it going to be sent to LUG members as last year or is there
> > any other way to get it?)
> >
> i assume that (as last year) it will end up in the postbox of lug members
>
> btw, you've seen the colorful slides in den helder so ...

True, but the others didn't (it's a pitty that materials from NTG
meetings "get lost").

(And I would really like to see the source of those wonderful slides.
I'm impressed how well the quare root now works ;)

Mojca

From taco at elvenkind.com  Thu Jul 20 17:55:52 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 20 Jul 2006 17:55:52 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <6faad9f00607200811r135d796bie9278511d30283d7@mail.gmail.com>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln>	<Pine.WNT.4.63.0607191257230.3504@nqvgln>	<6faad9f00607191331r4b8c1193v933fd888dc0f0825@mail.gmail.com>	<44BF3F15.5060303@elvenkind.com>
	<44BF5D75.6030305@wxs.nl>	<44BF7631.2010302@elvenkind.com>	<6faad9f00607200726t2ba99b5djfc94744b890ca466@mail.gmail.com>	<44BF9511.8000406@elvenkind.com>	<6faad9f00607200747w116637d4pda69ef59395cbc47@mail.gmail.com>	<44BF9BAF.10303@wxs.nl>
	<6faad9f00607200811r135d796bie9278511d30283d7@mail.gmail.com>
Message-ID: <44BFA788.2050607@elvenkind.com>



Mojca Miklavec wrote:
> True, but the others didn't (it's a pitty that materials from NTG
> meetings "get lost").
> 
> (And I would really like to see the source of those wonderful slides.
> I'm impressed how well the quare root now works ;)

I am not so happy yet myself. $\sqrt{\frac12}$ has much too much
whitespace, and $\sqrt{\frac{\frac12}{\frac34}}$ is just plain wrong
:(


Anyway, the slides are mostly just \externalfigures, but the paper
is sort of interesting. It is here:

   http://matexhu.org/eurotex2006/papers/Taco2/

but please do not publish that anywhere since it is not finished yet.

Taco

From arkady.shraer at gmail.com  Thu Jul 20 18:54:50 2006
From: arkady.shraer at gmail.com (Ark Shraer)
Date: Thu, 20 Jul 2006 19:54:50 +0300
Subject: [dev-context] cont-xx.xml translating
Message-ID: <a4d893340607200954u34b97d41v5aec4decb6860da3@mail.gmail.com>

Hello,

I'd like to start translate cont-en.xml and keys-en.xml into russian.
I looked at other translations and in the mailing list archives but it
still unclear for me what to translate in these files?

I have a several questions (if it's isn't annoying :)
1. Is there a common rule of what tags to translate?
2. What the meaning of cont-xx.xml and keys-xx.xml?
3. Some terms are unclear. How can I know the meaning of them (e.g.
"quote" and "quotation", "intermezzo", "hfactor") in ConTeXt context
:)  ?
4. "setupbodyfont" -- spaces in translation must be omitted also?
5. How can I test my translation in my environment first?

Thats all. Excuse me for that storm of questions :)

Cheers, Arkady

From pragma at wxs.nl  Thu Jul 20 20:14:44 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Thu, 20 Jul 2006 20:14:44 +0200
Subject: [dev-context] cont-xx.xml translating
In-Reply-To: <a4d893340607200954u34b97d41v5aec4decb6860da3@mail.gmail.com>
References: <a4d893340607200954u34b97d41v5aec4decb6860da3@mail.gmail.com>
Message-ID: <44BFC814.7050402@wxs.nl>

Ark Shraer wrote:
> Hello,
>
> I'd like to start translate cont-en.xml and keys-en.xml into russian.
> I looked at other translations and in the mailing list archives but it
> still unclear for me what to translate in these files?
>   
nothing

if you want an russian user interface, they you need to extend the 
tables in mult-con.tex and mult-com.tex

but since you want messages only you need to make message tables:

 >grep "startmessages.*english" *.tex
colo-ini.tex:\startmessages  english  library: colors
core-buf.tex:\startmessages  english  library: textblocks
core-dat.tex:\startmessages  english  library: databases
core-fig.tex:\startmessages  english  library: figures
core-fil.tex:\startmessages  english  library: files
core-int.tex:\startmessages  english  library: interactions
core-int.tex:\startmessages  english  library: versions
core-itm.tex:\startmessages  english  library: layouts
core-mis.tex:% \startmessages  english  library: systems
core-mis.tex:\startmessages  english  library: systems
core-obj.tex:\startmessages  english  library: references
core-ref.tex:\startmessages  english  library: references
core-sec.tex:\startmessages  english  library: structures
core-ver.tex:\startmessages  english  library: verbatims
docs-bri.tex:\startmessages  english  library: documents
docs-she.tex:\startmessages  english  library: documents
enco-ini.tex:\startmessages  english  library: encodings
filt-ini.tex:\startmessages  english  library: filters
font-ini.tex:\startmessages  english  library: fonts
font-uni.tex:\startmessages  english  library: fonts
hand-ini.tex:\startmessages  english  library: handlings
java-ini.tex:\startmessages  english  library: javascript
keep-02a.tex:\startmessages  english  library: addresses
lang-ini.tex:\startmessages  english  library: linguals
m-units.tex:\startmessages  english  library: units
meta-ini.tex:\startmessages  english  library: metapost
mult-ini.tex:%D \startmessages  english  library: alfa
mult-ini.tex:%D \startmessages  english  library: alfa
mult-sys.tex:\startmessages  english library: check
page-bck.tex:\startmessages  english  library: layouts
page-flt.tex:\startmessages  english  library: floatblocks
page-ini.tex:\startmessages  english  library: systems
page-ini.tex:\startmessages  english  library: layouts
page-ini.tex:\startmessages  english  library: columns
page-log.tex:\startmessages  english  library: layouts
plus-fig.tex:\startmessages  english  library: floatblocks
prag-gen.tex:\startmessages  english  library: systems
spec-ini.tex:\startmessages  english  library: specials
spec-ini.tex:\startmessages  english  library: interactions
symb-ini.tex:\startmessages  english  library: symbols
x-set-11.tex:\startmessages  english  library: setup
> I have a several questions (if it's isn't annoying :)
> 1. Is there a common rule of what tags to translate?
> 2. What the meaning of cont-xx.xml and keys-xx.xml?
>   
these define the user interface; the english one is used to generate the 
other interface xml files using the data in teh mult-* files
> 3. Some terms are unclear. How can I know the meaning of them (e.g.
> "quote" and "quotation", "intermezzo", "hfactor") in ConTeXt context
> :)  ?
>   
ah, so you want a russian interface too? nice. mult-* files are the 
place to look; best work with copies of those files
> 4. "setupbodyfont" -- spaces in translation must be omitted also?
>   
in the commands indeed; btw, maybe it's best to wait with translating 
the user intercace (commands) till we have th utf enabled pdftex (later 
this year) so that we can use cyrillic in commands

messages already accept utf8
> 5. How can I test my translation in my environment first?
>   
compare

  texexec --make --all --fast en 

with 

  texexec --make --all --fast --int=de en 

at the screen you can see that the messages get translated 

(i just saw that for french some translations are missing, i.e. the title: ones) 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From patrick at gundla.ch  Thu Jul 20 20:48:59 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu, 20 Jul 2006 20:48:59 +0200
Subject: [dev-context] cont-xx.xml translating /texshow
In-Reply-To: <a4d893340607200954u34b97d41v5aec4decb6860da3@mail.gmail.com>
	(Ark Shraer's message of "Thu, 20 Jul 2006 19:54:50 +0300")
References: <a4d893340607200954u34b97d41v5aec4decb6860da3@mail.gmail.com>
Message-ID: <m2r70gqfhg.fsf@levana.de>

Hi,

while we're at it: am I right, that the cont-xx.xml files are
translated from the cont-en.xml with using the keys-xx.xml files?

If yes (I haven't looked into it for a looong time), which strategy
would be good for texshow(-web) to offer the other interfaces:

a) use the other cont-xx.xml files
b) translate the cont-xx.xml inside texshow(-web) using the
   keys-xx.xml files?

Patrick
-- 
ConTeXt wiki and more: http://contextgarden.net

From patrick at gundla.ch  Thu Jul 20 22:09:38 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu, 20 Jul 2006 22:09:38 +0200
Subject: [dev-context] What about dynamic documentation?
In-Reply-To: <m2bqyu3ieg.fsf@levana.de> (Patrick Gundlach's message of "Mon,
	02 Jan 2006 13:48:23 +0100")
References: <1bbbbe0f95e365f76129a09c0e9f2841@u-bourgogne.fr>
	<43959947.6050409@elvenkind.com>
	<e26c22df361b6e7e2b6bec19ac01d169@u-bourgogne.fr>
	<43A31BE2.3010207@elvenkind.com> <m2bqyu3ieg.fsf@levana.de>
Message-ID: <m2irlsqbr1.fsf@levana.de>

A non-text attachment was scrubbed...
Name: cont-en.xml-patch
Type: application/octet-stream
Size: 1065 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060720/d79b2228/attachment.obj 

From pragma at wxs.nl  Thu Jul 20 23:27:56 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Thu, 20 Jul 2006 23:27:56 +0200
Subject: [dev-context] cont-xx.xml translating /texshow
In-Reply-To: <m2r70gqfhg.fsf@levana.de>
References: <a4d893340607200954u34b97d41v5aec4decb6860da3@mail.gmail.com>
	<m2r70gqfhg.fsf@levana.de>
Message-ID: <44BFF55C.8030209@wxs.nl>

Patrick Gundlach wrote:
> Hi,
>
> while we're at it: am I right, that the cont-xx.xml files are
> translated from the cont-en.xml with using the keys-xx.xml files?
>
> If yes (I haven't looked into it for a looong time), which strategy
> would be good for texshow(-web) to offer the other interfaces:
>
> a) use the other cont-xx.xml files
>   
this looks ok to me
> b) translate the cont-xx.xml inside texshow(-web) using the
>    keys-xx.xml files?
>   
not needed, ctxtools does the translation and this way we keep the conversion located at one poit

what we need to figure out is a way to 'merge' patches back into the main cont-en; of course this is scriptable. I assume that you keep the relation between commands and additional edits in a separate file/database (again something we need to describe. 

one thing i need to do is to make reusable templates, so that we only need to edit e.g. style, color etc stuff once 

Hans 


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From pragma at wxs.nl  Thu Jul 20 23:55:12 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Thu, 20 Jul 2006 23:55:12 +0200
Subject: [dev-context] What about dynamic documentation?
In-Reply-To: <m2irlsqbr1.fsf@levana.de>
References: <1bbbbe0f95e365f76129a09c0e9f2841@u-bourgogne.fr>
	<43959947.6050409@elvenkind.com>
	<e26c22df361b6e7e2b6bec19ac01d169@u-bourgogne.fr>
	<43A31BE2.3010207@elvenkind.com> <m2bqyu3ieg.fsf@levana.de>
	<m2irlsqbr1.fsf@levana.de>
Message-ID: <44BFFBC0.909@wxs.nl>

Patrick Gundlach wrote:
> Long time ago, I wrote:
>
>   
>>>> 5 - The command variants might need specials (eg \setupinterlinespace).
>>>>         
>>> Yes, the current solution for that command is not very nice. But
>>> there are more than a few commands with such variant calling
>>> conventions, 
>>>       
>
>   
>> I can only find setupinterlinespace in cont-en.xml. The xml-element is
>> cd:choice, and only appears in that cmd. What others (undocumented)
>> commands are there that have this?
>>
>>     
>>> and it is hard to come up with a nice-looking solution. Suggestions
>>> for solutions are welcome.
>>>       
>
>   
>> instead of 
>>
>> \setupinterlinespace[...]|[...,...=...,...]
>> [...]	reset small medium big on off
>> height	number
>> depth	number
>> line	dimension
>> top	number
>> bottom	number
>>
>> we could have two entries:
>>
>>
>> \setupinterlinespace[...]
>> [...]	reset small medium big on off
>>
>> \setupinterlinespace[...,...=...,...]
>> height	number
>> depth	number
>> line	dimension
>> top	number
>> bottom	number
>>     
>
>
> Could we split this up with variant="1" and variant="2"? (see attached
> patch)
>   
> ------------------------------------------------------------------------
>
>
>
> This would give:
>
>
> <cd:command name="setupinterlinespace" variant="1">
>   <cd:sequence>
>     <cd:string value="setupinterlinespace"/>
>   </cd:sequence>
>   <cd:arguments>
>     <cd:keywords optional="yes">
>       <cd:constant type="reset"/>
>       <cd:constant type="small" default="yes"/>
>       <cd:constant type="medium"/>
>       <cd:constant type="auto"/>
>       <cd:constant type="big"/>
>       <cd:constant type="on"/>
>       <cd:constant type="off"/>
>     </cd:keywords>
>   </cd:arguments>
> </cd:command>
>
> <cd:command name="setupinterlinespace" variant="2">
>   <cd:sequence>
>     <cd:string value="setupinterlinespace"/>
>   </cd:sequence>
>   <cd:arguments>
>     <cd:assignments list="yes">
>       <cd:parameter name="height">
>         <cd:constant type="cd:number"/>
>       </cd:parameter>
>       <cd:parameter name="depth">
>         <cd:constant type="cd:number"/>
>       </cd:parameter>
>       <cd:parameter name="line">
>         <cd:constant type="cd:dimension"/>
>       </cd:parameter>
>       <cd:parameter name="top">
>         <cd:constant type="cd:number"/>
>       </cd:parameter>
>       <cd:parameter name="bottom">
>         <cd:constant type="cd:number"/>
>       </cd:parameter>
>     </cd:assignments>
>   </cd:arguments>
> </cd:command>
>   
ok, this means that one should use

\setup{setupinterlinespace:1}
\setup{setupinterlinespace:2}

from now on

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From adityam at umich.edu  Fri Jul 21 00:51:33 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Thu, 20 Jul 2006 18:51:33 -0400
Subject: [dev-context] My way on matharrows
In-Reply-To: <44BFA788.2050607@elvenkind.com>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln>
	<Pine.WNT.4.63.0607191257230.3504@nqvgln>
	<6faad9f00607191331r4b8c1193v933fd888dc0f0825@mail.gmail.com>
	<44BF3F15.5060303@elvenkind.com> <44BF5D75.6030305@wxs.nl>
	<44BF7631.2010302@elvenkind.com>
	<6faad9f00607200726t2ba99b5djfc94744b890ca466@mail.gmail.com>
	<44BF9511.8000406@elvenkind.com>
	<6faad9f00607200747w116637d4pda69ef59395cbc47@mail.gmail.com>
	<44BF9BAF.10303@wxs.nl>
	<6faad9f00607200811r135d796bie9278511d30283d7@mail.gmail.com>
	<44BFA788.2050607@elvenkind.com>
Message-ID: <20060720185133.n05wfxg0ys4wcokw@web.mail.umich.edu>

Quoting Taco Hoekwater <taco at elvenkind.com>:
>
> Mojca Miklavec wrote:
>> True, but the others didn't (it's a pitty that materials from NTG
>> meetings "get lost").
>>
>> (And I would really like to see the source of those wonderful slides.
>> I'm impressed how well the quare root now works ;)
>
> I am not so happy yet myself. $\sqrt{\frac12}$ has much too much
> whitespace, and $\sqrt{\frac{\frac12}{\frac34}}$ is just plain wrong
> :(


The font is nice and fresh. I am thinking of using it for title frames 
in presentations, but am a bit apprehensive...

>
> Anyway, the slides are mostly just \externalfigures, but the paper
> is sort of interesting. It is here:
>
>   http://matexhu.org/eurotex2006/papers/Taco2/

It is really intesting to know the history behind the font. However I 
was surprised with

$$
\vbox{
\centerline{\framed{\contextlogob}}
\medskip
\centerline{\framed{\contextlogoa}}
\medskip
\centerline{\framed{\contextlogoc}}
\medskip
\centerline{\framed{\contextlogod}}
}
$$

When you have a hammer, everything looks like a nail ;)

Aditya

From mojca.miklavec.lists at gmail.com  Fri Jul 21 01:01:07 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 21 Jul 2006 01:01:07 +0200
Subject: [dev-context] cont-xx.xml translating
In-Reply-To: <a4d893340607200954u34b97d41v5aec4decb6860da3@mail.gmail.com>
References: <a4d893340607200954u34b97d41v5aec4decb6860da3@mail.gmail.com>
Message-ID: <6faad9f00607201601u7f0afffcud06e252ebc034f28@mail.gmail.com>

On 7/20/06, Ark Shraer wrote:
> Hello,
>
> I'd like to start translate cont-en.xml and keys-en.xml into russian.
> I looked at other translations and in the mailing list archives but it
> still unclear for me what to translate in these files?


> 3. Some terms are unclear. How can I know the meaning of them (e.g.
> "quote" and "quotation", "intermezzo", "hfactor") in ConTeXt context
> :)  ?

They could/should be documented on texshow.contextgarden.net (by users).

\quotation{Some sentence} should give double quote around the sentence (try it).
\quote{Some subsentence} should give you single quote around the
sentence (both are language-dependent).

intermezzo: similar appearance to figures, tables, ... Something that
is placed in a similar manner as figure somewhere in text. But I never
use them.

hfactor stands for "horizontal (scaling) factor" I guess.


There are several possibilities:
- take a look at texshow.contextgarden.net
- search with google or within cont-eni.pdf
- try it according to the description in texshow/cont-eni

> 4. "setupbodyfont" -- spaces in translation must be omitted also?

Yes. Commands may not include any spaces.

> 5. How can I test my translation in my environment first?

As Hans said: you should probably wait half a year until Unicode is
supported by pdfTeX. Ask then again. I guess that for Unicode support
Hans will have to modify quite some things anyway.

Mojca

From vit.zyka at seznam.cz  Fri Jul 21 09:58:04 2006
From: vit.zyka at seznam.cz (Vit Zyka)
Date: Fri, 21 Jul 2006 09:58:04 +0200
Subject: [dev-context] messages
Message-ID: <44C0890C.8050300@seznam.cz>

Hi,

I have done some corrections of the Czech section of messages in 
x-set-11.tex. Coding is UTF-8. Please can you incorporate it to distro?

Then I have some related questions:

1. ma-cb-en uses \shortsetup{placeblock} but AFAICS 'placeblock' (and 
for ma-cb more interesting 'placetable' too) is not defined somewhere. 
Will the definition be added or we will not use it in the manual?

2. What is the origin of interface/cont-??.xml ? It is prepared manually 
or somewhat generated?

Thank you
Vit

-------------- next part --------------
A non-text attachment was scrubbed...
Name: x-set-11.zip
Type: application/zip
Size: 4856 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060721/31460410/attachment-0001.zip 

From mojca.miklavec.lists at gmail.com  Fri Jul 21 13:47:05 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 21 Jul 2006 13:47:05 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <44BFA788.2050607@elvenkind.com>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln>
	<44BF3F15.5060303@elvenkind.com> <44BF5D75.6030305@wxs.nl>
	<44BF7631.2010302@elvenkind.com>
	<6faad9f00607200726t2ba99b5djfc94744b890ca466@mail.gmail.com>
	<44BF9511.8000406@elvenkind.com>
	<6faad9f00607200747w116637d4pda69ef59395cbc47@mail.gmail.com>
	<44BF9BAF.10303@wxs.nl>
	<6faad9f00607200811r135d796bie9278511d30283d7@mail.gmail.com>
	<44BFA788.2050607@elvenkind.com>
Message-ID: <6faad9f00607210447y607f3d62g16dc67e307e01bb2@mail.gmail.com>

On 7/20/06, Taco Hoekwater wrote:
>
> Anyway, the slides are mostly just \externalfigures, but the paper
> is sort of interesting. It is here:
>
>    http://matexhu.org/eurotex2006/papers/Taco2/
>
> but please do not publish that anywhere since it is not finished yet.

Thank you!

Mojca

From adityam at umich.edu  Fri Jul 21 17:29:53 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Fri, 21 Jul 2006 11:29:53 -0400 (EDT)
Subject: [dev-context] My way on matharrows
In-Reply-To: <44BF3495.1020208@wxs.nl>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
	<44BE486D.4080307@elvenkind.com>
	<44BE4D31.5000206@wxs.nl> <Pine.WNT.4.63.0607191257230.3504@nqvgln>
	<44BE73DD.6010300@elvenkind.com>
	<Pine.WNT.4.63.0607191747200.3112@nqvgln> <44BF3495.1020208@wxs.nl>
Message-ID: <Pine.WNT.4.63.0607211128560.2436@nqvgln>

On Thu, 20 Jul 2006, Hans Hagen wrote:

> Aditya Mahajan wrote:
>> On Wed, 19 Jul 2006, Taco Hoekwater wrote:
>> 
>>> Aditya Mahajan wrote:
>>>> None of the extensible arrows work with antykwa-torunska as \relbar is 
>>>> not of fixed width in that font. Are there any other free math fonts that 
>>>> I should check?
>>> 
>>> iwona and kurier have math nowadays, don't they?
>> 
>> Tested for iwona and it works fine. I do not know how to get kurier to work 
>> (I was looking at typescripts defined in type-exa and kurier is not there).
>> 
> \usetypescript[iwona] [texnansi]
> \usetypescript[kurier][texnansi]

Kurier typeface is not defined anywhere! The following definition should be
part of type-exa.tex

--------------------------------------%<--------------------------------------
\starttypescript [kurier-light,kurier,kurier-medium] [texnansi,ec,8r,uc,t2a]

   % todo: rscale

   \definetypeface[\typescriptone][ss][sans] [\typescriptone] [default][encoding=\typescripttwo]
   \definetypeface[\typescriptone][rm][serif][modern]         [default][encoding=\typescripttwo]
   \definetypeface[\typescriptone][tt][mono] [modern]         [default][encoding=\typescripttwo]
   \definetypeface[\typescriptone][mm][math] [\typescriptone] [default][encoding=\typescripttwo,text=ss]
\stoptypescript
--------------------------------------%<--------------------------------------

Also, why not add all iwona variants to \starttypescript for iwona.

--------------------------------------%<--------------------------------------
\starttypescript [iwona-light,iwona,iwona-medium,iwona-heavy,iwona-light-cond,iwona-cond,iwona-medium-cond,iwona-heavy-cond] [texansi,ec,8r,uc,t2a]
--------------------------------------%<--------------------------------------

instead of

\starttypescript [iwona,iwona-light,iwona-heavy,iwona-medium] [texnansi,ec,8r,uc,t2a]

The arrows work fine with kurier. I will write an email
to Janusz asking for a "arrow shaft" glyph for math in antkiwa.

Aditya

From taco at elvenkind.com  Fri Jul 21 17:47:24 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 21 Jul 2006 17:47:24 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <Pine.WNT.4.63.0607211128560.2436@nqvgln>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
	<44BE486D.4080307@elvenkind.com> <44BE4D31.5000206@wxs.nl>
	<Pine.WNT.4.63.0607191257230.3504@nqvgln>
	<44BE73DD.6010300@elvenkind.com>
	<Pine.WNT.4.63.0607191747200.3112@nqvgln> <44BF3495.1020208@wxs.nl>
	<Pine.WNT.4.63.0607211128560.2436@nqvgln>
Message-ID: <44C0F70C.50301@elvenkind.com>



Aditya Mahajan wrote:
> 
> The arrows work fine with kurier. I will write an email
> to Janusz asking for a "arrow shaft" glyph for math in antkiwa.

Ideally, we need two sets for each arrow:
	
   % a more or less normal TeX set with and extra
   % tail section:
   <arrow head with straight connecting bar>
   <straight bar>
   <arrow tail end>

   % a set for CM transform based macros:
   <arrow head totally without bar>
   <tapered arrow shaft>
   <arrow tail without shaft>

and those (of course) for all eight standard arrows
(four directions * double shafted)

Taco

From adityam at umich.edu  Fri Jul 21 17:55:43 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Fri, 21 Jul 2006 11:55:43 -0400 (EDT)
Subject: [dev-context] My way on matharrows
In-Reply-To: <44C0F70C.50301@elvenkind.com>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
	<44BE486D.4080307@elvenkind.com>
	<44BE4D31.5000206@wxs.nl> <Pine.WNT.4.63.0607191257230.3504@nqvgln>
	<44BE73DD.6010300@elvenkind.com>
	<Pine.WNT.4.63.0607191747200.3112@nqvgln>
	<44BF3495.1020208@wxs.nl> <Pine.WNT.4.63.0607211128560.2436@nqvgln>
	<44C0F70C.50301@elvenkind.com>
Message-ID: <Pine.WNT.4.63.0607211154330.2436@nqvgln>

On Fri, 21 Jul 2006, Taco Hoekwater wrote:

>
>
> Aditya Mahajan wrote:
>> 
>> The arrows work fine with kurier. I will write an email
>> to Janusz asking for a "arrow shaft" glyph for math in antkiwa.
>
> Ideally, we need two sets for each arrow:
> 	  % a more or less normal TeX set with and extra
>  % tail section:
>  <arrow head with straight connecting bar>
>  <straight bar>
>  <arrow tail end>
>
>  % a set for CM transform based macros:
>  <arrow head totally without bar>
>  <tapered arrow shaft>
>  <arrow tail without shaft>
>
> and those (of course) for all eight standard arrows
> (four directions * double shafted)

So should I send a request to both Janusz and Boguslaw for these 8 
glyphs in all the fonts that they maintain (LM, antkiwa, kurier, 
iwona)?

Aditya

From mojca.miklavec.lists at gmail.com  Fri Jul 21 18:07:18 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 21 Jul 2006 18:07:18 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <6faad9f00607210906hcc08a3m3fb89b1ead513fc@mail.gmail.com>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
	<44BE486D.4080307@elvenkind.com> <44BE4D31.5000206@wxs.nl>
	<Pine.WNT.4.63.0607191257230.3504@nqvgln>
	<44BE73DD.6010300@elvenkind.com>
	<Pine.WNT.4.63.0607191747200.3112@nqvgln> <44BF3495.1020208@wxs.nl>
	<Pine.WNT.4.63.0607211128560.2436@nqvgln>
	<6faad9f00607210906hcc08a3m3fb89b1ead513fc@mail.gmail.com>
Message-ID: <6faad9f00607210907l68599519w53da5c55970efd40@mail.gmail.com>

On 7/21/06, Aditya Mahajan wrote:
> On Thu, 20 Jul 2006, Hans Hagen wrote:
>
> > Aditya Mahajan wrote:
> >> On Wed, 19 Jul 2006, Taco Hoekwater wrote:
> >>
> >>> Aditya Mahajan wrote:
> >>>> None of the extensible arrows work with antykwa-torunska as \relbar is
> >>>> not of fixed width in that font. Are there any other free math fonts that
> >>>> I should check?
> >>>
> >>> iwona and kurier have math nowadays, don't they?
> >>
> >> Tested for iwona and it works fine. I do not know how to get kurier to work
> >> (I was looking at typescripts defined in type-exa and kurier is not there).
> >>
> > \usetypescript[iwona] [texnansi]
> > \usetypescript[kurier][texnansi]
>
> Kurier typeface is not defined anywhere! The following definition should be
> part of type-exa.tex

Hans also had some fancy definitions some time ago to define a whole
large family of typescripts (designed esp. for Iwona). I don't know
where they are now (might be part of distribution, but I didn't look
closely enough), but it might be that I forgot to insist enough to add
kurier definitions as well.

The fonts improve constantly, so some definitions tend to be forgotten
in typescripts.

> --------------------------------------%<--------------------------------------
> \starttypescript [kurier-light,kurier,kurier-medium] [texnansi,ec,8r,uc,t2a]
>
>    % todo: rscale
>
>    \definetypeface[\typescriptone][ss][sans] [\typescriptone] [default][encoding=\typescripttwo]
>    \definetypeface[\typescriptone][rm][serif][modern]         [default][encoding=\typescripttwo]
>    \definetypeface[\typescriptone][tt][mono] [modern]         [default][encoding=\typescripttwo]
>    \definetypeface[\typescriptone][mm][math] [\typescriptone] [default][encoding=\typescripttwo,text=ss]
> \stoptypescript
> --------------------------------------%<--------------------------------------
>
> Also, why not add all iwona variants to \starttypescript for iwona.

I agree.

> --------------------------------------%<--------------------------------------
> \starttypescript [iwona-light,iwona,iwona-medium,iwona-heavy,iwona-light-cond,iwona-cond,iwona-medium-cond,iwona-heavy-cond] [texansi,ec,8r,uc,t2a]
> --------------------------------------%<--------------------------------------

Mojca

From pragma at wxs.nl  Fri Jul 21 18:10:41 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 21 Jul 2006 18:10:41 +0200
Subject: [dev-context] My way on matharrows
In-Reply-To: <Pine.WNT.4.63.0607211154330.2436@nqvgln>
References: <Pine.WNT.4.63.0607181832010.3508@nqvgln> <44BDFDC5.5060201@wxs.nl>
	<Pine.WNT.4.63.0607191041550.3088@nqvgln>
	<44BE486D.4080307@elvenkind.com> <44BE4D31.5000206@wxs.nl>
	<Pine.WNT.4.63.0607191257230.3504@nqvgln>
	<44BE73DD.6010300@elvenkind.com>
	<Pine.WNT.4.63.0607191747200.3112@nqvgln> <44BF3495.1020208@wxs.nl>
	<Pine.WNT.4.63.0607211128560.2436@nqvgln>
	<44C0F70C.50301@elvenkind.com>
	<Pine.WNT.4.63.0607211154330.2436@nqvgln>
Message-ID: <44C0FC81.8090400@wxs.nl>

Aditya Mahajan wrote:
> On Fri, 21 Jul 2006, Taco Hoekwater wrote:
>
>>
>>
>> Aditya Mahajan wrote:
>>>
>>> The arrows work fine with kurier. I will write an email
>>> to Janusz asking for a "arrow shaft" glyph for math in antkiwa.
>>
>> Ideally, we need two sets for each arrow:
>>       % a more or less normal TeX set with and extra
>>  % tail section:
>>  <arrow head with straight connecting bar>
>>  <straight bar>
>>  <arrow tail end>
>>
>>  % a set for CM transform based macros:
>>  <arrow head totally without bar>
>>  <tapered arrow shaft>
>>  <arrow tail without shaft>
>>
>> and those (of course) for all eight standard arrows
>> (four directions * double shafted)
>
> So should I send a request to both Janusz and Boguslaw for these 8 
> glyphs in all the fonts that they maintain (LM, antkiwa, kurier, iwona)?
indeed

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From mojca.miklavec.lists at gmail.com  Sat Jul 22 19:24:41 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 22 Jul 2006 19:24:41 +0200
Subject: [dev-context] wrong paper orientation with pstopdf
Message-ID: <6faad9f00607221024w1d2cc21dq11ed88ecfc905b73@mail.gmail.com>

Hello, Hans,

Do you remember some strange 90 degrees rotation in the gnuplot
module? I thougt that gnuplot did a strange job, but now I found out
that it was indeed pstopdf's fault.

The option
    -dAutoRotatePages=/None
should be either removed or changed somehow, otherwise landscape
figures rotate for 90 degrees, which is wrong.

Mojca

From pragma at wxs.nl  Mon Jul 24 10:29:29 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 24 Jul 2006 10:29:29 +0200
Subject: [dev-context] wrong paper orientation with pstopdf
In-Reply-To: <6faad9f00607221024w1d2cc21dq11ed88ecfc905b73@mail.gmail.com>
References: <6faad9f00607221024w1d2cc21dq11ed88ecfc905b73@mail.gmail.com>
Message-ID: <44C484E9.1060802@wxs.nl>

Mojca Miklavec wrote:
> Hello, Hans,
>
> Do you remember some strange 90 degrees rotation in the gnuplot
> module? I thougt that gnuplot did a strange job, but now I found out
> that it was indeed pstopdf's fault.
>
> The option
>     -dAutoRotatePages=/None
> should be either removed or changed somehow, otherwise landscape
> figures rotate for 90 degrees, which is wrong.
>   
is this related to the version of GS that you run? i suppose that /None 
should leave rotation untouched;

H

From mojca.miklavec.lists at gmail.com  Mon Jul 24 10:58:27 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 24 Jul 2006 10:58:27 +0200
Subject: [dev-context] wrong paper orientation with pstopdf
In-Reply-To: <44C484E9.1060802@wxs.nl>
References: <6faad9f00607221024w1d2cc21dq11ed88ecfc905b73@mail.gmail.com>
	<44C484E9.1060802@wxs.nl>
Message-ID: <6faad9f00607240158p7aeb6956k15f3c0e59487de01@mail.gmail.com>

On 7/24/06, Hans Hagen wrote:
> Mojca Miklavec wrote:
> > Hello, Hans,
> >
> > Do you remember some strange 90 degrees rotation in the gnuplot
> > module? I thougt that gnuplot did a strange job, but now I found out
> > that it was indeed pstopdf's fault.
> >
> > The option
> >     -dAutoRotatePages=/None
> > should be either removed or changed somehow, otherwise landscape
> > figures rotate for 90 degrees, which is wrong.
> >
> is this related to the version of GS that you run? i suppose that /None
> should leave rotation untouched;

Citing from some webpage:
There is a distiller setting for controlling automatic detection of
orientation. The default is -dAutoRotatePages=/PageByPage. This can be
set to /None if you want to manually determine the orientation.


I understand this in such a way that /None waits for some orientation
to be passed manually, so it automatically applies portrait, while
PageByPage respects the orientation provided by the original PS
document. Maybe I'm wrong, but I never had any problems wih
orientation if I left dAutoRotatePages untouched.

How can I crop EPS figures with pstopdf? -dEPSCrop is commented out in gs.rb.

Thanks,
    Mojca

From pragma at wxs.nl  Mon Jul 24 11:44:20 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 24 Jul 2006 11:44:20 +0200
Subject: [dev-context] wrong paper orientation with pstopdf
In-Reply-To: <6faad9f00607240158p7aeb6956k15f3c0e59487de01@mail.gmail.com>
References: <6faad9f00607221024w1d2cc21dq11ed88ecfc905b73@mail.gmail.com>
	<44C484E9.1060802@wxs.nl>
	<6faad9f00607240158p7aeb6956k15f3c0e59487de01@mail.gmail.com>
Message-ID: <44C49674.8040502@wxs.nl>

Mojca Miklavec wrote:
> On 7/24/06, Hans Hagen wrote:
>> Mojca Miklavec wrote:
>> > Hello, Hans,
>> >
>> > Do you remember some strange 90 degrees rotation in the gnuplot
>> > module? I thougt that gnuplot did a strange job, but now I found out
>> > that it was indeed pstopdf's fault.
>> >
>> > The option
>> >     -dAutoRotatePages=/None
>> > should be either removed or changed somehow, otherwise landscape
>> > figures rotate for 90 degrees, which is wrong.
>> >
>> is this related to the version of GS that you run? i suppose that /None
>> should leave rotation untouched;
>
> Citing from some webpage:
> There is a distiller setting for controlling automatic detection of
> orientation. The default is -dAutoRotatePages=/PageByPage. This can be
> set to /None if you want to manually determine the orientation.
>
>
> I understand this in such a way that /None waits for some orientation
> to be passed manually, so it automatically applies portrait, while
> PageByPage respects the orientation provided by the original PS
> document. Maybe I'm wrong, but I never had any problems wih
> orientation if I left dAutoRotatePages untouched.
>
i read it the opposite way

this is a bit gs version dependent

Hans

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Mon Jul 24 12:20:44 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 24 Jul 2006 12:20:44 +0200
Subject: [dev-context] wrong paper orientation with pstopdf
In-Reply-To: <44C49674.8040502@wxs.nl>
References: <6faad9f00607221024w1d2cc21dq11ed88ecfc905b73@mail.gmail.com>	<44C484E9.1060802@wxs.nl>	<6faad9f00607240158p7aeb6956k15f3c0e59487de01@mail.gmail.com>
	<44C49674.8040502@wxs.nl>
Message-ID: <44C49EFC.5070005@elvenkind.com>



Hans Hagen wrote:
>>
>>I understand this in such a way that /None waits for some orientation
>>to be passed manually, so it automatically applies portrait, while
>>PageByPage respects the orientation provided by the original PS
>>document. Maybe I'm wrong, but I never had any problems wih
>>orientation if I left dAutoRotatePages untouched.
>>
> 
> i read it the opposite way

i was in agreement with hans

Taco

From mojca.miklavec.lists at gmail.com  Mon Jul 24 12:48:29 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 24 Jul 2006 12:48:29 +0200
Subject: [dev-context] wrong paper orientation with pstopdf
In-Reply-To: <44C49EFC.5070005@elvenkind.com>
References: <6faad9f00607221024w1d2cc21dq11ed88ecfc905b73@mail.gmail.com>
	<44C484E9.1060802@wxs.nl>
	<6faad9f00607240158p7aeb6956k15f3c0e59487de01@mail.gmail.com>
	<44C49674.8040502@wxs.nl> <44C49EFC.5070005@elvenkind.com>
Message-ID: <6faad9f00607240348r41bf5a68xbe8204aba62053bc@mail.gmail.com>

On 7/24/06, Taco Hoekwater <taco at elvenkind.com> wrote:
>
>
> Hans Hagen wrote:
> >>
> >>I understand this in such a way that /None waits for some orientation
> >>to be passed manually, so it automatically applies portrait, while
> >>PageByPage respects the orientation provided by the original PS
> >>document. Maybe I'm wrong, but I never had any problems wih
> >>orientation if I left dAutoRotatePages untouched.
> >>
> >
> > i read it the opposite way
>
> i was in agreement with hans

Here you have two files (http://pub.mojca.org/gnuplot/test/): a
postscript and an eps. How should I convert them then? (Does pstopdf
testme.ps leave the landscape with your gs version?)

Thanks,
    Mojca

From mojca.miklavec.lists at gmail.com  Mon Jul 24 17:33:34 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 24 Jul 2006 17:33:34 +0200
Subject: [dev-context] wrong paper orientation with pstopdf
In-Reply-To: <44C4E62A.6030706@wxs.nl>
References: <6faad9f00607221024w1d2cc21dq11ed88ecfc905b73@mail.gmail.com>
	<44C484E9.1060802@wxs.nl>
	<6faad9f00607240158p7aeb6956k15f3c0e59487de01@mail.gmail.com>
	<44C49674.8040502@wxs.nl> <44C49EFC.5070005@elvenkind.com>
	<6faad9f00607240348r41bf5a68xbe8204aba62053bc@mail.gmail.com>
	<44C4BBAD.5000504@elvenkind.com>
	<6faad9f00607240548j21503a97kdafeeeab470f664@mail.gmail.com>
	<44C4C8AC.6090205@elvenkind.com> <44C4E62A.6030706@wxs.nl>
Message-ID: <6faad9f00607240833l772f9df4y6517abba78f962f@mail.gmail.com>

On 7/24/06, Hans Hagen wrote:
> Taco Hoekwater wrote:
> >
> >> How should I create proper PDF out of that file then?
> >
> > By checking the output manually and adjusting that option as neede,
> > I fear.
> indeed, an option is to change the default behaviour based on some unique preamble line, no fun

On what kind of documents would the default value (ie. without
-dAutoRotatePages=/None) fail? I never used it so far (never heard
about it before) and gs compiled all my documents OK so far.

Mojca

From mojca.miklavec.lists at gmail.com  Mon Jul 24 14:48:35 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Mon, 24 Jul 2006 14:48:35 +0200
Subject: [dev-context] wrong paper orientation with pstopdf
In-Reply-To: <44C4BBAD.5000504@elvenkind.com>
References: <6faad9f00607221024w1d2cc21dq11ed88ecfc905b73@mail.gmail.com>
	<44C484E9.1060802@wxs.nl>
	<6faad9f00607240158p7aeb6956k15f3c0e59487de01@mail.gmail.com>
	<44C49674.8040502@wxs.nl> <44C49EFC.5070005@elvenkind.com>
	<6faad9f00607240348r41bf5a68xbe8204aba62053bc@mail.gmail.com>
	<44C4BBAD.5000504@elvenkind.com>
Message-ID: <6faad9f00607240548j21503a97kdafeeeab470f664@mail.gmail.com>

On 7/24/06, Taco Hoekwater wrote:
>
>
> Mojca Miklavec wrote:
> > Here you have two files (http://pub.mojca.org/gnuplot/test/): a
> > postscript and an eps. How should I convert them then? (Does pstopdf
> > testme.ps leave the landscape with your gs version?)
>
> No, and the ps file isn't either. gv/gsview rotates only because of the
>    %%Orientation: Landscape
> comment.
> Delete that one line and it is no longer landscape in gv/gsview.

OK, but without -dAutoRotatePages=/None the conversion is OK. If the
orientation would be "hardcoded too deply" I can imagine that printers
might experience problems while printing files produced by gnuplot.
What's wrong with %%Orientation: Landscape?

How should I create proper PDF out of that file then?

Mojca

From pragma at wxs.nl  Mon Jul 24 17:24:26 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 24 Jul 2006 17:24:26 +0200
Subject: [dev-context] wrong paper orientation with pstopdf
In-Reply-To: <44C4C8AC.6090205@elvenkind.com>
References: <6faad9f00607221024w1d2cc21dq11ed88ecfc905b73@mail.gmail.com>
	<44C484E9.1060802@wxs.nl>
	<6faad9f00607240158p7aeb6956k15f3c0e59487de01@mail.gmail.com>
	<44C49674.8040502@wxs.nl> <44C49EFC.5070005@elvenkind.com>
	<6faad9f00607240348r41bf5a68xbe8204aba62053bc@mail.gmail.com>
	<44C4BBAD.5000504@elvenkind.com>
	<6faad9f00607240548j21503a97kdafeeeab470f664@mail.gmail.com>
	<44C4C8AC.6090205@elvenkind.com>
Message-ID: <44C4E62A.6030706@wxs.nl>

Taco Hoekwater wrote:
>
>
> Mojca Miklavec wrote:
>>
>> OK, but without -dAutoRotatePages=/None the conversion is OK. If the
>> orientation would be "hardcoded too deply" I can imagine that printers
>> might experience problems while printing files produced by gnuplot.
>> What's wrong with %%Orientation: Landscape?
>
> Nothing, but since it is not really a postscript command, just a
> structure comment, so I would expect pstopdf to ignore it.
>
> The situation is a bit complicated because removing the -dAuto...
> makes other documents fail. You are right for this document,
> but that is only a subset of the potentially wrong files :-(
>
>> How should I create proper PDF out of that file then?
>
> By checking the output manually and adjusting that option as neede,
> I fear.
indeed, an option is to change the default behaviour based on some unique preamble line, no fun 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Mon Jul 24 17:45:44 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 24 Jul 2006 17:45:44 +0200
Subject: [dev-context] wrong paper orientation with pstopdf
In-Reply-To: <6faad9f00607240833l772f9df4y6517abba78f962f@mail.gmail.com>
References: <6faad9f00607221024w1d2cc21dq11ed88ecfc905b73@mail.gmail.com>	
	<44C484E9.1060802@wxs.nl>	
	<6faad9f00607240158p7aeb6956k15f3c0e59487de01@mail.gmail.com>	
	<44C49674.8040502@wxs.nl> <44C49EFC.5070005@elvenkind.com>	
	<6faad9f00607240348r41bf5a68xbe8204aba62053bc@mail.gmail.com>	
	<44C4BBAD.5000504@elvenkind.com>	
	<6faad9f00607240548j21503a97kdafeeeab470f664@mail.gmail.com>	
	<44C4C8AC.6090205@elvenkind.com> <44C4E62A.6030706@wxs.nl>
	<6faad9f00607240833l772f9df4y6517abba78f962f@mail.gmail.com>
Message-ID: <44C4EB28.8090507@elvenkind.com>



Mojca Miklavec wrote:
> On what kind of documents would the default value (ie. without
> -dAutoRotatePages=/None) fail? I never used it so far (never heard
> about it before) and gs compiled all my documents OK so far.

Sometimes documents do use postscript operators for rotation, and
sometimes then AutoRotatePages gets triggered anyway, resulting in
an extra rotation of 90 degrees. I've seen this happen a couple
of times (with files from Corel Draw, iirc, but I am not totally
certain of that, and of course have no example available right now).

Cheers, Taco

From taco at elvenkind.com  Mon Jul 24 14:23:09 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 24 Jul 2006 14:23:09 +0200
Subject: [dev-context] wrong paper orientation with pstopdf
In-Reply-To: <6faad9f00607240348r41bf5a68xbe8204aba62053bc@mail.gmail.com>
References: <6faad9f00607221024w1d2cc21dq11ed88ecfc905b73@mail.gmail.com>	
	<44C484E9.1060802@wxs.nl>	
	<6faad9f00607240158p7aeb6956k15f3c0e59487de01@mail.gmail.com>	
	<44C49674.8040502@wxs.nl> <44C49EFC.5070005@elvenkind.com>
	<6faad9f00607240348r41bf5a68xbe8204aba62053bc@mail.gmail.com>
Message-ID: <44C4BBAD.5000504@elvenkind.com>



Mojca Miklavec wrote:
> Here you have two files (http://pub.mojca.org/gnuplot/test/): a
> postscript and an eps. How should I convert them then? (Does pstopdf
> testme.ps leave the landscape with your gs version?)

No, and the ps file isn't either. gv/gsview rotates only because of the
   %%Orientation: Landscape
comment.
Delete that one line and it is no longer landscape in gv/gsview.

Taco


From taco at elvenkind.com  Mon Jul 24 15:18:36 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 24 Jul 2006 15:18:36 +0200
Subject: [dev-context] wrong paper orientation with pstopdf
In-Reply-To: <6faad9f00607240548j21503a97kdafeeeab470f664@mail.gmail.com>
References: <6faad9f00607221024w1d2cc21dq11ed88ecfc905b73@mail.gmail.com>	
	<44C484E9.1060802@wxs.nl>	
	<6faad9f00607240158p7aeb6956k15f3c0e59487de01@mail.gmail.com>	
	<44C49674.8040502@wxs.nl> <44C49EFC.5070005@elvenkind.com>	
	<6faad9f00607240348r41bf5a68xbe8204aba62053bc@mail.gmail.com>	
	<44C4BBAD.5000504@elvenkind.com>
	<6faad9f00607240548j21503a97kdafeeeab470f664@mail.gmail.com>
Message-ID: <44C4C8AC.6090205@elvenkind.com>



Mojca Miklavec wrote:
> 
> OK, but without -dAutoRotatePages=/None the conversion is OK. If the
> orientation would be "hardcoded too deply" I can imagine that printers
> might experience problems while printing files produced by gnuplot.
> What's wrong with %%Orientation: Landscape?

Nothing, but since it is not really a postscript command, just a
structure comment, so I would expect pstopdf to ignore it.

The situation is a bit complicated because removing the -dAuto...
makes other documents fail. You are right for this document,
but that is only a subset of the potentially wrong files :-(

> How should I create proper PDF out of that file then?

By checking the output manually and adjusting that option as neede,
I fear.

Cheer,s
Taco

From patrick at gundla.ch  Wed Jul 26 17:55:57 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Wed, 26 Jul 2006 17:55:57 +0200
Subject: [dev-context] cont-xx.xml translating /texshow
In-Reply-To: <44BFF55C.8030209@wxs.nl> (Hans Hagen's message of "Thu,
	20 Jul 2006 23:27:56 +0200")
References: <a4d893340607200954u34b97d41v5aec4decb6860da3@mail.gmail.com>
	<m2r70gqfhg.fsf@levana.de> <44BFF55C.8030209@wxs.nl>
Message-ID: <m2ejw88inm.fsf@levana.de>

Hi all,


texshow-web is multi-interface (again)! 

Next steps are

* inclusion of other 'interfaces' such as api, modules, ...?
* adding/editing commands
* ?

Which URLs did you use for downloading the examples, Taco? I remember
that it was an xml file, right? Currently I store the
descriptions/comments/examples in one textfield with wiki-markup. I
might add a wiki-markup -> text converter.



Patrick
-- 
ConTeXt wiki and more: http://contextgarden.net

From taco at elvenkind.com  Wed Jul 26 22:41:39 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 26 Jul 2006 22:41:39 +0200
Subject: [dev-context] cont-xx.xml translating /texshow
In-Reply-To: <m2ejw88inm.fsf@levana.de>
References: <a4d893340607200954u34b97d41v5aec4decb6860da3@mail.gmail.com>	<m2r70gqfhg.fsf@levana.de>
	<44BFF55C.8030209@wxs.nl> <m2ejw88inm.fsf@levana.de>
Message-ID: <44C7D383.7010808@elvenkind.com>

Patrick Gundlach wrote:
> Hi all,
> 
> 
> texshow-web is multi-interface (again)! 
> 
> Next steps are
> 
> * inclusion of other 'interfaces' such as api, modules, ...?
> * adding/editing commands
> * ?
> 
> Which URLs did you use for downloading the examples, Taco? I remember
> that it was an xml file, right? Currently I store the
> descriptions/comments/examples in one textfield with wiki-markup. I
> might add a wiki-markup -> text converter.

Yes, it was an xml file (I even have some examples here), but I do not
really remember where I got it from, and the current texshow does not
use that stuff.

The best way to fix the offline texshow IMO would be to write it
anew, in ruby, and make it use an offline (perhaps flat text or xml) 
representation of your database that it converts to html pages
for a local browser (using some variant of http://localhost:xx/).

That way some of your code can be reused, and the database dump
could perhaps even be sync-ed online, if the local user has a net
connection.


Taco


From pragma at wxs.nl  Wed Jul 26 23:11:26 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 26 Jul 2006 23:11:26 +0200
Subject: [dev-context] cont-xx.xml translating /texshow
In-Reply-To: <m2ejw88inm.fsf@levana.de>
References: <a4d893340607200954u34b97d41v5aec4decb6860da3@mail.gmail.com>
	<m2r70gqfhg.fsf@levana.de> <44BFF55C.8030209@wxs.nl>
	<m2ejw88inm.fsf@levana.de>
Message-ID: <44C7DA7E.30100@wxs.nl>

Patrick Gundlach wrote:
> Hi all,
>
>
> texshow-web is multi-interface (again)! 
>
>   
ah, great! and the help and special links work ok now too! impressive 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From patrick at gundla.ch  Mon Jul 31 09:31:15 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Mon, 31 Jul 2006 09:31:15 +0200
Subject: [dev-context] recent manuals
Message-ID: <m23bci8c3g.fsf@levana.de>

Hi,

is there a list of manuals that have been updated/added this year?

Patrick
-- 
ConTeXt wiki and more: http://contextgarden.net

From dh at capdm.com  Mon Jul 31 12:41:58 2006
From: dh at capdm.com (Duncan Hothersall)
Date: Mon, 31 Jul 2006 11:41:58 +0100
Subject: [dev-context] supp-pdf commented in context.tex
Message-ID: <44CDDE76.5060305@capdm.com>

On line 130 in context.tex, \input supp-pdf.tex has been commented out.
I assume this is because its functionality has been superseded by
something else (pdfetex extensions?) In any case, I have no problems
when running pdfetex jobs, but: running jobs with the aleph engine this
ommission causes errors:

! Undefined control sequence.
\dogetfiguresizepdf ...3#4#5#6->\dogetPDFmediabox

when using \externalfigure and suchlike.

Is it safe for me to just uncomment that line in context.tex (which
fixes the problem here) or is that risky for other things?

Thanks,

Duncan

From pragma at wxs.nl  Mon Jul 31 17:09:10 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 31 Jul 2006 17:09:10 +0200
Subject: [dev-context] supp-pdf commented in context.tex
In-Reply-To: <44CDDE76.5060305@capdm.com>
References: <44CDDE76.5060305@capdm.com>
Message-ID: <44CE1D16.6020404@wxs.nl>

Duncan Hothersall wrote:
> On line 130 in context.tex, \input supp-pdf.tex has been commented out.
> I assume this is because its functionality has been superseded by
> something else (pdfetex extensions?) In any case, I have no problems
>   
no, moved to meta-pdf so that (1) we can make it more context optimized 
and (2) freeze supp-pdf because it's used in other packages
> when running pdfetex jobs, but: running jobs with the aleph engine this
> ommission causes errors:
>
> ! Undefined control sequence.
> \dogetfiguresizepdf ...3#4#5#6->\dogetPDFmediabox
>   
ah, interesting that it did for for so lang (pdf file parsing); what 
driver do you load for aleph? the dvipdfmx one?
> when using \externalfigure and suchlike.
>
> Is it safe for me to just uncomment that line in context.tex (which
> fixes the problem here) or is that risky for other things?
>   
dunno, probably it will work  

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From dh at capdm.com  Mon Jul 31 17:17:02 2006
From: dh at capdm.com (Duncan Hothersall)
Date: Mon, 31 Jul 2006 16:17:02 +0100
Subject: [dev-context] supp-pdf commented in context.tex
In-Reply-To: <44CE1D16.6020404@wxs.nl>
References: <44CDDE76.5060305@capdm.com> <44CE1D16.6020404@wxs.nl>
Message-ID: <44CE1EEE.30600@capdm.com>

Hans Hagen (31/07/2006 16:09) said:
> Duncan Hothersall wrote:
>> On line 130 in context.tex, \input supp-pdf.tex has been commented out.
>> I assume this is because its functionality has been superseded by
>> something else (pdfetex extensions?) In any case, I have no problems
>>   
> no, moved to meta-pdf so that (1) we can make it more context optimized
> and (2) freeze supp-pdf because it's used in other packages
>> when running pdfetex jobs, but: running jobs with the aleph engine this
>> ommission causes errors:
>>
>> ! Undefined control sequence.
>> \dogetfiguresizepdf ...3#4#5#6->\dogetPDFmediabox
>>   
> ah, interesting that it did for for so lang (pdf file parsing); what
> driver do you load for aleph? the dvipdfmx one?

I'm not specifying it on the commandline having spotted in texexec:

elsif @commandline.oneof('aleph') then
            job.setvariable('backend','dvipdfmx')

so I just process with --aleph now.

Duncan

From pragma at wxs.nl  Tue Aug  1 09:53:58 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 01 Aug 2006 09:53:58 +0200
Subject: [dev-context] taco in action
Message-ID: <44CF0896.7080008@wxs.nl>

For those who want to see taco in action at eurotex ...

    http://bel.gsi.de/EuroTeX2006/slides/20060708-143428-Hartmut-090.html

(esp for cow-loving for Mojca)

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From aubin at nibua-r.org  Tue Aug  1 10:05:10 2006
From: aubin at nibua-r.org (Renaud AUBIN)
Date: Tue, 01 Aug 2006 10:05:10 +0200
Subject: [dev-context] taco in action
In-Reply-To: <44CF0896.7080008@wxs.nl>
References: <44CF0896.7080008@wxs.nl>
Message-ID: <44CF0B36.1020408@nibua-r.org>

Great !

TeX-gurus at work ?
http://bel.gsi.de/EuroTeX2006/slides/20060708-155518-Volker-193.html ;)

Is there any mention about
http://www.tug.org/interviews/interview-files/hans-hagen.html ? ;)

Hans Hagen a ?crit :

>For those who want to see taco in action at eurotex ...
>
>    http://bel.gsi.de/EuroTeX2006/slides/20060708-143428-Hartmut-090.html
>
>(esp for cow-loving for Mojca)
>
>Hans 
>
>-----------------------------------------------------------------
>                                          Hans Hagen | PRAGMA ADE
>              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
>     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
>                                             | www.pragma-pod.nl
>-----------------------------------------------------------------
>
>_______________________________________________
>dev-context mailing list
>dev-context at ntg.nl
>http://www.ntg.nl/mailman/listinfo/dev-context
>
>
>  
>



From pragma at wxs.nl  Tue Aug  1 10:06:26 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 01 Aug 2006 10:06:26 +0200
Subject: [dev-context] taco in action
In-Reply-To: <44CF0AAB.7040108@nibua-r.org>
References: <44CF0896.7080008@wxs.nl> <44CF0AAB.7040108@nibua-r.org>
Message-ID: <44CF0B82.5050501@wxs.nl>

Renaud AUBIN wrote:
> Great !
>
> TeX-gurus at work ?
> http://bel.gsi.de/EuroTeX2006/slides/20060708-155518-Volker-193.html ;)
>
> Is there any mention about
> http://www.tug.org/interviews/interview-files/hans-hagen.html ? ;)
>   
This one is "lug leaders at work" (here we mimick the t-shirt drawing)

http://bel.gsi.de/EuroTeX2006/slides/20060708-154020-Volker-186.html

> Hans Hagen a ?crit :
>
>   
>> For those who want to see taco in action at eurotex ...
>>
>>    http://bel.gsi.de/EuroTeX2006/slides/20060708-143428-Hartmut-090.html
>>
>> (esp for cow-loving for Mojca)
>>
>> Hans 
>>
>> -----------------------------------------------------------------
>>                                          Hans Hagen | PRAGMA ADE
>>              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
>>     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
>>                                             | www.pragma-pod.nl
>> -----------------------------------------------------------------
>>
>> _______________________________________________
>> dev-context mailing list
>> dev-context at ntg.nl
>> http://www.ntg.nl/mailman/listinfo/dev-context
>>
>>
>>  
>>
>>     
>
>   


-- 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Mon Aug  7 12:11:34 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 07 Aug 2006 12:11:34 +0200
Subject: [dev-context] Context 2006.08.04 release, todo & wishlist
In-Reply-To: <44D707B0.6050307@nibua-r.org>
References: <44D702E5.8000505@elvenkind.com> <44D707B0.6050307@nibua-r.org>
Message-ID: <44D711D5.3010009@elvenkind.com>



Hi,

Here is a compilation of still unresolved issues from the past two
weeks or so (i have not looked at the collector yet, there could
be some more stuff in there)


Renaud AUBIN wrote:
> Hi,
> 
> A suggestion for the next release:
> 
   [Demibold fix snipped]

-- 
Also pending but no work by Hans needed:

   * yesterdays metapost color fix

   * the extension to toc processing for hyphenation

   * the new cow font release (awaits a new metric file)

   * some core-mat extensions (from me)

   * It would be nice if this was in the core:

   \def\sortalphacommacommand#1%
   {\definesorting[listsort][listsorts]%
    \processcommacommand[#1]\listsort
    \def\sortedcommalist{}%
    \def\makesortedlist##1%
        {\doglobal\appendtocommalist{##1}\sortedcommalist}%
    \setupsorting[listsort][criterium=all,command=\makesortedlist]%
    \placelistoflistsorts
    \let#1\sortedcommalist}



Bugs that should be fixed/fixable:

   * \setuppagenumbering[alternative=doublesided]
     interferes with \startbodymatter ... \stopbodymatter,
     resulting in an odd number of total pages.

   * the \setupcaptions stopper|separator|floatcaptionsuffix problem

   * grid initialization needs
       \displaywidowpenalty0  \brokenpenalty0
     (I know it didn't fix David's bug, but it is needed anyway)

   * David Arnold's 'No page break'

   * The utf-8 problem in m-database

And on the request list:

   * a feature like \page[right,empty] would be nice:

     "go to the right page, and if there is an empty page,
      remove its header and footer."

     even better would be a way to set up these generated
     pages separately (including possible contents like
     "intentionally left blank" and overlays, footers, etc.)

   * a way to flag files to be deleted (by writing a command
     to the tui perhaps)?

   * A hook that flags if we are in the middle of the expansion
     call of a \marks item (a bit like \trialtypesetting)

   * using %COMSPEC% instead of direct call code cmd.exe in
     SciTE

   * a setuptex batch file for win86 (NOP, from Wolfgang?)

   * an interface to the new register page folding

   * predefined metafun versions over overbar, underbar, strikethrough
     would be nice to have.

Taco

From pragma at wxs.nl  Mon Aug  7 14:31:15 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 07 Aug 2006 14:31:15 +0200
Subject: [dev-context] Context 2006.08.04 release, todo & wishlist
In-Reply-To: <44D711D5.3010009@elvenkind.com>
References: <44D702E5.8000505@elvenkind.com> <44D707B0.6050307@nibua-r.org>
	<44D711D5.3010009@elvenkind.com>
Message-ID: <44D73293.4050307@wxs.nl>

Taco Hoekwater wrote:

... todo ...

you forgot the stopper bug -)

Hans

-- 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Mon Aug  7 15:12:07 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 07 Aug 2006 15:12:07 +0200
Subject: [dev-context] Context 2006.08.04 release, todo & wishlist
In-Reply-To: <44D73293.4050307@wxs.nl>
References: <44D702E5.8000505@elvenkind.com> <44D707B0.6050307@nibua-r.org>
	<44D711D5.3010009@elvenkind.com> <44D73293.4050307@wxs.nl>
Message-ID: <44D73C27.3020603@elvenkind.com>



Hans Hagen wrote:
> Taco Hoekwater wrote:
> 
> ... todo ...
> 
> you forgot the stopper bug -)

also missed:

   * upload the latest distribution to the 'latest' subdir

:-)





From pragma at wxs.nl  Tue Aug  8 13:06:46 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 08 Aug 2006 13:06:46 +0200
Subject: [dev-context] Context 2006.08.04 release, todo & wishlist
In-Reply-To: <44D711D5.3010009@elvenkind.com>
References: <44D702E5.8000505@elvenkind.com> <44D707B0.6050307@nibua-r.org>
	<44D711D5.3010009@elvenkind.com>
Message-ID: <44D87046.9070003@wxs.nl>

Taco Hoekwater wrote:

* a feature like \page[right,empty] would be nice:

it's 

\page[empty,right]

or 

\page[yes,empty,right]

page entries are processed in sequence

\page[something,something,{something,something},something]

Hans 




-- 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From pragma at wxs.nl  Tue Aug  8 13:56:59 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 08 Aug 2006 13:56:59 +0200
Subject: [dev-context] temp files
Message-ID: <44D87C0B.3020701@wxs.nl>

For Mojca 

The next release will have:


\starttext

\immediate\openout\scratchwrite=oeps.tmp
\immediate\write\scratchwrite{oeps}
\immediate\closeout\scratchwrite

\registertempfile{oeps.tmp}

\typefile{oeps.tmp}

\stoptext

-- 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From adityam at umich.edu  Wed Aug  9 08:29:18 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Wed, 9 Aug 2006 02:29:18 -0400 (EDT)
Subject: [dev-context] faking mathalignments
Message-ID: <Pine.WNT.4.63.0608090154400.3944@nqvgln>

Hans,

   Can you cook up something along the lines of fakeformula for math 
alignments. I need a few variations to show different math alignment 
features. I am using a rather verbose naming scheme and syntax to 
convey the idea.

1. fakemathalignment

\fakemathalignment[alternative=a,lines=2] %Maybe random number of 
lines

should give

\NC XX \NC = random number XX + XX \NR[+]
\NC XX \NC = random number XX + XX \NR[+]

where XX is a \fakerule of random width.

\fakemathalignment[alternative=b,lines=2] should give

\NC XX \NC = random number of XX + XX   \NC XX = random number of XX + 
XX \NR[+]
\NC XX \NC = random number of XX + XX   \NC XX = random number of XX + 
XX \NR[+]

that is two blocks (maybe keep the number of blocks configurable).

2. fakemathlinearequations

\fakemathlinearequations[columns=4,lines=2,alternative=a]

should give

\NC XX \NC + XX \NC + XX \NC = XX \NR[+]
\NC XX \NC + XX \NC + XX \NC = XX \NR[+]


\fakemathlinearequations[columns=4,lines=2,alternative=b]

\NC XX \NC + \NC XX \NC + \NC XX \NC = \NC XX \NR[+]
\NC XX \NC + \NC XX \NC + \NC XX \NC = \NC XX \NR[+]

that is each operator should be in a column of its own.

3. fakemathsplitformula

Another variation

\fakemathsplitformula[lines=3]

\NC XX \NC= random number of XX + XX \NR
\NC    \NC= random number of XX + XX \NR
\NC    \NC= random number of XX + XX \NR[+]

\fakemathsplitformula[lines=3,alternative=b]

should give

\NC XX = \NC random number of XX + XX \NR
\NC      \NC + XX + XX                \NR
\NC      \NC + XX + XX                \NR[+]


4. fakemathmatrix [lines=3,columns=3]

\NC XX \NC XX \NC XX \NR
\NC XX \NC XX \NC XX \NR
\NC XX \NC XX \NC XX \NR

5. fakemathcases[lines=3]

\NC XX \NC XX XX (2-4 random XX) \NR
\NC XX \NC XX XX (2-4 random XX) \NR

These are all that I can think of at the moment :-)

Thanks,
Aditya

From mojca.miklavec.lists at gmail.com  Thu Aug 10 04:05:13 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 10 Aug 2006 04:05:13 +0200
Subject: [dev-context] temp files
In-Reply-To: <44D87C0B.3020701@wxs.nl>
References: <44D87C0B.3020701@wxs.nl>
Message-ID: <6faad9f00608091905p60be7366md6c17d517008227@mail.gmail.com>

On 8/8/06, Hans Hagen wrote:
> For Mojca
>
> The next release will have:
>
>
> \starttext
>
> \immediate\openout\scratchwrite=oeps.tmp
> \immediate\write\scratchwrite{oeps}
> \immediate\closeout\scratchwrite
>
> \registertempfile{oeps.tmp}

Thank you. This works as expected except for a tiny detail. As soon as
I recompile the document the mark is lost. So, if I compile the
document, change it and recompile it again without "--purge"
inbetween, the old files from the first run cannot be automatically
deleted any more because tui is generated from scratch each time.

(I first placed \registertempfile inside of \doifmode{*\v!first} and
wondered why it didn't work. Hans, I guess that you really should
place some \doifuserelse{mojca} switches somewhere ;)

> \typefile{oeps.tmp}
>
> \stoptext

But please don't worry too much about that. In the worst case manual
deletion still works ;)

Thanks,
    Mojca

From pragma at wxs.nl  Thu Aug 10 14:05:58 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Thu, 10 Aug 2006 14:05:58 +0200
Subject: [dev-context] faking mathalignments
In-Reply-To: <Pine.WNT.4.63.0608090154400.3944@nqvgln>
References: <Pine.WNT.4.63.0608090154400.3944@nqvgln>
Message-ID: <44DB2126.20902@wxs.nl>

Aditya Mahajan wrote:
> Hans,
>
>    Can you cook up something along the lines of fakeformula for math 
> alignments. I need a few variations to show different math alignment 
> features. I am using a rather verbose naming scheme and syntax to 
> convey the idea.
>   
a starting point showing how to do it

> 1. fakemathalignment
>
> \fakemathalignment[alternative=a,lines=2] %Maybe random number of 
> lines
>
> should give
>
> \NC XX \NC = random number XX + XX \NR[+]
> \NC XX \NC = random number XX + XX \NR[+]
>
> where XX is a \fakerule of random width.
>
> \fakemathalignment[alternative=b,lines=2] should give
>
> \NC XX \NC = random number of XX + XX   \NC XX = random number of XX + 
> XX \NR[+]
> \NC XX \NC = random number of XX + XX   \NC XX = random number of XX + 
> XX \NR[+]
>
> that is two blocks (maybe keep the number of blocks configurable).
>
> 2. fakemathlinearequations
>
> \fakemathlinearequations[columns=4,lines=2,alternative=a]
>
> should give
>
> \NC XX \NC + XX \NC + XX \NC = XX \NR[+]
> \NC XX \NC + XX \NC + XX \NC = XX \NR[+]
>
>
> \fakemathlinearequations[columns=4,lines=2,alternative=b]
>
> \NC XX \NC + \NC XX \NC + \NC XX \NC = \NC XX \NR[+]
> \NC XX \NC + \NC XX \NC + \NC XX \NC = \NC XX \NR[+]
>
> that is each operator should be in a column of its own.
>
> 3. fakemathsplitformula
>
> Another variation
>
> \fakemathsplitformula[lines=3]
>
> \NC XX \NC= random number of XX + XX \NR
> \NC    \NC= random number of XX + XX \NR
> \NC    \NC= random number of XX + XX \NR[+]
>
> \fakemathsplitformula[lines=3,alternative=b]
>
> should give
>
> \NC XX = \NC random number of XX + XX \NR
> \NC      \NC + XX + XX                \NR
> \NC      \NC + XX + XX                \NR[+]
>
>
> 4. fakemathmatrix [lines=3,columns=3]
>
> \NC XX \NC XX \NC XX \NR
> \NC XX \NC XX \NC XX \NR
> \NC XX \NC XX \NC XX \NR
>
> 5. fakemathcases[lines=3]
>
> \NC XX \NC XX XX (2-4 random XX) \NR
> \NC XX \NC XX XX (2-4 random XX) \NR
>
> These are all that I can think of at the moment :-)
>
> Thanks,
> Aditya
> _______________________________________________
> dev-context mailing list
> dev-context at ntg.nl
> http://www.ntg.nl/mailman/listinfo/dev-context
>   


-- 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------

-------------- next part --------------
A non-text attachment was scrubbed...
Name: m-matvis.tex
Type: application/x-tex
Size: 2807 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060810/56a75f16/attachment.tex 

From adityam at umich.edu  Thu Aug 10 18:24:20 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Thu, 10 Aug 2006 12:24:20 -0400 (EDT)
Subject: [dev-context] faking mathalignments
In-Reply-To: <44DB2126.20902@wxs.nl>
References: <Pine.WNT.4.63.0608090154400.3944@nqvgln> <44DB2126.20902@wxs.nl>
Message-ID: <Pine.WNT.4.63.0608101222570.408@nqvgln>

On Thu, 10 Aug 2006, Hans Hagen wrote:

> Aditya Mahajan wrote:
>> Hans,
>>
>>    Can you cook up something along the lines of fakeformula for math 
>> alignments. I need a few variations to show different math alignment 
>> features. I am using a rather verbose naming scheme and syntax to convey 
>> the idea.
>> 
> a starting point showing how to do it

Thank you. I should be able to extend it for other constructs. I'll 
ask for more help when I run into trouble.

Aditya


>
>> 1. fakemathalignment
>> 
>> \fakemathalignment[alternative=a,lines=2] %Maybe random number of lines
>> 
>> should give
>> 
>> \NC XX \NC = random number XX + XX \NR[+]
>> \NC XX \NC = random number XX + XX \NR[+]
>> 
>> where XX is a \fakerule of random width.
>> 
>> \fakemathalignment[alternative=b,lines=2] should give
>> 
>> \NC XX \NC = random number of XX + XX   \NC XX = random number of XX + XX 
>> \NR[+]
>> \NC XX \NC = random number of XX + XX   \NC XX = random number of XX + XX 
>> \NR[+]
>> 
>> that is two blocks (maybe keep the number of blocks configurable).
>> 
>> 2. fakemathlinearequations
>> 
>> \fakemathlinearequations[columns=4,lines=2,alternative=a]
>> 
>> should give
>> 
>> \NC XX \NC + XX \NC + XX \NC = XX \NR[+]
>> \NC XX \NC + XX \NC + XX \NC = XX \NR[+]
>> 
>> 
>> \fakemathlinearequations[columns=4,lines=2,alternative=b]
>> 
>> \NC XX \NC + \NC XX \NC + \NC XX \NC = \NC XX \NR[+]
>> \NC XX \NC + \NC XX \NC + \NC XX \NC = \NC XX \NR[+]
>> 
>> that is each operator should be in a column of its own.
>> 
>> 3. fakemathsplitformula
>> 
>> Another variation
>> 
>> \fakemathsplitformula[lines=3]
>> 
>> \NC XX \NC= random number of XX + XX \NR
>> \NC    \NC= random number of XX + XX \NR
>> \NC    \NC= random number of XX + XX \NR[+]
>> 
>> \fakemathsplitformula[lines=3,alternative=b]
>> 
>> should give
>> 
>> \NC XX = \NC random number of XX + XX \NR
>> \NC      \NC + XX + XX                \NR
>> \NC      \NC + XX + XX                \NR[+]
>> 
>> 
>> 4. fakemathmatrix [lines=3,columns=3]
>> 
>> \NC XX \NC XX \NC XX \NR
>> \NC XX \NC XX \NC XX \NR
>> \NC XX \NC XX \NC XX \NR
>> 
>> 5. fakemathcases[lines=3]
>> 
>> \NC XX \NC XX XX (2-4 random XX) \NR
>> \NC XX \NC XX XX (2-4 random XX) \NR
>> 
>> These are all that I can think of at the moment :-)
>> 
>> Thanks,
>> Aditya
>> _______________________________________________
>> dev-context mailing list
>> dev-context at ntg.nl
>> http://www.ntg.nl/mailman/listinfo/dev-context
>> 
>
>
>

-- 
Aditya Mahajan, EECS Systems, University of Michigan
http://www.eecs.umich.edu/~adityam || Ph: 7342624008

From pragma at wxs.nl  Tue Aug 15 17:05:15 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 15 Aug 2006 17:05:15 +0200
Subject: [dev-context] dependencies
Message-ID: <44E1E2AB.6010108@wxs.nl>

Hi,

The last couple of days i've been busy sorting our some depedency 
related issues (non trivial).

In the process I also rewrote the dep checker

ctxtools --dep
ctxtools --dep --filter=defineframed,localframed,framed

i uploaded an alpha release, please check if it is ok

due to the changes (also some name cleanup, pending dutch and so) taco 
will not make a diff (unless he's bored) but there are no fundamental 
changes

there are still 23 dependency order issues to resolve ...

(i can imagine taco committing the beta as well as the alpha in order to 
be able to diff pending changes)

Hans

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Tue Aug 15 18:18:29 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 15 Aug 2006 18:18:29 +0200
Subject: [dev-context] dependencies
In-Reply-To: <44E1E2AB.6010108@wxs.nl>
References: <44E1E2AB.6010108@wxs.nl>
Message-ID: <44E1F3D5.4000608@elvenkind.com>



Hans Hagen wrote:
> Hi,
> 
> The last couple of days i've been busy sorting our some depedency 
> related issues (non trivial).
> 
> In the process I also rewrote the dep checker
> 
> ctxtools --dep
> ctxtools --dep --filter=defineframed,localframed,framed
> 
> i uploaded an alpha release, please check if it is ok

I have no time to check now, but I _will_ post an abbreviated
diff to this list tomorrow, with changes from current to this
alpha.

> (i can imagine taco committing the beta as well as the alpha in order to 
> be able to diff pending changes)

I have a local diff stack whenever there are beta's. I now have

	betadiff   (0808 -> 0810 beta 1)
	beta2diff  (beta 1 -> beta 2)
	alphadiff  (beta 2 -> alpha)
	
Cheers, Taco

From taco at elvenkind.com  Wed Aug 16 12:02:00 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 16 Aug 2006 12:02:00 +0200
Subject: [dev-context] dependencies
In-Reply-To: <44E1E2AB.6010108@wxs.nl>
References: <44E1E2AB.6010108@wxs.nl>
Message-ID: <44E2ED18.9030508@elvenkind.com>


Changes up to the latest beta (an hour ago):

texfont.pl:
* now creates dvips and dvipdfmx map files also
* --lm switch uses lm encoding files
* afmtotfm commandline simplified

kpse.rb has expand-path fixes/sanitizations
ctxtools.rb now uses kpse.rb
ctxtools.rb dependency analyzer rewritten
own ruby lib path discovery changed


In the tex files:
* some register safeguards
* math matrix cleanup
* new macro: \somekindoftab
* \newlinechar = 10 throughout the source now
* cow symbols extended
* russian encoded typescripts re-enabled (t2a,b,c & x2)
* fixed t-bib
* \beginMETATEX compile-time support for luatex (and new file syst-mtx)
* new macro \dorandomrecurse
* float caption code cleanup
* columnset balancing code cleanup
* new macro \newconstant
* lots of small changes from e.g. \....commando (dutch)  to
   \...command (english)
* file loading order reshuffled
* some macros moved to other source files
* new toks register: \everycurrentdate
* version 2006.08.16 10:59
* french welcome message translation

Greetings, Taco

From adityam at umich.edu  Fri Aug 25 02:46:32 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Thu, 24 Aug 2006 20:46:32 -0400 (EDT)
Subject: [dev-context] Bug in setuplines?
In-Reply-To: <44ECD408.3060200@wxs.nl>
References: <221cc89e0608222039p4132b4f0jb81c3713be4a59f0@mail.gmail.com>
	<44EC0D27.5090803@wxs.nl> <Pine.WNT.4.63.0608231032330.496@nqvgln>
	<44ECD408.3060200@wxs.nl>
Message-ID: <Pine.WNT.4.63.0608242039480.3448@nqvgln>

Hi Hans,

  I think that there is a bug in \setuplines. I tried your example from 
the thread on the mailing list but I still do not get odd/even 
indenting of lines (it works for paragraphs). Consider

\showframe

\starttext

\startbuffer
\startlines
first
second
third
fourth

first
second
third
fourth
\stoplines
\stopbuffer

\setupindenting[medium,first]

\setuplines[indenting=no]
\getbuffer


\setuplines[indenting=yes]
\getbuffer

\setuplines[indenting=odd]
\getbuffer

\setuplines[indenting=even]
\getbuffer

\stoptext

indenting=no and indenting=yes work fine. But indenting=odd|even has 
no effect (rather is same is indenting=no). I tried this at the garden 
and get the same result, so it is not something on my system. I am 
attaching the tex file, the log file and the generated pdf.

Aditya
-------------- next part --------------
This is pdfeTeXk, Version 3.141592-1.30.3-2.2 (Web2c 7.5.5) (format=cont-en 2006.8.24)  24 AUG 2006 20:38
entering extended mode
\write18 enabled.
 %&-line parsing enabled.
 (e:\isoimage\usr\local\context\tex\texmf-local/web2c/natural.tcx)
**verse.tex \emergencyend
(./verse.tex

ConTeXt  ver: 2006.08.22 16:28  fmt: 2006.8.24  int: english  mes: english

language        : language en is active
<protectionstate 0>
system          : cont-new loaded
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/cont-new.tex
systems         : beware: some patches loaded from cont-new.tex
color           : palette rollover is available
)
system          : cont-old loaded
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/cont-old.tex
loading         : Context Old Macros
)
system          : cont-fil loaded
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/cont-fil.tex
loading         : Context File Synonyms
)
system          : cont-sys loaded
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/user/cont-sys.tex
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/type-exa.tex)
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/type-syn.tex)
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/type-enc.tex)
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/type-siz.tex)
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/type-map.tex)
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/type-spe.tex)
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/type-akb.tex)
system          : module newmat loaded
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/m-newmat.tex))
bodyfont        : 12pt rm is loaded
language        : patterns nl->texnansi:texnansi->1->2:3 nl->ec:ec->2->2:3 fr->
texnansi:texnansi->3->2:3 fr->ec:ec->4->2:3 de->texnansi:texnansi->5->2:3 de->e
c:ec->6->2:3 it->texnansi:texnansi->7->2:3 it->ec:ec->8->2:3 pt->texnansi:texna
nsi->9->2:3 pt->ec:ec->10->2:3 hr->ec:ec->11->2:3 pl->pl0:pl0->12->2:3 pl->ec:e
c->13->2:3 pl->qx:qx->14->2:3 cz->il2:il2->15->2:3 cz->ec:ec->16->2:3 sk->il2:i
l2->17->2:3 sk->ec:ec->18->2:3 sl->ec:ec->19->2:3 ru->t2a:t2a->21->2:3 en->ec:e
c->22->2:3 uk->ec:ec->23->2:3 us->ec:ec->24->2:3 agr->agr:agr->25->2:3 da->ec:e
c->26->2:3 sv->ec:ec->27->2:3 af->ec:ec->28->2:3 no->ec:ec->29->2:3 deo->ec:ec-
>30->2:3 es->ec:ec->31->2:3 ca->ec:ec->32->2:3 la->ec:ec->33->2:3 ro->ec:ec->34
->2:3 tr->ec:ec->35->2:3 fi->ec:ec->37->2:3 hu->ec:ec->38->2:3 loaded
specials        : tex,postscript,rokicki loaded
\openout2 = `verse.tui'.

system          : verse.top loaded
(./verse.top
specials        : loading definition file tpd
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/spec-tpd.tex
specials        : loading definition file fdf
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/spec-fdf.tex)
specials        : fdf loaded
)
specials        : fdf,tpd loaded
)
\openout0 = `verse-mpgraph.mp'.

\openout0 = `mpgraph.mp'.


systems         : system commands are enabled
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/page-run.tex
loading         : Context Page Macros / Runtime Macros
) (./verse.tuo) (./verse.tuo) (./verse.tuo) (./verse.tuo) (./verse.tuo)
(./verse.tuo) (./verse.tuo) (./verse.tuo) (./verse.tuo) (./verse.tuo)
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/sort-def.tex)
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/sort-lan.tex)
(./verse.tuo) (./verse.tuo)
systems         : begin file verse at line 3
<verse-verse.tmp>
\openout4 = `verse-verse.tmp'.

 (./verse-verse.tmp) (./verse-verse.tmp) (./verse-verse.tmp)
(./verse-verse.tmp)
fonts           : resetting map file list
fonts           : using map file: texnansi-public-lm
fonts           : using map file: original-base
fonts           : using map file: ec-public-lm
fonts           : using map file: ec-base
fonts           : using map file: 8r-base
fonts           : using map file: t5-base
fonts           : using map file: original-ams-base
fonts           : using map file: original-ams-euler
fonts           : using map file: original-public-lm
(e:\isoimage\usr\local\context\tex\texmf-local/tex/context/base/pdfr-ec.tex)
[1.1{e:\isoimage\usr\local\context\tex\texmf-local/fonts/map/pdftex/context/ori
ginal-empty.map}{e:\isoimage\usr\local\context\tex\texmf-local/fonts/map/pdftex
/context/texnansi-public-lm.map}{e:\isoimage\usr\local\context\tex\texmf-local/
fonts/map/pdftex/context/original-base.map}{e:\isoimage\usr\local\context\tex\t
exmf-local/fonts/map/pdftex/context/ec-public-lm.map}{e:\isoimage\usr\local\con
text\tex\texmf-local/fonts/map/pdftex/context/ec-base.map}{e:\isoimage\usr\loca
l\context\tex\texmf-local/fonts/map/pdftex/context/8r-base.map}{e:\isoimage\usr
\local\context\tex\texmf-local/fonts/map/pdftex/context/t5-base.map}{e:\isoimag
e\usr\local\context\tex\texmf-local/fonts/map/pdftex/context/original-ams-base.
map}{e:\isoimage\usr\local\context\tex\texmf-local/fonts/map/pdftex/context/ori
ginal-ams-euler.map}{e:\isoimage\usr\local\context\tex\texmf-local/fonts/map/pd
ftex/context/original-public-lm.map}]
systems         : end file verse at line 34
 ) 
Here is how much of TeX's memory you used:
 1290 strings out of 57800
 23520 string characters out of 535316
 4591621 words of memory out of 5528502
 40500 multiletter control sequences out of 10000+50000
 74893 words of font info for 37 fonts, out of 1000000 for 2000
 416 hyphenation exceptions out of 8191
 51i,18n,53p,244b,533s stack positions out of 5000i,500n,6000p,200000b,5000s
PDF statistics:
 8 PDF objects out of 300000
 0 named destinations out of 131072
 5 words of extra memory for PDF output out of 10000
{e:\isoimage\usr\local\context\tex\texmf/fonts/enc/dvips/lm/lm-ec.enc}<e:\iso
image\usr\local\context\tex\texmf/fonts/type1/public/lm/lmr12.pfb>
Output written on verse.pdf (1 page, 25539 bytes).
-------------- next part --------------
A non-text attachment was scrubbed...
Name: verse.pdf
Type: application/pdf
Size: 25539 bytes
Desc: 
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060825/7bf65480/attachment-0001.pdf 
-------------- next part --------------
\showframe

\starttext

\startbuffer
\startlines
first
second
third
fourth

first
second
third
fourth
\stoplines
\stopbuffer

\setupindenting[medium,first]

\setuplines[indenting=no]
\getbuffer


\setuplines[indenting=yes]
\getbuffer

\setuplines[indenting=odd]
\getbuffer

\setuplines[indenting=even]
\getbuffer

\stoptext

From schuster.wolfgang at googlemail.com  Fri Aug 25 15:17:14 2006
From: schuster.wolfgang at googlemail.com (Wolfgang Schuster)
Date: Fri, 25 Aug 2006 15:17:14 +0200
Subject: [dev-context] Bug in setuplines?
In-Reply-To: <Pine.WNT.4.63.0608242039480.3448@nqvgln>
References: <221cc89e0608222039p4132b4f0jb81c3713be4a59f0@mail.gmail.com>
	<44EC0D27.5090803@wxs.nl> <Pine.WNT.4.63.0608231032330.496@nqvgln>
	<44ECD408.3060200@wxs.nl> <Pine.WNT.4.63.0608242039480.3448@nqvgln>
Message-ID: <20060825151714.eb431b6c.schuster.wolfgang@googlemail.com>

On Thu, 24 Aug 2006 20:46:32 -0400 (EDT)
Aditya Mahajan <adityam at umich.edu> wrote:

> Hi Hans,
> 
>   I think that there is a bug in \setuplines. I tried your example from 
> the thread on the mailing list but I still do not get odd/even 
> indenting of lines (it works for paragraphs). Consider
> 
> \showframe
> 
> \starttext
> 
> \startbuffer
> \startlines
> first
> second
> third
> fourth
> 
> first
> second
> third
> fourth
> \stoplines
> \stopbuffer
> 
> \setupindenting[medium,first]
> 
> \setuplines[indenting=no]
> \getbuffer
> 
> 
> \setuplines[indenting=yes]
> \getbuffer
> 
> \setuplines[indenting=odd]

\setuplines[indenting={yes,odd}]

> \getbuffer
> 
> \setuplines[indenting=even]

\setuplines[indenting={yes,even}]

> \getbuffer
> 
> \stoptext
> 
> indenting=no and indenting=yes work fine. But indenting=odd|even has 
> no effect (rather is same is indenting=no). I tried this at the garden 
> and get the same result, so it is not something on my system. I am 
> attaching the tex file, the log file and the generated pdf.
> 
> Aditya
> 

Wolfgang

From adityam at umich.edu  Fri Aug 25 16:16:47 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Fri, 25 Aug 2006 10:16:47 -0400 (EDT)
Subject: [dev-context] Bug in setuplines?
In-Reply-To: <20060825151714.eb431b6c.schuster.wolfgang@googlemail.com>
References: <221cc89e0608222039p4132b4f0jb81c3713be4a59f0@mail.gmail.com>
	<44EC0D27.5090803@wxs.nl> <Pine.WNT.4.63.0608231032330.496@nqvgln>
	<44ECD408.3060200@wxs.nl> <Pine.WNT.4.63.0608242039480.3448@nqvgln>
	<20060825151714.eb431b6c.schuster.wolfgang@googlemail.com>
Message-ID: <Pine.WNT.4.63.0608251015200.2968@nqvgln>

On Fri, 25 Aug 2006, Wolfgang Schuster wrote:

> On Thu, 24 Aug 2006 20:46:32 -0400 (EDT)
> Aditya Mahajan <adityam at umich.edu> wrote:
>
>> \setuplines[indenting=odd]
>
> \setuplines[indenting={yes,odd}]
>
>>
>> \setuplines[indenting=even]
>
> \setuplines[indenting={yes,even}]

Thanks. On hindsight, this makes perfect sense considering how 
indenting works.

Aditya

From vit.zyka at seznam.cz  Thu Aug 31 21:04:22 2006
From: vit.zyka at seznam.cz (Vit Zyka)
Date: Thu, 31 Aug 2006 21:04:22 +0200
Subject: [dev-context] \maxnofMPgraphics = 8000 and beginners manual
Message-ID: <44F732B6.1030103@seznam.cz>

Hi Hans,

compiling beginners manual (ma-cb-cz) I had to increase
   \maxnofMPgraphics = 8000
in meta-ini.tex and refresh format.

I tried not to have special format for this manual and gave this 
redefinition to ma-cb-style.tex. But graphics were spoiled on the first 
two pages. Is there some way how to bypass a spacial format?

The manual (screen mode) has even number of pages. So the last one is 
added the total number to be odd. But on this last (empty) page the 
graphic is spoiled, see attch. What is wrong?

The manual translation went ahead during summer, more then half chapters 
are done.

Thanks
Vit

-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.pdf
Type: application/pdf
Size: 69796 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060831/c8511002/attachment-0001.pdf 

From pragma at wxs.nl  Fri Sep  1 08:32:37 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 01 Sep 2006 08:32:37 +0200
Subject: [dev-context] \maxnofMPgraphics = 8000 and beginners manual
In-Reply-To: <44F732B6.1030103@seznam.cz>
References: <44F732B6.1030103@seznam.cz>
Message-ID: <44F7D405.1010504@wxs.nl>

Vit Zyka wrote:
> Hi Hans,
>
> compiling beginners manual (ma-cb-cz) I had to increase
>   \maxnofMPgraphics = 8000
> in meta-ini.tex and refresh format.
>
> I tried not to have special format for this manual and gave this 
> redefinition to ma-cb-style.tex. But graphics were spoiled on the 
> first two pages. Is there some way how to bypass a spacial format?
you don't need a special format, just set that variable someplace in 
your style or at the top of your document
>
> The manual (screen mode) has even number of pages. So the last one is 
> added the total number to be odd. But on this last (empty) page the 
> graphic is spoiled, see attch. What is wrong?
dunno, maybe some grouping problem? best post the source some place 
(which reminds me that we should set up a repos at our server here) ... 
will do
>
> The manual translation went ahead during summer, more then half 
> chapters are done.
good! 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From taco at elvenkind.com  Fri Sep  1 08:50:46 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 01 Sep 2006 08:50:46 +0200
Subject: [dev-context] \maxnofMPgraphics = 8000 and beginners manual
In-Reply-To: <44F7D405.1010504@wxs.nl>
References: <44F732B6.1030103@seznam.cz> <44F7D405.1010504@wxs.nl>
Message-ID: <44F7D846.5030007@elvenkind.com>

Hans Hagen wrote:
>>The manual (screen mode) has even number of pages. So the last one is 
>>added the total number to be odd. But on this last (empty) page the 
>>graphic is spoiled, see attch. What is wrong?
> 
> dunno, maybe some grouping problem? best post the source some place 

   https://foundry.supelec.fr/projects/contextman/

Greetings,

Taco

From vit.zyka at seznam.cz  Fri Sep  1 14:07:23 2006
From: vit.zyka at seznam.cz (Vit Zyka)
Date: Fri, 01 Sep 2006 14:07:23 +0200
Subject: [dev-context] \maxnofMPgraphics = 8000 and beginners manual
In-Reply-To: <44F7D405.1010504@wxs.nl>
References: <44F732B6.1030103@seznam.cz> <44F7D405.1010504@wxs.nl>
Message-ID: <44F8227B.7090600@seznam.cz>

Hans Hagen wrote:
> Vit Zyka wrote:
>> Hi Hans,
>>
>> compiling beginners manual (ma-cb-cz) I had to increase
>>   \maxnofMPgraphics = 8000
>> in meta-ini.tex and refresh format.
>>
>> I tried not to have special format for this manual and gave this 
>> redefinition to ma-cb-style.tex. But graphics were spoiled on the 
>> first two pages. Is there some way how to bypass a spacial format?

> you don't need a special format, just set that variable someplace in 
> your style or at the top of your document

Hmmm, I tried this but it broke graphic on the first and the second page.

>> The manual (screen mode) has even number of pages. So the last one is 
>> added the total number to be odd. But on this last (empty) page the 
>> graphic is spoiled, see attch. What is wrong?
> dunno, maybe some grouping problem? best post the source some place 
> (which reminds me that we should set up a repos at our server here) ... 
> will do

As Taco already said, it is on

https://scm.foundry.supelec.fr/svn/contextman/context-beginners

There are even more problems with the manual. Some \shortsetup{...} are 
missing in cont-ex.xml (e.g. startframedtext). I can prepare the list of 
them.

When reading cont-ex.xml, every entry writes to log the next warning
(c:/TeXLive2005/texmf-update/tex/context/interface/cont-en.xml
check           : eachtexcommand stp:x:installlanguage replaces a macro, 
use CA
PITALS!
check           : texcommand stp:y:installlanguage replaces a macro, use 
CAPITA
LS!
check           : eachtexcommand stp:x:setuplanguage replaces a macro, 
use CAPI
TALS!

What is wrong?

Vit

>> The manual translation went ahead during summer, more then half 
>> chapters are done.
> good!
> Hans
> -----------------------------------------------------------------
>                                          Hans Hagen | PRAGMA ADE
>              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
>     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
>                                             | www.pragma-pod.nl
> -----------------------------------------------------------------
> 
> 

-- 
=======================================================
Ing. V?t Z?ka, Ph.D.                         TYPOkv?tek

database publishing              databazove publikovani
data maintaining and typesetting in typographic quality
priprava dat a jejich sazba v typograficke kvalite

tel.: (+420) 777 198 189     www: http://typokvitek.com
=======================================================


From patrick at gundla.ch  Sun Sep  3 17:40:03 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Sun, 03 Sep 2006 17:40:03 +0200
Subject: [dev-context] cont-??.xml and ruby
Message-ID: <m2lkp17ycs.fsf@levana.de>

Hi there,

I've started a small library that allows you to access the cont-??.xml
files from ruby. There will be a ruby-gem shortly called
'contextsetup'. Most interesting part currently is the html rendering. 

The project page is at http://rubyforge.org/projects/contextsetup/

If you would like to see anything in this library, just ask (or add
it).

Patrick
-- 
ConTeXt wiki and more: http://contextgarden.net

From vit.zyka at seznam.cz  Mon Sep 18 01:08:03 2006
From: vit.zyka at seznam.cz (Vit Zyka)
Date: Mon, 18 Sep 2006 01:08:03 +0200
Subject: [dev-context] shortsetup and environment
Message-ID: <450DD553.1070700@seznam.cz>

Dear Hans,

it seems to me that \shortsetup ignores cd:command with 
type="environment". Please see the next example:

-----------------------------------------------------
\usemodule[set-11] \loadsetups

\starttext

page (OK): \shortsetup{page}

startframedtext (NOTHING): \shortsetup{startframedtext}

framedtext (NOTHING): \shortsetup{framedtext}

\stoptext
------------------------------------------------------

Vit

From schuster.wolfgang at googlemail.com  Mon Sep 18 14:10:53 2006
From: schuster.wolfgang at googlemail.com (Wolfgang Schuster)
Date: Mon, 18 Sep 2006 14:10:53 +0200
Subject: [dev-context] Namespace for users
Message-ID: <20060918141053.ecce7a66.schuster.wolfgang@googlemail.com>

Hi Hans and all others.

Is it possible to add a command to allow users to
define their own namespace for commands and modules to avoid problems
with macros in the core.

I would suggest to use i slightly modified version of the
\definesystemvariable command.

\def\????prefix  {????}
\def\@@@@prefix  {@@@@}

\def\defineuservariable#1{\setevalue{\????prefix#1}{\@@@@prefix#1}}

Another question how many letters should we use for our prefixes.

Two avoid problems with other users we should use a combination of a
user prefix 'xx' (e.g. ws (two letters) or wolf (four letters) for me)
and a command prefix 'yy' as already used by ConTeXt (e.g. sf for
SpeciFics).

--> \defineuservariable{xxyy} or \defineuservariable{xxxxyy}

What do you think about my idea.

Wolfgang

From schuster.wolfgang at googlemail.com  Tue Sep 19 12:42:33 2006
From: schuster.wolfgang at googlemail.com (Wolfgang Schuster)
Date: Tue, 19 Sep 2006 12:42:33 +0200
Subject: [dev-context] shortsetup and environment
In-Reply-To: <450DD553.1070700@seznam.cz>
References: <450DD553.1070700@seznam.cz>
Message-ID: <20060919124233.9f81db13.schuster.wolfgang@googlemail.com>

On Mon, 18 Sep 2006 01:08:03 +0200
Vit Zyka <vit.zyka at seznam.cz> wrote:

> Dear Hans,
> 
> it seems to me that \shortsetup ignores cd:command with 
> type="environment". Please see the next example:
> 
> -----------------------------------------------------
> \usemodule[set-11] \loadsetups
> 
> \starttext
> 
> page (OK): \shortsetup{page}
> 
> startframedtext (NOTHING): \shortsetup{startframedtext}
> 
> framedtext (NOTHING): \shortsetup{framedtext}
> 
> \stoptext
> ------------------------------------------------------
> 
> Vit

Not a problem with type="environment" but generated="yes".

You should the the following code in x-set-11.tex from

\defineXMLenvironmentsave [cd:command] [name=,type=,generated=,interactive=,variant=]
  {}
  {\doifelseXMLop{type}{environment}
     {\edef\currentSETUPname{start\getinterfacecomponent{string}{\XMLop{name}}}}
     {\edef\currentSETUPname{\getinterfacecomponent{string}{\XMLop{name}}}}%
   \doifsomething{\XMLop{variant}}
     {\edef\currentSETUPname{\currentSETUPname:\XMLop{variant}}}% like setupinterlinespace:1
   \doifXMLop{generated}{yes}
     {\edef\currentSETUPname{\currentSETUPname*}}%
   \doglobal\saveXMLdatainelement{stp:\currentSETUPname}{cd:command}{cd:command}%
   \expanded{\eachtexcommand[stp:x:\currentSETUPname]{\currentSETUPname}}%
   \expanded{\texcommand    [stp:y:\currentSETUPname]{\currentSETUPname}}}

to

\defineXMLenvironmentsave [cd:command] [name=,type=,generated=,interactive=,variant=]
  {}
  {\doifelseXMLop{type}{environment}
     {\edef\currentSETUPname{start\getinterfacecomponent{string}{\XMLop{name}}}}
     {\edef\currentSETUPname{\getinterfacecomponent{string}{\XMLop{name}}}}%
   \doifsomething{\XMLop{variant}}
     {\edef\currentSETUPname{\currentSETUPname:\XMLop{variant}}}% like setupinterlinespace:1
   %\doifXMLop{generated}{yes}
   %  {\edef\currentSETUPname{\currentSETUPname*}}%
   \doglobal\saveXMLdatainelement{stp:\currentSETUPname}{cd:command}{cd:command}%
   \expanded{\eachtexcommand[stp:x:\currentSETUPname]{\currentSETUPname}}%
   \expanded{\texcommand    [stp:y:\currentSETUPname]{\currentSETUPname}}}

Look at the %-signs. 

I hope Hans will add something like \setupsetup[generated=yes|no] with generated=no as default
to be backward compatible.

Until Hans will include such a patched file you can use my attached one with \usemodule[t-set-11].


For Hans! Shouldn't the "start" in the definition be a "\e!start" 

\defineXMLenvironmentsave [cd:command] [name=,type=,generated=,interactive=,variant=]
  {}
  {\doifelseXMLop{type}{environment}
     {\edef\currentSETUPname{start\getinterfacecomponent{string}{\XMLop{name}}}}
                             -----
                             \e!start

Wolfgang
-------------- next part --------------
A non-text attachment was scrubbed...
Name: t-set-11.tex
Type: text/x-tex
Size: 22974 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20060919/03df9228/attachment.bin 

From dh at capdm.com  Thu Sep 28 12:42:04 2006
From: dh at capdm.com (Duncan Hothersall)
Date: Thu, 28 Sep 2006 11:42:04 +0100
Subject: [dev-context] xtag-mmp.tex patch
In-Reply-To: <44241217.7070105@wxs.nl>
References: <44240EDE.6020000@capdm.com> <44241217.7070105@wxs.nl>
Message-ID: <451BA6FC.4010107@capdm.com>

Hans Hagen (24/03/2006 15:36) said:
> Duncan Hothersall wrote:
>> At line 492 in xtag-mmp.tex:
>>
...
>>
>> I think the super/sub scripts are the wrong way around; suggest swapping
>> fourth and sixth lines:
>>
...
>>   
> so, effectively we have:
> \let\pMULTISCRIPTmmlPRE\pMULTISCRIPTmmlPOST
> 
> how about the new module?
> Hans

Only six months late, the answer appears to be:

At lines 2344 and 2346 of newmml.tex, swap the ^ and _ so that we get:

            \ifodd\scratchcounter
                _{\getXMLstackdata\recurselevel}{}
            \else
                ^{\getXMLstackdata\recurselevel}
            \fi

which now matches lines 2361 and 2363.

Sorry for the delay, only just moved over to trying newmml...

Duncan


From dh at capdm.com  Thu Oct 12 17:08:12 2006
From: dh at capdm.com (Duncan Hothersall)
Date: Thu, 12 Oct 2006 16:08:12 +0100
Subject: [dev-context] Bug in ruby register code?
Message-ID: <452E5A5C.3070202@capdm.com>

Seems to be a bug in the ruby code that works properly in the perl. Try:

----
\starttext
\index{Knuth}\input knuth \par
\seeindex{Knuth}{Tufte}\input tufte \par
\blank\placeindex
\stoptext
----

With the perl scripts it's right:

Knuth 1
  see Tufte

but with the new ruby scripts it's wrong:

Knuth
  see Tufte, 1

I don't know if it's relevant but the difference between the two .tuo
files seems just to be reversal of two lines; the perl run shows:

\registerentry{index}{k}
\registerentrya{index}{Knuth}
\registerpage{index}{,}{1}{2--0-0-0-0-0-0-0--1}{1}
\registersee{index}{,}{Tufte}{2--0-0-0-0-0-0-0}

while the ruby run shows:

\registerentry{index}{k}
\registerentrya{index}{Knuth}
\registersee{index}{,}{Tufte}{2--0-0-0-0-0-0-0}
\registerpage{index}{,}{1}{2--0-0-0-0-0-0-0--1}{1}


[I discovered this by trying out the code on live.contextgarden, and I
couldn't understand why I was getting different output from apparently
the same beta - but then I noticed that the live server is still using
the old texexec script. Perhaps this ought to be fixed (though it was
very useful in this case!).]

Duncan


From mojca.miklavec.lists at gmail.com  Thu Oct 12 17:46:11 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 12 Oct 2006 17:46:11 +0200
Subject: [dev-context] \sometxt{broken} withcolor \MPcolor{currentcolor}
Message-ID: <6faad9f00610120846r3ed8cbc9v7181a6e82ea25f39@mail.gmail.com>

Hello Hans,

the following code doesn't work any more:

\setupcolors[state=start]

\starttext
\startMPcode
draw \sometxt{abc} withcolor \MPcolor{currentcolor};
\stopMPcode
\stoptext

If I say \color[red]{\startMPcode ... \stopMPcode} then it's OK, but
the "default" isn't.

Thanks a lot,
    Mojca



! Argument of \execcolorRCSP has an extra }.
<inserted text>
                \par
<to be read again>
                   }
\doTeXtext ... \scantokens {#3}\stopcurrentcolor }
                                                  \global \settrue \TeXtextd...

\dodofiltersometxt ...er \TeXtext \txtcounter {#1}
                                                  \expandafter \filtersometx...
<argument>
draw \sometxt {abc} wi
                                  thcolor \MPcolor {currentcolor};
\flushTeXtexts ...llectedmptexts \filtersometxt #1
                                                  \sometxt {}\empty \relax \...
...
l.7 \stopMPcode

?
! Emergency stop.
<inserted text>
                \par
<to be read again>
                   }
\doTeXtext ... \scantokens {#3}\stopcurrentcolor }
                                                  \global \settrue \TeXtextd...

\dodofiltersometxt ...er \TeXtext \txtcounter {#1}
                                                  \expandafter \filtersometx...
<argument>
draw \sometxt {abc} wi
                                  thcolor \MPcolor {currentcolor};
\flushTeXtexts ...llectedmptexts \filtersometxt #1
                                                  \sometxt {}\empty \relax \...
...
l.7 \stopMPcode

From pragma at wxs.nl  Thu Oct 12 19:29:13 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Thu, 12 Oct 2006 19:29:13 +0200
Subject: [dev-context] \sometxt{broken} withcolor \MPcolor{currentcolor}
In-Reply-To: <6faad9f00610120846r3ed8cbc9v7181a6e82ea25f39@mail.gmail.com>
References: <6faad9f00610120846r3ed8cbc9v7181a6e82ea25f39@mail.gmail.com>
Message-ID: <452E7B69.1060701@wxs.nl>

Mojca Miklavec wrote:
> Hello Hans,
>
> the following code doesn't work any more:
>
> \setupcolors[state=start]
>
> \starttext
> \startMPcode
> draw \sometxt{abc} withcolor \MPcolor{currentcolor};
> \stopMPcode
> \stoptext
>
> If I say \color[red]{\startMPcode ... \stopMPcode} then it's OK, but
> the "default" isn't.
>
> Thanks a lot,
>   
mojca proof: (colo-ini):

\letvalue{\??cl*\s!black}\s!black

\def\currentcolorname
  {\csname
     \ifcsname\@@currentcolorname\endcsname
       \expandafter\ifx\csname\@@currentcolorname\endcsname\empty
         \??cl*\s!black
       \else
         \@@currentcolorname
       \fi
     \else
       \??cl*\s!black
     \fi
   \endcsname}

-- 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From adityam at umich.edu  Fri Oct 13 07:23:07 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Fri, 13 Oct 2006 01:23:07 -0400 (EDT)
Subject: [dev-context] An Idea for the garden
Message-ID: <Pine.WNT.4.63.0610130115450.872@nqvgln>

Hi Patrick,

  Occasionally, while browsing sources at source.contextgarden.net, I 
feel the need of seeing the pdf copy of that file. I wonder how 
difficult will it be to add a link, say "View pdf" with each file 
listing, so that if I click that link, I see the output of

texexec --module filename.tex

I do not know if the perl scripts support this. From what I remember, 
in perl texutil kept care of generate module listing.

Maybe, the pdf files can be cached (no idea how) so that they are not 
regenerated, or maybe they can be autogenerated each time the source 
files are updated.

Do not spend too much time on this, I can always do it on my own 
machine :-)

Aditya

From pragma at wxs.nl  Fri Oct 13 09:00:48 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 13 Oct 2006 09:00:48 +0200
Subject: [dev-context] An Idea for the garden
In-Reply-To: <Pine.WNT.4.63.0610130115450.872@nqvgln>
References: <Pine.WNT.4.63.0610130115450.872@nqvgln>
Message-ID: <452F39A0.50105@wxs.nl>

Aditya Mahajan wrote:
> Hi Patrick,
>
>   Occasionally, while browsing sources at source.contextgarden.net, I 
> feel the need of seeing the pdf copy of that file. I wonder how 
> difficult will it be to add a link, say "View pdf" with each file 
> listing, so that if I click that link, I see the output of
>
> texexec --module filename.tex
>
> I do not know if the perl scripts support this. From what I remember, 
> in perl texutil kept care of generate module listing.
>   
texutil functionality has been split over ctxtools., rlstools, tmftools, 
textools, whatevertools and texexec; this particular feature in in ctxtools
> Maybe, the pdf files can be cached (no idea how) so that they are not 
> regenerated, or maybe they can be autogenerated each time the source 
> files are updated.
>
> Do not spend too much time on this, I can always do it on my own 
> machine :-)
>   
Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From patrick at gundla.ch  Fri Oct 13 11:01:22 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Fri, 13 Oct 2006 11:01:22 +0200
Subject: [dev-context] Bug in ruby register code?
In-Reply-To: <452E5A5C.3070202@capdm.com> (Duncan Hothersall's message of "Thu,
	12 Oct 2006 16:08:12 +0100")
References: <452E5A5C.3070202@capdm.com>
Message-ID: <m2mz80bndp.fsf@levana.de>


[...]

> [I discovered this by trying out the code on live.contextgarden, and I
> couldn't understand why I was getting different output from apparently
> the same beta - but then I noticed that the live server is still using
> the old texexec script. Perhaps this ought to be fixed (though it was
> very useful in this case!).]


It's on my to-do list. Can't promise a date, though.

Patrick
-- 
ConTeXt wiki and more: http://contextgarden.net

From dh at capdm.com  Fri Oct 13 16:17:58 2006
From: dh at capdm.com (Duncan Hothersall)
Date: Fri, 13 Oct 2006 15:17:58 +0100
Subject: [dev-context] Bug in ruby register code?
In-Reply-To: <452E5A5C.3070202@capdm.com>
References: <452E5A5C.3070202@capdm.com>
Message-ID: <452FA016.80707@capdm.com>

Duncan Hothersall (12/10/2006 16:08) said:
> Seems to be a bug in the ruby code that works properly in the perl. Try:
> 
> ----
> \starttext
> \index{Knuth}\input knuth \par
> \seeindex{Knuth}{Tufte}\input tufte \par
> \blank\placeindex
> \stoptext
> ----
> 
> With the perl scripts it's right:
> 
> Knuth 1
>   see Tufte
> 
> but with the new ruby scripts it's wrong:
> 
> Knuth
>   see Tufte, 1

As a non-Ruby person I've spent a while trying to work out where the
problem might be but it's tough going. I need to do an index with this
feature on Sun/Mon if poss, so if anyone is able to point me in the
right direction that would be great.

Duncan


From pragma at wxs.nl  Fri Oct 13 16:26:29 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 13 Oct 2006 16:26:29 +0200
Subject: [dev-context] link
Message-ID: <452FA215.2020606@wxs.nl>

http://www.tug.org/interviews/interview-files/taco-hoekwater.html

-- 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From patrick at gundla.ch  Fri Oct 13 21:42:05 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Fri, 13 Oct 2006 21:42:05 +0200
Subject: [dev-context] An Idea for the garden
In-Reply-To: <Pine.WNT.4.63.0610130115450.872@nqvgln> (Aditya Mahajan's
	message of "Fri, 13 Oct 2006 01:23:07 -0400 (EDT)")
References: <Pine.WNT.4.63.0610130115450.872@nqvgln>
Message-ID: <m2r6xc57g2.fsf@levana.de>

Hi Aditya,

>   Occasionally, while browsing sources at source.contextgarden.net, I 
> feel the need of seeing the pdf copy of that file. I wonder how 
> difficult will it be to add a link, say "View pdf" with each file 
> listing, so that if I click that link, I see the output of
>
> texexec --module filename.tex

Well, from what is available now, it is still a very big step. But
I'll write this feature request down and when I've got too much
time.... Until then, please generate those by yourself (but now I
start thinking on it, I could generate the files with a script and
just create this link ... just thinking aloud). 

OK, its a nice idea and it shouldn't be too hard.

Patrick

-- 
ConTeXt wiki and more: http://contextgarden.net

From pragma at wxs.nl  Sat Oct 14 00:08:02 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Sat, 14 Oct 2006 00:08:02 +0200
Subject: [dev-context] Bug in ruby register code?
In-Reply-To: <452FA016.80707@capdm.com>
References: <452E5A5C.3070202@capdm.com> <452FA016.80707@capdm.com>
Message-ID: <45300E42.3070505@wxs.nl>

Duncan Hothersall wrote:
> Duncan Hothersall (12/10/2006 16:08) said:
>   
>> Seems to be a bug in the ruby code that works properly in the perl. Try:
>>
>> ----
>> \starttext
>> \index{Knuth}\input knuth \par
>> \seeindex{Knuth}{Tufte}\input tufte \par
>> \blank\placeindex
>> \stoptext
>> ----
>>
>> With the perl scripts it's right:
>>
>> Knuth 1
>>   see Tufte
>>
>> but with the new ruby scripts it's wrong:
>>
>> Knuth
>>   see Tufte, 1
>>     
>
> As a non-Ruby person I've spent a while trying to work out where the
> problem might be but it's tough going. I need to do an index with this
> feature on Sun/Mon if poss, so if anyone is able to point me in the
> right direction that would be great.
>   
can you play with this (\global\firstregisterpagetrue )

\def\dosetpageregistersee#1#2#3#4% ugly separator hack
  {\flushseenregisterpage
   \expanded{\doifreglevelelse[#4\sectionseparator\sectionseparator0]}%
     {{\global\utilitydonetrue
       \setregisterhowto[#2]%
       \def\dohandleregisterentry##1% dubbelop | \strut nieuw
         {\doregistertexthowto{#1}{\strut
\limitedregisterentry{#1}{##1}}}%
       \getvalue
         {#1\ifcase\currententrylevel
\s!entrya\or\s!entryb\else\s!entryc\fi}%
         {\doregisterpagehowto{#1}{\labeltexts\v!see{#3}}}%
       \c!entryletter\c!entrya\c!entryb\c!entryc
       \global\let\c!entrya\relax
       \global\let\c!entryb\relax
       \global\let\c!entryc\relax
       \global\let\c!entryletter\relax
       \global\let\c!entryreference\relax
       \global\chardef\lastregisterpagestatus\zerocount
    %   \global\firstregisterentrytrue
       \global\firstregisterpagetrue}}
     {}}

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From adityam at umich.edu  Sat Oct 14 02:22:26 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Fri, 13 Oct 2006 20:22:26 -0400 (EDT)
Subject: [dev-context] An Idea for the garden
In-Reply-To: <m2r6xc57g2.fsf@levana.de>
References: <Pine.WNT.4.63.0610130115450.872@nqvgln> <m2r6xc57g2.fsf@levana.de>
Message-ID: <Pine.WNT.4.63.0610132019140.1564@nqvgln>

On Fri, 13 Oct 2006, Patrick Gundlach wrote:

> Hi Aditya,
>
>>   Occasionally, while browsing sources at source.contextgarden.net, I
>> feel the need of seeing the pdf copy of that file. I wonder how
>> difficult will it be to add a link, say "View pdf" with each file
>> listing, so that if I click that link, I see the output of
>>
>> texexec --module filename.tex
>
> Well, from what is available now, it is still a very big step. But
> I'll write this feature request down and when I've got too much
> time.... Until then, please generate those by yourself (but now I
> start thinking on it, I could generate the files with a script and
> just create this link ... just thinking aloud).
>
> OK, its a nice idea and it shouldn't be too hard.

I was playing around with a script, some observations. Some Context 
files do not compile, I will make a list of them and see how they can 
be corrected. The new mkii and mkiv means that the script needs to be 
more intelligent than a simple

for FILE in *.*
  do
   texmfstart texexec --module $FILE ;
  done;

If the file ends in mkii, you need to add --result $FILE-mkii.pdf (or 
something like that)

Wasn't there a project somewhere with the compiled pdf of all sources?

Aditya

From dh at capdm.com  Sat Oct 14 12:39:44 2006
From: dh at capdm.com (Duncan Hothersall)
Date: Sat, 14 Oct 2006 11:39:44 +0100
Subject: [dev-context] Bug in ruby register code?
In-Reply-To: <45300E42.3070505@wxs.nl>
References: <452E5A5C.3070202@capdm.com> <452FA016.80707@capdm.com>
	<45300E42.3070505@wxs.nl>
Message-ID: <4530BE70.6010907@capdm.com>

>>> With the perl scripts it's right:
>>>
>>> Knuth 1
>>>   see Tufte
>>>
>>> but with the new ruby scripts it's wrong:
>>>
>>> Knuth
>>>   see Tufte, 1
>>>     
>>
>> As a non-Ruby person I've spent a while trying to work out where the
>> problem might be but it's tough going. I need to do an index with this
>> feature on Sun/Mon if poss, so if anyone is able to point me in the
>> right direction that would be great.
>>   
> can you play with this (\global\firstregisterpagetrue )
> 
> \def\dosetpageregistersee#1#2#3#4% ugly separator hack
...
>       \global\firstregisterpagetrue}}
>     {}}

That seems to remove the comma, but the page reference is still
appearing on the wrong entry. I tried playing with other bits of that
code but didn't get anywhere.

I'm confused because it doesn't seem to be a TeX code issue - the same
TeX code produced both versions above, the only difference (I could see)
was that one was the old perl texexec + texutil and the other was the
new ruby combined texexec.

Sorry if I got the wrong end of the stick.

Duncan


From pragma at wxs.nl  Sat Oct 14 20:59:37 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Sat, 14 Oct 2006 20:59:37 +0200
Subject: [dev-context] Bug in ruby register code?
In-Reply-To: <452E5A5C.3070202@capdm.com>
References: <452E5A5C.3070202@capdm.com>
Message-ID: <45313399.4020008@wxs.nl>

Duncan Hothersall wrote:
> Seems to be a bug in the ruby code that works properly in the perl. Try:
>
> ----
> \starttext
> \index{Knuth}\input knuth \par
> \seeindex{Knuth}{Tufte}\input tufte \par
> \blank\placeindex
> \stoptext
> ----
>
> With the perl scripts it's right:
>
> Knuth 1
>   see Tufte
>
> but with the new ruby scripts it's wrong:
>
> Knuth
>   see Tufte, 1
>
> I don't know if it's relevant but the difference between the two .tuo
> files seems just to be reversal of two lines; the perl run shows:
>
> \registerentry{index}{k}
> \registerentrya{index}{Knuth}
> \registerpage{index}{,}{1}{2--0-0-0-0-0-0-0--1}{1}
> \registersee{index}{,}{Tufte}{2--0-0-0-0-0-0-0}
>
> while the ruby run shows:
>
> \registerentry{index}{k}
> \registerentrya{index}{Knuth}
> \registersee{index}{,}{Tufte}{2--0-0-0-0-0-0-0}
> \registerpage{index}{,}{1}{2--0-0-0-0-0-0-0--1}{1}
>
>
> [I discovered this by trying out the code on live.contextgarden, and I
> couldn't understand why I was getting different output from apparently
> the same beta - but then I noticed that the live server is still using
> the old texexec script. Perhaps this ought to be fixed (though it was
> very useful in this case!).]
>   
can you play a bit with: 
                        @@registers[data[1]].push(Register.new(4,data[1],data[2],data[3],data[4],data[5],data[6],0))

(nil -> 0) around line 798 in base/texutil.rb  


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From pragma at wxs.nl  Sat Oct 14 21:01:17 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Sat, 14 Oct 2006 21:01:17 +0200
Subject: [dev-context] Bug in ruby register code?
In-Reply-To: <4530BE70.6010907@capdm.com>
References: <452E5A5C.3070202@capdm.com> <452FA016.80707@capdm.com>
	<45300E42.3070505@wxs.nl> <4530BE70.6010907@capdm.com>
Message-ID: <453133FD.2020605@wxs.nl>

Duncan Hothersall wrote:
> Sorry if I got the wrong end of the stick.
>   
we need some extensive test for registers in the test repository

(esp since some day we may move sorting code inside tex using lua)

Hans

-- 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From pragma at wxs.nl  Sat Oct 14 21:20:04 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Sat, 14 Oct 2006 21:20:04 +0200
Subject: [dev-context] An Idea for the garden
In-Reply-To: <Pine.WNT.4.63.0610132019140.1564@nqvgln>
References: <Pine.WNT.4.63.0610130115450.872@nqvgln> <m2r6xc57g2.fsf@levana.de>
	<Pine.WNT.4.63.0610132019140.1564@nqvgln>
Message-ID: <45313864.4040709@wxs.nl>

Aditya Mahajan wrote:
>
> I was playing around with a script, some observations. Some Context 
> files do not compile, I will make a list of them and see how they can 
> be corrected. The new mkii and mkiv means that the script needs to be 
> more intelligent than a simple
>   
ah, good point 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From dh at capdm.com  Mon Oct 16 17:23:15 2006
From: dh at capdm.com (Duncan Hothersall)
Date: Mon, 16 Oct 2006 16:23:15 +0100
Subject: [dev-context] Bug in ruby register code?
In-Reply-To: <45313399.4020008@wxs.nl>
References: <452E5A5C.3070202@capdm.com> <45313399.4020008@wxs.nl>
Message-ID: <4533A3E3.5010104@capdm.com>

> can you play a bit with:                       
> @@registers[data[1]].push(Register.new(4,data[1],data[2],data[3],data[4],data[5],data[6],0))
> 
> 
> (nil -> 0) around line 798 in base/texutil.rb 

That seems to break quite a lot on my big index - just outputs
everything in page order, and with no interpretation of "+" parts. If I
change it to '0' instead it behaves exactly like nil; as does '' as far
as I can tell.

Subsequently I experimented with these eight values to try to understand
what each of them represents, but your code is a bit (far) too clever
for me.

Wish I could be of more use.

Duncan


From mojca.miklavec.lists at gmail.com  Tue Oct 17 14:46:36 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Tue, 17 Oct 2006 14:46:36 +0200
Subject: [dev-context] An Idea for the garden
In-Reply-To: <Pine.WNT.4.63.0610132019140.1564@nqvgln>
References: <Pine.WNT.4.63.0610130115450.872@nqvgln> <m2r6xc57g2.fsf@levana.de>
	<Pine.WNT.4.63.0610132019140.1564@nqvgln>
Message-ID: <6faad9f00610170546m47cc9f5fh84db1138f688a8cf@mail.gmail.com>

On 10/14/06, Aditya Mahajan wrote:
> Wasn't there a project somewhere with the compiled pdf of all sources?

Do you mean this one?
    http://wiki.contextgarden.net/User:Luigi.scarso/modules.pdf

Mojca

From adityam at umich.edu  Tue Oct 17 21:00:24 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Tue, 17 Oct 2006 15:00:24 -0400 (EDT)
Subject: [dev-context] An Idea for the garden
In-Reply-To: <6faad9f00610170546m47cc9f5fh84db1138f688a8cf@mail.gmail.com>
References: <Pine.WNT.4.63.0610130115450.872@nqvgln> <m2r6xc57g2.fsf@levana.de>
	<Pine.WNT.4.63.0610132019140.1564@nqvgln>
	<6faad9f00610170546m47cc9f5fh84db1138f688a8cf@mail.gmail.com>
Message-ID: <Pine.WNT.4.63.0610171441020.2472@nqvgln>

On Tue, 17 Oct 2006, Mojca Miklavec wrote:

> On 10/14/06, Aditya Mahajan wrote:
>> Wasn't there a project somewhere with the compiled pdf of all sources?
>
> Do you mean this one?
>   http://wiki.contextgarden.net/User:Luigi.scarso/modules.pdf

Yes. I noticed that Luigi also has a file for making the sources. 
I always wondered what was the purpose of s-mod-2.tex and this 
document explains it.

I will work with this and see if this document can be kept up to date.

Aditya

From mojca.miklavec.lists at gmail.com  Thu Oct 26 19:16:09 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 26 Oct 2006 19:16:09 +0200
Subject: [dev-context] pdfetex: Not writing to ../../type-enc
Message-ID: <6faad9f00610261016p2ea84396r1307887c2f4606ad@mail.gmail.com>

Just out of curiosity: what exactly do the following messages mean?

I'm experiencing a strange problem on the garden: some things that
work in "live" fail on the wiki.


(/opt/local/texmf/tex/context/cont-sys.texpdfetex: Not writing to
../type-exa (openin_any = p).
pdfetex: Not writing to ../../type-exa (openin_any = p).

(/opt/context/current/texmf/tex/context/base/type-exa.tex)pdfetex: Not
writing to ../type-syn (openin_any = p).
pdfetex: Not writing to ../../type-syn (openin_any = p).

(/opt/context/current/texmf/tex/context/base/type-syn.tex)pdfetex: Not
writing to ../type-enc (openin_any = p).
pdfetex: Not writing to ../../type-enc (openin_any = p).

(/opt/context/current/texmf/tex/context/base/type-enc.tex)pdfetex: Not
writing to ../type-siz (openin_any = p).
pdfetex: Not writing to ../../type-siz (openin_any = p).

(/opt/context/current/texmf/tex/context/base/type-siz.tex)pdfetex: Not
writing to ../type-map (openin_any = p).
pdfetex: Not writing to ../../type-map (openin_any = p).

(/opt/context/current/texmf/tex/context/base/type-map.tex)pdfetex: Not
writing to ../type-spe (openin_any = p).
pdfetex: Not writing to ../../type-spe (openin_any = p).


To be more specific, I was testing Hans's example:

\definefontsynonym [MathGamma]  [prodint]
\definefamilysynonym [default]  [xop]   [mc]
\startmathcollection [default]
\definemathsymbol [prodi]  [op]  [xop] [80]
\definemathsymbol [Prodi]  [op]  [xop] [82]
\definemathsymbol [PRODI]  [op]  [xop] [84]

\stopmathcollection
\loadmapfile[prodint]

\starttypescript [math] [modern,computer-modern,latin-modern,ams] [size]
  \definebodyfont
[17.3pt,14.4pt,12pt,11pt,10pt,9pt,8pt,7pt,6pt,5pt,4pt] [mm] [mc=prodint]
\stoptypescript
\definetypeface [modern] [mm] [math]  [modern]
                [computer-modern][encoding=default]
\setupbodyfont[reset,modern,10pt]
\enablemathcollection[prodint]

$\prodi$

Thanks,
Mojca

From taco at elvenkind.com  Thu Oct 26 19:35:14 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 26 Oct 2006 19:35:14 +0200
Subject: [dev-context] pdfetex: Not writing to ../../type-enc
In-Reply-To: <6faad9f00610261016p2ea84396r1307887c2f4606ad@mail.gmail.com>
References: <6faad9f00610261016p2ea84396r1307887c2f4606ad@mail.gmail.com>
Message-ID: <4540F1D2.20006@elvenkind.com>

Mojca Miklavec wrote:
> Just out of curiosity: what exactly do the following messages mean?

Its a buggy message from web2c/s file opening paranoia. It should
have said:

   pdfetex: Not reading from ../type-exa (openin_any = p).

but someone messed up the message. IIRC, this is fixed in the TL
source tree already. It simply means that pdfetex has rejected
the file ../type-exa because openin_any is set to p[aranoid].

Taco

> I'm experiencing a strange problem on the garden: some things that
> work in "live" fail on the wiki.
> 
> (/opt/local/texmf/tex/context/cont-sys.texpdfetex: Not writing to
> ../type-exa (openin_any = p).
> pdfetex: Not writing to ../../type-exa (openin_any = p).
> 

From pragma at wxs.nl  Thu Oct 26 21:53:31 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Thu, 26 Oct 2006 21:53:31 +0200
Subject: [dev-context] pdfetex: Not writing to ../../type-enc
In-Reply-To: <6faad9f00610261016p2ea84396r1307887c2f4606ad@mail.gmail.com>
References: <6faad9f00610261016p2ea84396r1307887c2f4606ad@mail.gmail.com>
Message-ID: <4541123B.9070803@wxs.nl>

Mojca Miklavec wrote:
> Just out of curiosity: what exactly do the following messages mean?
>
> I'm experiencing a strange problem on the garden: some things that
> work in "live" fail on the wiki.
>
>
> (/opt/local/texmf/tex/context/cont-sys.texpdfetex: Not writing to
> .../type-exa (openin_any = p).
> pdfetex: Not writing to ../../type-exa (openin_any = p).
>
> (/opt/context/current/texmf/tex/context/base/type-exa.tex)pdfetex: Not
> writing to ../type-syn (openin_any = p).
> pdfetex: Not writing to ../../type-syn (openin_any = p).
>
> (/opt/context/current/texmf/tex/context/base/type-syn.tex)pdfetex: Not
> writing to ../type-enc (openin_any = p).
> pdfetex: Not writing to ../../type-enc (openin_any = p).
>
> (/opt/context/current/texmf/tex/context/base/type-enc.tex)pdfetex: Not
> writing to ../type-siz (openin_any = p).
> pdfetex: Not writing to ../../type-siz (openin_any = p).
>
> (/opt/context/current/texmf/tex/context/base/type-siz.tex)pdfetex: Not
> writing to ../type-map (openin_any = p).
> pdfetex: Not writing to ../../type-map (openin_any = p).
>
> (/opt/context/current/texmf/tex/context/base/type-map.tex)pdfetex: Not
> writing to ../type-spe (openin_any = p).
> pdfetex: Not writing to ../../type-spe (openin_any = p).
>   
paranoid mode is configured in the cnf file; the message is wrong: it 
means that pdftex is not reading (openin_any)
>
> To be more specific, I was testing Hans's example:
>
> \definefontsynonym [MathGamma]  [prodint]
> \definefamilysynonym [default]  [xop]   [mc]
> \startmathcollection [default]
> \definemathsymbol [prodi]  [op]  [xop] [80]
> \definemathsymbol [Prodi]  [op]  [xop] [82]
> \definemathsymbol [PRODI]  [op]  [xop] [84]
>
> \stopmathcollection
> \loadmapfile[prodint]
>
> \starttypescript [math] [modern,computer-modern,latin-modern,ams] [size]
>   \definebodyfont
> [17.3pt,14.4pt,12pt,11pt,10pt,9pt,8pt,7pt,6pt,5pt,4pt] [mm] [mc=prodint]
> \stoptypescript
> \definetypeface [modern] [mm] [math]  [modern]
>                 [computer-modern][encoding=default]
> \setupbodyfont[reset,modern,10pt]
> \enablemathcollection[prodint]
>
> $\prodi$
>   
afaik it only means that context fails to find in the two parent paths 
which should not be a problem here but may be a problem in project setups

-- 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From mgb-debian at yosemite.net  Tue Nov 14 10:42:38 2006
From: mgb-debian at yosemite.net (Mike Bird)
Date: Tue, 14 Nov 2006 01:42:38 -0800
Subject: [dev-context] Register page number collapse patch
Message-ID: <200611140142.41078.mgb-debian@yosemite.net>

Greetings,

Attached please find a small patch against the Nov 5th beta
which fixes a few bugs in register page number compression.

--Mike Bird
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mgb-register-page-collapse.patch
Type: text/x-diff
Size: 3577 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20061114/3268791b/attachment.bin 

From taco at elvenkind.com  Tue Nov 14 14:20:13 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 14 Nov 2006 14:20:13 +0100
Subject: [dev-context] <module authors> Contextgarden modules and TeXLive
	deadline
In-Reply-To: <4559BCDE.4020805@wxs.nl>
References: <45412D90.9040203@nibua-r.org>	<6faad9f00611112133k428d62a1tfc1bdc2a48f21ade@mail.gmail.com>	<4558B863.8030905@nibua-r.org>	<6faad9f00611131600g4bfb5532i30e305f32a24bf5b@mail.gmail.com>
	<4559BCDE.4020805@wxs.nl>
Message-ID: <4559C28D.9030309@elvenkind.com>


Hi all,

Hans Hagen wrote:
>>  
> 
> maybe at least have a release before tex live gets frozen ... 20/11 

in reply to Mojca.

In fact, this is true for all context modules currently in the garden or
still on your harddisks only: if you want your module to be on the next
TeXLive / TeX Collection, please make sure that:

* your module uses a TeX Directory Structure (TDS) compliant disk layout
   (ask for help if you don't know how to arrange that)

* the to-be-used version of it is on the third party section of
   http://modules.contextgarden.net on November 18th, no later
   (ask for help if you don't know how to arrange that)

* there is some documentation, preferably with TeX sources, included

* the license is filled in, and compatible with TeXLive / TeX Collection
   (LPPL|GPL|BSD|PD are all fine)

* email me !*


The more ConTeXt stuff we have on TeXLive, the more useful TeXLive will
be for other ConTeXt users, so please consider spending a bit of effort
on this in the coming week !


Greetings, Taco

*(unless your module is already included in cont-ext.zip)






From pragma at wxs.nl  Tue Nov 14 16:17:48 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 14 Nov 2006 15:17:48 +0000
Subject: [dev-context] Register page number collapse patch
In-Reply-To: <200611140142.41078.mgb-debian@yosemite.net>
References: <200611140142.41078.mgb-debian@yosemite.net>
Message-ID: <4559DE1C.5090200@wxs.nl>

Mike Bird wrote:
> Greetings,
>
> Attached please find a small patch against the Nov 5th beta
> which fixes a few bugs in register page number compression.
>
>   
ok, i'll have a look

btw, next time, just send me the changed files, which i will then 
compare in a visual diff ; i never managed to get patch working under 
windows

is there also a tex test file?

Hans

From mgb-debian at yosemite.net  Tue Nov 14 21:08:21 2006
From: mgb-debian at yosemite.net (Mike Bird)
Date: Tue, 14 Nov 2006 12:08:21 -0800
Subject: [dev-context] Register page number collapse patch
In-Reply-To: <4559DE1C.5090200@wxs.nl>
References: <200611140142.41078.mgb-debian@yosemite.net>
	<4559DE1C.5090200@wxs.nl>
Message-ID: <200611141208.23996.mgb-debian@yosemite.net>

On Tuesday 14 November 2006 07:17, Hans Hagen wrote:
> Mike Bird wrote:
> > Attached please find a small patch against the Nov 5th beta
> > which fixes a few bugs in register page number compression.
>
> ok, i'll have a look
>
> btw, next time, just send me the changed files, which i will then
> compare in a visual diff ; i never managed to get patch working under
> windows

Hi Hans,

Sorry you're stuck in Windows.  Updated core-reg.tex attached.

> is there also a tex test file?

Short answer: No.

Long answer: A substantial test file is needed to demonstrate all
the page collapsing problems.  I do not have time to produce a
public domain test.  I have tested it on a 35-page document which
is not releasable.  On that document it fixes the all of the known
bugs and does not break register placement when compress is off.

Here is a part of a register placement from the 35-page document.
The item names have been changed.

Uncompressed:
A . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
B . . . . . . . . . . . . . . . . . . . . . . . . 2, 3, 7
C . . . . . . . . . . . . . . . . . . . . . . . . . .  15
D . . . . . . . . . . . . . . . . . . . . . . . . . .  20
E . . . . . . . . . . . . . . . . . . . . . . . .  16, 18
F . . . . . . . . . . . . . . . . . . . . . . . .  18, 19
G . . . . . . . . . . . . . . . . . . . . . . . . . .  24
H . . . . . .  13, 14, 14, 14, 14, 15, 15, 16, 16, 16, 16,
   23, 24, 25, 25, 25
I . . . . . . . . . . . . . . . . . . .  6, 7, 18, 22, 22
J . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
K . . . . . . . . . . . .  2, 3, 6, 7, 20, 21, 22, 22, 27

Compressed, using Nov 3rd beta:
A . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
B . . . . . . . . . . . . . . . . . . . . . . . . .  2, 3
C . . . . . . . . . . . . . . . . . . . . . . . . . . . 7
D . . . . . . . . . . . . . . . . . . . . . . . . . .  15
E . . . . . . . . . . . . . . . . . . . . . . . .  20, 16
F . . . . . . . . . . . . . . . . . . . . . . . .  18, 19
G . . . . . . . . . . . . . . . . . . . . . . . . . .  24
H . . . . . . . . . . . . . . . . . . .  13, 14?23, 23?25
I . . . . . . . . . . . . . . . . . . . . .  6, 7, 18, 22
J . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
K . . . . . . . . . . . . . . . . . . . 2, 3, 6?20, 20?27

Compressed, with patch:
A . . . . . . . . . . . . . . . . . . . . . . . . . . . 4
B . . . . . . . . . . . . . . . . . . . . . . . .  2?3, 7
C . . . . . . . . . . . . . . . . . . . . . . . . . .  15
D . . . . . . . . . . . . . . . . . . . . . . . . . .  20
E . . . . . . . . . . . . . . . . . . . . . . . .  16, 18
F . . . . . . . . . . . . . . . . . . . . . . . . . 18?19
G . . . . . . . . . . . . . . . . . . . . . . . . . .  24
H . . . . . . . . . . . . . . . . . . . . .  13?16, 23?25
I . . . . . . . . . . . . . . . . . . . . . . 6?7, 18, 22
J . . . . . . . . . . . . . . . . . . . . . . . . . . . 6
K . . . . . . . . . . . . . . . . . . 2?3, 6?7, 20?22, 27

--Mike Bird
-------------- next part --------------
A non-text attachment was scrubbed...
Name: core-reg.tex
Type: text/x-tex
Size: 38381 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20061114/62dd5b87/attachment-0001.bin 

From pragma at wxs.nl  Wed Nov 15 10:42:09 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 15 Nov 2006 09:42:09 +0000
Subject: [dev-context] Register page number collapse patch
In-Reply-To: <200611141208.23996.mgb-debian@yosemite.net>
References: <200611140142.41078.mgb-debian@yosemite.net>
	<4559DE1C.5090200@wxs.nl>
	<200611141208.23996.mgb-debian@yosemite.net>
Message-ID: <455AE0F1.6040107@wxs.nl>

Mike Bird wrote:
> On Tuesday 14 November 2006 07:17, Hans Hagen wrote:
>   
>> Mike Bird wrote:
>>     
>>> Attached please find a small patch against the Nov 5th beta
>>> which fixes a few bugs in register page number compression.
>>>       
>> ok, i'll have a look
>>
>> btw, next time, just send me the changed files, which i will then
>> compare in a visual diff ; i never managed to get patch working under
>> windows
>>     
>
> Hi Hans,
>
> Sorry you're stuck in Windows.  Updated core-reg.tex attached.
>   
no need to feel sorry, since i'm a happy windows user (desktop apps) as well as a happy linux users (server apps) at the same time; it's just that i haven't installed/figured out anything related to 'patch' and i prefer to see things side by side (it's the reason why i have vim installed; it has a nice diff viewer) 

Hans 

-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From mgb at yosemite.net  Thu Nov 16 09:00:56 2006
From: mgb at yosemite.net (Mike Bird)
Date: Thu, 16 Nov 2006 00:00:56 -0800
Subject: [dev-context] Register page number collapse patch for 2006/11/14
	beta
In-Reply-To: <200611140142.41078.mgb-debian@yosemite.net>
References: <200611140142.41078.mgb-debian@yosemite.net>
Message-ID: <200611160000.58661.mgb@yosemite.net>

Hans,

Attached please find a register page number collapse patch and
updated core-reg.tex.  These versions are for the 2006/11/14 beta.

I have tested them against my document and against Steffen's
two documents.

Sincerely,

--Mike Bird
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mgb-register-page-collapse.patch
Type: text/x-diff
Size: 7881 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20061116/3b229d94/attachment-0002.bin 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: core-reg.tex
Type: text/x-tex
Size: 40247 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20061116/3b229d94/attachment-0003.bin 

From taco at elvenkind.com  Thu Nov 16 09:08:01 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 16 Nov 2006 09:08:01 +0100
Subject: [dev-context] dev-context post from mgb@yosemite.net requires
	approval
In-Reply-To: <mailman.430.1163664074.2161.dev-context@ntg.nl>
References: <mailman.430.1163664074.2161.dev-context@ntg.nl>
Message-ID: <455C1C61.9020801@elvenkind.com>


Hi,

This reminds me: Hans, can you set the maximum post size for
dev-context a bit higher? 40k is so small that the simplest things
on this list need to be approved.

Taco

dev-context-owner at ntg.nl wrote:
> As list administrator, your authorization is requested for the
> following mailing list posting:
> 
>     List:    dev-context at ntg.nl
>     From:    mgb at yosemite.net
>     Subject: Register page number collapse patch for 2006/11/14 beta
>     Reason:  Post by non-member to a members-only list
> 
> At your convenience, visit:
> 
>     http://www.ntg.nl/mailman/admindb/dev-context
>         
> to approve or deny the request.
> 


From pragma at wxs.nl  Thu Nov 16 09:17:47 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Thu, 16 Nov 2006 09:17:47 +0100
Subject: [dev-context] dev-context post from mgb@yosemite.net requires
 approval
In-Reply-To: <455C1C61.9020801@elvenkind.com>
References: <mailman.430.1163664074.2161.dev-context@ntg.nl>
	<455C1C61.9020801@elvenkind.com>
Message-ID: <455C1EAB.3010708@wxs.nl>

Taco Hoekwater wrote:
> Hi,
>
> This reminds me: Hans, can you set the maximum post size for
> dev-context a bit higher? 40k is so small that the simplest things
> on this list need to be approved.
>
>   
i set it to 100k

Hans


From atl at comp.lancs.ac.uk  Thu Nov 16 18:00:13 2006
From: atl at comp.lancs.ac.uk (Adam Lindsay)
Date: Thu, 16 Nov 2006 17:00:13 +0000
Subject: [dev-context] Gyre enhancements
Message-ID: <455C991D.80405@comp.lancs.ac.uk>

The attached file is intended to be a drop-in-replacement for type-gyr. 
I added (sc/osf) variant support for termes/pagella/bonum (and only 
under those names, not the normal "Adobe" names).

Cheers,
adam
-------------- next part --------------
A non-text attachment was scrubbed...
Name: type-gyr-plus.tex
Type: application/x-tex
Size: 6870 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20061116/3c664225/attachment.tex 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.tex
Type: application/x-tex
Size: 390 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20061116/3c664225/attachment-0001.tex 

From sanjoy at mrao.cam.ac.uk  Fri Nov 17 00:41:02 2006
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Thu, 16 Nov 2006 23:41:02 +0000
Subject: [dev-context] texexec vs texmfstart texexec.rb
Message-ID: <E1Gkqqs-0007Mr-00@skye.ra.phy.cam.ac.uk>

I'm just checking over the context man pages (which Hans sent me off
list) that will go into the next TeXLive.  The main change since the
old (Perl) days is that texexec is now not a standalone program.
Rather, one calls it using texmfstart.  

So people will be confused when they see a man page for texexec but
find no executable with the same name.  Similarly, there's a man page
for texmfstart but no texmfstart executable.  Instead it's a ruby
script texmfstart.rb.

So I think that the default installation should supply the direct
executables.  Here's what I do on Linux (no idea whether any of the
above or below applies to Windows).  For texmfstart:

  #!/bin/sh
  ruby `kpsewhich --format=texmfscripts texmfstart.rb` "$@"

For texexec:

  #!/bin/sh
  texmfstart texexec.rb "$@"

Both are in ~/bin but ideally for TeXlive they would go to /usr/bin
(or wherever TeXlive puts things).

-Sanjoy

`Never underestimate the evil of which men of power are capable.'
         --Bertrand Russell, _War Crimes in Vietnam_, chapter 1.

From sanjoy at mrao.cam.ac.uk  Wed Nov 29 05:33:26 2006
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Tue, 28 Nov 2006 23:33:26 -0500
Subject: [dev-context] texexec --scale=2 buglet (PATCH)
Message-ID: <E1GpH8Q-0006kO-8A@approximate.corpus.cam.ac.uk>

In documenting as many texexec switches as I can find, I ran across this
buglet:

$ texexec --pages=1 --pdfcopy --scale=2 xyz.pdf
...
! Number too big.
\@@efscale ->2222222222
                       22222222222222222222222222222222222222222222222222222...

The culprit is line 431 of texexec.rb (v6.2.0):

                    scale = (scale * 1000).to_i if scale.to_i < 10

where the (scale * 1000) should be (scale.to_i * 1000), otherwise ruby
is doing like Python: with scale as a string, the * 1000 replicates it
1000 times!

While looking at the code, I wondered about the next few lines:

                            f <<  "\\definepapersize\n"
                            f <<  "  [copy]\n"
                            f <<  "  [width=\\figurewidth,\n"
                            f <<  "   height=\\figureheight]\n"

Shouldn't the width be \\figurewidth * (scale/1000), and the same idea
for height?  Otherwise scale=2000 will expand the figures beyond the
page size.

-Sanjoy

`Our society is run by insane people for insane objectives.' (John Lennon)

From pragma at wxs.nl  Wed Nov 29 09:55:30 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 29 Nov 2006 09:55:30 +0100
Subject: [dev-context] texexec --scale=2 buglet (PATCH)
In-Reply-To: <E1GpH8Q-0006kO-8A@approximate.corpus.cam.ac.uk>
References: <E1GpH8Q-0006kO-8A@approximate.corpus.cam.ac.uk>
Message-ID: <456D4B02.1060107@wxs.nl>

Sanjoy Mahajan wrote:
> In documenting as many texexec switches as I can find, I ran across this
> buglet:
>
> $ texexec --pages=1 --pdfcopy --scale=2 xyz.pdf
> ....
> ! Number too big.
> \@@efscale ->2222222222
>                        22222222222222222222222222222222222222222222222222222...
>
> The culprit is line 431 of texexec.rb (v6.2.0):
>
>                     scale = (scale * 1000).to_i if scale.to_i < 10
>
> where the (scale * 1000) should be (scale.to_i * 1000), otherwise ruby
> is doing like Python: with scale as a string, the * 1000 replicates it
> 1000 times
okay:
                    begin
                        scale = (scale.to_i * 1000).to_i if scale.to_i < 10
                    rescue
                        scale = 1000
                    end

> !
>
> While looking at the code, I wondered about the next few lines:
>
>                             f <<  "\\definepapersize\n"
>                             f <<  "  [copy]\n"
>                             f <<  "  [width=\\figurewidth,\n"
>                             f <<  "   height=\\figureheight]\n"
>
> Shouldn't the width be \\figurewidth * (scale/1000), and the same idea
> for height?  Otherwise scale=2000 will expand the figures beyond the
> page size.
>   

\getfiguredimensions

a few lines earlier will calculate the scaled width which is then used


Hans


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From sanjoy at mrao.cam.ac.uk  Wed Nov 29 13:56:16 2006
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Wed, 29 Nov 2006 12:56:16 +0000
Subject: [dev-context] texexec --scale=2 buglet (PATCH)
In-Reply-To: Your message of "Wed, 29 Nov 2006 09:55:30 +0100."
	<456D4B02.1060107@wxs.nl> 
Message-ID: <E1GpOz2-0003mK-00@skye.ra.phy.cam.ac.uk>

Hans,

> \getfiguredimensions
> a few lines earlier will calculate the scaled width which is then used

I ran a test:

==================================================================
$ cat xyz.mp
beginfig(1)
  draw unitsquare scaled 2in;
endfig;
end

$ mpost xyz
...
$ mptopdf xyz.1
...
$ texexec --pdfcopy --scale=3000 --result=one xyz-1.pdf
...
$ pdfinfo xyz-1.pdf  /* original dimensions are 2in * 2in, plus 0.5bp margin */
Creator:        TeX
Producer:       pdfeTeX-1.30.6
CreationDate:   Wed Nov 29 07:49:43 2006
Page size:      144.5 x 144.5 pts

$ pdfinfo one.pdf  /* it's still 2in*2in despite the scale=3000 */
Creator:        ConTeXt - 2006.11.22 11:02
Producer:       pdfeTeX-1.30.6
CreationDate:   Wed Nov 29 07:50:14 2006
Page size:      144.5 x 144.5 pts

/* Also, the square is invisible, because it extends beyond the page.
   Using scale=600 also leaves the page size unchanged, but the square
   is now visible. */

==============================================================

The problem is that \getfiguredimensions doesn't yet know the scale.
Here's the lines from texexec.rb that write to the temporary source
file.  The first use of the ruby 'scale' variable is in \copypages,
but the \getfiguredimensions has already happened.

                    f << "\\starttext\n"
                    files.each do |filename|
                        result = @commandline.checkedoption('result','texexec')
                        if (filename !~ /^texexec/io) && (filename !~ /^#{result}/) then
                            report("copying file: #{filename}")
                            f <<  "\\getfiguredimensions\n"
                            f <<  "  [#{filename}]\n"
                            f <<  "  [page=1"
                            f <<  ",\n   size=trimbox" if trim
                            f <<  "]\n"
                            f <<  "\\definepapersize\n"
                            f <<  "  [copy]\n"
                            f <<  "  [width=\\figurewidth,\n"
                            f <<  "   height=\\figureheight]\n"
                            f <<  "\\setuppapersize\n"
                            f <<  "  [copy][copy]\n"
                            f <<  "\\setuplayout\n"
                            f <<  "  [page]\n"
                            f <<  "\\setupexternalfigures\n"
                            f <<  "  [directory=]\n"
                            f <<  "\\copypages\n"
                            f <<  "  [#{filename}]\n"
                            f <<  "  [scale=#{scale},\n"
                            f <<  "   marking=on,\n" if @commandline.option('markings')
                            f <<  "   size=trimbox,\n" if trim
                            f <<  "   offset=#{paperoffset}]\n"
                        end
                    end
                    f << "\\stoptext\n"
                    f.close

-Sanjoy

`Never underestimate the evil of which men of power are capable.'
         --Bertrand Russell, _War Crimes in Vietnam_, chapter 1.

From mojca.miklavec.lists at gmail.com  Fri Dec  1 18:50:57 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 1 Dec 2006 18:50:57 +0100
Subject: [dev-context] ugly bug in sometxt
Message-ID: <6faad9f00612010950x16c3ddd2s49cf0c743c971bba@mail.gmail.com>

Hello Hans,

I don't understand how I managed not to spot this before since I use
it frequently, but \sometxt seems to scale the labels according to the
last defined label. In other words, if one defines one \sometxt{short}
in the first graphic and one \sometxt{\dorecurse{10}{very }long} then
the first text will be scaled to the length of the second one.

Mojca



\setupcolors[state=start]
\setuptyping[file][option=TEX]

% In my opinion this should be the default
\chardef\TeXtextcolormode\zerocount

\def\getexample{\placefigure[force]{none}{\getbuffer}}

\startbuffer
\startMPcode
   draw fullcircle xyscaled (3cm,2cm);
   label(\sometxt{Hello world!}, origin);
\stopMPcode
\stopbuffer
\typebuffer
\getexample

\startbuffer
\startTeXtexts
  \TeXtext{1}{Hello}
  \TeXtext{2}{world!}
\stopTeXtexts

\startMPcode
  draw sometxt(1) withcolor red;
  draw sometxt(2) shifted (2cm,0) withcolor blue;
\stopMPcode
\stopbuffer
\typebuffer
\getexample

\startbuffer
\def\ForThoseWhoReallyHateLongCommands#1%
    {\framed[framecolor=blue]{\strut\bs #1}}
\definetextext[xs]{\ForThoseWhoReallyHateLongCommands}

\startMPcode
picture p; p = \sometxt[xs]{Framed title with eXtra Small overhelm};
fill bbox p withcolor .7white;
draw p;
\stopMPcode
\stopbuffer
\typebuffer
% try to uncomment this one
\getexample

\stoptext

From sanjoy at mrao.cam.ac.uk  Sat Dec  2 03:16:02 2006
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Fri, 01 Dec 2006 21:16:02 -0500
Subject: [dev-context] texexec buglets
Message-ID: <E1GqKQ6-0003UP-1A@approximate.corpus.cam.ac.uk>

A couple (ruby) texexec buglets:

* --ps doesn't work with --listing :

  $ texexec --ps --listing a.txt

  produces texexec.dvi and claims to produce texexec.ps (it runs dvips) but
  texexec.ps is nowhere to be found.  

  $ texexec --listing a.txt

  works fine (produces texexec.pdf)

  This is with texexec 6.2.0 (context 2006.11.22).

* lingering use of --output=

  tex.rb, line 1562 has

		  options.push("--output=ps") # options.push("--dvi")

  but --output=ps has no effect in ruby texexec.  Should it be --ps or
  --dvips passed to options.push ?

  line 1557 has:

                options.push("--nomp")

  For clarity, should that be disambiguated to --nompmode (otherwise it
  could conflict, if only in the reader's mind, with --nomprun).

-Sanjoy

`Our society is run by insane people for insane objectives.' (John Lennon)

From ishamid at colostate.edu  Sat Dec  2 20:13:17 2006
From: ishamid at colostate.edu (Idris Samawi Hamid)
Date: Sat, 02 Dec 2006 12:13:17 -0700
Subject: [dev-context] OpenOffice export
Message-ID: <op.tjx40feynx1yh1@walayah-main>

Hi gang,

I just learned that OOo 2.04 has a LaTeX export (downloading now). Any of  
you bright programmers up to writing a ConTeXt export (or porting the  
LaTeX filters to ConTeXt)?

I'm quite serious: if anyone is interested I'll write (or help write) a  
grant proposal for it (I've already had some TeX-related proposals funded  
so...).

Please write me if you are interested in a grant, or else we can just  
discuss it on dev-context at ntg.nl and get it done another way!

Best
Idris

-- 
Professor Idris Samawi Hamid
Department of Philosophy
Colorado State University
Fort Collins, CO 80523

--
Using Opera's revolutionary e-mail client: http://www.opera.com/mail/

From adityam at umich.edu  Sun Dec  3 07:06:51 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Sun, 3 Dec 2006 01:06:51 -0500 (EST)
Subject: [dev-context] Incorporating math ligatures in ConTeXt
Message-ID: <alpine.WNT.0.8.0612030046480.852@nqvgln>

Hi Hans and Taco,

I recently came across mathlig.tex 
(ftp://tug.ctan.org/pub/tex-archive/macros/generic/misc/mathlig.tex) 
which allows one to write

\mathlig {->} {\rightarrow}

and then in math mode -> will be equal to \rightarrow so one can just 
write

$A -> B$

I really like this since one does not need to remeber the names of all 
those operators (>> << >= =< != !< !<= !>= -> => <- <= := ::= ) and 
the source looks easier to read.

The marcos are in plain tex and work with ConTeXt. Do you think that 
this can be incorporated in ConTeXt as a separate module.

This file is way beyond my understanding of TeX. Some parts are easy, 
but I just keep staring at definitions like

\def\actively#1#2{\begingroup\uccode`\~=`#2\relax\uppercase{\endgroup#1~}}

without understanding what it means.

If you guys get tired of writing lua code, can you have a look into 
this and see if this can be added to ConTeXt.

Aditya

From taco at elvenkind.com  Sun Dec  3 14:15:10 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 03 Dec 2006 14:15:10 +0100
Subject: [dev-context] Incorporating math ligatures in ConTeXt
In-Reply-To: <alpine.WNT.0.8.0612030046480.852@nqvgln>
References: <alpine.WNT.0.8.0612030046480.852@nqvgln>
Message-ID: <4572CDDE.2020203@elvenkind.com>


Hi,

Aditya Mahajan wrote:
> Hi Hans and Taco,
> 
> I recently came across mathlig.tex 
> (ftp://tug.ctan.org/pub/tex-archive/macros/generic/misc/mathlig.tex) 
> which allows one to write
> 
> \mathlig {->} {\rightarrow}
> 
> and then in math mode -> will be equal to \rightarrow so one can just 
> write
> 
> $A -> B$

Yes, that reads much better. It really should be a separate module
because of potential conflicts with active characters, but you can
just incorporate the existing mathlig.tex wholesale in a module
file since it appears to work (but consider using \protect/\unprotect
instead of the @ trickery)

> This file is way beyond my understanding of TeX. Some parts are easy, 
> but I just keep staring at definitions like
> 
> \def\actively#1#2{\begingroup\uccode`\~=`#2\relax\uppercase{\endgroup#1~}}
> 
> without understanding what it means.

This macro is a candidate for inclusion in the core (syst-ext). It
redefines the macro attached to an active character, even if that
character is not really active at this moment (such definitions
remain dormant).

In this case, it is used to make characters like < and - run a macro.
Normally this will be done in math mode only, because their \mathcode
becomes "8000 but the \catcode remains as it is.

But: whenever you switch the character to active mode, this macro will
now be executed instead of the original one, and that is why it has to
be a  module: consider what happens with \mathlig{:=}{\coloneq} in
french document ...


Side note: Luatex allows direct unicode input

   \definemathcaracter [?]       [rel] [sy] ["21] % 0x2192
   $A ? B$

Best,

Taco

From adityam at umich.edu  Sun Dec  3 22:28:23 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Sun, 3 Dec 2006 16:28:23 -0500 (EST)
Subject: [dev-context] Incorporating math ligatures in ConTeXt
In-Reply-To: <4572CDDE.2020203@elvenkind.com>
References: <alpine.WNT.0.8.0612030046480.852@nqvgln>
	<4572CDDE.2020203@elvenkind.com>
Message-ID: <alpine.WNT.0.8.0612031618500.2252@nqvgln>

Hi

On Sun, 3 Dec 2006, Taco Hoekwater wrote:
> Aditya Mahajan wrote:
> > I recently came across mathlig.tex 
> > (ftp://tug.ctan.org/pub/tex-archive/macros/generic/misc/mathlig.tex) 
> > which allows one to write
> > 
> > \mathlig {->} {\rightarrow}
> > 
> > and then in math mode -> will be equal to \rightarrow so one can just 
> > write
> > 
> > $A -> B$
> 
> Yes, that reads much better. It really should be a separate module
> because of potential conflicts with active characters, but you can
> just incorporate the existing mathlig.tex wholesale in a module
> file since it appears to work (but consider using \protect/\unprotect
> instead of the @ trickery)

I am doing that and converting parts to the ConTeXt "style". Most 
things are working as expected.

> > This file is way beyond my understanding of TeX. Some parts are easy, 
> > but I just keep staring at definitions like
> > 
> > \def\actively#1#2{\begingroup\uccode`\~=`#2\relax\uppercase{\endgroup#1~}}
> > 
> > without understanding what it means.
> 
> This macro is a candidate for inclusion in the core (syst-ext). It
> redefines the macro attached to an active character, even if that
> character is not really active at this moment (such definitions
> remain dormant).

In ConTeXtize mathlig.tex I came across two macros...Is 
there any ConTeXt equivalent of these?

\def\mathlig at let@cs#1#2{\expandafter\let\expandafter#1\csname#2\endcsname}

\def\mathlig at appendcs#1#2{\expandafter\edef\csname#1\endcsname{\csname#1\endcsname#2}}

If not, what will be the ConTeXt style of doing this?

> In this case, it is used to make characters like < and - run a macro.
> Normally this will be done in math mode only, because their \mathcode
> becomes "8000 but the \catcode remains as it is.
> 
> But: whenever you switch the character to active mode, this macro will
> now be executed instead of the original one, and that is why it has to
> be a  module: consider what happens with \mathlig{:=}{\coloneq} in
> french document ...

I know. The catcode trickery can bit you in unexpected ways.

> Side note: Luatex allows direct unicode input
>
>    \definemathcaracter [?]       [rel] [sy] ["21] % 0x2192
>    $A ? B$
>

Great. No more ugly hacks for utf :)

Aditya

-- 
Aditya Mahajan | EECS Systems, University of Michigan
http://www.eecs.umich.edu/?adityam | Ph: 734.262.4008

From adityam at umich.edu  Sun Dec  3 23:17:07 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Sun, 3 Dec 2006 17:17:07 -0500 (EST)
Subject: [dev-context] Incorporating math ligatures in ConTeXt
In-Reply-To: <4572CDDE.2020203@elvenkind.com>
References: <alpine.WNT.0.8.0612030046480.852@nqvgln>
	<4572CDDE.2020203@elvenkind.com>
Message-ID: <alpine.WNT.0.8.0612031714140.2252@nqvgln>

On Sun, 3 Dec 2006, Taco Hoekwater wrote:
> Hi,
> 
> Aditya Mahajan wrote:
> > Hi Hans and Taco,
> > 
> > I recently came across mathlig.tex 
> > (ftp://tug.ctan.org/pub/tex-archive/macros/generic/misc/mathlig.tex) 
> > which allows one to write
> > 
> > \mathlig {->} {\rightarrow}
> > 
> > and then in math mode -> will be equal to \rightarrow so one can just 
> > write
> > 
> > $A -> B$
> 
> Yes, that reads much better. It really should be a separate module
> because of potential conflicts with active characters, but you can
> just incorporate the existing mathlig.tex wholesale in a module
> file since it appears to work (but consider using \protect/\unprotect
> instead of the @ trickery)

Here is the first attempt. I have cleaned up mathlig.tex.

Aditya
-------------- next part --------------
A non-text attachment was scrubbed...
Name: thrd-lig.tex
Type: application/octet-stream
Size: 5480 bytes
Desc: 
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20061203/4cebf8f9/attachment.obj 

From taco at elvenkind.com  Mon Dec  4 11:05:31 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 04 Dec 2006 11:05:31 +0100
Subject: [dev-context] Incorporating math ligatures in ConTeXt
In-Reply-To: <alpine.WNT.0.8.0612031618500.2252@nqvgln>
References: <alpine.WNT.0.8.0612030046480.852@nqvgln>
	<4572CDDE.2020203@elvenkind.com>
	<alpine.WNT.0.8.0612031618500.2252@nqvgln>
Message-ID: <4573F2EB.8050209@elvenkind.com>



Aditya Mahajan wrote:
> 
> 
> In ConTeXtize mathlig.tex I came across two macros...Is there any 
> ConTeXt equivalent of these?
> 
> \def\mathlig at let@cs#1#2{\expandafter\let\expandafter#1\csname#2\endcsname}
> 
> \def\mathlig at appendcs#1#2{\expandafter\edef\csname#1\endcsname{\csname#1\endcsname#2}} 

Check out the macros whose names start with \append.. in syst-new.tex

Best, Taco

From taco at elvenkind.com  Mon Dec  4 11:24:45 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 04 Dec 2006 11:24:45 +0100
Subject: [dev-context] ugly bug in sometxt
In-Reply-To: <6faad9f00612010950x16c3ddd2s49cf0c743c971bba@mail.gmail.com>
References: <6faad9f00612010950x16c3ddd2s49cf0c743c971bba@mail.gmail.com>
Message-ID: <4573F76D.3060308@elvenkind.com>



Mojca Miklavec wrote:
> Hello Hans,
> 
> I don't understand how I managed not to spot this before since I use
> it frequently, but \sometxt seems to scale the labels according to the
> last defined label. In other words, if one defines one \sometxt{short}
> in the first graphic and one \sometxt{\dorecurse{10}{very }long} then
> the first text will be scaled to the length of the second one.


I see the same behaviour here, but only if \runMPgraphics false.


Taco

From adityam at umich.edu  Tue Dec  5 03:21:34 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Mon, 4 Dec 2006 21:21:34 -0500 (EST)
Subject: [dev-context] Incorporating math ligatures in ConTeXt
In-Reply-To: <4573F2EB.8050209@elvenkind.com>
References: <alpine.WNT.0.8.0612030046480.852@nqvgln>
	<4572CDDE.2020203@elvenkind.com>
	<alpine.WNT.0.8.0612031618500.2252@nqvgln>
	<4573F2EB.8050209@elvenkind.com>
Message-ID: <alpine.WNT.0.8.0612042111580.1728@nqvgln>

Hi,

On Mon, 4 Dec 2006, Taco Hoekwater wrote:

> Aditya Mahajan wrote:
>>
>>
>> In ConTeXtize mathlig.tex I came across two macros...Is there any
>> ConTeXt equivalent of these?
>>
>> \def\mathlig at let@cs#1#2{\expandafter\let\expandafter#1\csname#2\endcsname}
>>
>> \def\mathlig at appendcs#1#2{\expandafter\edef\csname#1\endcsname{\csname#1\endcsname#2}}
>
> Check out the macros whose names start with \append.. in syst-new.tex

Thanks. There are two macros which I think should go somewhere in the 
core.

\def\actively#1#2%
   {\begingroup\uccode`\~=`#2\relax\uppercase{\endgroup#1~}}

\def\letexpandedvalue#1#2{\@EA\let\@EA#1\csname#2\endcsname}

I am attaching the complete module. This was just an excercise for me 
to see how such things can be done in vanilla tex. And since I just 
copy pasted most of the code, it was much easier to understand what is 
going on :) It may have taken less time to simply replace all the := 
with \colonequals, but thats an another story.

The present module will allow something like the following. Clearly 
not as powerful as what is possible with LuaTeX. Hans has already 
shown how to do this with LuaTeX about an year ago.

\definemathligature  [sin]    {\sin}
\definemathligature  [cos]    {\cos}
\definemathligature  [exp]    {e^}
\definemathligature  [sqrt]   {\sqrt}

% An ugly hack to get things to work: Notice the space
\definemathcommand [sin]     [nolop] {\mfunction{s in}}
\definemathcommand [cos]     [nolop] {\mfunction{c os}}

                                \startformula
  sqrt{sin(x^2) + cos(x^2)}
                                \stopformula
                                \startformula
  exp{x} + (exp{x})^2
                                \stopformula


Is anyone else interested in this module? If so, I may upload it on 
the garden.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: t-mathlig.tex
Type: application/octet-stream
Size: 8906 bytes
Desc: 
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20061205/64e6d18b/attachment.obj 

From contexttest-bugs at foundry.supelec.fr  Tue Dec  5 09:00:39 2006
From: contexttest-bugs at foundry.supelec.fr (contexttest-bugs at foundry.supelec.fr)
Date: Tue, 5 Dec 2006 09:00:39 +0100
Subject: [dev-context] =?utf-8?q?=5Bcontexttest-Bugs=5D=5B43=5D_TABLE_move?=
	=?utf-8?q?s_to_the_right_with_new_ConTeXt?=
Message-ID: <200612050800.kB580dpU007792@semantic.metz.supelec.fr>

Bugs item #43, was opened at 2006-12-05 09:00
You can respond by visiting: 
http://foundry.supelec.fr/tracker/?func=detail&atid=161&aid=43&group_id=21
Or by replying to this e-mail entering your response between the following markers: 
#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+
(enter your response here)
#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+

Status: Open
Priority: 3
Submitted By: Taco Hoekwater (taco)
Assigned to: Nobody (None)
Summary: TABLE moves to the right with new ConTeXt 
Resolution: None
Version: 20061129
Category: macros


Initial Comment:
Hello,

with the latest ConTeXt, it seems, that space around \bTR, \eTR, before
\bTD and after \eTD matters. Such space seems to move the whole TABLE to
the right:

\def\XXX#1{\bTR\bTD#1\eTD\eTR}
\starttext
\centerline{\bTABLE\dorecurse{2}{\XXX{bla}}\eTABLE}
\centerline{\bTABLE\dorecurse{2}{\XXX{bla}
}\eTABLE}
\centerline{\bTABLE\dorecurse{20}{\XXX{bla} % Why does this space matter here?
}\eTABLE}
\stoptext

Is this behaviour normal and wanted?

Cheers, Peter

----------------------------------------------------------------------

You can respond by visiting: 
http://foundry.supelec.fr/tracker/?func=detail&atid=161&aid=43&group_id=21

From contexttest-bugs at foundry.supelec.fr  Tue Dec  5 09:02:30 2006
From: contexttest-bugs at foundry.supelec.fr (contexttest-bugs at foundry.supelec.fr)
Date: Tue, 5 Dec 2006 09:02:30 +0100
Subject: [dev-context] =?utf-8?q?=5Bcontexttest-Bugs=5D=5B44=5D_columns_do?=
	=?utf-8?q?es_not_break?=
Message-ID: <200612050802.kB582URM007841@semantic.metz.supelec.fr>

Bugs item #44, was opened at 2006-12-05 09:02
You can respond by visiting: 
http://foundry.supelec.fr/tracker/?func=detail&atid=161&aid=44&group_id=21
Or by replying to this e-mail entering your response between the following markers: 
#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+
(enter your response here)
#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+

Status: Open
Priority: 3
Submitted By: Taco Hoekwater (taco)
Assigned to: Nobody (None)
Summary: columns does not break 
Resolution: None
Version: None
Category: macros


Initial Comment:
Dear,

final formating of Beginners' manual shows a bug of breaking columns (in 
setup index). Here is a minimal example:

-----------------------
\showframe

\starttext

\startcolumns
   [n=2,tolerance=verytolerant,rule=~\vrule height\maxcolumnheight~]
   \switchtobodyfont[10pt]
   \framed[height=.3\textheight,width=broad]{.3textheight}
   \framed[height=.8\textheight,width=broad]{.8textheight}
   \framed[height=.1\textheight,width=broad]{.1textheight}
%  \framed[height=.1\textheight,width=broad]{.1textheight}
%  \framed[height=.1\textheight,width=broad]{.1textheight}
\stopcolumns

\stoptext
-----------------------

If we comment two last lines everything goes well. Uncommenting them the 
biggest frame leaves in the first column and extents the layout. In the 
manual it results in some setup syntax is out of the page.

Please, could you help
Vit

----------------------------------------------------------------------

You can respond by visiting: 
http://foundry.supelec.fr/tracker/?func=detail&atid=161&aid=44&group_id=21

From contexttest-bugs at foundry.supelec.fr  Tue Dec  5 09:06:18 2006
From: contexttest-bugs at foundry.supelec.fr (contexttest-bugs at foundry.supelec.fr)
Date: Tue, 5 Dec 2006 09:06:18 +0100
Subject: [dev-context] =?utf-8?q?=5Bcontexttest-Bugs=5D=5B44=5D_columns_do?=
	=?utf-8?q?es_not_break?=
Message-ID: <200612050806.kB586IIi007859@semantic.metz.supelec.fr>

Bugs item #44, was opened at 2006-12-05 09:02
You can respond by visiting: 
http://foundry.supelec.fr/tracker/?func=detail&atid=161&aid=44&group_id=21
Or by replying to this e-mail entering your response between the following markers: 
#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+
(enter your response here)
#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+

Status: Open
Priority: 3
Submitted By: Taco Hoekwater (taco)
Assigned to: Nobody (None)
Summary: columns does not break 
Resolution: None
>Version: 20061129
Category: macros


Initial Comment:
Dear,

final formating of Beginners' manual shows a bug of breaking columns (in 
setup index). Here is a minimal example:

-----------------------
\showframe

\starttext

\startcolumns
   [n=2,tolerance=verytolerant,rule=~\vrule height\maxcolumnheight~]
   \switchtobodyfont[10pt]
   \framed[height=.3\textheight,width=broad]{.3textheight}
   \framed[height=.8\textheight,width=broad]{.8textheight}
   \framed[height=.1\textheight,width=broad]{.1textheight}
%  \framed[height=.1\textheight,width=broad]{.1textheight}
%  \framed[height=.1\textheight,width=broad]{.1textheight}
\stopcolumns

\stoptext
-----------------------

If we comment two last lines everything goes well. Uncommenting them the 
biggest frame leaves in the first column and extents the layout. In the 
manual it results in some setup syntax is out of the page.

Please, could you help
Vit

----------------------------------------------------------------------

You can respond by visiting: 
http://foundry.supelec.fr/tracker/?func=detail&atid=161&aid=44&group_id=21

From contexttest-bugs at foundry.supelec.fr  Tue Dec  5 09:06:42 2006
From: contexttest-bugs at foundry.supelec.fr (contexttest-bugs at foundry.supelec.fr)
Date: Tue, 5 Dec 2006 09:06:42 +0100
Subject: [dev-context] =?utf-8?q?=5Bcontexttest-Bugs=5D=5B45=5D_=5Cplacefo?=
	=?utf-8?q?rmula_and_=24=24_doesn=27t_work_anymore?=
Message-ID: <200612050806.kB586gcp007864@semantic.metz.supelec.fr>

Bugs item #45, was opened at 2006-12-05 09:06
You can respond by visiting: 
http://foundry.supelec.fr/tracker/?func=detail&atid=161&aid=45&group_id=21
Or by replying to this e-mail entering your response between the following markers: 
#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+
(enter your response here)
#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+

Status: Open
Priority: 3
Submitted By: Taco Hoekwater (taco)
Assigned to: Nobody (None)
Summary: \placeformula and $$ doesn't work anymore 
Resolution: None
Version: 20061129
Category: macros


Initial Comment:
Hi all,
for some weeks I need to tex formulas again and tried the way I used to do it:

\placeformula
$$
f(t)={1\over2\pi}\int_0^\infty e^{i(\omega t-kx)} dx
$$

It didn't work anymore?!? It doesn't place a number nor does it do the spacing
properly. It does work the "context" way using

\placeformula
\startformula
f(t)={1\over2\pi}\int_0^\infty e^{i(\omega t-kx)} dx
\stopformula

but to be honest that's quit a lot to type. "$$" is just nice and short and all
the old documents I wrote wont work anymore...
I run

This is pdfeTeX, Version 3.141592-1.30.4-2.2 (Web2C 7.5.5) (format=cont-en 2006.
12.4)  4 DEC 2006 21:46
...
ConTeXt  ver: 2006.11.29 09:55 MK II  fmt: 2006.12.4  int: english/english

I would be very glad for some hints. Many thanks in advance.

Hubertus

----------------------------------------------------------------------

You can respond by visiting: 
http://foundry.supelec.fr/tracker/?func=detail&atid=161&aid=45&group_id=21

From taco at elvenkind.com  Tue Dec  5 09:38:06 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 05 Dec 2006 09:38:06 +0100
Subject: [dev-context] [contexttest-Bugs] messages
In-Reply-To: <200612050806.kB586gcp007864@semantic.metz.supelec.fr>
References: <200612050806.kB586gcp007864@semantic.metz.supelec.fr>
Message-ID: <45752FEE.2080506@elvenkind.com>

Hi

I'll be playing with these messages today, I want them to be 
automatically accepted by this list. That is a bit tricky
because of anti-spamming rules, so expect a few test messages.

Taco

From taco at elvenkind.com  Tue Dec  5 10:19:41 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 05 Dec 2006 10:19:41 +0100
Subject: [dev-context] test message for indirection
Message-ID: <457539AD.5080206@elvenkind.com>

Hi!



From taco at elvenkind.com  Tue Dec  5 10:23:00 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 05 Dec 2006 10:23:00 +0100
Subject: [dev-context] test message for indirection (2)
Message-ID: <45753A74.90202@elvenkind.com>

Hallo



From contexttest-bugs at foundry.supelec.fr  Tue Dec  5 10:32:14 2006
From: contexttest-bugs at foundry.supelec.fr (contexttest-bugs at foundry.supelec.fr)
Date: Tue, 5 Dec 2006 10:32:14 +0100
Subject: [dev-context] =?utf-8?q?=5Bcontexttest-Bugs=5D=5B46=5D_Footnotes_?=
	=?utf-8?q?in_vertical_mode_are_different_from_footnotes_in_horizon?=
	=?utf-8?q?tal_mode?=
Message-ID: <200612050932.kB59WEwt016348@semantic.metz.supelec.fr>

Bugs item #46, was opened at 2006-12-05 10:32
You can respond by visiting: 
http://foundry.supelec.fr/tracker/?func=detail&atid=161&aid=46&group_id=21
Or by replying to this e-mail entering your response between the following markers: 
#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+
(enter your response here)
#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+

Status: Open
Priority: 3
Submitted By: Taco Hoekwater (taco)
Assigned to: Nobody (None)
Summary: Footnotes in vertical mode are different from footnotes in horizontal mode 
Resolution: None
Version: 20061129
Category: macros


Initial Comment:

This example shows the problem: there are two sets of footnotes at the bottome of the page

\starttext

A note\footnote{first note}

\footnote{second note}

\stoptext


----------------------------------------------------------------------

You can respond by visiting: 
http://foundry.supelec.fr/tracker/?func=detail&atid=161&aid=46&group_id=21


From taco at elvenkind.com  Tue Dec  5 10:37:54 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 05 Dec 2006 10:37:54 +0100
Subject: [dev-context] [contexttest-Bugs] messages
In-Reply-To: <45752FEE.2080506@elvenkind.com>
References: <200612050806.kB586gcp007864@semantic.metz.supelec.fr>
	<45752FEE.2080506@elvenkind.com>
Message-ID: <45753DF2.4030005@elvenkind.com>



Taco Hoekwater wrote:
> Hi
> 
> I'll be playing with these messages today, I want them to be 
> automatically accepted by this list. That is a bit tricky
> because of anti-spamming rules, so expect a few test messages.

Ok, I think I've got it. I had to redirect them through another
account to insert a 'To:'  for the mailinglist otherwise mailman
would keep them pending, but it is ok now.

Taco

From sanjoy at mrao.cam.ac.uk  Tue Dec  5 18:15:17 2006
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Tue, 05 Dec 2006 17:15:17 +0000
Subject: [dev-context]
	=?utf-8?q?=5Bcontexttest-Bugs=5D=5B43=5D_TABLE_move?=
	=?utf-8?q?s_to_the_right_with_new_ConTeXt?=
In-Reply-To: Your message of "Tue, 05 Dec 2006 09:00:39 +0100."
	<200612050800.kB580dpU007792@semantic.metz.supelec.fr> 
Message-ID: <E1Grdsz-0006jQ-00@skye.ra.phy.cam.ac.uk>

The subject lines pick up "utf-8" and =5D strings for some reason:

Subject: [dev-context] =?utf-8?q?=5Bcontexttest-Bugs=5D=5B43=5D_TABLE_move?==?utf-8?q?s_to_the_right_with_new_ConTeXt?=

Maybe I'm using too-old email technology (emacs + mh) but it's nice to
have plain-ascii when possible.  I think the utf-8 markers are for the
left and right brackets, so maybe mailman could be convinced to use
the ascii versions.

-Sanjoy

`Never underestimate the evil of which men of power are capable.'
         --Bertrand Russell, _War Crimes in Vietnam_, chapter 1.

From taco at elvenkind.com  Wed Dec  6 09:57:43 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 06 Dec 2006 09:57:43 +0100
Subject: [dev-context] [contexttest-Bugs][43] TABLE moves to the right
 with new ConTeXt
In-Reply-To: <E1Grdsz-0006jQ-00@skye.ra.phy.cam.ac.uk>
References: <E1Grdsz-0006jQ-00@skye.ra.phy.cam.ac.uk>
Message-ID: <45768607.1060702@elvenkind.com>



Sanjoy Mahajan wrote:
> The subject lines pick up "utf-8" and =5D strings for some reason:
> 
> Subject: [dev-context] =?utf-8?q?=5Bcontexttest-Bugs=5D=5B43=5D_TABLE_move?==?utf-8?q?s_to_the_right_with_new_ConTeXt?=
> 
> Maybe I'm using too-old email technology (emacs + mh) but it's nice to
> have plain-ascii when possible.  I think the utf-8 markers are for the
> left and right brackets, so maybe mailman could be convinced to use
> the ascii versions.

I cannot control the gforge emailer myself, but I CC Fabrice, maybe
he knows something about this. Fabrice, these are the 'something has
changed' messages that are send out by the tracker subsystem.

In case he doesn't either: the message is redirected, so if you
can come up with a way to clean the subject, I can add it to the
redirection filter.

Best, Taco

From sanjoy at mrao.cam.ac.uk  Thu Dec  7 00:01:40 2006
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Wed, 06 Dec 2006 18:01:40 -0500
Subject: [dev-context] bib entries missing full stops in "unpublished" and
	"book" types
Message-ID: <E1Gs5lk-0002hk-P4@approximate.corpus.cam.ac.uk>

In the PDF output from this file (and bib file below), the full stop
(a.k.a. period) is missing after "editors" ad the title in the first
entry, and after the author ("...Foundation") in the second entry.

====================== proposal.tex ======================
\usemodule[bib]
\setupbibtex[database=proposal]
\setuppublications[alternative=num]

\starttext
Try \cite{HPL:2000}  and \cite{GPLv3}.

\placepublications[criterium=all]
\stoptext
==========================================================

=====================  proposal.bib ======================
@Unpublished{GPLv3,
  author = 	 {Free Software Foundation},
  title = 	 {{\sc gnu} {G}eneral {P}ublic {L}icense revision},
  month =	 {November},
  year =	 2006
}

@Book{HPL:2000,
  editor =	 {John D. Barnsford and Ann L. Brown and Rodney R. Cocking},
  title = 	 {How people learn: Brain, mind, experience, and school},
  publisher = 	 {National Academy Press},
  year = 	 2000,
  address =	 {Washington, DC},
  edition =	 {expanded},
}
=====================  end proposal.bib ======================

It works fine in latex with the same proposal.bib, using this latex file:

====================== tlatex.tex ===================
\documentclass{article}
\begin{document}
Try \cite{HPL:2000}  and \cite{GPLv3}.

\bibliographystyle{plain} 
\bibliography{proposal}
\end{document}
======================================================

I tried comparing the {book} and {unpublished} code in cont-no.bst and
plain.bst (latex) but didn't have much luck figuring out why the full
stops are missing.  I've never noticed it with regular books (with just
authors), only with editors.  And I hadn't tried an unpublished entry
before with ConTeXt.

context version: 2006.11.22 11:02 / Ubuntu Linux / i386
BibTeX 0.99c (Web2C 7.5.4)

p.s. Should this mail go to dev-context or to the main list?

-Sanjoy

`Our society is run by insane people for insane objectives.' (John Lennon)

From taco at elvenkind.com  Thu Dec  7 18:17:09 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 07 Dec 2006 18:17:09 +0100
Subject: [dev-context] bib entries missing full stops in "unpublished"
 and	"book" types
In-Reply-To: <E1Gs5lk-0002hk-P4@approximate.corpus.cam.ac.uk>
References: <E1Gs5lk-0002hk-P4@approximate.corpus.cam.ac.uk>
Message-ID: <45784C95.6000007@elvenkind.com>



Sanjoy Mahajan wrote:
> In the PDF output from this file (and bib file below), the full stop
> (a.k.a. period) is missing after "editors" ad the title in the first
> entry, and after the author ("...Foundation") in the second entry.

...


A new version of bibl-num.tex is in the module update that I just
uploaded to the garden.

Thanks for the report,

Taco


From taco at elvenkind.com  Sun Dec 10 09:50:11 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 10 Dec 2006 09:50:11 +0100
Subject: [dev-context] TeXLive 2006
Message-ID: <457BCA43.1000307@elvenkind.com>

Hi,

I have good news as well as bad news.

The good news is that the coming TeXLive will be nicely up to date
when it comes to ConTeXt (currently at 2006.12.07).

The bad news is that core-fnt and core-ext will not be included.

Apparently, the first package that uses a certain directory becomes
its 'owner' when it comes to TeXLive's distribution build scripts.
Since there are already a number of fontpackages for LaTeX included,
there is no way to add metrics for ConTeXt as well.

I have proposed to look into the build scripts, but the reaction
I received was luke-warm at best, so I am not going to persue this
any further. I am sorry for everybody that wanted to see some of
the third-party modules in TL.

It should still be possible to have them included if one of you
is willing and able to make the effort of renaming the used folders
so as to avoid conflicts with LaTeX packages, but I simply cannot
be bothered any more.

Best, Taco

From taco at elvenkind.com  Sun Dec 10 11:29:47 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 10 Dec 2006 11:29:47 +0100
Subject: [dev-context] TeXLive 2006
In-Reply-To: <457BCA43.1000307@elvenkind.com>
References: <457BCA43.1000307@elvenkind.com>
Message-ID: <457BE19B.6020804@elvenkind.com>

Taco Hoekwater wrote:
> Hi,
> 
> I have good news as well as bad news.
> 
> The good news is that the coming TeXLive will be nicely up to date
> when it comes to ConTeXt (currently at 2006.12.07).

In fact, I believe we should consider retracting ConTeXt from TeXLive
perminently (for TL2007, we have already made promises for TL2006).

Hans and I are continually asked to rename or delete things

  - because the names conflict with some latex package (that is
    invariably considered to be more inportant than ConTeXt), or
  - because they allegedly duplicate already existing files
    (that normally turns out to be false information afterward), or
  - because some directory name is already pre-opted by LaTeX
    (like where LaTeX font family support effectively disallows
    ConTeXt support for that same family), or
  - because something cannot be handled by the build scripts (that
    nobody is willing to even allow changes to), or
  - because they are considered to have an unacceptable license
    (heaven/FSF forbid shipping files that cannot be altered by
    everybody and their 4-year old child and then be redistributed
    at will).

After a few years of this, I am completely demotivated, and I assume
Hans feels much the same way.

Taco

From adityam at umich.edu  Sun Dec 10 22:43:49 2006
From: adityam at umich.edu (Aditya Mahajan)
Date: Sun, 10 Dec 2006 16:43:49 -0500 (EST)
Subject: [dev-context] TeXLive 2006
In-Reply-To: <457BE19B.6020804@elvenkind.com>
References: <457BCA43.1000307@elvenkind.com> <457BE19B.6020804@elvenkind.com>
Message-ID: <alpine.WNT.0.8.0612101627580.3816@nqvgln>

On Sun, 10 Dec 2006, Taco Hoekwater wrote:

> Taco Hoekwater wrote:
> > Hi,
> > 
> > I have good news as well as bad news.
> > 
> > The good news is that the coming TeXLive will be nicely up to date
> > when it comes to ConTeXt (currently at 2006.12.07).
> 
> In fact, I believe we should consider retracting ConTeXt from TeXLive
> perminently (for TL2007, we have already made promises for TL2006).
>
> [reasons snipped]
>

This is indeed a very sad affair of things. IMO, ConTeXt not being 
included in TL is fine, as long as there is alternative. Right now, 
installing ConTeXt on windows is not a problem. I have introduced some 
of my friends to ConTeXt, and I simply recommend downloading the 
stand-alone distribution from Pragma. Most people do have MikTeX, but 
MikTeX's support for ConTeXt is/was partially broken, and does not 
keep pace with ConTeXt's development.

>From what I have heard/read, on OSX gwTeX has good support for 
ConTeXt and it is also the most popular OSX tex distribution.

This leaves *nix. Now that tetex is dead, most distributions are 
switching to TL. Is there an alternative way of using ConTeXt which 
will work out of the box---something equivalent to the stand-alone 
distribution for Windows. If there is, then we can just ask a *nix 
user to use that alternative.

There have been efforts by debian maintainers to get proper support 
for ConTeXt, so I think that all Debian based flavours will have 
proper ConTeXt support. There was also a rpm package by Peter Munser 
(IIRC), but I think that it was based on TL. Is there an alternative 
to other flavours of *nix? The installation instructions on the wiki 
for linux are intimidating. I guess that is because of the general 
mess in tetex and texlive towards ConTeXt, but there has to a simpler 
alternative.

Aditya





From martin at oneiros.de  Sun Dec 10 23:47:39 2006
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Sun, 10 Dec 2006 23:47:39 +0100
Subject: [dev-context] TeXLive 2006
In-Reply-To: <457BE19B.6020804@elvenkind.com>
References: <457BCA43.1000307@elvenkind.com> <457BE19B.6020804@elvenkind.com>
Message-ID: <68c491a60612101447m3262dc98t5e3665663a15e7ad@mail.gmail.com>

2006/12/10, Taco Hoekwater <taco at elvenkind.com>:
> Taco Hoekwater wrote:
> > Hi,
> >
> > I have good news as well as bad news.
> >
> > The good news is that the coming TeXLive will be nicely up to date
> > when it comes to ConTeXt (currently at 2006.12.07).
>
> In fact, I believe we should consider retracting ConTeXt from TeXLive
> perminently (for TL2007, we have already made promises for TL2006).
>
> Hans and I are continually asked to rename or delete things
>
>   - because the names conflict with some latex package (that is
>     invariably considered to be more inportant than ConTeXt), or
>   - because they allegedly duplicate already existing files
>     (that normally turns out to be false information afterward), or
>   - because some directory name is already pre-opted by LaTeX
>     (like where LaTeX font family support effectively disallows
>     ConTeXt support for that same family), or
>   - because something cannot be handled by the build scripts (that
>     nobody is willing to even allow changes to), or
>   - because they are considered to have an unacceptable license
>     (heaven/FSF forbid shipping files that cannot be altered by
>     everybody and their 4-year old child and then be redistributed
>     at will).
>
> After a few years of this, I am completely demotivated, and I assume
> Hans feels much the same way.

If ConTeXt would be removed from TL, this would be a very sad day for
the TeX community (and maybe TL should be renamed to LaTeXLive then).
I can understand your burn out, but I'm a bit surprised as I didn't
find much discussion recently about this on the TL mailing list. I
trust you have discussed this ad nauseam with Karl?

Best
   Martin

From ishamid at colostate.edu  Mon Dec 11 06:15:30 2006
From: ishamid at colostate.edu (Idris Samawi Hamid)
Date: Sun, 10 Dec 2006 22:15:30 -0700
Subject: [dev-context] TeXLive 2006
In-Reply-To: <68c491a60612101447m3262dc98t5e3665663a15e7ad@mail.gmail.com>
References: <457BCA43.1000307@elvenkind.com> <457BE19B.6020804@elvenkind.com>
	<68c491a60612101447m3262dc98t5e3665663a15e7ad@mail.gmail.com>
Message-ID: <op.tkdp74vinx1yh1@walayah-main>

Hi all,

On Sun, 10 Dec 2006 15:47:39 -0700, Martin Schr?der <martin at oneiros.de>  
wrote:

> 2006/12/10, Taco Hoekwater <taco at elvenkind.com>:

>> In fact, I believe we should consider retracting ConTeXt from TeXLive
>> perminently (for TL2007, we have already made promises for TL2006).

> If ConTeXt would be removed from TL, this would be a very sad day for
> the TeX community (and maybe TL should be renamed to LaTeXLive then).

Actually I disagree that this is a sad day. Au contraire, ConTeXt and  
LaTeX are becoming such different beasts that I actually look forward to  
the day when I can install ConTeXt on its own and install LaTeX on its own  
as completely separate systems with no overlap or clashes. There is still  
some overlap now (which gives the illusion of symbiosis) but in my view  
the sooner ConTeXt becomes its own the better. There will always be  
cooperation at the engine level but lets sharply distinguish the TeX  
engine, LaTeX, and ConTeXt. There should be eg. an agnostic common TeX  
engine, a LaTeXLive, and a ConTeXtLive.

I don't want to see Hans and Taco wasting time with a non-working  
symbiosis. We have too many things that need to get done.

Best
Idris

-- 
Professor Idris Samawi Hamid
Department of Philosophy
Colorado State University
Fort Collins, CO 80523

--
Using Opera's revolutionary e-mail client: http://www.opera.com/mail/

From karl at freefriends.org  Mon Dec 11 00:11:22 2006
From: karl at freefriends.org (Karl Berry)
Date: Sun, 10 Dec 2006 17:11:22 -0600
Subject: [dev-context] TeXLive 2006
In-Reply-To: <68c491a60612101447m3262dc98t5e3665663a15e7ad@mail.gmail.com>
Message-ID: <200612102311.kBANBMB17725@f7.net>

I find the characterization of the situation of ConTeXt and TL quite
inaccurate.  However, there seems no point in debating it.  I've had the
feeling for some time that you would rather have your own distribution
you completely control according to your own needs and desires.  So it
seems there is nothing I can do but wish you well.

As for context in TL, since the thesis is that context users are smart
cookies who don't mind installing software (ruby, etc.), they probably
won't mind installing context itself.  It may even be better for users
and the context community, since then they'll presumably get the latest
version instead of whatever was frozen in TL.

Best,
Karl

From pragma at wxs.nl  Mon Dec 11 10:35:42 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 11 Dec 2006 10:35:42 +0100
Subject: [dev-context] TeXLive 2006
In-Reply-To: <op.tkdp74vinx1yh1@walayah-main>
References: <457BCA43.1000307@elvenkind.com> <457BE19B.6020804@elvenkind.com>
	<68c491a60612101447m3262dc98t5e3665663a15e7ad@mail.gmail.com>
	<op.tkdp74vinx1yh1@walayah-main>
Message-ID: <457D266E.2060506@wxs.nl>

Idris Samawi Hamid wrote:
> as completely separate systems with no overlap or clashes. There is still  
> some overlap now (which gives the illusion of symbiosis) but in my view  
>   
the only overlap is in using some fonts and even that will go away as 
soon as luatex is out (and we can use gyre fonts and don't need any tfm 
files etc any more); actually, i think that the landscape will change 
drastically when luatex is used to its full power; although most of the 
code i write for that purpose is generic, i have no plans to call it 
generic (or put it under a generic tree) ... live is too short
> the sooner ConTeXt becomes its own the better. There will always be  
> cooperation at the engine level but lets sharply distinguish the TeX  
> engine, LaTeX, and ConTeXt. There should be eg. an agnostic common TeX  
> engine, a LaTeXLive, and a ConTeXtLive.
>   
hm, it's not that bad, and in principle tds permits sepeartions, but in 
practice granularity is added when it's too late (i.e. we can only break 
downward compatibility then, e.g. scripts, map, enc, mp etc paths all 
started out pretty flat and in  less structured  places); 
> I don't want to see Hans and Taco wasting time with a non-working  
> symbiosis. We have too many things that need to get done.
>   
well, with luatex we aim at a texmf-context.zip file and since we have 
completely independent file io handling, i don't expect  that many problems;

Hans

From pragma at wxs.nl  Mon Dec 11 10:39:31 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 11 Dec 2006 10:39:31 +0100
Subject: [dev-context] TeXLive 2006
In-Reply-To: <200612102311.kBANBMB17725@f7.net>
References: <200612102311.kBANBMB17725@f7.net>
Message-ID: <457D2753.6050200@wxs.nl>

Karl Berry wrote:
> I find the characterization of the situation of ConTeXt and TL quite
> inaccurate.  However, there seems no point in debating it.  I've had the
> feeling for some time that you would rather have your own distribution
> you completely control according to your own needs and desires.  So it
> seems there is nothing I can do but wish you well.
>
> As for context in TL, since the thesis is that context users are smart
> cookies who don't mind installing software (ruby, etc.), they probably
> won't mind installing context itself.  It may even be better for users
> and the context community, since then they'll presumably get the latest
> version instead of whatever was frozen in TL.
>   
i've been away this weekend so this is a delayed reponse

as i understand it, most problems are with additional context stuff, not 
the base files; so maybe we should forget about adding third party stuff

with regards to things like ruby ... users can install that themselves 
after all tex live is not live anyway (the last couple of tex 
collections shiped with the minimal context trees and could run from dvd 
without problems and i expect manfred to put them on the dvd this year 
as well)

Hans

From pragma at wxs.nl  Mon Dec 11 11:07:56 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 11 Dec 2006 11:07:56 +0100
Subject: [dev-context] TeXLive 2006
In-Reply-To: <alpine.WNT.0.8.0612101627580.3816@nqvgln>
References: <457BCA43.1000307@elvenkind.com> <457BE19B.6020804@elvenkind.com>
	<alpine.WNT.0.8.0612101627580.3816@nqvgln>
Message-ID: <457D2DFC.10407@wxs.nl>

Aditya Mahajan wrote:
>
> This leaves *nix. Now that tetex is dead, most distributions are 
> switching to TL. Is there an alternative way of using ConTeXt which 
> will work out of the box---something equivalent to the stand-alone 
> distribution for Windows. If there is, then we can just ask a *nix 
> user to use that alternative.
>   
there are minimals for linux, but often integration in unix involves a 
bit more (depends on how one uses unix, things like permissions and such)

here i use the windows minimals for projects where authors need an 
editor as well (scite); the linux minimals are used on the servers where 
we run many tree's in parallel; i think that for most linux users it's 
fint to use the debian packages; just as on the mac the i-installer does 
a good job of keeping up;

by now, the debian packages are pretty complete and have all things 
needed (norbert is handling that: preining at logic.at); afaik they also 
support engine subpath now which is a good thing

Hans

From pragma at wxs.nl  Mon Dec 11 11:13:46 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 11 Dec 2006 11:13:46 +0100
Subject: [dev-context] TeXLive 2006
In-Reply-To: <457BCA43.1000307@elvenkind.com>
References: <457BCA43.1000307@elvenkind.com>
Message-ID: <457D2F5A.60305@wxs.nl>

Taco Hoekwater wrote:
> Hi,
>
> I have good news as well as bad news.
>
> The good news is that the coming TeXLive will be nicely up to date
> when it comes to ConTeXt (currently at 2006.12.07).
>
> The bad news is that core-fnt and core-ext will not be included.
>
> Apparently, the first package that uses a certain directory becomes
> its 'owner' when it comes to TeXLive's distribution build scripts.
> Since there are already a number of fontpackages for LaTeX included,
> there is no way to add metrics for ConTeXt as well.
>
> I have proposed to look into the build scripts, but the reaction
> I received was luke-warm at best, so I am not going to persue this
> any further. I am sorry for everybody that wanted to see some of
> the third-party modules in TL.
>
> It should still be possible to have them included if one of you
> is willing and able to make the effort of renaming the used folders
> so as to avoid conflicts with LaTeX packages, but I simply cannot
> be bothered any more.
>
>   

since the filenames themselves do  not conflict, i see no reason for all 
kind of redundant context prefixes in filenames and directories; at 
least i'm not going to do that and i'm also not going to adapt my local 
scripts to deal with it (the zip builders and such); anyhow, the zip's 
will be on the collection dvd anyway so users can install them then

Hans

From sanjoy at mrao.cam.ac.uk  Tue Dec 12 18:32:44 2006
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Tue, 12 Dec 2006 12:32:44 -0500
Subject: [dev-context] bib: 'note' from book entry appears in incollection
	entry
Message-ID: <E1GuBUi-0002gw-Jm@approximate.corpus.cam.ac.uk>

The 'note' field in the entry for the book appears in the incollection
entry as well.  Here's a test file to show what I mean:

=================== begin: test.tex ==================
\usemodule[bib]
\setupcolors[state=start]
\setupbibtex[database=talk]
\setuppublications[alternative=num]

\starttext
See \cite{Ericsson:2006}.
\placepublications[criterium=all]
\stoptext
===================   end: test.tex ==================

It uses the bib file below.  In the bibliography in test.pdf, the 'note'
for the main book appears both with the book (which is good) but also
with the chapter entry (which is not so good).

It might be a general bibtex problem, because latex+bibtex does the same
thing.  Well, it does once I lost the battle with automatic crossref
inclusion and had to cite the book entry by hand (the context bib module
handled it fine citing just the chapter).

=================== begin: talk.bib ==================
@Book{Ericsson:Charness:Feltovich:Hoffman:2006,
  editor =	 {K. Anders Ericsson and Neil Charness and Paul J. Feltovich and Robert R. Hoffman},
  title = 	 {The {C}ambridge Handbook of Expertise and Expert Performance},
  publisher = 	 {Cambridge University Press},
  year = 	 2006,
  address =	 {New York},
  note    =      {This collection cannot be recommended highly enough},
}

@InCollection{Ericsson:2006,
  author = 	 {K. Anders Ericsson},
  title = 	 {The influence of experience and deliberate practice on the development of superior expert performance},
  booktitle = 	 {The {C}ambridge Handbook of Expertise and Expert Performance},
  publisher = 	 {Cambridge University Press},
  crossref =	 {Ericsson:Charness:Feltovich:Hoffman:2006},
  pages =	 {683--703},
  year =	 2006,
  chapter =	 38,
  address =	 {New York},
  note    =      {This collection cannot be recommended highly enough},
}
===================   end: talk.bib ==================

ConTeXt  ver: 2006.12.07 18:22 MK II  fmt: 2006.12.11  int: english/english

-Sanjoy

`Our society is run by insane people for insane objectives.' (John Lennon)

From taco at elvenkind.com  Wed Dec 13 09:53:34 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 13 Dec 2006 09:53:34 +0100
Subject: [dev-context] bib: 'note' from book entry appears in
 incollection entry
In-Reply-To: <E1GuBUi-0002gw-Jm@approximate.corpus.cam.ac.uk>
References: <E1GuBUi-0002gw-Jm@approximate.corpus.cam.ac.uk>
Message-ID: <457FBF8E.10907@elvenkind.com>


Hi Sanjoy,

Sanjoy Mahajan wrote:
> The 'note' field in the entry for the book appears in the incollection
> entry as well.  Here's a test file to show what I mean:

Well, yes. Since it is in the database twice, it will be typeset twice,
there is no way around that. I cannot make the module so that it ignores
arbitrary data from the bib file because the user telepathically
informed me he doesn't like the result :-)

Best, Taco


From sanjoy at mrao.cam.ac.uk  Wed Dec 13 13:14:52 2006
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Wed, 13 Dec 2006 12:14:52 +0000
Subject: [dev-context] bib: 'note' from book entry appears in
	incollection entry
In-Reply-To: Your message of "Wed, 13 Dec 2006 09:53:34 +0100."
	<457FBF8E.10907@elvenkind.com> 
Message-ID: <E1GuT0e-0002cz-00@skye.ra.phy.cam.ac.uk>

> Well, yes. Since it is in the database twice, it will be typeset
> twice,

Ack, my bug -- only excuse is that my head is foggy fighting a virus.
But I'd also tried it with the note in the database once (just in the
Book entry itself, not the entry referring to it), and it also does
the same thing.

-Sanjoy

`Never underestimate the evil of which men of power are capable.'
         --Bertrand Russell, _War Crimes in Vietnam_, chapter 1.

From mojca.miklavec.lists at gmail.com  Thu Dec 14 01:01:09 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 14 Dec 2006 01:01:09 +0100
Subject: [dev-context] TeXLive 2006
In-Reply-To: <457D2F5A.60305@wxs.nl>
References: <457BCA43.1000307@elvenkind.com> <457D2F5A.60305@wxs.nl>
Message-ID: <6faad9f00612131601m6dbd99a0icfd7acb65401e789@mail.gmail.com>

Are formats also part of TeXLive? If so, will formats for XeTeX also
be available (if XeTeX will be available for windows at all)?

Sorry for the stupid questions. The only try I gave to TeXLive failed,
so I don't know that much about its details.

Mojca

From taco at elvenkind.com  Thu Dec 14 08:26:06 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 14 Dec 2006 08:26:06 +0100
Subject: [dev-context] TeXLive 2006
In-Reply-To: <6faad9f00612131601m6dbd99a0icfd7acb65401e789@mail.gmail.com>
References: <457BCA43.1000307@elvenkind.com> <457D2F5A.60305@wxs.nl>
	<6faad9f00612131601m6dbd99a0icfd7acb65401e789@mail.gmail.com>
Message-ID: <4580FC8E.6020500@elvenkind.com>

Mojca Miklavec wrote:
> Are formats also part of TeXLive? 

In general: yes.

> If so, will formats for XeTeX also be available 

Probably not. There can be only one format with a given name within
TeXLive (fmtutil), and that will almost certainly be used for pdftex.

(Assuming you meant: for context. There will be xelatex.fmt, I assume)

(if XeTeX will be available for windows at all)?

That's definately yes.

Best, Taco

From contexttest-bugs at foundry.supelec.fr  Thu Dec 21 10:55:07 2006
From: contexttest-bugs at foundry.supelec.fr (contexttest-bugs at foundry.supelec.fr)
Date: Thu, 21 Dec 2006 10:55:07 +0100
Subject: [dev-context] =?utf-8?q?=5Bcontexttest-Bugs=5D=5B45=5D_=5Cplacefo?=
	=?utf-8?q?rmula_and_=24=24_doesn=27t_work_anymore?=
Message-ID: <200612210955.kBL9t7En005190@semantic.metz.supelec.fr>

Bugs item #45, was opened at 2006-12-05 09:06
You can respond by visiting: 
http://foundry.supelec.fr/tracker/?func=detail&atid=161&aid=45&group_id=21
Or by replying to this e-mail entering your response between the following markers: 
#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+
(enter your response here)
#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+#+

>Status: Closed
Priority: 3
Submitted By: Taco Hoekwater (taco)
>Assigned to: Hans Hagen (hagen)
Summary: \placeformula and $$ doesn't work anymore 
>Resolution: Accepted
Version: 20061129
Category: macros


Initial Comment:
Hi all,
for some weeks I need to tex formulas again and tried the way I used to do it:

\placeformula
$$
f(t)={1\over2\pi}\int_0^\infty e^{i(\omega t-kx)} dx
$$

It didn't work anymore?!? It doesn't place a number nor does it do the spacing
properly. It does work the "context" way using

\placeformula
\startformula
f(t)={1\over2\pi}\int_0^\infty e^{i(\omega t-kx)} dx
\stopformula

but to be honest that's quit a lot to type. "$$" is just nice and short and all
the old documents I wrote wont work anymore...
I run

This is pdfeTeX, Version 3.141592-1.30.4-2.2 (Web2C 7.5.5) (format=cont-en 2006.
12.4)  4 DEC 2006 21:46
...
ConTeXt  ver: 2006.11.29 09:55 MK II  fmt: 2006.12.4  int: english/english

I would be very glad for some hints. Many thanks in advance.

Hubertus

----------------------------------------------------------------------

>Comment By: Taco Hoekwater (taco)
Date: 2006-12-21 10:55

Message:
Fixed in 2006.12.20

----------------------------------------------------------------------

You can respond by visiting: 
http://foundry.supelec.fr/tracker/?func=detail&atid=161&aid=45&group_id=21


From mojca.miklavec.lists at gmail.com  Thu Dec 21 16:40:09 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 21 Dec 2006 16:40:09 +0100
Subject: [dev-context] debian package on contextgarden.net
Message-ID: <6faad9f00612210740l554bb987wd1e135d4a11966a1@mail.gmail.com>

Hello,

There was no voice from Patrick for a long time, but in case he's
still reading his mail occasionally:

He wanted to upgrade the TeX distribution on contextgarden.net.
Couldn't the new Debian package be used for that? (Which would
probably mean that one would get/could experiment with XeTeX and
perhaps even luatex "for free" then.)

Mojca

From mojca.miklavec.lists at gmail.com  Thu Dec 21 16:46:03 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 21 Dec 2006 16:46:03 +0100
Subject: [dev-context] ugly bug in sometxt
In-Reply-To: <4573F76D.3060308@elvenkind.com>
References: <6faad9f00612010950x16c3ddd2s49cf0c743c971bba@mail.gmail.com>
	<4573F76D.3060308@elvenkind.com>
Message-ID: <6faad9f00612210746w1e4529dbpa130ee175185f1c7@mail.gmail.com>

On 12/4/06, Taco Hoekwater wrote:
>
> Mojca Miklavec wrote:
> > Hello Hans,
> >
> > I don't understand how I managed not to spot this before since I use
> > it frequently, but \sometxt seems to scale the labels according to the
> > last defined label. In other words, if one defines one \sometxt{short}
> > in the first graphic and one \sometxt{\dorecurse{10}{very }long} then
> > the first text will be scaled to the length of the second one.
>
>
> I see the same behaviour here, but only if \runMPgraphics false.

Sorry for a late reply. Apparently I spotted the difference when I
changed computer and forgot about the user settings.

What exactly does \runMPgraphics serve for? There is a whole lot of if
clases in the ConTeXt source, but still: 99% of the cases work with
runMPgraphicsfalse. Where exactly lies the difference?

Thanks,
Mojca

From taco at elvenkind.com  Thu Dec 21 17:04:48 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 21 Dec 2006 17:04:48 +0100
Subject: [dev-context] ugly bug in sometxt
In-Reply-To: <6faad9f00612210746w1e4529dbpa130ee175185f1c7@mail.gmail.com>
References: <6faad9f00612010950x16c3ddd2s49cf0c743c971bba@mail.gmail.com>	
	<4573F76D.3060308@elvenkind.com>
	<6faad9f00612210746w1e4529dbpa130ee175185f1c7@mail.gmail.com>
Message-ID: <458AB0A0.2020800@elvenkind.com>


Hi,

Mojca Miklavec wrote:

> What exactly does \runMPgraphics serve for? There is a whole lot of if
> clases in the ConTeXt source, but still: 99% of the cases work with
> runMPgraphicsfalse. Where exactly lies the difference?

With \runMPgraphicstrue, they are created on-the-fly, so that the
"last size" is the correct size. The fact that it scales wrong if
\runMPgraphicsfalse is (i think) a bug, but it could be problematic
to fix.

Taco

From preining at logic.at  Fri Dec 22 10:03:38 2006
From: preining at logic.at (Norbert Preining)
Date: Fri, 22 Dec 2006 10:03:38 +0100
Subject: [dev-context] debian package on contextgarden.net
In-Reply-To: <6faad9f00612210740l554bb987wd1e135d4a11966a1@mail.gmail.com>
References: <6faad9f00612210740l554bb987wd1e135d4a11966a1@mail.gmail.com>
Message-ID: <20061222090338.GD9611@gamma.logic.tuwien.ac.at>

Hi Mojca, hi all!

On Don, 21 Dez 2006, Mojca Miklavec wrote:
> There was no voice from Patrick for a long time, but in case he's
> still reading his mail occasionally:
> 
> He wanted to upgrade the TeX distribution on contextgarden.net.
> Couldn't the new Debian package be used for that? (Which would
> probably mean that one would get/could experiment with XeTeX and
> perhaps even luatex "for free" then.)

Note that we also have experimental xetex packages ready, Kohda-san
prepared them. I don't know whether they are as up2date as the sources
in TeX Live, but I can check back.

Furthermore, if we get a bit of testing for the context package (the
unofficial context, not the current texlive-context which comes from TeX
Live 2005) that would be great.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>                    Universit? di Siena
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
DAMNAGLAUR (n.)
A certain facial expression which actors are required to demonstrate
their mastery of before they are allowed to play MacBeth.
			--- Douglas Adams, The Meaning of Liff

From pragma at wxs.nl  Fri Dec 22 18:45:23 2006
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 22 Dec 2006 18:45:23 +0100
Subject: [dev-context] debian package on contextgarden.net
In-Reply-To: <6faad9f00612210740l554bb987wd1e135d4a11966a1@mail.gmail.com>
References: <6faad9f00612210740l554bb987wd1e135d4a11966a1@mail.gmail.com>
Message-ID: <458C19B3.2030307@wxs.nl>

Mojca Miklavec wrote:
> Hello,
>
> There was no voice from Patrick for a long time, but in case he's
> still reading his mail occasionally:
>
> He wanted to upgrade the TeX distribution on contextgarden.net.
> Couldn't the new Debian package be used for that? (Which would
> probably mean that one would get/could experiment with XeTeX and
> perhaps even luatex "for free" then.)
>   
sounds like a good idea 

Hans 


-----------------------------------------------------------------
                                          Hans Hagen | PRAGMA ADE
              Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                             | www.pragma-pod.nl
-----------------------------------------------------------------


From mojca.miklavec.lists at gmail.com  Fri Dec 22 19:17:12 2006
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 22 Dec 2006 19:17:12 +0100
Subject: [dev-context] ugly bug in sometxt
In-Reply-To: <458AB0A0.2020800@elvenkind.com>
References: <6faad9f00612010950x16c3ddd2s49cf0c743c971bba@mail.gmail.com>
	<4573F76D.3060308@elvenkind.com>
	<6faad9f00612210746w1e4529dbpa130ee175185f1c7@mail.gmail.com>
	<458AB0A0.2020800@elvenkind.com>
Message-ID: <6faad9f00612221017y806d489t265bf3e95ff21df8@mail.gmail.com>

On 12/21/06, Taco Hoekwater wrote:
>
> Hi,
>
> Mojca Miklavec wrote:
>
> > What exactly does \runMPgraphics serve for? There is a whole lot of if
> > clases in the ConTeXt source, but still: 99% of the cases work with
> > runMPgraphicsfalse. Where exactly lies the difference?
>
> With \runMPgraphicstrue, they are created on-the-fly, so that the
> "last size" is the correct size. The fact that it scales wrong if
> \runMPgraphicsfalse is (i think) a bug, but it could be problematic
> to fix.

OK, thanks for explanation. I'll put \runMPgraphicstrue in the module
then and remove it again if anyone of you accidentally manages to
patch the behaviour ;)

Thanks,
    Mojca

From patrick at gundla.ch  Wed Dec 27 18:56:31 2006
From: patrick at gundla.ch (Patrick Gundlach)
Date: Wed, 27 Dec 2006 18:56:31 +0100
Subject: [dev-context] debian package on contextgarden.net
In-Reply-To: <6faad9f00612210740l554bb987wd1e135d4a11966a1@mail.gmail.com>
	(Mojca Miklavec's message of "Thu, 21 Dec 2006 16:40:09 +0100")
References: <6faad9f00612210740l554bb987wd1e135d4a11966a1@mail.gmail.com>
Message-ID: <m2y7otdxyo.fsf@levana.de>

Hi all,

> There was no voice from Patrick for a long time, but in case he's
> still reading his mail occasionally:

I am "back" now and will catch up reading the mails in the next few
days.

Sorry for the delay,

Patrick
-- 
Now with a future ConTeXt user...

From sanjoy at mrao.cam.ac.uk  Sat Dec 30 20:23:36 2006
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Sat, 30 Dec 2006 12:23:36 -0700
Subject: [dev-context] mptopdf: produces PDF with 'unknown operator' error
Message-ID: <E1H0jns-0003Gy-FQ@approximate.corpus.cam.ac.uk>

The following test file (included in the attached .zip) produces errors
when test.pdf is viewed in xpdf (v3.0):

  Error (1004): Unknown operator 'D'
  Error (1006): Too few (0) args to 'J' operator

=================== begin: test.tex ==================
% xpdf error:
% Error (1004): Unknown operator 'D'
% Error (1006): Too few (0) args to 'J' operator

\pdfcompresslevel=0
\defineoverlay [foregraphics] [\positionoverlay{foregraphics}]
\setupbackgrounds
  [page]
  [background={foreground,foregraphics}]

\starttext

\hpos{r13}{4} 

\hpos{r23}{7} \quad \hpos{r24}{11}

\startMPpositiongraphic{mypos:line}
  path pa, pb, pab ; numeric na, nb ;
  initialize_box(\MPpos{\MPvar{from}}) ;
  na := nxy ; pa := llxy..lrxy..urxy..ulxy..cycle ;
  initialize_box(\MPpos{\MPvar{to}}) ;
  nb := nxy ; pb := llxy..lrxy..urxy..ulxy..cycle ;
  if na=nb :
    pab := center pa -- center pb ;
    pab := pab cutbefore (pab intersectionpoint pa) ;
    pab := pab cutafter (pab intersectionpoint pb) ;
    pickup pencircle scaled 1pt ;
    draw pab withcolor .625yellow ;
    anchor_box(\MPanchor{\MPvar{from}}) ;
  fi ;
\stopMPpositiongraphic

\startpositionoverlay{foregraphics}
  \setMPpositiongraphic{r13}{mypos:line}{to=r24}
  \setMPpositiongraphic{r23}{mypos:line}{to=r24}
\stoppositionoverlay

hi

\stoptext
===================   end: test.tex ==================

The simplest way to see the problem is to convert the intermediate EPS
graphic to pdf by hand (with mptopdf), and that pdf file shows the same
problem.  So I run the following to get an uncompressed pdf file:

  texexec test.tex
  mptopdf test-mpgraph.1
  pdftk test-mpgraph-1.pdf output test-mpgraph-1-uncompressed.pdf uncompress

Then view either test-mpgraph-1.pdf or test-mpgraph-1-uncompressed.pdf
(in xpdf).

It's line 19 (" D J") in test-mpgraph-1-uncompressed.pdf that causes the
problem.  The original eps file (test-mpgraph.1) has a definition for D,
which I think is "/D{[] 0 setdash}bd" (if I parsed the postscript
right).  But the converted PDF doesn't know the definition.  Which may
cause the J operator to have too few arguments.

The attached zip file has all the files that result from running the
above commands, including a (GNU) Makefile to reproduce the whole thing.
I'm using the 2006.12.27 version of ConTeXt, with mptopdf 1.3.2, on
Ubuntu Linux (tetex 3.0, xpdf 3.0).

The files display correctly despite the warnings, but a more complex
example (from which this came) has misplaced connecting lines.  I don't
know if it is caused by these operator problems.  However, I figured
it's worth worrying about this simpler case first, and only then seeing
what problems remain in the more complex example.

-Sanjoy

`A nation of slaves is always prepared to applaud the clemency of their
 master who, in the abuse of absolute power, does not proceed to the
 last extremes of injustice and oppression.'  (Gibbon)  

-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/x-zip
Size: 33123 bytes
Desc: test and resulting files
Url : http://www.ntg.nl/mailman/private/dev-context/attachments/20061230/7d8f8da1/attachment-0001.bin 

From taco at elvenkind.com  Sun Dec 31 10:03:14 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 31 Dec 2006 10:03:14 +0100
Subject: [dev-context] [NTG-context] Week number
In-Reply-To: <4596E81A.9040807@wxs.nl>
References: <45941026$0$4168$ba624c82@nntp02.dk.telia.net>	<459670F8.5020106@elvenkind.com>	<alpine.WNT.0.81.0612301631090.3880@nqvgln>
	<4596E81A.9040807@wxs.nl>
Message-ID: <45977CD2.8000707@elvenkind.com>


Hi,

(switched mailing lists)

Hans Hagen wrote:
>>
>>I do not know if someone will find it useful or not, but it seems like 
>>a nice feature to have :)

I'll look into wrapping it up a bit first. This code is written
very much for comp.text.tex posting: \modulonumber is already
present in ConTeXt, my macro names are optimized for shortness,
and there is a slower but better definition of the integer divide
possible (without multiplication):

   \def\divisionnumber#1#2%
      {\Expr{(#2/#1)-((\modulonumber{#1}{#2})/#1)}}


> see core-con.tex, such things have been there for years now  -) 

> (not sure if it does the same as what taco code does) 

My macro does something that wasn't there yet: it calculates a
'week number' based on the current date: \weeknumber{31}{12}{2006}
expands to 52 (and my macro is fully expandable).

The internal macro \Jday calculates the current julian day, and
that can help make \getdayoftheweek much shorter:

   \def\getdayoftheweek#1#2#3%
      {\normalweeday\Expr{\Mod{\Jday{#1}{#2}{#3}+1}{7}+1}}%


Best, Taco


From taco at elvenkind.com  Sun Dec 31 10:37:52 2006
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 31 Dec 2006 10:37:52 +0100
Subject: [dev-context] mptopdf: produces PDF with 'unknown operator'
	error
In-Reply-To: <E1H0jns-0003Gy-FQ@approximate.corpus.cam.ac.uk>
References: <E1H0jns-0003Gy-FQ@approximate.corpus.cam.ac.uk>
Message-ID: <459784F0.1000104@elvenkind.com>

Sanjoy Mahajan wrote:
> The following test file (included in the attached .zip) produces errors
> when test.pdf is viewed in xpdf (v3.0):
> 
>   Error (1004): Unknown operator 'D'
>   Error (1006): Too few (0) args to 'J' operator

You should up- or downgrade your MetaPost installation. Since 0.980 or
so, the PostsScript shortcuts have different names. ConTeXt depends
on them either using the new names, or being absent altogether.

Best, taco

From sanjoy at mrao.cam.ac.uk  Sun Dec 31 19:09:23 2006
From: sanjoy at mrao.cam.ac.uk (Sanjoy Mahajan)
Date: Sun, 31 Dec 2006 11:09:23 -0700
Subject: [dev-context] mptopdf: produces PDF with 'unknown operator'
	error
In-Reply-To: Your message of "Sun, 31 Dec 2006 10:37:52 +0100."
	<459784F0.1000104@elvenkind.com> 
Message-ID: <E1H157b-0007Gf-38@approximate.corpus.cam.ac.uk>

Thanks, that was the problem.  I was at mpost 0.970 and with 0.993 the
problem vanished.  Another problem appeared, which is that pdftk
segfaults when uncompressing the new pdf file, but I'll track that down
and report it to the pdftk authors.

mpost now says it is 0.993.  But mpost -v says 0.992.  There are a few
spots in the source code with 0.992 strings.  To find them:

  find -type f | xargs grep -I '\<0\.99[23]\>'

Not sure which are spurious and which need changing.

Also, I updated the update-tetex.make.  Here's a diff and also the new
version is attached.  

Before running it, I removed the /usr/share/texmf/web2c/mp.pool that the
older version of the makefile had installed on the last mpost upgrade;
otherwise it would shadow the proper tetex location in
/usr/share/texmf-tetex/web2c/.  After running it, I did a 'texexec
--make --all' (as me) to make sure that my per-user ConTeXt installation
knew all about the new metapost.  Someday I'll make the latest and
greatest ConTeXt a systemwide install.

-Sanjoy


diff -r d66d0f7eae60 update-tetex.make
--- a/update-tetex.make	Sun Dec 31 10:37:47 2006 -0700
+++ b/update-tetex.make	Sun Dec 31 10:50:22 2006 -0700
@@ -1,18 +1,23 @@
-# For installing mp 0.901 over the tetex-3.0 files (mp 0.641)
+# For installing latest mp over the tetex-3.0 equivalents (mp 0.641)
 
 .PHONY: install install-exec install-pool install-mplib
 
 INSTALL := rsync -ptv
 
-edir1 := metapost-0.901/build/texk/web2c
+# directories where the generated executables are put
+edir1 := build/texk/web2c
 edir2 := $(edir1)/mpware
+execs := $(edir1)/mpost $(edir1)/dvitomp 
+execs += $(edir2)/dmp $(edir2)/mpto $(edir2)/newer $(edir2)/makempx
+
+pool  := $(edir1)/mp.pool
 
 install: install-exec install-pool install-mplib
-	fmtutil-sys --refresh
+	fmtutil-sys --all
 
-install-exec: $(edir1)/mpost $(edir1)/dvitomp $(edir2)/dmp $(edir2)/mpto $(edir2)/newer $(edir2)/makempx
+install-exec: $(execs)
 	$(INSTALL) $^ /usr/bin/
-install-pool: $(edir1)/mp.pool
-	$(INSTALL) $^ /usr/share/texmf/web2c/
-install-mplib: 
-	$(INSTALL) -r metapost-0.901/texmf/metapost /usr/share/texmf-tetex/
+install-pool: $(pool)
+	$(INSTALL) $^ /usr/share/texmf-tetex/web2c/
+install-mplib:
+	$(INSTALL) -r texmf/metapost /usr/share/texmf-tetex/


-Sanjoy

`A nation of slaves is always prepared to applaud the clemency of their
 master who, in the abuse of absolute power, does not proceed to the
 last extremes of injustice and oppression.'  (Gibbon)  

-------------- next part --------------
# For installing latest mp over the tetex-3.0 equivalents (mp 0.641)

.PHONY: install install-exec install-pool install-mplib

INSTALL := rsync -ptv

# directories where the generated executables are put
edir1 := build/texk/web2c
edir2 := $(edir1)/mpware
execs := $(edir1)/mpost $(edir1)/dvitomp 
execs += $(edir2)/dmp $(edir2)/mpto $(edir2)/newer $(edir2)/makempx

pool  := $(edir1)/mp.pool

install: install-exec install-pool install-mplib
	fmtutil-sys --all

install-exec: $(execs)
	$(INSTALL) $^ /usr/bin/
install-pool: $(pool)
	$(INSTALL) $^ /usr/share/texmf-tetex/web2c/
install-mplib:
	$(INSTALL) -r texmf/metapost /usr/share/texmf-tetex/

From mgb-debian at yosemite.net  Sun Dec 31 21:29:48 2006
From: mgb-debian at yosemite.net (Mike Bird)
Date: Sun, 31 Dec 2006 12:29:48 -0800
Subject: [dev-context] Inconsistent Reference Counting
Message-ID: <200612311229.50352.mgb-debian@yosemite.net>

References are classified as forward or backward based on
comparison of \crossreferencenumber against the sequence
number of the reference loaded from the previous pass.

\crossreferencenumber is incremented on all reference
definition writes including duplicates.

References loaded from the previous pass do not include
duplicates.

Thus forward/backward classification (e.g. in \somewhere)
is wrong in the presence of duplicate references.

One fix would be to not increment \crossreferencenumber
if this reference has already been written to the file.

Does anyone have any suggestions how to do this?

Thanks,

--Mike Bird

From mgb-debian at yosemite.net  Sun Dec 31 23:24:42 2006
From: mgb-debian at yosemite.net (Mike Bird)
Date: Sun, 31 Dec 2006 14:24:42 -0800
Subject: [dev-context] Inconsistent Reference Counting
In-Reply-To: <200612311229.50352.mgb-debian@yosemite.net>
References: <200612311229.50352.mgb-debian@yosemite.net>
Message-ID: <200612311424.44513.mgb-debian@yosemite.net>

I was mistaken about the duplicate references.  It is footnotes which
are interfering with the reference counters.

Test case:

\starttext
\chapter[A]{One}
\footnote{foot}
\somewhere{before}{after}[B]
\chapter[B]{Two}
\stoptext

Any thoughts on a solution?

Thanks, 

--Mike Bird

