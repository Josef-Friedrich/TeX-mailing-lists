From cryan at binghamton.edu  Sat Oct  1 03:24:14 2005
From: cryan at binghamton.edu (Christopher W. Ryan)
Date: Sat Oct  1 04:00:03 2005
Subject: [texhax] problematic slide with beamer
Message-ID: <433DE53E.6030402@binghamton.edu>

I've wracked my brain trying to troubleshoot this presentation, without 
succes.  I wonder if anyone can find the error(s) that I can't.

This is on frame of about 30 in my presentation.  I'm using beamer. 
I've tried it at work in Win98, using TeXniCenter, and TextPad as the 
editors, and MikTex.  I've tried it at home on a commercialized version 
of debian linux, using Kile.  It won't compile in either environment.

The presentation uses a number of hyperlinks back and forth between 
sections.

I understand that it may be impossible to troubleshoot on the List, 
without access to the entire source file.  If so, c'est la vie, but 
thanks for your consideration.

--Chris


Here is my preamble, as it stands:

\documentclass[notes=show]{beamer}
\usetheme{PaloAlto}
%\usepackage[tab,width=0.8in]
\usecolortheme{sidebartab}
\usepackage{graphicx}
\usepackage{outlines}



Here is what seems to be the problematic frame.  Most/all of the error 
messages refer to line 289, which is the last line in this frame, 
containing just a single, frame-closing curly brace.



\frame
{
\frametitle{Categories of diagnoses}
\hypertarget{KirkOrigin}
\begin{table}
\centering
	\begin{tabular}{|c|c|c|c|c|}
	&	Morrison	&	Sugarman 	&	Lane 	&	\hyperlink{Kirk 
1990}{\beamergotobutton{Kirk}}	\\
	&	1980	&	1984	&	1990	&	1990	\\
	\hline
	``Physical''	&		39\%	&	22\%	&	8\%		&	63\%	\\
	``Psychologocal''	&	41\%	&	50\%	&	&	37\%	\\
	``Mixed''	&	12\%	&	&	&	\\
	``Undetermined''	&	8\%	&	28\%	&	&	
	\end{tabular}
\end{table}

\note{Making this kind of distinction is not usually productive. 
Fatigue is truly a biopsychosocial symptom, requiring simultaneous 
evaluation of all three of those spheres of life.

If a long and expensive and invasive work-up to ``rule out'' physical 
causes of fatigue produces nothing, and the patient is told ``it must be 
psychological,'' it leaves a very bad taste \dots  Better to acknowledge 
all the potential diagnoses ``up front'' \ldots

Kirk's ``dropouts'' were significantly more likely to be depressed, and 
significantly less likely to be married or employed.  This probably led 
to a systematic exclusion from these final numbers of those with fatigue 
on a ``psychosocial'' basis.}
}



Here is the gist of the error messages:

fatiguebeamer.tex:289:Extra \fi. }
fatiguebeamer.tex:289:Environment undefined. }
fatiguebeamer.tex:289:\begin{beamer@framepauses} on input line 289 ended 
by \end{center}. }
fatiguebeamer.tex:289:\begin{beamer@framepauses} on input line 289 ended 
by \end{table}. }
fatiguebeamer.tex:289:\begin{beamer@frameslide} on input line 289 ended 
by \end{beamer@framepauses}. }
fatiguebeamer.tex:289:Missing } inserted. }
fatiguebeamer.tex:289:Too many }'s. }
fatiguebeamer.tex:289:Undefined control sequence. }
fatiguebeamer.tex:289:\begin{document} ended by \end{beamer@frameslide}. }
fatiguebeamer.tex:289:Extra \endgroup. }

From daleif at imf.au.dk  Sat Oct  1 11:39:44 2005
From: daleif at imf.au.dk (Lars Madsen)
Date: Sat Oct  1 11:39:48 2005
Subject: [texhax] problematic slide with beamer
In-Reply-To: <433DE53E.6030402@binghamton.edu>
References: <433DE53E.6030402@binghamton.edu>
Message-ID: <Pine.LNX.4.61.0510011138480.383@radagast.imf.au.dk>

Christopher W. Ryan :

> I've wracked my brain trying to troubleshoot this presentation, without 
> succes.  I wonder if anyone can find the error(s) that I can't.
>
> This is on frame of about 30 in my presentation.  I'm using beamer. I've 
> tried it at work in Win98, using TeXniCenter, and TextPad as the editors, and 
> MikTex.  I've tried it at home on a commercialized version of debian linux, 
> using Kile.  It won't compile in either environment.
>
> The presentation uses a number of hyperlinks back and forth between sections.
>
> I understand that it may be impossible to troubleshoot on the List, without 
> access to the entire source file.  If so, c'est la vie, but thanks for your 
> consideration.
>
> --Chris
>

I didn't have the outlines package, but this now compiles on my system

\documentclass[notes=show]{beamer}
\usetheme{PaloAlto}
%\usepackage[tab,width=0.8in]
\usecolortheme{sidebartab}
\usepackage{graphicx}
%\usepackage{outlines}
\begin{document}

\begin{frame}
\frametitle{Categories of diagnoses}
\hypertarget{KirkOrigin}
\begin{table}
\centering
 	\begin{tabular}{|c|c|c|c|c|}
 	&	Morrison	&	Sugarman 	&	Lane 	& 
\hyperlink{Kirk
1990}{\beamergotobutton{Kirk}}	\\
 	&	1980	&	1984	&	1990	&	1990	\\
 	\hline
 	``Physical''	&		39\%	&	22\%	& 
8\%		&	63\%	\\
 	``Psychologocal''	&	41\%	&	50\%	&	& 
37\%	\\
 	``Mixed''	&	12\%	&	&	&	\\
 	``Undetermined''	&	8\%	&	28\%	&	&
 	\end{tabular}
\end{table}

\note{Making this kind of distinction is not usually productive.
Fatigue is truly a biopsychosocial symptom, requiring simultaneous
evaluation of all three of those spheres of life.

If a long and expensive and invasive work-up to ``rule out'' physical
causes of fatigue produces nothing, and the patient is told ``it must be
psychological,'' it leaves a very bad taste \dots  Better to acknowledge
all the potential diagnoses ``up front'' \ldots

Kirk's ``dropouts'' were significantly more likely to be depressed, and
significantly less likely to be married or employed.  This probably led
to a systematic exclusion from these final numbers of those with fatigue
on a ``psychosocial'' basis.}
\end{frame}
\end{document}


-- 

/daleif

``You cannot help men permanently by doing for them 
what they could and should do for themselves. ''
  -- Abraham Lincoln

From cryan at binghamton.edu  Sat Oct  1 19:06:50 2005
From: cryan at binghamton.edu (Christopher W. Ryan)
Date: Sat Oct  1 19:09:19 2005
Subject: [texhax] problematic slide with beamer
In-Reply-To: <19af81400510010026wf2b4e6n565edd29cf5ab8b5@mail.gmail.com>
References: <433DE53E.6030402@binghamton.edu>
	<19af81400510010026wf2b4e6n565edd29cf5ab8b5@mail.gmail.com>
Message-ID: <433EC22A.8030203@binghamton.edu>

Victor, thank you so much.  Even adding {} was enough to fix it. 
Sometimes I just don't look closely enough . . . .

--Chris

Victor Ivrii wrote:
> Should be
> \hypertarget{KirkOrigin}{some text}
> 

From ekmath at asianetindia.com  Sun Oct  2 04:34:09 2005
From: ekmath at asianetindia.com (E. Krishnan)
Date: Sun Oct  2 04:31:30 2005
Subject: [texhax] Math typesetting.
In-Reply-To: <48146.193.136.33.225.1128015426.squirrel@mail.eu.ipp.pt>
Message-ID: <Pine.LNX.4.44.0510020757300.8309-100000@localhost.localdomain>

On Thu, 29 Sep 2005 cgf@isep.ipp.pt wrote:

> I need to wright questions and answers with an enviroment like enumerate
> but with several items per line. 

Please have a look at the "shortlst" package

> the solutions
> must appear with a reference like label.
> This is for my calculus class students.

Yo can refer to item labels in a list using the standard "\label" ... 
"\ref"  mechanism of LaTeX


-- 
Krishnan

From rbedient at hamilton.edu  Tue Oct  4 17:04:26 2005
From: rbedient at hamilton.edu (Dick Bedient)
Date: Tue Oct  4 19:49:03 2005
Subject: [texhax] TeX to LaTeX
Message-ID: <a06110406bf6849716083@[150.209.88.70]>

If this isn't the place to ask this question, please direct me in to 
the proper place.

I have a math paper written in Plain TeX processed with OzTeX.  The 
journal I'm submitting it to wants it in LaTeX.  I can find all sorts 
of conversion programs but not one from plain TeX to LaTeX.  Does 
such a converter exist, or is there a list of required conversions 
that I can do myself?  Thanks for any help.

Dick Bedient

-- 
Richard E. Bedient		Everything should be made
Professor of Mathematics		as simple as possible,
Hamilton College			but no simpler.
Clinton NY 13323
(315) 859-4138				--Albert Einstein
rbedient@hamilton.edu

From karl at freefriends.org  Tue Oct  4 23:23:27 2005
From: karl at freefriends.org (Karl Berry)
Date: Tue Oct  4 23:23:32 2005
Subject: [texhax] TeX to LaTeX
In-Reply-To: <a06110406bf6849716083@[150.209.88.70]>
Message-ID: <200510042123.j94LNRd10006@f7.net>

Hi Dick,

This is a fine place to ask the question.

    Does such a converter exist, 

I am not aware of anything that even tries to convert plain to latex.
I'll be curious to know if anyone else does.

The problem is that they are really fundamentally different (except for
both using \'s and {}'s :).  Plain has none of the structured concepts
(article, document, section, enumerated list, ...) which latex does.

    or is there a list of required
    conversions that I can do myself?

I don't think there's any simple list of 1:1 conversions, for the
reasons above.  Math mode stuff will probably mostly work unchanged; the
main changes will likely be to introduce LaTeX \section and other text
commands.

You may find the "Not So Short Introduction to LaTeX"
(among other documents and books) useful in giving you a quick overview
of LaTeX features.
http://tug.org/tex-archive/info/lshort/

Hope this helps,
karl

From P.Taylor at Rhul.Ac.Uk  Wed Oct  5 12:44:28 2005
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR)
Date: Wed Oct  5 13:05:24 2005
Subject: [texhax] TeX to LaTeX
In-Reply-To: <a06110406bf6849716083@[150.209.88.70]>
References: <a06110406bf6849716083@[150.209.88.70]>
Message-ID: <4343AE8C.40809@Rhul.Ac.Uk>

Dick, I cut my teeth on Plain TeX and still can't stomach LaTeX,
but I sometimes need to use the latter when I want something like
SPQR's "Hyperref" or simplified access to esoteric fonts.  In my
experience, one can embed an Plain TeX document within a LaTeX
wrapper with few problems -- there /are/ a few primitives that
have been clobbered or usurped by LaTeX, but the vast majority
of TeX primitives will continue to work as you might expect.
If I were you, I'd try wrapping your Plain TeX source file in
a LaTeX wrapper and seeing how well or how badly it fares ...

Philip Taylor
--------
Dick Bedient wrote:

> If this isn't the place to ask this question, please direct me in to the 
> proper place.
> 
> I have a math paper written in Plain TeX processed with OzTeX.  The 
> journal I'm submitting it to wants it in LaTeX.  I can find all sorts of 
> conversion programs but not one from plain TeX to LaTeX.  Does such a 
> converter exist, or is there a list of required conversions that I can 
> do myself?  Thanks for any help.
> 
> Dick Bedient
> 

From A.Grahn at fz-rossendorf.de  Wed Oct  5 13:16:11 2005
From: A.Grahn at fz-rossendorf.de (Alexander Grahn)
Date: Wed Oct  5 13:16:16 2005
Subject: [texhax] remove `pt' from end of string
Message-ID: <20051005111611.GA18850@fz-rossendorf.de>

Dear TeX-Friends,

I'm trying to write a macro that removes the `pt' unit from a string.
While the macro \removept works on a hardcoded string, case (1)
of attached example, it fails on a string which itself is a macro,
although it is an \edef'ed one, case (2).

Would you please help me to adjust the macro so that it works in case
(2) as well?

Thanks,
Alexander

\documentclass{article}

\def\removept#1pt{%
  #1%
}

\def\bufa{ 1.31415pt}

\newdimen\mylength
\mylength=1.31415pt
\edef\bufb{ \the\mylength}
  
\begin{document}
  (1) works:\expandafter\removept\bufa
  
  \typeout{bufb: \bufb} %indeed, it's 1.31415pt

  (2) doesn't:\expandafter\removept\bufb
\end{document}

From Robin.Fairbairns at cl.cam.ac.uk  Wed Oct  5 13:24:31 2005
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Wed Oct  5 13:24:34 2005
Subject: [texhax] remove `pt' from end of string 
In-Reply-To: Your message of Wed, 05 Oct 2005 13:16:11 +0200.
	<20051005111611.GA18850@fz-rossendorf.de> 
Message-ID: <E1EN7Nv-0002OM-00@mta1.cl.cam.ac.uk>

> I'm trying to write a macro that removes the `pt' unit from a string.
> While the macro \removept works on a hardcoded string, case (1)
> of attached example, it fails on a string which itself is a macro,
> although it is an \edef'ed one, case (2).
> 
> Would you please help me to adjust the macro so that it works in case
> (2) as well?
> 
> Thanks,
> Alexander
> 
> \documentclass{article}
> 
> \def\removept#1pt{%
>   #1%
> }
> 
> \def\bufa{ 1.31415pt}
> 
> \newdimen\mylength
> \mylength=1.31415pt
> \edef\bufb{ \the\mylength}
>   
> \begin{document}
>   (1) works:\expandafter\removept\bufa
>   
>   \typeout{bufb: \bufb} %indeed, it's 1.31415pt
> 
>   (2) doesn't:\expandafter\removept\bufb
> \end{document}

the latex internal macro \strip@pt will deal with case (2): the
problem is tex wittily puts "pt" there as tokens with catcode "other"
rather than "letter".  so your macro will work only when you've typed
the length, the latex macro will work only when the length comes from
\the.  fun, isn't it?

From psilonline at hotmail.com  Wed Oct  5 14:14:51 2005
From: psilonline at hotmail.com (Christian Reppel)
Date: Wed Oct  5 14:14:56 2005
Subject: [texhax] Kile (Linux TeX editor)
Message-ID: <BAY102-F20B34408ED940E08AC0BBEC6820@phx.gbl>

Hi everybody!

Does anybody know how to install packages from CTAN.org in linux for Kile? 
On the website is written that one has to install it in the texmf directory, 
but I don't know where to put the files from the packages...
Or can this be done by adding some URL in YaST2 (SuSE installer)? What is 
the hyperlink to add?

Thanks.

_________________________________________________________________
MSN Messenger 7.5 is now out. Download it for FREE here. 
http://messenger.msn.co.uk

From A.Grahn at fz-rossendorf.de  Wed Oct  5 14:20:11 2005
From: A.Grahn at fz-rossendorf.de (Alexander Grahn)
Date: Wed Oct  5 14:20:15 2005
Subject: [texhax] remove `pt' from end of string
In-Reply-To: <E1EN7Nv-0002OM-00@mta1.cl.cam.ac.uk>
References: <20051005111611.GA18850@fz-rossendorf.de>
	<E1EN7Nv-0002OM-00@mta1.cl.cam.ac.uk>
Message-ID: <20051005122011.GA15095@fz-rossendorf.de>

> fun, isn't it?
Thank you very much, Robin! Without you and texhax TeX wouldn't be that
fun. Thanks again!

Alexander

From Robin.Fairbairns at cl.cam.ac.uk  Wed Oct  5 15:37:24 2005
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Wed Oct  5 15:37:34 2005
Subject: [texhax] Kile (Linux TeX editor) 
In-Reply-To: Your message of Wed, 05 Oct 2005 13:14:51 +0100.
	<BAY102-F20B34408ED940E08AC0BBEC6820@phx.gbl> 
Message-ID: <E1EN9SW-00053j-00@mta1.cl.cam.ac.uk>

> Does anybody know how to install packages from CTAN.org in linux for Kile? 

what's kile got to do with it?

> On the website is written that one has to install it in the texmf directory, 
> but I don't know where to put the files from the packages...

http://www.tex.ac.uk/cgi-bin/texfaq2html?label=instpackages+wherefiles

> Or can this be done by adding some URL in YaST2 (SuSE installer)? What is 
> the hyperlink to add?

possibly -- who knows what's available via yast? -- you may get lucky.

From john.keating at nuim.ie  Tue Oct  4 18:13:53 2005
From: john.keating at nuim.ie (Dr. John Keating)
Date: Wed Oct  5 23:39:28 2005
Subject: [texhax] Non-Author bibliographic citations in LaTex
Message-ID: <9B06EEB2-684E-4EFE-9B88-5823DE713A4D@nuim.ie>

Hi,

I'm using the natbib citation package and I want to cite a  
"Department of Education" report - I would like to use something like  
\citep{DES:2002}, say, to produce "(Department of Education, 2002)"  
in the text and "Department of Education (2002). *blah*" in the  
references. However, I can't seem to avoid the author field in my  
bibtex entry converted to "of Education, D. and Science (2002).  
*blah*" and "(of Education and Science, 2002)" in the text!

I use \bibliographystyle{apalike} as the bibliography style! Here is  
a typical bibtex entry:

@misc {DES:2002,
   author = {Department of Education and Science},
   publisher = {Department of Education and Science, Dublin},
   title = {\textit{Information Booklet for Schools on Asylum Seekers}},
   year = 2002
}


Cheers, John.

Dr. John G. Keating
Senior Lecturer
Department of Computer Science
National University of Ireland, Maynooth
Maynooth, Co. Kildare, IRELAND.

Email:    john.keating@nuim.ie
Tel:        +353 1 708 3854
FAX:        +353 1 708 3848


From alexmalo at ctrl.cinvestav.mx  Wed Oct  5 18:38:50 2005
From: alexmalo at ctrl.cinvestav.mx (Alejandro Justo Malo Tamayo)
Date: Wed Oct  5 23:39:28 2005
Subject: [texhax] Bibtex
Message-ID: <B9DEE8D8-65D7-4C33-9607-651F88BD8679@ctrl.cinvestav.mx>

Hi,
I usually work with bibtex and I wonder if anybody is pursuing its  
development or substitute, so I could help or communicate  my wish list.
Best regards
Alejandro

Dr. Alejandro Justo Malo Tamayo
Profesor-Investigador
Departamento de Control Autom?tico
(Automatic Control Department)
Cinvestav
Av. IPN 2508
San Pedro Zacatenco, G.A.M.
M?xico, D.F.
M?xico C.P. 07300

tel: (52) 55 5061 3800 ext. 4225
e-mail: alexmalo@ctrl.cinvestav.mx
url: http://des.ctrl.cinvestav.mx


From john.keating at nuim.ie  Wed Oct  5 16:35:18 2005
From: john.keating at nuim.ie (Dr. John Keating)
Date: Wed Oct  5 23:39:28 2005
Subject: [texhax] BibTex non-author Citation Question
Message-ID: <70A84DBE-FE87-4DC3-BFAE-CA59C177B011@nuim.ie>

Hi,

I'm using the natbib citation package and I want to cite a  
"Department of Education" report - I would like to use something like  
\citep{DES:2002}, say, to produce "(Department of Education, 2002)"  
in the text and "Department of Education (2002). *blah*" in the  
references. However, I can't seem to avoid the author field in my  
bibtex entry converted to "of Education, D. and Science (2002).  
*blah*" and "(of Education and Science, 2002)" in the text!

I use \bibliographystyle{apalike} as the bibliography style! Here is  
a typical bibtex entry:

@misc {DES:2002,
   author = {Department of Education and Science},
   publisher = {Department of Education and Science, Dublin},
   title = {\textit{Information Booklet for Schools on Asylum Seekers}},
   year = 2002
}


Cheers, John.


Dr. John G. Keating
Senior Lecturer
Department of Computer Science
National University of Ireland, Maynooth
Maynooth, Co. Kildare, IRELAND.

Email:    john.keating@nuim.ie
Tel:        +353 1 708 3854
FAX:        +353 1 708 3848


From unnursg at kom.aau.dk  Wed Oct  5 20:10:27 2005
From: unnursg at kom.aau.dk (unnursg@kom.aau.dk)
Date: Wed Oct  5 23:39:29 2005
Subject: [texhax] Question about macros
Message-ID: <1128535827.434417134edbd@webmail.kom.aau.dk>

Hey,

I have a small problem which I cant find any solution to by google or any other
method :(

I have made two macros (using \renewcomment), one to make my one header and one
to make a front page containing some informations.

In the header macro I use 1 parameter, but in the front page macro I use 9
parameters. Now I would like to get one parameter from the front page macro in
the header macro (the parameter containing the name of the document). I.e. I
would like the name of the document to appear both on the header and on the
frontpage.

How can I "reference" from one macro to a single parameter in another macro?

Thanx alot

Unnur Stella



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.

From Robin.Fairbairns at cl.cam.ac.uk  Thu Oct  6 00:19:10 2005
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Thu Oct  6 00:19:21 2005
Subject: [texhax] Question about macros 
In-Reply-To: Your message of Wed, 05 Oct 2005 20:10:27 +0200.
	<1128535827.434417134edbd@webmail.kom.aau.dk> 
Message-ID: <E1ENHbS-0005CU-00@mta1.cl.cam.ac.uk>

> I have a small problem which I cant find any solution to by google or any other
> method :(
> 
> I have made two macros (using \renewcomment), one to make my one header and one
> to make a front page containing some informations.
> 
> In the header macro I use 1 parameter, but in the front page macro I use 9
> parameters. Now I would like to get one parameter from the front page macro in
> the header macro (the parameter containing the name of the document). I.e. I
> would like the name of the document to appear both on the header and on the
> frontpage.
> 
> How can I "reference" from one macro to a single parameter in another macro?

the quick answer is "define a macro to carry the reference".

the longer answer involves you posting the relevant bit of your code,
so someone on this list can explain what you need to do.

From Robin.Fairbairns at cl.cam.ac.uk  Thu Oct  6 00:16:29 2005
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Thu Oct  6 01:16:27 2005
Subject: [texhax] Bibtex 
In-Reply-To: Your message of Wed, 05 Oct 2005 11:38:50 -0500.
	<B9DEE8D8-65D7-4C33-9607-651F88BD8679@ctrl.cinvestav.mx> 
Message-ID: <E1ENHYr-0005AJ-00@mta1.cl.cam.ac.uk>

there are several people developing substitutes of various sorts, and
afaik oren patashnik is still working (off and on) on bibtex 1.0
itself.

i've had responses (off list) from oren, when i've posted to
comp.text.tex about bibtex, but he's always said "please don't
publicise this address".  so i guess you might try posting your plea
to the newsgroup rather than here (effectively the texhax mailing
list).

as for "replacements for bibtex" -- i've not seen anything that stood
up and said "try me now".  one or two papers have been in languages i
don't read fluently, and others may have appeared in languages i don't
do at all (such as czech and hungarian).

From tophat at alltel.net  Thu Oct  6 01:41:05 2005
From: tophat at alltel.net (Philip Moore)
Date: Thu Oct  6 01:41:16 2005
Subject: [texhax] makor2 breaks right-justified English text?
Message-ID: <43446491.9090403@alltel.net>

Recently, I began migrating my wife's substantial body of lecture notes
and exercises  using the Makor package for Hebrew text to Makor2.  To my
dismay, I found that all right-justified English text now ends up flush
left, and any embedded Hebrew text in an enumerated environment shifts
left over the enumeration.  I've verified this problem in Miktex and
Tetex.   Simply declaring the package makes this happen.  Anyone aware
of a fix to this problem?

Jim Moore

From karl at freefriends.org  Thu Oct  6 01:51:35 2005
From: karl at freefriends.org (Karl Berry)
Date: Thu Oct  6 01:51:42 2005
Subject: [texhax] TeX to LaTeX
In-Reply-To: <4343AE8C.40809@Rhul.Ac.Uk>
Message-ID: <200510052351.j95NpZT09844@f7.net>

> SPQR's "Hyperref" 

1) hyperref has been maintained by Heiko Oberdiek for many years now;
   not sure how much of Sebastian's original code remains at this point.

2) I don't expect you find it especially interesting, but for the
   record, the new Eplain 3.0 release (http://tug.org/eplain) has
   support for live url's a la hyperref.  You can also load the LaTeX
   graphics and color packages.  Among other things.
   
   No "simplified access to esoteric fonts" (or even non-esoteric ones),
   though.  (There's the independent package plnfss, "plain nfss",
   although I've never used it.)

> If I were you, I'd try wrapping your Plain TeX source file in
> a LaTeX wrapper and seeing how well or how badly it fares ...

Yes, good thought ...

(Dick wrote me privately mentioning he's made some decent progress
already.)

Best,
Karl

From Benjamin.Deutsch at informatik.uni-erlangen.de  Thu Oct  6 08:50:05 2005
From: Benjamin.Deutsch at informatik.uni-erlangen.de (Benjamin Deutsch)
Date: Thu Oct  6 08:56:19 2005
Subject: [texhax] BibTex non-author Citation Question
In-Reply-To: <70A84DBE-FE87-4DC3-BFAE-CA59C177B011@nuim.ie>
References: <70A84DBE-FE87-4DC3-BFAE-CA59C177B011@nuim.ie>
Message-ID: <200510060850.05812.deutsch@informatik.uni-erlangen.de>

Hello,

> - I would like to use something like
> \citep{DES:2002}, say, to produce "(Department of Education, 2002)"
> in the text and "Department of Education (2002). *blah*" in the
> references. However, I can't seem to avoid the author field in my
> bibtex entry converted to "of Education, D. and Science (2002).
> *blah*" and "(of Education and Science, 2002)" in the text!

Try the following slight modification to your .bib entry (just the author 
line, actually):

@misc {DES:2002,
   author = {{Department of Education and Science}},
   publisher = {Department of Education and Science, Dublin},
   title = {\textit{Information Booklet for Schools on Asylum Seekers}},
   year = 2002
}

Using double braces prevents this kind of transformation.

Hope this helps,
  Benjamin

-- 
Dipl.-Inf. Benjamin Deutsch            Universitaet Erlangen-Nuernberg
Lehrstuhl fuer Mustererkennung (Inf. 5)        Tel.: +49 9131 85-27874
Martensstr. 3                                  Fax.: +49 9131 303811
91058 Erlangen      email: Benjamin.Deutsch@informatik.uni-erlangen.de
Germany             www  :      http://www5.informatik.uni-erlangen.de

From MurrayDM.SCI at mail.uovs.ac.za  Thu Oct  6 11:28:41 2005
From: MurrayDM.SCI at mail.uovs.ac.za (Dana Murray)
Date: Thu Oct  6 11:28:50 2005
Subject: [texhax] wrapping literal text
Message-ID: <s3450a81.033@kov.uovs.ac.za>

Hi

I would like to display literal text like  

72071/23214-1/69642*3^(1/2)*((4043340457*(10339022645130889+13060694016*657678738^(1/2))^(1/3)+19345*(10339022645130889+13060694016*657678738^(1/2))^(2/3)+917775329969665)/(10339022645130889+13060694016*657678738^(1/2))^(1/3))^(1/2)-
...several more lines

I have discovered that verbatim puts everything on one line.  Also it
would be great if all the displayed lines had the same with, as the
lines need not be broken at "nice" places.

Suggestions will be greatly appreciated.

Thank you.

Dan Murray


_____________________________________________________________________

University of the Free State: This message and its contents are subject to a disclaimer. 
Please refer to  http://www.uovs.ac.za/disclaimer  for full details. 

Universiteit van die Vrystaat: 
Hierdie boodskap en sy inhoud is aan 'n vrywaringsklousule onderhewig. 
Volledige besonderhede is by http://www.uovs.ac.za/vrywaring  beskikbaar. 
_____________________________________________________________________

From philip.ratcliffe at uninsubria.it  Thu Oct  6 12:17:12 2005
From: philip.ratcliffe at uninsubria.it (Philip G. Ratcliffe)
Date: Thu Oct  6 12:16:56 2005
Subject: [texhax] Non-Author bibliographic citations in LaTex
In-Reply-To: <9B06EEB2-684E-4EFE-9B88-5823DE713A4D@nuim.ie>
Message-ID: <AKEJLEGIKBCPGCHOGIMNIEGKDGAA.philip.ratcliffe@uninsubria.it>

> I'm using the natbib citation package and I want to cite a
> "Department of Education" report - I would like to use something like
> \citep{DES:2002}, say, to produce "(Department of Education, 2002)"
> in the text and "Department of Education (2002). *blah*" in the
> references. However, I can't seem to avoid the author field in my
> bibtex entry converted to "of Education, D. and Science (2002).
> *blah*" and "(of Education and Science, 2002)" in the text!
>
> I use \bibliographystyle{apalike} as the bibliography style! Here is
> a typical bibtex entry:
>
> @misc {DES:2002,
>    author = {Department of Education and Science},
>    publisher = {Department of Education and Science, Dublin},
>    title = {\textit{Information Booklet for Schools on Asylum Seekers}},
>    year = 2002
> }

A look at the BibTeX manual (C:\...\texmf\doc\bibtex\btxdoc.dvi) would give
you a hint.  There's also a certain amount of information given in the
underused FAQ, which should be linked at the bottom of this message (and all
others to the list).

Anyway, the BibTeX interpretation of your author entry is as follows: it
contains two authors, one called Department of Education (read like
Alexander von Humboldt) and the other simply Science (read as a surname
alone).

You can achieve what you want by using something like the following:

    author = {{Department of Education}},

i.e., doubling up the braces (the extra set means "leave this as is") and
chopping off the surplus "and Science".

Cheers,  Phil Ratcliffe

From philip.ratcliffe at uninsubria.it  Thu Oct  6 12:18:55 2005
From: philip.ratcliffe at uninsubria.it (Philip G. Ratcliffe)
Date: Thu Oct  6 12:18:38 2005
Subject: [texhax] Question about macros
In-Reply-To: <1128535827.434417134edbd@webmail.kom.aau.dk>
Message-ID: <AKEJLEGIKBCPGCHOGIMNAEGLDGAA.philip.ratcliffe@uninsubria.it>

> I have a small problem which I cant find any solution to by
> google or any other
> method :(

Well, this is sort of basic TeX macro writing and any of the more
comprehensive manuals would give you some hints.

> I have made two macros (using \renewcomment), one to make my one
> header and one
> to make a front page containing some informations.
>
> In the header macro I use 1 parameter, but in the front page macro I use 9
> parameters. Now I would like to get one parameter from the front
> page macro in
> the header macro (the parameter containing the name of the
> document). I.e. I
> would like the name of the document to appear both on the header
> and on the
> frontpage.
>
> How can I "reference" from one macro to a single parameter in
> another macro?

Like this:

\renewcommand\oneheader[1]{blah...#1...blah\def\firstpar{#1}}

\renewcommand\frontpage[9]{blah...#1...#9...blah...\firstpar}

Cheers,  Phil Ratcliffe

From geolsoft at mail.ru  Thu Oct  6 14:05:47 2005
From: geolsoft at mail.ru (Oleg Katsitadze)
Date: Thu Oct  6 14:03:07 2005
Subject: [texhax] wrapping literal text
In-Reply-To: <s3450a81.033@kov.uovs.ac.za>
References: <s3450a81.033@kov.uovs.ac.za>
Message-ID: <20051006120547.GA2677@thor>

On Thu, Oct 06, 2005 at 11:28:41AM +0200, Dana Murray wrote:
> I would like to display literal text like  
> 
> 72071/23214-1/69642*3^(1/2)*((4043340457*(10339022645130889+13060694016*657678738^(1/2))^(1/3)+19345*(10339022645130889+13060694016*657678738^(1/2))^(2/3)+917775329969665)/(10339022645130889+13060694016*657678738^(1/2))^(1/3))^(1/2)-
> ...several more lines

Sounds like the url package.

> Also it
> would be great if all the displayed lines had the same with, as the
> lines need not be broken at "nice" places.

I think the url package allows customization of the chars at
which the line can break.

-- 
Best regards,
Oleg Katsitadze

From karl at freefriends.org  Thu Oct  6 16:11:25 2005
From: karl at freefriends.org (Karl Berry)
Date: Thu Oct  6 16:11:32 2005
Subject: [texhax] Bibtex
In-Reply-To: <B9DEE8D8-65D7-4C33-9607-651F88BD8679@ctrl.cinvestav.mx>
Message-ID: <200510061411.j96EBP828667@f7.net>

    I usually work with bibtex and I wonder if anybody is pursuing its  
    development or substitute, so I could help or communicate  my wish list.

There are lots of BibTeX "substitute" projects, such as mlBibTeX,
Bibulus, BibTeX++, and more (I can't remember them all, it seems to be
everyone's favorite topic).  There have been a number of articles
published in TUGboat about them.  We also published an article by Oren
himself about BibTeX 1.0, etc:
http://tug.org/TUGboat/Articles/tb24-1/patashnik.pdf

As Robin remarked, posting to comp.text.tex is probably the best thing
to do.

Best,
Karl

From texhax.overbored at spamgourmet.com  Thu Oct  6 22:45:23 2005
From: texhax.overbored at spamgourmet.com (texhax.overbored@spamgourmet.com)
Date: Thu Oct  6 23:02:40 2005
Subject: [texhax] Workarounds to "Too deeply nested"?
Message-ID: <8e53a5920510061345h26f691e6u5041f431735d0e5a@mail.gmail.com>

I use LaTeX for taking notes (because there is a lot of math). I use
nested itemize environments, but I'd like to exceed the maximum of
four nested levels (the error is "Too deeply nested"). Is there any
way (short of modifying the LaTeX source code) to get around this
(e.g., creating my own environment)? Preferably, the solution also has
a corresponding solution to be correctly displayed in LyX. Thanks in
advance!

From karl at freefriends.org  Fri Oct  7 01:31:48 2005
From: karl at freefriends.org (Karl Berry)
Date: Fri Oct  7 01:31:53 2005
Subject: [texhax] MacTeX distribution testing
Message-ID: <200510062331.j96NVm624948@f7.net>

Thanks to Jonathan Kew, Dick Koch, Gerben Wierda, Herb Schulz, and many
others, an enhanced TeX distribution for MacOSX is available for
testing.  If you're interested, please see http://tug.org/mactex.

The "MacTeX" package is based on Gerben's gwTeX, and also installs
XeTeX, TeXShop, and more.  The distribution as a whole also includes a
number of other applications and documents for your perusing and
installation pleasure.

We plan to include this on this year's TeX Collection release, along
with TeX Live and proTeXt.  (I have no ETA except "as soon as
possible".)

So, testing in advance of burning several thousand copies is especially
welcome.  The download is about 350 megabytes.

Thanks,
Karl (for the MacTeX working group)

From jbbrus at comcast.net  Fri Oct  7 05:18:34 2005
From: jbbrus at comcast.net (Bernice Barnett)
Date: Fri Oct  7 05:18:44 2005
Subject: [texhax] Starting directory for YAP
Message-ID: <4345E90A.2030409@comcast.net>

I've asked this question of the MikTeX mail list but have not gotten a 
satisfactory answer. I hope someone here has an insight. I have an icon 
(Win XP SP2) on the desktop. The "start in" field in the icon is set to 
a directory where I have a lot of DVI files. I want to click file\open 
after  YAP is loaded to display that directory so I can select a file to 
view. YAP chooses a different directory. Unfortunately, YAP does not 
have a command line parameter to specify the initial directory. Does 
anyone have a clue how to accomplish this seemingly simple task?

-- Jeff Barnett

From jafari at math.unipune.ernet.in  Sat Oct  8 11:57:21 2005
From: jafari at math.unipune.ernet.in (Hossein Jafari)
Date: Sun Oct  9 18:35:13 2005
Subject: [texhax] a question
Message-ID: <56659.196.1.114.240.1128765441.squirrel@196.1.114.20>

Dear Sir/Madam

I have a question about \cite, I want write references as [1-5].
how can I do? because when I use this command it gives error
 \cite{Ref1,-,Ref5}
please help me.
yours sincerely
Hossein Jafari
Department of Mathematics,
University of Pune,
Pune-41107,India

From kosik at fiit.stuba.sk  Sun Oct  9 22:38:37 2005
From: kosik at fiit.stuba.sk (=?UTF-8?B?TWF0ZWogS2/FocOtaw==?=)
Date: Sun Oct  9 22:38:12 2005
Subject: [texhax] question about \vfil
Message-ID: <43497FCD.3030805@fiit.stuba.sk>

Hello,

Could somebody please explain me why this:

	\vfil abc\vfil\bye

doesn't have the same effect as this:

	\vbox to \vsize {
	        \vfil
        	abc
	        \vfil
	}
	\bye

The former one is simpler and thus nicer. But there \vfil-s seem to be
ignored. I do not understand why because as far as my humble knowledge,
TeX starts to process the input in vertical mode. So the initial \vfil
shouldn't be ignored.

I would really appreciate some explanation or some link to a relevant
information. I do not understand the horizontal/vertical mode stuff very
well.

Thanks in advance.
-- 
Matej Ko??k

From Robin.Fairbairns at cl.cam.ac.uk  Sun Oct  9 23:18:20 2005
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Sun Oct  9 23:18:32 2005
Subject: [texhax] question about \vfil 
In-Reply-To: Your message of Sun, 09 Oct 2005 22:38:37 +0200.
	<43497FCD.3030805@fiit.stuba.sk> 
Message-ID: <E1EOiYn-0005C9-00@mta1.cl.cam.ac.uk>

> Could somebody please explain me why this:
> 
> 	\vfil abc\vfil\bye
> 
> doesn't have the same effect as this:
> 
> 	\vbox to \vsize {
> 	        \vfil
>         	abc
> 	        \vfil
> 	}
> 	\bye

for two reasons.

1. \vfil is discardable at the top of a page (just like space is
   discardable at the start of a line), so your first example doesn't
   even see the first \vfil
2. \bye contains \vfill, so even if you manage to get the first \vfil
   noticed, it's overwhelmed by the "greater infinity" of \vfill

> The former one is simpler and thus nicer. But there \vfil-s seem to be
> ignored. I do not understand why because as far as my humble knowledge,
> TeX starts to process the input in vertical mode. So the initial \vfil
> shouldn't be ignored.
> 
> I would really appreciate some explanation or some link to a relevant
> information. I do not understand the horizontal/vertical mode stuff very
> well.

it's all described in the texbook, and no doubt also in tex by topic
(google for it -- it's a good "free"[*] book).

correct the two errors i mentioned, and you have

\vbox{}\vfill abc\vfill\bye

but now "abc" is 33% of the way down the page: tex has added up the
\vfill's and apportioned space appropriately.  the second \vfill above
isn't needed:

\vbox{}\vfill abc\bye

(your \vbox to\vsize works because it's not a page, even though it's
the same size as one.)

[*] as in, if you can, you're invited to send a donation to the author

From geolsoft at mail.ru  Sun Oct  9 23:53:50 2005
From: geolsoft at mail.ru (Oleg Katsitadze)
Date: Sun Oct  9 23:50:34 2005
Subject: [texhax] question about \vfil
In-Reply-To: <43497FCD.3030805@fiit.stuba.sk>
References: <43497FCD.3030805@fiit.stuba.sk>
Message-ID: <20051009215350.GA1806@thor>

On Sun, Oct 09, 2005 at 10:38:37PM +0200, Matej Ko????k wrote:
> But there \vfil-s seem to be ignored.

TeX discards any discardable items at the start of the page
(that's why they are called discardable), and glue is
discardable.  However, at the start of \vbox the glue is not
discarded.  If you want to insert glue at the start of the
page, use \topglue:

  \topglue 0pt plus1fill
  abc
  \bye

Note that you should use `fill' instead of `fil'.  This is
because \bye is defined as `\par \vfill \supereject \end',
so `fil' will not have any effect (it will be "overpowered"
by the stronger `fill').

-- 
Best regards,
Oleg Katsitadze

From kosik at fiit.stuba.sk  Mon Oct 10 00:11:58 2005
From: kosik at fiit.stuba.sk (=?UTF-8?B?TWF0ZWogS2/FocOtaw==?=)
Date: Mon Oct 10 00:11:26 2005
Subject: [texhax] question about \vfil
In-Reply-To: <E1EOiYn-0005C9-00@mta1.cl.cam.ac.uk>
References: <E1EOiYn-0005C9-00@mta1.cl.cam.ac.uk>
Message-ID: <434995AE.5010207@fiit.stuba.sk>

Robin Fairbairns wrote:
>>Could somebody please explain me why this:
>>
>>	\vfil abc\vfil\bye
>>
>>doesn't have the same effect as this:
>>
>>	\vbox to \vsize {
>>	        \vfil
>>        	abc
>>	        \vfil
>>	}
>>	\bye
> 
> 
> for two reasons.
> 
> 1. \vfil is discardable at the top of a page (just like space is
>    discardable at the start of a line), so your first example doesn't
>    even see the first \vfil
> 2. \bye contains \vfill, so even if you manage to get the first \vfil
>    noticed, it's overwhelmed by the "greater infinity" of \vfill
> 
> 
>>The former one is simpler and thus nicer. But there \vfil-s seem to be
>>ignored. I do not understand why because as far as my humble knowledge,
>>TeX starts to process the input in vertical mode. So the initial \vfil
>>shouldn't be ignored.
>>
>>I would really appreciate some explanation or some link to a relevant
>>information. I do not understand the horizontal/vertical mode stuff very
>>well.
> 
> 
> it's all described in the texbook, and no doubt also in tex by topic
> (google for it -- it's a good "free"[*] book).
> 
> correct the two errors i mentioned, and you have
> 
> \vbox{}\vfill abc\vfill\bye
> 
> but now "abc" is 33% of the way down the page: tex has added up the
> \vfill's and apportioned space appropriately.  the second \vfill above
> isn't needed:
> 
> \vbox{}\vfill abc\bye
> 
> (your \vbox to\vsize works because it's not a page, even though it's
> the same size as one.)
> 
> [*] as in, if you can, you're invited to send a donation to the author
> 

Thank you (Robin & Oleg) for your help.

So there were (at least) three mistakes (stemming out from my
ignorance). Now these things seem to me completely clear.
-- 
Matej Ko??k

From Benjamin.Deutsch at informatik.uni-erlangen.de  Mon Oct 10 08:51:50 2005
From: Benjamin.Deutsch at informatik.uni-erlangen.de (Benjamin Deutsch)
Date: Mon Oct 10 08:52:07 2005
Subject: [texhax] a question
In-Reply-To: <56659.196.1.114.240.1128765441.squirrel@196.1.114.20>
References: <56659.196.1.114.240.1128765441.squirrel@196.1.114.20>
Message-ID: <200510100851.50320.deutsch@informatik.uni-erlangen.de>

Hello,

> I have a question about \cite, I want write references as [1-5].
> how can I do? because when I use this command it gives error
>  \cite{Ref1,-,Ref5}

Try the TeX FAQ (linked to at the bottom of each mailing list post). The 
section "Sorting and compressing citations" should contain what you're 
looking for.

  Benjamin

From R.J.A.Steenbakkers at student.tue.nl  Mon Oct 10 10:09:45 2005
From: R.J.A.Steenbakkers at student.tue.nl (Steenbakkers, R.J.A.)
Date: Mon Oct 10 10:10:24 2005
Subject: [texhax] a question
References: <56659.196.1.114.240.1128765441.squirrel@196.1.114.20>
	<200510100851.50320.deutsch@informatik.uni-erlangen.de>
Message-ID: <E2BA5B602C62464E8F66F0DF274BF67B19BCF8@studentEX8.campus.tue.nl>

I use the 'cite' package for that.
 
Rudi

	-----Oorspronkelijk bericht----- 
	Van: texhax-bounces@tug.org namens Benjamin Deutsch 
	Verzonden: ma 10-10-2005 8:51 
	Aan: texhax@tug.org 
	CC: Hossein Jafari 
	Onderwerp: Re: [texhax] a question
	
	

	Hello,
	
	> I have a question about \cite, I want write references as [1-5].
	> how can I do? because when I use this command it gives error
	>  \cite{Ref1,-,Ref5}
	
	Try the TeX FAQ (linked to at the bottom of each mailing list post). The
	section "Sorting and compressing citations" should contain what you're
	looking for.
	
	  Benjamin
	
	_______________________________________________
	TeX FAQ: http://www.tex.ac.uk/faq
	TeX newsgroup: http://groups.google.com/groups?group=comp.text.tex
	Mailing list archives: http://tug.org/pipermail/texhax/
	More links: http://tug.org/begin.html
	
	Automated subscription management: http://tug.org/mailman/listinfo/texhax
	Human mailing list managers: postmaster@tug.org
	

From flom at ndri.org  Tue Oct 11 17:21:39 2005
From: flom at ndri.org (Peter Flom)
Date: Tue Oct 11 17:22:25 2005
Subject: [texhax] \sim symbol with text above it
Message-ID: <s34ba06a.055@MAIL.NDRI.ORG>

Hello

I am trying to typeset the \sim symbol (a tilde) with text ('iid')
directly above it.  I tried
\sim^{iid} but this makes a 'usual' superscript (that is, to the right
of the tilde)

Thanks in advance

Peter

Peter L. Flom, PhD
Assistant Director, Statistics and Data Analysis Core
Center for Drug Use and HIV Research
National Development and Research Institutes
71 W. 23rd St
http://cduhr.ndri.org
www.peterflom.com
New York, NY 10010
(212) 845-4485 (voice)
(917) 438-0894 (fax)


From herries.press at earthlink.net  Tue Oct 11 17:37:25 2005
From: herries.press at earthlink.net (Peter Wilson)
Date: Tue Oct 11 17:48:43 2005
Subject: [texhax] \sim symbol with text above it
References: <s34ba06a.055@MAIL.NDRI.ORG>
Message-ID: <001601c5ce79$afc67230$913c79a5@JESS>


----- Original Message ----- 
From: "Peter Flom" <flom@ndri.org>
To: <texhax@tug.org>
Sent: Tuesday, October 11, 2005 8:21 AM
Subject: [texhax] \sim symbol with text above it


> Hello
> 
> I am trying to typeset the \sim symbol (a tilde) with text ('iid')
> directly above it.  I tried
> \sim^{iid} but this makes a 'usual' superscript (that is, to the right
> of the tilde)
> 

    I think that there is an accent(s) package that might help.

Peter W.

From mdoob at cc.umanitoba.ca  Tue Oct 11 17:52:20 2005
From: mdoob at cc.umanitoba.ca (Michael Doob)
Date: Tue Oct 11 17:52:36 2005
Subject: [texhax] \sim symbol with text above it
In-Reply-To: <s34ba06a.055@MAIL.NDRI.ORG>
References: <s34ba06a.055@MAIL.NDRI.ORG>
Message-ID: <200510111052.20901.mdoob@ccu.umanitoba.ca>

On Tuesday 11 October 2005 10:21 am, Peter Flom wrote:
> \sim^{iid}

Is this what you want?

\mathop{\sim}\limits^{iid}

or, perhaps even better,

\mathop{\sim}\limits^{\mathrm{iid}}

Cheers,
Michael

------------------------------------------------------------------
Michael Doob                    Telephone: (204) 474-9796
Department of Mathematics       Fax: (204) 474-7606
University of Manitoba          email: Michael_Doob@umanitoba.ca
Winnipeg, MB, Canada R3T 2N2
------------------------------------------------------------------

From daleif at imf.au.dk  Tue Oct 11 18:00:43 2005
From: daleif at imf.au.dk (Lars Madsen)
Date: Tue Oct 11 18:00:13 2005
Subject: [texhax] \sim symbol with text above it
In-Reply-To: <s34ba06a.055@MAIL.NDRI.ORG>
References: <s34ba06a.055@MAIL.NDRI.ORG>
Message-ID: <Pine.LNX.4.61.0510111757550.8205@gloin.imf.au.dk>

Peter Flom :

> Hello
>
> I am trying to typeset the \sim symbol (a tilde) with text ('iid')
> directly above it.  I tried
> \sim^{iid} but this makes a 'usual' superscript (that is, to the right
> of the tilde)
>

\stackrel{above}{symbol}

should do the trick, you might have a small problem with the width because 
iid might be wider than the \sim

in that case something like this might help:

\usepackage{mathtools}

\newcommand\iidsim{\stackrel{\mathclap{iid}}{\sim}}




/daleif

``You cannot help men permanently by doing for them 
what they could and should do for themselves. ''
  -- Abraham Lincoln

From P.Taylor at Rhul.Ac.Uk  Tue Oct 11 18:17:09 2005
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR)
Date: Tue Oct 11 18:19:12 2005
Subject: [texhax] \sim symbol with text above it
In-Reply-To: <s34ba06a.055@MAIL.NDRI.ORG>
References: <s34ba06a.055@MAIL.NDRI.ORG>
Message-ID: <434BE585.4050203@Rhul.Ac.Uk>

$iid \atop \sim $
-------
Peter Flom wrote:

> Hello
> 
> I am trying to typeset the \sim symbol (a tilde) with text ('iid')
> directly above it.  I tried
> \sim^{iid} but this makes a 'usual' superscript (that is, to the right
> of the tilde)
> 
> Thanks in advance
> 
> Peter
> 
> Peter L. Flom, PhD
> Assistant Director, Statistics and Data Analysis Core
> Center for Drug Use and HIV Research
> National Development and Research Institutes
> 71 W. 23rd St
> http://cduhr.ndri.org
> www.peterflom.com
> New York, NY 10010
> (212) 845-4485 (voice)
> (917) 438-0894 (fax)
> 
> 
> _______________________________________________
> TeX FAQ: http://www.tex.ac.uk/faq
> TeX newsgroup: http://groups.google.com/groups?group=comp.text.tex
> Mailing list archives: http://tug.org/pipermail/texhax/
> More links: http://tug.org/begin.html
> 
> Automated subscription management: http://tug.org/mailman/listinfo/texhax
> Human mailing list managers: postmaster@tug.org

From R.J.A.Steenbakkers at student.tue.nl  Tue Oct 11 17:57:21 2005
From: R.J.A.Steenbakkers at student.tue.nl (Steenbakkers, R.J.A.)
Date: Tue Oct 11 18:26:57 2005
Subject: [texhax] \sim symbol with text above it
References: <s34ba06a.055@MAIL.NDRI.ORG>
Message-ID: <E2BA5B602C62464E8F66F0DF274BF67B19BCFA@studentEX8.campus.tue.nl>

If you want the tilde positioned as usual, but with small text above it
 
\stackrel{iid}{\tilde}
 
should do the trick. If you want the text positioned as usual, but with a tilde under it, add \usepackage{accents} to your preamble and then define a new command:
 
\newcommand{\commandname}[1]{\underaccent{\sim}{#1}}
 
Regards,
Rudi

	-----Oorspronkelijk bericht----- 
	Van: texhax-bounces@tug.org namens Peter Flom 
	Verzonden: di 11-10-2005 17:21 
	Aan: texhax@tug.org 
	CC: 
	Onderwerp: [texhax] \sim symbol with text above it
	
	

	Hello
	
	I am trying to typeset the \sim symbol (a tilde) with text ('iid')
	directly above it.  I tried
	\sim^{iid} but this makes a 'usual' superscript (that is, to the right
	of the tilde)
	
	Thanks in advance
	
	Peter
	
	Peter L. Flom, PhD
	Assistant Director, Statistics and Data Analysis Core
	Center for Drug Use and HIV Research
	National Development and Research Institutes
	71 W. 23rd St
	http://cduhr.ndri.org
	www.peterflom.com
	New York, NY 10010
	(212) 845-4485 (voice)
	(917) 438-0894 (fax)
	
	
	_______________________________________________
	TeX FAQ: http://www.tex.ac.uk/faq
	TeX newsgroup: http://groups.google.com/groups?group=comp.text.tex
	Mailing list archives: http://tug.org/pipermail/texhax/
	More links: http://tug.org/begin.html
	
	Automated subscription management: http://tug.org/mailman/listinfo/texhax
	Human mailing list managers: postmaster@tug.org
	

From flom at ndri.org  Tue Oct 11 21:36:43 2005
From: flom at ndri.org (Peter Flom)
Date: Tue Oct 11 21:37:24 2005
Subject: [texhax] Thanks for the help re sim with text
Message-ID: <s34bdc2e.013@MAIL.NDRI.ORG>

I won't summarize responses, as I think everyone wrote back to the list,
but I just wanted to say thanks to all

Peter

From uwe.lueck at web.de  Fri Oct 14 09:03:26 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Fri Oct 14 09:52:15 2005
Subject: [texhax] TeX to LaTeX
In-Reply-To: <200510052351.j95NpZT09844@f7.net>
References: <4343AE8C.40809@Rhul.Ac.Uk>
Message-ID: <5.1.0.14.0.20051014071931.00a91e00@pop3.web.de>

Late comments about which I have thought some busy days,
recognizing the other comments:

At 01:51 06.10.05, Karl Berry wrote:

>2) I don't expect you find it especially interesting, but for the
>    record, the new Eplain 3.0 release (http://tug.org/eplain) has
>    support for live url's a la hyperref.  You can also load the LaTeX
>    graphics and color packages.  Among other things.
>
>    No "simplified access to esoteric fonts" (or even non-esoteric ones),
>    though.  (There's the independent package plnfss, "plain nfss",
>    although I've never used it.)
>
> > If I were you, I'd try wrapping your Plain TeX source file in
> > a LaTeX wrapper and seeing how well or how badly it fares ...
[... part of Phil Taylor's message]

These and other comments by Phil Taylor and Karl Berry referred to a "trial 
at converting ..."

Karl Berry is certainly experienced enough to judge the ensuing 
considerations (he contributed
without mentioning what an editor -- like Karl Berry -- desires):

1a. When a journal asks for a LaTeX submission instead of a Plain TeX
submission, the reason is typically _not_ that Plain TeX could _crash_
(or the like) in entering the article for producing the entire issue.

1b. The journal will _not_ intend to get the author's _layout_
("physical design" -- which [s]he obtained by some Plain TeX commands)
through some LaTeX commands replacing original Plain TeX commands.

1c. Rather, the reason may be that the journal wants to fit the contributions
to a general -- fairly consistent -- _layout characterizing the journal or 
publisher_.

-- alpha) This layout may (partially) just be the one that Standard LaTeX 
provides.

-- beta) At least concerning certain aspects (like the style of headings),
the journal may prefer its own style of headings etc. -- which needn't
conform to the styles supported by Standard LaTeX; rather the LaTeX
command names may be used as "hooks" (as some _logical_ markup)
for implementing the journal's (or publisher's) particular layout style.

So:

2. When a journal asks for a LaTeX submission instead of a Plain TeX
submission, the reasons typically rather are _general layout considerations_
(etc.) from the journal or the publisher (-- in place of what the author[s] 
may
have had in mind):

2a. The journal may strongly be interested in spacings etc. and font
choices very different from what the author once had in mind.

2b. Moreover or more generally, LaTeX's \author, \title, abstract commands
as well as similar additional commands (which only the journal class may
provide) may be required by the journal for placing respective informations
in the printed outcome of the article (according to the journal's 
particular style).

So I recommend to learn and apply the most basic LaTeX commands
in order to satisfy the intentions/desires of the journal/publisher.

Understood what I tried to transmit? [Moral: Take the request for LaTeX
seriously -- in order to have friends among the journal's producers!]

[Sorry, my logical structuring of the contribution doesn't seem optimal
to me, yet optimizing may need very more time.]

Best,
Uwe.

From pierre.mackay at comcast.net  Fri Oct 14 21:42:00 2005
From: pierre.mackay at comcast.net (pierre.mackay)
Date: Fri Oct 14 21:48:23 2005
Subject: [texhax] Checking the length of paragraph last line
Message-ID: <43500A08.5000302@comcast.net>

Fifteen or so years back, someone came up with a macro that would, in 
effect, measure the last line of a paragraph so that you could decide 
whether to put an identifying tag (like an author's name) in the white 
space after a short final line or on the next line if the paragraph 
final line stretched near the right margin. 

                       ppppppppppppppppppppppppppppppppppp
                       pppp                                           
nnnnnnnnn

or

                      pppppppppppppppppppppppppppppppppppp
                      ppppppppppppppppppppppppppppppp
                                                                         
nnnnnnnnnn

Does anyone remember this? or have a copy of the macro available?

Pierre MacKay

From wadams at atlis.com  Fri Oct 14 22:33:21 2005
From: wadams at atlis.com (William F. Adams)
Date: Fri Oct 14 22:32:59 2005
Subject: [texhax] Checking the length of paragraph last line
In-Reply-To: <43500A08.5000302@comcast.net>
References: <43500A08.5000302@comcast.net>
Message-ID: <46aae640e338c48f124c9ba1103b60be@atlis.com>

On Oct 14, 2005, at 3:42 PM, pierre.mackay wrote:

> Fifteen or so years back, someone came up with a macro that would, in 
> effect, measure the last line of a paragraph so that you could decide 
> whether to put an identifying tag (like an author's name) in the white 
> space after a short final line or on the next line if the paragraph 
> final line stretched near the right margin.

Would a discussion here from the beginning of September count?

Florian Knorn worked things out using _The LaTeX Companion 2e_ as 
follows:


On Sep 8, 2005, at 4:05 AM, Florian Knorn wrote:

> Now things work out the exact way I previously "dreamt" of : ) However,
> I am sorry William, but I just discovered a similar, but better working
> way of implementing the url-on-new-line-or-not-issue in the LaTeX
> Companion (Example A-1-8 on p. 849). Better working in that the period
> now does not get pushed into a new line (as described in my last mail).
>
> Together with Karl's \gobble-tip (a command which I haven't heard of 
> but
> then found in the Don's TeX-Bible), things work just right --- and I
> don't have to tamper with the BiBTeX style.
>
> So as a r?sum? for the after-world: here's my final code.
>
> \def\gobble#1{} % "eat" next token
>
> \newcommand{\fancyurl}[1]{% code for pushing the url around
>     \hspace*{\fill}\nolinebreak[1]%
>     \quad\hspace*{\fill}\finalhyphendemerits=0#1\gobble
> }

and Uwe L?ck (uwe.lueck@web.de) had the following charming response 
which you could query him on if need be:

At 16:49 07.09.05, Florian Knorn wrote:

> could anybody plz tell me a macro that returns the remaing space in the
> current text line ? like \remainingspace would contain the length like
> "3cm" if the remaining space to the end of the line is 3cm.

I have a really miraculous algorithm for this general problem,
yet the present e-mail is too short to hold it
(cf. Simon Singh, Lueck's Last Algorithm, chap. 2.4 :-)

-- Uwe

p.s.: Place a "marker" phantom box (e.g. with a small random
height); typeset the paragraph in a testing \vbox with same
parameters as in the text, take line by line from the \vbox,
take word by word from each line into a measuring \hbox
-- until you find you find the "marker" box ...

William

-- 
William Adams, publishing specialist
voice - 717-731-6707 | Fax - 717-731-6708
www.atlis.com

From Robin.Fairbairns at cl.cam.ac.uk  Fri Oct 14 22:48:44 2005
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Fri Oct 14 22:48:49 2005
Subject: [texhax] Checking the length of paragraph last line 
In-Reply-To: Your message of Fri, 14 Oct 2005 12:42:00 -0700.
	<43500A08.5000302@comcast.net> 
Message-ID: <E1EQWTs-0001hi-00@mta1.cl.cam.ac.uk>

> Fifteen or so years back, someone came up with a macro that would, in 
> effect, measure the last line of a paragraph so that you could decide 
> whether to put an identifying tag (like an author's name) in the white 
> space after a short final line or on the next line if the paragraph 
> final line stretched near the right margin. 
> 
>                        ppppppppppppppppppppppppppppppppppp
>                        pppp                                           
> nnnnnnnnn
> 
> or
> 
>                       pppppppppppppppppppppppppppppppppppp
>                       ppppppppppppppppppppppppppppppp
>                                                                          
> nnnnnnnnnn

i think something went a bit wrong there...

> Does anyone remember this? or have a copy of the macro available?

you don't mean the thing in the texbook, do you?  my copy's isolated
from my by the stairs and the arthritis, but the source has

\def\signed #1 (#2){{\unskip\nobreak\hfil\penalty50\hskip2em
  \hbox{}\nobreak\hfil\sl#1\/ \rm(#2)
  \parfillskip=0pt \finalhyphendemerits=0 \endgraf}}

which he then uses as

\begindisplay
\vbox{\hsize 3.0in \parindent0pt
  This is a case where the name and address fit in nicely with the review.
  \signed A. Reviewer (Ann Arbor, Mich.)
  \medskip
  But sometimes an extra line must be added. \signed N. Bourbaki (Paris)}
\enddisplay

find the discussion via the index entry for bourbaki.

From alexander at tunicate.org  Fri Oct 14 15:05:26 2005
From: alexander at tunicate.org (Alexander McCormmach)
Date: Sat Oct 15 18:59:22 2005
Subject: [texhax] Correcting for math-mode kerning before commas and periods?
Message-ID: <434FAD16.70405@tunicate.org>

Hello all,

I'm wondering if it's possible to systematically correct for space that
TeX inserts after italicized letters in math mode. Such a correction is
needed in exactly those situations where one would *not* apply the
italics correction (\/), i.e., before commas and periods.

For example, the following puts way too much space between the
italicized "S" and the period:

  Let $U$ be the union of sets $R$ and $S$.

It looks a lot like it would if the end had been written:

  and {\it S\/}.

that is, with the italic correction, when rather it should look more
like it had been written:

  and {\it S}.

Is there any way to define a command which, when placed either just
before the period (or comma) or just inside the final "$", will
un-hskip or un-kern the unwanted space that TeX is inserting?

Here's another example taken from the second full sentence on page 442
of the TeXbook:

  The search looks first at character $a$ in scriptscriptfont $f$,
  if $C \le SS$; then it looks at $a$ in scriptfont $f$, if $C \le
  S$; then it looks at $a$ in textfont $f$.

The space TeX puts between the math-mode text and the *semicolons* is
desirable, but such correction is not desirable between all those $f$'s
and the commas or periods that follow them. How can those spaces be
gotten rid of? Any ideas?

Thanks ahead of time for your insights,

Alexander McCormmach

(Please CC me with any reply because I am not subscribed to this list.)

From kotya.karapetyan at gmail.com  Fri Oct 14 19:00:43 2005
From: kotya.karapetyan at gmail.com (Konstantin Karapetyan)
Date: Sat Oct 15 19:00:29 2005
Subject: [texhax] set of data
Message-ID: <423727b30510141000r11d051d5i@mail.gmail.com>

Hello texhax,

I have the following task. I have my own class. Each document, based
on this class, should include a complex-formatted table with a list of
responsible persons. This table is currently formed by a special
environment and a number of \AddPerson commands within it.
Additionally, there are three different subgroups of these persons.
Because LaTeX doesn't (as far as I know) allow for nested user-defined
environments, I implemented it like this:

\begin{ResponsiblePeople}
   \SubgroupOne
   \AddPerson{name}{contacts}
   ...
   \AddPerson{name}{contacts}
   \SubgroupTwo
   \AddPerson{name}{contacts}
   ...
   \SubgroupThree
   \AddPerson{name}{contacts}
   ...
\end{ResponsiblePeople}

I don't like it much. Instead I'd prefer to have a set of persons'
names and contacts put into some data structure and then have this
whole structure passed to a command which would form the list for me.

Is this possible?

Thanks!

Konstantin.

From McCorry-M at ulster.ac.uk  Wed Oct 12 12:31:10 2005
From: McCorry-M at ulster.ac.uk (MAURA MCCORRY)
Date: Sat Oct 15 19:00:44 2005
Subject: [texhax] Latex
Message-ID: <1129113070.800d95dcMcCorry-M@ulster.ac.uk>

Dear sir/ Madam

I am writing in the hope that you will be able to help me with my dissertation. I am a student at the University of Ulster in Northern Ireland. My dissertation involves me writing a class file using Latex. I was hoping you could provide me with some information  on current research and future developments within Latex.

I am extremely grateful that you have taken the time to read this email.

Hope to hear from you soon.

Kind Regards

Maura McCorry
BSc Hons Computing Science Student

From slau at turtle.net  Tue Oct 11 17:59:04 2005
From: slau at turtle.net (Steven Lau)
Date: Sat Oct 15 19:00:49 2005
Subject: [texhax] \sim symbol with text above it
In-Reply-To: <s34ba06a.055@MAIL.NDRI.ORG>
References: <s34ba06a.055@MAIL.NDRI.ORG>
Message-ID: <20051011155904.GA23673@turtle.net>

Hi,

You could try \stackrel

\stackrel{iid}{\sim}

that is what I am using at the moment. If anyone finds a better/
more elegant way then I will be interested too!

Steven Lau


On Tue, Oct 11, 2005 at 11:21:39AM -0400, Peter Flom wrote:
> Hello
> 
> I am trying to typeset the \sim symbol (a tilde) with text ('iid')
> directly above it.  I tried
> \sim^{iid} but this makes a 'usual' superscript (that is, to the right
> of the tilde)
> 
> Thanks in advance
> 
> Peter
> 
> Peter L. Flom, PhD
> Assistant Director, Statistics and Data Analysis Core
> Center for Drug Use and HIV Research
> National Development and Research Institutes
> 71 W. 23rd St
> http://cduhr.ndri.org
> www.peterflom.com
> New York, NY 10010
> (212) 845-4485 (voice)
> (917) 438-0894 (fax)
> 
> 
> _______________________________________________
> TeX FAQ: http://www.tex.ac.uk/faq
> TeX newsgroup: http://groups.google.com/groups?group=comp.text.tex
> Mailing list archives: http://tug.org/pipermail/texhax/
> More links: http://tug.org/begin.html
> 
> Automated subscription management: http://tug.org/mailman/listinfo/texhax
> Human mailing list managers: postmaster@tug.org

-- 
--------------------------------------------------------
|                 Turtle Networks Ltd                  |
|         Unit 48, Concord Road, London W3 0TH         |
|  Tel: (020) 8896 2600     |  Fax: (020) 8992 7017    |
|  www.turtle.net           |  slau@turtle.net         |
--------------------------------------------------------

From uwe.lueck at web.de  Sat Oct 15 18:14:49 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Sat Oct 15 19:26:23 2005
Subject: [texhax] Checking the length of paragraph last line 
In-Reply-To: <E1EQWTs-0001hi-00@mta1.cl.cam.ac.uk>
References: <Your message of Fri,
	14 Oct 2005 12:42:00 -0700. <43500A08.5000302@comcast.net>
Message-ID: <5.1.0.14.0.20051015180509.024a4300@pop3.web.de>

At 22:48 14.10.05, Robin Fairbairns wrote:
> > Fifteen or so years back, someone came up with a macro that would, in
> > effect, measure the last line of a paragraph so that you could decide
> > whether to put an identifying tag (like an author's name) in the white
> > space after a short final line or on the next line if the paragraph
> > final line stretched near the right margin.
>
>you don't mean the thing in the texbook, do you?  my copy's isolated
>from my by the stairs and the arthritis, but the source has
>
>\def\signed #1 (#2){{\unskip\nobreak\hfil\penalty50\hskip2em
>   \hbox{}\nobreak\hfil\sl#1\/ \rm(#2)
>   \parfillskip=0pt \finalhyphendemerits=0 \endgraf}}
>
>which he then uses as
>
>\begindisplay
>\vbox{\hsize 3.0in \parindent0pt
>   This is a case where the name and address fit in nicely with the review.
>   \signed A. Reviewer (Ann Arbor, Mich.)
>   \medskip
>   But sometimes an extra line must be added. \signed N. Bourbaki (Paris)}
>\enddisplay

Indeed, it's TeXbook p. 106, as I tried to contribute to the discussion
William mentions:

 >>>
The problem is analogous to placing the author's name right-aligned
after a short text, which TeXbook p. 14 deals with. Accordingly, an
alternative would be something like

     \newcommand*{\magicmacro}[1]{{%
       \nobreak\hfil\null\nobreak\hfil#1\parfillskip=0pt\par}}
<<<

Strangely ... 14 is the number of the chapter, not the page.
Sorry if somebody was mislead.
(And something like \qquad preceding \null was really missing.)

Uwe. 

From geolsoft at mail.ru  Sat Oct 15 20:03:00 2005
From: geolsoft at mail.ru (geolsoft@mail.ru)
Date: Sat Oct 15 19:59:29 2005
Subject: [texhax] Correcting for math-mode kerning before commas and
	periods?
In-Reply-To: <434FAD16.70405@tunicate.org>
References: <434FAD16.70405@tunicate.org>
Message-ID: <20051015180300.GA5690@thor>

On Fri, Oct 14, 2005 at 06:05:26AM -0700, Alexander McCormmach wrote:
> Is there any way to define a command which, when placed either just
> before the period (or comma) or just inside the final "$", will
> un-hskip or un-kern the unwanted space that TeX is inserting?

Maybe this is what you need:

  $S\!$.

(\! is a "negative thin space").

-- 
Best regards,
Oleg Katsitadze

From uwe.lueck at web.de  Sat Oct 15 19:57:09 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Sat Oct 15 20:00:11 2005
Subject: [texhax] Correcting for math-mode kerning before commas
	and periods?
In-Reply-To: <434FAD16.70405@tunicate.org>
Message-ID: <5.1.0.14.0.20051015195103.024a6ec0@pop3.web.de>

At 15:05 14.10.05, you wrote:

>I'm wondering if it's possible to systematically correct for space that
>TeX inserts after italicized letters in math mode. Such a correction is
>needed in exactly those situations where one would *not* apply the
>italics correction (\/), i.e., before commas and periods.
>
>[...]
>
>Is there any way to define a command which, when placed either just
>before the period (or comma) or just inside the final "$", will
>un-hskip or un-kern the unwanted space that TeX is inserting?

According to TeXbook p. 280f., there is a primitive command \unkern,
such that \unkern$ should serve your desire -- since the italic correction
is a kern (TeXbook p. 287).

(Accidentally I was studying the italic correction anyway.)

Uwe.

From uwe.lueck at web.de  Sat Oct 15 20:18:05 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Sat Oct 15 20:18:40 2005
Subject: [texhax] Correcting for math-mode kerning before commas
	and periods?
In-Reply-To: <20051015180300.GA5690@thor>
References: <434FAD16.70405@tunicate.org>
 <434FAD16.70405@tunicate.org>
Message-ID: <5.1.0.14.0.20051015200506.0249cdd0@pop3.web.de>

At 20:03 15.10.05, geolsoft@mail.ru wrote:
>On Fri, Oct 14, 2005 at 06:05:26AM -0700, Alexander McCormmach wrote:
> > Is there any way to define a command which, when placed either just
> > before the period (or comma) or just inside the final "$", will
> > un-hskip or un-kern the unwanted space that TeX is inserting?
>
>Maybe this is what you need:
>
>   $S\!$.
>
>(\! is a "negative thin space").

TeXbook p. 64: The italic correction depends on the preceding character
and the current font -- while \! depends on the font only. So \! is too crude.

I realize that I don't know whether there is a difference between
$\mathbf{f}\unkern$. and $\mathbf{f\unkern}$.

Uwe. 

From kotya.karapetyan at gmail.com  Sat Oct 15 20:59:22 2005
From: kotya.karapetyan at gmail.com (Konstantin Karapetyan)
Date: Sat Oct 15 20:59:27 2005
Subject: [texhax] Set(s) of data
Message-ID: <423727b30510151159h399e38b9s@mail.gmail.com>

Hello texhax,

I have the following task. I have my own class. Each document, based
on this class, should include a complex-formatted table with a list of
responsible persons. This table is currently formed by a special
environment and a number of \AddPerson commands within it.
Additionally, there are three different subgroups of these persons.
Because LaTeX doesn't (as far as I know) allow for nested user-defined
environments, I implemented it like this:

\begin{ResponsiblePeople}
  \SubgroupOne
  \AddPerson{name}{contacts}
  ...
  \AddPerson{name}{contacts}
  \SubgroupTwo
  \AddPerson{name}{contacts}
  ...
  \SubgroupThree
  \AddPerson{name}{contacts}
  ...
\end{ResponsiblePeople}

I don't like it much. Instead I'd prefer to have three sets of persons'
names and contacts put into some data structure (or three structures)
and then have this
whole structure passed to a command which would form the list for me.

Is this possible? Thanks!

Konstantin.

From geolsoft at mail.ru  Sat Oct 15 21:27:23 2005
From: geolsoft at mail.ru (Oleg Katsitadze)
Date: Sat Oct 15 21:23:48 2005
Subject: [texhax] Correcting for math-mode kerning before commas and
	periods?
In-Reply-To: <5.1.0.14.0.20051015195103.024a6ec0@pop3.web.de>
References: <434FAD16.70405@tunicate.org>
	<5.1.0.14.0.20051015195103.024a6ec0@pop3.web.de>
Message-ID: <20051015192723.GA5887@thor>

On Sat, Oct 15, 2005 at 07:57:09PM +0200, Uwe L?ck wrote:
> According to TeXbook p. 280f., there is a primitive command \unkern,
> such that \unkern$ should serve your desire -- since the italic correction
> is a kern (TeXbook p. 287).

\unkern does not seem to work here.  I guess this is because
of the two-stage process by which the math lists are
processed -- when the math list is read by TeX, there is yet
no kern after the S in $S$, so \unkern does not have any
effect.  And when TeX converts the math list into horizontal
list and inserts the kern after the S, there is already no
\unkern.

What is needed here is some way to prevent TeX from
inserting the kern after S during the conversion from math
list to horizontal list, which is quite a complex process
(see Appendix G of The TeXbook).  Unfortunately, I don't
know how to do this.  Maybe one of the many gurus on this
list can help?

-- 
Best regards,
Oleg Katsitadze

From beebe at math.utah.edu  Sat Oct 15 22:16:57 2005
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Sat Oct 15 22:17:04 2005
Subject: [texhax] New book on doing figures with PostScript
Message-ID: <CMM.0.94.0.1129407417.beebe@psi.math.utah.edu>

[Apologies: a finger fumble sent a partial message a moment ago that
will probably confuse list readers, sigh...]

Most readers of this list have had to deal with figures in documents.

There is a new book out that provides a tutorial on PostScript and
graphics, and even gets into homogeneous coordinates, 2D and 3D
drawing, Sutherland-Hodgman clipping, Bizier and B-spline curves, and
refers a bit to The METAFONT Book, METAPOST, and GIMP:

@String{pub-CAMBRIDGE           = "Cambridge University Press"}
@String{pub-CAMBRIDGE:adr       = "Cambridge, UK"}

@Book{Casselman:2005:MIM,
  author =       "Bill Casselman",
  title =        "Mathematical illustrations: a manual of geometry and
                 {PostScript}",
  publisher =    pub-CAMBRIDGE,
  address =      pub-CAMBRIDGE:adr,
  pages =        "xviii + 318",
  year =         "2005",
  ISBN =         "0-521-83921-1 (hardback), 0-521-54788-1 (paperback)",
  ISBN-13 =      "978-0-521-83921-1 (hardback), 978-0-521-54788-8
                 (paperback)",
  LCCN =         "QA76.73.P67 C37 2004",
  bibdate =      "Sun Sep 18 10:20:38 MDT 2005",
  bibsource =    "z3950.loc.gov:7090/Voyager",
  price =        "US\$39.99 (paperback), US\$90.00 (hardback)",
  URL =          "ftp://uiarchive.cso.uiuc.edu/pub/etext/gutenberg/;
                 http://www.loc.gov/catdir/samples/cam051/2004045886.html;
                 http://www.loc.gov/catdir/toc/cam041/2004045886.html;
                 http://www.loc.gov/catdir/description/cam041/2004045886.html",
  acknowledgement = ack-nhfb,
  subject =      "PostScript (Computer program language)",
}

It also makes extensive use of ghostscript.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe@math.utah.edu  -
- 155 S 1400 E RM 233                       beebe@acm.org  beebe@computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------

From dave at walden-family.com  Sat Oct 15 23:46:11 2005
From: dave at walden-family.com (David C. Walden)
Date: Sat Oct 15 22:50:00 2005
Subject: [texhax] Latex
In-Reply-To: <1129113070.800d95dcMcCorry-M@ulster.ac.uk>
Message-ID: <5.1.0.14.2.20051015163548.02dba518@mail.adelphia.net>

I'm not sure if the following address your need, but
regarding the future of LaTeX:

1) You might take a look at the comp.text.tex list:
http://groups.google.com/group/comp.text.tex?hl=en
There is a discussion going on there now about the
future of TeX (75 messages in the thread so far.).

2) Also, take a look at http://www.latex-project.org/

3) Also, http://www.tug.org/TUGboat/Articles/tb24-1/gaudeul.pdf
might be interesting, as might various other papers in old
issues of TUGboat:  http://www.tug.org/TUGboat/

If you are really asking about writing a class file, the
upcoming issue of The PracTeX Journal will have an introductory
article by Jim Hefferon on writing a class file.  The issue should
be published in about two weeks at www.tug.org/pracjourn.

At 05:31 AM 10/12/2005, you wrote:
>Dear sir/ Madam
>
>I am writing in the hope that you will be able to help me with my 
>dissertation. I am a student at the University of Ulster in Northern 
>Ireland. My dissertation involves me writing a class file using Latex. I 
>was hoping you could provide me with some information  on current research 
>and future developments within Latex.
>
>I am extremely grateful that you have taken the time to read this email.
>
>Hope to hear from you soon.
>
>Kind Regards
>
>Maura McCorry
>BSc Hons Computing Science Student


From beebe at math.utah.edu  Sat Oct 15 22:13:14 2005
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Sat Oct 15 22:57:54 2005
Subject: [texhax] New book on doing figures with PostScript
Message-ID: <CMM.0.94.0.1129407194.beebe@psi.math.utah.edu>

Most readers of this list have had to deal with figures in
documents.  There is a new book out that provides a tutorial
on PostScript and graphics, and even gets into homogeneous coordinates, 2D
and 3D drawing, Sutherland-Hodgman clipping, Bezier and Bezier

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe@math.utah.edu  -
- 155 S 1400 E RM 233                       beebe@acm.org  beebe@computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------

From pierre.mackay at comcast.net  Sat Oct 15 23:54:23 2005
From: pierre.mackay at comcast.net (pierre.mackay)
Date: Sat Oct 15 23:59:34 2005
Subject: [texhax] Checking the length of paragraph last line
In-Reply-To: <E1EQWTs-0001hi-00@mta1.cl.cam.ac.uk>
References: <E1EQWTs-0001hi-00@mta1.cl.cam.ac.uk>
Message-ID: <43517A8F.1050603@comcast.net>

Many thanks to all who replied.  A bit embarassing to have missed the 
TeXbook reference, but I can blame it on age.

Pierre MacKay

From toms at ncifcrf.gov  Sun Oct 16 00:06:17 2005
From: toms at ncifcrf.gov (Tom Schneider)
Date: Sun Oct 16 00:16:10 2005
Subject: [texhax] New book on doing figures with PostScript
In-Reply-To: <CMM.0.94.0.1129407417.beebe@psi.math.utah.edu> from "Nelson H.
	F. Beebe" at "Oct 15, 2005 02:16:57 pm"
Message-ID: <200510152206.j9FM6Hga022657@strawberry.ncifcrf.gov>

> @Book{Casselman:2005:MIM,
>   author =       "Bill Casselman",
>   title =        "Mathematical illustrations: a manual of geometry and
>                  {PostScript}",

A better link is to the author's web site that contains *the entire
book online!*

http://www.math.ubc.ca/~cass/graphics/text/www/index.html

Tom

  Dr. Thomas D. Schneider
  National Institutes of Health
  National Cancer Institute
  Center for Cancer Research Nanobiology Program
  Molecular Information Theory Group
  Frederick, Maryland  21702-1201
  toms@ncifcrf.gov
  permanent email: toms@alum.mit.edu (use only if first address fails)
  http://www.ccrnp.ncifcrf.gov/~toms/

From geolsoft at mail.ru  Sun Oct 16 11:26:15 2005
From: geolsoft at mail.ru (geolsoft@mail.ru)
Date: Sun Oct 16 11:22:37 2005
Subject: [texhax] Correcting for math-mode kerning before commas and
	periods?
In-Reply-To: <434FAD16.70405@tunicate.org>
References: <434FAD16.70405@tunicate.org>
Message-ID: <20051016092615.GA2427@thor>

On Fri, Oct 14, 2005 at 06:05:26AM -0700, Alexander McCormmach wrote:
> Is there any way to define a command which, when placed either just
> before the period (or comma) or just inside the final "$", will
> un-hskip or un-kern the unwanted space that TeX is inserting?

I've checked several non-TeX math books, and they all have
italics correction in such cases (one of the books is by
Addison-Wesley dated 1976, so it must be reliable).  My
guess is that this is actually the tradition to put italics
correction here, maybe to avoid mistaking punctuation for
being part of the formula.  Does anyone have any idea about
this?  (Of course, even if this is so, the problem of
eliminating the kern is still there, maybe for cases when
math mode is used for something other than math).

-- 
Best regards,
Oleg Katsitadze

From uwe.lueck at web.de  Sun Oct 16 13:00:16 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Sun Oct 16 14:14:50 2005
Subject: [texhax] Correcting for math-mode kerning before commas
	and periods?
In-Reply-To: <20051015192723.GA5887@thor>
References: <5.1.0.14.0.20051015195103.024a6ec0@pop3.web.de>
	<434FAD16.70405@tunicate.org>
	<5.1.0.14.0.20051015195103.024a6ec0@pop3.web.de>
Message-ID: <5.1.0.14.0.20051016123733.0237d400@pop3.web.de>

At 21:27 15.10.05, Oleg Katsitadze wrote:
>On Sat, Oct 15, 2005 at 07:57:09PM +0200, Uwe L?ck wrote:
> > According to TeXbook p. 280f., there is a primitive command \unkern,
> > such that \unkern$ should serve your desire -- since the italic correction
> > is a kern (TeXbook p. 287).
>
>\unkern does not seem to work here.

Indeed, I apologize. In horizontal mode, the italic correction can be 
\unkern'ed
and measured through \lastkern, but not in math mode. With \showlists
you see that the italic correction appears as a \kern, but this seems to be
a lie, somewhat. \lastkern is 0pt. Indeed, TeXbook p. 441 rather tells that
the width of the box that a character forms includes the italic correction of
that character. This indicates that after forming the box, its \wd is 
increased
by the dimension that \/ would use for its \kern (instead of executing that
\kern).

Now I have devised a macro \unkerned which seems to work at least with
characters (not with symbols etc.) -- see below. In order to avoid the
automatic pseudo-kerning, it measures the difference of the character
with vs. without the italic correction by using the _math_ font in
_non-math_ mode. (LaTeX is used for this implementation of the
algorithm.) In a first line, the macro is used; a second line shows that
the macro really makes a visible difference. The \showlists for the first
line shows \kern'ing values that add up to 0pt indeed.

Best,
Uwe L.
______________________________________________

\documentclass[12pt]{article}
\nofiles

\makeatletter
\newcommand\unkerned[1]{%
   \edef\that@font{\the\textfont\@ne}%
   \settowidth\dimen@{\that@font#1}%
   #1\kern\dimen@
   \settowidth\dimen@{\that@font#1\/}%
   \kern-\dimen@
}
\makeatother


\begin{document}
\showboxbreadth=20 \showboxdepth=0
\tracingonline=1
$\unkerned{f}$.\showlists
% \itshape f\/\showthe\lastkern

$f$.
\end{document} %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

From uwe.lueck at web.de  Sun Oct 16 14:14:20 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Sun Oct 16 14:14:52 2005
Subject: [texhax] Correcting for math-mode kerning before commas
	and periods?
In-Reply-To: <20051015192723.GA5887@thor>
References: <5.1.0.14.0.20051015195103.024a6ec0@pop3.web.de>
	<434FAD16.70405@tunicate.org>
	<5.1.0.14.0.20051015195103.024a6ec0@pop3.web.de>
Message-ID: <5.1.0.14.0.20051016131240.0237dd80@pop3.web.de>

At 21:27 15.10.05, Oleg Katsitadze wrote:
>On Sat, Oct 15, 2005 at 07:57:09PM +0200, Uwe L?ck wrote:
> > According to TeXbook p. 280f., there is a primitive command \unkern,
> > such that \unkern$ should serve your desire -- since the italic correction
> > is a kern (TeXbook p. 287).
>
>\unkern does not seem to work here.  I guess this is because
>of the two-stage process by which the math lists are
>processed -- when the math list is read by TeX, there is yet
>no kern after the S in $S$, so \unkern does not have any
>effect.  And when TeX converts the math list into horizontal
>list and inserts the kern after the S, there is already no
>\unkern.

This had come to my mind as well, so I made experiments with
\showlists. Yet they seem not to agree with that conjecture.
$f\kern.123pt$\showlists just shows two \kerns, the second
one being \kern.123pt, the only difference between these \kern's
seems to be the dimension of .123pt vs. ...
$f\kern.123pt\unkern$ produces the same list as $f$,
so you see that, in general, an \unkern is recognized in forming
the horizontal list. Yet now, $f\kern.123\unkern\unkern$ removes
the second \kern, but not the first one ...

My most recent guess: See TeXbook bottom of p. 441:
`In case (c), ... an additional level of hboxing is omitted if it turns
out to be redundant.' So perhaps:
At one stage of forming the list from $f\unkern$,
there is something like ...\hbox{f\kern...}\unkern... Then the
\unkern's etc. are executed, the one you see here vanishes
at that stage. Then the redundant `\hbox' surroundings are
removed. The result is what \showlists presents.

(More accurate: The list is built by "creeping" from left to right.
When the `f' is found, \hbox{[font]f\kern...} is appended to the
list. Now \unkern is found and executed, the list doesn't change.
The final $ removes all redundant \hbox levels.)

These guesses bring me back to the question of a _real_
reference manual for TeX ... (another TeXhax entry)

Best,
Uwe L.

From uwe.lueck at web.de  Sun Oct 16 14:34:14 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Sun Oct 16 15:17:42 2005
Subject: [texhax] Correcting for math-mode kerning before commas
	and periods?
In-Reply-To: <20051016092615.GA2427@thor>
References: <434FAD16.70405@tunicate.org>
 <434FAD16.70405@tunicate.org>
Message-ID: <5.1.0.14.0.20051016141704.02380720@pop3.web.de>

At 11:26 16.10.05, geolsoft@mail.ru wrote:
>On Fri, Oct 14, 2005 at 06:05:26AM -0700, Alexander McCormmach wrote:
> > Is there any way to define a command which, when placed either just
> > before the period (or comma) or just inside the final "$", will
> > un-hskip or un-kern the unwanted space that TeX is inserting?
>
>I've checked several non-TeX math books, and they all have
>italics correction in such cases (one of the books is by
>Addison-Wesley dated 1976, so it must be reliable).  My
>guess is that this is actually the tradition to put italics
>correction here, maybe to avoid mistaking punctuation for
>being part of the formula.  Does anyone have any idea about
>this?  (Of course, even if this is so, the problem of
>eliminating the kern is still there, maybe for cases when
>math mode is used for something other than math).

Thanks a lot, I guess you are right. And this made me think
and try:

(i) Maybe $f.$ is the solution!? If you try it, it doesn't conform
to that tradition as well as $f$.

(ii) When a sentence ends on a displayed equation, you cannot
avoid putting a dot at its end -- inside the math environment.
Now, on screen $f.$ and $$f.$$ seemed to differ with respect
to the distance between f and dot, but \showlists shows that
they are the same.

So if you want that ending sentences on math environments
is consistent, $f.$ would do. (Or do something like $$f\,.$$)
However, `We arrive at $f=0.1.$'  isn't nice (I guess this is
the reason for that tradition).

Best,
Uwe L.

From uwe.lueck at web.de  Sun Oct 16 15:44:35 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Sun Oct 16 15:52:52 2005
Subject: Fwd: Re: [texhax] Correcting for math-mode kerning before
	commas and periods?
Message-ID: <5.1.0.14.0.20051016151944.02383020@pop3.web.de>

Sorry, my objection was invalid, I am _convinced_ that your
"guess" was correct! [continued below]

>At 21:27 15.10.05, Oleg Katsitadze wrote:
>>\unkern does not seem to work here.  I guess this is because
>>of the two-stage process by which the math lists are
>>processed -- when the math list is read by TeX, there is yet
>>no kern after the S in $S$, so \unkern does not have any
>>effect.  And when TeX converts the math list into horizontal
>>list and inserts the kern after the S, there is already no
>>\unkern.
>
>This had come to my mind as well, so I made experiments with
>\showlists. Yet they seem not to agree with that conjecture.

OK, TeX first builds a math list from the "input stream"
according to Chapters 24 and 26. When some \kern<wd>
comes in, a kern of width <wd> is appended to the math list.
When an \unkern follows immediately, that kern of width
<wd> is removed again. When an \unkern comes in that
has not been preceded by a \kern<wd> immediately, it is
just ignored. Thus a math list can contain kerns, but not
\unkern's. However, the kern (which is a kern indeed!)
from the automatic italic correction according to
Appendix G Rules 13, 17, 18f can come in only when the
math list has been finished and is converted into a
horizontal list, and there is no way for an \unkern to
interfere here. Even $\unkern can't, because it is screened
off by the final \mathoff.

Best,
Uwe L.

From geolsoft at mail.ru  Sun Oct 16 16:37:15 2005
From: geolsoft at mail.ru (Oleg Katsitadze)
Date: Sun Oct 16 16:33:38 2005
Subject: [texhax] Correcting for math-mode kerning before commas and
	periods?
In-Reply-To: <5.1.0.14.0.20051016123733.0237d400@pop3.web.de>
References: <5.1.0.14.0.20051015195103.024a6ec0@pop3.web.de>
	<434FAD16.70405@tunicate.org>
	<5.1.0.14.0.20051015195103.024a6ec0@pop3.web.de>
	<5.1.0.14.0.20051016123733.0237d400@pop3.web.de>
Message-ID: <20051016143715.GA12758@thor>

On Sun, Oct 16, 2005 at 01:00:16PM +0200, Uwe L?ck wrote:
> \documentclass[12pt]{article}
> \nofiles
> 
> \makeatletter
> \newcommand\unkerned[1]{%
>   \edef\that@font{\the\textfont\@ne}%
>   \settowidth\dimen@{\that@font#1}%
>   #1\kern\dimen@
>   \settowidth\dimen@{\that@font#1\/}%
>   \kern-\dimen@
> }
> \makeatother
> 
> 
> \begin{document}
> \showboxbreadth=20 \showboxdepth=0
> \tracingonline=1
> $\unkerned{f}$.\showlists
> % \itshape f\/\showthe\lastkern
> 
> $f$.
> \end{document} %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Would not this be equivalent (sorry, it's just `raw' TeX,
I'm not good enough at LaTeX :).

\def\unkerned#1{%
  \hbox{\the\textfont1 #1}%
}

-- 
Best regards,
Oleg Katsitadze

From geolsoft at mail.ru  Sun Oct 16 16:58:15 2005
From: geolsoft at mail.ru (Oleg Katsitadze)
Date: Sun Oct 16 16:54:38 2005
Subject: [texhax] Correcting for math-mode kerning before commas and
	periods?
In-Reply-To: <5.1.0.14.0.20051016141704.02380720@pop3.web.de>
References: <434FAD16.70405@tunicate.org> <434FAD16.70405@tunicate.org>
	<5.1.0.14.0.20051016141704.02380720@pop3.web.de>
Message-ID: <20051016145815.GA12879@thor>

On Sun, Oct 16, 2005 at 02:34:14PM +0200, Uwe L?ck wrote:
> (i) Maybe $f.$ is the solution!? If you try it, it doesn't conform
> to that tradition as well as $f$.

The problem with this is that the following space is not an
inter-sentence space, it is just an interword space.

> (ii) When a sentence ends on a displayed equation, you cannot
> avoid putting a dot at its end -- inside the math environment.
> Now, on screen $f.$ and $$f.$$ seemed to differ with respect
> to the distance between f and dot, but \showlists shows that
> they are the same.

They are exactly the same for me, under plain TeX (I was
measuring at high zoom in xdvi).

> (Or do something like $$f\,.$$)

It would not be consistent -- the gap in $$f\,.$$ is bigger
than in $f$.

> However, `We arrive at $f=0.1.$'  isn't nice (I guess this is
> the reason for that tradition).

But again, I get the same result from both $f=0.1.$ and
$f=0.1$. -- there is no italics correction for the roman
digits.

-- 
Best regards,
Oleg Katsitadze

From mbarr at math.mcgill.ca  Sun Oct 16 17:01:50 2005
From: mbarr at math.mcgill.ca (Michael Barr)
Date: Sun Oct 16 17:02:24 2005
Subject: [texhax] Mathop with mathop spacing?
Message-ID: <Pine.LNX.4.44.0510161058390.26198-100000@triples.math.mcgill.ca>

Is there a way of making a macro that puts its subscript under, like a 
\mathop, but has the spacing of a \mathrel?  What I want is \times_A to 
have the A underneath, but spaced like a \mathrel.  I could do it using 
\mathchoice, but it seems rather complicated.

Michael Barr

From geolsoft at mail.ru  Sun Oct 16 17:08:04 2005
From: geolsoft at mail.ru (Oleg Katsitadze)
Date: Sun Oct 16 17:04:30 2005
Subject: Fwd: Re: [texhax] Correcting for math-mode kerning before commas
	and periods?
In-Reply-To: <5.1.0.14.0.20051016151944.02383020@pop3.web.de>
References: <5.1.0.14.0.20051016151944.02383020@pop3.web.de>
Message-ID: <20051016150804.GB12879@thor>

On Sun, Oct 16, 2005 at 03:44:35PM +0200, Uwe L?ck wrote:
> However, the kern (which is a kern indeed!)
> from the automatic italic correction according to
> Appendix G Rules 13, 17, 18f can come in only when the
> math list has been finished and is converted into a
> horizontal list, and there is no way for an \unkern to
> interfere here. Even $\unkern can't, because it is screened
> off by the final \mathoff.

I was thinking that someone who knows the algorithm very
well can suggest some trick which would prevent the rules
from inserting this kern, maybe by changing the letter's
type from Ord to something else.

-- 
Best regards,
Oleg Katsitadze

From alexander at tunicate.org  Sun Oct 16 18:06:18 2005
From: alexander at tunicate.org (Alexander McCormmach)
Date: Sun Oct 16 18:06:26 2005
Subject: Fwd: Re: [texhax] Correcting for math-mode kerning before commas
	and periods?
In-Reply-To: <5.1.0.14.0.20051016151944.02383020@pop3.web.de>
References: <5.1.0.14.0.20051016151944.02383020@pop3.web.de>
Message-ID: <43527A7A.7080407@tunicate.org>

Hello everyone,

Wow, my little query has sparked quite a discussion! [continued below]

Uwe L?ck wrote:
<snip/>
> OK, TeX first builds a math list from the "input stream"
> according to Chapters 24 and 26. When some \kern<wd>
> comes in, a kern of width <wd> is appended to the math list.
> When an \unkern follows immediately, that kern of width
> <wd> is removed again. When an \unkern comes in that
> has not been preceded by a \kern<wd> immediately, it is
> just ignored. Thus a math list can contain kerns, but not
> \unkern's. However, the kern (which is a kern indeed!)
> from the automatic italic correction according to
> Appendix G Rules 13, 17, 18f can come in only when the
> math list has been finished and is converted into a
> horizontal list, and there is no way for an \unkern to
> interfere here. Even $\unkern can't, because it is screened
> off by the final \mathoff.

Yes, this seems to be what is going on, and now I am at the point of
trying to find a practical solution. From my cross-post on comp.text.tex
[1], it was suggested that inserting a final subscript would prevent the
extra kerning, as follows:

  \newcommand\nok{_{\kern-\scriptspace}}
  Let $U$ be the union of sets $R$ and $S\nok$.

which works well for Computer Modern fonts. But just to add a little
spice to the mix, it seems this solution doesn't work for my preferred
font, the venerable Times Roman, via the txfonts package. It turns out
that txfonts has TeX putting some kind of space *in between* math-mode
letters and their subscripts. I used the following test input both as-is
and commenting out the \usepackage line:

  \nonstopmode
  \showboxdepth=1000
  \documentclass{article}
  \usepackage{txfonts}
  \begin{document}
  \setbox0=\hbox{$S_i$}
  \showbox0
  \box0
  \end{document}

Comparing the two you will notice a marked difference. I've attached a
small PNG image highlighting the discrepancy. And here is the relevant
portion of the log file, first for Computer Modern:

  \box0=
  \hbox(6.83331+1.49998)x9.46123
  .\mathon
  .\OML/cmm/m/it/10 S
  .\hbox(4.63193+0.0)x3.32928, shifted 1.49998
  ..\OML/cmm/m/it/7 i
  .\mathoff

and now for Times Roman:

  \box0=
  \hbox(6.53499+1.55247)x8.94598
  .\mathon
  .\OML/txmi/m/it/10 S
  .\hbox(4.5745+0.05249)x2.446, shifted 1.49998
  ..\OML/txmi/m/it/7 i
  .\mathoff

What puzzles me is that the logs don't look that different. In fact I
don't see any extra hskip or kern at all. But have a look at the
attached PNG -- there's definitely a huge space coming in from
somewhere! I'm at a loss even trying to start looking for this bug.

Any ideas?

Just doing my best to typeset beautiful documents,

Alexander

[1] http://tinyurl.com/93e22

(Please CC me with any reply because I am not subscribed to this list.)
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tx-cm-side-by-side.png
Type: image/png
Size: 1371 bytes
Desc: not available
Url : http://tug.org/pipermail/texhax/attachments/20051016/bb426166/tx-cm-side-by-side.png
From alexander at tunicate.org  Sun Oct 16 18:31:39 2005
From: alexander at tunicate.org (Alexander McCormmach)
Date: Sun Oct 16 18:31:54 2005
Subject: Fwd: Re: [texhax] Correcting for math-mode kerning before commas
	and periods?
In-Reply-To: <43527A7A.7080407@tunicate.org>
References: <5.1.0.14.0.20051016151944.02383020@pop3.web.de>
	<43527A7A.7080407@tunicate.org>
Message-ID: <4352806B.6090806@tunicate.org>

Addendum: Just as a reference point, attached is a PNG of the same
comparison except with the math-mode "S" wrapped by \mathrm, as in:

  $\mathrm{S}_i$

Both CM and TR put space between the roman letter and the subscript, but
 there's no marked difference (TR puts a tiny bit more space, but it's
hardly noticable). The problem with TR in the original example
definitely seems to involve the math-italic status of the subscripted
letter.

For posterity, here are the relevant logs for this second comparison,
first, for CM:

  \box0=
  \hbox(6.83331+1.49998)x8.88486
  .\mathon
  .\OT1/cmr/m/n/10 S
  .\hbox(4.63193+0.0)x3.32928, shifted 1.49998
  ..\OML/cmm/m/it/7 i
  .\mathoff

and for TR:

  \box0=
  \hbox(6.68999+1.55247)x8.006
  .\mathon
  .\OT1/txr/m/n/10 S
  .\hbox(4.5745+0.05249)x2.446, shifted 1.49998
  ..\OML/txmi/m/it/7 i
  .\mathoff

--Alexander

(Please CC me with any reply because I am not subscribed to this list.)
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mathrm-tx-cm-side-by-side.png
Type: image/png
Size: 1420 bytes
Desc: not available
Url : http://tug.org/pipermail/texhax/attachments/20051016/30cd97e9/mathrm-tx-cm-side-by-side-0001.png
From kosik at fiit.stuba.sk  Sun Oct  9 22:52:45 2005
From: kosik at fiit.stuba.sk (=?windows-1252?Q?Matej_Ko=9A=EDk?=)
Date: Sun Oct 16 23:53:17 2005
Subject: [texhax] a question
In-Reply-To: <56659.196.1.114.240.1128765441.squirrel@196.1.114.20>
References: <56659.196.1.114.240.1128765441.squirrel@196.1.114.20>
Message-ID: <4349831D.4010208@fiit.stuba.sk>

Hossein Jafari wrote:
> Dear Sir/Madam
> 
> I have a question about \cite, I want write references as [1-5].
> how can I do? because when I use this command it gives error
>  \cite{Ref1,-,Ref5}
> please help me.

Hitherto, I did not heard about a posibility how to achieve the
functionality you requested. In lot of cases it even does not make sense
. There are bibliography styles which refer particular
books/articles/etc by numbers. In those cases one could imagine to refer
a continuous interval of books as you suggested, i.e.

	[1-5]

but there are styles in which references to books are expressed as
authors' names acronyms, such as

	[KR98]

etc. In those cases it doesn't have sense to use a -- with acronyms.

The closest thing I can recommend you, is to express multiple references
as follows

	\cite{label1,label2,label3]

it could produce something like this

	[1,2,3]

The actual numbers depend on the actual situation, of course. But it is
concise, precise, and should work with any bibliography style. I do it
that way and there are no problems with this approach.

> yours sincerely
> Hossein Jafari
> Department of Mathematics,
> University of Pune,
> Pune-41107,India
> 
> _______________________________________________
> TeX FAQ: http://www.tex.ac.uk/faq
> TeX newsgroup: http://groups.google.com/groups?group=comp.text.tex
> Mailing list archives: http://tug.org/pipermail/texhax/
> More links: http://tug.org/begin.html
> 
> Automated subscription management: http://tug.org/mailman/listinfo/texhax
> Human mailing list managers: postmaster@tug.org


-- 
Matej Ko??k

From parkhurs at imap.iu.edu  Sat Oct 15 18:01:33 2005
From: parkhurs at imap.iu.edu (David Parkhurst)
Date: Mon Oct 17 01:17:41 2005
Subject: [texhax] Y&Y Lucida fonts
Message-ID: <435127DD.4000409@imap.iu.edu>

Some years ago I purchased the YandY Tex system, with the Lucida fonts. 
  I am now wanting to publish a book formatted in those fonts, and I 
wonder whether I can use them freely, or whether some sort of royalties 
would be due to someone.  I understand that YandY has gone out of 
business.  How can I resolve this question?

Thanks for any advice.

David Parkhurst

From karl at tug.org  Mon Oct 17 01:48:35 2005
From: karl at tug.org (Karl Berry)
Date: Mon Oct 17 07:13:21 2005
Subject: [texhax] Y&Y Lucida fonts
In-Reply-To: <435127DD.4000409@imap.iu.edu>
Message-ID: <200510162348.j9GNmZe27149@f7.net>

Hi David,

    Some years ago I purchased the YandY Tex system, with the Lucida fonts. 
      I am now wanting to publish a book formatted in those fonts, and I 
    wonder whether I can use them freely, or whether some sort of royalties 
    would be due to someone.  I understand that YandY has gone out of 
    business.  How can I resolve this question?

Thank you for asking.

Legally, you can use the fonts under the terms of the license from Y&Y.
The fact that Y&Y has gone out of business does not terminate the
license.  The license specifically has a non-termination clause, I
believe.

As far as I know, the license does permit use of the fonts to print a
physical book without further royalty payments.  I would be shocked if
this was not the case.  This is not to say they can be used "freely" -
the restrictions and conditions in the license still apply.

If you are still concerned, please let me know and we can discuss.  (I
have been working with Bigelow&Holmes to make the fonts available
through TUG, so have been spending a lot of time looking at the
licensing, etc.)

Best,
Karl

From cyocum at gmail.com  Mon Oct 17 14:18:34 2005
From: cyocum at gmail.com (Chris Yocum)
Date: Mon Oct 17 14:18:38 2005
Subject: [texhax] More Manyfoot + Setspace Oddness
Message-ID: <82bb54530510170518m5bd96fd2l1d4343f224a363a@mail.gmail.com>

Hi All,
     I am again seeking some advice about the Manyfoot package's
interaction with the Setspace package.
     As many of you know, I am typesetting an edition of a Middle
Irish poem and I am using the LEDMAC package to do the edition.  Now,
I am pretty much finished with inputting all the information in a way
that LEDMAC expects but my university requires everything to be double
spaced except for poems, long quotations, and footnotes.
     To fulfill that requirement, I place \being{singlespace} and
\end{singlespace} from the Setspace package around the poem.  When I
compile the file, LaTeX splits the poem across two pages.  On the
first page, the poem and the edition footnotes (the 'critical
apperatus') are single spaced as expected.  However, on the second
page, the poem is single spaced but the edition footnotes are double
spaced even though the footnotes are surrounded by
\begin{singlespace}...\end{singlespace}.  This causes havoc with my
bottom margin and sometimes causes the footnotes to drop off the end
of the page.
     If anyone has any suggestions or advice, I would appreciate it. 
I apologize in advance if I have missed something simple or this has
been covered in another place.  Thank you all for your continuing help
with my first foray into LaTeX and related subjects.

Sincerely,
Chris Yocum

PS I am using MikTeX with an ledmac package that was packaged for
MikTeX 2.4.1461 with PDFTeX 2.4.1986 on 19/9/2005

From torstenanders at gmx.de  Mon Oct 17 15:20:18 2005
From: torstenanders at gmx.de (Torsten Anders)
Date: Mon Oct 17 15:16:59 2005
Subject: [texhax] very long nested expressions in math-mode
Message-ID: <C301CB92-3F10-11DA-AD4B-00039345928E@gmx.de>

Dear all,

Firstly, I should mention that I am new to this list. I read the FAQ 
and quite some docomentation to find an answer to my problem, without 
success unfortunately. Nevertheless, I apologise in case I missed 
something obvious.

I want to transform program source examples into mathematical notation 
in Latex (tetex, i.e. incl. AMS packages), because that way the 
examples become more concise and better to communicate. Because the 
source is based on functional and logic programming, the available 
algorithm packages are less suited -- the result is too easily misread 
as procedural programming. Instead, I would prefer to write plain math 
expressions.

In short, my problem is that I need to write rather long expressions 
(e.g. highly nested and with long variable names for 
comprehensibility). Thus, line breaks are inevitable. Naturally, the 
continued expression should be indented to indicate the nested 
structure of the expression. That is, I don't what to mechanically 
indent by a certain amount (e.g. by \quad), but the indentation should 
depend on the indentation depth of the surrounding, e.g., function 
call. For instance, a short dummy example may read like this:

xs = find(map([1, 2, 3],
                         f : f(x) = x^3),
               isEven)

The most easy way to do something like this is probably to use 
mono-space fonts in some verbatim environment. However, I would prefer 
to write my example in Latex's math mode: e.g., I would prefer to use 
signs like \vee, \wedge, \bigwedge etc.

To avoid getting lost in my own long Latex examples, I would like to 
define some suitable Latex command, e.g., to get the example above I 
would like to write something like

$xs = \Apply{find}{\Apply{map}{[1,2,3], \\ f : f(x) = x^3}, \\ isEven}$

So far I did not find a way to define \Apply as above and get a 
suitable output. In the following, I present a few of my attempts to 
set my examples. However, none of what I came up with so far is really 
satisfying. Perhaps anybody here can help me..

Here comes my first naive attempt to define \Apply:

\newcommand{\Apply}[2]{\ensuremath{#1 ( \begin{aligned}[t] #2 
\end{aligned} ) }}

which is called

$xs = \Apply{find}{&\Apply{map}{&[1,2,3], \\ &f : f(x) = x^3}, \\ 
&isEven}$

The additional '&' makes the code slightly less readable, but the 
actual problem is that everything after the aligned environment (i.e. 
the comma and the cloing parenthesis) 'go back' on the original line 
like

xs = find(map([1, 2, 3],	 ),)
                         f : f(x) = x^3
               isEven

Next try:

\newcommand{\Apply}[3]{\ensuremath{#1 ( \begin{aligned}[t] #2 ) #3 
\end{aligned} }}

$xs = \Apply{find}{&\Apply{map}{&[1,2,3], \\ &f : f(x) = x^3}{,} \\ 
&isEven}{}$

This results in the desired output, but for complex examples with 
parenthesis/brackets/curly braces in the third \Apply argument this 
becomes very hard to read and the editor (i.e. emacs) can't help 
anymore.

To avoid the problem that after a box -- which starts at the current 
line but introduces some line breaks -- the current line is _not_ 
continued I tried to center the whole expression:

\newcommand{\Apply}[2]{\ensuremath{#1 \left( \begin{aligned} #2 
\end{aligned} \right) }}

$xs = \Apply{find}{&\Apply{map}{&[1,2,3], \\ &f : f(x) = x^3}, \\ 
&isEven}$

The structure of the resulting expression is still clearly readable and 
the code is also more easy to write. However, this layout can also 
easily be misread: instead surrounding the arguments of a function call 
the parenthesis look more like a binom (and reducing the gap between 
the function name and the parenthesis does not really overcome that).  
:-P

Does anybody have a better idea how to set very long nested 
expressions? Any help is most appreciated!

Best wishes,
Torsten

--
Torsten Anders
Sonic Arts Research Centre
Queen's University Belfast (UK)
www.torsten-anders.de

From s.schwartz at imperial.ac.uk  Tue Oct 18 17:13:50 2005
From: s.schwartz at imperial.ac.uk (Steve Schwartz)
Date: Tue Oct 18 17:13:57 2005
Subject: [texhax] Beamer Vertical Alignment in Columns
Message-ID: <1129648430.8153.31.camel@fred>

I've struggled to do something cleanly in Beamer; perhaps someone has
cracked it.

I use two columns. One has itemized text revealed one line at a time.
The other has a set of graphics which replace each other with each new
line. Because the graphics are different sizes, the simple approach
leads to vertical jitter, e.g.

\begin{columns}
  \begin{column}{0.5\textwidth}
     \begin{itemize}
       \item<1-> first point
       \item<2-> 2nd point
     \end{itemize}
  \end{column}
  \begin{column}{0.5\textwidth}
    \only<1>{\includegraphics{fig1}}
    \only<2>{\includegraphics{fig2}}
  \end{column}
\end{columns}

Actually, you get jitter even if the material in the left column doesn't
change from one slide to the next.

Having RTFM'd, I tried to use overprint (which doesn't seem to reuse the
vertical space occupied by fig1, so fig2 gets shifted down/off the
page). Anyway, overlayarea works as advertised, so the 2nd column
becomes

  \begin{column}{0.5\textwidth}
    \begin{overlayarea}{\textwidth}{0.85\textheight}
      \only<1>{\includegraphics{fig1}}
      \only<2>{\includegraphics{fig2}}
    \end{overlayarea}
  \end{column}

The problem is that the figures are placed at the TOP of the box defined
by the overlayarea specification. I'd like them vertically in the centre
(to match the itemized points, which now don't jitter up and down and
are vertically centred thanks to the way beamer handles columns). I've
tried inserting \vfill's (and \\) before and after the \includegraphics,
but this doesn't change the behaviour. I've worked around it by manually
inserting \vspace{..} before the \includegraphic, which requires some
hand-tuning. I've also tried dispensing with columns and using the array
package; that centres things with m{width} specifiers, but there's still
some jitter in the slide transition.

Any ideas? One might be to give the overlayarea zero/negligibly small
vertical height and persuade \includegraphics to set the graphic on it's
centre line rather than bottom; I guess it would be possible to write a
macro to do the necessary calculations.

Thanks
Steve

-- 
+-------------------------------------------------------------------+
Professor Steven J Schwartz      Phone: +44-(0)20-7594-7660
Space and Atmospheric Physics    Fax:   +44-(0)20-7594-7772
The Blackett Laboratory          E-mail: s.schwartz@imperial.ac.uk
Imperial College London          Office: Huxley 6M70 
London SW7 2BW, U.K.             Web: http://www.sp.ph.ic.ac.uk/~sjs
+-------------------------------------------------------------------+


From randall.g.schnathorst at lmco.com  Mon Oct 17 18:39:29 2005
From: randall.g.schnathorst at lmco.com (Schnathorst, Randall G)
Date: Tue Oct 18 18:02:13 2005
Subject: [texhax] Installer experience
Message-ID: <41FC14FA3277C14392FFFB348AFA69BB01F24778@emss02m15.us.lmco.com>


Dear TUG:

I have been using LaTeX for about 10 years.  I recently installed LaTeX on my new Mac OS X computer from the TeX Live 2004 DVD.  Most things worked great, but there was one minor glitch that I thought you might want to know about in case there are any plans to revise the already-excellent installer.   Of course, it's possible that I unknowingly did something wrong; if so, please accept my apology for sending this e-mail.  And don't feel obliged to reply to this e-mail; it is for your information only.  

This was my experience:  After following the installation instructions in the TeX Live Guide, I was able to use LaTeX.  However, when I tried to use either the amsmath or amssymb packages, I got errors saying that certain "cmex" font files were not found, even though the amsmath and amssymb packages themselves were recognized.  To fix this, I copied all directories called "cmex" and "cmextra" from the DVD to the corresponding locations on my computer, and then I ran the mktexlsr script as recommended in the TeX Live Guide.  After that, I was able to use the amsmath and amssymb packages.

Except for this minor bump, the installation process went smoothly.  Thank you all for making it so easy.  

Randy Schnathorst

From d_lewan2000 at yahoo.com  Tue Oct 18 20:35:12 2005
From: d_lewan2000 at yahoo.com (Douglas Lewan)
Date: Tue Oct 18 20:41:58 2005
Subject: [texhax] very long nested expressions in math-mode
In-Reply-To: <C301CB92-3F10-11DA-AD4B-00039345928E@gmx.de>
Message-ID: <20051018183513.24153.qmail@web52703.mail.yahoo.com>

You might want to consider this reference:

http://research.microsoft.com/users/lamport/proofs/proofs.html

--- Torsten Anders <torstenanders@gmx.de> wrote:

> Dear all,
> 
> Firstly, I should mention that I am new to this
> list. I read the FAQ 
> and quite some docomentation to find an answer to my
> problem, without 
> success unfortunately. Nevertheless, I apologise in
> case I missed 
> something obvious.
> 
> I want to transform program source examples into
> mathematical notation 
> in Latex (tetex, i.e. incl. AMS packages), because
> that way the 
> examples become more concise and better to
> communicate. Because the 
> source is based on functional and logic programming,
> the available 
> algorithm packages are less suited -- the result is
> too easily misread 
> as procedural programming. Instead, I would prefer
> to write plain math 
> expressions.
> 
> In short, my problem is that I need to write rather
> long expressions 
> (e.g. highly nested and with long variable names for
> 
> comprehensibility). Thus, line breaks are
> inevitable. Naturally, the 
> continued expression should be indented to indicate
> the nested 
> structure of the expression. That is, I don't what
> to mechanically 
> indent by a certain amount (e.g. by \quad), but the
> indentation should 
> depend on the indentation depth of the surrounding,
> e.g., function 
> call. For instance, a short dummy example may read
> like this:
> 
> xs = find(map([1, 2, 3],
>                          f : f(x) = x^3),
>                isEven)
> 
> The most easy way to do something like this is
> probably to use 
> mono-space fonts in some verbatim environment.
> However, I would prefer 
> to write my example in Latex's math mode: e.g., I
> would prefer to use 
> signs like \vee, \wedge, \bigwedge etc.
> 
> To avoid getting lost in my own long Latex examples,
> I would like to 
> define some suitable Latex command, e.g., to get the
> example above I 
> would like to write something like
> 
> $xs = \Apply{find}{\Apply{map}{[1,2,3], \\ f : f(x)
> = x^3}, \\ isEven}$
> 
> So far I did not find a way to define \Apply as
> above and get a 
> suitable output. In the following, I present a few
> of my attempts to 
> set my examples. However, none of what I came up
> with so far is really 
> satisfying. Perhaps anybody here can help me..
> 
> Here comes my first naive attempt to define \Apply:
> 
> \newcommand{\Apply}[2]{\ensuremath{#1 (
> \begin{aligned}[t] #2 
> \end{aligned} ) }}
> 
> which is called
> 
> $xs = \Apply{find}{&\Apply{map}{&[1,2,3], \\ &f :
> f(x) = x^3}, \\ 
> &isEven}$
> 
> The additional '&' makes the code slightly less
> readable, but the 
> actual problem is that everything after the aligned
> environment (i.e. 
> the comma and the cloing parenthesis) 'go back' on
> the original line 
> like
> 
> xs = find(map([1, 2, 3],	 ),)
>                          f : f(x) = x^3
>                isEven
> 
> Next try:
> 
> \newcommand{\Apply}[3]{\ensuremath{#1 (
> \begin{aligned}[t] #2 ) #3 
> \end{aligned} }}
> 
> $xs = \Apply{find}{&\Apply{map}{&[1,2,3], \\ &f :
> f(x) = x^3}{,} \\ 
> &isEven}{}$
> 
> This results in the desired output, but for complex
> examples with 
> parenthesis/brackets/curly braces in the third
> \Apply argument this 
> becomes very hard to read and the editor (i.e.
> emacs) can't help 
> anymore.
> 
> To avoid the problem that after a box -- which
> starts at the current 
> line but introduces some line breaks -- the current
> line is _not_ 
> continued I tried to center the whole expression:
> 
> \newcommand{\Apply}[2]{\ensuremath{#1 \left(
> \begin{aligned} #2 
> \end{aligned} \right) }}
> 
> $xs = \Apply{find}{&\Apply{map}{&[1,2,3], \\ &f :
> f(x) = x^3}, \\ 
> &isEven}$
> 
> The structure of the resulting expression is still
> clearly readable and 
> the code is also more easy to write. However, this
> layout can also 
> easily be misread: instead surrounding the arguments
> of a function call 
> the parenthesis look more like a binom (and reducing
> the gap between 
> the function name and the parenthesis does not
> really overcome that).  
> :-P
> 
> Does anybody have a better idea how to set very long
> nested 
> expressions? Any help is most appreciated!
> 
> Best wishes,
> Torsten
> 
> --
> Torsten Anders
> Sonic Arts Research Centre
> Queen's University Belfast (UK)
> www.torsten-anders.de
> 
> _______________________________________________
> TeX FAQ: http://www.tex.ac.uk/faq
> TeX newsgroup:
> http://groups.google.com/groups?group=comp.text.tex
> Mailing list archives:
> http://tug.org/pipermail/texhax/
> More links: http://tug.org/begin.html
> 
> Automated subscription management:
> http://tug.org/mailman/listinfo/texhax
> Human mailing list managers: postmaster@tug.org
> 

From karl at freefriends.org  Wed Oct 19 00:33:04 2005
From: karl at freefriends.org (Karl Berry)
Date: Wed Oct 19 00:34:47 2005
Subject: [texhax] Installer experience
In-Reply-To: <41FC14FA3277C14392FFFB348AFA69BB01F24778@emss02m15.us.lmco.com>
Message-ID: <200510182233.j9IMX4f24979@f7.net>

Hi Randy,

Thanks for writing.  I'm glad it mostly worked out for you.

    I got errors saying that certain "cmex" font files were not found

Do you happen to remember what they were?

I'm interested to track it down, because as far as I can see, all the
cmex* fonts are installed as part of the most basic collection.  I don't
think you did anything "wrong", but I can't quite picture how they got
left out.  Did you use the Unix command-line installer (install-tl.sh)
on your Mac, or the i-Installer method over the net?

Thanks again,
Karl

From vivrii at gmail.com  Wed Oct 19 04:41:59 2005
From: vivrii at gmail.com (Victor Ivrii)
Date: Wed Oct 19 04:42:04 2005
Subject: [texhax] beamer: changing the color of specific frame
Message-ID: <19af81400510181941k69dd26d1t715fd1885dbc2e6d@mail.gmail.com>

I failed to find in manual or to guess command changing color of the specific
frame in beamer. Is it possible?

Thank you in advance

--
========================
Victor Ivrii, Department of Mathematics, University of Toronto

From torstenanders at gmx.de  Wed Oct 19 07:50:54 2005
From: torstenanders at gmx.de (Torsten Anders)
Date: Wed Oct 19 07:47:37 2005
Subject: [texhax] very long nested expressions in math-mode
In-Reply-To: <20051018183513.24153.qmail@web52703.mail.yahoo.com>
References: <20051018183513.24153.qmail@web52703.mail.yahoo.com>
Message-ID: <50216130-4064-11DA-B4AD-00039345928E@gmx.de>

Dear Douglas Lewan,

Thank you very much for your reply and the pointer to the interesting 
article. Looking at the source of the article, however, I had to 
realise that even L. Lamport did not introduce some some 'magic' which 
would allow me to define more nice and clean Latex commands (as my 
'dream \Apply' discussed in the previous email).

It may be the I am aiming for something which is incompatible with the 
way Latex/Tex layouts a page by nesting boxes: I would like to write a 
Latex command which in some way changes the height of the current line 
for the text after the command.

Is there a way to define a command \MyBox{} whose top would align with 
the current line and the the text after the box would continue at the 
bottom of the box, even if \MyBox{} spans over multiple lines? For 
example, the following line of Latex code would result in the layout 
below:

Some Text \MyBox{A A A\\A A A\\A A A} text continued

Some Text A A A
                   A A A
                   A A A text continued


Of course, I can define something like

\DoLayout{Some Text}{A A A\\A A A\\A A A}{text continued}

but that would result in much more complex coding of the examples..

Thank you very much!

Best wishes,
Torsten

On 18.10.2005, at 20:35, Douglas Lewan wrote:
> You might want to consider this reference:
>
> http://research.microsoft.com/users/lamport/proofs/proofs.html
>
> --- Torsten Anders <torstenanders@gmx.de> wrote:
>> Dear all,
>>
>> Firstly, I should mention that I am new to this
>> list. I read the FAQ
>> and quite some docomentation to find an answer to my
>> problem, without
>> success unfortunately. Nevertheless, I apologise in
>> case I missed
>> something obvious.
>>
>> I want to transform program source examples into
>> mathematical notation
>> in Latex (tetex, i.e. incl. AMS packages), because
>> that way the
>> examples become more concise and better to
>> communicate. Because the
>> source is based on functional and logic programming,
>> the available
>> algorithm packages are less suited -- the result is
>> too easily misread
>> as procedural programming. Instead, I would prefer
>> to write plain math
>> expressions.
>>
>> In short, my problem is that I need to write rather
>> long expressions
>> (e.g. highly nested and with long variable names for
>>
>> comprehensibility). Thus, line breaks are
>> inevitable. Naturally, the
>> continued expression should be indented to indicate
>> the nested
>> structure of the expression. That is, I don't what
>> to mechanically
>> indent by a certain amount (e.g. by \quad), but the
>> indentation should
>> depend on the indentation depth of the surrounding,
>> e.g., function
>> call. For instance, a short dummy example may read
>> like this:
>>
>> xs = find(map([1, 2, 3],
>>                          f : f(x) = x^3),
>>                isEven)
>>
>> The most easy way to do something like this is
>> probably to use
>> mono-space fonts in some verbatim environment.
>> However, I would prefer
>> to write my example in Latex's math mode: e.g., I
>> would prefer to use
>> signs like \vee, \wedge, \bigwedge etc.
>>
>> To avoid getting lost in my own long Latex examples,
>> I would like to
>> define some suitable Latex command, e.g., to get the
>> example above I
>> would like to write something like
>>
>> $xs = \Apply{find}{\Apply{map}{[1,2,3], \\ f : f(x)
>> = x^3}, \\ isEven}$
>>
>> So far I did not find a way to define \Apply as
>> above and get a
>> suitable output. In the following, I present a few
>> of my attempts to
>> set my examples. However, none of what I came up
>> with so far is really
>> satisfying. Perhaps anybody here can help me..
>>
>> Here comes my first naive attempt to define \Apply:
>>
>> \newcommand{\Apply}[2]{\ensuremath{#1 (
>> \begin{aligned}[t] #2
>> \end{aligned} ) }}
>>
>> which is called
>>
>> $xs = \Apply{find}{&\Apply{map}{&[1,2,3], \\ &f :
>> f(x) = x^3}, \\
>> &isEven}$
>>
>> The additional '&' makes the code slightly less
>> readable, but the
>> actual problem is that everything after the aligned
>> environment (i.e.
>> the comma and the cloing parenthesis) 'go back' on
>> the original line
>> like
>>
>> xs = find(map([1, 2, 3],	 ),)
>>                          f : f(x) = x^3
>>                isEven
>>
>> Next try:
>>
>> \newcommand{\Apply}[3]{\ensuremath{#1 (
>> \begin{aligned}[t] #2 ) #3
>> \end{aligned} }}
>>
>> $xs = \Apply{find}{&\Apply{map}{&[1,2,3], \\ &f :
>> f(x) = x^3}{,} \\
>> &isEven}{}$
>>
>> This results in the desired output, but for complex
>> examples with
>> parenthesis/brackets/curly braces in the third
>> \Apply argument this
>> becomes very hard to read and the editor (i.e.
>> emacs) can't help
>> anymore.
>>
>> To avoid the problem that after a box -- which
>> starts at the current
>> line but introduces some line breaks -- the current
>> line is _not_
>> continued I tried to center the whole expression:
>>
>> \newcommand{\Apply}[2]{\ensuremath{#1 \left(
>> \begin{aligned} #2
>> \end{aligned} \right) }}
>>
>> $xs = \Apply{find}{&\Apply{map}{&[1,2,3], \\ &f :
>> f(x) = x^3}, \\
>> &isEven}$
>>
>> The structure of the resulting expression is still
>> clearly readable and
>> the code is also more easy to write. However, this
>> layout can also
>> easily be misread: instead surrounding the arguments
>> of a function call
>> the parenthesis look more like a binom (and reducing
>> the gap between
>> the function name and the parenthesis does not
>> really overcome that).
>> :-P
>>
>> Does anybody have a better idea how to set very long
>> nested
>> expressions? Any help is most appreciated!
>>
>> Best wishes,
>> Torsten
>>
>> --
>> Torsten Anders
>> Sonic Arts Research Centre
>> Queen's University Belfast (UK)
>> www.torsten-anders.de
>>
>> _______________________________________________
>> TeX FAQ: http://www.tex.ac.uk/faq
>> TeX newsgroup:
>> http://groups.google.com/groups?group=comp.text.tex
>> Mailing list archives:
>> http://tug.org/pipermail/texhax/
>> More links: http://tug.org/begin.html
>>
>> Automated subscription management:
>> http://tug.org/mailman/listinfo/texhax
>> Human mailing list managers: postmaster@tug.org
>>
>
> _______________________________________________
> TeX FAQ: http://www.tex.ac.uk/faq
> TeX newsgroup: http://groups.google.com/groups?group=comp.text.tex
> Mailing list archives: http://tug.org/pipermail/texhax/
> More links: http://tug.org/begin.html
>
> Automated subscription management: 
> http://tug.org/mailman/listinfo/texhax
> Human mailing list managers: postmaster@tug.org
>
--
Torsten Anders
Sonic Arts Research Centre
Queen's University Belfast (UK)
www.torsten-anders.de

From uwe.lueck at web.de  Wed Oct 19 17:11:41 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Wed Oct 19 18:33:32 2005
Subject: [texhax] More Manyfoot + Setspace Oddness
In-Reply-To: <82bb54530510170518m5bd96fd2l1d4343f224a363a@mail.gmail.com
 >
Message-ID: <5.1.0.14.0.20051019170213.024a1210@pop3.web.de>

At 14:18 17.10.05, Chris Yocum wrote:
>     I am again seeking some advice about the Manyfoot package's
>interaction with the Setspace package.
>      As many of you know, I am typesetting an edition of a Middle
>Irish poem and I am using the LEDMAC package to do the edition.  Now,
>I am pretty much finished with inputting all the information in a way
>that LEDMAC expects but my university requires everything to be double
>spaced except for poems, long quotations, and footnotes.

Just for kind of "formal correctness": manyfoot has nothing to do
with ledmac. If you used both of them, I would be astonished if
you hadn't had all sorts of crashes all the time. With very decent
exceptions, ledmac provides everything you need about footnotes.
(Concerning critical editions, manyfoot rather is needed for the
ednotes bundle, which is just an alternative to ledmac.)

Best,
Uwe Lueck.

From cyocum at gmail.com  Wed Oct 19 19:34:00 2005
From: cyocum at gmail.com (Chris Yocum)
Date: Wed Oct 19 20:03:15 2005
Subject: [texhax] More Manyfoot + Setspace Oddness
In-Reply-To: <5.1.0.14.0.20051019170213.024a1210@pop3.web.de>
References: <5.1.0.14.0.20051019170213.024a1210@pop3.web.de>
Message-ID: <82bb54530510191034p530c4acdw908aad895a816793@mail.gmail.com>

Dear Mr. Lueck,
     Ah, I apologize for my misconception.  I must have become
confused.  My inexperience with the software (LaTeX and ledmac) is
still showing.  Thank you for clearing up my misunderstanding.

Sincerely,
Chris Yocum

On 10/19/05, Uwe L?ck <uwe.lueck@web.de> wrote:
> At 14:18 17.10.05, Chris Yocum wrote:
> >     I am again seeking some advice about the Manyfoot package's
> >interaction with the Setspace package.
> >      As many of you know, I am typesetting an edition of a Middle
> >Irish poem and I am using the LEDMAC package to do the edition.  Now,
> >I am pretty much finished with inputting all the information in a way
> >that LEDMAC expects but my university requires everything to be double
> >spaced except for poems, long quotations, and footnotes.
>
> Just for kind of "formal correctness": manyfoot has nothing to do
> with ledmac. If you used both of them, I would be astonished if
> you hadn't had all sorts of crashes all the time. With very decent
> exceptions, ledmac provides everything you need about footnotes.
> (Concerning critical editions, manyfoot rather is needed for the
> ednotes bundle, which is just an alternative to ledmac.)
>
> Best,
> Uwe Lueck.
>
>

From uwe.lueck at web.de  Thu Oct 20 13:54:37 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Thu Oct 20 15:50:31 2005
Subject: Fwd: Re: [texhax] Correcting for math-mode kerning before 
	commas and periods?
In-Reply-To: <43527A7A.7080407@tunicate.org>
References: <5.1.0.14.0.20051016151944.02383020@pop3.web.de>
	<5.1.0.14.0.20051016151944.02383020@pop3.web.de>
Message-ID: <5.1.0.14.0.20051020133303.02c1a0d0@pop3.web.de>

At 18:06 16.10.05, Alexander McCormmach wrote:
>Uwe L?ck wrote:
><snip/>
> > OK, TeX first builds a math list from the "input stream"
> > according to Chapters 24 and 26. When some \kern<wd>
> > comes in, a kern of width <wd> is appended to the math list.
> > When an \unkern follows immediately, that kern of width
> > <wd> is removed again. When an \unkern comes in that
> > has not been preceded by a \kern<wd> immediately, it is
> > just ignored. Thus a math list can contain kerns, but not
> > \unkern's. However, the kern (which is a kern indeed!)
> > from the automatic italic correction according to
> > Appendix G Rules 13, 17, 18f can come in only when the
> > math list has been finished and is converted into a
> > horizontal list, and there is no way for an \unkern to
> > interfere here. Even $\unkern can't, because it is screened
> > off by the final \mathoff.
>
>Yes, this seems to be what is going on, and now I am at the point of
>trying to find a practical solution. From my cross-post on comp.text.tex
>[1], it was suggested that inserting a final subscript would prevent the
>extra kerning, as follows:
>
>   \newcommand\nok{_{\kern-\scriptspace}}
>   Let $U$ be the union of sets $R$ and $S\nok$.
>
>which works well for Computer Modern fonts. But just to add a little
>spice to the mix, it seems this solution doesn't work for my preferred
>font, the venerable Times Roman, via the txfonts package. It turns out
>that txfonts has TeX putting some kind of space *in between* math-mode
>letters and their subscripts. I used the following test input both as-is

Sorry if I don't take the time to follow your observations
-- have you considered my prosal in my first contribution
dating from 2005/10/16?

Best,
   Uwe. 

From uwe.lueck at web.de  Thu Oct 20 14:24:38 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Thu Oct 20 15:50:36 2005
Subject: [texhax] Correcting for math-mode kerning before commas
	and periods?
In-Reply-To: <20051016145815.GA12879@thor>
References: <5.1.0.14.0.20051016141704.02380720@pop3.web.de>
	<434FAD16.70405@tunicate.org> <434FAD16.70405@tunicate.org>
	<5.1.0.14.0.20051016141704.02380720@pop3.web.de>
Message-ID: <5.1.0.14.0.20051020135458.02c1fb20@pop3.web.de>

At 16:58 16.10.05, Oleg Katsitadze wrote:
>On Sun, Oct 16, 2005 at 02:34:14PM +0200, Uwe L?ck wrote:
> > (i) Maybe $f.$ is the solution!? If you try it, it doesn't conform
> > to that tradition as well as $f$.
>
>The problem with this is that the following space is not an
>inter-sentence space, it is just an interword space.

Indeed, well observed. However, this would not make a difference
with languages like French and German where usually
\frenchspacing is used.

> > (ii) When a sentence ends on a displayed equation, you cannot
> > avoid putting a dot at its end -- inside the math environment.
> > Now, on screen $f.$ and $$f.$$ seemed to differ with respect
> > to the distance between f and dot, but \showlists shows that
> > they are the same.
>
>They are exactly the same for me, under plain TeX (I was
>measuring at high zoom in xdvi).

They are exactly the same indeed, as I see with \showlists
and $f.$ vs $\displaystyle f.$.

> > (Or do something like $$f\,.$$)
>
>It would not be consistent -- the gap in $$f\,.$$ is bigger
>than in $f$.

You are right -- obsolete after the former observation, anyway.

> > However, `We arrive at $f=0.1.$'  isn't nice (I guess this is
> > the reason for that tradition).
>
>But again, I get the same result from both $f=0.1.$ and
>$f=0.1$. -- there is no italics correction for the roman
>digits.

You are right, confirmed it with \showlists (and maybe
Appendix G tells so.)

Best,
   Uwe Lueck.

From uwe.lueck at web.de  Thu Oct 20 15:49:35 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Thu Oct 20 15:50:39 2005
Subject: Fwd: Re: [texhax] Correcting for math-mode kerning before
	commas and periods?
In-Reply-To: <20051016150804.GB12879@thor>
References: <5.1.0.14.0.20051016151944.02383020@pop3.web.de>
	<5.1.0.14.0.20051016151944.02383020@pop3.web.de>
Message-ID: <5.1.0.14.0.20051020142534.009fd190@pop3.web.de>

At 17:08 16.10.05, Oleg Katsitadze wrote:
>On Sun, Oct 16, 2005 at 03:44:35PM +0200, Uwe L?ck wrote:
> > However, the kern (which is a kern indeed!)
> > from the automatic italic correction according to
> > Appendix G Rules 13, 17, 18f can come in only when the
> > math list has been finished and is converted into a
> > horizontal list, and there is no way for an \unkern to
> > interfere here. Even $\unkern can't, because it is screened
> > off by the final \mathoff.
>
>I was thinking that someone who knows the algorithm very
>well can suggest some trick which would prevent the rules
>from inserting this kern, maybe by changing the letter's
>type from Ord to something else.

Neither $\mathop f$\showlists nor $\mathop{f}$\showlists
etc. make a difference. Rules 13, 5, 7 etc. explain why.
In some cases a box is built whose width includes the
italic correction. In other cases the change is undone
according to Rule 16.

Best,
   Uwe L?ck.

From uwe.lueck at web.de  Thu Oct 20 21:04:06 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Fri Oct 21 01:06:57 2005
Subject: [texhax] Mathop with mathop spacing?
In-Reply-To: <Pine.LNX.4.44.0510161058390.26198-100000@triples.math.mcgi ll.ca>
Message-ID: <5.1.0.14.0.20051020205802.00a99d20@pop3.web.de>

At 17:01 16.10.05, Michael Barr wrote:
>Is there a way of making a macro that puts its subscript under, like a
>\mathop, but has the spacing of a \mathrel?  What I want is \times_A to
>have the A underneath, but spaced like a \mathrel.  I could do it using
>\mathchoice, but it seems rather complicated.

Doesn't \mathrel{\mathop{\times}\limits_A} do?
(I think the inner braces are redundant.)

Best,
   Uwe. 

From uwe.lueck at web.de  Fri Oct 21 00:22:34 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Fri Oct 21 01:07:06 2005
Subject: [texhax] \@startsection
In-Reply-To: <Pine.LNX.4.44.0508150744200.17604-100000@triples.math.mcgi ll.ca>
Message-ID: <5.1.0.14.0.20051020211047.00a9b030@pop3.web.de>

At 13:52 15.08.05, Michael Barr wrote:
>I am involved in a project to reprint a book that was published 40 years
>ago.  The authors had numbered sections, as well as theorems, etc.
>numbered in the same sequence as the sections (so Section 7.1, then
>Theorem 7.2, then Section 7.3, etc.).  I wanted to make odd page headers
>with the section number of the last actual named section.  I finally did
>this by defining \@varstartsection that did what \@startsection did but
>without defining \sectionmark.  The other problem is getting the page
>headers correct for the unnumbered chapters References and Index, which I
>finally sorted out by hand.  There the problem is that one parameter (*),
>does three logically separate things: it doesn't number the section, it
>doesn't add it to the contents, and it doesn't set the \sectionmark.  If
>you want to do only one or two of things you are in trouble.  Is there a
>better set of sectioning commands?  I could not find anything on CTAN that
>looked like it did it.

I just searched my TeXhax mailbox and found this, sorry, late.
Nobody seems to have answered -- or privately, or on comp.text.tex?
Have you tried Peter Wilson's memoir class?

Or simply (this may save one from studying another manual):
You can simply define your own sectioning commands
using LaTeX's 1. \addcontentsline
2. \pagestyle{myheadings} together with \markboth and
\markright. (Well, this may have been the way that you
described.)

Best,
   Uwe Lueck. 

From uwe.lueck at web.de  Fri Oct 21 00:01:15 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Fri Oct 21 01:07:26 2005
Subject: [texhax] Orphan section heads
Message-ID: <5.1.0.14.0.20051020223345.00a9b350@pop3.web.de>

I bet I've got it, at least concerning Philip Taylor's sketch
of an example. I see two bugs in LaTeX that might be
responsible or raise the danger of orphan headings.

At 16:12 21.09.05, Philip TAYLOR wrote:
>Hmmm, sadly I can now demonstrate that it
>is only too easy to get an orphaned subsection
>head : this accomplishes it for me, though
>I very much wish that it didn't :-(((
>
>         \documentclass [final]{ltugproc}
>         \usepackage {graphicx}
>         \hfuzz = 1\jot
>         \overfullrule = 1\jot
>         \hyphenation {legit-imately}
>         \flushbottom
>                 . . .
>         \subsection {byz-data.dat}
>         \begin{verbatim}
>                 . . .

1. LaTeX's \@verbatim contains

     \if@minipage\else\vskip\parskip\fi

not preceded by any \penalty, so it's possible to break there.
I bet this is responsible for Philip Taylor's example ...

At 16:49 21.09.05, William F. Adams wrote:
>On Sep 21, 2005, at 10:12 AM, Philip TAYLOR wrote:
>
>>         \subsection {byz-data.dat}
>>         \begin{verbatim}
>
>Isn't the space inserted by the verbatim environment what's causing this?

... oh, sometimes I understand other people's words only after
I have found the same thought by myself. However, it is encouraging
when two people come to the same conclusion independently. I only
wonder how the discussion went on, instead of focussing on the fact
that there is a LaTeX bug here. To fix it:

At 18:40 14.09.05, Robin Fairbairns wrote:
>on the contrary, the latex standard classes put tediously high
>penalties after section heads: this makes it difficult to write an
>outline document, since the penalties mean that it's impossible to
>break the page until there's some text in the sections.

... not quite so! or even more: LaTeX's sectioning macros use
\@afterheading, and the latter uses \@nobreaktrue instead of
penalties, because after the previous \vskip on the main
vertical list it is impossible to find out what \penalty precedes
that \vskip (because \unskip doesn't work here).*) So to prevent
a heading from sticking to the very bottom of the page, each
following \vskip before the next hmode must be preceded by
\if@nobreak \nobreak \fi .

I don't find this in the LaTeX Bug Database.

2. Recently I used \addvspace for some self-made sectioning
commands ... and got orphan heads. I found that this is due
to the \vskip's in (\addvspace and) \@xaddvskip -- which are not
preceded by \penalties. I made my own version of \addvspace
by preceding the \vskip's with \if@nobreak \nobreak \fi .
\addpenalty is dangerous for the same reason.

LaTeX's \@startsection is wise enough to use \addpenalty
and \addvspace under \if@nobreak ... \else only. Similarly
\@item, which does \@nbitem ("no-break-item") instead of
\addpenalty and \addvspace under \if@nobreak. \@nbitem
... contains \addvspace ... incredible ... this may break in
two senses of `to break' ...

I would just use \if@nobreak \nobreak \fi again and again
... so I would suggest something like

     \def\@ifnb@nb@vskip{\if@nobreak \nobreak \fi \vskip}

When I search the LaTeX Bug Database for \addvspace,
I don't get subject lines that hint at the former problem.
Maybe apart from the very first one, but opening that
report still does not show the previous observation.

Must I make proper bug reports? Mostly I have preferred
to write my own patch instead of making proper bug reports.
I collected the bugs on a slip of paper for each of them,
hoping that I sometimes could find the time to make a bug
report ... One of them (orphan headings with \nofiles and
\label) was fixed independently later.

(A certain address on the LaTeX Bug website is allowed
to be used for offering volunteering, but I take it that
"one-time volunteering" is not included.)

-- Uwe.
_________
*) Oh! Not quite so: you can change the output routine and
call it here in order to \unskip in \box255 etc.! 

From mbarr at math.mcgill.ca  Fri Oct 21 15:03:09 2005
From: mbarr at math.mcgill.ca (Michael Barr)
Date: Fri Oct 21 15:03:21 2005
Subject: [texhax] Mathop with mathop spacing?
In-Reply-To: <5.1.0.14.0.20051020205802.00a99d20@pop3.web.de>
Message-ID: <Pine.LNX.4.44.0510210900130.28204-100000@triples.math.mcgill.ca>

The following answers the question I raised originally, although not the 
most general question.  It is not exactly Uwe Lu\"ck's suggestion but what 
he said made me think of it:

\documentclass{article}
\makeatletter
\def\xsub_#1{\mathrel{\mathop{\times}\limits_{#1}}}
\def\x{\@ifnextchar_{\xsub}{\times}}
\makeatother
\begin{document}
 $$A\x B$$
 $$A\x_CB$$
 $$A\x _C B$$
 $$A\x _{CD} B$$
\end{document}



From P.Taylor at Rhul.Ac.Uk  Fri Oct 21 19:18:09 2005
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR)
Date: Fri Oct 21 19:18:39 2005
Subject: ?SPAM? - Re: [texhax] Orphan section heads
In-Reply-To: <5.1.0.14.0.20051020223345.00a9b350@pop3.web.de>
References: <5.1.0.14.0.20051020223345.00a9b350@pop3.web.de>
Message-ID: <435922D1.9030904@Rhul.Ac.Uk>



Uwe L?ck wrote:

> I bet I've got it, at least concerning Philip Taylor's sketch
> of an example. I see two bugs in LaTeX that might be
> responsible or raise the danger of orphan headings.

> 1. LaTeX's \@verbatim contains
> 
>     \if@minipage\else\vskip\parskip\fi
> 
> not preceded by any \penalty, so it's possible to break there.
> I bet this is responsible for Philip Taylor's example ...

Thanks, Uwe : of course, what really matters is what ends up
on TeX's main vertical list at this point rather than what
appears in the code, because it's not impossible that some
earlier code may have left a \penalty there and if nothing
in between contributes anything then the effect of the \vskip
as a potential breakpoint could be nullified.  I need to do
some further investigation here, but thank you for your input.

** Phil.

From beebe at math.utah.edu  Fri Oct 21 20:49:41 2005
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Fri Oct 21 20:49:47 2005
Subject: [texhax] New paper on extracting text and math from PostScript
Message-ID: <CMM.0.94.0.1129920580.beebe@psi.math.utah.edu>

This (relatively) new paper may be of interest to TeXhax list readers:

	Michael Yang and Richard Fateman
	Extracting mathematical expressions from PostScript documents
	http://doi.acm.org/10.1145/1005285.1005329

Access to the full text requires ACM Portal database access, but a Web
search engine found at copy of the article at the first author's site:

	http://www.ocf.berkeley.edu/~mlyang/papers/MichaelYangPsmath.pdf

The BibTeX entry and lengthy abstract are here:

	http://www.math.utah.edu/pub/tex/bib/texbook3.html#Yang:2004:EME

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe@math.utah.edu  -
- 155 S 1400 E RM 233                       beebe@acm.org  beebe@computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------

From blasetti at tasc.infm.it  Fri Oct 21 00:29:48 2005
From: blasetti at tasc.infm.it (blasetti@tasc.infm.it)
Date: Sun Oct 23 00:02:25 2005
Subject: [texhax] Tex capacity exceeded 
Message-ID: <1129847388.43581a5c69733@users.tasc.infm.it>

Hi, 
I'm writing my master thesis with pdftex and this evening I got 
the "TeX capacity exceeded" error.
I copied hereafter the last part of my .log file;
what should I do? Should I ask a wizard and how?
 
Thanks, 
 
Cecilia
-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
(capitolo4.tex [78]
Capitolo 4.
 
Underfull \hbox (badness 10000) in paragraph at lines 9--13
 
 []
 

LaTeX Warning: Reference `cap.4.1' on page 79 undefined on input line 28.
 
[79
 
]
 
LaTeX Warning: Reference `cap.4.2' on page 80 undefined on input line 30.
 

LaTeX Warning: Reference `cap.4.3' on page 80 undefined on input line 32.
 

Underfull \hbox (badness 10000) in paragraph at lines 30--35
 
 []
 

LaTeX Warning: Reference `cap.4.4' on page 80 undefined on input line 45.
 

LaTeX Warning: Reference `cap.4.5' on page 80 undefined on input line 51.
 

LaTeX Warning: Reference `cap.4.6' on page 80 undefined on input line 55.
 
[80]
Underfull \hbox (badness 10000) in paragraph at lines 77--83
 
 []
 

Underfull \hbox (badness 10000) in paragraph at lines 85--94
 
 []
 
[81]
 
LaTeX Warning: Reference `cap.4.2' on page 82 undefined on input line 128.
 
[82]
Overfull \hbox (8.27782pt too wide) in paragraph at lines 137--141
[]\OT1/cmr/m/n/12 Una so-lu-zio-ne po-treb-be es-se-re rap-pre-sen-ta-ta dal-l'
u-ti-liz-zo del mo-du-lo FAST-
 []
 

LaTeX Warning: Reference `cap.4.2' on page 83 undefined on input line 149.
 

Underfull \hbox (badness 10000) in paragraph at lines 142--150
 
 []
 

LaTeX Warning: Reference `4_1' on page 83 undefined on input line 151.
 
[83]
! TeX capacity exceeded, sorry [input stack size=5000].
\@inmathwarn ...latex@warning {Command \protect #1
                                                   invalid in math mode}\fi 
l.188    \includegraphics[width=6.7cm]{mobilit?_a}
                                                   &
If you really absolutely need more capacity,
you can ask a wizard to enlarge me.
 

Here is how much of TeX's memory you used:
 2958 strings out of 95496
 33347 string characters out of 1189233
 195513 words of memory out of 1194151
 5732 multiletter control sequences out of 60000
 15563 words of font info for 57 fonts, out of 1000000 for 2000
 14 hyphenation exceptions out of 4999
 5000i,17n,4000p,753b,310s stack positions out of 
5000i,500n,10000p,200000b,32768s
PDF statistics:
 355 PDF objects out of 300000
 0 named destinations out of 300000
 146 words of extra memory for PDF output out of 65536
!  ==> Fatal error occurred, the output PDF file is not finished!



From jono at hq.acm.org  Fri Oct 21 20:01:10 2005
From: jono at hq.acm.org (Jono Hardjowirogo)
Date: Sun Oct 23 00:02:26 2005
Subject: [texhax] Help!
Message-ID: <8DFA8DABC2E6FA438EDCFD26881380A50A98E5D3@hq.acm.org>

Hi,

 

Most of the articles in our journals and transactiosn are written in LaTeX.
We used a supplier, TechBooks, who proces them for us. However, TechBooks is
having problem processing the articles for one of our journals, ACM
Transactions on Asian Language Information Processing (TALIP) because it
uses Chinese, Japanese, and Korean fonts in addition to English and
TechBooks' system could not handle this. Can you recommend a supplier or
someone who can help us process these papers? Our final products are
displyaed as PDF, so after all the corrections and pagination they have to
be savedas PDF.

 

Thank You,

 

Jono Hardjowirogo

 

 

 

______________________________________________

Jono Hardjowirogo

Publisher, ACM Press

1515 Broadway, 17th Floor

New York, NY 10036

Voice: 212-626-0665

EMail:   <mailto:jono@hq.acm.org> jono@hq.acm.org

______________________________________________

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/texhax/attachments/20051021/3e34165a/attachment.htm
From tcarlson at nccc.edu  Sat Oct 22 19:26:12 2005
From: tcarlson at nccc.edu (Carlson, Tim )
Date: Sun Oct 23 00:02:26 2005
Subject: [texhax] contributing to latex packages
Message-ID: <353FE83E7C50F94BACB738E36A44B93E3FA535@exchange04.misnet.tld>


I was wondering about the proper channels to go through for submitting a fix to a latex package, as well as posting a modified package to CTAN.   If you would be able to let me know, I'd appreciate it very much.
Thank you,
Tim Carlson

From karl at freefriends.org  Sun Oct 23 00:26:51 2005
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct 23 00:26:56 2005
Subject: [texhax] contributing to latex packages
In-Reply-To: <353FE83E7C50F94BACB738E36A44B93E3FA535@exchange04.misnet.tld>
Message-ID: <200510222226.j9MMQpQ11349@f7.net>

Hi Tim,

    I was wondering about the proper channels to go through for
    submitting a fix to a latex package, 

In general, the best thing is to write the maintainer (if known).

    as well as posting a modified package to CTAN.

If the package is still actively maintained, then it's usually best to
let the maintainer do the update, to avoid multiple versions.  If there
is no maintainer, then the best thing to do depends on the licensing,
etc.  What is the package?

In general, uploads to CTAN can be done through a web form, for example,
http://www.ctan.org/upload.html, among other ways.

Best,
Karl

From reinhard.kotucha at web.de  Sun Oct 23 00:29:43 2005
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun Oct 23 00:29:49 2005
Subject: [texhax] Tex capacity exceeded 
In-Reply-To: <1129847388.43581a5c69733@users.tasc.infm.it>
References: <1129847388.43581a5c69733@users.tasc.infm.it>
Message-ID: <17242.48471.49241.279882@zarniwoop.ms25.local>

>>>>> "blasetti" == blasetti  <blasetti@tasc.infm.it> writes:

It is more helpful to have the source code of your document.
We usually don't need the complete document but it would be helpful to
have everything before \begin{document} and at least some lines before
the error occurred.  In your case, for instance, lines 160...188.

If you can make the whole file available (by http, for instance) that
would be best.

  > l.188    \includegraphics[width=6.7cm]{mobilit?_a}
  >                                                    &

I have no idea what went wrong, but I would avoid non-ASCII
characters in file names.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha@web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From Robin.Fairbairns at cl.cam.ac.uk  Sun Oct 23 01:00:08 2005
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Sun Oct 23 01:00:16 2005
Subject: [texhax] contributing to latex packages 
In-Reply-To: Your message of Sat, 22 Oct 2005 13:26:12 -0400.
	<353FE83E7C50F94BACB738E36A44B93E3FA535@exchange04.misnet.tld> 
Message-ID: <E1ETSLS-00066a-00@mta1.cl.cam.ac.uk>

> 
> I was wondering about the proper channels to go through for
> submitting a fix to a latex package, as well as posting a modified
> package to CTAN.   If you would be able to let me know, I'd
> appreciate it very much. 

1. establish who the author or current maintainer is, and send him/her
   your proposed change, and request that a new version be sent to ctan
2. in default of (1) [authors _do_ disappear without trace] you have
   to investigate what you can legally do.
   (a) the gpl and the current version of lppl can, one way or
       another, allow you to take over maintenance.
   (b) sometimes authors write a sort of "get out clause" into their
       work, which says "take it if you want to"
   (c) in most other cases, you're on dodgy legal ground; some authors
       go so far as to demand that nobody ever (regardless of bugs)
       shall touch there software, but most software on ctan has no
       attached licence statement.

in that last case, there are no hard rules as to what to do.  indeed,
it's not clear to me that there _is_ any sensible way forward.  it's
likely that the package you want to patch is working for other people,
and it's possible that your proposed change will obstruct their valid
use.  in such a circumstance, your defence of "there was a bug in
there" will not protect you significantly.

personally, i would appeal as widely as possible (comp.text.tex and
texhax, at least) for contact details, aiming to gain the support of
the community for a take-over.

with strong support, you're unlikely to face opposition from us (the
ctan team) to a takeover, but nothing is going to happen quickly.

note: there are myriads of packages on ctan for which there is no
licence information at all, and fewer still make reference to a
recognised (and therefore rigorously defined) licence.  there are
remarkably many authors who never bothered to identify themselves in
their packages, at all.  we don't allow new uploads _now_ of stuff
that's in that unsatisfactory state, but back when ctan started (or
even when i got involved) we just didn't recognise the problem.

Robin Fairbairns

For the CTAN team

From chris at subtlety.com  Sun Oct 23 08:47:26 2005
From: chris at subtlety.com (Chris Bergstresser)
Date: Sun Oct 23 08:54:12 2005
Subject: [texhax] How to structure conditionals?
Message-ID: <435B31FE.9070701@subtlety.com>

Hi all --

    I'm using TeX to create a survey for a psychology experiment, which 
means I have a several different conditions.  For example, one version 
of the survey might have the following:

1) Do you like to eat beets?
2) Do you like to drink milk?
3) Can you dance the rumba?

     While another version of the questionnaire might have the following:

1) Do you like to eat potatoes?
2) Do you like to drink milk?
3) Can you dance a polka?

     In other words, each question comes in a couple different 
varieties.  To produce different versions of the questionnaire, I'd like 
to specify (at the beginning of the file) something simple, which tells 
TeX "when you're in the first question, use the second question 
conclusion; when you're in the second question, use the second question 
conclusion; when you're in the third question, use the first question 
conclusion".

I've gotten as far as this:

\newcommand{\question}[3]{
    \samepage{}
    \thequestionnum) #1 #2
    \addtocounter{questionnum}{1}
}
\newcounter{questionnum}
\addtocounter{questionnum}{1}

    But I can't for the life of me figure out how to put in a 
conditional, either checking a defined string at the beginning (e.g. 
"221" for second conclusion, second conclusion, first conclusion) or 
using some combination of \ifthenelse and \include to break apart 
problem.  Any ideas?  Pointers where to start?

-- Chris

From karl at freefriends.org  Sun Oct 23 20:48:49 2005
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct 23 20:48:54 2005
Subject: [texhax] How to structure conditionals?
In-Reply-To: <435B31FE.9070701@subtlety.com>
Message-ID: <200510231848.j9NImno19774@f7.net>

Hi Chris,

    \newcommand{\question}[3]{
        \samepage{}
        \thequestionnum) #1 #2
        \addtocounter{questionnum}{1}
    }

I'm not sure from your description how you intend \question to be
called.  Could you give an example?

        But I can't for the life of me figure out how to put in a 
    conditional, either checking a defined string at the beginning

I don't know how to use LaTeX conditionals, but the primitives \if and
\ifx can check these things, or maybe \ifcase would be better.  For
example, you gave this example:

     tells TeX "when you're in the first question, use the second question
    conclusion; when you're in the second question, use the second question
    conclusion; when you're in the third question, use the first question
    conclusion".

And here is a sketch of some code, assuming some other counter like
\conclusion to tell you which conclusion to use.

\ifcase\questionnum
  % q0, impossible
 \or \conclusion=2 % q1
 \or \conclusion=2 % q2
 \or \conclusion=1 % q3
\fi

Hope this helps,
Karl

From george at galis.org  Sun Oct 23 21:11:23 2005
From: george at galis.org (George Georgalis)
Date: Sun Oct 23 21:11:30 2005
Subject: [texhax] bolder than \bf{}
In-Reply-To: <20050916194754.GA1790@sta.duo>
References: <20050916194754.GA1790@sta.duo>
Message-ID: <20051023191123.GB25836@sta.duo>


A company logo is all text, but it should be bolder than "company"
depicted here:

\huge{\bf{company}\textcolor{green}{\small{ subname}\tiny{ LLC}}}%

is there anyway to make text bolder than \bf{company}?

// George


-- 
George Georgalis, systems architect, administrator <IXOYE><
http://galis.org/ cell:646-331-2027 mailto:george@galis.org

From Robin.Fairbairns at cl.cam.ac.uk  Sun Oct 23 21:26:21 2005
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Sun Oct 23 21:26:33 2005
Subject: [texhax] bolder than \bf{} 
In-Reply-To: Your message of Sun, 23 Oct 2005 15:11:23 -0400.
	<20051023191123.GB25836@sta.duo> 
Message-ID: <E1ETlU5-0003Sb-00@mta1.cl.cam.ac.uk>

> 
> A company logo is all text, but it should be bolder than "company"
> depicted here:
> 
> \huge{\bf{company}\textcolor{green}{\small{ subname}\tiny{ LLC}}}%

you mean, i presume:

{\huge\textbf{company}\texcolor{green}{{\small\ subname}{\tiny\ LLC}}}%

the size commands, and the (outdated) \bf command do *not* take
arguments.  

> is there anyway to make text bolder than \bf{company}?

\textbf{company} is typically set (in cm fonts) using computer modern
bold extended (cmbx).  i don't believe anyone has composed a version
of cm bolder than than bx: the only other weight (beyond the medium of
the default of computer modern roman) you have available is computer
modern bold (cmb).

other fonts have lots of weights -- all the way from ultra-light
through to ultra-heavy, but i don't believe there's any such among the
free fonts available: i fear you might find yourself buying a new font
family for this job.

From george at galis.org  Sun Oct 23 22:20:19 2005
From: george at galis.org (George Georgalis)
Date: Sun Oct 23 22:20:24 2005
Subject: [texhax] bolder than \bf{}
In-Reply-To: <E1ETlU5-0003Sb-00@mta1.cl.cam.ac.uk>
References: <20051023191123.GB25836@sta.duo>
	<E1ETlU5-0003Sb-00@mta1.cl.cam.ac.uk>
Message-ID: <20051023202019.GC25836@sta.duo>

On Sun, Oct 23, 2005 at 08:26:21PM +0100, Robin Fairbairns wrote:
>> 
>> \huge{\bf{company}\textcolor{green}{\small{ subname}\tiny{ LLC}}}%
>
>you mean, i presume:
>
>{\huge\textbf{company}\texcolor{green}{{\small\ subname}{\tiny\ LLC}}}%

humm, I'll watch out for \bf{}

>the size commands, and the (outdated) \bf command do *not* take
>arguments.  

okay, I was hoping there was a parameter to adjust it.

Thanks,
// George


-- 
George Georgalis, systems architect, administrator <IXOYE><
http://galis.org/ cell:646-331-2027 mailto:george@galis.org

From P.Taylor at Rhul.Ac.Uk  Sun Oct 23 23:43:13 2005
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR)
Date: Sun Oct 23 23:49:32 2005
Subject: [texhax] bolder than \bf{}
In-Reply-To: <E1ETlU5-0003Sb-00@mta1.cl.cam.ac.uk>
References: <E1ETlU5-0003Sb-00@mta1.cl.cam.ac.uk>
Message-ID: <435C03F1.1070202@Rhul.Ac.Uk>

How about using "poor man's extrabold", as in

	\documentclass {article}
	\usepackage {color}
	\begin {document}
	    {\huge\textbf{company}\textcolor{green}{{\small\ subname}{\tiny\ LLC}}}%
	     \par
	     \def \pmeb #1{\leavevmode \rlap {\kern 0.05 ex \lower 0.05 ex \hbox {#1}}#1}
	    {\pmeb {\huge\textbf{company}}\textcolor{green}{{\small\ subname}{\tiny\ LLC}}}%
	\end {document}

Philip TAYLOR

From chris at subtlety.com  Mon Oct 24 06:49:00 2005
From: chris at subtlety.com (Chris Bergstresser)
Date: Mon Oct 24 06:49:07 2005
Subject: [texhax] How to structure conditionals?
In-Reply-To: <200510231848.j9NImno19774@f7.net>
References: <200510231848.j9NImno19774@f7.net>
Message-ID: <435C67BC.4050703@subtlety.com>

Karl Berry wrote:
> I'm not sure from your description how you intend \question to be
> called.  Could you give an example?

Sure.  Here's what I've ended up with so far:

% Define the question format
\newcommand{\question}[3]{
    \samepage{}
    \setcounter{questionconclude}{\substring{%
%
    			12112012221 % This is the definition of the
                                     % question conclusions to use
%
    			}{\thequestionnum}{\thequestionnum}}
    \thequestionnum) #1
    \ifthenelse{\equal{\thequestionconclude}{1}}{#2}{
    \ifthenelse{\equal{\thequestionconclude}{2}}{#3}{#2 \\ \ldots #3}}
    \addtocounter{questionnum}{1}
}
\newcounter{questionnum}
\addtocounter{questionnum}{1}
\newcounter{questionconclude}

% Define the substring command
\def\substring#1#2#3{\expandafter\subm\romannumeral#3000x.{}%
#1\relax\relax{#2}}
\def\subm#1#2.#3#4\relax#5\relax{\csname 
sub#1\endcsname#2.#4\relax#5#3\relax}
\def\subx#1.#2\relax#3\relax#4{\expandafter\submb\romannumeral#4000x.{}%
{}#3\relax}
\def\submb#1#2.#3{\csname sub#1b\endcsname#2.}
\def\subxb#1.#2\relax{#2}


Then the questions are like:
\question{
I like to eat
}
{chocolate.}
{ice cream.}

\question{
I hate
}
{rainy days.}
{Mondays.}

> I don't know how to use LaTeX conditionals, but the primitives \if and
> \ifx can check these things, or maybe \ifcase would be better.  For
> example, you gave this example:

    \ifcase is probably a better way of doing the above than I currently 
am.  Although I'd really like to define the question conclusions above 
the question definition (I can't seem to find documentation for \def) 
and I'd love to find a more general solution than the one I currently have.

-- Chris

From martin at oneiros.de  Mon Oct 24 01:57:54 2005
From: martin at oneiros.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Mon Oct 24 07:50:14 2005
Subject: [texhax] bolder than \bf{}
In-Reply-To: <20051023202019.GC25836@sta.duo>
References: <20051023191123.GB25836@sta.duo>
	<E1ETlU5-0003Sb-00@mta1.cl.cam.ac.uk>
	<20051023202019.GC25836@sta.duo>
Message-ID: <20051023235754.GD14924@lucien.oneiros.kn-bremen.de>

On 2005-10-23 16:20:19 -0400, George Georgalis wrote:
> okay, I was hoping there was a parameter to adjust it.

If you don't need Type1-Fonts, you could make your own bolder
version of cm using MetaFont; just grab a copy of Computers &
Typesetting Vol. E. 

But first you should really learn LaTeX2e.

Best
    Martin
-- 
                    http://www.tm.oneiros.de

From beebe at math.utah.edu  Mon Oct 24 13:56:04 2005
From: beebe at math.utah.edu (Nelson H. F. Beebe)
Date: Mon Oct 24 13:56:21 2005
Subject: [texhax] Tex capacity exceeded
Message-ID: <CMM.0.94.0.1130154964.beebe@psi.math.utah.edu>

Cecilia Blasetti <blasetti@tasc.infm.it> asks about an error report
from a LaTeX file.

The error "TeX capacity exceeded" that you reported seems to come from
the \includegraphics command.  This is almost always due to importing
a graphics file from a Mac OS system, where CR marks line ends, onto a
Windows or Unix system where line ends are CR LF or LF respectively,
or the reverse.  In either case, the file is one big line to TeX, and
its input line buffer overflows.

The fix is simple (correct the line terminators).  This set of tools
makes it easy:

	http://www.math.utah.edu/pub/dosmacux/
	ftp://ftp.math.utah.edu/pub/dosmacux/

They can handle batches of files, and importantly, preserve file
timestamps.

-------------------------------------------------------------------------------
- Nelson H. F. Beebe                    Tel: +1 801 581 5254                  -
- University of Utah                    FAX: +1 801 581 4148                  -
- Department of Mathematics, 110 LCB    Internet e-mail: beebe@math.utah.edu  -
- 155 S 1400 E RM 233                       beebe@acm.org  beebe@computer.org -
- Salt Lake City, UT 84112-0090, USA    URL: http://www.math.utah.edu/~beebe  -
-------------------------------------------------------------------------------

From karl at freefriends.org  Tue Oct 25 01:38:35 2005
From: karl at freefriends.org (Karl Berry)
Date: Tue Oct 25 01:38:39 2005
Subject: [texhax] How to structure conditionals?
In-Reply-To: <435C67BC.4050703@subtlety.com>
Message-ID: <200510242338.j9ONcZA13435@f7.net>

    Here's what I've ended up with so far:

Yikes.

     (I can't seem to find documentation for \def) 

It's a primitive, documented in the TeXbook.  (Also TeX by Topic, TeX
for the Impatient (both of which are available formatted online), and
pretty much any other non-LaTeX book. :)

    and I'd love to find a more general solution than the one I currently have.

I'm still a little foggy on the details.  But I'll tell you the approach
that comes to mind anyway: it seems \question is really \definequestion,
i.e., it lists the first part and then possible second parts for each
question.  Then something else could decide which second part to use
(which is one right now with that cryptic string of numbers, right?).

So I think I would have \definequestion just define macros, more or less
like this:
\def\definequestion#1#2#3{%
  \def\questionXfirst{#1}%
  \def\questionXsecondi{#2}%
  \def\questionXsecondii{#2}%
}
(where X is a counter that is autoincremented each question, so you
really have to use \expandafter\def\csname, etc.)

Then have another macro, say \doquestion, which typesets the desired
parts, given a question number and which second part to use:
\def\doquestion#1#2{%
  \csname question#1first\endcsname
  \csname question#1second#2\endcsname
}

\doquestion 1 i
\doquestion 1 ii

(Of course you could use \romannumeral as you are doing so both could be
integers, or whatever.  Lots of details.)

Probably I've totally misunderstood, but FWIW ...

Best,
Karl

From S.Dittmar at eureca.de  Tue Oct 25 15:23:59 2005
From: S.Dittmar at eureca.de (Susan Dittmar)
Date: Tue Oct 25 15:24:20 2005
Subject: [texhax] tabular: remove \tabcolsep in one cell
In-Reply-To: <200510242338.j9ONcZA13435@f7.net>
References: <435C67BC.4050703@subtlety.com> <200510242338.j9ONcZA13435@f7.net>
Message-ID: <20051025132359.GD26339@eureca.de>

Greetings,

I would like to typeset a tabular (in fact, longtable) with some
rather small columns which have a rather broad title. In order to
save space I would like to remove the \tabcolsep for the title
cell(s), or at least reduce it. I tried something like

\multicolumn{1}%
{|>{\hspace*{-\tabcolsep}p{20mm}<{\hspace*{-\tabcolsep}|}%
{\centering title text}

which works find for c columns, but for p{} columns the \hspace
is put inside the cell box instead of positioning the whole cell
box.

Any ideas how I could solve the problem without resorting to c
columns and manually breaking the title lines? The documents are
generated automatically, thus having to break lines generates
other problems for me.

Thanks in advance,

	Susan Dittmar

From S.Dittmar at eureca.de  Tue Oct 25 16:20:16 2005
From: S.Dittmar at eureca.de (Susan Dittmar)
Date: Tue Oct 25 16:20:21 2005
Subject: [texhax] tabular: remove \tabcolsep in one cell
In-Reply-To: <20051025132359.GD26339@eureca.de>
References: <435C67BC.4050703@subtlety.com> <200510242338.j9ONcZA13435@f7.net>
	<20051025132359.GD26339@eureca.de>
Message-ID: <20051025142016.GF26339@eureca.de>

Sorry for forgetting to remove the In-Reply-To line. :-(

Susan

From mr_heller at yahoo.dk  Tue Oct 25 16:18:49 2005
From: mr_heller at yahoo.dk (Martin Heller)
Date: Tue Oct 25 16:25:11 2005
Subject: [texhax] Re: tabular: remove \tabcolsep in one cell
In-Reply-To: <20051025132359.GD26339@eureca.de>
References: <435C67BC.4050703@subtlety.com> <200510242338.j9ONcZA13435@f7.net>
	<20051025132359.GD26339@eureca.de>
Message-ID: <djles8$3ot$1@sea.gmane.org>

Susan Dittmar wrote:

> Any ideas how I could solve the problem without resorting to c
> columns and manually breaking the title lines? The documents are
> generated automatically, thus having to break lines generates
> other problems for me.

Use the array package and @{}p{<width>}@{} to specify the columns 
without \tabcolsep.

From felipe_luduvice at hotmail.com  Mon Oct 24 18:48:15 2005
From: felipe_luduvice at hotmail.com (Felipe Luduvice)
Date: Tue Oct 25 17:34:59 2005
Subject: [texhax] small problem with TeX
Message-ID: <BAY111-F25A4BB8DE83152F99E61C492770@phx.gbl>


Hello,

My name is Felipe Luduvice and I am from the Department of Research and 
Studies of the Brazilian Central Bank. I have recently started using Latex 
to type papers and found it an extraordinary tool to type large mathematical 
equations. However, I have a problem... every time I want to print the 
paper, it comes out in black lines with equations and writing "white". Do 
you understand what I mean? Its as if a highlighted it somehow... Anyway, I 
would really apreciate it if you could tell me how to print in the normal 
form!

Thank's for your time and patience!
Felipe Luduvice - Brazilian Central Bank


From danno at bestbill.com  Mon Oct 24 18:33:39 2005
From: danno at bestbill.com (Dan Haugland)
Date: Tue Oct 25 17:35:00 2005
Subject: [texhax] Y and Y
Message-ID: <435D0CE3.5030907@bestbill.com>

Any update on the Y and Y stuff?  The last mention on the site is Feb 2005.

-- 
danno.

Dan Haugland
BestBill? (www.bestbill.com)
Top 10 Business 2004, 2005
Greater Phoenix Chamber of Commerce
623-516-4700 x101
623-298-2565 Direct
623-587-7787 Fax


From g.pileio at unical.it  Tue Oct 25 10:55:06 2005
From: g.pileio at unical.it (Dr. G. Pileio)
Date: Tue Oct 25 17:35:00 2005
Subject: [texhax] Left margin in latex
Message-ID: <BF83BF8A.1AC%g.pileio@unical.it>

Dear Sir/Mrs

I'm writing my PhD. thesis in Latex. The thesis must be printed in the b5
format and this can be done easily in the printing process reducing the a4
format into the b5 one. Anyway, I'm using the standard thesis.cls file and
when I print both the faces of a paper there is a shift of 1 cm which is due
to the fact that the text is not correctly centerd in the middle of the
sheet but 1 cm shifted from the left side. How can I change this setting in
order to have two page printed at the center of the two side of the sheet?

Best Regards and thank you for your help

Dr. G. Pileio
Ph.D. student,?
University of Calabria
via P. Bucci, cube 14C-7th floor
Arcavacata di Rende, 87036, CS, Italy
tel: 0039 098449 3320
fax: 0039 098449 3301
web page: http://chimica.unical.it/LXNMR_S.C.An/pileio-own.htm

Current address:
University of Southampton
University Road, SO17 1BJ
Building 30, Room 3039
Southtampton, Hampshire,UK




From frauke at brandeis.edu  Tue Oct 25 14:31:24 2005
From: frauke at brandeis.edu (Frauke)
Date: Tue Oct 25 17:47:16 2005
Subject: [texhax] small problem with TeX
In-Reply-To: <BAY111-F25A4BB8DE83152F99E61C492770@phx.gbl>
References: <BAY111-F25A4BB8DE83152F99E61C492770@phx.gbl>
Message-ID: <435E259C.5070601@brandeis.edu>

Felipe Luduvice wrote:

>
> Hello,
>
> My name is Felipe Luduvice and I am from the Department of Research 
> and Studies of the Brazilian Central Bank. I have recently started 
> using Latex to type papers and found it an extraordinary tool to type 
> large mathematical equations. However, I have a problem... every time 
> I want to print the paper, it comes out in black lines with equations 
> and writing "white". Do you understand what I mean? Its as if a 
> highlighted it somehow... Anyway, I would really apreciate it if you 
> could tell me how to print in the normal form!
>
> Thank's for your time and patience!
> Felipe Luduvice - Brazilian Central Bank
>
>
I have had a similar poblem with MusiXTeX. I'm not sure what causes it, 
but it seems to happen when the system is configured to convert 
postscript files automatically to PDF before sending to the printer. 
What type of system/printer do you have? Are you going directly to PDF? 
Assuming that your printer is a postscript printer, try opening a .ps of 
your document in Ghostview, and send it directly from Ghostview (I think 
the option is called "send postscript to printer"). This may make the 
problem go away.

From karl at freefriends.org  Tue Oct 25 17:50:16 2005
From: karl at freefriends.org (Karl Berry)
Date: Tue Oct 25 17:50:21 2005
Subject: [texhax] Y and Y
In-Reply-To: <435D0CE3.5030907@bestbill.com>
Message-ID: <200510251550.j9PFoGC28019@f7.net>

Hi Dan,

    Any update on the Y and Y stuff?  The last mention on the site is Feb 2005.

I'm working on making the Lucida fonts available first -- hopefully in
the not-too-distant future.  After that I will be working on releasing
the Y&Y sources under some free license so that Windows-savvy developers
can (hopefully) do something useful with them.

I remain very grateful to Chuck Bigelow & Kris Holmes for working with
me on the Lucida arrangements when it is a niche market for them, and
Blenda for making it all possible.

Best,
karl

From mr_heller at yahoo.dk  Tue Oct 25 17:55:09 2005
From: mr_heller at yahoo.dk (Martin Heller)
Date: Tue Oct 25 18:01:10 2005
Subject: [texhax] Re: small problem with TeX
In-Reply-To: <BAY111-F25A4BB8DE83152F99E61C492770@phx.gbl>
References: <BAY111-F25A4BB8DE83152F99E61C492770@phx.gbl>
Message-ID: <djlkgu$ope$1@sea.gmane.org>

Felipe Luduvice wrote:

> it comes out in black lines with equations and 
> writing "white". Do you understand what I mean? Its as if a highlighted 
> it somehow... Anyway, I would really apreciate it if you could tell me 
> how to print in the normal form!

I think you need to provide a minimal example of a document that 
comes out the way you describe. And a discription of how you 
compile and print the document as well. How does the document 
below print on your system?

\documentclass{article}
\usepackage{color}

\begin{document}
\textcolor{white}{\colorbox{black}{\(a^2+b^2=c^2\)}}
\(a^2+b^2=c^2\)
\end{document}

From koul at paco.net  Tue Oct 25 19:50:17 2005
From: koul at paco.net (koul)
Date: Tue Oct 25 21:47:12 2005
Subject: [texhax] some postscript specials could not be rendered
Message-ID: <435E7059.4080105@paco.net>

Hi, I have the problem which resembles the situation described in 
"WinEdt Question or Support Request"
I run MikTeX 2.4  with Yap as dvi viewer and Ghostscript 8.15.
Some latex files with pstricks code included produce error message "some 
PS specials coud not be rendered".

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Error: /typecheck in ifelse
Operand stack:
   --nostringval--   34.1137   -67.4567   PermitFileReading   
--nostringval--   --nostringval--
Execution stack:
   %interp_exit   .runexec2   --nostringval--   --nostringval--   
--nostringval--   2   %stopped_push   --nostringval--   
--nostringval--   --nostringval--   false   1   %stopped_push   1   3   
%oparray_pop   1   3   %oparray_pop   1   3   %oparray_pop   1   3   
%oparray_pop   .runexec2   --nostringval--   --nostringval--   
--nostringval--   2   %stopped_push   --nostringval--   --nostringval--
Dictionary stack:
   --dict:1125/1686(ro)(G)--   --dict:0/20(G)--   --dict:76/200(L)--   
--dict:95/300(L)--   --dict:37/200(L)--   --dict:80/200(L)--   
--dict:20/40(L)--
Current allocation mode is local
MiKTeX GPL Ghostscript 8.15: Unrecoverable error, exit code 1
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

For previous versions of MikTeX 2.1 and Ghostscript 7.04 there were any 
problems.

Thanx for any hints

From jintau at gmail.com  Wed Oct 26 09:30:37 2005
From: jintau at gmail.com (king tom)
Date: Wed Oct 26 17:16:40 2005
Subject: [texhax] lucida fonts
Message-ID: <121c10ea0510260030m46c92c16s@mail.gmail.com>

Hi, I want to know how can I purchase lucida fonts(including lucida
bright expert text fonts,  lucida newmath and mathtime fonts ) from Y
& Y.

Your any reply will be highly appriciated!

jin tau

From karl at freefriends.org  Wed Oct 26 20:50:17 2005
From: karl at freefriends.org (Karl Berry)
Date: Wed Oct 26 20:50:24 2005
Subject: [texhax] lucida fonts
In-Reply-To: <121c10ea0510260030m46c92c16s@mail.gmail.com>
Message-ID: <200510261850.j9QIoHS17075@f7.net>

    Hi, I want to know how can I purchase lucida fonts(including lucida
    bright expert text fonts,  lucida newmath and mathtime fonts ) from Y
    & Y.

You can't purchase it from Y&Y, they have gone out of business.  You
will soon (a few weeks, hopefully) be able to get them at least through
TUG, perhaps other vendors.

Best,
Karl

From wadams at atlis.com  Wed Oct 26 21:07:47 2005
From: wadams at atlis.com (William F. Adams)
Date: Wed Oct 26 21:07:07 2005
Subject: [texhax] lucida fonts
In-Reply-To: <121c10ea0510260030m46c92c16s@mail.gmail.com>
References: <121c10ea0510260030m46c92c16s@mail.gmail.com>
Message-ID: <32db18d3ffd4aad19c78d8c9714ee8ce@atlis.com>

On Oct 26, 2005, at 3:30 AM, king tom wrote:

> Hi, I want to know how can I purchase lucida fonts(including lucida
> bright expert text fonts,  lucida newmath and mathtime fonts ) from Y
> & Y.

This is being worked on.

Karl Berry recently said on the texhax list:

On Oct 25, 2005, at 11:50 AM, Karl Berry wrote:

> I'm working on making the Lucida fonts available first -- hopefully in
> the not-too-distant future.  After that I will be working on releasing
> the Y&Y sources under some free license so that Windows-savvy 
> developers
> can (hopefully) do something useful with them.
>
> I remain very grateful to Chuck Bigelow & Kris Holmes for working with
> me on the Lucida arrangements when it is a niche market for them, and
> Blenda for making it all possible.

William

-- 
William Adams, publishing specialist
voice - 717-731-6707 | Fax - 717-731-6708
www.atlis.com

From zbigniew.nitecki at tufts.edu  Thu Oct 27 14:02:14 2005
From: zbigniew.nitecki at tufts.edu (Zbigniew Nitecki)
Date: Thu Oct 27 14:02:23 2005
Subject: [texhax] \twoheaduparrow
Message-ID: <92B16903-B2F4-459F-94E3-6FAC3315D94C@tufts.edu>

I'm unfamiliar with the defining code for ams symbols, but would like  
to create the \uparrow equivalent of \twoheadrightarrow.  How do I do  
it?

Zbigniew Nitecki
Department of Mathematics
Tufts University
Medford, MA 02155

telephones:
Office    (617)627-3843
Dept.    (617)627-3234
Dept. fax    (617)627-3966


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/texhax/attachments/20051027/5a9fe0fb/attachment.htm
From bnb at ams.org  Thu Oct 27 16:21:37 2005
From: bnb at ams.org (Barbara Beeton)
Date: Thu Oct 27 17:06:16 2005
Subject: [texhax] \twoheaduparrow
Message-ID: <Pine.GSO.4.60.0510271018390.4930@snort.ams.org>

here's something i put together for another purpose
that i think will help.  a 90 degree rotation will
turn a right arrow upright.
 							-- bb

---------- Original message ----------
Date: Thu, 27 Oct 2005 08:02:14 -0400
From: Zbigniew Nitecki <zbigniew.nitecki@tufts.edu>
To: support@tug.org
Subject: [texhax] \twoheaduparrow

I'm unfamiliar with the defining code for ams symbols, but would like
to create the \uparrow equivalent of \twoheadrightarrow.  How do I do
it?

Zbigniew Nitecki
Department of Mathematics
Tufts University
Medford, MA 02155

telephones:
Office    (617)627-3843
Dept.    (617)627-3234
Dept. fax    (617)627-3966

 			--------------------

\documentclass{article}
\usepackage{graphicx}
\usepackage{amssymb}
\nofiles % don't need .aux file

\newcommand{\reflectit}[1]{\reflectbox{\ensuremath#1}}
\newcommand{\turnover}[1]{\rotatebox[origin=c]{180}{\ensuremath#1}}
\newcommand{\turnne}[1]{\rotatebox[origin=c]{45}{\ensuremath#1}}
\newcommand{\turnnw}[1]{\rotatebox[origin=c]{135}{\ensuremath#1}}
\newcommand{\turnsw}[1]{\rotatebox[origin=c]{225}{\ensuremath#1}}
\newcommand{\turnse}[1]{\rotatebox[origin=c]{315}{\ensuremath#1}}

\begin{document}
\section*{New symbols from old}
Sometimes one needs a symbol that can't be found in any font,
but that is either a rotation or a reflection of a sybol that
\emph{is} available.  \texttt{graphicx} package to the rescue!

Define some suitable commands to provide the desired degree of
rotation or to reflect an object:
\begin{verbatim}
\newcommand{\reflectit}[1]{\reflectbox{\ensuremath#1}}
\newcommand{\turnover}[1]{\rotatebox[origin=c]{180}{\ensuremath#1}}
\end{verbatim}
Then you can use these commands to produce your new symbols:
\[
{}\leqslant\;\geqslant{}:\;
   \turnover{\geqslant}\;\turnover{\leqslant};
\qquad
{}\Rightarrow{}:\;
   \turnne{\Rightarrow}\;\turnnw{\Rightarrow}\;
   \turnsw{\Rightarrow}\;\turnse{\Rightarrow};
\qquad
{}\sim{}:\;
   \reflectit{\sim}
\]
Combining these two techniques to obtain a symbol that is both
rotated and reflected is left as an exercise for the reader.

When you define new names for such symbols, it's a good idea to
specify the class (\verb|\mathord|, \verb|\mathbin|, etc.)\ in
the definition so you get the correct spacing when they're used.
\end{document}

From philipratcliffe at tiscali.it  Thu Oct 27 19:26:24 2005
From: philipratcliffe at tiscali.it (Philip G. Ratcliffe)
Date: Thu Oct 27 19:26:17 2005
Subject: [texhax] \twoheaduparrow
In-Reply-To: <F220FCE3-340F-4249-ABFF-A5F71428D2F2@tufts.edu>
Message-ID: <AKEJLEGIKBCPGCHOGIMNAEAEDIAA.philipratcliffe@tiscali.it>

> Thanks for the advice. I'm not sure what manual you are
> talking about (is there an online one?) but the LaTeX
> companion does list \twoheadrightarrow as an amssymb symbol.

All self-respecting packages come with a manual of some sort, which, for
example, with MiKTeX gets installed in a directory called something like
C:\...\texmf\doc\latex\packagename\.  It may be in dvi, ps or pdf form.  In
the ams case you should find:

C:\...\texmf\doc\ams\amstex\amsguide.ps

> In fact, I also had a response from Barbara Beeton at AMS
> and she showed me how to rotate symbols using graphicx;
> it turns out to work fine on \twoheadrightarrow.

Yes, this is a good solution ... if the output format you're using supports
rotation (for example, dvips will).

Cheers,  Phil Ratcliffe

From uwe.lueck at web.de  Fri Oct 28 11:22:17 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Fri Oct 28 12:23:31 2005
Subject: [texhax] Orphan section heads
Message-ID: <5.1.0.14.0.20051028112131.00a88d00@pop3.web.de>

Dear Phil and all involved,

the diagnosis is rather simple. The LTUGproc subsections
are embedded into the following text (the "next skip" is negative).
The authors of \@startsection seem not to have thought of
the possibility that an embedded heading could precede a
paragraph environment. In Standard LaTeX, the same would happen
with \paragraph. The environment is even likely to set a penalty
that overrides the \clupenalty (a general TeX problem).

I don't find good ways out so easily.

In your case I would suggest:
\makeatletter
\def \expandafter \verbatim \expandafter{\expandafter
   \@beginparpenalty\expandafter\@M\verbatim}
\makeatother
-- This should also prevent the \skip in \@verbatim
from breaking.

One may also try the samepage trick or
\parbox{\columnwidth}, I am not experienced with that.

Best Regards,
   Uwe.

At 16:32 24.10.05, Philip TAYLOR wrote:
>Dear Uwe -- the relevant part of the log, as requested,
>as 1435 lines, and is at
>
>         http://personal.rhul.ac.uk/chaa/006/log.log.txt
>
>the input was :
>
>         \tracingmacros = 1
>         \subsection {explanation.cases}
>         \begin{verbatim}
>         0
>         1
>         2
>         \end{verbatim}
>         \tracingmacros = 0
>
>Note that this is a boundary case; one fewer lines in the
>verbatim text and it is all fitted on the current page.
>
>Looking at the first few lines of the log, I fear this
>is complicated (and perhaps even caused) by TUGboat's
>intervention : I am therefore cc'ing Barbara, who may
>wish to look at her part of the code ...
>
>** Phil.
>--------
>Uwe L?ck wrote:
>>Sorry, sorry, sorry ... those orphan section headings are
>>still a mystery to me, and I haven't found any LaTeX bug
>>as claimed (they are at best "weaknesses", yet LaTeX
>>cares about them). \@startsection, through \@xsect,
>>indeed puts \penalty10000\vskip... to the list (in the vertical
>>case) and immediately following \vskip's aren't possible
>>points to break (TeXbook p. 110). The \write from \label
>>(or \addcontentsline; similarly \mark...) after \@startsection
>>neither enables breaking at a following \vskip -- the latter is
>>preceded by a \nobreak from \protected@write. This is what
>>\@nobreaktrue is for.
>>Phil, you might put \tracingmacros=1 before \subsection and
>>\tracingmacros=0 after \end{verbatim} and send the .log to me.
>>Similarly Michael Barr / Florian Knorn -- it should be possible
>>to delete confidential material from the .log (unless your bugged
>>sectioning macros are confidential).
>>-- Uwe.
>>
>>>I bet I've got it, at least concerning Philip Taylor's sketch
>>>of an example. I see two bugs in LaTeX that might be
>>>responsible or raise the danger of orphan headings.
>>>
>>>At 16:12 21.09.05, Philip TAYLOR wrote:
>>>
>>>>Hmmm, sadly I can now demonstrate that it
>>>>is only too easy to get an orphaned subsection
>>>>head : this accomplishes it for me, though
>>>>I very much wish that it didn't :-(((
>>>>
>>>>         \documentclass [final]{ltugproc}
>>>>         \usepackage {graphicx}
>>>>         \hfuzz = 1\jot
>>>>         \overfullrule = 1\jot
>>>>         \hyphenation {legit-imately}
>>>>         \flushbottom
>>>>                 . . .
>>>>         \subsection {byz-data.dat}
>>>>         \begin{verbatim}
>>>>                 . . .

From P.Taylor at Rhul.Ac.Uk  Fri Oct 28 13:31:57 2005
From: P.Taylor at Rhul.Ac.Uk (Philip TAYLOR)
Date: Fri Oct 28 13:32:48 2005
Subject: ?SPAM? - Re: [texhax] Orphan section heads
In-Reply-To: <5.1.0.14.0.20051028112131.00a88d00@pop3.web.de>
References: <5.1.0.14.0.20051028112131.00a88d00@pop3.web.de>
Message-ID: <43620C2D.3010406@Rhul.Ac.Uk>

Dear Uwe -- Many thanks for your suggestion;
I suspect that one "\expandafter" got lost in
transit (as it stands, you are trying to redefine
\expandafter rather than \verbatim !), but modulo
that, it seems to work as you intended :-)))

Very many thanks, and I am cc'ing Robin who may
wish to retrofit something similar to the TUGboat
macros.

** Phil.
--------
Uwe L?ck wrote:

> Dear Phil and all involved,
> 
> the diagnosis is rather simple. The LTUGproc subsections
> are embedded into the following text (the "next skip" is negative).
> The authors of \@startsection seem not to have thought of
> the possibility that an embedded heading could precede a
> paragraph environment. In Standard LaTeX, the same would happen
> with \paragraph. The environment is even likely to set a penalty
> that overrides the \clupenalty (a general TeX problem).
> 
> I don't find good ways out so easily.
> 
> In your case I would suggest:
> \makeatletter
> \def \expandafter \verbatim \expandafter{\expandafter
>   \@beginparpenalty\expandafter\@M\verbatim}
> \makeatother
> -- This should also prevent the \skip in \@verbatim
> from breaking.
> 
> One may also try the samepage trick or
> \parbox{\columnwidth}, I am not experienced with that.
> 
> Best Regards,
>   Uwe.
> 
> At 16:32 24.10.05, Philip TAYLOR wrote:
> 
>> Dear Uwe -- the relevant part of the log, as requested,
>> as 1435 lines, and is at
>>
>>         http://personal.rhul.ac.uk/chaa/006/log.log.txt
>>
>> the input was :
>>
>>         \tracingmacros = 1
>>         \subsection {explanation.cases}
>>         \begin{verbatim}
>>         0
>>         1
>>         2
>>         \end{verbatim}
>>         \tracingmacros = 0
>>
>> Note that this is a boundary case; one fewer lines in the
>> verbatim text and it is all fitted on the current page.
>>
>> Looking at the first few lines of the log, I fear this
>> is complicated (and perhaps even caused) by TUGboat's
>> intervention : I am therefore cc'ing Barbara, who may
>> wish to look at her part of the code ...
>>
>> ** Phil.
>> --------
>> Uwe L?ck wrote:
>>
>>> Sorry, sorry, sorry ... those orphan section headings are
>>> still a mystery to me, and I haven't found any LaTeX bug
>>> as claimed (they are at best "weaknesses", yet LaTeX
>>> cares about them). \@startsection, through \@xsect,
>>> indeed puts \penalty10000\vskip... to the list (in the vertical
>>> case) and immediately following \vskip's aren't possible
>>> points to break (TeXbook p. 110). The \write from \label
>>> (or \addcontentsline; similarly \mark...) after \@startsection
>>> neither enables breaking at a following \vskip -- the latter is
>>> preceded by a \nobreak from \protected@write. This is what
>>> \@nobreaktrue is for.
>>> Phil, you might put \tracingmacros=1 before \subsection and
>>> \tracingmacros=0 after \end{verbatim} and send the .log to me.
>>> Similarly Michael Barr / Florian Knorn -- it should be possible
>>> to delete confidential material from the .log (unless your bugged
>>> sectioning macros are confidential).
>>> -- Uwe.
>>>
>>>> I bet I've got it, at least concerning Philip Taylor's sketch
>>>> of an example. I see two bugs in LaTeX that might be
>>>> responsible or raise the danger of orphan headings.
>>>>
>>>> At 16:12 21.09.05, Philip TAYLOR wrote:
>>>>
>>>>> Hmmm, sadly I can now demonstrate that it
>>>>> is only too easy to get an orphaned subsection
>>>>> head : this accomplishes it for me, though
>>>>> I very much wish that it didn't :-(((
>>>>>
>>>>>         \documentclass [final]{ltugproc}
>>>>>         \usepackage {graphicx}
>>>>>         \hfuzz = 1\jot
>>>>>         \overfullrule = 1\jot
>>>>>         \hyphenation {legit-imately}
>>>>>         \flushbottom
>>>>>                 . . .
>>>>>         \subsection {byz-data.dat}
>>>>>         \begin{verbatim}
>>>>>                 . . .
> 
> 
> _______________________________________________
> TeX FAQ: http://www.tex.ac.uk/faq
> TeX newsgroup: http://groups.google.com/groups?group=comp.text.tex
> Mailing list archives: http://tug.org/pipermail/texhax/
> More links: http://tug.org/begin.html
> 
> Automated subscription management: http://tug.org/mailman/listinfo/texhax
> Human mailing list managers: postmaster@tug.org
> 

From uwe.lueck at web.de  Fri Oct 28 16:27:26 2005
From: uwe.lueck at web.de (Uwe =?iso-8859-1?Q?L=FCck?=)
Date: Fri Oct 28 16:38:27 2005
Subject: ?SPAM? - Re: [texhax] Orphan section heads
In-Reply-To: <43620C2D.3010406@Rhul.Ac.Uk>
References: <5.1.0.14.0.20051028112131.00a88d00@pop3.web.de>
	<5.1.0.14.0.20051028112131.00a88d00@pop3.web.de>
Message-ID: <5.1.0.14.0.20051028152739.00a7ec70@pop3.web.de>

At 13:31 28.10.05, Philip TAYLOR wrote:
>Dear Uwe -- Many thanks for your suggestion;
>I suspect that one "\expandafter" got lost in
>transit (as it stands, you are trying to redefine
>\expandafter rather than \verbatim !), but modulo
>that, it seems to work as you intended :-)))
>>\makeatletter
>>\def \expandafter \verbatim \expandafter{\expandafter
>>   \@beginparpenalty\expandafter\@M\verbatim}
>>\makeatother
Indeed, it was missing before transit already!

>Very many thanks, and I am cc'ing Robin who may
>wish to retrofit something similar to the TUGboat
>macros.

It might be a subject for LaTeX as well; yet someone
who makes subsection headings embedded is
particularly obliged to deal with the problem (IMHO).

The best that comes to my mind is a user version
of \@afterheading to be used when one knowingly
starts a \@trivlist after an embedded heading:
\makeatletter
\let\stayhereyoubloodytrivlist\@afterheading
\makeatother

Or even: \@xsect uses \@nobreaktrue in any case,
and \@nobreakfalse starts its \everypar assignment!?

-- Uwe.


>--------
>Uwe L?ck wrote:
>
>>Dear Phil and all involved,
>>the diagnosis is rather simple. The LTUGproc subsections
>>are embedded into the following text (the "next skip" is negative).
>>The authors of \@startsection seem not to have thought of
>>the possibility that an embedded heading could precede a
>>paragraph environment. In Standard LaTeX, the same would happen
>>with \paragraph. The environment is even likely to set a penalty
>>that overrides the \clupenalty (a general TeX problem).
>>I don't find good ways out so easily.
>>In your case I would suggest:
>>\makeatletter
>>\def \expandafter \verbatim \expandafter{\expandafter
>>   \@beginparpenalty\expandafter\@M\verbatim}
>>\makeatother
>>-- This should also prevent the \skip in \@verbatim
>>from breaking.
>>One may also try the samepage trick or
>>\parbox{\columnwidth}, I am not experienced with that.
>>Best Regards,
>>   Uwe.
>>At 16:32 24.10.05, Philip TAYLOR wrote:
>>
>>>Dear Uwe -- the relevant part of the log, as requested,
>>>as 1435 lines, and is at
>>>
>>>         http://personal.rhul.ac.uk/chaa/006/log.log.txt
>>>
>>>the input was :
>>>
>>>         \tracingmacros = 1
>>>         \subsection {explanation.cases}
>>>         \begin{verbatim}
>>>         0
>>>         1
>>>         2
>>>         \end{verbatim}
>>>         \tracingmacros = 0
>>>
>>>Note that this is a boundary case; one fewer lines in the
>>>verbatim text and it is all fitted on the current page.
>>>
>>>Looking at the first few lines of the log, I fear this
>>>is complicated (and perhaps even caused) by TUGboat's
>>>intervention : I am therefore cc'ing Barbara, who may
>>>wish to look at her part of the code ...
>>>
>>>** Phil.
>>>
>>>>>At 16:12 21.09.05, Philip TAYLOR wrote:
>>>>>
>>>>>>Hmmm, sadly I can now demonstrate that it
>>>>>>is only too easy to get an orphaned subsection
>>>>>>head : this accomplishes it for me, though
>>>>>>I very much wish that it didn't :-(((
>>>>>>
>>>>>>         \documentclass [final]{ltugproc}
>>>>>>         \usepackage {graphicx}
>>>>>>         \hfuzz = 1\jot
>>>>>>         \overfullrule = 1\jot
>>>>>>         \hyphenation {legit-imately}
>>>>>>         \flushbottom
>>>>>>                 . . .
>>>>>>         \subsection {byz-data.dat}
>>>>>>         \begin{verbatim}
>>>>>>                 . . .

From gerree at Math.Princeton.EDU  Thu Oct 27 18:53:09 2005
From: gerree at Math.Princeton.EDU (Gerree Pecht)
Date: Fri Oct 28 20:45:28 2005
Subject: [texhax] nyj (New York Journal) macros
Message-ID: <Pine.LNX.4.62.0510271239380.22332@fine312.math.Princeton.EDU>


To Whom It May Concern:

Professor Pali of Princeton University submitted a paper to the
New York Journal which they are rejecting due to the fact that he
seems not to be using "their" macro package.  Unfortunately, he
typeset the paper BEFORE receiving their instructions/macros ...
the paper is typeset in French.  I have taken a look at his
preamble (macro package(s)) he is using ... I don't want to
destroy his input ... is there anyway we could "bundle" nyj's
macro package on top of the package Prof. Pali's is using?

I'm attaching all the files he has sent to me for your review and
perhaps suggestions on how to "convert" his input to that of
the nyj's style package(s) without too much effort or difficulty?

I believe they denied him publication unless he follows their
instructions/package.

Any suggestions/help TUG suppor/org can give him is greatly appreciated.

Thanking you all in advance on behalf of Prof. Pali ...

Please direct your response/help to Professor Pali at

npali@math.princeton.edu

Prof. Pali is a Visiting Fellow from France ...

Thanks!!!!


-- 

Gerree P. Pecht
Princeton University Mathematics Department
(609) 258-3011
-------------- next part --------------
% This is nyj.cls, the document class for latex2e publications in the
% New York Journal of Mathematics. It is a modified version of the AMS
% amsart class, prepared and maintained by Mark Steinberger. 
% It includes contributions by Phil Hirschhorn.
%
% If you like the style and want to use it for documents other than NYJM
% submissions, use the declaration \documentclass[np]{nyj}. The np option
% turns off the special handling features to make space for the logo, etc.
%
% The np option should definitely _not_ be used in papers being prepared
% for submission to the journal, as it will change all the pagebreaks.
%
% With the hyp option, this style may be used to create HyperTeX
% documents, adding automatic hypertext links and anchors to table of
% contents entries and sectional headings, as well as to \cite,
% \bibitem, \ref, and \label commands. It also enables authors to put
% their own links in via the new commands \href and \hlabel (for
% internal references), as well as \hyperlink for links to external
% resources. The syntax is:
%
%    \hlabel{label of "name" anchor}{text inside anchor}
%    \href{label of "name" anchor referenced}{text highlighted by link}
%
% In both of these cases, the # is inserted automatically by the macro.
% The syntax for \hyperlink is
%
%    \hyperlink{full URL for external reference}{text highlighted by link}
%
% You may use \hyperhash in the URL to insert a #.
%
% Warning: \label does not insert hypertext anchors in display mode: For
% some reason, "name" anchor \specials do not function in display mode
% unless the anchor surrounds a nonempty section of type. So you
% should use a construction like:
%
%              \label{foo}\hlabel{foo}{bar}
%
% in display mode, where "bar" is nonempty. Note that display mode
% includes environments like equation, eqnarray, align, etc.
%
% The hypertex macros are set up in such a way that if you omit "hyp"
% from your documentclass options, the hypertex macros will be
% nonfunctional, but will not cause error messages.
%
\NeedsTeXFormat{LaTeX2e}% LaTeX 2.09 can't be used (nor non-LaTeX)
[1994/12/01]% LaTeX date must December 1994 or later
\ProvidesClass{nyj}[1997/11/20]
\def\@tempa#1#2\@nil{\edef\@classname{#1}}
\expandafter\@tempa\@currnamestack{}{}{}\@nil
\ifx\@classname\@empty \edef\@classname{\@currname}\fi
\newcommand{\runhdfnt}{\itshape\bfseries\mathversion{bold}}
\newif\ifpub
\pubtrue
\newif\iffin
\newif\ifhyp
\newif\ifyandy
\DeclareOption{np}{\pubfalse}
\DeclareOption{production}{\fintrue}
\DeclareOption{hyp}{\hyptrue}
\DeclareOption{yandy}{\yandytrue}
\DeclareOption{dvips}{}
\DeclareOption{a4paper}{\paperheight 297mm\paperwidth 210mm
  \textheight 54.5pc }
\DeclareOption{letterpaper}{\paperheight 11in\paperwidth 8.5in }
\DeclareOption{landscape}{\@tempdima\paperheight
  \paperheight\paperwidth \paperwidth\@tempdima}
\DeclareOption{portrait}{}
\DeclareOption{oneside}{\@twosidefalse \@mparswitchfalse}
\DeclareOption{twoside}{\@twosidetrue  \@mparswitchtrue}
\DeclareOption{draft}{\overfullrule5\p@ }
\DeclareOption{final}{\overfullrule\z@ }
\def\dateposted#1{\def\@dateposted{\ (#1)}}%
\let\@dateposted\@empty
\DeclareOption{e-only}{%
  \def\volinfo{Volume \currentvolume}%
  \dateposted{Xxxx XX, XXXX}%
}
\newif\if@titlepage
\DeclareOption{titlepage}{\@titlepagetrue}
\DeclareOption{notitlepage}{\@titlepagefalse}
\newif\if@openright
\DeclareOption{openright}{\@openrighttrue}
\DeclareOption{openany}{\@openrightfalse}
\DeclareOption{onecolumn}{\@twocolumnfalse}
\DeclareOption{twocolumn}{\@twocolumntrue}
\DeclareOption{nomath}{}
\DeclareOption{noamsfonts}{}
\DeclareOption{psamsfonts}{%
  \PassOptionsToPackage{psamsfonts}{amsfonts}%
  \PassOptionsToPackage{cmex10}{amsmath}}
\newif\iftagsleft@
\DeclareOption{leqno}{%
  \tagsleft@true \PassOptionsToPackage{leqno}{amsmath}}
\DeclareOption{reqno}{%
  \tagsleft@false \PassOptionsToPackage{reqno}{amsmath}}
\newif\ifctagsplit@
\DeclareOption{centertags}{%
  \ctagsplit@true \PassOptionsToPackage{centertags}{amsmath}}
\DeclareOption{tbtags}{%
  \ctagsplit@false \PassOptionsToPackage{tbtags}{amsmath}}
\DeclareOption{fleqn}{%
  \def\[{\relax
    \ifmmode\@badmath
    \else
      \begin{trivlist}%
      \@beginparpenalty\predisplaypenalty
      \@endparpenalty\postdisplaypenalty
      \item[]\leavevmode
      \hbox to\linewidth\bgroup$\displaystyle
      \hskip\mathindent\bgroup
    \fi}%
  \def\]{\relax
    \ifmmode
      \egroup \m@th$\hfil \egroup
      \end{trivlist}%
    \else \@badmath
    \fi}%
  \renewenvironment{equation}{%
    \@beginparpenalty\predisplaypenalty
    \@endparpenalty\postdisplaypenalty
    \refstepcounter{equation}%
    \@topsep\abovedisplayskip \trivlist
    \item[]\leavevmode
    \hbox to\linewidth\bgroup\hskip\mathindent$\displaystyle
  }{%
    \m@th$\hfil \displaywidth\linewidth \hbox{\@eqnnum}\egroup
    \endtrivlist
  }%
  \renewenvironment{eqnarray}{%
    \stepcounter{equation}\let\@currentlabel\theequation
    \global\@eqnswtrue \global\@eqcnt\z@ \tabskip\mathindent
    \let\\=\@eqncr \abovedisplayskip\topsep
    \ifvmode \advance\abovedisplayskip\partopsep \fi
    \belowdisplayskip\abovedisplayskip
    \belowdisplayshortskip\abovedisplayskip
    \abovedisplayshortskip\abovedisplayskip
    $$\everycr{}\halign to\linewidth\bgroup
      \hskip\@centering
      $\displaystyle\tabskip\z@skip####\m@th$&%
      \@eqnsel \global\@eqcnt\@ne
      \hfil${}####{}\m@th$\hfil&%
      \global\@eqcnt\tw@
      $\displaystyle ####\m@th$\hfil\tabskip\@centering&%
      \global\@eqcnt\thr@@
      \hbox to \z@\bgroup\hss####\egroup\tabskip\z@skip\cr
    }{%
      \@@eqncr \egroup \global\advance\c@equation\m@ne$$%
      \global\@ignoretrue
    }%
  \newdimen\mathindent \mathindent\leftmargini
}
\newcommand{\@mainsize}{10}
\newcommand{\@ptsize}{0}
\newcommand{\larger}[1][1]{%
  \count@\@currsizeindex \advance\count@#1\relax
  \ifnum\count@<\z@ \count@\z@ \else\ifnum\count@>12 \count@12 \fi\fi
  \ifcase\count@
    \Tiny\or\Tiny\or\tiny\or\SMALL\or\Small\or\small
    \or\normalsize
    \or\large\or\Large\or\LARGE\or\huge\or\Huge\else\Huge
  \fi
}
\newcommand{\smaller}[1][1]{\larger[-#1]}
\def\@adjustvertspacing{%
  \bigskipamount.7\baselineskip plus.7\baselineskip
  \medskipamount\bigskipamount \divide\medskipamount\tw@
  \smallskipamount\medskipamount \divide\smallskipamount\tw@
  \abovedisplayskip\medskipamount
  \belowdisplayskip \abovedisplayskip
  \abovedisplayshortskip\abovedisplayskip
  \advance\abovedisplayshortskip-1\abovedisplayskip
  \belowdisplayshortskip\abovedisplayshortskip
  \advance\belowdisplayshortskip 1\smallskipamount
  \jot\baselineskip \divide\jot 4 \relax
}
\renewcommand\normalsize{\@xsetfontsize\normalsize 6%
  \@adjustvertspacing \let\@listi\@listI}
\newcommand\Tiny{\@xsetfontsize\Tiny 1}
\newcommand\tiny{\@xsetfontsize\tiny 2}
\newcommand\SMALL{\@xsetfontsize\SMALL 3}
\newcommand\Small{\@xsetfontsize\Small 4%
  \@adjustvertspacing
  \def\@listi{\topsep\smallskipamount \parsep\z@skip \itemsep\z@skip}}
\newcommand\small{\@xsetfontsize\small 5\@adjustvertspacing}
\def\footnotesize{\Small}
\def\scriptsize{\SMALL}
\newcommand\large{\@xsetfontsize\large 7\@adjustvertspacing}
\newcommand\Large{\@xsetfontsize\Large 8\@adjustvertspacing}
\newcommand\LARGE{\@xsetfontsize\LARGE 9}
\newcommand\huge{\@xsetfontsize\huge{10}}
\newcommand\Huge{\@xsetfontsize\Huge{11}}
\def\@xsetfontsize#1#2{%
  \chardef\@currsizeindex#2\relax
  \edef\@tempa{\@nx\@setfontsize\@nx#1%
    \@xp\ifcase\@xp\@currsizeindex\@typesizes
      \else{99}{99}\fi}%
  \@tempa
}
\chardef\@currsizeindex=6
\widowpenalty=10000
\clubpenalty=10000
\brokenpenalty=10000
\newdimen\linespacing
\lineskip=1pt \lineskiplimit=1pt
\normallineskip=1pt \normallineskiplimit=1pt
\let\baselinestretch=\@empty
\headheight=10pt \headsep=16pt
\footskip=24pt
\textheight=50pc \topskip=10pt
\textwidth=30pc
\columnsep=10pt \columnseprule=0pt
\marginparwidth=90pt
\marginparsep=11pt
\marginparpush=5pt
\AtBeginDocument{\settoheight{\footnotesep}{\footnotesize M$^1$}}
\skip\footins=7pt plus11pt
\skip\@mpfootins=\skip\footins
\fboxsep=3pt \fboxrule=.4pt
\arrayrulewidth=.4pt    \doublerulesep=2pt
\labelsep=5pt           \arraycolsep=\labelsep
\tabcolsep=\labelsep    \tabbingsep=\labelsep
\floatsep=15pt plus 12pt    \dblfloatsep=15pt plus 12pt
\textfloatsep=\floatsep  \dbltextfloatsep=15pt plus 12pt
\intextsep=\floatsep
\@fptop=0pt plus1fil     \@dblfptop=0pt plus1fil
\@fpbot=0pt plus1fil     \@dblfpbot=0pt plus1fil
\@fpsep=8pt plus2fil     \@dblfpsep=8pt plus2fil\relax
\parskip=0pt \relax
\newdimen\normalparindent
\normalparindent=12pt
\parindent=\normalparindent
\partopsep=0pt \relax \parsep=0pt \relax \itemsep=0pt \relax
\@lowpenalty=51         \@medpenalty=151        \@highpenalty=301
\@beginparpenalty=-\@lowpenalty
\@endparpenalty=-\@lowpenalty
\@itempenalty=-\@lowpenalty
\DeclareOption{10pt}{\def\@mainsize{10}\def\@ptsize{0}%
  \def\@typesizes{%
    \or{5}{6}\or{6}{7}\or{7}{8}\or{8}{10}\or{9}{11}%
    \or{10}{12}% normalsize
    \or{\@xipt}{13}\or{\@xiipt}{14}\or{\@xivpt}{17}%
    \or{\@xviipt}{20}\or{\@xxpt}{24}}%
  \normalsize \linespacing=\baselineskip
}
\DeclareOption{11pt}{\def\@mainsize{11}\def\@ptsize{1}%
  \def\@typesizes{%
    \or{6}{7}\or{7}{8}\or{8}{10}\or{9}{11}\or{10}{12}%
    \or{\@xipt}{13}% normalsize
    \or{\@xiipt}{14}\or{\@xivpt}{17}\or{\@xviipt}{20}%
    \or{\@xxpt}{24}\or{\@xxvpt}{30}}%
  \normalsize \linespacing=\baselineskip
}
\DeclareOption{12pt}{\def\@mainsize{12}\def\@ptsize{2}%
  \def\@typesizes{%
    \or{7}{8}\or{8}{10}\or{9}{11}\or{10}{12}\or{\@xipt}{13}%
    \or{\@xiipt}{14}% normalsize
    \or{\@xivpt}{17}\or{\@xviipt}{20}\or{\@xxpt}{24}%
    \or{\@xxvpt}{30}\or{\@xxvpt}{30}}%
  \normalsize \linespacing=\baselineskip
}
\DeclareOption{8pt}{\def\@mainsize{8}\def\@ptsize{8}%
  \def\@typesizes{%
    \or{5}{6}\or{5}{6}\or{5}{6}\or{6}{7}\or{7}{8}%
    \or{8}{10}% normalsize
    \or{9}{11}\or{10}{12}\or{\@xipt}{13}%
    \or{\@xiipt}{14}\or{\@xivpt}{17}}%
  \normalsize \linespacing=\baselineskip
}
\DeclareOption{9pt}{\def\@mainsize{9}\def\@ptsize{9}%
  \def\@typesizes{%
    \or{5}{6}\or{5}{6}\or{6}{7}\or{7}{8}\or{8}{10}%
    \or{9}{11}% normalsize
    \or{10}{12}\or{\@xipt}{13}\or{\@xiipt}{14}%
    \or{\@xivpt}{17}\or{\@xviipt}{20}}%
  \normalsize \linespacing=\baselineskip
}
\def\ps@empty{\let\@mkboth\@gobbletwo
  \def\@oddhead{\hyper@anchor{page.\thepage}{}} \let\@evenhead\@oddhead
  \let\@oddfoot\@empty \let\@evenfoot\@empty
  \global\topskip\normaltopskip}
\def\ps@plain{\ps@empty
  \def\@oddfoot{\normalfont \hfil\thepage\hfil}% removed \scriptsize
  \let\@evenfoot\@oddfoot}
\def\ps@headings{\ps@empty
  \def\@evenhead{\normalfont\normalsize
\rlap{\hyper@anchor{page.\thepage}\thepage}\hfil \runhdfnt\leftmark{}{}\hfil}%
  \def\@oddhead{\normalsize\runhdfnt \hfil
 \rightmark{}{}\hfil \normalfont\llap{\hyper@anchor{page.\thepage}\thepage}}%
  \let\@mkboth\markboth
}
\let\sectionname\@empty
\let\subsectionname\@empty
\let\subsubsectionname\@empty
\let\paragraphname\@empty
\let\subparagraphname\@empty
\def\leftmark{\expandafter\@firstoftwo\topmark{}{}}
\def\rightmark{\expandafter\@secondoftwo\botmark{}{}}
\def\ps@firstpage{\ps@plain}
%  \def\@oddfoot{\normalfont \hfil\thepage\hfil % removed \scriptsize
%     \global\topskip\normaltopskip}%
%  \let\@evenfoot\@oddfoot
%  \def\@oddhead{\@serieslogo\hss}%
%  \let\@evenhead\@oddhead % in case an article starts on a left-hand page
%}
\long\def\@nilgobble#1\@nil{}
\def\markboth#1#2{%
  \begingroup
    \@temptokena{{#1}{#2}}\xdef\@themark{\the\@temptokena}%
    \mark{\the\@temptokena}%
  \endgroup
  \if@nobreak\ifvmode\nobreak\fi\fi}
\def\ps@myheadings{\ps@headings \let\@mkboth\@gobbletwo}
\newskip\normaltopskip
\normaltopskip=10pt \relax
\let\sectionmark\@gobble
\let\subsectionmark\@gobble
\let\subsubsectionmark\@gobble
\let\paragraphmark\@gobble

\DeclareOption{makeidx}{}
\input{amsgen.sty}
\ExecuteOptions{leqno,centertags,letterpaper,portrait,%
  10pt,twoside,onecolumn,final}
\ProcessOptions\relax
\if@compatibility
  \def\@tempa{\RequirePackage{amstex}\relax}
\else
  \@ifclasswith{\@classname}{nomath}{%
    \let\@tempa\relax
  }{%
    \def\@tempa{\RequirePackage{amsmath}\relax}%
  }%
\fi
\@tempa % load amstex.sty or amsmath.sty
\providecommand\numberwithin[2]{%
  \@ifundefined{c@#1}{\@nocounterr{#1}}{%
    \@ifundefined{c@#2}{\@nocounterr{#2}}{%
    \@addtoreset{#1}{#2}%
    \toks@\@xp\@xp\@xp{\csname the#1\endcsname}%
    \@xp\xdef\csname the#1\endcsname
      {\@xp\@nx\csname the#2\endcsname
       .\the\toks@}}}}
\if@compatibility
\else
  \@ifclasswith{\@classname}{noamsfonts}{%
    % amsfonts package is not wanted
  }{%
    % amsfonts package IS wanted; test whether a recent enough version
    % seems to be installed
    \begingroup \fontencoding{U}\fontfamily{msa}\try@load@fontshape\endgroup
    \global\@xp\let\csname U+msa\endcsname\relax % reset
    \@ifundefined{U/msa/m/n}{%
      \ClassError{\@classname}{%
  Package `amsfonts' not installed, or version too old?\MessageBreak
  Unable to get font info for the `msam' fonts in the expected form%
      }{%
  The amsfonts package will not be loaded, to avoid probable\MessageBreak
  incompatibility problems. You can (a) use the `noamsfonts'
      documentclass\MessageBreak
  option next time, or (b) check that the amsfonts package is
      installed\MessageBreak
  correctly, and is not too old to be compatible.%
      }%
    }{%
      \RequirePackage{amsfonts}[1995/01/01]\relax
    }%
  }
\fi % end yesamsfonts branch
\ifhyp  %%%%%%%%%%%%%%%%%%%%%% If using hypertex macros
\newcommand{\hyper@quote}{\string"}
\edef\hyper@hash{\string#}
\edef\hyperhash{\string#}
\newcommand{\hyper@link}[2]{%
\special{html:<a href=\hyper@quote#1\hyper@quote>}#2\special{html:</a>}}
\newcommand{\hyper@anchor}[1]{%
\special{html:<a name=\hyper@quote#1\hyper@quote>}\special{html:</a>}}
\newcommand{\anchor@ref}[2]{\hyper@link{\hyper@hash#1}{\mbox{#2}}}
\newcommand{\anchor@longref}[2]{\hyper@link{\hyper@hash#1}{#2}}
\else  %%%%%%%%%%%%%%%%%%%%%%% If not using hypertex macros
\newcommand{\hyper@link}[2]{#2}
\edef\hyperhash{}
\newcommand{\hyper@anchor}[1]{}
\newcommand{\anchor@ref}[2]{\mbox{#2}}
\newcommand{\anchor@longref}[2]{#2}
\fi    %%%%%%%%%%%%%%%%%%%%%%% End of conditional for for hypertex
\ifyandy
\def\bluetext#1{\special{color push}\special{color rgb 0 0 1}#1\special{color pop}}
\newcount\height
\newcount\width
\long\def\anchor@ref#1#2{\leavevmode\setbox0\hbox{#2}\height=\ht0\width=\wd0%
\special{button: \the\width\space \the\height\space #1}\bluetext{\box0}}
\long\def\anchor@longref#1#2{\leavevmode\setbox0\hbox{#2}\height=\ht0\width=\wd0%
\special{button: \the\width\space \the\height\space #1}\bluetext{\unhbox0}}
\def\hyper@anchor#1{\special{mark: #1}}
\def\hyper@link#1#2{\leavevmode\setbox0\hbox{#2}\height=\ht0\width=\wd0%
\special{button: \the\width\space \the\height\space #1}\bluetext{\unhbox0}}
\fi   %%%%%%%%%%%%%%%%%%%% End of conditional for yandy

\newcommand{\bib@link}[2]{\anchor@ref{bibcite#1}{#2}}
\newcommand{\bib@anchor}[1]{\hyper@anchor{bibcite#1}}
\newcommand{\hyperlink}[2]{\hyper@link{#1}{#2}}
\newcommand{\hlabel}[1]{\hyper@anchor{#1}}
\newcommand{\shlabel}[1]{\hyper@anchor{#1}{#1}}
\newcommand{\href}[2]{\anchor@ref{#1}{#2}}
\newcommand{\shref}[1]{\anchor@ref{#1}{#1}}
\newcommand{\shyperlink}[1]{\hyper@link{#1}{#1}}
%%@ Here are hypertex versions of various macros defined in the format
\def\@citex[#1]#2{%
  \let\@citea\@empty
  \@cite{\@for\@citeb:=#2\do
    {\@citea\def\@citea{,\penalty\@m\ }%
     \edef\@citeb{\expandafter\@iden\@citeb}%
     \if@filesw\immediate\write\@auxout{\string\citation{\@citeb}}\fi
     \@ifundefined{b@\@citeb}{{\reset@font\bfseries ?}%
       \G@refundefinedtrue\@latex@warning
       {Citation `\@citeb' on page \thepage \space undefined}}%
     {\hbox{\bib@link{\@citeb}{\csname b@\@citeb\endcsname}}}}}{#1}}

\def\@bibitem#1{\item\if@filesw \immediate\write\@auxout
       {\string\bibcite{#1}{\the\value{\@listctr}}}\fi%
     \hyper@anchor{bibcite#1}\ignorespaces}

\def\@lbibitem[#1]#2{\item[\@biblabel{\bib@anchor{#2}#1}\hfill]\if@filesw
      {\let\protect\noexpand
       \immediate
       \write\@auxout{\string\bibcite{#2}{#1}}}\fi\ignorespaces}

%\def\@setref#1#2#3{\ifx#1\relax
%    \protect\@noref{#3}%
%  \else
%    \anchor@ref{#3}{\protect\textup{\expandafter#2#1\hbox{}}}%
%  \fi}
\newcommand{\@noref}[1]{%
  \G@refundefinedtrue
  \nfss@text{\reset@font\bfseries ??}%
  \@latex@warning{Reference `#1' on page \thepage\space undefined}%
}

\def\old@setref#1#2#3{\ifx#1\relax
    \protect\@noref{#3}%
  \else
    \protect\textup{\expandafter#2#1\hbox{}}%
  \fi}

\def\page@setref#1#2#3{\ifx#1\relax
    \protect\@noref{#3}%
  \else
   \anchor@ref{page\expandafter#2#1}{\protect\textup{\expandafter#2#1\hbox{}}}%
  \fi}

\def\sectionlabel#1{\@bsphack
  \protected@write\@auxout{}%
         {\string\newlabel{#1}{{\@currentlabel}{\thepage}}}%
  \protected@write\@auxout{}%
         {\string\newlabel{sectionlabel@#1}{sectunit\thetoclink}}%
  \@esphack\hyper@anchor{#1}}
\def\@setref#1#2#3{\ifx#1\relax
    \protect\@noref{#3}%
  \else
  \@ifundefined{r@sectionlabel@#3}{\anchor@ref{#3}}{\anchor@ref{\csname r@sectionlabel@#3\endcsname}}%
  {\protect\textup{\expandafter#2#1\hbox{}}}%
  \fi}



\def\label#1{\@bsphack
  \protected@write\@auxout{}%
         {\string\newlabel{#1}{{\@currentlabel}{\thepage}}}%
  \@esphack\hyper@anchor{#1}}
  

\def\oldpageref#1{\expandafter\old@setref\csname r@#1\endcsname
                                   \@secondoftwo{#1}}


\def\pageref#1{\expandafter\page@setref\csname r@#1\endcsname
                                   \@secondoftwo{#1}}

\newcounter{totfootns}

\def\footnote{\stepcounter{totfootns}\@ifnextchar[\@xfootnote{\stepcounter\@mpfn
     \protected@xdef\@thefnmark{\thempfn}%
     \h@footnotemark\h@footnotetext}}

\def\@xfootnote[#1]{%
   \begingroup 
     \csname c@\@mpfn\endcsname #1\relax
     \unrestored@protected@xdef\@thefnmark{\thempfn}%
   \endgroup
   \h@footnotemark\@hfootnotetext}

\long\def\h@footnotetext#1{\insert\footins{%
  \normalfont\footnotesize
  \interlinepenalty\interfootnotelinepenalty
  \splittopskip\footnotesep \splitmaxdepth \dp\strutbox
  \floatingpenalty\@MM \hsize\columnwidth
  \@parboxrestore \parindent\normalparindent \sloppy
  \edef\@currentlabel{\p@footnote\@thefnmark}%
  \@makefntext{\rule\z@\footnotesep\ignorespaces%
\hyper@anchor{footnote\thetotfootns}#1\unskip\strut\par}}}

\def\h@footnotemark{%
  \leavevmode
  \ifhmode\edef\@x@sf{\the\spacefactor}\nobreak\fi
  \anchor@ref{footnote\thetotfootns}{\@makefnmark}
  \ifhmode\spacefactor\@x@sf\fi
  \relax}

%% End of redefinitions for hypertex

\newcommand{\uppercasenonmath}[1]{\toks@\@emptytoks
  \@xp\@skipmath\@xp\@empty#1$$%
  \edef#1{\@nx\@upprep\the\toks@}%
}
\newcommand{\@upprep}{%
  \spaceskip1.3\fontdimen2\font plus1.3\fontdimen3\font
  \upchars@}
\newcommand{\upchars@}{%
  \def\ss{SS}\def\i{I}\def\j{J}\def\ae{\AE}\def\oe{\OE}%
  \def\o{\O}\def\aa{\AA}\def\l{\L}\def\Mc{M{\scshape c}}}
\newcommand{\@skipmath}{}
\long\def\@skipmath#1$#2${%
  \@xskipmath#1\(\)%
  \@ifnotempty{#2}{\toks@\@xp{\the\toks@$#2$}\@skipmath\@empty}}%
\newcommand{\@xskipmath}{}
\long\def\@xskipmath#1\(#2\){%
  \uppercase{\toks@\@xp\@xp\@xp{\@xp\the\@xp\toks@#1}}%
  \@ifnotempty{#2}{\toks@\@xp{\the\toks@\(#2\)}\@xskipmath\@empty}}%
\newcommand{\today}{%
  \relax\ifcase\month\or
  January\or February\or March\or April\or May\or June\or
  July\or August\or September\or October\or November\or December\fi
  \space\number\day, \number\year}
\DeclareOldFontCommand{\rm}{\normalfont\rmfamily}{\mathrm}
\DeclareOldFontCommand{\sf}{\normalfont\sffamily}{\mathsf}
\DeclareOldFontCommand{\tt}{\normalfont\ttfamily}{\mathtt}
\DeclareOldFontCommand{\bf}{\normalfont\bfseries}{\mathbf}
\DeclareOldFontCommand{\it}{\normalfont\itshape}{\mathit}
\DeclareOldFontCommand{\sl}{\normalfont\slshape}{\@nomath\sl}
\DeclareOldFontCommand{\sc}{\normalfont\scshape}{\@nomath\sc}
\renewcommand*{\title}[2][]{\gdef\shorttitle{#1}\gdef\@title{#2}}
\edef\title{\@nx\@dblarg
  \@xp\@nx\csname\string\title\endcsname}
\renewcommand{\author}[2][]{%
  \ifx\@empty\authors
    \gdef\shortauthors{#1}\gdef\authors{#2}%
  \else
    \g@addto@macro\shortauthors{\and#1}%
    \g@addto@macro\authors{\and#2}%
    \g@addto@macro\addresses{\author{}}%
  \fi
}
\newcommand{\papnum}[1]{\def\papnumber{#1}}
\edef\author{\@nx\@dblarg
  \@xp\@nx\csname\string\author\endcsname}
\let\shortauthors\@empty   \let\authors\@empty
\let\addresses\@empty      \let\thankses\@empty \let\papernum\@empty
\newcommand{\address}[2][]{\g@addto@macro\addresses{\address{#1}{#2}}}
\newcommand{\curraddr}[2][]{\g@addto@macro\addresses{\curraddr{#1}{#2}}}
\newcommand{\email}[2][]{\g@addto@macro\addresses{\email{#1}{#2}}}
\newcommand{\urladdr}[2][]{\g@addto@macro\addresses{\urladdr{#1}{#2}}}
\renewcommand{\thanks}[1]{\g@addto@macro\thankses{\thanks{#1}}}
\def\enddoc@text{\ifx\@empty\@translators \else\@settranslators\fi
  \ifx\@empty\addresses \else\@setaddresses\fi \iffin\@setpaphomepage\fi
\iffin\label{finalpage}\fi}
\AtEndDocument{\enddoc@text}
\def\@setaddresses{\par
  \nobreak \begingroup
\footnotesize
  \def\author##1{\nobreak\addvspace\bigskipamount}%
  \def\\{\unskip, \ignorespaces}%
  \interlinepenalty\@M
  \def\address##1##2{\begingroup
    \par\addvspace\bigskipamount\indent
    \@ifnotempty{##1}{(\ignorespaces##1\unskip) }%
    {\scshape\ignorespaces##2}\par\endgroup}%
  \def\curraddr##1##2{\begingroup
    \@ifnotempty{##2}{\nobreak\indent{\itshape Current address}%
      \@ifnotempty{##1}{, \ignorespaces##1\unskip}\/:\space
      ##2\par\endgroup}}%
  \def\email##1##2{\begingroup
    \@ifnotempty{##2}{\nobreak\indent%{\itshape E-mail address}%
      \@ifnotempty{##1}{\ignorespaces##1\unskip\/:\space}%
      ##2\par\endgroup}}%
  \def\urladdr##1##2{\begingroup
    \@ifnotempty{##2}{\nobreak\indent%{\itshape URL}%
      \@ifnotempty{##1}{\ignorespaces##1\unskip\/:\space}%
      \url{##2}\par\endgroup}}%
  \addresses
  \endgroup
}
\let\@date\@empty
\newcommand\recdate[1]{\gdef\@recdate{#1}}
\let\@recdate\@empty
\def\dedicatory#1{\def\@dedicatory{#1}}
\let\@dedicatory=\@empty
\def\keywords#1{\def\@keywords{#1}}
\let\@keywords=\@empty
\def\subjclass#1{\def\@subjclass{#1}}
\let\@subjclass=\@empty
\def\commby#1{\def\@commby{(Communicated by #1)}}
\let\@commby=\@empty
\def\translator#1{%
  \ifx\@empty\@translators \def\@translators{#1}%
  \else\g@addto@macro\@translators{\and#1}\fi}
\let\@translators=\@empty
\def\@settranslators{\par\begingroup
  \addvspace{6\p@\@plus9\p@}%
  \hbox to\columnwidth{\hss\normalfont\normalsize
    Translated by %
    \andify\@translators %\uppercasenonmath\@translators
    \@translators}
  \endgroup
}
\newcommand{\xandlist}[4]{\@andlista{{#1}{#2}{#3}}#4\and\and}
\def\@andlista#1#2\and#3\and{\@andlistc{#2}\@ifnotempty{#3}{%
  \@andlistb#1{#3}}}
\def\@andlistb#1#2#3#4#5\and{%
  \@ifempty{#5}{%
    \@andlistc{#2#4}%
  }{%
    \@andlistc{#1#4}\@andlistb{#1}{#3}{#3}{#5}%
  }}
\let\@andlistc\@iden
\newcommand{\nxandlist}[4]{%
  \def\@andlistc##1{\toks@\@xp{\the\toks@##1}}%
  \toks@{\toks@\@emptytoks \@andlista{{#1}{#2}{#3}}}%
  \the\@xp\toks@#4\and\and
  \edef#4{\the\toks@}%
  \let\@andlistc\@iden}
\newcommand{\andify}{%
  \nxandlist{\unskip, }{\unskip{} and~}{\unskip, and~}}
\def\and{\unskip{ }and \ignorespaces}
\def\maketitle{\par
  \@topnum\z@ % this prevents figures from falling at the top of page 1
  \ifx\@empty\shortauthors \let\shortauthors\shorttitle
  \else \andify\shortauthors \fi 
  \@maketitle@hook
  \begingroup
  \@maketitle
  \toks@\@xp{\shortauthors}\@temptokena\@xp{\shorttitle}%
  \edef\@tempa{\@nx\markboth{\the\toks@}{\the\@temptokena}}\@tempa
  \endgroup
  \thispagestyle{firstpage}% this sets first page specifications
  \c@footnote\z@
  \def\do##1{\let##1\relax}%
  \do\maketitle \do\@maketitle \do\title \do\@xtitle \do\@title
  \do\author \do\@xauthor \do\address \do\@xaddress
  \do\email \do\@xemail \do\curraddr \do\@xcurraddr
  \do\commby \do\@commby
  \do\dedicatory \do\@dedicatory \do\thanks \do\thankses
  \do\keywords \do\@keywords \do\subjclass \do\@subjclass
}
\def\@maketitle@hook{\global\let\@maketitle@hook\@empty}
\def\@setrecdate{\ifx\@empty\@recdate%
         \@footnotetext{\bfseries Please supply date!}
         \else\@footnotetext{Received \@recdate.}\fi}
\def\@maketitle{%
  \normalfont\normalsize
  \let\@makefnmark\relax  \let\@thefnmark\relax
  \ifpub\iffin\@setrecdate\else\@footnotetext{\phantom{Received}}\fi\fi
  \ifpub\else \ifx\@empty\@date\else \@footnotetext{\@setdate}\fi\fi
  \ifx\@empty\@subjclass\else \@footnotetext{\@setsubjclass}\fi
  \ifx\@empty\@keywords\else \@footnotetext{\@setkeywords}\fi
  \ifx\@empty\thankses\else \@footnotetext{%
    \def\par{\let\par\@par}\@setthanks}\fi
  \@mkboth{\@nx\shortauthors}{\@nx\shorttitle}%
  \global\topskip42\p@\relax % 5.5pc   "   "   "     "     "
  \@settitle
  \ifx\@empty\authors \else \@setauthors \fi
  \ifx\@empty\@dedicatory
  \else
    \baselineskip18\p@
    \vtop{\centering{\footnotesize\itshape\@dedicatory\@@par}%
      \global\dimen@i\prevdepth}\prevdepth\dimen@i
  \fi
  \@setabstract
  \normalsize
  \if@titlepage
    \newpage
  \else
    \dimen@20\p@ \advance\dimen@-\baselineskip
    \vskip\dimen@ plus 14\p@\relax
  \fi
} % end \@maketitle
\@ifundefined{ISSN}{\def\ISSN{0000-0000}}{}
\newcommand\PII[1]{\def\@PII{#1}}
\PII{S \ISSN(XX)0000-0}
\newinsert\copyins
\skip\copyins=1.5pc
\count\copyins=1000 % magnification factor, 1000 = 100%
\dimen\copyins=.5\textheight % maximum allowed per page
\def\@combinefloats{%
  \ifx \@toplist\@empty \else \@cflt \fi
  \ifx \@botlist\@empty \else \@cflb \fi
  \ifvoid\copyins \else \@cflci \fi
}
\newcommand{\abstractname}{Abstract}
\newcommand{\keywordsname}{Key words and phrases}
\newcommand{\subjclassname}{Mathematics Subject
     Classification}
\def\@tempb{nyj}
\ifx\@classname\@tempb
  \newcommand{\datename}{Date}
\else
  \newcommand{\datename}{Received}
\fi
\def\@settitle{\begin{center}\LARGE\bfseries\mathversion{bold}\@title\end{center}}
\def\@setauthors{%
  \begingroup
  \trivlist
  \centering\footnotesize \@topsep28\p@\relax
  \advance\@topsep by -\baselineskip
  \item\relax
  \andify\authors \Large\bfseries
  \leavevmode\authors
  \endtrivlist
  \endgroup
}
\def\@setdate{\datename\ \@date\@addpunct.}
\def\@setsubjclass{%
  {\itshape\subjclassname.}\enspace\@subjclass\@addpunct.}
\def\@setkeywords{%
  {\itshape \keywordsname.}\enspace \@keywords\@addpunct.}
\def\@setthanks{\def\thanks##1{\par##1\@addpunct.}\thankses}
\newbox\abstractbox
\newenvironment{abstract}{%
  \ifx\maketitle\relax
    \ClassWarning{\@classname}{Abstract should precede
      \protect\maketitle\space in AMS documentclasses; reported}%
  \fi
  \global\setbox\abstractbox=\vtop \bgroup
  \normalfont\Small
  \Small
  \list{}{\labelwidth\z@
    \leftmargin3pc \rightmargin\leftmargin
    \listparindent\normalparindent \itemindent\z@
    \parsep\z@ \@plus\p@
    \let\fullwidthdisplay\relax
    }%
  \item[\hskip\labelsep\scshape\abstractname.]%
}{%
  \endlist\egroup
  \ifx\@setabstract\relax \@setabstracta \fi
}
\def\@setabstract{\@setabstracta \global\let\@setabstract\relax}
\def\@setabstracta{%
  \ifvoid\abstractbox
  \else
    \skip@24\p@ plus 10\p@ \advance\skip@-\lastskip
    \advance\skip@-\baselineskip \vskip\skip@
    \box\abstractbox
    \prevdepth\z@ % because \abstractbox is a vtop
  \fi
}
\def\titlepage{%
  \clearpage
  \thispagestyle{empty}\setcounter{page}{0}}
\def\endtitlepage{\newpage}
\def\labelenumi{\theenumi.}
\def\theenumi{\@arabic\c@enumi}
\def\labelenumii{\theenumii)}
\def\theenumii{\@alph\c@enumii}
\def\p@enumii{\theenumi}
\def\labelenumiii{(\theenumiii)}
\def\theenumiii{\@roman\c@enumiii}
\def\p@enumiii{\theenumi(\theenumii)}
\def\labelenumiv{(\theenumiv)}
\def\theenumiv{\@Alph\c@enumiv}
\def\p@enumiv{\p@enumiii\theenumiii}
\def\labelitemi{$\m@th\bullet$}
\def\labelitemii{\bfseries --}% \upshape already done by \itemize
\def\labelitemiii{$\m@th\ast$}
\def\labelitemiv{$\m@th\cdot$}
\newenvironment{verse}{\let\\\@centercr
  \list{}{\itemsep\z@ \itemindent -1.5em\listparindent\itemindent
  \rightmargin\leftmargin \advance\leftmargin 1.5em}\item[]%
}{%
  \endlist
}
\let\endverse=\endlist % for efficiency
\newenvironment{quotation}{\list{}{%
    \leftmargin3pc \listparindent\normalparindent
    \itemindent\z@
    \rightmargin\leftmargin \parsep\z@ \@plus\p@}%
  \item[]%
}{%
  \endlist
}
\let\endquotation=\endlist % for efficiency
\newenvironment{quote}{%
  \list{}{\rightmargin\leftmargin}\item[]%
}{%
  \endlist
}
\let\endquote=\endlist % for efficiency
\def\trivlist{\parsep\parskip\@nmbrlistfalse
  \@trivlist \labelwidth\z@ \leftmargin\z@
  \itemindent\z@
  \let\@itemlabel\@empty
  \def\makelabel##1{\upshape##1}}
\renewenvironment{enumerate}{%
  \ifnum \@enumdepth >3 \@toodeep\else
      \advance\@enumdepth \@ne
      \edef\@enumctr{enum\romannumeral\the\@enumdepth}\list
      {\csname label\@enumctr\endcsname}{\usecounter
        {\@enumctr}\def\makelabel##1{\hss\llap{\upshape##1}}}\fi
}{%
  \endlist
}
\let\endenumerate=\endlist % for efficiency
\renewenvironment{itemize}{%
  \ifnum\@itemdepth>3 \@toodeep
  \else \advance\@itemdepth\@ne
    \edef\@itemitem{labelitem\romannumeral\the\@itemdepth}%
    \list{\csname\@itemitem\endcsname}%
      {\def\makelabel##1{\hss\llap{\upshape##1}}}%
  \fi
}{%
  \endlist
}
\let\enditemize=\endlist % for efficiency
\newcommand{\descriptionlabel}[1]{\hspace\labelsep \upshape\bfseries #1:}
\newenvironment{description}{\list{}{%
  \advance\leftmargini6\p@ \itemindent-12\p@
  \labelwidth\z@ \let\makelabel\descriptionlabel}%
}{
  \endlist
}
\let\enddescription=\endlist % for efficiency
\let\upn=\textup
\AtBeginDocument{%
  \settowidth\leftmargini{\labelenumi\hskip\labelsep}%
  \advance\leftmargini by \normalparindent
  \settowidth\leftmarginii{\labelenumii\hskip\labelsep}%
  \advance\leftmarginii by 6pt
  \settowidth\leftmarginiii{\labelenumiii\hskip\labelsep}%
  \advance\leftmarginiii by 6pt
  \settowidth\leftmarginiv{\labelenumiv\hskip\labelsep}%
  \advance\leftmarginiv by 10pt
  \leftmarginv=10pt
  \leftmarginvi=10pt
  \leftmargin=\leftmargini
  \labelsep=5pt
  \labelwidth=\leftmargini \advance\labelwidth-\labelsep
  \@listi}
\newskip\listisep
\listisep\smallskipamount
\def\@listI{\leftmargin\leftmargini \parsep\z@skip
  \topsep\listisep \itemsep\z@skip
  \listparindent\normalparindent}
\let\@listi\@listI
\def\@listii{\leftmargin\leftmarginii
  \labelwidth\leftmarginii \advance\labelwidth-\labelsep
  \topsep\z@skip \parsep\z@skip \partopsep\z@skip \itemsep\z@skip}
\def\@listiii{\leftmargin\leftmarginiii
  \labelwidth\leftmarginiii \advance\labelwidth-\labelsep}
\def\@listiv{\leftmargin\leftmarginiv
  \labelwidth\leftmarginiv \advance\labelwidth-\labelsep}
\def\@listv{\leftmargin\leftmarginv
  \labelwidth\leftmarginv \advance\labelwidth-\labelsep}
\def\@listvi{\leftmargin\leftmarginvi
  \labelwidth\leftmarginvi \advance\labelwidth-\labelsep}
\def\@startsection#1#2#3#4#5#6{%
 \if@noskipsec \leavevmode \fi
 \par \@tempskipa #4\relax
 \@afterindenttrue
 \ifdim \@tempskipa <\z@ \@tempskipa -\@tempskipa \@afterindentfalse\fi
 \if@nobreak \everypar{}\else
     \addpenalty\@secpenalty\addvspace\@tempskipa\fi
 \@ifstar{\@dblarg{\@sect{#1}{\@m}{#3}{#4}{#5}{#6}}}%
         {\@dblarg{\@sect{#1}{#2}{#3}{#4}{#5}{#6}}}%
}
\def\@secnumfont{\mdseries}
\setcounter{tocdepth}{2}
\newcounter{toclink}\setcounter{toclink}{\m@ne}
\def\@sect#1#2#3#4#5#6[#7]#8{\stepcounter{toclink}%
  \edef\@toclevel{\ifnum#2=\@m 0\else\number#2\fi}%
  \ifnum #2>\c@secnumdepth \let\@secnumber\@empty
  \else \@xp\let\@xp\@secnumber\csname the#1\endcsname\fi
 \ifnum #2>\c@secnumdepth
   \let\@svsec\@empty
 \else
    \refstepcounter{#1}%
    \edef\@svsec{\ifnum#2<\@m
       \@ifundefined{#1name}{}{%
         \ignorespaces\csname #1name\endcsname\space}\fi
       \@nx\textup{%
      \@nx\@secnumfont
         \csname the#1\endcsname.}\enspace
    }%
  \fi
  \@tempskipa #5\relax
  \ifdim \@tempskipa>\z@ % then this is not a run-in section heading
    \begingroup #6\relax\hyper@anchor{sectunit\thetoclink}%
    \@hangfrom{\hskip #3\relax\@svsec}{\interlinepenalty\@M #8\par}%
    \endgroup
    \ifnum#2>\@m \else \@tocwrite{#1}{\protect\anchor@longref{sectunit\thetoclink}{#7}}\fi
  \else
  \def\@svsechd{\hyper@anchor{sectunit\thetoclink}#6\hskip #3\@svsec
    \@ifnotempty{#8}{\ignorespaces#8\unskip
       \@addpunct.}%
        \ifnum#2>\c@tocdepth \else 
     \@tocwrite{#1}{\protect\anchor@longref{sectunit\thetoclink}{#7}}\fi
  }%
  \fi
  \global\@nobreaktrue
  \@xsect{#5}}
\let\@ssect\relax
\newcounter{part}
\newcounter{section}
\newcounter{subsection}[section]
\newcounter{subsubsection}[subsection]
\newcounter{paragraph}[subsubsection]
\renewcommand\thepart          {\Roman{part}}
\renewcommand\thesection       {\arabic{section}}
\renewcommand\thesubsection    {\thesection.\arabic{subsection}}
\renewcommand\thesubsubsection {\thesubsection .\arabic{subsubsection}}
\renewcommand\theparagraph     {\thesubsubsection.\arabic{paragraph}}
\setcounter{secnumdepth}{3}
\def\partname{Part}
\def\part{\@startsection{part}{0}%
  \z@{\linespacing\@plus\linespacing}{.5\linespacing}%
  {\normalfont\Large\bfseries\mathversion{bold}\centering}}
\def\specialsection{\@startsection{section}{1}%
  \z@{\linespacing\@plus\linespacing}{.5\linespacing}%
  {\normalfont\Large\bfseries\mathversion{bold}\raggedright}}
\def\section{\@startsection{section}{1}%
  \z@{.7\linespacing\@plus\linespacing}{.5\linespacing}%
  {\normalfont\Large\bfseries\mathversion{bold}\raggedright}}
\def\subsection{\@startsection{subsection}{2}%
  \z@{.5\linespacing\@plus.7\linespacing}{-.5em}%
  {\normalfont\bfseries\mathversion{bold}}}
\def\subsubsection{\@startsection{subsubsection}{3}%
  \z@{.5\linespacing\@plus.7\linespacing}{-.5em}%
  {\normalfont\scshape}}
\def\paragraph{\@startsection{paragraph}{4}%
  \z@\z@{-\fontdimen2\font}%
  {\normalfont\itshape}}
\def\subparagraph{\@startsection{subparagraph}{5}%
  \z@\z@{-\fontdimen2\font}%
  {\normalfont}}
\def\appendix{\par\c@section\z@ \c@subsection\z@
   \let\sectionname\appendixname
   \def\thesection{\@Alph\c@section}}
\def\appendixname{Appendix}
\def\@Roman#1{\@xp\@slowromancap
  \romannumeral#1@}%
\def\@slowromancap#1{\ifx @#1% then terminate
  \else
    \if i#1I\else\if v#1V\else\if x#1X\else\if l#1L\else\if
    c#1C\else\if m#1M\else#1\fi\fi\fi\fi\fi\fi
    \@xp\@slowromancap
  \fi
}
\newcommand{\@pnumwidth}{1.6em}
\newcommand{\@tocrmarg}{2.6em}
\setcounter{tocdepth}{2}
\def\@starttoc#1#2{\begingroup
  \par\removelastskip\vskip\z@skip
  \@startsection{}\@M\z@{\linespacing\@plus\linespacing}%
    {.5\linespacing}{\centering\scshape}{#2}%
  \ifx\contentsname#2%
  \else \addcontentsline{toc}{section}{#2}\fi
  \makeatletter
  \@input{\jobname.#1}%
  \if@filesw
    \@xp\newwrite\csname tf@#1\endcsname
    \immediate\@xp\openout\csname tf@#1\endcsname \jobname.#1\relax
  \fi
  \global\@nobreakfalse \endgroup
  \addvspace{20\p@\@plus14\p@}%
  \let\tableofcontents\relax
}
\def\contentsname{Contents}
\def\listfigurename{List of Figures}
\def\listtablename{List of Tables}
\def\tableofcontents{\@starttoc{toc}\contentsname}
\def\listoffigures{\@starttoc{lof}\listfigurename}
\def\listoftables{\@starttoc{lot}\listtablename}
\AtBeginDocument{%
  \@for\@tempa:=-1,0,1,2,3\do{%
    \@ifundefined{r@tocindent\@tempa}{%
      \@xp\gdef\csname r@tocindent\@tempa\endcsname{0pt}}{}%
  }%
}
\def\@writetocindents{%
  \begingroup
  \@for\@tempa:=-1,0,1,2,3\do{%
    \immediate\write\@auxout{%
      \string\newlabel{tocindent\@tempa}{%
        \csname r@tocindent\@tempa\endcsname}}%
  }%
  \endgroup}
\AtEndDocument{\@writetocindents}

\let\indentlabel\@empty
\def\@tochangmeasure#1{\sbox\z@{#1}%
  \ifdim\wd\z@>\csname r@tocindent\@toclevel\endcsname\relax
    \@xp\xdef\csname r@tocindent\@toclevel\endcsname{\the\wd\z@}%
  \fi
}
\def\@toclevel{0}
\def\@tocline#1#2#3#4#5#6#7{\relax
  \ifnum #1>\c@tocdepth % then omit
  \else
    \par \addpenalty\@secpenalty\addvspace{#2}%
    \begingroup \hyphenpenalty\@M
    \@ifempty{#4}{%
      \@tempdima\csname r@tocindent\number#1\endcsname\relax
    }{%
      \@tempdima#4\relax
    }%
    \parindent\z@ \leftskip#3\relax \advance\leftskip\@tempdima\relax
    \rightskip\@pnumwidth plus1em \parfillskip-\@pnumwidth
    #5\leavevmode\hskip-\@tempdima #6\relax
    \hfil\hbox to\@pnumwidth{\@tocpagenum{#7}}\par
    \nobreak
    \endgroup
  \fi}
\def\@tocpagenum#1{\hss{\mdseries #1}}
\def\@tocwrite#1{\@xp\@tocwriteb\csname toc#1\endcsname{#1}}
\def\@tocwriteb#1#2#3{%
  \begingroup
    \def\@tocline##1##2##3##4##5##6{%
      \ifnum##1>\c@tocdepth
      \else \sbox\z@{##5\let\indentlabel\@tochangmeasure##6}\fi}%
    \csname l@#2\endcsname{#1{\csname#2name\endcsname}{\@secnumber}{}}%
  \endgroup
  \addcontentsline{toc}{#2}%
    {\protect#1{\csname#2name\endcsname}{\@secnumber}{#3}}}
\def\l@section{\@tocline{1}{2pt}{1pc}{}{}}
\newcommand{\tocsection}[3]{%
  \indentlabel{\@ifnotempty{#2}{\ignorespaces#1 #2.\quad}}#3}
\def\l@subsection{\@tocline{2}{2pt}{3pc}{5pc}{}}
\let\tocsubsection\tocsection
\def\l@subsubsection{\@tocline{3}{2pt}{5pc}{7pc}{}}
\let\tocparagraph\tocsection
\let\tocsubsubsection\tocsection
\def\l@part{\@tocline{-1}{12pt plus2pt}{0pt}{}{\bfseries}}
\let\tocpart\tocsection
\def\l@chapter{\@tocline{0}{8pt plus1pt}{0pt}{}{}}
\let\tocchapter\tocsection
\let\tocappendix\tocchapter
\def\l@figure{\@tocline{0}{3pt plus2pt}{0pt}{}{}}
\let\l@table=\l@figure
\def\refname{References}
\def\bibname{Bibliography}
\def\bibliographystyle#1{%
   \if@filesw\immediate\write\@auxout
    {\string\bibstyle{#1}}\fi
        \def\@tempa{#1}%
        \def\@tempb{amsplain}%
        \def\@tempc{}%
        \ifx\@tempa\@tempb
                \def\@biblabel##1{##1.}%
                \def\bibsetup{}%
        \else
                \def\bibsetup{\labelsep6\p@}%
        \ifx\@tempa\@tempc
                \def\@biblabel##1{}%
                \def\bibsetup{\labelwidth\z@ \leftmargin24\p@
                \itemindent-24\p@
                          \labelsep\z@ }%
        \fi
\fi}
\newenvironment{thebibliography}[1]{%
  \@xp\section\@xp*\@xp{\refname}%
  \normalfont\footnotesize\labelsep .5em\relax
  \renewcommand\theenumiv{\arabic{enumiv}}\let\p@enumiv\@empty
  \list{\@biblabel{\theenumiv}}{\settowidth\labelwidth{\@biblabel{#1}}%
    \leftmargin\labelwidth \advance\leftmargin\labelsep
    \usecounter{enumiv}}%
  \sloppy \clubpenalty\@M \widowpenalty\clubpenalty
  \sfcode`\.=\@m
}{%
  \def\@noitemerr{\@latex@warning{Empty `thebibliography' environment}}%
  \endlist
}
\def\bysame{\leavevmode\hbox to3em{\hrulefill}\thinspace}
\def\newblock{}
\newcommand\MR[1]{\relax\ifhmode\unskip\spacefactor3000 \space\fi
  \def\@tempa##1:##2:##3\@nil{%
    \ifx @##2\@empty##1\else\textbf{##1:}##2\fi}%
  \MRhref{#1}{MR \@tempa#1:@:\@nil}}
\newcommand\URL{\begingroup
  \def\@sverb##1{%
    \def\@tempa####1##1{\@URL{####1}\egroup\endgroup}%
    \@tempa}%
  \verb}
\let\URLhref\@gobble
\def\@URL#1{\URLhref{#1}#1}
\newif\if@restonecol
\def\theindex{\@restonecoltrue\if@twocolumn\@restonecolfalse\fi
  \columnseprule\z@ \columnsep 35\p@
  \twocolumn[\@xp\section\@xp*\@xp{\indexname}]%
  \thispagestyle{plain}%
  \let\item\@idxitem
  \parindent\z@  \parskip\z@\@plus.3\p@\relax
  \footnotesize}
\def\indexname{Index}
\def\@idxitem{\par\hangindent 2em}
\def\subitem{\par\hangindent 2em\hspace*{1em}}
\def\subsubitem{\par\hangindent 3em\hspace*{2em}}
\def\endtheindex{\if@restonecol\onecolumn\else\clearpage\fi}
\def\indexspace{\par\bigskip}
\def\footnoterule{\kern-.4\p@
        \hrule\@width 5pc\kern11\p@\kern-\footnotesep}
\def\@makefnmark{\hbox{$\m@th^{\@thefnmark}$}}
\def\@makefntext{\indent\@makefnmark}
\long\def\@footnotetext#1{\insert\footins{%
  \normalfont\footnotesize
  \interlinepenalty\interfootnotelinepenalty
  \splittopskip\footnotesep \splitmaxdepth \dp\strutbox
  \floatingpenalty\@MM \hsize\columnwidth
  \@parboxrestore \parindent\normalparindent \sloppy
  \edef\@currentlabel{\p@footnote\@thefnmark}%
  \@makefntext{\rule\z@\footnotesep\ignorespaces#1\unskip\strut\par}}}
\hfuzz=1pt \vfuzz=\hfuzz
\def\sloppy{\tolerance9999 \emergencystretch 3em\relax}
\setcounter{topnumber}{4}
\setcounter{bottomnumber}{4}
\setcounter{totalnumber}{4}
\setcounter{dbltopnumber}{4}
\renewcommand{\topfraction}{.97}
\renewcommand{\bottomfraction}{.97}
\renewcommand{\textfraction}{.03}
\renewcommand{\floatpagefraction}{.9}
\renewcommand{\dbltopfraction}{.97}
\renewcommand{\dblfloatpagefraction}{.9}
\setlength{\floatsep}{12pt plus 6pt minus 4pt}
\setlength{\textfloatsep}{15pt plus 8pt minus 5pt}
\setlength{\intextsep}{12pt plus 6pt minus 4pt}
\setlength{\dblfloatsep}{12pt plus 6pt minus 4pt}
\setlength{\dbltextfloatsep}{15pt plus 8pt minus 5pt}
\setlength{\@fptop}{0pt}% removed ``plus 1fil''
\setlength{\@fpsep}{8pt}% removed ``plus 2fil''
\setlength{\@fpbot}{0pt plus 1fil}
\setlength{\@dblfptop}{0pt}% removed ``plus 1fil''
\setlength{\@dblfpsep}{8pt}% removed ``plus 2fil''
\setlength{\@dblfpbot}{0pt plus 1fil}
\newcommand{\fps@figure}{tbp}
\newcommand{\fps@table}{tbp}
\newcounter{figure}
\def\@captionheadfont{\scshape}
\def\@captionfont{\normalfont}
\def\ftype@figure{1}
\def\ext@figure{lof}
\def\fnum@figure{\figurename\ \thefigure}
\def\figurename{Figure}
\newenvironment{figure}{%
  \@float{figure}%
}{%
  \end@float
}
\newcounter{table}
\def\ftype@table{2}
\def\ext@table{lot}
\def\fnum@table{\tablename\ \thetable}
\def\tablename{Table}
\newenvironment{table}{%
  \@float{table}%
}{%
  \end@float
}
\def\@floatboxreset{\global\@minipagefalse \centering}
\long\def\@makecaption#1#2{%
  \setbox\@tempboxa\vbox{\color@setgroup
    \advance\hsize-2\captionindent\noindent
    \@captionfont\@captionheadfont#1\@xp\@ifnotempty\@xp
        {\@cdr#2\@nil}{.\@captionfont\upshape\enspace#2}%
    \unskip\kern-2\captionindent\par
    \global\setbox\@ne\lastbox\color@endgroup}%
  \ifhbox\@ne % the normal case
    \setbox\@ne\hbox{\unhbox\@ne\unskip\unskip\unpenalty\unkern}%
  \fi
  \ifdim\wd\@tempboxa=\z@ % this means caption will fit on one line
    \setbox\@ne\hbox to\columnwidth{\hss\kern-2\captionindent\box\@ne\hss}%
  \else % tempboxa contained more than one line
    \setbox\@ne\vbox{\unvbox\@tempboxa\parskip\z@skip
        \noindent\unhbox\@ne\advance\hsize-2\captionindent\par}%
\fi
  \ifnum\@tempcnta<64 % if the float IS a figure...
    \addvspace\abovecaptionskip
    \moveright\captionindent\box\@ne
  \else % if the float IS NOT a figure...
    \moveright\captionindent\box\@ne
    \nobreak
    \vskip\belowcaptionskip
  \fi
\relax
}
\newskip\abovecaptionskip \abovecaptionskip=12pt \relax
\newskip\belowcaptionskip \belowcaptionskip=12pt \relax
\newdimen\captionindent \captionindent=3pc
\RequirePackage{amsthm}[1996/09/24]
\def\@swapped#1#2{#2%
  \@ifnotempty{#1}{\@addpunct{.}\quad#1\unskip}}
\def\thmhead@plain#1#2#3{%
  \thmname{#1}\thmnumber{\@ifnotempty{#1}{ }\@upn{#2}}%
  \thmnote{ \textmd{\upshape(#3)}}}
\def\swappedhead@plain#1#2#3{%
  \thmnumber{\@upn{#2}}\thmname{\@ifnotempty{#2}{. }#1}%
  \thmnote{ \textmd{\upshape(#3)}}}
\def\th@plain{%
  \let\thmhead\thmhead@plain \let\swappedhead\swappedhead@plain
  \thm@preskip.5\baselineskip\@plus.2\baselineskip
                                    \@minus.2\baselineskip
  \thm@postskip\thm@preskip
  \itshape
}
\def\th@definition{%
  \let\thmhead\thmhead@plain \let\swappedhead\swappedhead@plain
  \thm@preskip.5\baselineskip\@plus.2\baselineskip
                                    \@minus.2\baselineskip
  \thm@postskip\thm@preskip
  \upshape
}
\def\th@remark{%
  \thm@headfont{\itshape}% heading font bold
  \let\thmhead\thmhead@plain \let\swappedhead\swappedhead@plain
  \thm@preskip.5\baselineskip\@plus.2\baselineskip
                                    \@minus.2\baselineskip
  \thm@postskip\thm@preskip
  \upshape
}
\if@compatibility
\let\@newpf\proof \let\proof\relax \let\endproof\relax
\newenvironment{pf}{\@newpf[\proofname]}{\qed\endtrivlist}
\newenvironment{pf*}[1]{\@newpf[#1]}{\qed\endtrivlist}
\fi
\def\nonbreakingspace{\unskip\nobreak\ \ignorespaces}
\def~{\protect\nonbreakingspace}
\def\@biblabel#1{\@ifnotempty{#1}{[#1]}}
\def\@cite#1#2{{%
  \m@th\upshape\mdseries[{#1\if@tempswa, #2\fi}]}}
\@ifundefined{cite }{%
  \expandafter\let\csname cite \endcsname\cite
  \edef\cite{\@nx\protect\@xp\@nx\csname cite \endcsname}%
}{}
\def\fullwidthdisplay{\displayindent\z@ \displaywidth\columnwidth}
\edef\@tempa{\noexpand\fullwidthdisplay\the\everydisplay}
\everydisplay\expandafter{\@tempa}
\newcommand\seename{see also}%
\newcommand\see[2]{{\em \seename\/} #1}%
\newcommand\printindex{\@input{\jobname.ind}}%
\DeclareRobustCommand\textprime{\leavevmode
  \raise.8ex\hbox{\check@mathfonts\the\scriptfont2 \char48 }}
\hyphenation{acad-e-my acad-e-mies af-ter-thought anom-aly anom-alies
an-ti-deriv-a-tive an-tin-o-my an-tin-o-mies apoth-e-o-ses
apoth-e-o-sis ap-pen-dix ar-che-typ-al as-sign-a-ble as-sist-ant-ship
as-ymp-tot-ic asyn-chro-nous at-trib-uted at-trib-ut-able bank-rupt
bank-rupt-cy bi-dif-fer-en-tial blue-print busier busiest
cat-a-stroph-ic cat-a-stroph-i-cally con-gress cross-hatched data-base
de-fin-i-tive de-riv-a-tive dis-trib-ute dri-ver dri-vers eco-nom-ics
econ-o-mist elit-ist equi-vari-ant ex-quis-ite ex-tra-or-di-nary
flow-chart for-mi-da-ble forth-right friv-o-lous ge-o-des-ic
ge-o-det-ic geo-met-ric griev-ance griev-ous griev-ous-ly
hexa-dec-i-mal ho-lo-no-my ho-mo-thetic ideals idio-syn-crasy
in-fin-ite-ly in-fin-i-tes-i-mal ir-rev-o-ca-ble key-stroke
lam-en-ta-ble light-weight mal-a-prop-ism man-u-script mar-gin-al
meta-bol-ic me-tab-o-lism meta-lan-guage me-trop-o-lis
met-ro-pol-i-tan mi-nut-est mol-e-cule mono-chrome mono-pole
mo-nop-oly mono-spline mo-not-o-nous mul-ti-fac-eted mul-ti-plic-able
non-euclid-ean non-iso-mor-phic non-smooth par-a-digm par-a-bol-ic
pa-rab-o-loid pa-ram-e-trize para-mount pen-ta-gon phe-nom-e-non
post-script pre-am-ble pro-ce-dur-al pro-hib-i-tive pro-hib-i-tive-ly
pseu-do-dif-fer-en-tial pseu-do-fi-nite pseu-do-nym qua-drat-ic
quad-ra-ture qua-si-smooth qua-si-sta-tion-ary qua-si-tri-an-gu-lar
quin-tes-sence quin-tes-sen-tial re-arrange-ment rec-tan-gle
ret-ri-bu-tion retro-fit retro-fit-ted right-eous right-eous-ness
ro-bot ro-bot-ics sched-ul-ing se-mes-ter semi-def-i-nite
semi-ho-mo-thet-ic set-up se-vere-ly side-step sov-er-eign spe-cious
spher-oid spher-oid-al star-tling star-tling-ly sta-tis-tics
sto-chas-tic straight-est strange-ness strat-a-gem strong-hold
sum-ma-ble symp-to-matic syn-chro-nous topo-graph-i-cal tra-vers-a-ble
tra-ver-sal tra-ver-sals treach-ery turn-around un-at-tached
un-err-ing-ly white-space wide-spread wing-spread wretch-ed
wretch-ed-ly Eng-lish Euler-ian Feb-ru-ary Gauss-ian
Hamil-ton-ian Her-mit-ian Jan-u-ary Japan-ese Kor-te-weg
Le-gendre Mar-kov-ian Noe-ther-ian No-vem-ber Rie-mann-ian Sep-tem-ber}
\def\calclayout{\advance\textheight -\headheight
  \advance\textheight -\headsep
  \oddsidemargin\paperwidth
  \advance\oddsidemargin -\textwidth
  \divide\oddsidemargin\tw@
  \ifdim\oddsidemargin<.5truein \oddsidemargin.5truein \fi
  \advance\oddsidemargin -1truein
  \evensidemargin\oddsidemargin
  \topmargin\paperheight \advance\topmargin -\textheight
  \advance\topmargin -\headheight \advance\topmargin -\headsep
  \divide\topmargin\tw@
  \ifdim\topmargin<.5truein \topmargin.5truein \fi
  \advance\topmargin -1.18truein\relax
}
\calclayout % initialize
\newcounter{pgct}
\newcommand{\paphomepage}[1]{\iffin\def\paphomepageurl{#1}\fi}
\newcommand{\beginningpage}[1]{\iffin\setcounter{page}{#1}\def\beginpage{#1}
\setcounter{pgct}{#1} \stepcounter{pgct}\else\relax\fi}
\newcommand{\pubyr}[1]{\def\copyrightyear{#1}\def\currentyear{#1}}
\newcommand{\pubvol}[1]{\def\currentvolume{#1}}
\iffin\AtBeginDocument{\RequirePackage{nyjlogo}}
\else\setcounter{pgct}{2} \fi
\def\nextpageheight{\begingroup\global\advance\headheight by -\@extrahead
                    \global\textheight=\subsequentpageheight
                    \global\@colht=\textheight
                    \global\@colroom=\textheight
                    \global\vsize=\textheight
                    \global\pagegoal=\textheight\endgroup}
\ifpub\newdimen\initialpageheight
\newdimen\subsequentpageheight
\newdimen\@extrahead
\initialpageheight=\textheight
\subsequentpageheight=\textheight
\advance\initialpageheight by -44.4pt
\@extrahead=22.4pt
\begingroup
\global\advance\headheight by \@extrahead
\global\textheight=\initialpageheight
\global\@colht=\textheight
\global\@colroom=\textheight
\global\vsize=\textheight
\global\pagegoal=\textheight
\endgroup
\output=\expandafter{\the\output \ifnum\thepage=\value{pgct}\nextpageheight\fi}
\fi
\pagenumbering{arabic}
\pagestyle{headings}
\thispagestyle{plain}
\renewenvironment{proof}[1][\proofname]{\par
  \normalfont
  \topsep6\p@\@plus6\p@ \trivlist
  \item[\hskip\labelsep\bfseries
    #1\@addpunct{.}]\ignorespaces
}{%
  \qed\endtrivlist
}
\RequirePackage{amssymb}
\renewcommand{\openbox}{\leavevmode
  \hbox to .77778em{\hfil${\square}$\hfil}}
\if@compatibility \else\endinput\fi
\def\tiny{\Tiny}
\def\defaultfont{\normalfont}
\def\rom{\textup}
\endinput
%%
%% End of file `nyj.cls'.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: latemp.tex
Type: application/x-tex
Size: 2338 bytes
Desc: 
Url : http://tug.org/pipermail/texhax/attachments/20051027/b82110ff/latemp-0001.tex
-------------- next part --------------
\def\fileversion{v1a}
\def\filedate{1997/06/24}
\ProvidesPackage{ifstyle}[\filedate\space
                         IF  LaTeX2e package \fileversion]
\typeout{style IF \fileversion  <\filedate>. -thb-}
\RequirePackage{amsmath,amssymb,amscd,theorem}
\newif\if@anglais
\@anglaisfalse % on suppose d{\'e}marrer en fran{\c c}ais
\newif\ififp@these % format de th{\`e}se
\ifp@thesefalse % par d{\'e}faut : pr{\'e}pub
\DeclareOption{these}{\ifp@thesetrue}
\DeclareOption{prepub}{\ifp@thesefalse}
\DeclareOption{anglais}{\@anglaistrue}
\DeclareOption{english}{\@anglaistrue}
\DeclareOption{american}{\@anglaistrue}
\DeclareOption{francais}{\@anglaisfalse}
\DeclareOption{french}{\@anglaisfalse}
\DeclareOption{frenchb}{\@anglaisfalse}
\ProcessOptions
%% les defs ind{\'e}pendantes de la langue, etc.
%%
\ifx\undefined\mathbb 
\DeclareMathAlphabet{\mathbb}{U}{msb}{m}{n}%
\fi
\newcommand{\AAA}[1]{\mathbb{A}^{#1}} 
\newcommand{\BB}[1]{\mathbb{B}^{#1}} 
\newcommand{\CC}[1]{\mathbb{C}^{#1}} 
\newcommand{\DD}[1]{\mathbb{D}^{#1}} 
\newcommand{\EE}[1]{\mathbb{E}^{#1}} 
\newcommand{\FF}[1]{\mathbb{F}^{#1}} 
\newcommand{\GG}[1]{\mathbb{G}^{#1}} 
\newcommand{\HH}[1]{\mathbb{H}^{#1}} 
\newcommand{\II}[1]{\mathbb{I}^{#1}} 
\newcommand{\JJ}[1]{\mathbb{J}^{#1}} 
\newcommand{\KK}[1]{\mathbb{K}^{#1}} 
\newcommand{\LL}[1]{\mathbb{L}^{#1}} 
\newcommand{\MM}[1]{\mathbb{M}^{#1}} 
\newcommand{\NN}[1]{\mathbb{N}^{#1}} 
\newcommand{\OO}[1]{\mathbb{O}^{#1}} 
\newcommand{\PP}[1]{\mathbb{P}^{#1}} 
\newcommand{\QQ}[1]{\mathbb{Q}^{#1}} 
\newcommand{\RR}[1]{\mathbb{R}^{#1}} 
\newcommand{\SSS}[1]{\mathbb{S}^{#1}} 
\newcommand{\TT}[1]{\mathbb{T}^{#1}} 
\newcommand{\UU}[1]{\mathbb{U}^{#1}} 
\newcommand{\VV}[1]{\mathbb{V}^{#1}} 
\newcommand{\WW}[1]{\mathbb{W}^{#1}} 
\newcommand{\XX}[1]{\mathbb{X}^{#1}} 
\newcommand{\YY}[1]{\mathbb{Y}^{#1}} 
\newcommand{\ZZ}[1]{\mathbb{Z}^{#1}} 
\newcommand{\CP}[1]{\mathbb{CP}^{#1}} 
\newcommand{\RP}[1]{\mathbb{RP}^{#1}}   


%
\def\openbox{\leavevmode
  \hbox to.77778em{%
  \hfil\vrule
  \vbox to.675em{\hrule width.6em\vfil\hrule}%
  \vrule\hfil}}
\def\finpr{\openbox}

\newcommand{\la}{\longrightarrow}%
% 
% raccourcis (d'apr{\`e}s armo.tex ou broccod.tex)
%
\def\pointir{.\kern.4em\ignorespaces}%
% c'est la commande la plus utilis{\'e}e dans if.sty !
%\newcommand{\cf}{{\upshape cf. }}%
\newcommand{\etc}{{\slshape etc. }}%
\newcommand{\ie}{{\slshape i.e. }}%
%\newcommand{\resp}{{resp. }}%
\newcommand{\cad}{c'est-\`a-dire }%
\newcommand{\ci}{\mathcal{C}^{\infty}}%
%\newcommand{\E}{\ensuremath{\mathrm{e}}}%
\newcommand{\IF}{\raggedright
\begin{footnotesize}\textit{% adresse nouvelle version
\textbf{Institut Fourier}\\
UMR 5582 CNRS-UJF\\
UFR de Math{\'e}matiques\\
Universit{\'e} de Grenoble I\\
 B.P. 74 \\
F-38402 St-Martin d'H{\`e}res Cedex}
\end{footnotesize}}%

\newcommand{\grigri}{
  \begin{center}
    --$~\lozenge~$--\\[.5cm]
  \end{center}
  \noindent{\eightrm (\today)}}

\newcommand\iffin{%
\parindent=0pt
  \begin{center}
--$~\lozenge~$--\\[1cm]
  \end{center}
\footnotesize
\IF\\[1cm]      
(\today)
}
 

\newcommand{\prodd}{\mathop{\prod}\limits}
\newcommand{\summ}{ \mathop{\sum}\limits}
\newcommand{\cupp}{\mathop{\bigcup}\limits}
\newcommand{\capp}{\mathop{\bigcap}\limits}
\newcommand{\opp}{\mathop{\bigoplus}\limits}
\newcommand{\ott}{\mathop{\bigotimes}\limits}


\newcommand{\longhook}{\lhook\joinrel\longrightarrow}
\newcommand{\hookup}{{\lower6.3pt\hbox{\cu}\kern-4.32pt\big\uparrow}}
\newcommand{\hookdown}{\raise5.3pt\hbox{\ca}\kern-4.32pt\lower3pt
  \hbox{\big\downarrow}}

\providecommand{\cf}{{\upshape cf. }}%
\providecommand{\ie}{{\slshape i.e. }}%
\providecommand{\resp}{{resp. }}%
\providecommand{\cad}{c'est-\`a-dire }%
\providecommand{\ci}{\mathcal{C}^{\infty}}%
\newcommand{\apri}{\slshape a priori }%
\newcommand{\afor}{\slshape a fortiori }%
\providecommand{\etc}{etc. }%
%\newcommand{\finpr}{\rule{1.1ex}{1.2ex}}%

\newcommand{\ol}{\overline }
\newcommand{\set}{\smallsetminus}
\newcommand{\wt}{\widetilde}
\newcommand{\wh}{\widehat}
\providecommand{\ept}{\footnotesize}
\newcommand{\dis}{\displaystyle}
\providecommand{\la}{\longrightarrow}
\newcommand{\ld}{, \ldots,}
\newcommand{\simto}{\xrightarrow{\sim}}
\newcommand{\unn}{\mbox{\usefont{U}{bbold}{m}{n}1}}

\newcommand{\Ker}{\mathop{\mathrm{Ker}}\nolimits}
\newcommand{\Log}{\mathop{\mathrm {Log}}\nolimits}
\newcommand{\im}{\mathop{\mathrm {Im}}\nolimits}

 
\providecommand{\lnms}{~Lecture Notes in Math. Springer-Verlag, 
                        Berlin, New York}
\providecommand{\lnm}{~Lecture Notes in Math.~}
\providecommand{\cm}{~Compositio Math.}
\providecommand{\cmh}{~Comment. Math. Helv.}
\providecommand{\aif}{~Ann. Inst. Fourier (Grenoble)~}
\providecommand{\aom}{~Ann. of Math.}
\providecommand{\jmpa}{~J. Math. Pures Appl.}
\providecommand{\jfa}{~J. Funct. Anal.}
\providecommand{\cras}{~C. R. Acad. Sci.  Paris S\'er. I Math.}
\providecommand{\asens}{~Ann. Sci. \'Ecole Norm. Sup.}
\providecommand{\jdg}{~J. Differential Geom.}
\providecommand{\inm}{~Invent. Math.}
\providecommand{\pspm}{~Proc. Sympos. Pure Math.}
\providecommand{\bsmf}{~Bull. Soc. Math. France~}
\providecommand{\bams}{~Bull. Amer. Math. Soc.}
\providecommand{\prepub}[1]{~Pr\'e\-pu\-bli\-ca\-tion de l'Institut 
                           Fourier n$^\circ$ {#1},Grenoble} 
\providecommand{\pja}{~Proc. Japan Acad. Ser. A Math.}
\providecommand{\cpde}{~Comm. Partial Differential Equations~}
\providecommand{\prsl}{~Proc. Roy. Soc. London Ser. A~}
\providecommand{\cpam}{~Comm. Pure Appl. Math.}
\providecommand{\pams}{~Proc. Amer. Math. Soc.}

 




%Alphabet rond``\cal"            %Alphabet double``\ Bbb"      

\newcommand\ac{\mathcal{A}}      \newcommand\ab{\mathbb{A}}         
\newcommand\bc{\mathcal{B}}      \newcommand\bbb{\mathbb{B}}        
\newcommand\cc{\mathcal{C}}      \newcommand\cb{\mathbb{C}}         
\newcommand\dc{\mathcal{D}}      \newcommand\db{\mathbb{D}}         
\newcommand\ec{\mathcal{E}}      \newcommand\eb{\mathbb{E}}       
\newcommand\fc{\mathcal{F}}      \newcommand\fb{\mathbb{F}}         
\newcommand\gc{\mathcal{G}}      \newcommand\gb{\mathbb{G}}         
\newcommand\hc{\mathcal{H}}      \newcommand\hb{\mathbb{H}}         
\newcommand\ic{\mathcal{I}}      \newcommand\ib{\mathbb{I}}         
\newcommand\jc{\mathcal{J}}      \newcommand\jb{\mathbb{J}}        
\newcommand\kc{\mathcal{K}}      \newcommand\kb{\mathbb{K}}        
\newcommand\lc{\mathcal{L}}      \newcommand\lb{\mathbb{L}}         
\newcommand\mc{\mathcal{M}}      \newcommand\mb{\mathbb{M}}         
\newcommand\nc{\mathcal{N}}      \newcommand\nb{\mathbb{N}}         
\newcommand\oc{\mathcal{O}}      \newcommand\obb{\mathbb{O}}        
\newcommand\pcc{\mathcal{P}}     \newcommand\pb{\mathbb{P}}
\newcommand\qc{\mathcal{Q}}      \newcommand\qb{\mathbb{Q}}
\newcommand\rc{\mathcal{R}}      \newcommand\rb{\mathbb{R}}
\newcommand\scc{\mathcal{S}}     \newcommand\sbb{\mathbb{S}}
\newcommand\tc{\mathcal{T}}      \newcommand\tb{\mathbb{T}}
\newcommand\uc{\mathcal{U}}      \newcommand\ub{\mathbb{U}}
\newcommand\vc{\mathcal{V}}      \newcommand\vb{\mathbb{V}}
\newcommand\wc{\mathcal{W}}      \newcommand\wb{\mathbb{W}}
\newcommand\xc{\mathcal{X}}      \newcommand\xb{\mathbb{X}}
\newcommand\yc{\mathcal{Y}}      \newcommand\yb{\mathbb{Y}}
\newcommand\zc{\mathcal{Z}}      \newcommand\zb{\mathbb{Z}}




%Alphabet gras``\bf"  
\newcommand\aaf{\mathbf{A}}
\newcommand\bbf{\mathbf{B}}
\newcommand\ccf{\mathbf{C}}
\newcommand\ddf{\mathbf{D}}
\newcommand\eef{\mathbf{E}}
\newcommand\fff{\mathbf{F}}
\newcommand\ggf{\mathbf{G}}
\newcommand\hhf{\mathbf{H}}
\newcommand\iif{\mathbf{I}}
\newcommand\jjf{\mathbf{J}}
\newcommand\kkf{\mathbf{K}}
\newcommand\llf{\mathbf{L}}
\newcommand\mmf{\mathbf{M}}
\newcommand\nnf{\mathbf{N}}
\newcommand\oof{\mathbf{O}}
\newcommand\ppf{\mathbf{P}}
\newcommand\qqf{\mathbf{Q}}
\newcommand\rrf{\mathbf{R}}
\newcommand\ssf{\mathbf{S}}
\newcommand\ttf{\mathbf{T}}
\newcommand\uuf{\mathbf{U}}
\newcommand\vvf{\mathbf{V}}
\newcommand\wwf{\mathbf{W}}
\newcommand\xxf{\mathbf{X}}
\newcommand\yyf{\mathbf{Y}}
\newcommand\zzf{\mathbf{Z}}


%Alphabet gothique ``\goth" MAJUSCULE   %Alphabet gothique ``\goth" minus
\newcommand\Ag{{\frak A}}                      \newcommand\ag{{\frak a}}
\newcommand\Bg{{\frak B}}                      \newcommand\bg{{\frak b}}
\newcommand\Cg{{\frak C}}                      \newcommand\cg{{\frak c}}
\newcommand\Dg{{\frak D}}                      \newcommand\dg{{\frak d}}
\newcommand\Eg{{\frak E}}                      \newcommand\eg{{\frak e}}
\newcommand\Fg{{\frak F}}                      \newcommand\fg{{\frak f}}
\newcommand\Gg{{\frak G}}                      \newcommand\ggo{{\frak g}}
\newcommand\Hg{{\frak H}}                      \newcommand\hg{{\frak h}}
\newcommand\Ig{{\frak I}}                      \newcommand\ig{{\frak i}}
\newcommand\Jg{{\frak J}}                      \newcommand\jg{{\frak j}}
\newcommand\Kg{{\frak K}}                      \newcommand\kg{{\frak k}}
\newcommand\Lg{{\frak L}}                      \newcommand\lgg{{\frak l}}
\newcommand\Mg{{\frak M}}                      \newcommand\mg{{\frak m}}
\newcommand\Ngg{{\frak N}}                     \newcommand\ngg{{\frak n}}
\newcommand\Og{{\frak O}}                      \newcommand\og{{\frak o}}
\newcommand\Pg{{\frak P}}                      \newcommand\pg{{\frak p}}
\newcommand\Qg{{\frak Q}}                      \newcommand\qg{{\frak q}}
\newcommand\Rg{{\frak R}}                      \newcommand\rg{{\frak r}}
\newcommand\Sg{{\frak S}}                      \newcommand\sg{{\frak s}}
\newcommand\Tg{{\frak T}}                      \newcommand\tg{{\frak t}}
\newcommand\Ug{{\frak U}}                      \newcommand\ug{{\frak u}}                      
\newcommand\Vg{{\frak V}}                      \newcommand\vg{{\frak v}}
\newcommand\Wg{{\frak W}}                      \newcommand\wg{{\frak w}}
\newcommand\Xg{{\frak X}}                      \newcommand\xg{{\frak x}}
\newcommand\Yg{{\frak Y}}                      \newcommand\yg{{\frak y}}
\newcommand\Zg{{\frak Z}}                      \newcommand\zg{{\frak z}}



\newcommand{\clearemptydoublepage}{\newpage\thispagestyle{empty}\cleardoublepage}
\let\eightpoint\footnotesize
\let\ept\eightpoint

\if@anglais
% 
% Version coup{\'e}e
\theoremstyle{break}
\newtheorem{theoc}{Theorem}[section]
\newtheorem{propc}[theoc]{Proposition}
\newtheorem{coroc}[theoc]{Corollary}
\newtheorem{lemmc}[theoc]{Lemma}
\newtheorem{conjc}{Conjecture}
\newtheorem{quesc}{Question}
\newtheorem{defic}[theoc]{Definition}
\newenvironment{teoc}[1][\hskip-1ex]{\vskip\theorempreskipamount %
\reset@font{\scshape %
Theorem\hskip1ex#1.\newline}\slshape}{\vskip\theorempostskipamount}
% En anglais, utiliser plut{\^o}t thb ci-dessous
\newenvironment{democ}[1][\hskip-1ex]{\par\reset@font{\slshape %
    Proof\hskip1ex#1.\newline}}{\hfill\finpr\par}
\newenvironment{remac}[1][\hskip-1ex]{\par\reset@font{\slshape %
    Remarks\hskip1ex#1.\newline}}{\par} 
% Enfin, un environnement g{\'e}n{\'e}rique pour les autres th{\'e}or{\`e}mes ``{\`a} la
% main'' {\`a} utiliser de la fa{\c c}on suivante \begin{thb}{Main
% Theorem}blabla\end{thb} 
\newenvironment{thb}[1][!!!]{ %
\vskip\theorempreskipamount\noindent\hskip\parindent %
\reset@font{\scshape %
    #1.\newline}}{\vskip\theorempostskipamount} 
%
%  Version habituelle
%
\theoremstyle{plain}
\newtheorem{theo}[theoc]{Theorem}
\newtheorem{prop}[theoc]{Proposition}
\newtheorem{coro}[theoc]{Corollary}
\newtheorem{lemm}[theoc]{Lemma}
\newtheorem{conj}[conjc]{Conjecture}
\newtheorem{ques}[quesc]{Question}
\newtheorem{defi}[theoc]{Definition}
\newenvironment{teo}[1][\hskip-1ex]{\vskip\theorempreskipamount %
\reset@font{\scshape %
Theorem\hskip1ex#1\pointir}\slshape}{\vskip\theorempostskipamount}                               
\newenvironment{demo}[1][\hskip-1ex]{\par\reset@font{\slshape %
    Proof\hskip1ex#1\pointir}}{\hfill\finpr\par}
\newenvironment{rema}[1][\hskip-1ex]{\par\reset@font{\slshape %
    Remark\hskip1ex#1\pointir}}{\vskip\theorempostskipamount} 
%
% La version non coup{\'e}e de 'thb'
%
\newenvironment{tha}[1][!!!]{ %
\vskip\theorempreskipamount\noindent\hskip\parindent %
\reset@font{\scshape %
    #1\pointir}}{\vskip\theorempostskipamount} 

\else % fran{\c c}ais

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Les th{\'e}or{\`e}mes, et analogues
% le style a {\'e}t{\'e} d{\'e}fini dans if.sty, ils ne sont pas pr{\'e}cis{\'e}s ici pour
% des raisons de portabilit{\'e}. Pour une utilisation non conjugu{\'e}e avec
% iffra.sty, il vaut mieux employer \usepackage{theorem} dans le document.
% 
% Version coup{\'e}e
\theoremstyle{break}
\newtheorem{theoc}{Th{\'e}or{\`e}me}[section]
\newtheorem{propc}[theoc]{Proposition}
\newtheorem{coroc}[theoc]{Corollaire}
\newtheorem{lemmc}[theoc]{Lemme}
\newtheorem{conjc}{Conjecture}
\newtheorem{quesc}{Question}
\newtheorem{defic}[theoc]{D{\'e}finition}
\newenvironment{teoc}[1][\hskip-1ex]{\vskip\theorempreskipamount %
\reset@font{\scshape %
Th{\'e}or{\`e}me\hskip1ex#1.\newline}\slshape}{\vskip\theorempostskipamount}                               
\newenvironment{democ}[1][\hskip-1ex]{\par\reset@font{\slshape %
    D{\'e}monstration\hskip1ex#1.\newline}}{\hfill\finpr\par}
\newenvironment{remac}[1][\hskip-1ex]{\par\reset@font{\slshape %
    Remarques\hskip1ex#1.\newline}}{\par} 

%  Version habituelle
%
\theoremstyle{plain}
\newtheorem{theo}[theoc]{Th{\'e}or{\`e}me}
\newtheorem{prop}[theoc]{Proposition}
\newtheorem{coro}[theoc]{Corollaire}
\newtheorem{lemm}[theoc]{Lemme}
\newtheorem{conj}[conjc]{Conjecture}
\newtheorem{ques}[quesc]{Question}
\newtheorem{defi}[theoc]{D{\'e}finition}
\newenvironment{teo}[1][\hskip-1ex]{\vskip\theorempreskipamount %
\reset@font{\scshape %
Th{\'e}or{\`e}me\hskip1ex#1\pointir}\slshape}{\vskip\theorempostskipamount}                               
\newenvironment{demo}[1][\hskip-1ex]{\par\reset@font{\slshape %
    D{\'e}monstration\hskip1ex#1\pointir}}{\hfill\finpr\par}
\newenvironment{rema}[1][\hskip-1ex]{\par\reset@font{\slshape %
    Remarque\hskip1ex#1\pointir}}{\vskip\theorempostskipamount} 
% Enfin, un environnement g{\'e}n{\'e}rique pour les autres th{\'e}or{\`e}mes ``{\`a} la
% main'' {\`a} utiliser de la fa{\c c}on suivante \begin{tha}{Main
% Theorem}blabla\end{tha} 
\newenvironment{tha}[1][!!!]{% %
\vskip\theorempreskipamount\noindent\hskip\parindent %
\reset@font{\scshape %
    #1\pointir}\slshape}{\vskip\theorempostskipamount} 
\newenvironment{thb}[1][!!!]{%\noindent
\vskip\theorempreskipamount\noindent\hskip\parindent %
\reset@font{\scshape %
    #1.\newline}\slshape}{\vskip\theorempostskipamount} 
\fi

\let\paragraphc\paragraph
\let\subparagraphc\subparagraph

\ififp@these
\pagestyle{headings}
%\numberwithin{equation}{chapter}
\else
\pagestyle{plain}
%\numberwithin{equation}{section}
\fi
\providecommand\ufootnote[1]{{\let\thefootnote\relax\footnote[0]{#1}}}
\providecommand\unn{\mbox{\usefont{U}{bbold}{m}{n}1}}

\endinput
-------------- next part --------------
% mangletex (24 Nov 1995) run at 16:39 BST Tuesday 05 September 2000
\message{<Paul Taylor's commutative diagrams, version 3.88, September 2000>}%
%%======================================================================%
%%      TeX  macros for drawing category-theoretic diagrams             %
%%                                                                      %
%%                              Paul  Taylor                            %
%%                                                                      %
%%                       Department of Computer Science,                %
%%                      Queen Mary and Westfield College,               %
%%                              London E1 4NS                           %
%%                            +44 20 7882 5241                          %
%%                             pt@dcs.qmw.ac.uk                         %
%%                                                                      %
%%                           PLEASE READ THE MANUAL!                    %
%%                                                                      %
%%      http://www.dcs.qmw.ac.uk/~pt/diagrams/index.html
%% ftp://ftp.tex.ac.uk/tex-archive/macros/generic/diagrams/taylor/index.html
%%                                                                      %
%%      Please ensure that you are registered with me as a user so that %
%%      you can be informed of future releases.  Any electronic mail    %
%%      message with "commutative" or "diagram" in the subject line     %
%%      (such as your request for the package, a question about it, or  %
%%      even an otherwise blank message) automatically registers you.   %
%%                                                                      %
%%                                                                      %
%% CONTENTS:                                                            %
%%  (O) corruption-sensitive hacks    (to approx line 340)              %
%%              Arrow components & commands - starts approx line 1250   %
%% (21) auxillary macros for adjustment of components                   %
%% (22) bits of arrows  (\rhvee etc)                                    %
%% (23) arrow commands  (\rTo etc)                                      %
%% (24) miscellaneous                                                   %
%% Apart from these five sections, the rest is intended to be totally   %
%% meaningless in the undocumented version, which is approximately 1900 %
%% lines long. Please do not waste trees by printing it out.            %
%%                                                                      %
%% COPYRIGHT NOTICE:                                                    %
%%      This package may be copied and used freely for any academic     %
%%      (not commercial or military) purpose, on condition that it      %
%%      is not altered in any way, and that an acknowledgement is       %
%%      included in any published work making substantial use of it.    %
%%                                                                      %
%%      IT IS SUPPLIED "AS IS", WITHOUT WARRANTY, EXPRESS OR IMPLIED.   %
%%                                                                      %
%%      If you are doing something where mistakes cost money (or where  %
%%      success brings financial profit) then you must use commercial   %
%%      software, not this package. In any case, please remember to     %
%%      keep several backup copies of all files, and check everything   %
%%      visually before sending final copy to the publishers.           %
%%                                                                      %
%%      You may use this package as a (substantial) aid to writing an   %
%%      academic research or text book on condition that                %
%%       (i) you contact me at a suitable time to ensure that you have  %
%%           an up-to-date version (and any infelicities can be fixed), %
%%      (ii) you send me a copy of the book when it's published.        %
%%                                                                      %
%% HISTORY                                                              %
%% 3.88 Released 1 September 2000                                       %
%%      Square hook tail: \newarrow{SquareInto}{sqhook}--->             %
%%      Five-year (instead of one-year) time-bombs.                     %
%% 3.87 Released 1 September 1999                                       %
%%      This version was used for the final 1200dpi PS copy of my book  %
%%      ``Practical Foundations of Mathematics'' (Cambridge Univ Press) %
%%      see   http://www.dcs.qmw.ac.uk/~pt/Practical_Foundations        %
%% 3.86 Released 1 September 1998                                       %
%%      New options hug and nohug in PostScript mode: [PS,nohug] uses   %
%%      PS for the arrows without rotating the labels, but the way of   %
%%      calculating the actual position of these horizontal labels on   %
%%      will remain subject to alteration for some period of time ---   %
%%      please send me examples if you feel that adjustment is needed.  %
%%                                                                      %
%%      Suppress indentation of following text (due to LaTeX change)    %
%%      Mangle \left@label and \right@label (conflict with Elsevier).   %
%%      midvshaft and snake for vertical arrows                         %
%%      New option [gap=width] (default=shortfall) to use instead of    %
%%      ~{\;} on horizontals and PS diagonals, as this caused ^ and _   %
%%      Added >-> and <-< heads and tails, same as >> and << but the    %
%%      shaft goes *through* the extra arrowhead.                       %
%% 3.85 Released 20 August 1997                                         %
%%      New option [crab=distance] shifts horizontals and PS diagonals  %
%%      transversally by the specified distance (positive=upward).      %
%%      New option [snake=distance] shifts midshaft horizontals and     %
%%      PS diagonals longitudinally by the specified distance.          %
%%      New option [leftflush], like [flushleft] but reckons alignment  %
%%      from multiple verticals, or from text if there's no vertical.   %
%%      Most of the history has been suppressed from the user version.  %
%% 3.84 Released 2 September 1996                                       %
%% 3.83 Released 18 May 1995                                            %
%%      "dotted" option (set dot filler on maps)                        %
%%      Parallel maps (\pile) outside diagrams stretch correctly.       %
%%      Option "LaTeXeqno" uses LaTeX's equation number and style       %
%%      for "eqno";  LaTeX's \label command picks this up.              %
%%      Suppress warnings & 2nd pass errors with "silent" option.       %
%% 3.82                                                                 %
%% 3.81 Second alpha release 18 July 1994                               %
%%      Fixed displaced parenthesis instead of hook tails in manual p8. %
%%      \overprint{text} sets text in maths and overprints it in the    %
%%      current cell, centered in the column irrespective of other stuff%
%%      "repositionpullbacks" option uses this for \SEpbk etc           %
%%      \newdiagramgrid declaration, grid option and pentagon grid.     %
%% 3.80 Alpha release for adjusted diagonals 15 July 1994.              %
%%      Some options can now take (x,y) values.                         %
%%      Name of DVI->PS translator as argument to PostScript option.    %
%%      Loading after \begin{document} in LaTeX2e possible.             %
%%      Loading before \documentstyle or \documentclass possible.       %
%%      Equilateral triangle or regular hexagon size options.           %
%%      Introduced landscape and portrait options.                      %
%%      Parse []-options during label processing.                       %
%%      Made midhshaft work; always set it for single-row diagrams.     %
%%      \diagramstyle may be used within diagrams.                      %
%%      Vertical maps targetted at labels of horizontals avoid them.    %
%%      Diagonals adjusted to meet their endpoints, at last!!!!         %
%% 3.29 Released 11 March 1994                                          %
%% 3.28 Released 30 November 1993                                       %
%%      Peter Freyd's \puncture symbol provided.                        %
%% 3.27 Released 26 March 1993                                          %
%% 3.26 Released 11 February 1993                                       %
%% 3.25 Released 30 January 1993                                        %
%%      LaTeX heads made default (unless \tenln undefined, when vee)    %
%%      Circle, cross, little vee, little black triangle heads.         %
%%      First-use warning when defaulted diagonal components are used.  %
%%      Warning if diagonals used & columns stretched significantly.    %
%%      AMSTEX emulation - works at least when amstex not present.      %
%% 3.24 Release 7 Sept 1992 advertised to users.                        %
%%      PostScript option introduced:                                   %
%%      LaTeX, vee, curlyvee, triangle & blacktriangle heads & tails    %
%%      TPIC option introduced as an alternative to \LaTeX@make@line.   %
%%      New reformatting program.                                       %
%%      Optional arguments on \diagram, maps and \diagramstyle.         %
%% 3.20 (29.4.92) early release of version 4                            %
%%      Postscript arrows (basic code).                                 %
%%      Implemented \newarrow \newarrowhead etc.                        %
%%      Corruption-sensitive characters avoided wherever possible.      %
%%      Reloading prevented.                                            %
%%      Horizontal arrows outside diagram can stretch by wordspacing.   %
%%      Added < and > for labels on left and right of arrow;            %
%% 3.16 (20.7.90) as mass mailed; only have mangled version             %
%% -- all following version numbers are post-facto --                   %
%%  3   (Jan 90) stretching vertical arrows                             %
%%  2   (Sept 89) horizontals stretch to objects; "superscript" labels  %
%%  1   (1987) horizontal arrows stretch to edge of cell                %
%%  0   (1986) implementation of Knuth's TeXercise 18.46                %
%%======================================================================%

%%======================================================================%
%%                                                                      %
%%      (1) CORRUPTION-SENSITIVE HACKS                                  %
%%                                                                      %
%%======================================================================%

%%                      CORRUPTION & \catcode WARNING

%% BITNET (IBM) machines may corrupt certain important characters
%% in transmission by electronic mail:
%%        0123456789=digits, abcdefghijklmnopqrstuvwxyz=lowers,
%%        ABCDEFGHIJKLMNOPQRSTUVWXYZ=uppers, @=at (internal names),
%%        {}=curly braces (grouping), \=backslash (keywords),
%%        %=percent (comment), #=hash/sharp (argument), +=plus, -=minus,
%%        <>=angle brackets (relations \ifnum,\ifdim), ==equals,
%%        ,=comma, .=dot, :=colon, ;=semicolon,  =space
%% $=dollar (maths) is only used in the "bits of maps" section

%% The following characters are marked by a comment including the word "ASCII",
%% except in comments and messages:
%%        &=and (alignment), ~=tilde, |=vertical, []=square brackets,
%%        ^=caret (superscript), _=underline (subscript),
%%        `=grave/backquote (catcodes), '=acute/single quote (octal),
%%        "=double quote (hex), ()=round brackets,
%%        /=slash, ?=query, !=pling/bang, 

%% The \catcode's marked * are assumed for reading this file:
%%          \=0* {=1* }=2* $=3 &=4 return=5* #=6 ^=7 _=8 ignored=9*
%%          space=10* letter=11* other=12 active=13 %=14* invalid=15
%% If you want to load this package inside Stallman's "texinfo", you must do
%%% @catcode`@\=0 \catcode`\%=14 \input diagrams \catcode`\%=12 \catcode`\\=13
%% and then use @diagram @rTo @\ @enddiagram etc. (braces {} stay the same).
%% Also need @catcode`@&=4.

%%*** You *MUST NOT* use the internal commands (with names beginning \CD@)****

%% don't load me twice!
\ifx\diagram\undefined\else\message{WARNING: the \string\diagram\space command
is already defined and will not be loaded again}\expandafter\endinput\fi

%% make @ letter, saving its old code to restore at the end of this file
%%% look for this on the last line of the file if you think something's missing!
%% the other \catcode assignments are to make it work with texinfo.
\edef\cdrestoreat{%%
\noexpand\catcode\lq\noexpand\@=\the\catcode\lq\@%%
\noexpand\catcode\lq\noexpand\#=\the\catcode\lq\#%%
\noexpand\catcode\lq\noexpand\$=\the\catcode\lq\$%%
\noexpand\catcode\lq\noexpand\<=\the\catcode\lq\<%%
\noexpand\catcode\lq\noexpand\>=\the\catcode\lq\>%%
\noexpand\catcode\lq\noexpand\:=\the\catcode\lq\:%% Johannes L. Braams's
\noexpand\catcode\lq\noexpand\;=\the\catcode\lq\;%% Babel languages package
\noexpand\catcode\lq\noexpand\!=\the\catcode\lq\!%% makes these \active.
\noexpand\catcode\lq\noexpand\?=\the\catcode\lq\?%%
\noexpand\catcode\lq\noexpand\+=\the\catcode\rq53%
%% texinfo @+ is @outer@active
}\catcode\lq\@=11 \catcode\lq\#=6 \catcode\lq\<=12 \catcode\lq\>=12 \catcode
\rq53=12 \catcode\lq\:=12 \catcode\lq\;=12 \catcode\lq\!=12 \catcode\lq\?=12

%% Change y to n if pool_size in your implementation of TeX is small.
%% This is reasonable if you have a small ("personal") computer, but if you
%%% have a sun, dec, hp, ... workstation or a mainframe, complain to your local
%% system manager and get him/her to install a version of TeX with bigger
%% parameters. The "hash size" (number of command names) gets you next.
\ifx\diagram@help@messages\undefined\let\diagram@help@messages y\fi

%% The following macro is used to include literal PostScript commands in the
%% DVI file for rotation, etc.  Since this goes beyond standard TeX, it is
%%% dependent on the convention used by your local DVI-to-PostScript translator.
%% Choose whichever line applies to the program used at your site, or, if
%% yours is not listed, consult the manual, experiment with this macro and
%% (please) tell me what is needed to make it work.
%%
%%
%%% dvips (Tomas Rokicki, Radical Eye) labrea.stanford.edu /pub/dvips9999.tar.Z
%% CTAN: dviware/dvips
\def\cdps@Rokicki#1{\special{ps:#1}}\let\cdps@dvips\cdps@Rokicki\let
\cdps@RadicalEye\cdps@Rokicki\let\CD@IK\cdps@Rokicki\let\CD@HB\cdps@Rokicki
%%
%% I'm not sure that the rest work.
%%
%% dvitps (Stephan Bechtolsheim, Integrated Computer Systems)
%% arthur.cs.purdue.edu /pub/TeXPS-9.99.tar.Z
\def\cdps@Bechtolsheim#1{\special{dvitps: Literal "#1"}}%
%% ASCII two dbl quotes
\let\cdps@dvitps\cdps@Bechtolsheim\let\cdps@IntegratedComputerSystems
\cdps@Bechtolsheim%%
%% dvitops (James Clark)
%% CTAN: dviware/dvitops
\def\cdps@Clark#1{\special{dvitops: inline #1}}%%
\let\cdps@dvitops\cdps@Clark%%
%% OzTeX (Andrew Trevorrow) cannot be used
\let\cdps@OzTeX\empty\let\cdps@oztex\empty\let\cdps@Trevorrow\empty%%
%% dvi3ps (Kevin Coombes)
%% CTAN: dviware/dvi2ps/dvi3ps
\def\cdps@Coombes#1{\special{ps-string #1}}%%
%% psprint (Trevorrow) CTAN: dviware/psprint
%% dvi2ps (Senn) CTAN: dviware/dvi2ps
%% psdvi (Elwell) CTAN: dviware/dvi2ps/psdvi

\count@=\year\multiply\count@12 \advance\count@\month%%
\ifnum\count@>24068 %% (August 2005) It's changing very fast at the moment!
\message{***********************************************************}%%ascii
\message{! YOU HAVE AN OUT OF DATE VERSION OF COMMUTATIVE DIAGRAMS! *}%%
\message{! it expired in August 2005 and is time-bombed for January *}%%
\message{! You may get an up to date version of this package from *}%%ascii
\message{! ftp://ftp.dcs.qmw.ac.uk/pub/tex/contrib/pt/diagrams/ *}%%
\message{***********************************************************}%%ascii
\ifnum\count@>24071 %% (November 2005)
\errhelp{You may press RETURN and carry on for the time being.}\message{! It
is embarrassing to see papers in conference proceedings}\message{! and
journals containing bugs which I had fixed years before.}\message{! It is easy
to obtain and install a new version, which will}\errmessage{! remain
compatible with your files. Please get it NOW.}\fi\fi

\def\CD@DE{\global\let}\def\CD@RH{\outer\def}

%% safe names for braces, tab (&) and maths ($), as commands and for messages
{\escapechar\m@ne\xdef\CD@o{\string\{}\xdef\CD@yC{\string\}}%%
%%
%% three ASCII ampersands (ands) (&&&) appear on the next line
\catcode\lq\&=4 \CD@DE\CD@Q=&\xdef\CD@S{\string\&}%%ascii three ands
%%
%% ASCII ^ and _ each appear twice on next line
%% six ASCII dollars ($$$$$$) appear on the next two lines.
\catcode\lq\$=3 \CD@DE\CD@k=$\CD@DE\CD@ND=$%%ascii three dollars
\xdef\CD@nC{\string\$}\gdef\CD@LG{$$}%%ascii three dollars
%%
%% two ASCII underlines (__) appear on the next line.
\catcode\lq\_=8 \CD@DE\CD@lJ=_%%ascii two underlines
%%
%% six ASCII carets (^^^^^^) appear on the next three lines.
\obeylines\catcode\lq\^=7 \CD@DE\@super=^%%ascii two carets
\ifnum\newlinechar=10 \gdef\CD@uG{^^J}%%ascii two carets
\else\ifnum\newlinechar=13 \gdef\CD@uG{^^M}%%ascii two carets
\else\CD@DE\CD@uG\space\expandafter\message{! input error: \noexpand
\newlinechar\space is ASCII \the\newlinechar, not LF=10 or CR=13.}%%
\fi\fi}%%

%% avoid using <> (because I personally re-define them to mean \langle\rangle)
\mathchardef\lessthan=\rq30474 \mathchardef\greaterthan=\rq30476

%% LaTeX line and arrowhead font
%% the "hit return" comments show up if the font is missing.
\ifx\tenln\undefined%%
\font\tenln=line10\relax%% Hit return - who needs diagonals?
\fi\ifx\tenlnw\undefined\ifx\tenln\nullfont\let\tenlnw\nullfont\else%%
\font\tenlnw=linew10\relax%% Hit return - who needs diagonals?
\fi\fi%%

%% report line numbers in TeX3 only
\ifx\inputlineno\undefined\csname newcount\endcsname\inputlineno\inputlineno
\m@ne\message{***************************************************}\message{!
Obsolete TeX (version 2). You should upgrade to *}\message{! version 3, which
has been available since 1990. *}\message{***********************************%
****************}\fi

\def\cd@shouldnt#1{\CD@KB{* THIS (#1) SHOULD NEVER HAPPEN! *}}

%% turn round- and square-bracketed arguments into curly-bracketed
\def\get@round@pair#1(#2,#3){#1{#2}{#3}}%%ascii round brackets ()
\def\get@square@arg#1[#2]{#1{#2}}%%ascii square brackets []
\def\CD@AE#1{\CD@PK\let\CD@DH\CD@@E\CD@@E#1,],}%%ascii sq brackets
\def\CD@m{[}\def\CD@RD{]}\def\commdiag#1{{\let\enddiagram\relax\diagram[]#1%
\enddiagram}}

%% ASCII open square bracket occurs on next line
\def\CD@BF{{\ifx\CD@EH[\aftergroup\get@square@arg\aftergroup\CD@YH\else
\aftergroup\CD@JH\fi}}%%
\def\CD@CF#1#2{\def\CD@YH{#1}\def\CD@JH{#2}\futurelet\CD@EH\CD@BF}

%% ASCII vertical bar (|) occurs on the next line
\def\CD@KK{|}

\def\CD@PB{%% arguments to maps inside diagrams
\tokcase\CD@DD:\CD@y\break@args;\catcase\@super:\upper@label;\catcase\CD@lJ:%
\lower@label;\tokcase{~}:\middle@label;%%ascii tilde
\tokcase<:\CD@iF;%%ascii less-than
\tokcase>:\CD@iI;%%ascii greater-than
\tokcase(:\CD@BC;%%)%ascii open round bracket
\tokcase[:\optional@;%%]%ascii open square bracket
\tokcase.:\CD@JJ;%%ascii dot 12.7.94
\catcase\space:\eat@space;\catcase\bgroup:\positional@;\default:\CD@@A
\break@args;\endswitch}

\def\switch@arg{%% arguments to horizontal maps outside diagrams
\catcase\@super:\upper@label;\catcase\CD@lJ:\lower@label;\tokcase[:\optional@
;%%]%ascii open square bracket
\tokcase.:\CD@JJ;%%ascii dot 12.7.94 % ; was : before 15.6.97
\catcase\space:\eat@space;\catcase\bgroup:\positional@;\tokcase{~}:%
\middle@label;%%ascii tilde (questionable!)
\default:\CD@y\break@args;\endswitch}

%% That's as much as you get to read "in clear" - the rest is private!

\let\CD@tJ\relax\ifx\protect\undefined\let\protect\relax\fi\ifx\AtEndDocument
\undefined\def\CD@PG{\CD@gB}\def\CD@GF#1#2{}\else\def\CD@PG#1{\edef\CD@CH{#1}%
\expandafter\CD@oC\CD@CH\CD@OD}\def\CD@oC#1\CD@OD{\AtEndDocument{\typeout{%
\CD@tA: #1}}}\def\CD@GF#1#2{\gdef#1{#2}\AtEndDocument{#1}}\fi\def\CD@ZA#1#2{%
\def#1{\CD@PG{#2\CD@mD\CD@W}\CD@DE#1\relax}}\def\CD@uF#1\repeat{\def\CD@p{#1}%
\CD@OF}\def\CD@OF{\CD@p\relax\expandafter\CD@OF\fi}\def\CD@sF#1\repeat{\def
\CD@q{#1}\CD@PF}\def\CD@PF{\CD@q\relax\expandafter\CD@PF\fi}\def\CD@tF#1%
\repeat{\def\CD@r{#1}\CD@QF}\def\CD@QF{\CD@r\relax\expandafter\CD@QF\fi}\def
\CD@tG#1#2#3{\def#2{\let#1\iftrue}\def#3{\let#1\iffalse}#3}\if y%
\diagram@help@messages\def\CD@rG#1#2{\csname newtoks\endcsname#1#1=%
\expandafter{\csname#2\endcsname}}\else\csname newtoks\endcsname\no@cd@help
\no@cd@help{See the manual}\def\CD@rG#1#2{\let#1\no@cd@help}\fi\chardef\CD@lF
=1 \chardef\CD@lI=2 \chardef\CD@MH=5 \chardef\CD@tH=6 \chardef\CD@sH=7
\chardef\CD@PC=9 \dimendef\CD@hI=2 \dimendef\CD@hF=3 \dimendef\CD@mF=4
\dimendef\CD@mI=5 \dimendef\CD@wJ=6 \dimendef\CD@tI=8 \dimendef\CD@sI=9
\skipdef\CD@uB=1 \skipdef\CD@NF=2 \skipdef\CD@tB=3 \skipdef\CD@ZE=4 \skipdef
\CD@JK=5 \skipdef\CD@kI=6 \skipdef\CD@kF=7 \skipdef\CD@qI=8 \skipdef\CD@pI=9
\countdef\CD@JC=9 \countdef\CD@gD=8 \countdef\CD@A=7 \def\sdef#1#2{\def#1{#2}%
}\def\CD@L#1{\expandafter\aftergroup\csname#1\endcsname}\def\CD@RC#1{%
\expandafter\def\csname#1\endcsname}\def\CD@sD#1{\expandafter\gdef\csname#1%
\endcsname}\def\CD@vC#1{\expandafter\edef\csname#1\endcsname}\def\CD@nF#1#2{%
\expandafter\let\csname#1\expandafter\endcsname\csname#2\endcsname}\def\CD@EE
#1#2{\expandafter\CD@DE\csname#1\expandafter\endcsname\csname#2\endcsname}%
\def\CD@AK#1{\csname#1\endcsname}\def\CD@XJ#1{\expandafter\show\csname#1%
\endcsname}\def\CD@ZJ#1{\expandafter\showthe\csname#1\endcsname}\def\CD@WJ#1{%
\expandafter\showbox\csname#1\endcsname}\def\CD@tA{Commutative Diagram}\edef
\CD@kH{\string\par}\edef\CD@dC{\string\diagram}\edef\CD@HD{\string\enddiagram
}\edef\CD@EC{\string\\}\def\CD@eF{LaTeX}\ifx\@ignoretrue\undefined
\expandafter\CD@tG\csname if@ignore\endcsname\ignore@true\ignore@false\def
\@ignoretrue{\global\ignore@true}\def\@ignorefalse{\global\ignore@false}\fi

\def\CD@g{{\ifnum0=\lq}\fi}\def\CD@wC{\ifnum0=\lq{\fi}}\def\catcase#1:{\ifcat
\noexpand\CD@EH#1\CD@tJ\expandafter\CD@kC\else\expandafter\CD@dJ\fi}\def
\tokcase#1:{\ifx\CD@EH#1\CD@tJ\expandafter\CD@kC\else\expandafter\CD@dJ\fi}%
\def\CD@kC#1;#2\endswitch{#1}\def\CD@dJ#1;{}\let\endswitch\relax\def\default:%
#1;#2\endswitch{#1}\ifx\at@\undefined\def\at@{@}\fi\edef\CD@P{\CD@o pt\CD@yC}%
\CD@RC{\CD@P>}#1>#2>{\CD@z\rTo\sp{#1}\sb{#2}\CD@z}\CD@RC{\CD@P<}#1<#2<{\CD@z
\lTo\sp{#1}\sb{#2}\CD@z}\CD@RC{\CD@P)}#1)#2){\CD@z\rTo\sp{#1}\sb{#2}\CD@z}%
%%ascii round
\CD@RC{\CD@P(}#1(#2({\CD@z\lTo\sp{#1}\sb{#2}\CD@z}%%ascii brack
\def\CD@O{\def\endCD{\enddiagram}\CD@RC{\CD@P A}##1A##2A{\uTo<{##1}>{##2}%
\CD@z\CD@z}\CD@RC{\CD@P V}##1V##2V{\dTo<{##1}>{##2}\CD@z\CD@z}\CD@RC{\CD@P=}{%
\CD@z\hEq\CD@z}\CD@RC{\CD@P\CD@KK}{\vEq\CD@z\CD@z}\CD@RC{\CD@P\string\vert}{%
\vEq\CD@z\CD@z}\CD@RC{\CD@P.}{\CD@z\CD@z}\let\CD@z\CD@Q}\def\CD@IE{\let\tmp
\CD@JE\ifcat A\noexpand\CD@CH\else\ifcat=\noexpand\CD@CH\else\ifcat\relax
\noexpand\CD@CH\else\let\tmp\at@\fi\fi\fi\tmp}\def\CD@JE#1{\CD@nF{tmp}{\CD@P
\string#1}\ifx\tmp\relax\def\tmp{\at@#1}\fi\tmp}\def\CD@z{}\begingroup
\aftergroup\def\aftergroup\CD@T\aftergroup{\aftergroup\def\catcode\lq\@%
\active\aftergroup @\endgroup{\futurelet\CD@CH\CD@IE}}\newcount\CD@uA
\newcount\CD@vA\newcount\CD@wA\newcount\CD@xA\newdimen\CD@OA\newdimen\CD@PA
\CD@tG\CD@gE\CD@@A\CD@y\CD@tG\CD@hE\CD@EA\CD@BA\newdimen\CD@RA\newdimen\CD@SA
\newcount\CD@yA\newcount\CD@zA\newdimen\CD@QA\newbox\CD@DA\CD@tG\CD@lE\CD@dA
\CD@bA\newcount\CD@LH\newcount\CD@TC\def\CD@V#1#2{\ifdim#1<#2\relax#1=#2%
\relax\fi}\def\CD@X#1#2{\ifdim#1>#2\relax#1=#2\relax\fi}\newdimen\CD@XH\CD@XH
=1sp \newdimen\CD@zC\CD@zC\z@\def\CD@cJ{\ifdim\CD@zC=1em\else\CD@nJ\fi}\def
\CD@nJ{\CD@zC1em\def\CD@NC{\fontdimen8\textfont3 }\CD@@J\CD@NJ\setbox0=\vbox{%
\CD@t\noindent\CD@k\null\penalty-9993\null\CD@ND\null\endgraf\setbox0=%
\lastbox\unskip\unpenalty\setbox1=\lastbox\global\setbox\CD@IG=\hbox{\unhbox0%
\unskip\unskip\unpenalty\setbox0=\lastbox}\global\setbox\CD@KG=\hbox{\unhbox1%
\unskip\unpenalty\setbox1=\lastbox}}}\newdimen\CD@@I\CD@@I=1true in \divide
\CD@@I300 \def\CD@zH#1{\multiply#1\tw@\advance#1\ifnum#1<\z@-\else+\fi\CD@@I
\divide#1\tw@\divide#1\CD@@I\multiply#1\CD@@I}\def\MapBreadth{%
\afterassignment\CD@gI\CD@LF}\newdimen\CD@LF\newdimen\CD@oI\def\CD@gI{\CD@oI
\CD@LF\CD@V\CD@@I{4\CD@XH}\CD@X\CD@@I\p@\CD@zH\CD@oI\ifdim\CD@LF>\z@\CD@V
\CD@oI\CD@@I\fi\CD@cJ}\def\CD@RJ#1{\CD@zD\count@\CD@@I#1\ifnum\count@>\z@
\divide\CD@@I\count@\fi\CD@gI\CD@NJ}\def\CD@NJ{\dimen@\CD@QC\count@\dimen@
\divide\count@5\divide\count@\CD@@I\edef\CD@OC{\the\count@}}\def\CD@AJ{\CD@QJ
\z@}\def\CD@QJ#1{\CD@tI\axisheight\advance\CD@tI#1\relax\advance\CD@tI-.5%
\CD@oI\CD@zH\CD@tI\CD@sI-\CD@tI\advance\CD@tI\CD@LF}\newdimen\CD@DC\CD@DC\z@
\newdimen\CD@eJ\CD@eJ\z@\def\CD@CJ#1{\CD@sI#1\relax\CD@tI\CD@sI\advance\CD@tI
\CD@LF\relax}\def\horizhtdp{height\CD@tI depth\CD@sI}\def\axisheight{%
\fontdimen22\the\textfont\tw@}\def\script@axisheight{\fontdimen22\the
\scriptfont\tw@}\def\ss@axisheight{\fontdimen22\the\scriptscriptfont\tw@}\def
\CD@NC{0.4pt}\def\CD@VK{\fontdimen3\textfont\z@}\def\CD@UK{\fontdimen3%
\textfont\z@}\newdimen\PileSpacing\newdimen\CD@nA\CD@nA\z@\def\CD@RG{%
\ifincommdiag1.3em\else2em\fi}\newdimen\CD@YB\def\CellSize{\afterassignment
\CD@kB\DiagramCellHeight}\newdimen\DiagramCellHeight\DiagramCellHeight-%
\maxdimen\newdimen\DiagramCellWidth\DiagramCellWidth-\maxdimen\def\CD@kB{%
\DiagramCellWidth\DiagramCellHeight}\def\CD@QC{3em}\newdimen\MapShortFall\def
\MapsAbut{\MapShortFall\z@\objectheight\z@\objectwidth\z@}\newdimen\CD@iA
\CD@iA\z@\def\newarrowhead{\CD@mG h\CD@BG\CD@GG>}\def\newarrowtail{\CD@mG t%
\CD@BG\CD@GG>}\def\newarrowmiddle{\CD@mG m\CD@BG\hbox@maths\empty}\def
\newarrowfiller{\CD@mG f\CD@bE\CD@MK-}\def\CD@mG#1#2#3#4#5#6#7#8#9{\CD@RC{r#1%
:#5}{#2{#6}}\CD@RC{l#1:#5}{#2{#7}}\CD@RC{d#1:#5}{#3{#8}}\CD@RC{u#1:#5}{#3{#9}%
}\CD@vC{-#1:#5}{\expandafter\noexpand\csname-#1:#4\endcsname\noexpand\CD@MC}%
\CD@vC{+#1:#5}{\expandafter\noexpand\csname+#1:#4\endcsname\noexpand\CD@MC}}%
\CD@ZA\CD@MC{\CD@eF\space diagonals are used unless PostScript is set}\def
\defaultarrowhead#1{\edef\CD@sJ{#1}\CD@@J}\def\CD@@J{\CD@IJ\CD@sJ<>ht\CD@IJ
\CD@sJ<>th}\def\CD@IJ#1#2#3#4#5{\CD@HJ{r#4}{#3}{l#5}{#2}{r#4:#1}\CD@HJ{r#5}{#%
2}{l#4}{#3}{l#4:#1}\CD@HJ{d#4}{#3}{u#5}{#2}{d#4:#1}\CD@HJ{d#5}{#2}{u#4}{#3}{u%
#4:#1}}\def\CD@HJ#1#2#3#4#5{\begingroup\aftergroup\CD@GJ\CD@L{#1+:#2}\CD@L{#1%
:#2}\CD@L{#3:#4}\CD@L{#5}\endgroup}\def\CD@GJ#1#2#3#4{\csname newbox%
\endcsname#1\def#2{\copy#1}\def#3{\copy#1}\setbox#1=\box\voidb@x}\def\CD@sJ{}%
\CD@@J\def\CD@GJ#1#2#3#4{\setbox#1=#4}\ifx\tenln\nullfont\def\CD@sJ{vee}\else
\let\CD@sJ\CD@eF\fi\def\CD@xF#1#2#3{\begingroup\aftergroup\CD@wF\CD@L{#1#2:#3%
#3}\CD@L{#1#2:#3}\aftergroup\CD@yF\CD@L{#1#2:#3-#3}\CD@L{#1#2:#3}\endgroup}%
\def\CD@wF#1#2{\def#1{\hbox{\rlap{#2}\kern.4\CD@zC#2}}}\def\CD@yF#1#2{\def#1{%
\hbox{\rlap{#2}\kern.4\CD@zC#2\kern-.4\CD@zC}}}\CD@xF lh>\CD@xF rt>\CD@xF rh<%
\CD@xF rt<\def\CD@yF#1#2{\def#1{\hbox{\kern-.4\CD@zC\rlap{#2}\kern.4\CD@zC#2}%
}}\CD@xF rh>\CD@xF lh<\CD@xF lt>\CD@xF lt<\def\CD@wF#1#2{\def#1{\vbox{\vbox to%
\z@{#2\vss}\nointerlineskip\kern.4\CD@zC#2}}}\def\CD@yF#1#2{\def#1{\vbox{%
\vbox to\z@{#2\vss}\nointerlineskip\kern.4\CD@zC#2\kern-.4\CD@zC}}}\CD@xF uh>%
\CD@xF dt>\CD@xF dh<\CD@xF dt<\def\CD@yF#1#2{\def#1{\vbox{\kern-.4\CD@zC\vbox
to\z@{#2\vss}\nointerlineskip\kern.4\CD@zC#2}}}\CD@xF dh>\CD@xF ut>\CD@xF uh<%
\CD@xF ut<\def\CD@BG#1{\hbox{\mathsurround\z@\offinterlineskip\CD@k\mkern-1.5%
mu{#1}\mkern-1.5mu\CD@ND}}\def\hbox@maths#1{\hbox{\CD@k#1\CD@ND}}\def\CD@GG#1%
{\hbox to\CD@LF{\setbox0=\hbox{\offinterlineskip\mathsurround\z@\CD@k{#1}%
\CD@ND}\dimen0.5\wd0\advance\dimen0-.5\CD@oI\CD@zH{\dimen0}\kern-\dimen0%
\unhbox0\hss}}\def\CD@sB#1{\hbox to2\CD@LF{\hss\offinterlineskip\mathsurround
\z@\CD@k{#1}\CD@ND\hss}}\def\CD@vF#1{\hbox{\mathsurround\z@\CD@k{#1}\CD@ND}}%
\def\CD@bE#1{\hbox{\kern-.15\CD@zC\CD@k{#1}\CD@ND\kern-.15\CD@zC}}\def\CD@MK#%
1{\vbox{\offinterlineskip\kern-.2ex\CD@GG{#1}\kern-.2ex}}\def\@fillh{%
\xleaders\vrule\horizhtdp}\def\@fillv{\xleaders\hrule width\CD@LF}\CD@nF{rf:-%
}{@fillh}\CD@nF{lf:-}{@fillh}\CD@nF{df:-}{@fillv}\CD@nF{uf:-}{@fillv}\CD@nF{%
rh:}{null}\CD@nF{rm:}{null}\CD@nF{rt:}{null}\CD@nF{lh:}{null}\CD@nF{lm:}{null%
}\CD@nF{lt:}{null}\CD@nF{dh:}{null}\CD@nF{dm:}{null}\CD@nF{dt:}{null}\CD@nF{%
uh:}{null}\CD@nF{um:}{null}\CD@nF{ut:}{null}\CD@nF{+h:}{null}\CD@nF{+m:}{null%
}\CD@nF{+t:}{null}\CD@nF{-h:}{null}\CD@nF{-m:}{null}\CD@nF{-t:}{null}\def
\CD@@D{\hbox{\vrule height 1pt depth-1pt width 1pt}}\CD@RC{rf:}{\CD@@D}\CD@nF
{lf:}{rf:}\CD@nF{+f:}{rf:}\CD@RC{df:}{\CD@@D}\CD@nF{uf:}{df:}\CD@nF{-f:}{df:}%
\def\CD@BD{\CD@U\null\CD@@D\null\CD@@D\null}\edef\CD@lG{\string\newarrow}\def
\newarrow#1#2#3#4#5#6{\begingroup\edef\@name{#1}\edef\CD@oJ{#2}\edef\CD@iD{#3%
}\edef\CD@QG{#4}\edef\CD@jD{#5}\edef\CD@LE{#6}\let\CD@HE\CD@sG\let\CD@FK
\CD@BH\let\@x\CD@AH\ifx\CD@oJ\CD@iD\let\CD@oJ\empty\fi\ifx\CD@LE\CD@jD\let
\CD@LE\empty\fi\def\CD@LI{r}\def\CD@SF{l}\def\CD@IC{d}\def\CD@yJ{u}\def\CD@gH
{+}\def\@m{-}\ifx\CD@iD\CD@jD\ifx\CD@QG\CD@iD\let\CD@QG\empty\fi\ifx\CD@LE
\empty\ifx\CD@iD\CD@aE\let\@x\CD@yG\else\let\@x\CD@zG\fi\fi\else\edef\CD@a{%
\CD@iD\CD@oJ}\ifx\CD@a\empty\ifx\CD@QG\CD@jD\let\CD@QG\empty\fi\fi\fi\ifmmode
\aftergroup\CD@kG\else\CD@@A\CD@oB rh{head\space\space}\CD@LE\CD@oB rf{filler%
}\CD@iD\CD@oB rm{middle}\CD@QG\ifx\CD@jD\CD@iD\else\CD@oB rf{filler}\CD@jD\fi
\CD@oB rt{tail\space\space}\CD@oJ\CD@gE\CD@HE\CD@FK\@x\CD@nG l-2+2{lu}{nw}%
\NorthWest\CD@nG r+2+2{ru}{ne}\NorthEast\CD@nG l-2-2{ld}{sw}\SouthWest\CD@nG r%
+2-2{rd}{se}\SouthEast\else\aftergroup\CD@b\CD@L{r\@name}\fi\fi\endgroup}\def
\CD@sG{\CD@vG\CD@LI\CD@SF rl\Horizontal@Map}\def\CD@BH{\CD@vG\CD@IC\CD@yJ du%
\Vertical@Map}\def\CD@AH{\CD@vG\CD@gH\@m+-\Vector@Map}\def\CD@yG{\CD@vG\CD@gH
\@m+-\Slant@Map}\def\CD@zG{\CD@vG\CD@gH\@m+-\Slope@Map}\catcode\lq\/=\active
\def\CD@vG#1#2#3#4#5{\CD@jG#1#3#5t:\CD@oJ/f:\CD@iD/m:\CD@QG/f:\CD@jD/h:\CD@LE
//\CD@jG#2#4#5h:\CD@LE/f:\CD@jD/m:\CD@QG/f:\CD@iD/t:\CD@oJ//}\def\CD@jG#1#2#3%
#4//{\edef\CD@fG{#2}\aftergroup\sdef\CD@L{#1\@name}\aftergroup{\aftergroup#3%
\CD@M#4//\aftergroup}}\def\CD@M#1/{\edef\CD@EH{#1}\ifx\CD@EH\empty\else\CD@L{%
\CD@fG#1}\expandafter\CD@M\fi}\catcode\lq\/=12 \def\CD@nG#1#2#3#4#5#6#7#8{%
\aftergroup\sdef\CD@L{#6\@name}\aftergroup{\CD@L{#2\@name}\if#2#4\aftergroup
\CD@CI\else\aftergroup\CD@BI\fi\CD@L{#1\@name}%
%% ASCII round brackets and comma (,) appear on the next line
\aftergroup(\aftergroup#3\aftergroup,\aftergroup#5\aftergroup)\aftergroup}}%
\def\CD@oB#1#2#3#4{\expandafter\ifx\csname#1#2:#4\endcsname\relax\CD@y\CD@gB{%
arrow#3 "#4" undefined}\fi}\CD@rG\CD@VE{All five components must be defined
before an arrow.}\CD@rG\CD@SE{\CD@lG, unlike \string\HorizontalMap, is a
declaration.}\def\CD@b#1{\CD@YA{Arrows \string#1 etc could not be defined}%
\CD@VE}\def\CD@kG{\CD@YA{misplaced \CD@lG}\CD@SE}\def\newdiagramgrid#1#2#3{%
\CD@RC{cdgh@#1}{#2,],}%% ASCII close square bracket
\CD@RC{cdgv@#1}{#3,],}}%% ASCII close square bracket
\CD@tG\ifincommdiag\incommdiagtrue\incommdiagfalse\CD@tG\CD@@F\CD@IF\CD@HF
\newcount\CD@VA\CD@VA=0 \def\CD@yH{\CD@VA6 }\def\CD@OB{\CD@VA1 \global\CD@yA1
\CD@DE\CD@YF\empty}\def\CD@YF{}\def\CD@nB#1{\relax\CD@MD\edef\CD@vJ{#1}%
\begingroup\CD@rE\else\ifcase\CD@VA\ifmmode\else\CD@YG\CD@E0\fi\or\CD@cE5\or
\CD@YG\CD@F5\or\CD@YG\CD@B5\or\CD@YG\CD@B5\or\CD@YG\CD@C5\or\CD@cE7\or\CD@YG
\CD@D7\fi\fi\endgroup\xdef\CD@YF{#1}}\def\CD@pB#1#2#3#4#5{\relax\CD@MD\xdef
\CD@vJ{#4}\begingroup\ifnum\CD@VA<#1 \expandafter\CD@cE\ifcase\CD@VA0\or#2\or
#3\else#2\fi\else\ifnum\CD@VA<6 \CD@tJ\CD@YG\CD@B#2\else\CD@YG\CD@G#2\fi\fi
\endgroup\CD@DE\CD@YF\CD@vJ\ifincommdiag\let\CD@ZD#5\else\let\CD@ZD\CD@LK\fi}%
\def\CD@yI{\global\CD@yA=\ifnum\CD@VA<5 1\else2\fi\relax}\def\CD@OI{\CD@VA
\CD@yA}\def\CD@cE#1{\aftergroup\CD@VA\aftergroup#1\aftergroup\relax}\def
\CD@HH{\def\CD@nB##1{\relax}\let\CD@pB\CD@FH\let\CD@yH\relax\let\CD@OB\relax
\let\CD@yI\relax\let\CD@OI\relax}\def\CD@FH#1#2#3#4#5{\ifincommdiag\let\CD@ZD
#5\else\xdef\CD@vJ{#4}\let\CD@ZD\CD@LK\fi}\def\CD@YG#1{\aftergroup#1%
\aftergroup\relax\CD@cE}\def\CD@B{\CD@YE\CD@S\CD@ME\CD@Q}\def\CD@G{\CD@YE{%
\CD@yC\CD@S}\CD@XE\CD@QD\CD@Q}\def\CD@F{\CD@YE{*\CD@S}\CD@RE\clubsuit\CD@Q}%
\def\CD@C{\CD@YE{\CD@S*\CD@S}\CD@RE\CD@Q\clubsuit\CD@Q}\def\CD@D{\CD@YE\CD@EC
\CD@TE\\}\def\CD@E{\CD@YE\CD@nC\CD@QE\CD@k}\def\CD@LK{\CD@YA{\CD@vJ\space
ignored \CD@dH}\CD@WE}\def\CD@FE{}\def\CD@d{\CD@YA{maps must never be enclosed
in braces}\CD@OE}\def\CD@dH{outside diagram}\def\CD@FC{\string\HonV, \string
\VonH\space and \string\HmeetV}\CD@rG\CD@ME{The way that horizontal and
vertical arrows are terminated implicitly means\CD@uG that they cannot be
mixed with each other or with \CD@FC.}\CD@rG\CD@XE{\string\pile\space is for
parallel horizontal arrows; verticals can just be put together in\CD@uG a cell%
. \CD@FC\space are not meaningful in a \string\pile.}\CD@rG\CD@RE{The
horizontal maps must point to an object, not each other (I've put in\CD@uG one
which you're unlikely to want). Use \string\pile\space if you want them
parallel.}\CD@rG\CD@TE{Parallel horizontal arrows must be in separate layers
of a \string\pile.}\CD@rG\CD@QE{Horizontal arrows may be used \CD@dH s, but
must still be in maths.}\CD@rG\CD@WE{Vertical arrows, \CD@FC\space\CD@dH s don%
't know where\CD@uG where to terminate.}\CD@rG\CD@OE{This prevents them from
stretching correctly.}\def\CD@YE#1{\CD@YA{"#1" inserted \ifx\CD@YF\empty
before \CD@vJ\else between \CD@YF\ifx\CD@YF\CD@vJ s\else\space and \CD@vJ\fi
\fi}}\count@=\year\multiply\count@12 \advance\count@\month\ifnum\count@>24073
\message{because this one expired in August 2005!}\expandafter\endinput\fi
\def\Horizontal@Map{\CD@nB{horizontal map}\CD@LC\CD@TJ\CD@qD}\def\CD@TJ{%
\CD@GB-9999 \let\CD@ZD\CD@XD\ifincommdiag\else\CD@cJ\ifinpile\else\skip2\z@
plus 1.5\CD@VK minus .5\CD@UK\skip4\skip2 \fi\fi\let\CD@kD\@fillh\CD@nF{%
fill@dot}{rf:.}}\def\Vector@Map{\CD@HK4}\def\Slant@Map{\CD@HK{\CD@EF255\else6%
\fi}}\def\Slope@Map{\CD@HK\CD@OC}\def\CD@HK#1#2#3#4#5#6{\CD@LC\def\CD@WK{2}%
\def\CD@aK{2}\def\CD@ZK{1}\def\CD@bK{1}\let\Horizontal@Map\CD@nI\def\CD@OG{#1%
}\def\CD@NI{\CD@U#2#3#4#5#6}}\def\CD@nI{\CD@TJ\CD@JB\let\CD@ZD\CD@TD\CD@qD}%
\CD@tG\CD@pE\CD@rA\CD@qA\CD@rA\def\cds@missives{\CD@rA}\def\CD@TD{\CD@vE\let
\CD@OG\CD@OC\CD@x\CD@zE\CD@WF\fi\setbox0\hbox{\incommdiagfalse\CD@HI}\CD@pE
\CD@aD\else\global\CD@YC\CD@bD\fi\ifvoid6 \ifvoid7 \CD@eE\fi\fi\CD@zE\else
\CD@BD\global\CD@YC\let\CD@CG\CD@IH\CD@YD\fi\else\CD@NI\CD@MI\global\CD@YC
\CD@YD\fi}\def\CD@LC{\begingroup\dimen1=\MapShortFall\dimen2=\CD@RG\dimen5=%
\MapShortFall\setbox3=\box\voidb@x\setbox6=\box\voidb@x\setbox7=\box\voidb@x
\CD@pD\mathsurround\z@\skip2\z@ plus1fill minus 1000pt\skip4\skip2 \CD@TB}%
\CD@tG\CD@tE\CD@UB\CD@TB\def\CD@U#1#2#3#4#5{\let\CD@oJ#1\let\CD@iD#2\let
\CD@QG#3\let\CD@jD#4\let\CD@LE#5\CD@TB\ifx\CD@iD\CD@jD\CD@UB\fi}\def\CD@qD#1#%
2#3#4#5{\CD@U#1#2#3#4#5\CD@tD}\def\Vertical@Map{\CD@pB433{vertical map}\CD@cD
\CD@LC\CD@GB-9995 \let\CD@kD\@fillv\CD@nF{fill@dot}{df:.}\CD@qD}\def
\break@args{\def\CD@tD{\CD@ZD}\CD@ZD\endgroup\aftergroup\CD@FE}\def\CD@MJ{%
\setbox1=\CD@oJ\setbox5=\CD@LE\ifvoid3 \ifx\CD@QG\null\else\setbox3=\CD@QG\fi
\fi\CD@@G2\CD@iD\CD@@G4\CD@jD}\def\CD@pF#1{\ifvoid1\else\CD@oF1#1\fi\ifvoid2%
\else\CD@oF2#1\fi\ifvoid3\else\CD@oF3#1\fi\ifvoid4\else\CD@oF4#1\fi\ifvoid5%
\else\CD@oF5#1\fi} \def\CD@oF#1#2{\setbox#1\vbox{\offinterlineskip\box#1%
\dimen@\prevdepth\advance\dimen@-#2\relax\setbox0\null\dp0\dimen@\ht0-\dimen@
\box0}}\def\CD@@G#1#2{\ifx#2\CD@kD\setbox#1=\box\voidb@x\else\setbox#1=#2\def
#2{\xleaders\box#1}\fi}\CD@ZA\CD@BK{\string\HorizontalMap, \string
\VerticalMap\space and \string\DiagonalMap\CD@uG are obsolete - use \CD@lG
\space to pre-define maps}\def\HorizontalMap#1#2#3#4#5{\CD@BK\CD@nB{old
horizontal map}\CD@LC\CD@TJ\def\CD@oJ{\CD@UH{#1}}\CD@SH\CD@iD{#2}\def\CD@QG{%
\CD@UH{#3}}\CD@SH\CD@jD{#4}\def\CD@LE{\CD@UH{#5}}\CD@tD}\def\VerticalMap#1#2#%
3#4#5{\CD@BK\CD@pB433{vertical map}\CD@cD\CD@LC\CD@GB-9995 \let\CD@kD\@fillv
\def\CD@oJ{\CD@GG{#1}}\CD@VH\CD@iD{#2}\def\CD@QG{\CD@GG{#3}}\CD@VH\CD@jD{#4}%
\def\CD@LE{\CD@GG{#5}}\CD@tD}\def\DiagonalMap#1#2#3#4#5{\CD@BK\CD@LC\def
\CD@OG{4}\let\CD@kD\undefined\let\CD@ZD\CD@YD\def\CD@WK{2}\def\CD@aK{2}\def
\CD@ZK{1}\def\CD@bK{1}\def\CD@QG{\CD@vF{#3}}\ifPositiveGradient\let\mv\raise
\def\CD@oJ{\CD@vF{#5}}\def\CD@iD{\CD@vF{#4}}\def\CD@jD{\CD@vF{#2}}\def\CD@LE{%
\CD@vF{#1}}\else\let\mv\lower\def\CD@oJ{\CD@vF{#1}}\def\CD@iD{\CD@vF{#2}}\def
\CD@jD{\CD@vF{#4}}\def\CD@LE{\CD@vF{#5}}\fi\CD@tD}\def\CD@aE{-}\def\CD@AD{%
\empty}\def\CD@SH{\CD@EG\CD@bE\CD@aE\@fillh}\def\CD@VH{\CD@EG\CD@MK\CD@KK
\@fillv}\def\CD@EG#1#2#3#4#5{\def\CD@CH{#5}\ifx\CD@CH#2\let#4#3\else\let#4%
\null\ifx\CD@CH\empty\else\ifx\CD@CH\CD@AD\else\let#4\CD@CH\fi\fi\fi}\def
\CD@UH#1{\hbox{\mathsurround\z@\offinterlineskip\def\CD@CH{#1}\ifx\CD@CH
\empty\else\ifx\CD@CH\CD@AD\else\CD@k\mkern-1.5mu{\CD@CH}\mkern-1.5mu\CD@ND
\fi\fi}}\def\CD@yD#1#2{\setbox#1=\hbox\bgroup\setbox0=\hbox{\CD@k\labelstyle(%
)\CD@ND}%% ASCII round brackets
\setbox1=\null\ht1\ht0\dp1\dp0\box1 \kern.1\CD@zC\CD@k\bgroup\labelstyle
\aftergroup\CD@LD\CD@xD}\def\CD@LD{\CD@ND\kern.1\CD@zC\egroup\CD@tD}\def
\CD@xD{\futurelet\CD@EH\CD@mJ}\def\CD@mJ{%% qualifiers on label arguments
\catcase\bgroup:\CD@v;\catcase\egroup:\missing@label;\catcase\space:\CD@TF;%
\tokcase[:\CD@XF;%%]%ascii close square bracket 
\default:\CD@zJ;\endswitch}\def\CD@v{\let\CD@MD\CD@c\let\CD@CH}\def\CD@zJ#1{%
\let\CD@UF\egroup{\let\actually@braces@missing@around@macro@in@label\CD@ZH
\let\CD@MD\CD@xC\let\CD@UF\CD@VF#1%
\actually@braces@missing@around@macro@in@label}\CD@UF}\def
\actually@braces@missing@around@macro@in@label{\let\CD@CH=}\def\missing@label
{\egroup\CD@YA{missing label}\CD@PE}\def\CD@xC{\egroup\missing@label}\outer
\def\CD@ZH{}\def\CD@UF{}\def\CD@VF{\CD@wC\CD@UF}\def\CD@MD{}\def\CD@XF{\let
\CD@N\CD@xD\get@square@arg\CD@AE}\CD@rG\CD@PE{The text which has just been
read is not allowed within map labels.}\def\CD@c{\egroup\CD@YA{missing \CD@yC
\space inserted after label}\CD@PE}\def\upper@label{\CD@oD\CD@yD6}\def
\lower@label{\def\positional@{\CD@@A\break@args}\CD@yD7}\def\middle@label{%
\CD@yD3}\CD@tG\CD@yE\CD@pD\CD@oD\def\CD@iF{\ifPositiveGradient\CD@tJ
\expandafter\upper@label\else\expandafter\lower@label\fi}\def\CD@iI{%
\ifPositiveGradient\CD@tJ\expandafter\lower@label\else\expandafter
\upper@label\fi}\CD@ZA\CD@QH{labels as positional arguments are obsolete}\def
\positional@{\CD@QH\CD@yE\CD@tJ\expandafter\upper@label\else\expandafter
\lower@label\fi-}\def\CD@tD{\futurelet\CD@EH\switch@arg}\def\eat@space{%
\afterassignment\CD@tD\let\CD@EH= }\def\CD@TF{\afterassignment\CD@xD\let
\CD@EH= }\def\CD@BC{\get@round@pair\CD@uD}\def\CD@uD#1#2{\def\CD@WK{#1}\def
\CD@aK{#2}\CD@tD}\def\optional@{\let\CD@N\CD@tD\get@square@arg\CD@AE}\def
\CD@JJ.{\CD@sC\CD@tD}\def\CD@sC{\let\CD@iD\fill@dot\let\CD@jD\fill@dot\def
\CD@MI{\let\CD@iD\dfdot\let\CD@jD\dfdot}}\def\CD@MI{}\def\CD@@E#1,{\CD@nH#1,%
\begingroup\ifx\@name\CD@RD\CD@FF\aftergroup\CD@e\fi\aftergroup\CD@jC\else
\expandafter\def\expandafter\CD@RF\expandafter{\csname\@name\endcsname}%
\expandafter\CD@vD\CD@RF\CD@KD\ifx\CD@RF\empty\aftergroup\CD@pC\expandafter
\aftergroup\csname\CD@FB\@name\endcsname\expandafter\aftergroup\csname\CD@FB @%
\@name\endcsname\else\gdef\CD@GE{#1}\CD@gB{\string\relax\space inserted before
`[\CD@GE'}\message{(I was trying to read this as a \CD@tA\ option.)}%
\aftergroup\CD@H\fi\fi\endgroup}\def\CD@vD#1#2\CD@KD{\def\CD@RF{#2}}\def
\CD@jC{\let\CD@CH\CD@N\let\CD@N\relax\CD@CH}\def\CD@H#1],{%
%% ASCII close square bracket
\CD@jC\relax\def\CD@RF{#1}\ifx\CD@RF\empty\def\CD@RF{[\CD@GE]}%
%% ASCII open and close square bracket
\else\def\CD@RF{[\CD@GE,#1]}%% ASCII open and close square bracket
\fi\CD@RF}\def\CD@pC#1#2{\ifx#2\undefined\ifx#1\undefined\CD@gB{option `%
\@name' undefined}\else#1\fi\else\CD@FF\expandafter#2\CD@GK\CD@PK\else\CD@QK
\fi\fi\CD@DH}\CD@tG\CD@FF\CD@QK\CD@PK\def\CD@nH#1,{\CD@FF\ifx\CD@GK\undefined
\CD@e\else\expandafter\CD@oH\CD@GK,#1,(,),(,)[]%
%%ASCII 5commas two pairs round, pair square
\fi\fi\CD@FF\else\CD@mH#1==,\fi}\def\CD@e{\CD@gB{option `\@name' needs (x,y)
value}\CD@PK\let\@name\empty}\def\CD@mH#1=#2=#3,{\def\@name{#1}\def\CD@GK{#2}%
\def\CD@RF{#3}\ifx\CD@RF\empty\let\CD@GK\undefined\fi}%
%% ASCII 2commas 2pair round, pair square on next line
\def\CD@oH#1(#2,#3)#4,(#5,#6)#7[]{\def\CD@GK{{#2}{#3}}\def\CD@RF{#1#4#5#6}%
\ifx\CD@RF\empty\def\CD@RF{#7}\ifx\CD@RF\empty\CD@e\fi\else\CD@e\fi}\def
\CD@FB{cds@}\let\CD@N\relax\def\CD@zD#1{\ifx\CD@GK\undefined\CD@gB{option `%
\@name' needs a value}\else#1\CD@GK\relax\fi}\def\CD@BE#1#2{\ifx\CD@GK
\undefined#1#2\relax\else#1\CD@GK\relax\fi}\def\cds@@showpair#1#2{\message{x=%
#1,y=#2}}\def\cds@@diagonalbase#1#2{\edef\CD@ZK{#1}\edef\CD@bK{#2}}\def\CD@DI
#1{\CD@nF{@x}{cdps@#1}\ifx\@x\relax\CD@f{unknown}\else\ifx\@x\empty\CD@f{%
cannot be used}\else\let\CD@IK\@x\fi\fi}\def\CD@f#1{\CD@gB{PostScript
translator `\CD@GK' #1}\CD@ZB\let\cds@PS\empty\let\cds@noPS\empty}\def\CD@PH{%
}\def\CD@PJ{\CD@fA\edef\CD@PH{\noexpand\CD@KB{\@name\space ignored within
maths}}}\def\diagramstyle{\CD@cJ\let\CD@N\relax\CD@CF\CD@AE\CD@AE}\let
\diagramsstyle\diagramstyle\CD@tG\CD@sE\CD@SB\CD@RB\CD@tG\CD@qE\CD@EB\CD@DB
\CD@tG\CD@oE\CD@pA\CD@oA\CD@tG\CD@iE\CD@HA\CD@GA\CD@HA\CD@tG\CD@jE\CD@JA
\CD@IA\CD@tG\CD@kE\CD@LA\CD@KA\CD@tG\CD@vE\CD@aB\CD@ZB\CD@tG\CD@EF\CD@DK
\CD@CK\CD@tG\CD@rE\CD@JB\CD@IB\CD@tG\CD@mE\CD@gA\CD@fA\CD@tG\CD@nE\CD@kA
\CD@jA\CD@tG\CD@AF\CD@iG\CD@hG\CD@RC{cds@ }{}\CD@RC{cds@}{}\CD@RC{cds@1em}{%
\CellSize1\CD@zC}\CD@RC{cds@1.5em}{\CellSize1.5\CD@zC}\CD@RC{cds@2em}{%
\CellSize2\CD@zC}\CD@RC{cds@2.5em}{\CellSize2.5\CD@zC}\CD@RC{cds@3em}{%
\CellSize3\CD@zC}\CD@RC{cds@3.5em}{\CellSize3.5\CD@zC}\CD@RC{cds@4em}{%
\CellSize4\CD@zC}\CD@RC{cds@4.5em}{\CellSize4.5\CD@zC}\CD@RC{cds@5em}{%
\CellSize5\CD@zC}\CD@RC{cds@6em}{\CellSize6\CD@zC}\CD@RC{cds@7em}{\CellSize7%
\CD@zC}\CD@RC{cds@8em}{\CellSize8\CD@zC}\def\cds@abut{\MapsAbut\dimen1\z@
\dimen5\z@}\def\cds@alignlabels{\CD@IA\CD@KA}\def\cds@amstex{\ifincommdiag
\CD@O\else\def\CD{\diagram[amstex]}%%ascii square brackets []
\fi\CD@T\catcode\lq\@\active}\def\cds@b{\let\CD@dB\CD@bB}\def\cds@balance{%
\let\CD@hA\CD@AA}\let\cds@bottom\cds@b\def\cds@center{\cds@vcentre
\cds@nobalance}\let\cds@centre\cds@center\def\cds@centerdisplay{\CD@HA\CD@PJ
\cds@balance}\let\cds@centredisplay\cds@centerdisplay\def\cds@crab{\CD@BE
\CD@DC{.5\PileSpacing}}\CD@RC{cds@crab-}{\CD@DC-.5\PileSpacing}\CD@RC{%
cds@crab+}{\CD@DC.5\PileSpacing}\CD@RC{cds@crab++}{\CD@DC1.5\PileSpacing}%
\CD@RC{cds@crab--}{\CD@DC-1.5\PileSpacing}\def\cds@defaultsize{\CD@BE{\let
\CD@QC}{3em}\CD@NJ}\def\cds@displayoneliner{\CD@DB}\let\cds@dotted\CD@sC\def
\cds@dpi{\CD@RJ{1truein}}\def\cds@dpm{\CD@RJ{100truecm}}\let\CD@XA\undefined
\def\cds@eqno{\let\CD@XA\CD@GK\let\CD@EJ\empty}\def\cds@fixed{\CD@qA}\CD@tG
\CD@fE\CD@J\CD@I\def\cds@flushleft{\CD@I\CD@GA\CD@PJ\cds@nobalance\CD@BE
\CD@nA\CD@nA}\def\cds@gap{\CD@AJ\setbox3=\null\ht3=\CD@tI\dp3=\CD@sI\CD@BE{%
\wd3=}\MapShortFall} \def\cds@grid{\ifx\CD@GK\undefined\let\h@grid\relax\let
\v@grid\relax\else\CD@nF{h@grid}{cdgh@\CD@GK}\CD@nF{v@grid}{cdgv@\CD@GK}\ifx
\h@grid\relax\CD@gB{unknown grid `\CD@GK'}\else\CD@WB\fi\fi}\let\h@grid\relax
\let\v@grid\relax\def\cds@gridx{\ifx\CD@GK\undefined\else\cds@grid\fi\let
\CD@CH\h@grid\let\h@grid\v@grid\let\v@grid\CD@CH}\def\cds@h{\CD@zD
\DiagramCellHeight}\def\cds@hcenter{\let\CD@hA\CD@aA}\let\cds@hcentre
\cds@hcenter\def\cds@heads{\CD@BE{\let\CD@sJ}\CD@sJ\CD@@J\CD@vE\else\ifx
\CD@sJ\CD@eF\else\CD@MC\fi\fi}\let\cds@height\cds@h\let\cds@hmiddle
\cds@balance\def\cds@htriangleheight{\CD@BE\DiagramCellHeight
\DiagramCellHeight\DiagramCellWidth1.73205\DiagramCellHeight}\def
\cds@htrianglewidth{\CD@BE\DiagramCellWidth\DiagramCellWidth
\DiagramCellHeight.57735\DiagramCellWidth}\CD@tG\CD@zE\CD@eE\CD@dE\CD@eE\def
\cds@hug{\CD@eE} \def\cds@inline{\CD@gA\let\CD@PH\empty}\def
\cds@inlineoneliner{\CD@EB}\CD@RC{cds@l>}{\CD@zD{\let\CD@RG}\dimen2=\CD@RG}%
\def\cds@labelstyle{\CD@zD{\let\labelstyle}}\def\cds@landscape{\CD@kA}\def
\cds@large{\CellSize5\CD@zC}\let\CD@EJ\empty\def\CD@FJ{\refstepcounter{%
equation}\def\CD@XA{\hbox{\@eqnnum}}}\def\cds@LaTeXeqno{\let\CD@EJ\CD@FJ}\def
\cds@lefteqno{\CD@pA}\def\cds@leftflush{\cds@flushleft\CD@J}\def
\cds@leftshortfall{\CD@zD{\dimen1 }}\def\cds@lowershortfall{%
\ifPositiveGradient\cds@leftshortfall\else\cds@rightshortfall\fi}\def
\cds@loose{\CD@VB}\def\cds@midhshaft{\CD@JA}\def\cds@midshaft{\CD@JA}\def
\cds@midvshaft{\CD@LA}\def\cds@moreoptions{\CD@@A}\let\cds@nobalance
\cds@hcenter\def\cds@nohcheck{\CD@HH}\def\cds@nohug{\CD@dE} \def
\cds@nooptions{\def\CD@aC{\CD@WD}}\let\cds@noorigin\cds@nobalance\def
\cds@nopixel{\CD@@I4\CD@XH\CD@cJ}\def\cds@noPostScript{\global\let\CD@n\empty
\CD@BE\CD@DI\empty\CD@ZB\let\cds@PS\empty\let\cds@noPS\empty}\def\cds@noPS{%
\CD@ZB\global\let\CD@n\empty}\def\cds@notextflow{\CD@RB}\def\cds@noTPIC{%
\CD@CK}\def\cds@objectstyle{\CD@zD{\let\objectstyle}}\def\cds@origin{\let
\CD@hA\CD@iB}\def\cds@p{\CD@zD\PileSpacing}\let\cds@pilespacing\cds@p\def
\cds@pixelsize{\CD@zD\CD@@I\CD@gI}\def\cds@portrait{\CD@jA}\def
\cds@PostScript{\CD@aB\global\let\CD@n\empty\let\cds@PS\CD@aB\let\cds@noPS
\CD@ZB\CD@BE\CD@DI\empty}\def\cds@PS{\CD@aB\global\let\CD@n\empty}\CD@GF\CD@n
{\typeout{\CD@tA: try the PostScript option for better results}}\def
\cds@repositionpullbacks{\let\make@pbk\CD@fH\let\CD@qH\CD@pH}\def
\cds@righteqno{\CD@oA}\def\cds@rightshortfall{\CD@zD{\dimen5 }}\def
\cds@ruleaxis{\CD@zD{\let\axisheight}}\def\cds@cmex{\let\CD@GG\CD@sB\let
\CD@QJ\CD@CJ}\def\cds@s{\cds@height\DiagramCellWidth\DiagramCellHeight}\def
\cds@scriptlabels{\let\labelstyle\scriptstyle}\def\cds@shortfall{\CD@zD
\MapShortFall\dimen1\MapShortFall\dimen5\MapShortFall}\def\cds@showfirstpass{%
\CD@BE{\let\CD@nD}\z@}\def\cds@silent{\def\CD@KB##1{}\def\CD@gB##1{}}\let
\cds@size\cds@s\def\cds@small{\CellSize2\CD@zC}\def\cds@snake{\CD@BE\CD@eJ\z@
}\def\cds@t{\let\CD@dB\CD@fB}\def\cds@textflow{\CD@SB\CD@PJ}\def\cds@thick{%
\let\CD@rF\tenlnw\CD@LF\CD@NC\CD@BE\MapBreadth{2\CD@LF}\CD@@J}\def\cds@thin{%
\let\CD@rF\tenln\CD@BE\MapBreadth{\CD@NC}\CD@@J}\def\cds@tight{\CD@WB}\let
\cds@top\cds@t\def\cds@TPIC{\CD@DK}\def\cds@uppershortfall{%
\ifPositiveGradient\cds@rightshortfall\else\cds@leftshortfall\fi}\def
\cds@vcenter{\let\CD@dB\CD@cB}\let\cds@vcentre\cds@vcenter\def
\cds@vtriangleheight{\CD@BE\DiagramCellHeight\DiagramCellHeight
\DiagramCellWidth.577035\DiagramCellHeight}\def\cds@vtrianglewidth{\CD@BE
\DiagramCellWidth\DiagramCellWidth\DiagramCellHeight1.73205\DiagramCellWidth}%
\def\cds@vmiddle{\let\CD@dB\CD@eB}\def\cds@w{\CD@zD\DiagramCellWidth}\let
\cds@width\cds@w\def\diagram{\relax\protect\CD@bC}\def\enddiagram{\protect
\CD@SG}\def\CD@bC{\CD@g\CD@uI\incommdiagtrue\edef\CD@wI{\the\CD@NB}\global
\CD@NB\z@\boxmaxdepth\maxdimen\everycr{}\CD@aC}\def\CD@aC{\CD@y\let\CD@N
\CD@ZC\CD@CF\CD@AE\CD@WD}\def\CD@ZC{\CD@gE\expandafter\CD@aC\else\expandafter
\CD@WD\fi}\def\CD@WD{\let\CD@EH\relax\CD@nE\CD@vE\else\CD@KB{landscape ignored
without PostScript}\CD@jA\fi\fi\CD@EJ\setbox2=\vbox\bgroup\CD@JF\CD@VD}\def
\CD@cH{\CD@nE\CD@fB\else\CD@dB\fi\CD@hA\nointerlineskip\setbox0=\null\ht0-%
\CD@pI\dp0\CD@pI\wd0\CD@kI\box0 \global\CD@QA\CD@kF\global\CD@yA\CD@XB\ifx
\CD@NK\undefined\global\CD@RA\CD@kF\else\global\CD@RA\CD@NK\fi\egroup\CD@zF
\CD@nE\setbox2=\hbox to\dp2{\dp2=\CD@QA\global\CD@QA\ht2\ht2\wd2\global\CD@iG
\CD@IK{0 1 bturn}\box2\CD@IK{eturn}\hss}\CD@DB\fi\ifnum\CD@yA=1 \else\CD@DB
\fi\global\@ignorefalse\CD@mE\leavevmode\fi\ifvmode\CD@TA\else\ifmmode\CD@PH
\CD@GI\else\CD@qE\CD@gA\fi\ifinner\CD@gA\fi\CD@mE\CD@GI\else\CD@sE\CD@QB\else
\CD@TA\fi\fi\fi\fi\CD@dD}\def\CD@dD{\global\CD@NB\CD@wI\relax\CD@xE\global
\CD@ID\else\aftergroup\CD@mC\fi\if@ignore\aftergroup\ignorespaces\fi\CD@wC
\ignorespaces}\def\CD@fB{\advance\CD@pI\dimen1\relax}\def\CD@eB{\advance
\CD@pI.5\dimen1\relax}\def\CD@bB{}\def\CD@cB{\CD@fB\advance\CD@pI\CD@YB
\divide\CD@pI2 \advance\CD@pI-\axisheight\relax}\def\CD@aA{}\def\CD@iB{\CD@kF
\z@}\def\CD@AA{\ifdim\dimen2>\CD@kF\CD@kF\dimen2 \else\dimen2\CD@kF\CD@kI
\dimen0 \advance\CD@kI\dimen2 \fi}\def\CD@QB{\skip0\z@\relax\loop\skip1%
\lastskip\ifdim\skip1>\z@\unskip\advance\skip0\skip1 \repeat\vadjust{%
\prevdepth\dp\strutbox\penalty\predisplaypenalty\vskip\abovedisplayskip\CD@UA
\penalty\postdisplaypenalty\vskip\belowdisplayskip}\ifdim\skip0=\z@\else
\hskip\skip0 \global\@ignoretrue\fi}\def\CD@TA{\CD@LG\kern-\displayindent
\CD@UA\CD@LG\global\@ignoretrue}\def\CD@UA{\hbox to\hsize{\CD@fE\ifdim\CD@RA=%
\z@\else\advance\CD@QA-\CD@RA\setbox2=\hbox{\kern\CD@RA\box2}\fi\fi\setbox1=%
\hbox{\ifx\CD@XA\undefined\else\CD@k\CD@XA\CD@ND\fi}\CD@oE\CD@iE\else\advance
\CD@QA\wd1 \fi\wd1\z@\box1 \fi\dimen0\wd2 \advance\dimen0\wd1 \advance\dimen0%
-\hsize\ifdim\dimen0>-\CD@nA\CD@HA\fi\advance\dimen0\CD@QA\ifdim\dimen0>\z@
\CD@KB{wider than the page by \the\dimen0 }\CD@HA\fi\CD@iE\hss\else\CD@V
\CD@QA\CD@nA\fi\CD@GI\hss\kern-\wd1\box1 }}\def\CD@GI{\CD@AF\CD@@F\else\CD@SC
\global\CD@hG\fi\fi\kern\CD@QA\box2 }\CD@tG\CD@wE\CD@YC\CD@XC\def\CD@JF{%
\CD@cJ\ifdim\DiagramCellHeight=-\maxdimen\DiagramCellHeight\CD@QC\fi\ifdim
\DiagramCellWidth=-\maxdimen\DiagramCellWidth\CD@QC\fi\global\CD@XC\CD@IF\let
\CD@FE\empty\let\CD@z\CD@Q\let\overprint\CD@eH\let\CD@s\CD@rJ\let\enddiagram
\CD@ED\let\\\CD@cC\let\par\CD@jH\let\CD@MD\empty\let\switch@arg\CD@PB\let
\shift\CD@iA\baselineskip\DiagramCellHeight\lineskip\z@\lineskiplimit\z@
\mathsurround\z@\tabskip\z@\CD@OB}\def\CD@VD{\penalty-123 \begingroup\CD@jA
\aftergroup\CD@K\halign\bgroup\global\advance\CD@NB1 \vadjust{\penalty1}%
\global\CD@FA\z@\CD@OB\CD@j##\CD@DD\CD@Q\CD@Q\CD@OI\CD@j##\CD@DD\cr}\def
\CD@ED{\CD@MD\CD@GD\crcr\egroup\global\CD@JD\endgroup}\def\CD@j{\global
\advance\CD@FA1 \futurelet\CD@EH\CD@i}\def\CD@i{\ifx\CD@EH\CD@DD\CD@tJ\hskip1%
sp plus 1fil \relax\let\CD@DD\relax\CD@vI\else\hfil\CD@k\objectstyle\let
\CD@FE\CD@d\fi}\def\CD@DD{\CD@MD\relax\CD@yI\CD@vI\global\CD@QA\CD@iA\penalty
-9993 \CD@ND\hfil\null\kern-2\CD@QA\null}\def\CD@cC{\cr}\def\across#1{\span
\omit\mscount=#1 \global\advance\CD@FA\mscount\global\advance\CD@FA\m@ne
\CD@sF\ifnum\mscount>2 \CD@fJ\repeat\ignorespaces}\def\CD@fJ{\relax\span\omit
\advance\mscount\m@ne}\def\CD@qJ{\ifincommdiag\ifx\CD@iD\@fillh\ifx\CD@jD
\@fillh\ifdim\dimen3>\z@\else\ifdim\dimen2>93\CD@@I\ifdim\dimen2>18\p@\ifdim
\CD@LF>\z@\count@\CD@bJ\advance\count@\m@ne\ifnum\count@<\z@\count@20\let
\CD@aJ\CD@uJ\fi\xdef\CD@bJ{\the\count@}\fi\fi\fi\fi\fi\fi\fi}\def\CD@cG#1{%
\vrule\horizhtdp width#1\dimen@\kern2\dimen@}\def\CD@uJ{\rlap{\dimen@\CD@@I
\CD@V\dimen@{.182\p@}\CD@zH\dimen@\advance\CD@tI\dimen@\CD@cG0\CD@cG0\CD@cG2%
\CD@cG6\CD@cG6\CD@cG2\CD@cG0\CD@cG0\CD@cG2\CD@cG6\CD@cG0\CD@cG0\CD@cG2\CD@cG2%
\CD@cG6\CD@cG0\CD@cG0\CD@cG2\CD@cG6\CD@cG2\CD@cG2\CD@cG0\CD@cG0}}\def\CD@bJ{%
10}\def\CD@aJ{}\def\CD@XD{\CD@gE\CD@TB\fi\CD@x\CD@WF\CD@HI}\def\CD@x{\CD@QJ
\CD@DC\CD@MJ\ifdim\CD@DC=\z@\else\CD@pF\CD@DC\fi\ifvoid3 \setbox3=\null\ht3%
\CD@tI\dp3\CD@sI\else\CD@V{\ht3}\CD@tI\CD@V{\dp3}\CD@sI\fi\dimen3=.5\wd3
\ifdim\dimen3=\z@\CD@tE\else\dimen3-\CD@XH\fi\else\CD@TB\fi\CD@V{\dimen2}{\wd
7}\CD@V{\dimen2}{\wd6}\CD@qJ\advance\dimen2-2\dimen3 \dimen4.5\dimen2 \dimen2%
\dimen4 \advance\dimen2\CD@eJ\advance\dimen4-\CD@eJ\advance\dimen2-\wd1
\advance\dimen4-\wd5 \ifvoid2 \else\CD@V{\ht3}{\ht2}\CD@V{\dp3}{\dp2}\CD@V{%
\dimen2}{\wd2}\fi\ifvoid4 \else\CD@V{\ht3}{\ht4}\CD@V{\dp3}{\dp4}\CD@V{\dimen
4}{\wd4}\fi\advance\skip2\dimen2 \advance\skip4\dimen4 \CD@tE\advance\skip2%
\skip4 \dimen0\dimen5 \advance\dimen0\wd5 \skip3-\skip4 \advance\skip3-\dimen
0 \let\CD@jD\empty\else\skip3\z@\relax\dimen0\z@\fi}\def\CD@WF{%
\offinterlineskip\lineskip.2\CD@zC\ifvoid6 \else\setbox3=\vbox{\hbox to2%
\dimen3{\hss\box6\hss}\box3}\fi\ifvoid7 \else\setbox3=\vtop{\box3 \hbox to2%
\dimen3{\hss\box7\hss}}\fi}\def\CD@HI{\kern\dimen1 \box1 \CD@aJ\CD@iD\hskip
\skip2 \kern\dimen0 \ifincommdiag\CD@jE\penalty1\fi\kern\dimen3 \penalty
\CD@GB\hskip\skip3 \null\kern-\dimen3 \else\hskip\skip3 \fi\box3 \CD@jD\hskip
\skip4 \box5 \kern\dimen5}\def\CD@MF{\ifnum\CD@LH>\CD@TC\CD@V{\dimen1}%
\objectheight\CD@V{\dimen5}\objectheight\else\CD@V{\dimen1}\objectwidth\CD@V{%
\dimen5}\objectwidth\fi}\def\CD@Y{\begingroup\ifdim\dimen7=\z@\kern\dimen8
\else\ifdim\dimen6=\z@\kern\dimen9 \else\dimen5\dimen6 \dimen6\dimen9 \CD@KJ
\dimen4\dimen2 \CD@dG{\dimen4}\dimen6\dimen5 \dimen7\dimen8 \CD@KJ\CD@iC{%
\dimen2}\ifdim\dimen2<\dimen4 \kern\dimen2 \else\kern\dimen4 \fi\fi\fi
\endgroup}\def\CD@jJ{\CD@JI\setbox\z@\hbox{\lower\axisheight\hbox to\dimen2{%
\CD@DF\ifPositiveGradient\dimen8\ht\CD@MH\dimen9\CD@mI\else\dimen8\dp3 \dimen
9\dimen1 \fi\else\dimen8 \ifPositiveGradient\objectheight\else\z@\fi\dimen9%
\objectwidth\fi\advance\dimen8 \ifPositiveGradient-\fi\axisheight\CD@Y\unhbox
\z@\CD@DF\ifPositiveGradient\dimen8\dp3 \dimen9\dimen0 \else\dimen8\ht\CD@MH
\dimen9\CD@mF\fi\else\dimen8 \ifPositiveGradient\z@\else\objectheight\fi
\dimen9\objectwidth\fi\advance\dimen8 \ifPositiveGradient\else-\fi\axisheight
\CD@Y}}}\def\CD@bD{\dimen6 \CD@aK\DiagramCellHeight\dimen7 \CD@WK
\DiagramCellWidth\CD@jJ\ifPositiveGradient\advance\dimen7-\CD@ZK
\DiagramCellWidth\else\dimen7 \CD@ZK\DiagramCellWidth\dimen6\z@\multiply
\CD@LH\m@ne\fi\advance\dimen6-\CD@bK\DiagramCellHeight\setbox0=\rlap{\global
\CD@iG\kern-\dimen7 \lower\dimen6\hbox{\CD@eD{\the\CD@TC\space\the\CD@LH
\space bturn}\box0 \CD@IK{eturn}}}\ht0\z@\dp0\z@\raise\axisheight\box0 }\def
\CD@vB{\advance\CD@hF-\CD@mI\CD@wJ\CD@hF\advance\CD@wJ\CD@hI\ifvoid\CD@sH
\ifdim\CD@wJ<.1em\ifnum\CD@gD=\@m\else\CD@aG h\CD@wJ<.1em:objects overprint:%
\CD@FA\CD@gD\fi\fi\else\ifhbox\CD@sH\CD@SK\else\CD@TK\fi\advance\CD@wJ\CD@mI
\CD@bH{-\CD@mI}{\box\CD@sH}{\CD@wJ}\z@\fi\CD@hF-\CD@mF\CD@gD\CD@FA\CD@hI\z@}%
\def\CD@SK{\setbox\CD@sH=\hbox{\unhbox\CD@sH\unskip\unpenalty}\setbox\CD@tH=%
\hbox{\unhbox\CD@tH\unskip\unpenalty}\setbox\CD@sH=\hbox to\CD@wJ{\CD@OA\wd
\CD@sH\unhbox\CD@sH\CD@PA\lastkern\unkern\ifdim\CD@PA=\z@\CD@UB\advance\CD@OA
-\wd\CD@tH\else\CD@TB\fi\ifnum\lastpenalty=\z@\else\CD@JA\unpenalty\fi\kern
\CD@PA\ifdim\CD@hF<\CD@OA\CD@JA\fi\ifdim\CD@hI<\wd\CD@tH\CD@JA\fi\CD@jE\CD@hI
\CD@wJ\advance\CD@hI-\CD@OA\advance\CD@hI\wd\CD@tH\ifdim\CD@hI<2\wd\CD@tH
\CD@aG h\CD@hI<2\wd\CD@tH:arrow too short:\CD@FA\CD@gD\fi\divide\CD@hI\tw@
\CD@hF\CD@wJ\advance\CD@hF-\CD@hI\fi\CD@tE\kern-\CD@hI\fi\hbox to\CD@hI{%
\unhbox\CD@tH}\CD@HG}}\CD@tG\ifinpile\inpiletrue\inpilefalse\inpilefalse\def
\pile{\protect\CD@UJ\protect\CD@uH}\def\CD@uH#1{\CD@l#1\CD@QD}\def\CD@UJ{%
\CD@nB{pile}\setbox0=\vtop\bgroup\aftergroup\CD@lD\inpiletrue\let\CD@FE\empty
\let\pile\CD@KF\let\CD@QD\CD@PD\let\CD@GD\CD@FD\CD@yH\baselineskip.5%
\PileSpacing\lineskip.1\CD@zC\relax\lineskiplimit\lineskip\mathsurround\z@
\tabskip\z@\let\\\CD@wH}\def\CD@l{\CD@DE\CD@YF\empty\halign\bgroup\hfil\CD@k
\let\CD@FE\CD@d\let\\\CD@vH##\CD@MD\CD@ND\hfil\CD@Q\CD@R##\cr}\CD@rG\CD@NE{%
pile only allows one column.}\CD@rG\CD@UE{you left it out!}\def\CD@R{\CD@QD
\CD@Q\relax\CD@YA{missing \CD@yC\space inserted after \string\pile}\CD@NE}%
\def\CD@PD{\CD@MD\crcr\egroup\egroup}\def\CD@GD{\CD@MD}\def\CD@FD{\CD@MD
\relax\CD@QD\CD@YA{missing \CD@yC\space inserted between \string\pile\space
and \CD@HD}\CD@UE}\def\CD@QD{\CD@MD}\def\CD@lD{\vbox{\dimen1\dp0 \unvbox0
\setbox0=\lastbox\advance\dimen1\dp0 \nointerlineskip\box0 \nointerlineskip
\setbox0=\null\dp0.5\dimen1\ht0-\dp0 \box0}\ifincommdiag\CD@tJ\penalty-9998
\fi\xdef\CD@YF{pile}}\def\CD@vH{\cr}\def\CD@wH{\noalign{\skip@\prevdepth
\advance\skip@-\baselineskip\prevdepth\skip@}}\def\CD@KF#1{#1}\def\CD@TK{%
\setbox\CD@sH=\vbox{\unvbox\CD@sH\setbox1=\lastbox\setbox0=\box\voidb@x\CD@tF
\setbox\CD@sH=\lastbox\ifhbox\CD@sH\CD@rC\repeat\unvbox0 \global\CD@QA\CD@ZE}%
\CD@ZE\CD@QA}\def\CD@rC{\CD@jE\setbox\CD@sH=\hbox{\unhbox\CD@sH\unskip\setbox
\CD@sH=\lastbox\unskip\unhbox\CD@sH}\ifdim\CD@wJ<\wd\CD@sH\CD@aG h\CD@wJ<\wd
\CD@sH:arrow in pile too short:\CD@FA\CD@gD\else\setbox\CD@sH=\hbox to\CD@wJ{%
\unhbox\CD@sH}\fi\else\CD@gJ\fi\setbox0=\vbox{\box\CD@sH\nointerlineskip
\ifvoid0 \CD@tJ\box1 \else\vskip\skip0 \unvbox0 \fi}\skip0=\lastskip\unskip}%
\def\CD@gJ{\penalty7 \noindent\unhbox\CD@sH\unskip\setbox\CD@sH=\lastbox
\unskip\unhbox\CD@sH\endgraf\setbox\CD@tH=\lastbox\unskip\setbox\CD@tH=\hbox{%
\CD@JG\unhbox\CD@tH\unskip\unskip\unpenalty}\ifcase\prevgraf\cd@shouldnt P\or
\ifdim\CD@wJ<\wd\CD@tH\CD@aG h\CD@wJ<\wd\CD@sH:object in pile too wide:\CD@FA
\CD@gD\setbox\CD@sH=\hbox to\CD@wJ{\hss\unhbox\CD@tH\hss}\else\setbox\CD@sH=%
\hbox to\CD@wJ{\hss\kern\CD@hF\unhbox\CD@tH\kern\CD@hI\hss}\fi\or\setbox
\CD@sH=\lastbox\unskip\CD@SK\else\cd@shouldnt Q\fi\unskip\unpenalty}\def
\CD@cD{\CD@MJ\ifvoid3 \setbox3=\null\ht3\axisheight\dp3-\ht3 \dimen3.5\CD@LF
\else\dimen4\dp3 \dimen3.5\wd3 \setbox3=\CD@GG{\box3}\dp3\dimen4 \ifdim\ht3=-%
\dp3 \else\CD@TB\fi\fi\dimen0\dimen3 \advance\dimen0-.5\CD@LF\setbox0\null\ht
0\ht3\dp0\dp3\wd0\wd3 \ifvoid6\else\setbox6\hbox{\unhbox6\kern\dimen0\kern2pt%
}\dimen0\wd6 \fi\ifvoid7\else\setbox7\hbox{\kern2pt\kern\dimen3\unhbox7}%
\dimen3\wd7 \fi\setbox3\hbox{\ifvoid6\else\kern-\dimen0\unhbox6\fi\unhbox3
\ifvoid7\else\unhbox7\kern-\dimen3\fi}\ht3\ht0\dp3\dp0\wd3\wd0 \CD@tE\dimen4=%
\ht\CD@MH\advance\dimen4\dp5 \advance\dimen4\dimen1 \let\CD@jD\empty\else
\dimen4\ht3 \fi\setbox0\null\ht0\dimen4 \offinterlineskip\setbox8=\vbox spread%
2ex{\kern\dimen5 \box1 \CD@iD\vfill\CD@tE\else\kern\CD@eJ\fi\box0}\ht8=\z@
\setbox9=\vtop spread2ex{\kern-\ht3 \kern-\CD@eJ\box3 \CD@jD\vfill\box5 \kern
\dimen1}\dp9=\z@\hskip\dimen0plus.0001fil \box9 \kern-\CD@LF\box8 \CD@kE
\penalty2 \fi\CD@tE\penalty1 \fi\kern\PileSpacing\kern-\PileSpacing\kern-.5%
\CD@LF\penalty\CD@GB\null\kern\dimen3}\def\CD@cI{\ifhbox\CD@VA\CD@KB{clashing
verticals}\ht\CD@MH.5\dp\CD@VA\dp\CD@MH-\ht5 \CD@yB\ht\CD@MH\z@\dp\CD@MH\z@
\fi\dimen1\dp\CD@VA\CD@xA\prevgraf\unvbox\CD@VA\CD@wA\lastpenalty\unpenalty
\setbox\CD@VA=\null\setbox\CD@lI=\hbox{\CD@JG\unhbox\CD@lI\unskip\unpenalty
\dimen0\lastkern\unkern\unkern\unkern\kern\dimen0 \CD@HG}\setbox\CD@lF=\hbox{%
\unhbox\CD@lF\dimen0\lastkern\unkern\unkern\global\CD@QA\lastkern\unkern\kern
\dimen0 }\CD@tF\ifnum\CD@xA>4 \CD@zI\repeat\unskip\unskip\advance\CD@mF.5\wd
\CD@VA\advance\CD@mF\wd\CD@lF\advance\CD@mI.5\wd\CD@VA\advance\CD@mI\wd\CD@lI
\ifnum\CD@FA=\CD@lA\CD@OA.5\wd\CD@VA\edef\CD@NK{\the\CD@OA}\fi\setbox\CD@VA=%
\hbox{\kern-\CD@mF\box\CD@lF\unhbox\CD@VA\box\CD@lI\kern-\CD@mI\penalty\CD@wA
\penalty\CD@NB}\ht\CD@VA\dimen1 \dp\CD@VA\z@\wd\CD@VA\CD@tB\CD@vB}\def\CD@zI{%
\ifdim\wd\CD@lF<\CD@QA\setbox\CD@lF=\hbox to\CD@QA{\CD@JG\unhbox\CD@lF}\fi
\advance\CD@xA\m@ne\setbox\CD@VA=\hbox{\box\CD@lF\unhbox\CD@VA}\unskip\setbox
\CD@lF=\lastbox\setbox\CD@lF=\hbox{\unhbox\CD@lF\unskip\unpenalty\dimen0%
\lastkern\unkern\unkern\global\CD@QA\lastkern\unkern\kern\dimen0 }}\def\CD@yB
{\dimen1\dp\CD@VA\ifhbox\CD@VA\CD@xB\else\CD@zB\fi\setbox\CD@VA=\vbox{%
\penalty\CD@NB}\dp\CD@VA-\dp\CD@MH\wd\CD@VA\CD@tB}\def\CD@zB{\unvbox\CD@VA
\CD@wA\lastpenalty\unpenalty\ifdim\dimen1<\ht\CD@MH\CD@aG v\dimen1<\ht\CD@MH:%
rows overprint:\CD@NB\CD@wA\fi}\def\CD@xB{\dimen0=\ht\CD@VA\setbox\CD@VA=%
\hbox\bgroup\advance\dimen1-\ht\CD@MH\unhbox\CD@VA\CD@xA\lastpenalty
\unpenalty\CD@wA\lastpenalty\unpenalty\global\CD@RA-\lastkern\unkern\setbox0=%
\lastbox\CD@tF\setbox\CD@VA=\hbox{\box0\unhbox\CD@VA}\setbox0=\lastbox\ifhbox
0 \CD@kJ\repeat\global\CD@SA-\lastkern\unkern\global\CD@QA\CD@JK\unhbox\CD@VA
\egroup\CD@JK\CD@QA\CD@bH{\CD@SA}{\box\CD@VA}{\CD@RA}{\dimen1}}\def\CD@kJ{%
\setbox0=\hbox to\wd0\bgroup\unhbox0 \unskip\unpenalty\dimen7\lastkern\unkern
\ifnum\lastpenalty=1 \unpenalty\CD@UB\else\CD@TB\fi\ifnum\lastpenalty=2
\unpenalty\dimen2.5\dimen0\advance\dimen2-.5\dimen1\advance\dimen2-%
\axisheight\else\dimen2\z@\fi\setbox0=\lastbox\dimen6\lastkern\unkern\setbox1%
=\lastbox\setbox0=\vbox{\unvbox0 \CD@tE\kern-\dimen1 \else\ifdim\dimen2=\z@
\else\kern\dimen2 \fi\fi}\ifdim\dimen0<\ht0 \CD@aG v\dimen0<\ht0:upper part of
vertical too short:{\CD@tE\CD@NB\else\CD@wA\fi}\CD@xA\else\setbox0=\vbox to%
\dimen0{\unvbox0}\fi\setbox1=\vtop{\unvbox1}\ifdim\dimen1<\dp1 \CD@aG v\dimen
1<\dp1:lower part of vertical too short:\CD@NB\CD@wA\else\setbox1=\vtop to%
\dimen1{\ifdim\dimen2=\z@\else\kern-\dimen2 \fi\unvbox1 }\fi\box1 \kern\dimen
6 \box0 \kern\dimen7 \CD@HG\global\CD@QA\CD@JK\egroup\CD@JK\CD@QA\relax}%
\countdef\CD@u=14 \newcount\CD@CA\newcount\CD@XB\newcount\CD@NB\let\CD@LB
\insc@unt\newcount\CD@FA\newcount\CD@lA\let\CD@mA\CD@XB\newcount\CD@MB\CD@tG
\CD@DF\CD@bI\CD@aI\CD@aI\def\CD@nD{-1}\def\CD@K{\ifnum\CD@nD<\z@\else
\begingroup\scrollmode\showboxdepth\CD@nD\showboxbreadth\maxdimen\showlists
\endgroup\fi\CD@bI\CD@zF\CD@CA=\CD@u\advance\CD@CA1 \CD@XB=\CD@CA\ifnum\CD@NB
=1 \CD@JA\fi\advance\CD@XB\CD@NB\dimen1\z@\skip0\z@\count@=\insc@unt\advance
\count@\CD@u\divide\count@2 \ifnum\CD@XB>\count@\CD@KB{The diagram has too
many rows! It can't be reformatted.}\else\CD@NG\CD@WI\fi\CD@cH}\def\CD@NG{%
\CD@NB\CD@CA\CD@uF\ifnum\CD@NB<\CD@XB\setbox\CD@NB\box\voidb@x\advance\CD@NB1%
\relax\repeat\CD@NB\CD@CA\skip\z@\z@\CD@uF\CD@GB\lastpenalty\unpenalty\ifnum
\CD@GB>\z@\CD@KE\repeat\ifnum\CD@GB=-123 \CD@tJ\unpenalty\else\cd@shouldnt D%
\fi\ifx\v@grid\relax\else\CD@NB\CD@XB\advance\CD@NB\m@ne\expandafter\CD@VJ
\v@grid\fi\CD@MB\CD@mA\CD@tB\z@\CD@XG\ifx\h@grid\relax\else\expandafter\CD@LJ
\h@grid\fi\count@\CD@XB\advance\count@\m@ne\CD@YB\ht\count@}\def\CD@KE{%
\ifcase\CD@GB\or\CD@MG\else\CD@uA-\lastpenalty\unpenalty\CD@vA\lastpenalty
\unpenalty\setbox0=\lastbox\CD@WG\fi\CD@wD}\def\CD@wD{\skip1\lastskip\unskip
\advance\skip0\skip1 \ifdim\skip1=\z@\else\expandafter\CD@wD\fi}\def\CD@MG{%
\setbox0=\lastbox\CD@pI\dp0 \advance\CD@pI\skip\z@\skip\z@\z@\advance\CD@NF
\CD@pI\CD@uE\ifnum\CD@NB>\CD@CA\CD@NF\DiagramCellHeight\CD@pI\CD@NF\advance
\CD@pI-\CD@qI\fi\fi\CD@qI\ht0 \CD@NF\CD@qI\setbox\CD@NB\hbox{\unhbox\CD@NB
\unhbox0}\dp\CD@NB\CD@pI\ht\CD@NB\CD@qI\advance\CD@NB1 }\def\CD@WG{\ifnum
\CD@uA<\z@\advance\CD@uA\CD@XB\ifnum\CD@uA<\CD@CA\CD@UG\else\CD@OA\dp\CD@uA
\CD@PA\ht\CD@uA\setbox\CD@uA\hbox{\box\z@\penalty\CD@vA\penalty\CD@GB\unhbox
\CD@uA}\dp\CD@uA\CD@OA\ht\CD@uA\CD@PA\fi\else\CD@UG\fi}\def\CD@UG{\CD@KB{%
diagonal goes outside diagram (lost)}}\def\CD@fI{\advance\CD@uA\CD@XB\ifnum
\CD@uA<\CD@CA\CD@UG\else\ifnum\CD@uA=\CD@NB\CD@VG\else\ifnum\CD@uA>\CD@NB
\cd@shouldnt M\else\CD@OA\dp\CD@uA\CD@PA\ht\CD@uA\setbox\CD@uA\hbox{\box\z@
\penalty\CD@vA\penalty\CD@GB\unhbox\CD@uA}\dp\CD@uA\CD@OA\ht\CD@uA\CD@PA\fi
\fi\fi}\def\CD@WI{\CD@t\CD@AJ\setbox\CD@PC=\hbox{\CD@k A\@super f\CD@lJ f%
\CD@ND}\CD@ZE\z@\CD@JK\z@\CD@kI\z@\CD@kF\z@\CD@NB=\CD@XB\CD@NF\z@\CD@uB\z@
\CD@uF\ifnum\CD@NB>\CD@CA\advance\CD@NB\m@ne\CD@qI\ht\CD@NB\CD@pI\dp\CD@NB
\advance\CD@NF\CD@qI\CD@rI\advance\CD@uB\CD@NF\CD@KC\CD@ZI\CD@w\ht\CD@NB
\CD@qI\dp\CD@NB\CD@pI\nointerlineskip\box\CD@NB\CD@NF\CD@pI\setbox\CD@NB\null
\ht\CD@NB\CD@uB\repeat\CD@wB\nointerlineskip\box\CD@NB\CD@gG\CD@ZE
\DiagramCellWidth{width}\CD@gG\CD@JK\DiagramCellHeight{height}\CD@VA\CD@LB
\advance\CD@VA-\CD@lA\advance\CD@VA\m@ne\advance\CD@VA\CD@mA\dimen0\wd\CD@VA
\CD@tI\axisheight\dimen1\CD@uB\advance\dimen1-\CD@YB\dimen2\CD@kI\advance
\dimen2-\dimen0 \advance\CD@XB-\CD@CA\advance\CD@LB-\CD@lA}\count@\year
\multiply\count@12 \advance\count@\month\ifnum\count@>24074 \loop\iftrue
\message{gone February 2006!}\repeat\fi\def\CD@wB{\CD@qI-\CD@NF\CD@pI\CD@NF
\setbox\CD@MH=\null\dp\CD@MH\CD@NF\ht\CD@MH-\CD@NF\CD@mF\z@\CD@mI\z@\CD@lA
\CD@LB\advance\CD@lA-\CD@MB\advance\CD@lA\CD@mA\CD@FA\CD@LB\CD@VA\CD@MB\CD@sF
\ifnum\CD@FA>\CD@lA\advance\CD@FA\m@ne\advance\CD@VA\m@ne\CD@tB\wd\CD@VA
\setbox\CD@FA=\box\voidb@x\CD@yB\repeat\CD@w\ht\CD@NB\CD@qI\dp\CD@NB\CD@pI}%
\def\CD@gG#1#2#3{\ifdim#1>.01\CD@zC\CD@PA#2\relax\advance\CD@PA#1\relax
\advance\CD@PA.99\CD@zC\count@\CD@PA\divide\count@\CD@zC\CD@KB{increase cell #%
3 to \the\count@ em}\fi}\def\CD@rI{\CD@FA=\CD@LB\penalty4 \noindent\unhbox
\CD@NB\CD@sF\unskip\setbox0=\lastbox\ifhbox0 \advance\CD@FA\m@ne\setbox\CD@FA
\hbox to\wd0{\null\penalty-9990\null\unhbox0}\repeat\CD@lA\CD@FA\advance
\CD@FA\CD@MB\advance\CD@FA-\CD@mA\ifnum\CD@FA<\CD@LB\count@\CD@FA\advance
\count@\m@ne\dimen0=\wd\count@\count@\CD@MB\advance\count@\m@ne\CD@tB\wd
\count@\CD@sF\ifnum\CD@FA<\CD@LB\CD@DJ\CD@XG\dimen0\wd\CD@FA\advance\CD@FA1
\repeat\fi\CD@sF\CD@GB\lastpenalty\unpenalty\ifnum\CD@GB>\z@\CD@vA
\lastpenalty\unpenalty\CD@VG\repeat\endgraf\unskip\ifnum\lastpenalty=4
\unpenalty\else\cd@shouldnt S\fi}\def\CD@VG{\advance\CD@vA\CD@lA\advance
\CD@vA\m@ne\setbox0=\lastbox\ifnum\CD@vA<\CD@LB\setbox\CD@vA\hbox{\box0%
\penalty\CD@GB\unhbox\CD@vA}\else\CD@UG\fi}\def\CD@bG{}\CD@tG\CD@uE\CD@WB
\CD@VB\def\CD@DJ{\advance\dimen0\wd\CD@FA\divide\dimen0\tw@\CD@uE\dimen0%
\DiagramCellWidth\else\CD@V{\dimen0}\DiagramCellWidth\CD@pJ\fi\advance\CD@tB
\dimen0 }\def\CD@XG{\setbox\CD@MB=\vbox{}\dp\CD@MB=\CD@uB\wd\CD@MB\CD@tB
\advance\CD@MB1 }\def\CD@LJ#1,{\def\CD@GK{#1}\ifx\CD@GK\CD@RD\else\advance
\CD@tB\CD@GK\DiagramCellWidth\CD@XG\expandafter\CD@LJ\fi}\def\CD@VJ#1,{\def
\CD@GK{#1}\ifx\CD@GK\CD@RD\else\ifnum\CD@NB>\CD@CA\CD@NF\CD@GK
\DiagramCellHeight\advance\CD@NF-\dp\CD@NB\advance\CD@NB\m@ne\ht\CD@NB\CD@NF
\fi\expandafter\CD@VJ\fi}\def\CD@pJ{\CD@wE\CD@OA\dimen0 \advance\CD@OA-%
\DiagramCellWidth\ifdim\CD@OA>2\MapShortFall\CD@KB{badly drawn diagonals (see
manual)}\let\CD@pJ\empty\fi\else\let\CD@pJ\empty\fi}\def\CD@KC{\CD@VA\CD@mA
\CD@sF\ifnum\CD@VA<\CD@MB\dimen0\dp\CD@VA\advance\dimen0\CD@NF\dp\CD@VA\dimen
0 \advance\CD@VA1 \repeat}\def\CD@bH#1#2#3#4{\ifnum\CD@FA<\CD@LB\CD@OA=#1%
\relax\setbox\CD@FA=\hbox{\setbox0=#2\dimen7=#4\relax\dimen8=#3\relax\ifhbox
\CD@FA\unhbox\CD@FA\advance\CD@OA-\lastkern\unkern\fi\ifdim\CD@OA=\z@\else
\kern-\CD@OA\fi\raise\dimen7\box0 \kern-\dimen8 }\ifnum\CD@FA=\CD@lA\CD@V
\CD@kF\CD@OA\fi\else\cd@shouldnt O\fi}\def\CD@w{\setbox\CD@NB=\hbox{\CD@FA
\CD@lA\CD@VA\CD@mA\CD@PA\z@\relax\CD@sF\ifnum\CD@FA<\CD@LB\CD@tB\wd\CD@VA
\relax\CD@eI\advance\CD@FA1 \advance\CD@VA1 \repeat}\CD@V\CD@kI{\wd\CD@NB}\wd
\CD@NB\z@}\def\CD@eI{\ifhbox\CD@FA\CD@OA\CD@tB\relax\advance\CD@OA-\CD@PA
\relax\ifdim\CD@OA=\z@\else\kern\CD@OA\fi\CD@PA\CD@tB\advance\CD@PA\wd\CD@FA
\relax\unhbox\CD@FA\advance\CD@PA-\lastkern\unkern\fi}\def\CD@ZI{\setbox
\CD@sH=\box\voidb@x\CD@VA=\CD@MB\CD@FA\CD@LB\CD@VA\CD@mA\advance\CD@VA\CD@FA
\advance\CD@VA-\CD@lA\advance\CD@VA\m@ne\CD@tB\wd\CD@VA\count@\CD@LB\advance
\count@\m@ne\CD@hF.5\wd\count@\advance\CD@hF\CD@tB\CD@A\m@ne\CD@gD\@m\CD@sF
\ifnum\CD@FA>\CD@lA\advance\CD@FA\m@ne\advance\CD@hF-\CD@tB\CD@PI\wd\CD@VA
\CD@tB\advance\CD@hF\CD@tB\advance\CD@VA\m@ne\CD@tB\wd\CD@VA\repeat\CD@mF
\CD@kF\CD@mI-\CD@mF\CD@vB}\newcount\CD@GB\def\CD@s{}\def\CD@t{\mathsurround
\z@\hsize\z@\rightskip\z@ plus1fil minus\maxdimen\parfillskip\z@\linepenalty
9000 \looseness0 \hfuzz\maxdimen\hbadness10000 \clubpenalty0 \widowpenalty0
\displaywidowpenalty0 \interlinepenalty0 \predisplaypenalty0
\postdisplaypenalty0 \interdisplaylinepenalty0 \interfootnotelinepenalty0
\floatingpenalty0 \brokenpenalty0 \everypar{}\leftskip\z@\parskip\z@
\parindent\z@\pretolerance10000 \tolerance10000 \hyphenpenalty10000
\exhyphenpenalty10000 \binoppenalty10000 \relpenalty10000 \adjdemerits0
\doublehyphendemerits0 \finalhyphendemerits0 \CD@IA\prevdepth\z@}\newbox
\CD@KG\newbox\CD@IG\def\CD@JG{\unhcopy\CD@KG}\def\CD@HG{\unhcopy\CD@IG}\def
\CD@iJ{\hbox{}\penalty1\nointerlineskip}\def\CD@PI{\penalty5 \noindent\setbox
\CD@MH=\null\CD@mF\z@\CD@mI\z@\ifnum\CD@FA<\CD@LB\ht\CD@MH\ht\CD@FA\dp\CD@MH
\dp\CD@FA\unhbox\CD@FA\skip0=\lastskip\unskip\else\CD@OK\skip0=\z@\fi\endgraf
\ifcase\prevgraf\cd@shouldnt Y \or\cd@shouldnt Z \or\CD@RI\or\CD@XI\else
\CD@QI\fi\unskip\setbox0=\lastbox\unskip\unskip\unpenalty\noindent\unhbox0%
\setbox0\lastbox\unpenalty\unskip\unskip\unpenalty\setbox0\lastbox\CD@tF
\CD@GB\lastpenalty\unpenalty\ifnum\CD@GB>\z@\setbox\z@\lastbox\CD@lB\repeat
\endgraf\unskip\unskip\unpenalty}\def\CD@YJ{\CD@uA\CD@XB\advance\CD@uA-\CD@NB
\CD@vA\CD@FA\advance\CD@vA-\CD@lA\advance\CD@vA1 \expandafter\message{%
prevgraf=\the\prevgraf at (\the\CD@uA,\the\CD@vA)}}\def\CD@XI{\CD@CE\setbox
\CD@lI=\lastbox\setbox\CD@lI=\hbox{\unhbox\CD@lI\unskip\unpenalty}\unskip
\ifdim\ht\CD@lI>\ht\CD@PC\setbox\CD@MH=\copy\CD@lI\else\ifdim\dp\CD@lI>\dp
\CD@PC\setbox\CD@MH=\copy\CD@lI\else\CD@FG\CD@lI\fi\fi\advance\CD@mF.5\wd
\CD@lI\advance\CD@mI.5\wd\CD@lI\setbox\CD@lI=\hbox{\unhbox\CD@lI\CD@HG}\CD@bH
\CD@mF{\box\CD@lI}\CD@mI\z@\CD@yB\CD@vB}\def\CD@CE{\ifnum\CD@A>0 \advance
\dimen0-\CD@tB\CD@iA-.5\dimen0 \CD@A-\CD@A\else\CD@A0 \CD@iA\z@\fi\setbox
\CD@MH=\lastbox\setbox\CD@MH=\hbox{\unhbox\CD@MH\unskip\unskip\unpenalty
\setbox0=\lastbox\global\CD@QA\lastkern\unkern}\advance\CD@iA-.5\CD@QA\unskip
\setbox\CD@MH=\null\CD@mI\CD@iA\CD@mF-\CD@iA}\def\CD@Z{\ht\CD@MH\CD@tI\dp
\CD@MH\CD@sI}\def\CD@FG#1{\setbox\CD@MH=\hbox{\CD@V{\ht\CD@MH}{\ht#1}\CD@V{%
\dp\CD@MH}{\dp#1}\CD@V{\wd\CD@MH}{\wd#1}\vrule height\ht\CD@MH depth\dp\CD@MH
width\wd\CD@MH}}\def\CD@QI{\CD@CE\CD@Z\setbox\CD@lI=\lastbox\unskip\setbox
\CD@lF=\lastbox\unskip\setbox\CD@lF=\hbox{\unhbox\CD@lF\unskip\global\CD@yA
\lastpenalty\unpenalty}\advance\CD@yA9999 \ifcase\CD@yA\CD@VI\or\CD@YI\or
\CD@TI\or\CD@dI\or\CD@cI\or\CD@SI\else\cd@shouldnt9\fi}\def\CD@VI{\CD@FG
\CD@lI\CD@UI\setbox\CD@sH=\box\CD@lF\setbox\CD@tH=\box\CD@lI}\def\CD@YI{%
\CD@FG\CD@lF\setbox\CD@lI\hbox{\penalty8 \unhbox\CD@lI\unskip\unpenalty\ifnum
\lastpenalty=8 \else\CD@xH\fi}\CD@UI\setbox\CD@lF=\hbox{\unhbox\CD@lF\unskip
\unpenalty\global\setbox\CD@DA=\lastbox}\ifdim\wd\CD@lF=\z@\else\CD@xH\fi
\setbox\CD@sH=\box\CD@DA}\def\CD@xH{\CD@KB{extra material in \string\pile
\space cell (lost)}}\def\CD@UI{\CD@yB\ifvoid\CD@sH\else\CD@KB{Clashing
horizontal arrows}\CD@mI.5\CD@hF\CD@mF-\CD@mI\CD@vB\CD@mI\z@\CD@mF\z@\fi
\CD@hI\CD@hF\advance\CD@hI-\CD@mI\CD@hF-\CD@mF\CD@JC\CD@FA}\def\CD@RI{\setbox
0\lastbox\unskip\CD@iA\z@\CD@Z\ifdim\skip0>\z@\CD@tJ\CD@A0 \else\ifnum\CD@A<1
\CD@A0 \dimen0\CD@tB\fi\advance\CD@A1 \fi}\def\VonH{\CD@MA46\VonH{.5\CD@LF}}%
\def\HonV{\CD@MA57\HonV{.5\CD@LF}}\def\HmeetV{\CD@MA44\HmeetV{-\MapShortFall}%
}\def\CD@MA#1#2#3#4{\CD@pB34#1{\string#3}\CD@SD\CD@GB-999#2 \dimen0=#4\CD@tI
\dimen0\advance\CD@tI\axisheight\CD@sI\dimen0\advance\CD@sI-\axisheight\CD@CF
\CD@HC\CD@ZD}\def\CD@HC#1{\setbox0=\hbox{\CD@k#1\CD@ND}\dimen0.5\wd0 \CD@tI
\ht0 \CD@sI\dp0 \CD@ZD}\def\CD@SD{\setbox0=\null\ht0=\CD@tI\dp0=\CD@sI\wd0=%
\dimen0 \copy0\penalty\CD@GB\box0 }\def\CD@TI{\CD@GC\CD@yB}\def\CD@dI{\CD@GC
\CD@vB}\def\CD@SI{\CD@GC\CD@yB\CD@vB}\def\CD@GC{\setbox\CD@lI=\hbox{\unhbox
\CD@lI}\setbox\CD@lF=\hbox{\unhbox\CD@lF\global\setbox\CD@DA=\lastbox}\ht
\CD@MH\ht\CD@DA\dp\CD@MH\dp\CD@DA\advance\CD@mF\wd\CD@DA\advance\CD@mI\wd
\CD@lI}\CD@tG\ifPositiveGradient\CD@CI\CD@BI\CD@CI\CD@tG\ifClimbing\CD@rB
\CD@qB\CD@rB\newcount\DiagonalChoice\DiagonalChoice\m@ne\ifx\tenln\nullfont
\CD@tJ\def\CD@qF{\CD@KH\ifPositiveGradient/\else\CD@k\backslash\CD@ND\fi}%
\else\def\CD@qF{\CD@rF\char\count@}\fi\let\CD@rF\tenln\def\Use@line@char#1{%
\hbox{#1\CD@rF\ifPositiveGradient\else\advance\count@64 \fi\char\count@}}\def
\CD@cF{\Use@line@char{\count@\CD@TC\multiply\count@8\advance\count@-9\advance
\count@\CD@LH}}\def\CD@ZF{\Use@line@char{\ifcase\DiagonalChoice\CD@gF\or
\CD@fF\or\CD@fF\else\CD@gF\fi}}\def\CD@gF{\ifnum\CD@TC=\z@\count@\rq33 \else
\count@\CD@TC\multiply\count@\sixt@@n\advance\count@-9\advance\count@\CD@LH
\advance\count@\CD@LH\fi}\def\CD@fF{\count@\rq\ifcase\CD@LH55\or\ifcase\CD@TC
66\or22\or52\or61\or72\fi\or\ifcase\CD@TC66\or25\or22\or63\or52\fi\or\ifcase
\CD@TC66\or16\or36\or22\or76\fi\or\ifcase\CD@TC66\or27\or25\or67\or22\fi\fi
\relax}\def\CD@uC#1{\hbox{#1\setbox0=\Use@line@char{#1}\ifPositiveGradient
\else\raise.3\ht0\fi\copy0 \kern-.7\wd0 \ifPositiveGradient\raise.3\ht0\fi
\box0}}\def\CD@jF#1{\hbox{\setbox0=#1\kern-.75\wd0 \vbox to.25\ht0{%
\ifPositiveGradient\else\vss\fi\box0 \ifPositiveGradient\vss\fi}}}\def\CD@jI#%
1{\hbox{\setbox0=#1\dimen0=\wd0 \vbox to.25\ht0{\ifPositiveGradient\vss\fi
\box0 \ifPositiveGradient\else\vss\fi}\kern-.75\dimen0 }}\CD@RC{+h:>}{%
\Use@line@char\CD@fF}\CD@RC{-h:>}{\Use@line@char\CD@gF}\CD@nF{+t:<}{-h:>}%
\CD@nF{-t:<}{+h:>}\CD@RC{+t:>}{\CD@jF{\Use@line@char\CD@fF}}\CD@RC{-t:>}{%
\CD@jI{\Use@line@char\CD@gF}}\CD@nF{+h:<}{-t:>}\CD@nF{-h:<}{+t:>}\CD@RC{+h:>>%
}{\CD@uC\CD@fF}\CD@RC{-h:>>}{\CD@uC\CD@gF}\CD@nF{+t:<<}{-h:>>}\CD@nF{-t:<<}{+%
h:>>}\CD@nF{+h:>->}{+h:>>}\CD@nF{-h:>->}{-h:>>}\CD@nF{+t:<-<}{-h:>>}\CD@nF{-t%
:<-<}{+h:>>}\CD@RC{+t:>>}{\CD@jF{\CD@uC\CD@fF}}\CD@RC{-t:>>}{\CD@jI{\CD@uC
\CD@gF}}\CD@nF{+h:<<}{-t:>>}\CD@nF{-h:<<}{+t:>>}\CD@nF{+t:>->}{+t:>>}\CD@nF{-%
t:>->}{-t:>>}\CD@nF{+h:<-<}{-t:>>}\CD@nF{-h:<-<}{+t:>>}\CD@RC{+f:-}{\CD@EF
\null\else\CD@cF\fi}\CD@nF{-f:-}{+f:-}\def\CD@tC#1#2{\vbox to#1{\vss\hbox to#%
2{\hss.\hss}\vss}}\def\hfdot{\CD@tC{2\axisheight}{.5em}}%
%% % .7em until 29.7.98
\def\vfdot{\CD@tC{1ex}\z@}%% % 1.46ex until 29.7.98
\def\CD@bF{\hbox{\dimen0=.3\CD@zC\dimen1\dimen0 \ifnum\CD@LH>\CD@TC\CD@iC{%
\dimen1}\else\CD@dG{\dimen0}\fi\CD@tC{\dimen0}{\dimen1}}}\newarrowfiller{.}%
\hfdot\hfdot\vfdot\vfdot\def\dfdot{\CD@bF\CD@CK}\CD@RC{+f:.}{\dfdot}\CD@RC{-f%
:.}{\dfdot}\def\CD@@K#1{\hbox\bgroup\def\CD@CH{#1\egroup}\afterassignment
\CD@CH%%
\count@=\rq}\def\lnchar{\CD@@K\CD@qF}\let\laf\lnchar\let\lah\lnchar\def\lad{%
\CD@@K\xlad}\def\xlad{\setbox2=\hbox{\CD@qF}\setbox0=\hbox to.3\wd2{\hss.\hss
}\dimen0=\ht0 \advance\dimen0-\dp0 \dimen1=.3\ht2 \advance\dimen1-\dimen0 \dp
0=.5\dimen1 \dimen1=.3\ht2 \advance\dimen1\dimen0 \ht0=.5\dimen1 \raise\dp0%
\box0}\def\lahh{\CD@@K\xlahh}\def\lat{\CD@@K\xlat}\def\xlat{\setbox0=\hbox{%
\CD@qF}\dimen0=\ht0 \setbox1=\hbox to.25\wd0{\ifcase\DiagonalChoice\box0\hss
\or\hss\box0 \or\hss\box0 \or\box0\hss\fi}\vbox to.25\dimen0{\ifClimbing\box1%
\vss\else\vss\box1\fi\kern\z@}}\def\xlahh{\setbox0=\hbox{\CD@qF}%
\ifPositiveGradient\CD@tJ\copy0 \kern-.7\wd0 \mv.3\ht0\box0 \else\ifClimbing
\CD@tJ\copy0 \kern-.7\wd0 \mv.3\ht0\box0 \else\mv-.3\ht0\copy0 \kern-.7\wd0
\box0 \fi\fi}\def\CD@dF#1{\setbox#1=\hbox{\dimen5\dimen#1 \setbox8=\box#1
\dimen1\wd8 \count@\dimen5 \divide\count@\dimen1 \ifnum\count@=0 \box8 \ifdim
\dimen5<.95\dimen1 \CD@gB{diagonal line too short}\fi\else\dimen3=\dimen5
\advance\dimen3-\dimen1 \divide\dimen3\count@\dimen4\dimen3 \CD@dG{\dimen4}%
\ifPositiveGradient\multiply\dimen4\m@ne\fi\dimen6\dimen1 \advance\dimen6-%
\dimen3 \loop\raise\count@\dimen4\copy8 \ifnum\count@>0 \kern-\dimen6 \advance
\count@\m@ne\repeat\fi}}\def\CD@CG#1{\CD@EF\CD@xJ{#1}\else\CD@dF{#1}\fi}\def
\CD@IH#1{}\newdimen\objectheight\objectheight1.8ex \newdimen\objectwidth
\objectwidth1em \def\CD@YD{\dimen6=\CD@aK\DiagramCellHeight\dimen7=\CD@WK
\DiagramCellWidth\CD@KJ\ifnum\CD@LH>0 \ifnum\CD@TC>0 \CD@aF\else\aftergroup
\CD@VC\fi\else\aftergroup\CD@UC\fi}\def\CD@VC{\CD@YA{diagonal map is nearly
vertical}\CD@NA}\def\CD@UC{\CD@YA{diagonal map is nearly horizontal}\CD@NA}%
\CD@rG\CD@NA{Use an orthogonal map instead}\def\CD@aF{\CD@MJ\dimen3\dimen7%
\dimen7\dimen6\CD@iC{\dimen7}\advance\dimen3-\dimen7 \CD@MF\ifnum\CD@LH>%
\CD@TC\advance\dimen6-\dimen1\advance\dimen6-\dimen5 \CD@iC{\dimen1}\CD@iC{%
\dimen5}\else\dimen0\dimen1\advance\dimen0\dimen5\CD@dG{\dimen0}\advance
\dimen6-\dimen0 \fi\dimen2.5\dimen7\advance\dimen2-\dimen1 \dimen4.5\dimen7%
\advance\dimen4-\dimen5 \ifPositiveGradient\dimen0\dimen5 \advance\dimen1-%
\CD@WK\DiagramCellWidth\advance\dimen1 \CD@ZK\DiagramCellWidth\setbox6=\llap{%
\unhbox6\kern.1\ht2}\setbox7=\rlap{\kern.1\ht2\unhbox7}\else\dimen0\dimen1
\advance\dimen1-\CD@ZK\DiagramCellWidth\setbox7=\llap{\unhbox7\kern.1\ht2}%
\setbox6=\rlap{\kern.1\ht2\unhbox6}\fi\setbox6=\vbox{\box6\kern.1\wd2}\setbox
7=\vtop{\kern.1\wd2\box7}\CD@dG{\dimen0}\advance\dimen0-\axisheight\advance
\dimen0-\CD@bK\DiagramCellHeight\dimen5-\dimen0 \advance\dimen0\dimen6
\advance\dimen1.5\dimen3 \ifdim\wd3>\z@\ifdim\ht3>-\dp3\CD@TB\fi\fi\dimen3%
\dimen2 \dimen7\dimen2\advance\dimen7\dimen4 \ifvoid3 \else\CD@tE\else\dimen8%
\ht3\advance\dimen8-\axisheight\CD@iC{\dimen8}\CD@X{\dimen8}{.5\wd3}\dimen9%
\dp3\advance\dimen9\axisheight\CD@iC{\dimen9}\CD@X{\dimen9}{.5\wd3}%
\ifPositiveGradient\advance\dimen2-\dimen9\advance\dimen4-\dimen8 \else
\advance\dimen4-\dimen9\advance\dimen2-\dimen8 \fi\fi\advance\dimen3-.5\wd3
\fi\dimen9=\CD@aK\DiagramCellHeight\advance\dimen9-2\DiagramCellHeight\CD@tE
\advance\dimen2\dimen4 \CD@CG{2}\dimen2-\dimen0\advance\dimen2\dp2 \else
\CD@CG{2}\CD@CG{4}\ifPositiveGradient\dimen2-\dimen0\advance\dimen2\dp2 \dimen
4\dimen5\advance\dimen4-\ht4 \else\dimen4-\dimen0\advance\dimen4\dp4 \dimen2%
\dimen5\advance\dimen2-\ht2 \fi\fi\setbox0=\hbox to\z@{\kern\dimen1 \ifvoid1
\else\ifPositiveGradient\advance\dimen0-\dp1 \lower\dimen0 \else\advance
\dimen5-\ht1 \raise\dimen5 \fi\rlap{\unhbox1}\fi\raise\dimen2\rlap{\unhbox2}%
\ifvoid3 \else\lower.5\dimen9\rlap{\kern\dimen3\unhbox3}\fi\kern.5\dimen7
\lower.5\dimen9\box6 \lower.5\dimen9\box7 \kern.5\dimen7 \CD@tE\else\raise
\dimen4\llap{\unhbox4}\fi\ifvoid5 \else\ifPositiveGradient\advance\dimen5-\ht
5 \raise\dimen5 \else\advance\dimen0-\dp5 \lower\dimen0 \fi\llap{\unhbox5}\fi
\hss}\ht0=\axisheight\dp0=-\ht0\box0 }\def\NorthWest{\CD@BI\CD@rB
\DiagonalChoice0 }\def\NorthEast{\CD@CI\CD@rB\DiagonalChoice1 }\def\SouthWest
{\CD@CI\CD@qB\DiagonalChoice3 }\def\SouthEast{\CD@BI\CD@qB\DiagonalChoice2 }%
\def\CD@aD{\vadjust{\CD@uA\CD@FA\advance\CD@uA\ifPositiveGradient\else-\fi
\CD@ZK\relax\CD@vA\CD@NB\advance\CD@vA-\CD@bK\relax\hbox{\advance\CD@uA
\ifPositiveGradient-\fi\CD@WK\advance\CD@vA\CD@aK\hbox{\box6 \kern\CD@DC\kern
\CD@eJ\penalty1 \box7 \box\z@}\penalty\CD@uA\penalty\CD@vA}\penalty\CD@uA
\penalty\CD@vA\penalty104}}\def\CD@eH#1{\relax\vadjust{\hbox@maths{#1}%
\penalty\CD@FA\penalty\CD@NB\penalty\tw@}}\def\CD@lB{\ifcase\CD@GB\or\or
\CD@bH{.5\wd0}{\box0}{.5\wd0}\z@\or\unhbox\z@\setbox\z@\lastbox\CD@bH{.5\wd0}%
{\box0}{.5\wd0}\z@\unpenalty\unpenalty\setbox\z@\lastbox\or\CD@TG\else
\advance\CD@GB-100 \ifnum\CD@GB<\z@\cd@shouldnt B\fi\setbox\z@\hbox{\kern
\CD@mF\copy\CD@MH\kern\CD@mI\CD@uA\CD@XB\advance\CD@uA-\CD@NB\penalty\CD@uA
\CD@uA\CD@FA\advance\CD@uA-\CD@lA\penalty\CD@uA\unhbox\z@\global\CD@yA
\lastpenalty\unpenalty\global\CD@zA\lastpenalty\unpenalty}\CD@uA-\CD@yA\CD@vA
\CD@zA\CD@fI\fi}\def\CD@TG{\global\CD@iG\unhbox\z@\setbox\z@\lastbox\CD@uA
\lastpenalty\unpenalty\advance\CD@uA\CD@mA\CD@vA\CD@XB\advance\CD@vA-%
\lastpenalty\unpenalty\dimen1\lastkern\unkern\setbox3\lastbox\dimen0\lastkern
\unkern\setbox0=\hbox to\z@{\unhbox0\setbox0\lastbox\setbox7\lastbox
\unpenalty\CD@eJ\lastkern\unkern\CD@DC\lastkern\unkern\setbox6\lastbox\dimen7%
\CD@tB\advance\dimen7-\wd\CD@uA\ifdim\dimen7<\z@\CD@CI\multiply\dimen7\m@ne
\let\mv\empty\else\CD@BI\def\mv{\raise\ht1}\kern-\dimen7 \fi\ifnum\CD@vA>%
\CD@NB\dimen6\CD@uB\advance\dimen6-\ht\CD@vA\else\dimen6\z@\fi\CD@jJ\setbox0%
\hbox{\CD@eD{\the\CD@TC\space\ifPositiveGradient\else-\fi\the\CD@LH\space
bturn}\box0 \CD@IK{eturn}}\setbox1\null\ht1\dimen6\wd1\dimen7 \dimen7\dimen2
\dimen6\wd1 \CD@KJ\CD@uA\CD@LH\CD@vA\CD@TC\dimen6\ht1 \CD@KJ\setbox2\null
\divide\dimen2\tw@\advance\dimen2\CD@eJ\CD@eG{\dimen2}\wd2\dimen2 \dimen0.5%
\dimen7 \advance\dimen0\ifPositiveGradient\else-\fi\CD@eJ\CD@dG{\dimen0}%
\advance\dimen0-\axisheight\ht2\dimen0 \dimen0\CD@DC\CD@eG{\dimen0}\advance
\dimen0\ht2\ht2\dimen0 \dimen0\ifPositiveGradient-\fi\CD@DC\CD@dG{\dimen0}%
\advance\dimen0\wd2\wd2\dimen0 \setbox4\null\dimen0 .6\CD@zC\CD@eG{\dimen0}%
\ht4\dimen0 \dimen0 .2\CD@zC\CD@dG{\dimen0}\wd4\dimen0 \dimen0\wd2 \ifvoid6%
\else\dimen1\ht4 \advance\dimen1\ht2 \CD@CC6+-\raise\dimen1\rlap{%
\ifPositiveGradient\advance\dimen0-\wd6\advance\dimen0-\wd4 \else\advance
\dimen0\wd4 \fi\kern\dimen0\box6}\fi\dimen0\wd2 \ifvoid7\else\dimen1\ht4
\advance\dimen1-\ht2 \CD@CC7-+\lower\dimen1\rlap{\ifPositiveGradient\advance
\dimen0\wd4 \else\advance\dimen0-\wd7\advance\dimen0-\wd4 \fi\kern\dimen0\box
7}\fi\mv\box0\hss}\ht0\z@\dp0\z@\CD@bH{\z@}{\box\z@}{\z@}{\axisheight}}\def
\CD@CC#1#2#3{\dimen4.5\wd#1 \ifdim\dimen4>.25\dimen7\dimen4=.25\dimen7\fi
\ifdim\dimen4>\CD@zC\dimen4.4\dimen4 \advance\dimen4.6\CD@zC\fi\CD@eG{\dimen4%
}\dimen5\axisheight\CD@dG{\dimen5}\advance\dimen4-\dimen5 \dimen5\dimen4%
\CD@eG{\dimen5}\advance\dimen0\ifPositiveGradient#2\else#3\fi\dimen5 \CD@dG{%
\dimen4}\advance\dimen1\dimen4 } \def\CD@eD#1{\expandafter\CD@IK{#1}}\CD@ZA
\CD@EK{output is PostScript dependent}\def\CD@SC{\CD@IK{/bturn {gsave
currentpoint currentpoint translate 4 2 roll neg exch atan rotate neg exch neg
exch translate } def /eturn {currentpoint grestore moveto} def}}\def\CD@OJ#1{%
\count@#1\relax\multiply\count@7\advance\count@16577\divide\count@33154 }\def
\CD@fD#1{\expandafter\special{#1}} \def\CD@xJ#1{\setbox#1=\hbox{\dimen0\dimen
#1\CD@dG{\dimen0}\CD@OJ{\dimen0}\setbox0=\null\ifPositiveGradient\count@-%
\count@\ht0\dimen0 \else\dp0\dimen0 \fi\box0 \CD@uA\count@\CD@OJ\CD@LF\CD@fD{%
pn \the\count@}\CD@fD{pa 0 0}\CD@OJ{\dimen#1}\CD@fD{pa \the\count@\space\the
\CD@uA}\CD@fD{fp}\kern\dimen#1}}\def\CD@JI{\CD@KJ\begingroup\ifdim\dimen7<%
\dimen6 \dimen2=\dimen6 \dimen6=\dimen7 \dimen7=\dimen2 \count@\CD@LH\CD@LH
\CD@TC\CD@TC\count@\else\dimen2=\dimen7 \fi\ifdim\dimen6>.01\p@\CD@KI\global
\CD@QA\dimen0 \else\global\CD@QA\dimen7 \fi\endgroup\dimen2\CD@QA}\def\CD@KI{%
\CD@hJ\ifdim\dimen7>1.73\dimen6 \divide\dimen2 4 \multiply\CD@TC2 \else\dimen
2=0.353553\dimen2 \advance\CD@LH-\CD@TC\multiply\CD@TC4 \fi\dimen0=4\dimen2
\CD@ZG4\CD@ZG{-2}\CD@ZG2\CD@ZG{-2.5}}\def\CD@AI{\begingroup\count@\dimen0
\dimen2 45pt \divide\count@\dimen2 \ifdim\dimen0<\z@\advance\count@\m@ne\fi
\ifodd\count@\advance\count@1\CD@@A\else\CD@y\fi\advance\dimen0-\count@\dimen
2 \CD@gE\multiply\dimen0\m@ne\fi\ifnum\count@<0 \multiply\count@-7 \fi\dimen3%
\dimen1 \dimen6\dimen0 \dimen7 3754936sp \ifdim\dimen0<6\p@\def\CD@OG{4000}%
\fi\CD@KJ\dimen2\dimen3\CD@dG{\dimen2}\CD@hJ\multiply\CD@TC-6 \dimen0\dimen2
\CD@ZG1\CD@ZG{0.3}\dimen1\dimen0 \dimen2\dimen3 \dimen0\dimen3 \CD@ZG3\CD@ZG{%
1.5}\CD@ZG{0.3}\divide\count@2 \CD@gE\multiply\dimen1\m@ne\fi\ifodd\count@
\dimen2\dimen1\dimen1\dimen0\dimen0-\dimen2 \fi\divide\count@2 \ifodd\count@
\multiply\dimen0\m@ne\multiply\dimen1\m@ne\fi\global\CD@QA\dimen0\global
\CD@RA\dimen1\endgroup\dimen6\CD@QA\dimen7\CD@RA}\def\CD@OC{255}\let\CD@OG
\CD@OC\def\CD@KJ{\begingroup\ifdim\dimen7<\dimen6 \dimen9\dimen7\dimen7\dimen
6\dimen6\dimen9\CD@@A\else\CD@y\fi\dimen2\z@\dimen3\CD@XH\dimen4\CD@XH\dimen0%
\z@\dimen8=\CD@OG\CD@XH\CD@lC\global\CD@yA\dimen\CD@gE0\else3\fi\global\CD@zA
\dimen\CD@gE3\else0\fi\endgroup\CD@LH\CD@yA\CD@TC\CD@zA}\def\CD@lC{\count@
\dimen6 \divide\count@\dimen7 \advance\dimen6-\count@\dimen7 \dimen9\dimen4
\advance\dimen9\count@\dimen0 \ifdim\dimen9>\dimen8 \CD@@C\else\CD@AC\ifdim
\dimen6>\z@\dimen9\dimen6 \dimen6\dimen7 \dimen7\dimen9 \expandafter
\expandafter\expandafter\CD@lC\fi\fi}\def\CD@@C{\ifdim\dimen0=\z@\ifdim\dimen
9<2\dimen8 \dimen0\dimen8 \fi\else\advance\dimen8-\dimen4 \divide\dimen8%
\dimen0 \ifdim\count@\CD@XH<2\dimen8 \count@\dimen8 \dimen9\dimen4 \advance
\dimen9\count@\dimen0 \CD@AC\fi\fi}\def\CD@AC{\dimen4\dimen0 \dimen0\dimen9
\advance\dimen2\count@\dimen3 \dimen9\dimen2 \dimen2\dimen3 \dimen3\dimen9 }%
\def\CD@ZG#1{\CD@dG{\dimen2}\advance\dimen0 #1\dimen2 }\def\CD@dG#1{\divide#1%
\CD@TC\multiply#1\CD@LH}\def\CD@eG#1{\divide#1\CD@vA\multiply#1\CD@uA}\def
\CD@iC#1{\divide#1\CD@LH\multiply#1\CD@TC}\def\CD@hJ{\dimen6\CD@LH\CD@XH
\multiply\dimen6\CD@LH\dimen7\CD@TC\CD@XH\multiply\dimen7\CD@TC\CD@KJ}\ifx
\errorcontextlines\undefined\CD@tJ\let\CD@GH\relax\else\def\CD@GH{%
\errorcontextlines\m@ne}\fi\ifnum\inputlineno<0 \let\CD@CD\empty\let\CD@W
\empty\let\CD@mD\relax\let\CD@uI\relax\let\CD@vI\relax\let\CD@zF\relax
\message{! Why not upgrade to TeX version 3? (available since 1990)}\else\def
\CD@W{ at line \number\inputlineno}\def\CD@mD{ - first occurred}\def\CD@uI{%
\edef\CD@h{\the\inputlineno}\global\let\CD@jB\CD@h}\def\CD@h{9999}\def\CD@vI{%
\xdef\CD@jB{\the\inputlineno}}\def\CD@jB{\CD@h}\def\CD@zF{\ifnum\CD@h<%
\inputlineno\edef\CD@CD{\space at lines \CD@h--\the\inputlineno}\else\edef
\CD@CD{\CD@W}\fi}\fi\let\CD@CD\empty\def\CD@YA#1#2{\CD@GH\errhelp=#2%
\expandafter\errmessage{\CD@tA: #1}}\def\CD@KB#1{\begingroup\expandafter
\message{! \CD@tA: #1\CD@CD}\ifnum\CD@XB>\CD@NB\ifnum\CD@CA>\CD@NB\else\ifnum
\CD@lA>\CD@FA\else\ifnum\CD@LB>\CD@FA\advance\CD@XB-\CD@NB\advance\CD@FA-%
\CD@lA\advance\CD@FA1\relax\expandafter\message{! (error detected at row \the
\CD@XB, column \the\CD@FA, but probably caused elsewhere)}\fi\fi\fi\fi
\endgroup}\def\CD@gB#1{{\expandafter\message{\CD@tA\space Warning: #1\CD@W}}}%
\def\CD@CB#1#2{\CD@gB{#1 \string#2 is obsolete\CD@mD}}\def\CD@AB#1{\CD@CB{%
Dimension}{#1}\CD@DE#1\CD@BB\CD@BB}\def\CD@BB{\CD@OA=}\def\CD@@B#1{\CD@CB{%
Count}{#1}\CD@DE#1\CD@OH\CD@OH}\def\CD@OH{\count@=}\def\HorizontalMapLength{%
\CD@AB\HorizontalMapLength}\def\VerticalMapHeight{\CD@AB\VerticalMapHeight}%
\def\VerticalMapDepth{\CD@AB\VerticalMapDepth}\def\VerticalMapExtraHeight{%
\CD@AB\VerticalMapExtraHeight}\def\VerticalMapExtraDepth{\CD@AB
\VerticalMapExtraDepth}\def\DiagonalLineSegments{\CD@@B\DiagonalLineSegments}%
\ifx\tenln\nullfont\CD@ZA\CD@KH{\CD@eF\space diagonal line and arrow font not
available}\else\let\CD@KH\relax\fi\def\CD@aG#1#2<#3:#4:#5#6{\begingroup\CD@PA
#3\relax\advance\CD@PA-#2\relax\ifdim.1em<\CD@PA\CD@uA#5\relax\CD@vA#6\relax
\ifnum\CD@uA<\CD@vA\count@\CD@vA\advance\count@-\CD@uA\CD@KB{#4 by \the\CD@PA
}\if#1v\let\CD@CH\CD@JK\edef\tmp{\the\CD@uA--\the\CD@vA,\the\CD@FA}\else
\advance\count@\count@\if#1l\advance\count@-\CD@A\else\if#1r\advance\count@
\CD@A\fi\fi\advance\CD@PA\CD@PA\let\CD@CH\CD@ZE\edef\tmp{\the\CD@NB,\the
\CD@uA--\the\CD@vA}\fi\divide\CD@PA\count@\ifdim\CD@CH<\CD@PA\global\CD@CH
\CD@PA\fi\fi\fi\endgroup}\CD@tG\CD@xE\CD@JD\CD@ID\CD@rG\CD@xI{See the message
above.}\CD@rG\CD@lH{Perhaps you've forgotten to end the diagram before
resuming the text, in\CD@uG which case some garbage may be added to the
diagram, but we should be ok now.\CD@uG Alternatively you've left a blank line
in the middle - TeX will now complain\CD@uG that the remaining \CD@S s are
misplaced - so please use comments for layout.}\CD@rG\CD@hD{You have already
closed too many brace pairs or environments; an \CD@HD\CD@uG command was (%
over)due.}\CD@rG\CD@hH{\CD@dC\space and \CD@HD\space commands must match.}%
\def\CD@jH{\ifnum\inputlineno=0 \else\expandafter\CD@iH\fi}\def\CD@iH{\CD@MD
\CD@GD\crcr\CD@YA{missing \CD@HD\space inserted before \CD@kH- type "h"}%
\CD@lH\enddiagram\CD@AG\CD@kH\par}\def\CD@AG#1{\edef\enddiagram{\noexpand
\CD@rD{#1\CD@W}}}\def\CD@rD#1{\CD@YA{\CD@HD\space(anticipated by #1) ignored}%
\CD@xI\let\enddiagram\CD@SG}\def\CD@SG{\CD@YA{misplaced \CD@HD\space ignored}%
\CD@hH}\def\CD@mC{\CD@YA{missing \CD@HD\space inserted.}\CD@hD\CD@AG{closing
group}}\ifx\DeclareOption\undefined\else\ifx\DeclareOption\@notprerr\else
\DeclareOption*{\let\CD@N\relax\let\CD@DH\relax\expandafter\CD@@E
\CurrentOption,}\fi\fi
%%======================================================================%
%%                                                                      %
%%      (21) AUXILLARY MACROS FOR ADJUSTMENT OF COMPONENTS              %
%%                                                                      %
%%======================================================================%

%% NOTE: The recommended way of defining arrow commands is now
%%      \newarrow{Name}{tail}{filler}{middle}{filler}{head}
%% which defines \rName, \lName, \dName and \uName using arrow parts which
%% have themselves previously been defined using the commands
%% \newarrowtail, \newarrowfiller, \newarrowmiddle and \newarrowhead.

%% The components \rhvee etc have been retained for the time being, as an
%% intermediate stage and to continue to support the old \HorizontalMap and
%% \VerticalMap commands, but you should not rely on the continued existence
%% of these macros.

%% The various components usually need some correction
%% - longitudinally, ie to prevent gaps and overprints with the shaft,
%% - transversally,  ie to prevent "steps" in the junction with the shaft.
%% The former can be done safely ad hoc, eg with \mkern1mu.
%% The latter are now done with the macros \scriptaxis, \boldscriptaxis,
%% \shifthook and \raisehook, which include pixel corrections.

%% Please note that these and the other auxillary macros which follow are
%% interim. When it becomes clear exactly what kinds of adjustments are
%% needed for characters, this job will be done by a suitable extension
%% to the language of \newarrowhead, etc. If you have any other ideas for
%% transformations of general use please tell me.

%% By all means experiment with other characters for arrowheads, but
%% please, in your own interests, do not rely on macros like \rhvee,
%% send me a copy of your definitions for distribution to other users
%% in this file, and keep track of where your efforts get copied so
%% that they can be replaced with the "official" version when it is
%% incorporated.

%% ***** DONT use macros with mangled names like \Cd@gH. *****

\catcode\lq\$=3 %% make sure that $ means maths-shift
\def\vboxtoz{\vbox to\z@}%% \z@ is in plain TeX and means 0pt

%% print #1 in \scriptstyle, adjusting for the maths axis height
\def\scriptaxis#1{\@scriptaxis{$\scriptstyle#1$}}%%
\def\ssaxis#1{\@ssaxis{$\scriptscriptstyle#1$}}%%
\def\@scriptaxis#1{\dimen0\axisheight\advance\dimen0-\ss@axisheight\raise
\dimen0\hbox{#1}}\def\@ssaxis#1{\dimen0\axisheight\advance\dimen0-%
\ss@axisheight\raise\dimen0\hbox{#1}}

%% Some of the characters would look better in bold since they're
%% taken from sub/superscript fonts; we use LaTeX's \boldmath to
%% do this, defining this to do nothing if it doesn't exist.
%% With the old LaTeX font selection at other than 10pt you may still
%% get nothing happenning.  Also, PK fonts may be missing.
%% If you have problems, DONT use boldhook or boldlittlevee.
\ifx\boldmath\undefined%%
\let\boldscriptaxis\scriptaxis%%
\def\boldscript#1{\hbox{$\scriptstyle#1$}}%%
\def\boldscriptscript#1{\hbox{$\scriptscriptstyle#1$}}%%
\else\def\boldscriptaxis#1{\@scriptaxis{\boldmath$\scriptstyle#1$}}%%
\def\boldscript#1{\hbox{\boldmath$\scriptstyle#1$}}%%
\def\boldscriptscript#1{\hbox{\boldmath$\scriptscriptstyle#1$}}%%
\fi

%%  #1= {} or \boldmath; #2= + or -; #3=\subset or \supset
\def\raisehook#1#2#3{\hbox{\setbox3=\hbox{#1$\scriptscriptstyle#3$}%
%% the character to use
\dimen0\ss@axisheight%% \scriptscriptstyle axis height
\dimen1\axisheight\advance\dimen1-\dimen0%% difference in axis heights
\dimen2\ht3\advance\dimen2-\dimen0%
%%  height of char above axis (half spread)
\advance\dimen2-0.021em\advance\dimen1 #2\dimen2%
%% shift = axis_difference +/- half_spread
\raise\dimen1\box3}}%% print the character
%% Mark Dawson suggested using the width
\def\shifthook#1#2#3{\setbox1=\hbox{#1$\scriptscriptstyle#3$}\dimen0\wd1%
\divide\dimen0 12\CD@zH{\dimen0}%%  "u"
\dimen1\wd1\advance\dimen1-2\dimen0 \advance\dimen1-2\CD@oI\CD@zH{\dimen1}%
\kern#2\dimen1\box1}%% print

%% use the extension font (cmex) for double vertical arrows
\def\@cmex{\mathchar"03}%%ascii double quote

%%      ************* P U L L B A C K S ************

%% These will probably be replaced by something less ad hoc
%% in a future version.

\def\make@pbk#1{\setbox\tw@\hbox to\z@{#1}\ht\tw@\z@\dp\tw@\z@\box\tw@}\def
\CD@fH#1{\overprint{\hbox to\z@{#1}}}\def\CD@qH{\kern0.11em}\def\CD@pH{\kern0%
.35em}

%% This is a hack for my book ``Practical Foundations of Mathematics''
%% and WILL NOT BE SUPPORTED --- DO NOT USE IT!
\def\dblvert{\def\CD@rH{\kern.5\PileSpacing}}\def\CD@rH{}

\def\SEpbk{\make@pbk{\CD@qH\CD@rH\vrule depth 2.87ex height -2.75ex width 0.%
95em \vrule height -0.66ex depth 2.87ex width 0.05em \hss}}

\def\SWpbk{\make@pbk{\hss\vrule height -0.66ex depth 2.87ex width 0.05em
\vrule depth 2.87ex height -2.75ex width 0.95em \CD@qH\CD@rH}}

\def\NEpbk{\make@pbk{\CD@qH\CD@rH\vrule depth -3.81ex height 4.00ex width 0.%
95em \vrule height 4.00ex depth -1.72ex width 0.05em \hss}}

\def\NWpbk{\make@pbk{\hss\vrule height 4.00ex depth -1.72ex width 0.05em
\vrule depth -3.81ex height 4.00ex width 0.95em \CD@qH\CD@rH}}

%%  Freyd & Scedrov puncture symbol for non-commuting polygon
\def\puncture{{\setbox0\hbox{A}\vrule height.53\ht0 depth-.47\ht0 width.35\ht
0 \kern.12\ht0 \vrule height\ht0 depth-.65\ht0 width.06\ht0 \kern-.06\ht0
\vrule height.35\ht0 depth0pt width.06\ht0 \kern.12\ht0 \vrule height.53\ht0
depth-.47\ht0 width.35\ht0 }}

%% 2-cells: (24.11.95)
%%% \NEclck puts a clockwise (ie southeast) arrow to the northwest of cell etc
\def\NEclck{\overprint{\raise2.5ex\rlap{ \CD@rH$\scriptstyle\searrow$}}}%%
\def\NEanti{\overprint{\raise2.5ex\rlap{ \CD@rH$\scriptstyle\nwarrow$}}}%%
\def\NWclck{\overprint{\raise2.5ex\llap{$\scriptstyle\nearrow$ \CD@rH}}}%%
\def\NWanti{\overprint{\raise2.5ex\llap{$\scriptstyle\swarrow$ \CD@rH}}}%%
\def\SEclck{\overprint{\lower1ex\rlap{ \CD@rH$\scriptstyle\swarrow$}}}%%
\def\SEanti{\overprint{\lower1ex\rlap{ \CD@rH$\scriptstyle\nearrow$}}}%%
\def\SWclck{\overprint{\lower1ex\llap{$\scriptstyle\nwarrow$ \CD@rH}}}%%
\def\SWanti{\overprint{\lower1ex\llap{$\scriptstyle\searrow$ \CD@rH}}}

%%======================================================================%
%%                                                                      %
%%      (22) BITS OF ARROWS                                             %
%%                                                                      %
%%======================================================================%

%%       **********  H E A D S ***********

%% \diagramstyle[heads=xxx] defines {>} as {xxx} where xxx
%% has been defined by \newarrowhead{xxx} and \newarrowtail{xxx}

%% vee head
\def\rhvee{\mkern-10mu\greaterthan}%%
\def\lhvee{\lessthan\mkern-10mu}%%
\def\dhvee{\vboxtoz{\vss\hbox{$\vee$}\kern0pt}}%%
\def\uhvee{\vboxtoz{\hbox{$\wedge$}\vss}}%%
\newarrowhead{vee}\rhvee\lhvee\dhvee\uhvee

%% little vee head
\def\dhlvee{\vboxtoz{\vss\hbox{$\scriptstyle\vee$}\kern0pt}}%%
\def\uhlvee{\vboxtoz{\hbox{$\scriptstyle\wedge$}\vss}}%%
\newarrowhead{littlevee}{\mkern1mu\scriptaxis\rhvee}{\scriptaxis\lhvee}%
\dhlvee\uhlvee\ifx\boldmath\undefined%%
\newarrowhead{boldlittlevee}{\mkern1mu\scriptaxis\rhvee}{\scriptaxis\lhvee}%
\dhlvee\uhlvee\else%%
\def\dhblvee{\vboxtoz{\vss\boldscript\vee\kern0pt}}%%
\def\uhblvee{\vboxtoz{\boldscript\wedge\vss}}%%
\newarrowhead{boldlittlevee}{\mkern1mu\boldscriptaxis\rhvee}{\boldscriptaxis
\lhvee}\dhblvee\uhblvee%%
\fi

%% curly vee head (uses AMS symbols fonts)
\def\rhcvee{\mkern-10mu\succ}%%
\def\lhcvee{\prec\mkern-10mu}%%
\def\dhcvee{\vboxtoz{\vss\hbox{$\curlyvee$}\kern0pt}}%%
\def\uhcvee{\vboxtoz{\hbox{$\curlywedge$}\vss}}%%
\newarrowhead{curlyvee}\rhcvee\lhcvee\dhcvee\uhcvee

%% double vee head %% will probably be withdrawn later
\def\rhvvee{\mkern-13mu\gg}%% 24.8.92 changed 10mu to 13mu
\def\lhvvee{\ll\mkern-13mu}%% to make rule go through
\def\dhvvee{\vboxtoz{\vss\hbox{$\vee$}\kern-.6ex\hbox{$\vee$}\kern0pt}}%%
\def\uhvvee{\vboxtoz{\hbox{$\wedge$}\kern-.6ex \hbox{$\wedge$}\vss}}%%
\newarrowhead{doublevee}\rhvvee\lhvvee\dhvvee\uhvvee

%% open and closed triangles (uses AMS symbols fonts)
\def\triangleup{{\scriptscriptstyle\bigtriangleup}}%%
\def\littletriangledown{{\scriptscriptstyle\triangledown}}%% AMS
\def\rhtriangle{\triangleright\mkern1.2mu}%% 29.1.93
\def\lhtriangle{\triangleleft\mkern.8mu}%%
\def\uhtriangle{\vbox{\kern-.2ex \hbox{$\scriptscriptstyle\bigtriangleup$}%
\kern-.25ex}}%%
%% Changed \scriptstyle\triangledown to \scriptscriptstyle\bigtriangledown
%% at the suggestion of Martin Hofmann (25.11.92) to avoid using AMS symbols
%% and also for compatibility with upward arrow.
\def\dhtriangle{\vbox{\kern-.28ex \hbox{$\scriptscriptstyle\bigtriangledown$}%
\kern-.1ex}}%% 15.1.93 from -.25ex
\def\dhblack{\vbox{\kern-.25ex\nointerlineskip\hbox{$\blacktriangledown$}}}%
%% AMS
\def\uhblack{\vbox{\kern-.25ex\nointerlineskip\hbox{$\blacktriangle$}}}%
%% AMS
\def\dhlblack{\vbox{\kern-.25ex\nointerlineskip\hbox{$\scriptstyle
\blacktriangledown$}}}%% AMS
\def\uhlblack{\vbox{\kern-.25ex\nointerlineskip\hbox{$\scriptstyle
\blacktriangle$}}}%% AMS
\newarrowhead{triangle}\rhtriangle\lhtriangle\dhtriangle\uhtriangle
\newarrowhead{blacktriangle}{\mkern-1mu\blacktriangleright\mkern.4mu}{%
\blacktriangleleft}\dhblack\uhblack\newarrowhead{littleblack}{\mkern-1mu%
\scriptaxis\blacktriangleright}{\scriptaxis\blacktriangleleft\mkern-2mu}%
\dhlblack\uhlblack

%% LaTeX arrowheads
\def\rhla{\hbox{\setbox0=\lnchar55\dimen0=\wd0\kern-.6\dimen0\ht0\z@\raise
\axisheight\box0\kern.1\dimen0}}%%
\def\lhla{\hbox{\setbox0=\lnchar33\dimen0=\wd0\kern.05\dimen0\ht0\z@\raise
\axisheight\box0\kern-.5\dimen0}}%%
\def\dhla{\vboxtoz{\vss\rlap{\lnchar77}}}%%
\def\uhla{\vboxtoz{\setbox0=\lnchar66 \wd0\z@\kern-.15\ht0\box0\vss}}%% 1/93
\newarrowhead{LaTeX}\rhla\lhla\dhla\uhla

%% double LaTeX arrowheads %% will probably be withdrawn later
\def\lhlala{\lhla\kern.3em\lhla}%%
\def\rhlala{\rhla\kern.3em\rhla}%%
\def\uhlala{\hbox{\uhla\raise-.6ex\uhla}}%%
\def\dhlala{\hbox{\dhla\lower-.6ex\dhla}}%%
\newarrowhead{doubleLaTeX}\rhlala\lhlala\dhlala\uhlala

%% circles % \rho is a Greek letter!
\def\hhO{\scriptaxis\bigcirc\mkern.4mu} \def\hho{{\circ}\mkern1.2mu}%
\newarrowhead{o}\hho\hho\circ\circ%%
\newarrowhead{O}\hhO\hhO{\scriptstyle\bigcirc}{\scriptstyle\bigcirc}%%

%% crosses
\def\rhtimes{\mkern-5mu{\times}\mkern-.8mu}\def\lhtimes{\mkern-.8mu{\times}%
\mkern-5mu}\def\uhtimes{\setbox0=\hbox{$\times$}\ht0\axisheight\dp0-\ht0%
\lower\ht0\box0 }\def\dhtimes{\setbox0=\hbox{$\times$}\ht0\axisheight\box0 }%
\newarrowhead{X}\rhtimes\lhtimes\dhtimes\uhtimes\newarrowhead+++++

%% empty head {} is also available

%% Y from stmaryrd (vertical ones still need large adjustment)
\newarrowhead{Y}{\mkern-3mu\Yright}{\Yleft\mkern-3mu}\Yup\Ydown

%%       **********  H E A D S  with  S H A F T S  ***********

%% little arrow with shaft
\newarrowhead{->}\rightarrow\leftarrow\downarrow\uparrow

%% arrow with double shaft
%%\newarrowhead{=>}\Rightarrow\Leftarrow\Downarrow\Uparrow
\newarrowhead{=>}\Rightarrow\Leftarrow{\@cmex7F}{\@cmex7E}

%% harpoon with shaft (trailing up/left can be changed to down/right)
\newarrowhead{harpoon}\rightharpoonup\leftharpoonup\downharpoonleft
\upharpoonleft

%% little double-headed arrow with shaft (uses AMS symbols fonts)
\def\twoheaddownarrow{\rlap{$\downarrow$}\raise-.5ex\hbox{$\downarrow$}}%%
\def\twoheaduparrow{\rlap{$\uparrow$}\raise.5ex\hbox{$\uparrow$}}%%
\newarrowhead{->>}\twoheadrightarrow\twoheadleftarrow\twoheaddownarrow
\twoheaduparrow

%%       **********  T A I L S ***********

%% vee tail
\def\rtvee{\greaterthan}%%
\def\ltvee{\mkern-1mu{\lessthan}\mkern.4mu}%% \mkern added 15.1.93
\def\dtvee{\vee}%%
\def\utvee{\wedge}%%
\newarrowtail{vee}\greaterthan\ltvee\vee\wedge

%% little vee tail
\newarrowtail{littlevee}{\scriptaxis\greaterthan}{\mkern-1mu\scriptaxis
\lessthan}{\scriptstyle\vee}{\scriptstyle\wedge}\ifx\boldmath\undefined
\newarrowtail{boldlittlevee}{\scriptaxis\greaterthan}{\mkern-1mu\scriptaxis
\lessthan}{\scriptstyle\vee}{\scriptstyle\wedge}\else\newarrowtail{%
boldlittlevee}{\boldscriptaxis\greaterthan}{\mkern-1mu\boldscriptaxis
\lessthan}{\boldscript\vee}{\boldscript\wedge}\fi

%% curly vee tail (uses AMS symbols fonts)
\newarrowtail{curlyvee}\succ{\mkern-1mu{\prec}\mkern.4mu}\curlyvee\curlywedge

%% open and closed triangle tails (uses AMS symbols fonts)
\def\rttriangle{\mkern1.2mu\triangleright}%% 29.1.93
\newarrowtail{triangle}\rttriangle\lhtriangle\dhtriangle\uhtriangle
\newarrowtail{blacktriangle}\blacktriangleright{\mkern-1mu\blacktriangleleft
\mkern.4mu}\dhblack\uhblack\newarrowtail{littleblack}{\scriptaxis
\blacktriangleright\mkern-2mu}{\mkern-1mu\scriptaxis\blacktriangleleft}%
\dhlblack\uhlblack

%% LaTeX tails
\def\rtla{\hbox{\setbox0=\lnchar55\dimen0=\wd0\kern-.5\dimen0\ht0\z@\raise
\axisheight\box0\kern-.2\dimen0}}%%
\def\ltla{\hbox{\setbox0=\lnchar33\dimen0=\wd0\kern-.15\dimen0\ht0\z@\raise
\axisheight\box0\kern-.5\dimen0}}%%
\def\dtla{\vbox{\setbox0=\rlap{\lnchar77}\dimen0=\ht0\kern-.7\dimen0\box0%
\kern-.1\dimen0}}%% 15.1.93 from -.6
\def\utla{\vbox{\setbox0=\rlap{\lnchar66}\dimen0=\ht0\kern-.1\dimen0\box0%
\kern-.6\dimen0}}%%
\newarrowtail{LaTeX}\rtla\ltla\dtla\utla

%% double vee tail %% will probably be withdrawn later
\def\rtvvee{\gg\mkern-3mu}%%
\def\ltvvee{\mkern-3mu\ll}%%
\def\dtvvee{\vbox{\hbox{$\vee$}\kern-.6ex \hbox{$\vee$}\vss}}%%
\def\utvvee{\vbox{\vss\hbox{$\wedge$}\kern-.6ex \hbox{$\wedge$}\kern\z@}}%%
\newarrowtail{doublevee}\rtvvee\ltvvee\dtvvee\utvvee

%% double LaTeX tails %% will probably be withdrawn later
\def\ltlala{\ltla\kern.3em\ltla}%%
\def\rtlala{\rtla\kern.3em\rtla}%%
\def\utlala{\hbox{\utla\raise-.6ex\utla}}%%
\def\dtlala{\hbox{\dtla\lower-.6ex\dtla}}%%
\newarrowtail{doubleLaTeX}\rtlala\ltlala\dtlala\utlala

%% bar (as in \mapsto)
\def\utbar{\vrule height 0.093ex depth0pt width 0.4em}%%
\let\dtbar\utbar%%
\def\rtbar{\mkern1.5mu\vrule height 1.1ex depth.06ex width .04em\mkern1.5mu}%
%%
\let\ltbar\rtbar%%
\newarrowtail{mapsto}\rtbar\ltbar\dtbar\utbar%%
\newarrowtail{|}\rtbar\ltbar\dtbar\utbar%%ascii vertical bar (|)

%% hooks (as in \into): choice of after/above and before/below

\def\rthooka{\raisehook{}+\subset\mkern-1mu}%%
\def\lthooka{\mkern-1mu\raisehook{}+\supset}%%
\def\rthookb{\raisehook{}-\subset\mkern-2mu}%%
\def\lthookb{\mkern-1mu\raisehook{}-\supset}%%

\def\dthooka{\shifthook{}+\cap}%%
\def\dthookb{\shifthook{}-\cap}%%
\def\uthooka{\shifthook{}+\cup}%%
\def\uthookb{\shifthook{}-\cup}%%

\newarrowtail{hooka}\rthooka\lthooka\dthooka\uthooka\newarrowtail{hookb}%
\rthookb\lthookb\dthookb\uthookb

\ifx\boldmath\undefined\newarrowtail{boldhooka}\rthooka\lthooka\dthooka
\uthooka\newarrowtail{boldhookb}\rthookb\lthookb\dthookb\uthookb\newarrowtail
{boldhook}\rthooka\lthooka\dthookb\uthooka\else\def\rtbhooka{\raisehook
\boldmath+\subset\mkern-1mu}%%
\def\ltbhooka{\mkern-1mu\raisehook\boldmath+\supset}%%
\def\rtbhookb{\raisehook\boldmath-\subset\mkern-2mu}%%
\def\ltbhookb{\mkern-1mu\raisehook\boldmath-\supset}%%
\def\dtbhooka{\shifthook\boldmath+\cap}%%
\def\dtbhookb{\shifthook\boldmath-\cap}%%
\def\utbhooka{\shifthook\boldmath+\cup}%%
\def\utbhookb{\shifthook\boldmath-\cup}%%
\newarrowtail{boldhooka}\rtbhooka\ltbhooka\dtbhooka\utbhooka\newarrowtail{%
boldhookb}\rtbhookb\ltbhookb\dtbhookb\utbhookb\newarrowtail{boldhook}%
\rtbhooka\ltbhooka\dtbhooka\utbhooka\fi

%% square-ended hooks (used for closed subsets in ``lifting and gluing'')
\def\dtsqhooka{\shifthook{}+\sqcap}%%
\def\dtsqhookb{\shifthook{}-\sqcap}%%
\def\ltsqhooka{\mkern-1mu\raisehook{}+\sqsupset}%%
\def\ltsqhookb{\mkern-1mu\raisehook{}-\sqsupset}%%
\def\rtsqhooka{\raisehook{}+\sqsubset\mkern-1mu}%%
\def\rtsqhookb{\raisehook{}-\sqsubset\mkern-2mu}%%
\def\utsqhooka{\shifthook{}+\sqcup}%%
\def\utsqhookb{\shifthook{}-\sqcup}%%
\newarrowtail{sqhook}\rtsqhooka\ltsqhooka\dtsqhooka\utsqhooka

%% the following seem the better choices at 10pt & 300dpi
\newarrowtail{hook}\rthooka\lthookb\dthooka\uthooka\newarrowtail{C}\rthooka
\lthookb\dthooka\uthooka

%% circles
\newarrowtail{o}\hho\hho\circ\circ%%
\newarrowtail{O}\hhO\hhO{\scriptstyle\bigcirc}{\scriptstyle\bigcirc}%%

%% crosses
\newarrowtail{X}\lhtimes\rhtimes\uhtimes\dhtimes\newarrowtail+++++

%% empty tail {} is also available

%% Y from stmaryrd (vertical ones still need adjustment)
\newarrowtail{Y}\Yright\Yleft\Yup\Ydown

%% harpoon with shaft (trailing up/left can be changed to down/right)
\newarrowtail{harpoon}\leftharpoondown\rightharpoondown\upharpoonright
\downharpoonright

%%      **********  F I L L E R S ***********

%% shortening is up to 0.15em=2.7mu horiz and 0.35ex vertically at each end.

%% dot {.}, single rule {-} and empty {} fillers are also available

%% double and triple lines
%%\newarrowfiller{=}==\Vert\Vert%%
\newarrowfiller{=}=={\@cmex77}{\@cmex77}%% 16.1.93
\def\vfthree{\mid\!\!\!\mid\!\!\!\mid}%%ascii
\newarrowfiller{3}\equiv\equiv\vfthree\vfthree

%% dashed line
\def\vfdashstrut{\vrule width0pt height1.3ex depth0.7ex}%%
\def\vfthedash{\vrule width\CD@LF height0.6ex depth 0pt}%%
\def\hfthedash{\CD@AJ\vrule\horizhtdp width 0.26em}%%
\def\hfdash{\mkern5.5mu\hfthedash\mkern5.5mu}%%
\def\vfdash{\vfdashstrut\vfthedash}%%
\newarrowfiller{dash}\hfdash\hfdash\vfdash\vfdash

%%      ************* M I D D L E S ************

%% plus
\newarrowmiddle+++++

%%      ************* D I A G O N A L S ************

%% simple arrow heads
%%\def\nwhTO{\nwarrow\mkern-1mu}%%
%%\def\nehTO{\mkern-.1mu\nearrow}%%
%%\def\sehTO{\searrow\mkern-.02mu}%%
%%\def\swhTO{\mkern-.8mu\swarrow}%%

%%======================================================================%
%%                                                                      %
%%      (22) ARROW COMMANDS                                             %
%%                                                                      %
%%======================================================================%

%% change to \iftrue to get mixed heads
\iffalse%%
\newarrow{To}----{vee}%%
\newarrow{Arr}----{LaTeX}%%
\newarrow{Dotsto}....{vee}%%
\newarrow{Dotsarr}....{LaTeX}%%
\newarrow{Dashto}{}{dash}{}{dash}{vee}%%
\newarrow{Dasharr}{}{dash}{}{dash}{LaTeX}%%
\newarrow{Mapsto}{mapsto}---{vee}%%
\newarrow{Mapsarr}{mapsto}---{LaTeX}%%
\newarrow{IntoA}{hooka}---{vee}%%
\newarrow{IntoB}{hookb}---{vee}%%
\newarrow{Embed}{vee}---{vee}%%
\newarrow{Emarr}{LaTeX}---{LaTeX}%%
\newarrow{Onto}----{doublevee}%%
\newarrow{Dotsonarr}....{doubleLaTeX}%%
\newarrow{Dotsonto}....{doublevee}%%
\newarrow{Dotsonarr}....{doubleLaTeX}%%
\else%%
\newarrow{To}---->%%
\newarrow{Arr}---->%%
\newarrow{Dotsto}....>%%
\newarrow{Dotsarr}....>%%
\newarrow{Dashto}{}{dash}{}{dash}>%%
\newarrow{Dasharr}{}{dash}{}{dash}>%%
\newarrow{Mapsto}{mapsto}--->%%
\newarrow{Mapsarr}{mapsto}--->%%
\newarrow{IntoA}{hooka}--->%%
\newarrow{IntoB}{hookb}--->%%
\newarrow{Embed}>--->%%
\newarrow{Emarr}>--->%%
\newarrow{Onto}----{>>}%%
\newarrow{Dotsonarr}....{>>}%%
\newarrow{Dotsonto}....{>>}%%
\newarrow{Dotsonarr}....{>>}%%
\fi%%

\newarrow{Implies}===={=>}%% minimum cell height 9.5pt
\newarrow{Project}----{triangle}%%
\newarrow{Pto}----{harpoon}%% partial function
\newarrow{Relto}{harpoon}---{harpoon}%% binary relation

\newarrow{Eq}=====%%
\newarrow{Line}-----%%
\newarrow{Dots}.....%%
\newarrow{Dashes}{}{dash}{}{dash}{}%%

%% square hooked arrow (used in my ``gluing and lifting'' paper)
\newarrow{SquareInto}{sqhook}--->

%% braces and parentheses
%% \newarrow gives inappropriate directions, so we change the names
%% the vertical filler is too far to the right; horizontal too high
%% the vertical middles are too low with midvshaft
%% maybe we'll add square brackets and the integral sign one day
\newarrowhead{cmexbra}{\@cmex7B}{\@cmex7C}{\@cmex3B}{\@cmex38}%%
\newarrowtail{cmexbra}{\@cmex7A}{\@cmex7D}{\@cmex39}{\@cmex3A}%%
\newarrowmiddle{cmexbra}{\braceru\bracelu}{\bracerd\braceld}{\vcenter{%
\hbox@maths{\@cmex3D\mkern-2mu}}}%% right
{\vcenter{\hbox@maths{\mkern2mu\@cmex3C}}}%% left
\newarrow{@brace}{cmexbra}-{cmexbra}-{cmexbra}%% braces
\newarrow{@parenth}{cmexbra}---{cmexbra}%% straight parentheses
\def\rightBrace{\d@brace[thick,cmex]}%%ASCII square brackets []
\def\leftBrace{\u@brace[thick,cmex]}%%ASCII square brackets []
\def\upperBrace{\r@brace[thick,cmex]}%%ASCII square brackets []
\def\lowerBrace{\l@brace[thick,cmex]}%%ASCII square brackets []
\def\rightParenth{\d@parenth[thick,cmex]}%%ASCII square brackets []
\def\leftParenth{\u@parenth[thick,cmex]}%%ASCII square brackets []
\def\upperParenth{\r@parenth[thick,cmex]}%%ASCII square brackets []
\def\lowerParenth{\l@parenth[thick,cmex]}%%ASCII square brackets []

%% synonyms for reverse compatibility

\let\uFrom\uTo%%
\let\lFrom\lTo%%
\let\uDotsfrom\uDotsto%%
\let\lDotsfrom\lDotsto%%
\let\uDashfrom\uDashto%%
\let\lDashfrom\lDashto%%
\let\uImpliedby\uImplies%%
\let\lImpliedby\lImplies%%
\let\uMapsfrom\uMapsto%%
\let\lMapsfrom\lMapsto%%
\let\lOnfrom\lOnto%%
\let\uOnfrom\uOnto%%
\let\lPfrom\lPto%%
\let\uPfrom\uPto%%

\let\uInfromA\uIntoA%%
\let\uInfromB\uIntoB%%
\let\lInfromA\lIntoA%%
\let\lInfromB\lIntoB%%
\let\rInto\rIntoA%%
\let\lInto\lIntoA%%
\let\dInto\dIntoB%%
\let\uInto\uIntoA%%
\let\ruInto\ruIntoA%%
\let\luInto\luIntoA%%
\let\rdInto\rdIntoA%%
\let\ldInto\ldIntoA%%
%%
\let\hEq\rEq%%
\let\vEq\uEq%%
\let\hLine\rLine%%
\let\vLine\uLine%%
\let\hDots\rDots%%
\let\vDots\uDots%%
\let\hDashes\rDashes%%
\let\vDashes\uDashes%%

%%=========================================================================%
%% The following are included for reverse compatibility only.
%%=========================================================================%
\let\NW\luTo\let\NE\ruTo\let\SW\ldTo\let\SE\rdTo\def\nNW{\luTo(2,3)}\def\nNE{%
\ruTo(2,3)}%%ascii
\def\sSW{\ldTo(2,3)}\def\sSE{\rdTo(2,3)}%%ascii
\def\wNW{\luTo(3,2)}\def\eNE{\ruTo(3,2)}%%ascii
\def\wSW{\ldTo(3,2)}\def\eSE{\rdTo(3,2)}%%ascii
\def\NNW{\luTo(2,4)}\def\NNE{\ruTo(2,4)}%%ascii
\def\SSW{\ldTo(2,4)}\def\SSE{\rdTo(2,4)}%%ascii
\def\WNW{\luTo(4,2)}\def\ENE{\ruTo(4,2)}%%ascii
\def\WSW{\ldTo(4,2)}\def\ESE{\rdTo(4,2)}%%ascii
\def\NNNW{\luTo(2,6)}\def\NNNE{\ruTo(2,6)}%%ascii
\def\SSSW{\ldTo(2,6)}\def\SSSE{\rdTo(2,6)}%%ascii
\def\WWNW{\luTo(6,2)}\def\EENE{\ruTo(6,2)}%%ascii
\def\WWSW{\ldTo(6,2)}\def\EESE{\rdTo(6,2)}%%ascii

\let\NWd\luDotsto\let\NEd\ruDotsto\let\SWd\ldDotsto\let\SEd\rdDotsto\def\nNWd
{\luDotsto(2,3)}\def\nNEd{\ruDotsto(2,3)}%%ascii
\def\sSWd{\ldDotsto(2,3)}\def\sSEd{\rdDotsto(2,3)}%%ascii
\def\wNWd{\luDotsto(3,2)}\def\eNEd{\ruDotsto(3,2)}%%ascii
\def\wSWd{\ldDotsto(3,2)}\def\eSEd{\rdDotsto(3,2)}%%ascii
\def\NNWd{\luDotsto(2,4)}\def\NNEd{\ruDotsto(2,4)}%%ascii
\def\SSWd{\ldDotsto(2,4)}\def\SSEd{\rdDotsto(2,4)}%%ascii
\def\WNWd{\luDotsto(4,2)}\def\ENEd{\ruDotsto(4,2)}%%ascii
\def\WSWd{\ldDotsto(4,2)}\def\ESEd{\rdDotsto(4,2)}%%ascii
\def\NNNWd{\luDotsto(2,6)}\def\NNNEd{\ruDotsto(2,6)}%%ascii
\def\SSSWd{\ldDotsto(2,6)}\def\SSSEd{\rdDotsto(2,6)}%%ascii
\def\WWNWd{\luDotsto(6,2)}\def\EENEd{\ruDotsto(6,2)}%%ascii
\def\WWSWd{\ldDotsto(6,2)}\def\EESEd{\rdDotsto(6,2)}%%ascii

\let\NWl\luLine\let\NEl\ruLine\let\SWl\ldLine\let\SEl\rdLine\def\nNWl{\luLine
(2,3)}\def\nNEl{\ruLine(2,3)}%%ascii
\def\sSWl{\ldLine(2,3)}\def\sSEl{\rdLine(2,3)}%%ascii
\def\wNWl{\luLine(3,2)}\def\eNEl{\ruLine(3,2)}%%ascii
\def\wSWl{\ldLine(3,2)}\def\eSEl{\rdLine(3,2)}%%ascii
\def\NNWl{\luLine(2,4)}\def\NNEl{\ruLine(2,4)}%%ascii
\def\SSWl{\ldLine(2,4)}\def\SSEl{\rdLine(2,4)}%%ascii
\def\WNWl{\luLine(4,2)}\def\ENEl{\ruLine(4,2)}%%ascii
\def\WSWl{\ldLine(4,2)}\def\ESEl{\rdLine(4,2)}%%ascii
\def\NNNWl{\luLine(2,6)}\def\NNNEl{\ruLine(2,6)}%%ascii
\def\SSSWl{\ldLine(2,6)}\def\SSSEl{\rdLine(2,6)}%%ascii
\def\WWNWl{\luLine(6,2)}\def\EENEl{\ruLine(6,2)}%%ascii
\def\WWSWl{\ldLine(6,2)}\def\EESEl{\rdLine(6,2)}%%ascii

\let\NWld\luDots\let\NEld\ruDots\let\SWld\ldDots\let\SEld\rdDots\def\nNWld{%
\luDots(2,3)}\def\nNEld{\ruDots(2,3)}%%ascii
\def\sSWld{\ldDots(2,3)}\def\sSEld{\rdDots(2,3)}%%ascii
\def\wNWld{\luDots(3,2)}\def\eNEld{\ruDots(3,2)}%%ascii
\def\wSWld{\ldDots(3,2)}\def\eSEld{\rdDots(3,2)}%%ascii
\def\NNWld{\luDots(2,4)}\def\NNEld{\ruDots(2,4)}%%ascii
\def\SSWld{\ldDots(2,4)}\def\SSEld{\rdDots(2,4)}%%ascii
\def\WNWld{\luDots(4,2)}\def\ENEld{\ruDots(4,2)}%%ascii
\def\WSWld{\ldDots(4,2)}\def\ESEld{\rdDots(4,2)}%%ascii
\def\NNNWld{\luDots(2,6)}\def\NNNEld{\ruDots(2,6)}%%ascii
\def\SSSWld{\ldDots(2,6)}\def\SSSEld{\rdDots(2,6)}%%ascii
\def\WWNWld{\luDots(6,2)}\def\EENEld{\ruDots(6,2)}%%ascii
\def\WWSWld{\ldDots(6,2)}\def\EESEld{\rdDots(6,2)}%%ascii

\let\NWe\luEmbed\let\NEe\ruEmbed\let\SWe\ldEmbed\let\SEe\rdEmbed\def\nNWe{%
\luEmbed(2,3)}\def\nNEe{\ruEmbed(2,3)}%%ascii
\def\sSWe{\ldEmbed(2,3)}\def\sSEe{\rdEmbed(2,3)}%%ascii
\def\wNWe{\luEmbed(3,2)}\def\eNEe{\ruEmbed(3,2)}%%ascii
\def\wSWe{\ldEmbed(3,2)}\def\eSEe{\rdEmbed(3,2)}%%ascii
\def\NNWe{\luEmbed(2,4)}\def\NNEe{\ruEmbed(2,4)}%%ascii
\def\SSWe{\ldEmbed(2,4)}\def\SSEe{\rdEmbed(2,4)}%%ascii
\def\WNWe{\luEmbed(4,2)}\def\ENEe{\ruEmbed(4,2)}%%ascii
\def\WSWe{\ldEmbed(4,2)}\def\ESEe{\rdEmbed(4,2)}%%ascii
\def\NNNWe{\luEmbed(2,6)}\def\NNNEe{\ruEmbed(2,6)}%%ascii
\def\SSSWe{\ldEmbed(2,6)}\def\SSSEe{\rdEmbed(2,6)}%%ascii
\def\WWNWe{\luEmbed(6,2)}\def\EENEe{\ruEmbed(6,2)}%%ascii
\def\WWSWe{\ldEmbed(6,2)}\def\EESEe{\rdEmbed(6,2)}%%ascii

\let\NWo\luOnto\let\NEo\ruOnto\let\SWo\ldOnto\let\SEo\rdOnto\def\nNWo{\luOnto
(2,3)}\def\nNEo{\ruOnto(2,3)}%%ascii
\def\sSWo{\ldOnto(2,3)}\def\sSEo{\rdOnto(2,3)}%%ascii
\def\wNWo{\luOnto(3,2)}\def\eNEo{\ruOnto(3,2)}%%ascii
\def\wSWo{\ldOnto(3,2)}\def\eSEo{\rdOnto(3,2)}%%ascii
\def\NNWo{\luOnto(2,4)}\def\NNEo{\ruOnto(2,4)}%%ascii
\def\SSWo{\ldOnto(2,4)}\def\SSEo{\rdOnto(2,4)}%%ascii
\def\WNWo{\luOnto(4,2)}\def\ENEo{\ruOnto(4,2)}%%ascii
\def\WSWo{\ldOnto(4,2)}\def\ESEo{\rdOnto(4,2)}%%ascii
\def\NNNWo{\luOnto(2,6)}\def\NNNEo{\ruOnto(2,6)}%%ascii
\def\SSSWo{\ldOnto(2,6)}\def\SSSEo{\rdOnto(2,6)}%%ascii
\def\WWNWo{\luOnto(6,2)}\def\EENEo{\ruOnto(6,2)}%%ascii
\def\WWSWo{\ldOnto(6,2)}\def\EESEo{\rdOnto(6,2)}%%ascii

\let\NWod\luDotsonto\let\NEod\ruDotsonto\let\SWod\ldDotsonto\let\SEod
\rdDotsonto\def\nNWod{\luDotsonto(2,3)}\def\nNEod{\ruDotsonto(2,3)}%%ascii
\def\sSWod{\ldDotsonto(2,3)}\def\sSEod{\rdDotsonto(2,3)}%%ascii
\def\wNWod{\luDotsonto(3,2)}\def\eNEod{\ruDotsonto(3,2)}%%ascii
\def\wSWod{\ldDotsonto(3,2)}\def\eSEod{\rdDotsonto(3,2)}%%ascii
\def\NNWod{\luDotsonto(2,4)}\def\NNEod{\ruDotsonto(2,4)}%%ascii
\def\SSWod{\ldDotsonto(2,4)}\def\SSEod{\rdDotsonto(2,4)}%%ascii
\def\WNWod{\luDotsonto(4,2)}\def\ENEod{\ruDotsonto(4,2)}%%ascii
\def\WSWod{\ldDotsonto(4,2)}\def\ESEod{\rdDotsonto(4,2)}%%ascii
\def\NNNWod{\luDotsonto(2,6)}\def\NNNEod{\ruDotsonto(2,6)}%%ascii
\def\SSSWod{\ldDotsonto(2,6)}\def\SSSEod{\rdDotsonto(2,6)}%%ascii
\def\WWNWod{\luDotsonto(6,2)}\def\EENEod{\ruDotsonto(6,2)}%%ascii
\def\WWSWod{\ldDotsonto(6,2)}\def\EESEod{\rdDotsonto(6,2)}%%ascii

%%======================================================================%
%%                                                                      %
%%      (23) MISCELLANEOUS                                              %
%%                                                                      %
%%======================================================================%

\def\labelstyle{%%
\ifincommdiag%%
\textstyle%%
\else%%
\scriptstyle%%
\fi}%%
\let\objectstyle\displaystyle

\newdiagramgrid{pentagon}{0.618034,0.618034,1,1,1,1,0.618034,0.618034}{1.%
17557,1.17557,1.902113,1.902113}

\newdiagramgrid{perspective}{0.75,0.75,1.1,1.1,0.9,0.9,0.95,0.95,0.75,0.75}{0%
.75,0.75,1.1,1.1,0.9,0.9}

\diagramstyle[%%ascii open square bracket
dpi=300,%%              office laserwriters are usually 300 dots per inch
vmiddle,nobalance,%%    vertical and horizontal positioning
loose,%%                allow rows and columns to stretch
thin,%%                 line10 arrows; default rule thickness (TeXbook p447)
pilespacing=10pt,%
%%     parallel vertical separation (horizontals: half this)
shortfall=4pt,%%        distance between arrowheads and their targets
%% The following are defaulted on entry to the diagram itself.
%% l>=2em               minimum length of horizontal arrow shafts in text
%% l>=1em               ditto in diagrams
%% size=3em             cell size
%% heads=LaTeX          arrowheads
]%%ascii close square bracket

%% process options to LaTeX2e's \usepackage[options]{diagrams}
\ifx\ProcessOptions\undefined\else\CD@PK\ProcessOptions\relax\CD@FF\CD@e\fi
\fi

\cdrestoreat%% restore old category code for @ etc
%%============================== THE END ==============================

\dimen0 200pt \dimen1 210pt \dimen2 220pt \dimen3 230pt \dimen4 240pt \dimen5
250pt \dimen6 260pt \dimen7 270pt \dimen8 280pt \dimen9 290pt

%% This is the end of Paul Taylor's commutative diagrams package.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Chern.tex
Type: application/x-tex
Size: 145122 bytes
Desc: 
Url : http://tug.org/pipermail/texhax/attachments/20051027/b82110ff/Chern-0001.tex
From dromero at mat.uab.es  Fri Oct 28 18:43:08 2005
From: dromero at mat.uab.es (=?ISO-8859-1?Q?David_Romero_i_S=E0nchez?=)
Date: Fri Oct 28 20:45:29 2005
Subject: [texhax] need help
Message-ID: <4362551C.505@mat.uab.es>

Hello,
I'm a phd student and I'm writting a ''kind of work'' in Latex2e... but 
I've, at least, one serious problem:
The first problem is that I want an ambient like
.....
blablablablablablablablablablablablablablablablablablablablablablablablablablablabla
Example 1.2.1
        the text in the ambien example a little bit moved from the 
original margin.
And when I write, in file.tex,  \end{ex} the text outside example 
recovers the original margin
and
blablablablablablablablablablablablablablablablablablablablablablablablablablablabla
...

I've tried with minipage but if the text is long, and that is my case, 
what I get is a long list of bad boxes :(
Is there any, more or less trivial,  solution?
Thank you!
-- 
* Salut i Rep?blica! *

David Romero i S?nchez.
Departament de Matem?tiques, Edifici C.
Universitat Aut?noma de Barcelona.
08193 Cerdanyola del Vall?s.
Barcelona Tel (34) 93 581 3103
Catalunya Fax (34) 93 581 2790

Dynamical Systems Group's web page <http://www.gsd.uab.es/>
Private E-mail: dhenon@gmail.com

/ "No hi ha cam? per a la pau, la pau es el cam?." /
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://tug.org/pipermail/texhax/attachments/20051028/ed0c273e/attachment.htm
From martin at oneiros.de  Fri Oct 28 23:30:33 2005
From: martin at oneiros.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Sat Oct 29 01:02:16 2005
Subject: [texhax] nyj (New York Journal) macros
In-Reply-To: <20051028212516.GD28261@lucien.oneiros.kn-bremen.de>
References: <Pine.LNX.4.62.0510271239380.22332@fine312.math.Princeton.EDU>
	<20051028212516.GD28261@lucien.oneiros.kn-bremen.de>
Message-ID: <20051028213033.GE28261@lucien.oneiros.kn-bremen.de>

On 2005-10-28 23:25:16 +0200, Martin Schr?der wrote:
> On 2005-10-27 12:53:09 -0400, Gerree Pecht wrote:
> > Professor Pali of Princeton University submitted a paper to the
> > New York Journal which they are rejecting due to the fact that he
> > seems not to be using "their" macro package.  Unfortunately, he
> > typeset the paper BEFORE receiving their instructions/macros ...

Btw: diagrams.sty is non-free; please see section 16 of its
manual on its restrictions. I doubt that NYJ would accept its
use.

Best
    Martin
-- 
                    http://www.tm.oneiros.de

From martin at oneiros.de  Fri Oct 28 23:25:16 2005
From: martin at oneiros.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Sat Oct 29 01:02:17 2005
Subject: [texhax] nyj (New York Journal) macros
In-Reply-To: <Pine.LNX.4.62.0510271239380.22332@fine312.math.Princeton.EDU>
References: <Pine.LNX.4.62.0510271239380.22332@fine312.math.Princeton.EDU>
Message-ID: <20051028212516.GD28261@lucien.oneiros.kn-bremen.de>

On 2005-10-27 12:53:09 -0400, Gerree Pecht wrote:
> Professor Pali of Princeton University submitted a paper to the
> New York Journal which they are rejecting due to the fact that he
> seems not to be using "their" macro package.  Unfortunately, he
> typeset the paper BEFORE receiving their instructions/macros ...

And apparently before reading any instructions on LaTeX2e.  He
should read l2tabuen.

IMHO everybody who still uses \bf should be happy about every
journal even _considering_ his paper.

> destroy his input ... is there anyway we could "bundle" nyj's
> macro package on top of the package Prof. Pali's is using?

No. His paper needs substantial rewriting, e.g.
- removing explicit layout like \setlength{\textwidth}{460pt}
- removing all \defs
- converting it to LaTeX2e by e.g. converting \bf to \textbf
- removing all explicit newlines (\\)

Best
    Martin
-- 
                    http://www.tm.oneiros.de

From karl at freefriends.org  Sun Oct 30 01:15:37 2005
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct 30 01:15:45 2005
Subject: [texhax] nyj (New York Journal) macros
In-Reply-To: <20051028212516.GD28261@lucien.oneiros.kn-bremen.de>
Message-ID: <200510292315.j9TNFbu21052@f7.net>

    IMHO everybody who still uses \bf should be happy about every

This has nothing to do with the New York Journal, but there are times
when it's *useful* not to have font styles combine.  It came up for me
most recently in a description list, where the items were already bold,
the text was in typewriter, and bold tt is just too ugly and too bold.
So I just said \item[{\tt foo}] instead of \item[\texttt{foo}].  No muss
no fuss.

karl

From reinhard.kotucha at web.de  Sun Oct 30 01:25:22 2005
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun Oct 30 01:25:29 2005
Subject: [texhax] nyj (New York Journal) macros
In-Reply-To: <20051028212516.GD28261@lucien.oneiros.kn-bremen.de>
References: <Pine.LNX.4.62.0510271239380.22332@fine312.math.Princeton.EDU>
	<20051028212516.GD28261@lucien.oneiros.kn-bremen.de>
Message-ID: <17252.1250.395040.292929@zarniwoop.ms25.local>

>>>>> "Martin" == Martin Schr?der <martin@oneiros.de> writes:

  > IMHO everybody who still uses \bf should be happy about every
  > journal even _considering_ his paper.

If you think that \bf is deprecated than please submit a bug report to
the LaTeX bug database.  If it is deprecated to use \bf, then it
should be undefined (or be part of the LaTeX2.09 compatibility mode).

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-4592165
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha@web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------


From Robin.Fairbairns at cl.cam.ac.uk  Sun Oct 30 01:39:17 2005
From: Robin.Fairbairns at cl.cam.ac.uk (Robin Fairbairns)
Date: Sun Oct 30 01:39:20 2005
Subject: [texhax] nyj (New York Journal) macros 
In-Reply-To: Your message of Sun, 30 Oct 2005 01:25:22 +0200.
	<17252.1250.395040.292929@zarniwoop.ms25.local> 
Message-ID: <E1EW0I9-0000UR-00@mta1.cl.cam.ac.uk>

> >>>>> "Martin" =3D=3D Martin Schr=F6der <martin@oneiros.de> writes:
> 
>   > IMHO everybody who still uses \bf should be happy about every
>   > journal even _considering_ his paper.
> 
> If you think that \bf is deprecated than please submit a bug report to
> the LaTeX bug database.  If it is deprecated to use \bf, then it
> should be undefined (or be part of the LaTeX2.09 compatibility mode).

surely you know very well that it's deprecated?

and why's it not relegated to 2.09? -- precisely because it's
impossible to get rid of.  that it continues to provide us with
streams of questions about how to do bold italic, and the like, is
neither here nor there...

and besides, these old font commands (as they're declared in latex
sources) have their [real] uses, for people who understand what's
going on.  for example, there's karl's method of avoiding warnings by
using \tt in a description list environment.

r

From Kurt.Schneider at uni-duesseldorf.de  Sat Oct 29 11:03:23 2005
From: Kurt.Schneider at uni-duesseldorf.de (Kurt Schneider)
Date: Sun Oct 30 17:18:23 2005
Subject: [texhax] BiBTeX Support?
Message-ID: <1645429267@web.de>



-- 
To:       support@tug.org
From:      Kurt.Schneider@uni-duesseldorf.de
Date:     10/29/2005
Subject:  BiBTeX Support?


Dear TeX fellows,

I've got a problem that has surely an available
solution, albeit I'm unable to find it.

I need a bst file for BibTeXing that conforms
to Nature's rules, that is, citing by superscript
instead of [1], [2], no title in the bibliography,
all authors, except if there are more than 5,
etc. etc. The guidelines are as follows
(extracted from http://www.nature.com/nature/authors/gta/index.html):


5.4 References

In preparing reference lists, please ensure that:
Authors are listed surname first, followed by a
comma and initials of given names.  All authors
are included in reference lists unless there are
more than five, in which case only the first author
should be given, followed by 'et al.'.

Titles of all cited articles are given in upright,
not italic text. The first word of the title is capitalized,
the title written exactly as it appears in the work cited,
ending with a full stop. Book titles are italic with all
main words capitalized. Journal titles are italic and
abbreviated according to common usage (see
published issues of Nature).

Volume numbers are bold. The publisher and city of
publication are required for books cited.

References to online-only journals are in the style:
authors, article title and journal name as above,
followed by url in full - or doi if known - and the year
of publication in parentheses.

References to websites are in the style: authors (if
known), title of cited page, url in full, and year of
posting in parentheses.


Do you know if there is any bst file around that
conforms to these rules?

Many thanks for your assistance!

Best regards

Kurt Schneider

______________________________________________________________
Verschicken Sie romantische, coole und witzige Bilder per SMS!
Jetzt bei WEB.DE FreeMail: http://f.web.de/?mc=021193

From toms at ncifcrf.gov  Sun Oct 30 17:47:46 2005
From: toms at ncifcrf.gov (Tom Schneider)
Date: Sun Oct 30 17:47:59 2005
Subject: [texhax] BiBTeX Support?
In-Reply-To: <1645429267@web.de> from Kurt Schneider at "Oct 29,
	2005 11:03:23 am"
Message-ID: <200510301647.j9UGllJa009535@strawberry.ncifcrf.gov>

Kurt:

> I need a bst file for BibTeXing that conforms to Nature's rules,

I maintain one at

http://www.ccrnp.ncifcrf.gov/~toms/latex.html

but see the note there about an updated version at CTAN:

http://www.ctan.org/tex-archive/macros/latex/contrib/nature/

I don't know if these match their current requirements.

If you get a good modern version, please tell me and I'll archive it.

Tom

  Dr. Thomas D. Schneider
  National Institutes of Health
  National Cancer Institute
  Center for Cancer Research Nanobiology Program
  Molecular Information Theory Group
  Frederick, Maryland  21702-1201
  toms@ncifcrf.gov
  permanent email: toms@alum.mit.edu (use only if first address fails)
  http://www.ccrnp.ncifcrf.gov/~toms/

From s.schwartz at imperial.ac.uk  Sun Oct 30 18:06:15 2005
From: s.schwartz at imperial.ac.uk (Steve Schwartz)
Date: Sun Oct 30 18:24:33 2005
Subject: [texhax] BiBTeX Support?
In-Reply-To: <1645429267@web.de>
References: <1645429267@web.de>
Message-ID: <1130691976.8081.16.camel@fred>

Kurt

You can find a set of class and bst files in the CTAN contrib archives
that do the job:

http://www.ctan.org/tex-archive/macros/latex/contrib/nature/

I used them not too long ago. But it doesn't guarantee Nature will
publish your paper!

Cheers,
Steve

On Sat, 2005-10-29 at 11:03 +0200, Kurt Schneider wrote:
> I need a bst file for BibTeXing that conforms
> to Nature's rules, that is, citing by superscript
> instead of [1], [2], no title in the bibliography,
> all authors, except if there are more than 5,
> etc. etc.
-- 
+-------------------------------------------------------------------+
Professor Steven J Schwartz      Phone: +44-(0)20-7594-7660
Space and Atmospheric Physics    Fax:   +44-(0)20-7594-7772
The Blackett Laboratory          E-mail: s.schwartz@imperial.ac.uk
Imperial College London          Office: Huxley 6M70 
London SW7 2BW, U.K.             Web: http://www.sp.ph.ic.ac.uk/~sjs
+-------------------------------------------------------------------+


From mbarr at math.mcgill.ca  Sun Oct 30 19:01:28 2005
From: mbarr at math.mcgill.ca (Michael Barr)
Date: Sun Oct 30 19:01:57 2005
Subject: [texhax] No \ss in fraktur
Message-ID: <Pine.LNX.4.44.0510301254220.2204-100000@triples.math.mcgill.ca>

I wanted to put a caption in fraktur.
Following the instructions in The LaTeX Companion, I loaded the package 
oldgerm and then used \textfrak{Gau\ss ian primes}.  I got the following 
warning:
 (C:\miktex\texmf\tex\latex\mfnfss\uyfrak.fd
File: Uyfrak.fd 1998/06/07 v2.1j YH Fraktur definitions
)
LaTeX Font Info:    Try loading font information for OT1+yfrak on input 
line 80
0.
LaTeX Font Info:    No file OT1yfrak.fd. on input line 800.

LaTeX Font Warning: Font shape `OT1/yfrak/m/n' undefined
(Font)              using `OT1/cmr/m/n' instead
(Font)              for symbol `ss' on input line 800.
Sure enough, it was all in fraktur save the \ss, which was in cmr.  Is it 
possible that the fraktur fonts don't include the \ss?  I got similar 
results with \textgoth and \textschwab.  

I am using a full TeXLive installation on Win XP.

Michael Barr



From mbarr at math.mcgill.ca  Sun Oct 30 19:13:53 2005
From: mbarr at math.mcgill.ca (Michael Barr)
Date: Sun Oct 30 19:14:28 2005
Subject: [texhax] Problem with mktexlsr
Message-ID: <Pine.LNX.4.44.0510301301290.2204-100000@triples.math.mcgill.ca>

I am using the Zapf Chancery fonts, but I find them too small.  Following
a suggestion of someone on this service, I use the following file, which I
call pzcbig.fd that adds s*[1.2] into the DeclareFontShape macro.  I put
pzcbig.fd into the same directory as pzc.fd and ran mktexlsr.  Even so,
TeX apparently cannot find it.  Is there a parameter I should be adding to 
mktexlsr?

Michael Barr

From karl at freefriends.org  Sun Oct 30 22:58:47 2005
From: karl at freefriends.org (Karl Berry)
Date: Sun Oct 30 22:58:53 2005
Subject: [texhax] Problem with mktexlsr
In-Reply-To: <Pine.LNX.4.44.0510301301290.2204-100000@triples.math.mcgill.ca>
Message-ID: <200510302158.j9ULwlR05694@f7.net>

    pzcbig.fd into the same directory as pzc.fd and ran mktexlsr.

That seems like it should do it.  You might try putting it in the
current directory with the document, just to see if it finds it there.

    Even so, TeX apparently cannot find it.  

What's the error message, just "can't find pzcbig.fd"?

    Is there a parameter I should be adding to mktexlsr?

Possibly.  Which platform is this?  On Unix, just "mktexlsr" should
rebuild all the ls-R's.  You might just take a look at the actual ls-R
file in the hierarchy (texmf-dist I suppose) and see if pzcbig.fd is
there.  That would determine whether it's a mktexlsr problem or a search
path problem.

Another thing to do is run
env KPATHSEA_DEBUG=-1 latex yourfile.tex
which will spew voluminous output, in which you can look for pzcbig and
see what it says.

HTH,
k

From mailing_list at arcor.de  Mon Oct 31 00:08:44 2005
From: mailing_list at arcor.de (Stephan Hennig)
Date: Mon Oct 31 00:20:47 2005
Subject: [texhax] Re: No \ss in fraktur
In-Reply-To: <Pine.LNX.4.44.0510301254220.2204-100000@triples.math.mcgill.ca>
References: <Pine.LNX.4.44.0510301254220.2204-100000@triples.math.mcgill.ca>
Message-ID: <dk3jrs$91f$1@sea.gmane.org>

Michael Barr schrieb:

> I wanted to put a caption in fraktur. Following the instructions in
> The LaTeX Companion, I loaded the package oldgerm and then used
> \textfrak{Gau\ss ian primes}.
> [...]
> Is it possible that the fraktur fonts don't include the \ss?  I got
> similar results with \textgoth and \textschwab.

Well, page 1 of the oldgerm manual says:

"... special characters like \ss or accents like \" will not really work
directly when used with these fonts."

I think it also provides some solution to the problem.

However, let me point you to the blacklettert1 package by Torsten
Bronger, which uses the same Fraktur, Schwabacher and Gothic fonts
designed by Haralambous. Blacklettert1 does not provide a style file,
but is a set of virtual fonts, IIRC. The main advantages of the package are:

(i) It provides (nearly) T1 encoded black letter fonts as opposed to
oldgerm, which uses U encoding. There is no more problem accessing
accented characters or \ss.

(ii) There are two different lower-case letters s in black letter fonts,
the long s and the final or round s. I don't know if the distinction
between both letters applies to english language, too, but I would be
surprised if not. While with the oldgerm package you have to mark every
round s letter as s:, that is, an s followed by a colon, blacklettert1
recognizes letters s at word endings automatically and puts a round s
there. For your example this means while you need to write "primes:"
with the oldgerm package you can simply write "primes" using
blacklettert1. (The oldgerm and blacklettert1 manuals cover some rules
when to use long and round s in german language. Unfortunately, none of
them provides a complete discussion.)

(iii) Since there is no bold Fraktur font emphasizing words written in
Fraktur is often done using letter spacing. While you have to do that
manually with the oldgerm package, using blacklettert1 this is done
issuing a simple \emph command. This takes ligatures into account (there
are some, that are never ever letter spaced, e.g., "ch" or "ck").

Since there is no blacklettert1 style file you might want to define
short cuts for Fraktur, Schwabacher and Gothic fonts as follows:

\newcommand{\textfrak}[1]{{\usefont{T1}{yfrak}{m}{n}#1}}
\newcommand{\textswab}[1]{{\usefont{T1}{yfrak}{m}{sl}#1}}
\newcommand{\textgoth}[1]{{\usefont{T1}{yfrak}{b}{n}#1}}

HTH,
Stephan Hennig

From akapune at kapune.org  Sun Oct 30 23:19:57 2005
From: akapune at kapune.org (Albert Kapune)
Date: Mon Oct 31 17:46:21 2005
Subject: [texhax] No \ss in fraktur
In-Reply-To: <Pine.LNX.4.44.0510301254220.2204-100000@triples.math.mcgill.ca>
References: <Pine.LNX.4.44.0510301254220.2204-100000@triples.math.mcgill.ca>
Message-ID: <4365470D.3040701@kapune.org>

Michael Barr schrieb am 30.10.2005 19:01 folgendes:

> I wanted to put a caption in fraktur.
> Following the instructions in The LaTeX Companion, I loaded the package 
> oldgerm and then used \textfrak{Gau\ss ian primes}.  I got the following 
> warning:
[?]

Hello Michael,

I am writing fraktur using the yfonts package. It generates the ??? via
{\ss} without problems.

Kind regards
Albert

-- 
Dr. Albert Kapune
Brunnenstrasse 1
D-59514 Welver-Nateln
TELEFON: (02384) 911012
TELEFAX: (02384) 911011

