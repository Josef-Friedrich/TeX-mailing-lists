From daleif at math.au.dk  Tue Dec  1 10:01:58 2015
From: daleif at math.au.dk (Lars Madsen)
Date: Tue, 1 Dec 2015 09:01:58 +0000
Subject: [texhax] Theorem with footnote in the header
In-Reply-To: <CADP=ZZrsYpSETUj-8xg3oedO89qMgdPxJQfpKRe2HQBqoV2-6w@mail.gmail.com>
References: <CADP=ZZrsYpSETUj-8xg3oedO89qMgdPxJQfpKRe2HQBqoV2-6w@mail.gmail.com>
Message-ID: <1448960524711.74179@math.au.dk>

This MWE might do the trick, the problem is of course that normal \footnote cannot escape \item[...] thus we need to use \footnotemark and \footnotetext



\documentclass[a4paper]{article}
\usepackage{ntheorem}
\makeatletter
\newtheoremstyle{plainfoot}%
  {\item[\hskip\labelsep \theorem at headerfont ##1\ ##2\theorem at separator\footnotemark]}%
  {\item[\hskip\labelsep \theorem at headerfont ##1\ ##2\ (##3)\theorem at separator\footnotemark]}

\makeatother

\theoremstyle{plainfoot}
\theoremseparator{.}
\newtheorem{theorem-foot}{Theorem}

\begin{document}

\begin{theorem-foot}
  \footnotetext{Test}
  sadf
\end{theorem-foot}


\end{document}






/Lars Madsen
Institut for Matematik / Department of Mathematics
Aarhus Universitet / Aarhus University
Mere info: http://au.dk/daleif at math<http://au.dk/daleif at imf> / More information: http://au.dk/en/daleif at math<http://au.dk/en/daleif at imf>

________________________________
From: texhax <texhax-bounces at tug.org> on behalf of Victor Ivrii <vivrii at gmail.com>
Sent: 30 November 2015 17:55
To: texhax at tug.org
Subject: [texhax] Theorem with footnote in the header

I am using ntheorem and I would like to have a special kind of theorem (say theorem-foot} to have an output like this where ^ means raised box



Theorem 2.1 ^5.
Blah-blah




_____
^5 Cf. Theorem 1.3.


Also, if Blah-blah is

\begin{enumerate}
\item foo
\item bar
\end{enumerate}

I want "foo" start at the same line as Theorem.

--
Unfortunately my experiments with ntheorem did not produce what I wanted.

Thank you in advance
Victor Ivrii
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20151201/609a5471/attachment.html>

From vivrii at gmail.com  Tue Dec  1 11:27:04 2015
From: vivrii at gmail.com (Victor Ivrii)
Date: Tue, 1 Dec 2015 05:27:04 -0500
Subject: [texhax] Theorem with footnote in the header
In-Reply-To: <1448960524711.74179@math.au.dk>
References: <CADP=ZZrsYpSETUj-8xg3oedO89qMgdPxJQfpKRe2HQBqoV2-6w@mail.gmail.com>
 <1448960524711.74179@math.au.dk>
Message-ID: <CADP=ZZo8111hTQ8ZWDUutvCp330NZ96cKyzE=vDo=NcknqcuKQ@mail.gmail.com>

On Tue, Dec 1, 2015 at 4:01 AM, Lars Madsen <daleif at math.au.dk> wrote:

> This MWE might do the trick, the problem is of course that normal
> \footnote cannot escape \item[...] thus we need to use \footnotemark and
> \footnotetext
>
>


Thanks! After introducing also definition-foot and remark-foot styles
everything works beautifully


-- 

Victor Ivrii
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20151201/755a8e7c/attachment-0001.html>

From jhefferon at smcvt.edu  Fri Dec 11 16:17:40 2015
From: jhefferon at smcvt.edu (Hefferon, James S.)
Date: Fri, 11 Dec 2015 15:17:40 +0000
Subject: [texhax] Interaction between \iffodd and wrapfig
Message-ID: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB6FAC6@SMCEXMBX03.mikenet.smcvt.edu>


Hello everyone, 

I am trying to put graphics in a document using wrapfig.  I want a graphic to be wrapped on one side of the page on odd pages, and on the other side on even pages, so it would be on the outside in both cases.

To determine if the current page is odd I use the changepage package's \checkoddpage and \ifodd construct, as in the mwe below.

But the mwe document below does this: 

* if wrapfig is commented out then I get just what I expect, a bunch of K's followed by a bunch of O's at the start, where I invoked the macro \margingraphic. That is what I expect.

* if wrapfig is uncommented then the K's appear where I put them, but the O's now appear at the very end of the document, after \lipsum[8] (and on the left).  That is not what I expect.  (I certainly compiled twice.)

I am stumped.  I'd be most grateful for a push in the right direction.

Thanks,
Jim

\documentclass{article}
\usepackage{graphicx, caption}
\usepackage{changepage}
\usepackage{wrapfig}

\makeatletter
% Figures sticking into the margin.
% \margingraphic -- graphic that sticks out into margin
% #1 width of graphic (before it is shifted)
% #2 graphic filename
% #3 caption
\newcommand{\margingraphic}[3][0.2\textwidth]{%
  \mbox{\checkoddpage\ifoddpage% changepage docs recommend the \mbox{..}
    KKKKKK
      \begin{wrapfigure}{R}{0.3\textwidth}
        OOOOO
      \end{wrapfigure}
    \else%
      % \begin{wrapfigure}{L}{0.3\textwidth}
          EEEEEE
      % \end{wrapfigure}
    \fi}%
}
\makeatother

\usepackage{lipsum}
\begin{document}
\margingraphic{ctan_lion.png}{test caption}
\lipsum[1-5]

\lipsum[6-8]
\end{document}


From d.p.carlisle at gmail.com  Fri Dec 11 16:30:30 2015
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Fri, 11 Dec 2015 15:30:30 +0000
Subject: [texhax] Interaction between \iffodd and wrapfig
In-Reply-To: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB6FAC6@SMCEXMBX03.mikenet.smcvt.edu>
References: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB6FAC6@SMCEXMBX03.mikenet.smcvt.edu>
Message-ID: <CAEW6iOgBRYjxW+zFokjbiESEykSSaSSn2-0gQ8RuO-v1Vb+rYg@mail.gmail.com>

wrapfig can't possibly work if you put it in an \mbox, It can't work if you
put it in a _group_ never mind a box as it needs to set the paragraph shape
of the following paragraph.

The comments in the file say:


  - If you put a wrapfigure in a parbox or a minipage, or any other type
    of grouping, the text wrapping should end before the group does.


On 11 December 2015 at 15:17, Hefferon, James S. <jhefferon at smcvt.edu>
wrote:

>
> Hello everyone,
>
> I am trying to put graphics in a document using wrapfig.  I want a graphic
> to be wrapped on one side of the page on odd pages, and on the other side
> on even pages, so it would be on the outside in both cases.
>
> To determine if the current page is odd I use the changepage package's
> \checkoddpage and \ifodd construct, as in the mwe below.
>
> But the mwe document below does this:
>
> * if wrapfig is commented out then I get just what I expect, a bunch of
> K's followed by a bunch of O's at the start, where I invoked the macro
> \margingraphic. That is what I expect.
>
> * if wrapfig is uncommented then the K's appear where I put them, but the
> O's now appear at the very end of the document, after \lipsum[8] (and on
> the left).  That is not what I expect.  (I certainly compiled twice.)
>
> I am stumped.  I'd be most grateful for a push in the right direction.
>
> Thanks,
> Jim
>
> \documentclass{article}
> \usepackage{graphicx, caption}
> \usepackage{changepage}
> \usepackage{wrapfig}
>
> \makeatletter
> % Figures sticking into the margin.
> % \margingraphic -- graphic that sticks out into margin
> % #1 width of graphic (before it is shifted)
> % #2 graphic filename
> % #3 caption
> \newcommand{\margingraphic}[3][0.2\textwidth]{%
>   \mbox{\checkoddpage\ifoddpage% changepage docs recommend the \mbox{..}
>     KKKKKK
>       \begin{wrapfigure}{R}{0.3\textwidth}
>         OOOOO
>       \end{wrapfigure}
>     \else%
>       % \begin{wrapfigure}{L}{0.3\textwidth}
>           EEEEEE
>       % \end{wrapfigure}
>     \fi}%
> }
> \makeatother
>
> \usepackage{lipsum}
> \begin{document}
> \margingraphic{ctan_lion.png}{test caption}
> \lipsum[1-5]
>
> \lipsum[6-8]
> \end{document}
>
> _______________________________________________
> TeX FAQ: http://www.tex.ac.uk/faq
> Mailing list archives: http://tug.org/pipermail/texhax/
> More links: http://tug.org/begin.html
>
> Automated subscription management: http://tug.org/mailman/listinfo/texhax
> Human mailing list managers: postmaster at tug.org
>



-- 
http://dpcarlisle.blogspot.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20151211/536e9a67/attachment.html>

From jhefferon at smcvt.edu  Fri Dec 11 17:47:11 2015
From: jhefferon at smcvt.edu (Hefferon, James S.)
Date: Fri, 11 Dec 2015 16:47:11 +0000
Subject: [texhax] Interaction between \iffodd and wrapfig
In-Reply-To: <CAEW6iOgBRYjxW+zFokjbiESEykSSaSSn2-0gQ8RuO-v1Vb+rYg@mail.gmail.com>
References: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB6FAC6@SMCEXMBX03.mikenet.smcvt.edu>,
 <CAEW6iOgBRYjxW+zFokjbiESEykSSaSSn2-0gQ8RuO-v1Vb+rYg@mail.gmail.com>
Message-ID: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB6FAF2@SMCEXMBX03.mikenet.smcvt.edu>


> wrapfig can't possibly work if you put it in an \mbox, It can't work if you put it in a _group_ never mind a box as it needs to set the paragraph shape of the following paragraph.

Thank you, David.  I figured I was doing something dopey.

Jim

------------------------------------------
"Does not the Captain seek your advice, sir?"
"Not always," said Stephen.


From asnd at triumf.ca  Sat Dec 12 03:53:38 2015
From: asnd at triumf.ca (Donald Arseneau)
Date: Fri, 11 Dec 2015 18:53:38 -0800
Subject: [texhax] Interaction between \iffodd and wrapfig
In-Reply-To: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB6FAC6@SMCEXMBX03.mikenet.smcvt.e
 du>
References: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB6FAC6@SMCEXMBX03.mikenet.smcvt.edu>
Message-ID: <44239.142.90.112.22.1449888818.squirrel@trmail.triumf.ca>

On Fri, December 11, 2015 7:17 am, Hefferon, James S. wrote:

> I am trying to put graphics in a document using wrapfig.  I want a graphic
> to be wrapped on one side of the page on odd pages, and on the other side
> on even pages, so it would be on the outside in both cases.
> To determine if the current page is odd I use the changepage package's
> \checkoddpage and \ifodd construct, as in the mwe below.

Ouch! Wrapfig has "i"nside and "o"utside placement options.

> * if wrapfig is uncommented then the K's appear where I put them, but the
> O's now appear at the very end of the document, after \lipsum[8] (and on
> the left).  That is not what I expect.  (I certainly compiled twice.)

Check the log file for an error or warning message about
the float-to-end.

> % Figures sticking into the margin.
> % \margingraphic -- graphic that sticks out into margin
> % #1 width of graphic (before it is shifted)
> % #2 graphic filename
> % #3 caption
> \newcommand{\margingraphic}[3][0.2\textwidth]{%
>   \mbox{\checkoddpage\ifoddpage% changepage docs recommend the \mbox{..}
>     KKKKKK
>       \begin{wrapfigure}{R}{0.3\textwidth}
>         OOOOO
>       \end{wrapfigure}
>     \else%
>       % \begin{wrapfigure}{L}{0.3\textwidth}
>           EEEEEE
>       % \end{wrapfigure}
>     \fi}%
> }

As already answered, wrapfig needs to be in (or before) the paragraph,
not in \mbox.

You have capital placement, meaning floating, which will take it
to the next paragraph after KKKKK. Lowercase r/l/i/o would put it
right at the KKKKK, but you probably want to put wrapfig before the
KKKKKK.  Anyway, you should use O placement for right-on-odd-pages.

\newcommand{\margingraphic}[3][0.2\textwidth]{%
   \begin{wrapfigure}{O}{0.3\textwidth}
       OOOOO
   \end{wrapfigure}
   KKKKKK
}

But the comments indicate you want the figure (partly?) in the
margin, so specify an [overhang] argument as well.  I guess you
want 0.1\textwidth overhang.

Wrapfig takes 0pt as a width parameter to compute the width
from the graphic.  If your graphics are at natural size, then
just use that.  At least use 0pt as the default parameter.

\newcommand{\margingraphic}[3][0pt]{%
  % \par % maybe?
  \begin{wrapfigure}{O}[0.1\textwidth]{#3}
    \ifdim #3>0pt\relax
       \includegraphics[width=#3]{#1}
    \else
       \includegraphics{#1}
    \fi
    \caption{#2}
  \end{wrapfigure}
}



Donald Arseneau, TRIUMF CMMS, asnd at triumf.ca


From jhefferon at smcvt.edu  Sat Dec 12 11:40:04 2015
From: jhefferon at smcvt.edu (Hefferon, James S.)
Date: Sat, 12 Dec 2015 10:40:04 +0000
Subject: [texhax] Interaction between \iffodd and wrapfig
In-Reply-To: <44239.142.90.112.22.1449888818.squirrel@trmail.triumf.ca>
References: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB6FAC6@SMCEXMBX03.mikenet.smcvt.edu>,
 <44239.142.90.112.22.1449888818.squirrel@trmail.triumf.ca>
Message-ID: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB6FBD9@SMCEXMBX03.mikenet.smcvt.edu>

Thank you, Donald.  You answered my first LaTeX question, in perhaps 1994, and I find that I owe you again.

Jim


From alien at essex.ac.uk  Tue Dec 15 11:35:21 2015
From: alien at essex.ac.uk (Adrian F. Clark)
Date: Tue, 15 Dec 2015 10:35:21 +0000
Subject: [texhax] Trying to find if a listing is continued with listings
	package
Message-ID: <566FECE9.9010202@essex.ac.uk>

Hello,

I'm trying to do something literate with listings.sty.  I'm using 
\lstnewenvironment to define a new environment which receives a name as 
an argument, which is passed on via "\lstset{name=}".  I would like to 
do something slightly different in a continued listing of the name and 
the first time it appears.  I have tried things along the lines of

\expandafter
\ifx
   \csname \@lst @SaveFirstNumber\endcsname
   \undefined
   it's a new listing
\else
   it's a continued listing
\fi

but none of my attempts have worked.  Can anyone point me in the right 
direction?  I've attached a minimal example.

..Adrian
-- 
Dr Adrian F Clark, M0PDF      WEB: http://privatewww.essex.ac.uk/~alien/
EMAIL: alien/at/essex.ac.uk   TEL: +44 1206 872432  FAX: +44 1206 872900
PAPER: Comp Sci & Elec Eng, University of Essex, Colchester, CO4 3SQ, UK
"The great tragedy of science:  the slaying of a beautiful hypothesis by
  an ugly fact"  --  Huxley
-------------- next part --------------
A non-text attachment was scrubbed...
Name: listings-try.tex
Type: application/x-tex
Size: 818 bytes
Desc: not available
URL: <http://tug.org/pipermail/texhax/attachments/20151215/122779b3/attachment.tex>

From burkhard at cs.ucsd.edu  Wed Dec 16 05:51:52 2015
From: burkhard at cs.ucsd.edu (Walt Burkhard)
Date: Tue, 15 Dec 2015 20:51:52 -0800
Subject: [texhax] Latex question
Message-ID: <CAKfz9bCopGzmqdQoQPzd2J225s7A1p72X80gexS_hqGwzd+iuA@mail.gmail.com>

Hello all,

I am using latex and have a few instances of figures/tables slightly in the
incorrect position.    for instance, I am using a  table created in MetaPost
as follows --

\begin{table*}[t]

\centerline{\hbox{\epsfxsize6.1in\epsfbox{TableData.1}}}

\label{ttt}

\caption{Hashing: {\it g} passbits per bucket. Successful and unsuccessful
search lengths.}

\end{table*}


The caption is positioned correctly but the TableData.1 table is about 4
inches

above where it should be --- with most of the table positioned above the
page

and not visible.


Many of the other smaller figures, also MetaPost creations, are positioned
correctly with similar Latex instructions.


I will be pleased to provide more info as needed to help diagnose this
issue.


many thanks in advance,


Walt Burkhard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20151215/dabd32d7/attachment.html>

From jhefferon at smcvt.edu  Wed Dec 16 15:02:28 2015
From: jhefferon at smcvt.edu (Hefferon, James S.)
Date: Wed, 16 Dec 2015 14:02:28 +0000
Subject: [texhax] MathJax v3.0 plans
Message-ID: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB70479@SMCEXMBX03.mikenet.smcvt.edu>

Here is a link to the white paper *Towards MathJax v3.0*.  I believe that it is new (it has a modification date of earlier today) and thought it may be of interest to many members of this list.  

  http://mathjax.github.io/papers/towards-v3/towards-mathjax-v3.html

The Executive Summary contains these two core paragraphs:

Depending on whether or not we keep this original goal, we considered two directions to guide the redesign. If native browser support for MathML remains a core goal, we believe MathJax should focus on becoming a modern polyfill, i.e., enable MathJax to leverage partial MathML implementations in browsers and become as invisible as possible to developers. If browser support for MathML ceases to be a core goal, we believe MathJax should focus on perfecting its transformation of MathML into HTML/CSS (and into SVG), i.e., MathJax should focus on enabling a rendering that is fully equivalent to MathML and can be generated on both server and client.

After careful consideration and extensive feedback from the MathJax sponsors, the MathJax Steering Committee, as well as various experts in the field, the MathJax Consortium follows the recommendation of its development team to pursue the second direction as the guiding principle for the planned revision.

Jim

------------------------------------------
"Does not the Captain seek your advice, sir?"
"Not always," said Stephen.


From will.adams at frycomm.com  Thu Dec 17 21:05:37 2015
From: will.adams at frycomm.com (William Adams)
Date: Thu, 17 Dec 2015 15:05:37 -0500
Subject: [texhax] LaTeX package to simulate opening and writing to multiple
	files consecutively?
Message-ID: <CAENrYJBKiLzDjL2g0gMnQix1PgjPrjGu096WWYKz5aPWNACR3w@mail.gmail.com>

I could've sworn that I saw a LaTeX package which simulated having multiple
files open and writing out to them on an as needed basis --- can anyone
help me out w/ remembering if it exists and what it's called if it does?

If not, suggestions on how to handle this?

I need to write out to multiple files while stepping through a database so
as to avoid the need of processing the input multiple times.

William
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20151217/e7ee01a1/attachment.html>

From d.p.carlisle at gmail.com  Thu Dec 17 21:17:00 2015
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Thu, 17 Dec 2015 20:17:00 +0000
Subject: [texhax] LaTeX package to simulate opening and writing to
 multiple files consecutively?
In-Reply-To: <CAENrYJBKiLzDjL2g0gMnQix1PgjPrjGu096WWYKz5aPWNACR3w@mail.gmail.com>
References: <CAENrYJBKiLzDjL2g0gMnQix1PgjPrjGu096WWYKz5aPWNACR3w@mail.gmail.com>
Message-ID: <CAEW6iOjx0ceSD2djCVYC+JG++iorZ=TaADU32E7RCvtEa1QdmQ@mail.gmail.com>

you can write up to 16 streams at the same time. the morewrites
package fakes writing more if you need it. or the latest luatex allows
256 write streams.

David


On 17 December 2015 at 20:05, William Adams <will.adams at frycomm.com> wrote:
> I could've sworn that I saw a LaTeX package which simulated having multiple
> files open and writing out to them on an as needed basis --- can anyone help
> me out w/ remembering if it exists and what it's called if it does?
>
> If not, suggestions on how to handle this?
>
> I need to write out to multiple files while stepping through a database so
> as to avoid the need of processing the input multiple times.
>
> William
>
>
> _______________________________________________
> TeX FAQ: http://www.tex.ac.uk/faq
> Mailing list archives: http://tug.org/pipermail/texhax/
> More links: http://tug.org/begin.html
>
> Automated subscription management: http://tug.org/mailman/listinfo/texhax
> Human mailing list managers: postmaster at tug.org



-- 
http://dpcarlisle.blogspot.com/

From will.adams at frycomm.com  Thu Dec 17 21:53:22 2015
From: will.adams at frycomm.com (William Adams)
Date: Thu, 17 Dec 2015 15:53:22 -0500
Subject: [texhax] LaTeX package to simulate opening and writing to
 multiple files consecutively?
In-Reply-To: <CAEW6iOjx0ceSD2djCVYC+JG++iorZ=TaADU32E7RCvtEa1QdmQ@mail.gmail.com>
References: <CAENrYJBKiLzDjL2g0gMnQix1PgjPrjGu096WWYKz5aPWNACR3w@mail.gmail.com>
 <CAEW6iOjx0ceSD2djCVYC+JG++iorZ=TaADU32E7RCvtEa1QdmQ@mail.gmail.com>
Message-ID: <CAENrYJBN09TMbT6ssfibbQ=RMpKkvUhnhTye8j_5MO0AMB-NbQ@mail.gmail.com>

Thanks! Misremembering on my part then.

Not surprised.

William


On Thu, Dec 17, 2015 at 3:17 PM, David Carlisle <d.p.carlisle at gmail.com>
wrote:

> you can write up to 16 streams at the same time. the morewrites
> package fakes writing more if you need it. or the latest luatex allows
> 256 write streams.
>
> David
>
>
> On 17 December 2015 at 20:05, William Adams <will.adams at frycomm.com>
> wrote:
> > I could've sworn that I saw a LaTeX package which simulated having
> multiple
> > files open and writing out to them on an as needed basis --- can anyone
> help
> > me out w/ remembering if it exists and what it's called if it does?
> >
> > If not, suggestions on how to handle this?
> >
> > I need to write out to multiple files while stepping through a database
> so
> > as to avoid the need of processing the input multiple times.
> >
> > William
> >
> >
> > _______________________________________________
> > TeX FAQ: http://www.tex.ac.uk/faq
> > Mailing list archives: http://tug.org/pipermail/texhax/
> > More links: http://tug.org/begin.html
> >
> > Automated subscription management:
> http://tug.org/mailman/listinfo/texhax
> > Human mailing list managers: postmaster at tug.org
>
>
>
> --
> http://dpcarlisle.blogspot.com/
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20151217/ecc34087/attachment-0001.html>

From P.Taylor at Rhul.Ac.Uk  Sat Dec 19 12:27:05 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 19 Dec 2015 11:27:05 +0000
Subject: [texhax] Trying to find if a listing is continued with listings
 package
In-Reply-To: <566FECE9.9010202@essex.ac.uk>
References: <566FECE9.9010202@essex.ac.uk>
Message-ID: <56753F09.40605@Rhul.Ac.Uk>

Shouldn't \undefined be \relax, Adrian ?  \csname ...\endcsname sets its
expansion to \relax if the resulting csname was previously undefined.

** Phil.
--------
Adrian F. Clark wrote:
> Hello,
> 
> I'm trying to do something literate with listings.sty.  I'm using
> \lstnewenvironment to define a new environment which receives a name as
> an argument, which is passed on via "\lstset{name=}".  I would like to
> do something slightly different in a continued listing of the name and
> the first time it appears.  I have tried things along the lines of
> 
> \expandafter
> \ifx
>   \csname \@lst @SaveFirstNumber\endcsname
>   \undefined
>   it's a new listing
> \else
>   it's a continued listing
> \fi
> 
> but none of my attempts have worked.  Can anyone point me in the right
> direction?  I've attached a minimal example.
> 
> ..Adrian

From reinhard.kotucha at web.de  Sun Dec 20 09:19:30 2015
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 20 Dec 2015 09:19:30 +0100
Subject: [texhax] Trying to find if a listing is continued with listings
 package
In-Reply-To: <56753F09.40605@Rhul.Ac.Uk>
References: <566FECE9.9010202@essex.ac.uk>	<56753F09.40605@Rhul.Ac.Uk>
Message-ID: <22134.25746.486852.283134@zaphod.ms25.net>

On 2015-12-19 at 11:27:05 +0000, Philip Taylor wrote:

 > Shouldn't \undefined be \relax, Adrian ?  \csname ...\endcsname
 > sets its expansion to \relax if the resulting csname was previously
 > undefined.

Adrian is using listings.sty, hence I assume that he's using LaTeX.
LaTeX users should better use \@ifundefined instead of TeX primitives
or plain TeX macros.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From P.Taylor at Rhul.Ac.Uk  Sun Dec 20 10:50:10 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 20 Dec 2015 09:50:10 +0000
Subject: [texhax] Trying to find if a listing is continued with listings
 package
In-Reply-To: <22134.25746.486852.283134@zaphod.ms25.net>
References: <566FECE9.9010202@essex.ac.uk> <56753F09.40605@Rhul.Ac.Uk>
 <22134.25746.486852.283134@zaphod.ms25.net>
Message-ID: <567679D2.2030301@Rhul.Ac.Uk>



Reinhard Kotucha wrote:

> Adrian is using listings.sty, hence I assume that he's using LaTeX.
> LaTeX users should better use \@ifundefined instead of TeX primitives
> or plain TeX macros.

Adrian may well be using "listings.sty", but there is very little
LaTeX-ish about his code :

> \expandafter
> \ifx
>   \csname \@lst @SaveFirstNumber\endcsname
>   \undefined
>   it's a new listing
> \else
>   it's a continued listing
> \fi 

so suggesting the use of \relax in this context would seem quite
reasonable to me ...  And does \@undefined map to \relax in such a
context, as it would need to if his test were to perform as intended ?

** Phil.

From reinhard.kotucha at web.de  Tue Dec 22 01:34:16 2015
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 22 Dec 2015 01:34:16 +0100
Subject: [texhax] Trying to find if a listing is continued with listings
 package
In-Reply-To: <567679D2.2030301@Rhul.Ac.Uk>
References: <566FECE9.9010202@essex.ac.uk>	<56753F09.40605@Rhul.Ac.Uk>
 <22134.25746.486852.283134@zaphod.ms25.net>	<567679D2.2030301@Rhul.Ac.Uk>
Message-ID: <22136.39560.839682.702809@zaphod.ms25.net>

On 2015-12-20 at 09:50:10 +0000, Philip Taylor wrote:

 > Reinhard Kotucha wrote:
 > 
 > > Adrian is using listings.sty, hence I assume that he's using LaTeX.
 > > LaTeX users should better use \@ifundefined instead of TeX primitives
 > > or plain TeX macros.
 > 
 > Adrian may well be using "listings.sty", but there is very little
 > LaTeX-ish about his code :
 > 
 > > \expandafter
 > > \ifx
 > >   \csname \@lst @SaveFirstNumber\endcsname
 > >   \undefined
 > >   it's a new listing
 > > \else
 > >   it's a continued listing
 > > \fi 
 > 
 > so suggesting the use of \relax in this context would seem quite
 > reasonable to me ...  And does \@undefined map to \relax in such a
 > context, as it would need to if his test were to perform as intended ?

Hello Phil,
here is the definition (see texmf-dist/source/latex/ltdefns.ltx):

 % \begin{macro}{\@ifundefined}
 % \changes{LaTeX2e}{1993/11/23}{Redefined to remove a trailing \cs{fi}}
 %    Check if first arg is undefined or \cs{relax} and execute second or
 %    third arg depending,
 %    \begin{macrocode}
 \def\@ifundefined#1{%
   \expandafter\ifx\csname#1\endcsname\relax
     \expandafter\@firstoftwo
   \else
     \expandafter\@secondoftwo
   \fi}
 %    \end{macrocode}
 % \end{macro}

So if you're using \@ifundefined exclusively you'll never run into the
\relax vs. \undefined problem.  If you don't need \csname \endcsname
in order to construct a control sequence name, you might think that
you can write

  \ifx\csname\undefined

but the result is unpredictable.  Maybe a package you loaded before
did the same test with \@ifundefined and \csname is now mapped to
\relax.  It's much safer if LaTeX users use LaTeX code exclusively.

BTW, the fact that \csname \endcsname always sets the control sequence
to \relax, even if you are just teststing whether it exists at all, is
quite unfortunate.  It adds something to the hash table which can
never be removed and thus stays there forever.  This slows down table
lookups and blows up the string pool.  When I created huge files with
pgfplots I already had to increase the string pool.  In this case
however, I believe that there is a bug in one of related the packages.

Phil, we discussed this issue a few years ago and you forwarded a mail
from someone who explained *why* TeX cannot remove unused csnames from
the hash table.  Unfortunately I can't find this mail anymore.  Do you
remember it and can you forward it to me again?

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From P.Taylor at Rhul.Ac.Uk  Tue Dec 22 08:33:50 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Tue, 22 Dec 2015 07:33:50 +0000
Subject: [texhax] Trying to find if a listing is continued with listings
 package
In-Reply-To: <22136.39560.839682.702809@zaphod.ms25.net>
References: <566FECE9.9010202@essex.ac.uk> <56753F09.40605@Rhul.Ac.Uk>
 <22134.25746.486852.283134@zaphod.ms25.net> <567679D2.2030301@Rhul.Ac.Uk>
 <22136.39560.839682.702809@zaphod.ms25.net>
Message-ID: <5678FCDE.6050904@Rhul.Ac.Uk>



Reinhard Kotucha wrote:

> Hello Phil,

> here is the definition (see texmf-dist/source/latex/ltdefns.ltx):

So sorry, I thought you proposed \@undefined, not \@ifundefined; mea culpa.

> It's much safer if LaTeX users use LaTeX code exclusively.

Yes, I agree. In fact, I often think life would be a /very/ great deal
simpler if the TeX/LaTeX confusion that currently exists could be done
away with completely -- it does not help that lists such as TeXhax,
Usenet newsgroups such as Comp.Text.TeX and fora such as
TeX.Stackexchange allow (nay, positively encourage) discussions
concerning LaTeX.  Separate lists/newsgroups/fora (LaTeXhax,
Comp.Text.LaTeX, LaTeX.Stackexchange, etc) need to created to host such
discussions, allowing those of us who want to ask questions about TeX to
get TeX-related answers and not (as is only too often the case)
LaTeX-related answers from those who do not understand the difference.
The situation is analogous to that of the JavaScript world, where one
asks a question about JavaScript but 90% of the answers assume that
JQuery is really the Universe of Discourse.

> BTW, the fact that \csname \endcsname always sets the control 
> sequence to \relax, even if you are just testing whether it exists at
> all, is quite unfortunate.

But it is also very useful; it allows tests with side-effects in
contexts where only expansion is allowed (to test, for example, whether
something occurs in the left or right column in an output routine). And
if \csname ... \endcsname is being used in the context of a test, then
one can (should) use \ifcsname ... \fi, which adds nothing to the hash
table if the <csname> does not exist.

> It adds something to the hash table which can never be removed and 
> thus stays there forever.  This slows down table lookups and blows up
> the string pool.  When I created huge files with pgfplots I already
> had to increase the string pool.  In this case however, I believe
> that there is a bug in one of related the packages.

I think that the use of \ifcsname would have addressed this.

> Phil, we discussed this issue a few years ago and you forwarded a 
> mail from someone who explained *why* TeX cannot remove unused 
> csnames from the hash table.  Unfortunately I can't find this mail 
> anymore.  Do you remember it and can you forward it to me again?

It may have been in this thread :

	https://tug.org/pipermail/texhax/2006-September/006871.html

or perhaps this statement from the Grand Wizard himself, via BNB:

> when knuth was asked about this, a long time ago, his response was 
> that he was unable to tell whether in fact a \cs was defined 
> elesewhere, locally, and to continually be defining and undefining 
> the same thing would be wasteful and time-consuming.  i think there 
> was also some consideration of clearing things out of the middle of 
> the hash table (the same reason given for not being able to remove a 
> file name from the string pool unless it is the very last thing put 
> onto the list). i will try to look up the reference if that is 
> considered useful. also, peter may have a different opinion ... -- 
> bb

to which Denis Roegel replied :

> In TeX's errorlog, I found the following which might shed some light
>  on the topic.
> 
> Denis.
> 
> * 28 Aug 1979 ... S422\>403. Correct a serious |\gdef| bug: Control 
> sequences don't obey a last-in-first-out discipline, so \TeX\ loses 
> things from the hash table when deleting a control sequence. @259 # 
> To fix this, I either need to restrict \TeX\ (so that |\gdef| can be 
> used inside a group only for control sequences already defined on
> the outer level) or need to change the hash table algorithm. Although
> all applications of \TeX\ known to me will agree to the former 
> restriction, I've chosen the latter alternative, because it gives me
>  a chance to improve the language: Control sequences of arbitrary 
> length will now be recognized.

** Phil.

From P.Taylor at Rhul.Ac.Uk  Tue Dec 22 09:27:31 2015
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Tue, 22 Dec 2015 08:27:31 +0000
Subject: [texhax] Trying to find if a listing is continued with listings
 package
In-Reply-To: <22136.39560.839682.702809@zaphod.ms25.net>
References: <566FECE9.9010202@essex.ac.uk> <56753F09.40605@Rhul.Ac.Uk>
 <22134.25746.486852.283134@zaphod.ms25.net> <567679D2.2030301@Rhul.Ac.Uk>
 <22136.39560.839682.702809@zaphod.ms25.net>
Message-ID: <56790973.2090907@Rhul.Ac.Uk>

P.S.  I think the following demonstrates why \@undefined is markedly
inferior to \ifcsname :

> \documentclass {minimal}
> \catcode `\@ = \catcode `\a
> \begin {document}
> \ifcsname 42\endcsname \message {42: Known csname}\else \message {42: UNKnown csname}\fi
> \message {; }
> \@ifundefined {42}{\message {42: UNdefined}}{\message {42: defined}}
> \message {; }
> \ifcsname 42\endcsname \message {42: Known csname}\else \message {42: UNKnown csname}\fi
> \message {.}
> \end {document}

This outputs

	42: UNKnown csname;
	42: UNdefined;
	42: Known csname.

whereas the following (using \ifcsname)

> \documentclass {minimal}
> \catcode `\@ = \catcode `\a
> \begin {document}
> \ifcsname 42\endcsname \message {42: Known csname}\else \message {42: UNKnown csname}\fi
> \message {; }
> \unless \ifcsname 42\endcsname \message {42: UNdefined}\else \message {42: defined}\fi
> \message {; }
> \ifcsname 42\endcsname \message {42: Known csname}\else \message {42: UNKnown csname}\fi
> \message {.}
> \end {document}

outputs

> 42: UNKnown csname;
> 42: UNdefined;
> 42: UNKnown csname.

Thus \@undefined causes something that was previously undefined to
become defined; \ifcsname does not.

** Phil.


From uwe.lueck at web.de  Tue Dec 22 17:44:17 2015
From: uwe.lueck at web.de (Uwe Lueck)
Date: Tue, 22 Dec 2015 17:44:17 +0100
Subject: [texhax] Trying to find if a listing is continued with listings
 package
In-Reply-To: <566FECE9.9010202@essex.ac.uk>
References: <566FECE9.9010202@essex.ac.uk>
Message-ID: <trinity-2bfac1eb-f30b-4937-a03a-d85af765ae5d-1450802657027@3capp-webde-bs05>

At 2015-12-24 10:35 UTC, Adrian Clark wrote:
> I'm trying to do something literate with listings.sty. I'm using
> \lstnewenvironment to define a new environment which receives a name as
> an argument, which is passed on via "\lstset{name=}". I would like to
> do something slightly different in a continued listing of the name and
> the first time it appears. I have tried things along the lines of
> 
> \expandafter
> \ifx
>   \csname \@lst @SaveFirstNumber\endcsname
>   \undefined
>   it's a new listing
> \else
>   it's a continued listing
> \fi 
>
> but none of my attempts have worked. Can anyone point me in the right
> direction? I've attached a minimal example.

Phil seems not to be sure that he knows the direct answer, 
and Reinhard discusses principles instead of answering the 
request directly. 1.) Phil's answer essentially is that the 
previous code always expands to the \else part (as long as 
knowbody \let's \undefined \relax, which could be another, 
while not recommendable, solution), because the token that 
\csname \@lst @SaveFirstNumber\endcsname becomes by 
\expandafter \ifx either is \ifx-equivalent to \relax or to 
whose name "\@lst @SaveFirstNumber" expands -- where I 
confuse code and tokens as almost everybody does (critized 
in the documentation of the dowith package and a talk).
2.) Phil's idea of replacing \undefined by \relax solves 
the issue indeed. 3.) In cases where \else and/or \fi are 
preceded by something that examines the next token, 

    \@ifundefined{\@lst @SaveFirstNumber}{<yeah>}{<oh>}

is superior to

    \expandafter
    \ifx
      \csname \@lst @SaveFirstNumber\endcsname
      \relax
      <yeah><maybe-%>
    \else
      <oh><maybe-%>
    \fi

and as Reinhard has told, this is almost certainly true 
when listings.sty is used (in a different thread, I have 
tried to load a heavily LaTeX package with plain.tex by 
supplying LaTeX definitions beyond miniltx.tex). The 
\@ifundefined version also is better readable, while it 
results in the same number of tokens (7 plus arguments) 
and needs three more expansion steps (\@ifundefined, 
\expandafter, \@<first-second>oftwo; the latter more 
clearly is the token named either "@firstoftwo" or 
"@secondoftwo", see the latex.ltx snippet Reinhard has
provided).

Cheers,

    Uwe.

From uwe.lueck at web.de  Tue Dec 22 18:08:52 2015
From: uwe.lueck at web.de (Uwe Lueck)
Date: Tue, 22 Dec 2015 18:08:52 +0100
Subject: [texhax] LaTeX package to simulate opening and writing to
 multiple files consecutively?
In-Reply-To: <CAEW6iOjx0ceSD2djCVYC+JG++iorZ=TaADU32E7RCvtEa1QdmQ@mail.gmail.com>
References: <CAENrYJBKiLzDjL2g0gMnQix1PgjPrjGu096WWYKz5aPWNACR3w@mail.gmail.com>, 
 <CAEW6iOjx0ceSD2djCVYC+JG++iorZ=TaADU32E7RCvtEa1QdmQ@mail.gmail.com>
Message-ID: <trinity-bd1a82ca-1941-4085-bb3a-71f0d5f77f48-1450804131791@3capp-webde-bs05>

On 17 December 2015 at 20:05, William Adams <will.adams at frycomm.com> wrote:
> I could've sworn that I saw a LaTeX package which simulated having multiple
> files open and writing out to them on an as needed basis --- can anyone help
> me out w/ remembering if it exists and what it's called if it does?

72 minutes later David Carlisle answered:?
> you can write up to 16 streams at the same time. the morewrites
> package fakes writing more if you need it.

Made in Germany (at least by authors speaking German and living in Germany): 
similar for special purposes, the packages splitindex and closefrm, more 
generally scrwfile,

    http://ctan.org/pkg/scrwfile

The CTAN topic "io-mgmt",

    http://ctan.org/topic/io-mgmt

additionally names the package newfile. I do not understand why

    http://ctan.org/pkg/rvwrite

is not listed in that topic. (I remembered splitindex and found the io-mgmt
topic via

    http:/ctan.org/pkg/morewrites

)

Cheers from Germany

 -- Uwe.


From reinhard.kotucha at web.de  Wed Dec 23 05:51:27 2015
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 23 Dec 2015 05:51:27 +0100
Subject: [texhax] Trying to find if a listing is continued with listings
 package
In-Reply-To: <5678FCDE.6050904@Rhul.Ac.Uk>
References: <566FECE9.9010202@essex.ac.uk>	<56753F09.40605@Rhul.Ac.Uk>
 <22134.25746.486852.283134@zaphod.ms25.net>	<567679D2.2030301@Rhul.Ac.Uk>
 <22136.39560.839682.702809@zaphod.ms25.net>	<5678FCDE.6050904@Rhul.Ac.Uk>
Message-ID: <22138.10319.130710.196951@zaphod.ms25.net>


On 2015-12-22 at 07:33:50 +0000, Philip Taylor wrote:

> Reinhard Kotucha wrote:

 > > It's much safer if LaTeX users use LaTeX code exclusively.
 > 
 > Yes, I agree. In fact, I often think life would be a /very/ great deal
 > simpler if the TeX/LaTeX confusion that currently exists could be done
 > away with completely -- it does not help that lists such as TeXhax,
 > Usenet newsgroups such as Comp.Text.TeX and fora such as
 > TeX.Stackexchange allow (nay, positively encourage) discussions
 > concerning LaTeX.  Separate lists/newsgroups/fora (LaTeXhax,
 > Comp.Text.LaTeX, LaTeX.Stackexchange, etc) need to created to host such
 > discussions, allowing those of us who want to ask questions about TeX to
 > get TeX-related answers and not (as is only too often the case)
 > LaTeX-related answers from those who do not understand the difference.
 > The situation is analogous to that of the JavaScript world, where one
 > asks a question about JavaScript but 90% of the answers assume that
 > JQuery is really the Universe of Discourse.

In almost all cases you can deduce from the question whether it's
about plain TeX or LaTeX.  And if it's unclear you can always ask.

It's a matter of fact that the experts are familiar with both, plain
TeX and LaTeX.  But if there are separate trees, I fear that nobody
(maybe except you) looks into the plain TeX tree.

 > And if \csname ... \endcsname is being used in the context of a
 > test, then one can (should) use \ifcsname ... \fi, which adds
 > nothing to the hash table if the <csname> does not exist.

This is a good point, Phil.

LaTeX formats are created with e-TeX support for about a decade but
LaTeX-2e is much older.  I'm not sure whether one can re-define
\@ifundefined without breaking existing code.

LaTeX-3 is obviously using \ifcsname already.

 > > Phil, we discussed this issue a few years ago and you forwarded a 
 > > mail from someone who explained *why* TeX cannot remove unused 
 > > csnames from the hash table.  Unfortunately I can't find this mail 
 > > anymore.  Do you remember it and can you forward it to me again?
 > 
 > It may have been in this thread :
 > 
 > 	https://tug.org/pipermail/texhax/2006-September/006871.html

No, I encountered the problem in 2008 or 2009, hence the discussion
I have in mind happened much later.

But don't worry, enjoy Xmas.

Best regards, also to Le Khanh,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From reinhard.kotucha at web.de  Wed Dec 23 07:02:54 2015
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 23 Dec 2015 07:02:54 +0100
Subject: [texhax] LaTeX package to simulate opening and writing to
 multiple files consecutively?
In-Reply-To: <trinity-bd1a82ca-1941-4085-bb3a-71f0d5f77f48-1450804131791@3capp-webde-bs05>
References: <CAENrYJBKiLzDjL2g0gMnQix1PgjPrjGu096WWYKz5aPWNACR3w@mail.gmail.com>
 <CAEW6iOjx0ceSD2djCVYC+JG++iorZ=TaADU32E7RCvtEa1QdmQ@mail.gmail.com>
 <trinity-bd1a82ca-1941-4085-bb3a-71f0d5f77f48-1450804131791@3capp-webde-bs05>
Message-ID: <22138.14606.191157.444604@zaphod.ms25.net>

On 2015-12-22 at 18:08:52 +0100, Uwe Lueck wrote:

 > 72 minutes later David Carlisle answered:

Which mail program do you use? 

Regards,
  Reinhard


-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From uwe.lueck at web.de  Wed Dec 23 14:17:52 2015
From: uwe.lueck at web.de (Uwe Lueck)
Date: Wed, 23 Dec 2015 14:17:52 +0100
Subject: [texhax]  defin'd? (was: Trying to find...)
In-Reply-To: <56790973.2090907@Rhul.Ac.Uk>
References: <566FECE9.9010202@essex.ac.uk> <56753F09.40605@Rhul.Ac.Uk>
 <22134.25746.486852.283134@zaphod.ms25.net> <567679D2.2030301@Rhul.Ac.Uk>
 <22136.39560.839682.702809@zaphod.ms25.net>, <56790973.2090907@Rhul.Ac.Uk>
Message-ID: <trinity-258edebe-5615-49ff-b4fa-a0d4a4f2d69e-1450876672214@3capp-webde-bs04>

Discussing with Reinhard Kotucha, Philip Taylor argued
?
> P.S. I think the following demonstrates why \@undefined is
> markedly inferior to \ifcsname :
[etc.]

probably meaning inferiority of \LaTeX's \@ifundefined to the
\varepsilon-\TeX primitive \ifcsname, in that \@ifundefined
uses \csname and thus may assign a meaning to a named token
that before didn't have a meaning, or simply may increase the
hash table without increasing functionality. Both the two of
them (the German comedian equivalent may be "die zwei beiden")
also referred to a similar discussion on the list many years
ago (Phil provided the URL).

I would like to remind readers of a third approach that uses
\csname and though does not increase the hash table
(permanently -- made in Germany): Bernd Raichle's german.sty
has (had)

    \begingroup\expandafter\expandafter\expandafter\endgroup
    \expandafter\ifx\csname ProvidesPackage\endcsname\relax

So definedness of \ProvidesPackage as \ifx-equivalent to 
\relax is restricted to a local group, outside true 
undefinedness is not affected.

There could be a variant \@IfUndefined of \@ifundefined with 
an only local side effect as follows:

    \def\@IfUndefined#1{%
        \begingroup\expandafter\expandafter\expandafter\endgroup
        \expandafter\ifx\csname #1\endcsname\relax
              \expandafter\@firstoftwo
        \else \expandafter\@secondoftwo \fi}

>From Germany with love

 -- Uwe.


P.S.: I have ignored \varepsilon-\TeX\ until very recently ...
sympathizing with minimalistic implementations of \TeX. On
the other hand, I don't agree much when I read that the NTS
project "failed" -- \varepsilon-\TeX\ has been a useful result.


From joseph.wright at morningstar2.co.uk  Wed Dec 23 14:30:15 2015
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Wed, 23 Dec 2015 13:30:15 +0000
Subject: [texhax] defin'd?
In-Reply-To: <trinity-258edebe-5615-49ff-b4fa-a0d4a4f2d69e-1450876672214@3capp-webde-bs04>
References: <566FECE9.9010202@essex.ac.uk> <56753F09.40605@Rhul.Ac.Uk>
 <22134.25746.486852.283134@zaphod.ms25.net> <567679D2.2030301@Rhul.Ac.Uk>
 <22136.39560.839682.702809@zaphod.ms25.net> <56790973.2090907@Rhul.Ac.Uk>
 <trinity-258edebe-5615-49ff-b4fa-a0d4a4f2d69e-1450876672214@3capp-webde-bs04>
Message-ID: <567AA1E7.3010308@morningstar2.co.uk>

On 23/12/2015 13:17, Uwe Lueck wrote:
> Discussing with Reinhard Kotucha, Philip Taylor argued
>  
>> P.S. I think the following demonstrates why \@undefined is
>> markedly inferior to \ifcsname :
> [etc.]
> 
> probably meaning inferiority of \LaTeX's \@ifundefined to the
> \varepsilon-\TeX primitive \ifcsname, in that \@ifundefined
> uses \csname and thus may assign a meaning to a named token
> that before didn't have a meaning, or simply may increase the
> hash table without increasing functionality. Both the two of
> them (the German comedian equivalent may be "die zwei beiden")
> also referred to a similar discussion on the list many years
> ago (Phil provided the URL).
> 
> I would like to remind readers of a third approach that uses
> \csname and though does not increase the hash table
> (permanently -- made in Germany): Bernd Raichle's german.sty
> has (had)
> 
>     \begingroup\expandafter\expandafter\expandafter\endgroup
>     \expandafter\ifx\csname ProvidesPackage\endcsname\relax
> 
> So definedness of \ProvidesPackage as \ifx-equivalent to 
> \relax is restricted to a local group, outside true 
> undefinedness is not affected.
> 
> There could be a variant \@IfUndefined of \@ifundefined with 
> an only local side effect as follows:
> 
>     \def\@IfUndefined#1{%
>         \begingroup\expandafter\expandafter\expandafter\endgroup
>         \expandafter\ifx\csname #1\endcsname\relax
>               \expandafter\@firstoftwo
>         \else \expandafter\@secondoftwo \fi}

Noting that this is not expandable, in contrast to LaTeX's \@ifundefined
and \ifcsname. (The latter is clearly the best approach when allowed.)

> P.S.: I have ignored \varepsilon-\TeX\ until very recently ...
> sympathizing with minimalistic implementations of \TeX. On
> the other hand, I don't agree much when I read that the NTS
> project "failed" -- \varepsilon-\TeX\ has been a useful result.

Given that other than "tex", all widely-used binaries in use nowadays
feature the extensions, I think e-TeX is clearly a success. Whether it
achieved everything desirable is a different matter, of course.

Joseph


From reinhard.kotucha at web.de  Wed Dec 23 19:57:56 2015
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 23 Dec 2015 19:57:56 +0100
Subject: [texhax] defin'd?
In-Reply-To: <567AA1E7.3010308@morningstar2.co.uk>
References: <566FECE9.9010202@essex.ac.uk>	<56753F09.40605@Rhul.Ac.Uk>
 <22134.25746.486852.283134@zaphod.ms25.net>	<567679D2.2030301@Rhul.Ac.Uk>
 <22136.39560.839682.702809@zaphod.ms25.net>	<56790973.2090907@Rhul.Ac.Uk>
 <trinity-258edebe-5615-49ff-b4fa-a0d4a4f2d69e-1450876672214@3capp-webde-bs04>
 <567AA1E7.3010308@morningstar2.co.uk>
Message-ID: <22138.61108.947081.915003@zaphod.ms25.net>

On 2015-12-23 at 13:30:15 +0000, Joseph Wright wrote:

 > On 23/12/2015 13:17, Uwe Lueck wrote:
 > > Discussing with Reinhard Kotucha, Philip Taylor argued
 > >  
 > >> P.S. I think the following demonstrates why \@undefined is
 > >> markedly inferior to \ifcsname :
 > > [etc.]
 > > 
 > > probably meaning inferiority of \LaTeX's \@ifundefined to the
 > > \varepsilon-\TeX primitive \ifcsname, in that \@ifundefined
 > > uses \csname and thus may assign a meaning to a named token
 > > that before didn't have a meaning, or simply may increase the
 > > hash table without increasing functionality. Both the two of
 > > them (the German comedian equivalent may be "die zwei beiden")
 > > also referred to a similar discussion on the list many years
 > > ago (Phil provided the URL).
 > > 
 > > I would like to remind readers of a third approach that uses
 > > \csname and though does not increase the hash table
 > > (permanently -- made in Germany): Bernd Raichle's german.sty
 > > has (had)
 > > 
 > >     \begingroup\expandafter\expandafter\expandafter\endgroup
 > >     \expandafter\ifx\csname ProvidesPackage\endcsname\relax
 > > 
 > > So definedness of \ProvidesPackage as \ifx-equivalent to 
 > > \relax is restricted to a local group, outside true 
 > > undefinedness is not affected.
 > > 
 > > There could be a variant \@IfUndefined of \@ifundefined with 
 > > an only local side effect as follows:
 > > 
 > >     \def\@IfUndefined#1{%
 > >         \begingroup\expandafter\expandafter\expandafter\endgroup
 > >         \expandafter\ifx\csname #1\endcsname\relax
 > >               \expandafter\@firstoftwo
 > >         \else \expandafter\@secondoftwo \fi}
 > 
 > Noting that this is not expandable, in contrast to LaTeX's \@ifundefined
 > and \ifcsname. (The latter is clearly the best approach when allowed.)

... and the macro above doesn't prevent anything from going into the
hash table.

Regards,
  Reinhard

 > > P.S.: I have ignored \varepsilon-\TeX\ until very recently ...
 > > sympathizing with minimalistic implementations of \TeX. On
 > > the other hand, I don't agree much when I read that the NTS
 > > project "failed" -- \varepsilon-\TeX\ has been a useful result.
 > 
 > Given that other than "tex", all widely-used binaries in use nowadays
 > feature the extensions, I think e-TeX is clearly a success. Whether it
 > achieved everything desirable is a different matter, of course.
 > 
 > Joseph
 > 
 > _______________________________________________
 > TeX FAQ: http://www.tex.ac.uk/faq
 > Mailing list archives: http://tug.org/pipermail/texhax/
 > More links: http://tug.org/begin.html
 > 
 > Automated subscription management: http://tug.org/mailman/listinfo/texhax
 > Human mailing list managers: postmaster at tug.org

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From Jim.Diamond at acadiau.ca  Thu Dec 24 14:37:00 2015
From: Jim.Diamond at acadiau.ca (Jim Diamond)
Date: Thu, 24 Dec 2015 09:37:00 -0400
Subject: [texhax] Trying to find if a listing is continued with listings
 package
In-Reply-To: <22138.10319.130710.196951@zaphod.ms25.net>
References: <566FECE9.9010202@essex.ac.uk> <56753F09.40605@Rhul.Ac.Uk>
 <22134.25746.486852.283134@zaphod.ms25.net> <567679D2.2030301@Rhul.Ac.Uk>
 <22136.39560.839682.702809@zaphod.ms25.net> <5678FCDE.6050904@Rhul.Ac.Uk>
 <22138.10319.130710.196951@zaphod.ms25.net>
Message-ID: <20151224133700.GB7944@jdiamond-nb2>

On Wed, Dec 23, 2015 at 05:51 (+0100), Reinhard Kotucha wrote:

> On 2015-12-22 at 07:33:50 +0000, Philip Taylor wrote:

>> Yes, I agree. In fact, I often think life would be a /very/ great deal
>> simpler if the TeX/LaTeX confusion that currently exists could be done
>> away with completely -- it does not help that lists such as TeXhax,
>> Usenet newsgroups such as Comp.Text.TeX and fora such as
>> TeX.Stackexchange allow (nay, positively encourage) discussions
>> concerning LaTeX.

> In almost all cases you can deduce from the question whether it's
> about plain TeX or LaTeX.  And if it's unclear you can always ask.

> It's a matter of fact that the experts are familiar with both, plain
> TeX and LaTeX.  But if there are separate trees, I fear that nobody
> (maybe except you) looks into the plain TeX tree.

Not true... there would be at least two of us who would enjoy TeX
discussions unpolluted with LaTeX noise.  :-)

Cheers

                                Jim

From uwe.lueck at web.de  Thu Dec 24 17:34:08 2015
From: uwe.lueck at web.de (Uwe Lueck)
Date: Thu, 24 Dec 2015 17:34:08 +0100
Subject: [texhax] defin'd?
In-Reply-To: <22138.61108.947081.915003@zaphod.ms25.net>
References: =?UTF-8?Q?<566FECE9.9010202@essex.ac.uk>=09<56753F09.40605@Rhul.Ac.Uk>=20<22134.25746.486852.283134@zaphod.ms25.net>=09<567679D2.2030301@Rhul.Ac.Uk>=20<22136.39560.839682.702809@zaphod.ms25.net>=09<56790973.2090907@Rhul.Ac.Uk>=20<trinity-258edebe-5615-49ff-b4fa-a0d4a4f2d69e-1450876672214@3capp-webde-bs04>=20<567AA1E7.3010308@morningstar2.co.uk>,
 =20<22138.61108.947081.915003@zaphod.ms25.net>?=
Message-ID: <trinity-72d54d7b-180a-4f69-a286-63691e61eb5d-1450974837992@3capp-webde-bs54>

A few hours ago, Reinhard Kotucha wrote:
>> >     \def\@IfUndefined#1{%
>> >         \begingroup\expandafter\expandafter\expandafter\endgroup
>> >         \expandafter\ifx\csname #1\endcsname\relax
>> >               \expandafter\@firstoftwo
>> >         \else \expandafter\@secondoftwo \fi}
>> 
>> Noting that this is not expandable, in contrast to LaTeX's \@ifundefined
>> and \ifcsname. (The latter is clearly the best approach when allowed.)
>
> ... and the macro above doesn't prevent anything from going into the
> hash table.

Should anybody have believed that the \csname in the definition of 
\@IfUndefined worked differently from how it works in \@ifundefined?
Of course it creates a hash table entry in the case of non-definedness.
Besides resetting the meaning to "undefined" (I believe Bernd Raichle 
wrote that this was the motivation, and this has been Phil's point, 
which I addressed), however, it would be nice if the \endgroup /removed/ 
the hash table entry. Can the quotes in Phil's 

    http://tug.org/pipermail/texhax/2015-December/022048.html

about removing hash table entries refer to something else than commands 
closing groups? (Were there \undef or so, resembling unalias and 
export -n?) Or was the intended feature finally given up, so that 
today hash table entries are permanent? -- Ah, Reinhard's preceding

   http://tug.org/pipermail/texhax/2015-December/022047.html

> quite unfortunate.  It adds something to the hash table which can
> never be removed and thus stays there forever.
> 
> Phil, we discussed this issue a few years ago and you forwarded a mail
> from someone who explained *why* TeX cannot remove unused csnames from
> the hash table.

However, this is not clear to me. In the first paragraph, there may 
be something special in the situation that /these/ hash table entries 
cannot be removed while others can. In the second paragraph, "unused" 
may as well refer to the myriads of funny macros that people like to 
to define/load while they are "not used" in some single document. (Or 
even: while almost nobody ever uses them. -- No wonder TeX does not 
remove them from the hash table, but some /definition macros/ could 
prevent defining things that were not used in previous runs, similar 
to the feature of printing only those bibliography entries that actually 
are cited.)

Happy TeX installations on the new computers waiting for you

 -- Uwe.

From uwe.lueck at web.de  Fri Dec 25 03:33:33 2015
From: uwe.lueck at web.de (Uwe Lueck)
Date: Fri, 25 Dec 2015 03:33:33 +0100
Subject: [texhax] LaTeX package to simulate opening and writing to
 multiple files consecutively?
In-Reply-To: <22138.14606.191157.444604@zaphod.ms25.net>
References: <CAENrYJBKiLzDjL2g0gMnQix1PgjPrjGu096WWYKz5aPWNACR3w@mail.gmail.com>
 <CAEW6iOjx0ceSD2djCVYC+JG++iorZ=TaADU32E7RCvtEa1QdmQ@mail.gmail.com>
 <trinity-bd1a82ca-1941-4085-bb3a-71f0d5f77f48-1450804131791@3capp-webde-bs05>, 
 <22138.14606.191157.444604@zaphod.ms25.net>
Message-ID: <trinity-798b829a-0090-465c-9ee1-89bc93525591-1451010813945@3capp-webde-bs54>

a few days ago, Reinhard Kotucha asked:

>> 72 minutes later David Carlisle answered:

> Which mail program do you use?

It's a kind of a Turing test.

Merry Christmas

 -- Uwe.

From uwe.lueck at web.de  Fri Dec 25 04:24:05 2015
From: uwe.lueck at web.de (Uwe Lueck)
Date: Fri, 25 Dec 2015 04:24:05 +0100
Subject: [texhax] defin'd?
In-Reply-To: <567AA1E7.3010308@morningstar2.co.uk>
References: <566FECE9.9010202@essex.ac.uk> <56753F09.40605@Rhul.Ac.Uk>
 <22134.25746.486852.283134@zaphod.ms25.net> <567679D2.2030301@Rhul.Ac.Uk>
 <22136.39560.839682.702809@zaphod.ms25.net> <56790973.2090907@Rhul.Ac.Uk>
 <trinity-258edebe-5615-49ff-b4fa-a0d4a4f2d69e-1450876672214@3capp-webde-bs04>, 
 <567AA1E7.3010308@morningstar2.co.uk>
Message-ID: <trinity-40ffb136-af71-4d59-a605-d33d873df076-1451013845282@3capp-webde-bs54>

On 2015-12-23 at 13:30 UTC, Joseph Wright wrote:
>>     \def\@IfUndefined#1{%
>>         \begingroup\expandafter\expandafter\expandafter\endgroup
>>         \expandafter\ifx\csname #1\endcsname\relax
>>               \expandafter\@firstoftwo
>>         \else \expandafter\@secondoftwo \fi}
>
> Noting that this is not expandable, in contrast to LaTeX's \@ifundefined
> and \ifcsname. (The latter is clearly the best approach when allowed.)

It's right, during pure expansion, \begingroup and \endgroup 

    (a) do not restore undefinedness and 

    (b) remain in the final expansion.

(a) means that \@IfUndefined cannot show its advantage over 
\@undefined, in this respect \@ifundefined's expandability
is not an advantage.  (b) may be harmless in usual LaTeX
"moving arguments", \{begin,end}group may wander around until 
they finally get into TeX's stomach, what effect could they 
have there? (b) may be really ugly when the expansion result is 
meant to be text to be read on screen or HTML code with blog.sty. 
Then \@ifundefined is superior to \@IfUndefined. Demonstration:

    \def\funnytest{+\ifx\funnycs\@undefined U\else D\fi+}
    \@IfUndefined{funnycs}{\message{u}}{\message{d}}
    \message{\funnytest}
    \message{>\@IfUndefined{funnycs}ud<}
    \message{\funnytest}

On my screen, the \message's form the string

    u +U+ >\begingroup \endgroup u< +D+

So the first application of \@IfUndefined restores 
\funnycs's undefinedness, the second inside \message{...}
doesn't. Funny, and the display is ugly.

In latex.ltx however, \@ifundefined is used in connection 
with assignments and/or for throwing error messages. 
So assignments are cases where \@IfUndefined could be useful.

For throwing error messages, there is a problem with all of 
\@ifundefined, \@IfUndefined, \ifcsname, and \iftoken at 
pure expansion: How to do it?

    \@ifundefined{<funny>}{<errmess-code>}{} 

then does not execute <errmess-code>, but pastes it into 
some string, so in some cases, no error is thrown at all, 
you only may occasionally discover its code or just 
something strange somewhere.  For HTML, it may paint a 
large red error message for the reader, but even this 
often is not discovered, cf. bad <ref> code in Wikipedia. 
What I have done is 

    \@ifundefined{<funny>}{\UNDEFINED}{} 

So I get a fake error message, but at least I get one.
Other users than myself may be puzzled, so almost none.
One could also do an \edef before \write'ing something 
and search the result for error code -- slow.

I almost sent the previous, but then tried to improve 
the \UNDEFINED thing. With \ifundefcsnameerror{<funny>},
the token named <funny> is reported to be undefined:

    \def\ifundefcsnameerror#1{%
        \ifcsname#1\endcsname\else
          \expandafter\let\csname#1\expandafter
            \endcsname\expandafter\@undefined
              \csname#1\endcsname\fi}

Still not great, but better than really bad. A user may 
have no idea why that token should be defined and what 
(s)he could do about it. It would be better to have some 
specific \errhelp. -- My first usage of \ifcsname, 
after two mistakes.

>> P.S.: I have ignored \varepsilon-\TeX\ until very recently ...
>> sympathizing with minimalistic implementations of \TeX. On
>> the other hand, I don't agree much when I read that the NTS
>> project "failed" -- \varepsilon-\TeX\ has been a useful result.
>
> Given that other than "tex", all widely-used binaries in use nowadays
> feature the extensions, I think e-TeX is clearly a success. Whether it
> achieved everything desirable is a different matter, of course.

My note also was motivated by having learnt of Peter Breitenlohner's 
death incidentally.

Merry Christmas

 -- Uwe.

From reinhard.kotucha at web.de  Sun Dec 27 00:27:00 2015
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 27 Dec 2015 00:27:00 +0100
Subject: [texhax] defin'd?
In-Reply-To: <trinity-72d54d7b-180a-4f69-a286-63691e61eb5d-1450974837992@3capp-webde-bs54>
References: <566FECE9.9010202@essex.ac.uk>	<56753F09.40605@Rhul.Ac.Uk>
 <22134.25746.486852.283134@zaphod.ms25.net>	<567679D2.2030301@Rhul.Ac.Uk>
 <22136.39560.839682.702809@zaphod.ms25.net>	<56790973.2090907@Rhul.Ac.Uk>
 <trinity-258edebe-5615-49ff-b4fa-a0d4a4f2d69e-1450876672214@3capp-webde-bs04>
 <567AA1E7.3010308@morningstar2.co.uk>
 <22138.61108.947081.915003@zaphod.ms25.net>
 <trinity-72d54d7b-180a-4f69-a286-63691e61eb5d-1450974837992@3capp-webde-bs54>
Message-ID: <22143.8772.684048.611826@zaphod.ms25.net>

On 2015-12-24 at 17:34:08 +0100, Uwe Lueck wrote:

 > A few hours ago, Reinhard Kotucha wrote:
 > >> >     \def\@IfUndefined#1{%
 > >> >         \begingroup\expandafter\expandafter\expandafter\endgroup
 > >> >         \expandafter\ifx\csname #1\endcsname\relax
 > >> >               \expandafter\@firstoftwo
 > >> >         \else \expandafter\@secondoftwo \fi}
 > >> 
 > >> Noting that this is not expandable, in contrast to LaTeX's \@ifundefined
 > >> and \ifcsname. (The latter is clearly the best approach when allowed.)
 > >
 > > ... and the macro above doesn't prevent anything from going into the
 > > hash table.
 > 
 > Should anybody have believed that the \csname in the definition of 
 > \@IfUndefined worked differently from how it works in \@ifundefined?
 > Of course it creates a hash table entry in the case of non-definedness.
 > Besides resetting the meaning to "undefined" (I believe Bernd Raichle 
 > wrote that this was the motivation, and this has been Phil's point, 
 > which I addressed), however, it would be nice if the \endgroup /removed/ 
 > the hash table entry. Can the quotes in Phil's 

Hash table entries cannot be removed and \endgroup doesn't help
because hash tables are not maintained in TeX's mouth or stomach but
in TeX's heart.

The only way to avoid that these "if undefined" tests pollute the
string pool is to use \ifcsname.

Regarding german.sty, the package defines \@ifundefined if it's not
defined already.  This means that it's supposed to work with plain TeX
too.  And plain TeX users usually write \ifx\foo\undefined and don't
expect that the meaning of an undefined macro is \relax.

LaTeX's \@ifundefined supports all kinds of control sequence names,
such as strings of letters (\catcode 11), single punctuation marks,
and names consisting of arbitrary characters.

In LaTeX it works fine iff \@ifundefined is used consistently.

In order to support plain TeX too, it's necessary to avoid that
undefined cs names are set to \relax.  I'm sure that _this_ was
Bernd's intention.

Regards,
  Reinhard


-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From asnd at triumf.ca  Sun Dec 27 02:48:54 2015
From: asnd at triumf.ca (Donald Arseneau)
Date: Sat, 26 Dec 2015 17:48:54 -0800
Subject: [texhax] defin'd?
In-Reply-To: <trinity-40ffb136-af71-4d59-a605-d33d873df076-1451013845282@3capp-webd
 e-bs54>
References: <trinity-40ffb136-af71-4d59-a605-d33d873df076-1451013845282@3capp-webde-bs54>
Message-ID: <58126.207.6.74.79.1451180934.squirrel@trmail.triumf.ca>

On Thu, December 24, 2015 7:24 pm, Uwe Lueck wrote:
> My note also was motivated by having learnt of Peter Breitenlohner's
> death incidentally.

I'm sorry to just learn of that.

Donald Arseneau, TRIUMF CMMS, asnd at triumf.ca


From uwe.lueck at web.de  Mon Dec 28 15:01:16 2015
From: uwe.lueck at web.de (Uwe Lueck)
Date: Mon, 28 Dec 2015 15:01:16 +0100
Subject: [texhax] defin'd?
In-Reply-To: <22143.8772.684048.611826@zaphod.ms25.net>
References: <566FECE9.9010202@essex.ac.uk> <56753F09.40605@Rhul.Ac.Uk>
 <22134.25746.486852.283134@zaphod.ms25.net> <567679D2.2030301@Rhul.Ac.Uk>
 <22136.39560.839682.702809@zaphod.ms25.net> <56790973.2090907@Rhul.Ac.Uk>
 <trinity-258edebe-5615-49ff-b4fa-a0d4a4f2d69e-1450876672214@3capp-webde-bs04>
 <567AA1E7.3010308@morningstar2.co.uk>
 <22138.61108.947081.915003@zaphod.ms25.net>
 <trinity-72d54d7b-180a-4f69-a286-63691e61eb5d-1450974837992@3capp-webde-bs54>, 
 <22143.8772.684048.611826@zaphod.ms25.net>
Message-ID: <trinity-84ba03b8-2fed-43d6-b193-6d21295c32ae-1451311276228@3capp-webde-bap58>

On Sunday, Dec 27 2015, at 00:27:00 CET, Reinhard Kotucha wrote:
>> >> > \def\@IfUndefined#1{%
>> >> > \begingroup\expandafter\expandafter\expandafter\endgroup
>> >> > \expandafter\ifx\csname #1\endcsname\relax
>> >> > \expandafter\@firstoftwo
>> >> > \else \expandafter\@secondoftwo \fi}
>> Besides resetting the meaning to "undefined" (I believe Bernd Raichle
>> wrote that this was the motivation, and this has been Phil's point,
>> which I addressed), however, it would be nice if the \endgroup /removed/
>> the hash table entry. Can the quotes in Phil's
>
> In order to support plain TeX too, it's necessary to avoid that
> undefined cs names are set to \relax. I'm sure that _this_ was
> Bernd's intention.

Which his

    \begingroup\expandafter\expandafter\expandafter\endgroup
    \expandafter\ifx\csname ProvidesPackage\endcsname\relax\else
 
does not achieve?

(While it resets the meaning of \ProvidesPackage to "undefined" 
 after setting it to \relax, as I wrote.)

 -- Uwe.

From tug-news at tug.org  Thu Dec 31 00:22:31 2015
From: tug-news at tug.org (TeX Users Group)
Date: Wed, 30 Dec 2015 23:22:31 +0000
Subject: [texhax] Dec 2015 TUG news: new Lucida DK fonts and other Lucida
	updates
Message-ID: <201512302322.tBUNMV6G024595@freefriends.org>

Hello TeX users,

One bit of news about Lucida: Bigelow&Holmes have created new variants
of the Lucida Grande Mono and Lucida Console monospaced fonts, dubbed
"DK" for Don Knuth, who inspired the new designs.  They are available on
their own to TUG members, or as part of the entire TUG Lucida font set
to anyone.

The DK fonts have "squarish" forms of the capital letter O, making it
less confusable with the numeral 0. For consistency, the capital Q and
related glyphs with accents were also redesigned.  They also inherit
Greek and Cyrillic alphabets, among other features, from their parent
fonts.  More background and ordering info:
  http://tug.org/store/lucida/opentype-dk.html

The other Lucida OpenType fonts distributed by TUG have also had some
small updates, available at no charge to past customers (just
re-download your chosen distribution per the original receipt email):
  http://tug.org/store/lucida/opentype.html

The Lucida Type 1 fonts have not been changed.  We now offer the
OpenType and Type 1 fonts together, for both individual and site
licensees, at only a nominal extra cost compared to the previous
price of either format on its own:
  http://tug.org/store/lucida/order.html

Happy new (CE) year to all from TUG!

