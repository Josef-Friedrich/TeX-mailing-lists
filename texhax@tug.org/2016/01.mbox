From tug-news at tug.org  Wed Jan  6 01:17:15 2016
From: tug-news at tug.org (TeX Users Group)
Date: Wed, 6 Jan 2016 00:17:15 +0000
Subject: [texhax] Jan 2016 TUG news: members campaign, calendar, tugboat,
	conference
Message-ID: <201601060017.u060HFH3005591@freefriends.org>

Hello TeX-ers,

Happy New Year to everyone and we hope you had a nice holiday season.

1) The culmination of our 2015 the members-bring-members drive is the 
drawing for the grand prize.  Congratulations to Jean-luc Doumont!  The 
prize is an original illustration made for this campaign by Duane Bibby.  
For more on the campaign see http://tug.org/membership/.

The campaign resulted in twenty-two new members.  Welcome to all, and 
thanks to members who suggested TUG membership to other friends of TeX.

The form at http://tug.org/join.html still contains a field for 
new members to name who brought them in, and as a thank you we will 
continue to send a lovely postcard by Peter Wilson to each sponsor, 
while supplies last.    

2) The news on the TUG Board is that Karl Berry has resigned from the Board.
In addition to being a Board member since 1995, Karl was TUG President 
from 2003 to 2011, and Treasurer from 2011 to 2015.  Everyone
reading this knows his many contributions to TeX and friends, and to
TUG.  It is not possible to overstate the value of his work.  Karl will 
continue his extensive work with TeX Live development, and as production 
manager for TUGboat. Thank you, Karl.

3) Klaus H\"oppner has stepped forward to take Karl's place as
Treasurer.  Thank you also, Klaus.

4) The submission deadline for TUGboat 37:1 is March 11.  We are
interested in articles over a wide range of subjects and directed at a
wide range of readers.  In particular, we especially welcome tutorials and
introductions.  See http://tug.org/TUGboat/location.html for more,
including submission tips.

In addition, a year has passed since the publication of TUGboat 35:3 so
it is now publicly available:
http://tug.org/TUGboat/Contents/contents35-3.html.

5) The page http://tug.org/calendar has a calendar for 2016 (plus bonus
information at the end), available to all, prepared in TeX by Peter Wilson.

6) Finally, please consider attending this year's annual conference, TUG
2016, in Toronto, Canada, on July 25-27, 2016. In addition to wonderful
people and interesting talks, there are a number of exciting
possibilities for excursions.  See http://tug.org/tug2016/ for the full
details.

Talks of all kinds are welcome.  The deadline for abstracts is May 1.

Don't forget that the TUG Bursary Fund provides assistance for members of 
the TeX community who would, for financial reasons, otherwise be unable to 
attend a TUG Conference.  If this applies to you, we welcome applications at
http://tug.org/bursary/2016app.html.

Happy TeXing, and Happy 2016.
TUG Board

From Chuck.Allison at uvu.edu  Sun Jan 10 03:04:11 2016
From: Chuck.Allison at uvu.edu (Chuck Allison)
Date: Sun, 10 Jan 2016 02:04:11 +0000
Subject: [texhax] Need pgf and TikZ
Message-ID: <E886B5D6-BAF2-4B36-A854-1D5D94991DC7@uvu.edu>

Hello All,

I have MaxTex / TexShop on a Mac running El Capitan. I need to draw professional quality finite automata, and it looks like pff and TikZ are the way to go. I have downloaded them but do not know how to install them. I just get directory trees. Where should I put the files?

Thanks,

Chuck Allison



From axel.retif at mac.com  Sun Jan 10 03:48:06 2016
From: axel.retif at mac.com (Axel E. Retif)
Date: Sat, 9 Jan 2016 20:48:06 -0600
Subject: [texhax] Need pgf and TikZ
In-Reply-To: <E886B5D6-BAF2-4B36-A854-1D5D94991DC7@uvu.edu>
References: <E886B5D6-BAF2-4B36-A854-1D5D94991DC7@uvu.edu>
Message-ID: <5691C666.20508@mac.com>

On 01/09/2016 08:04 PM, Chuck Allison wrote:

> Hello All,
>
> I have MaxTex / TexShop on a Mac running El Capitan.

You already have pgf and TikZ. No need to install anything.

To use TikZ, check the documentation with the command

     texdoc tikz

in your terminal.


Best

Axel


From axel.retif at mac.com  Sun Jan 10 06:57:01 2016
From: axel.retif at mac.com (Axel E. Retif)
Date: Sat, 9 Jan 2016 23:57:01 -0600
Subject: [texhax] Need pgf and TikZ
In-Reply-To: <852F098D-CDEC-410B-A0C8-8671F4DD465A@uvu.edu>
References: <E886B5D6-BAF2-4B36-A854-1D5D94991DC7@uvu.edu>
 <5691C666.20508@mac.com> <852F098D-CDEC-410B-A0C8-8671F4DD465A@uvu.edu>
Message-ID: <5691F2AD.90008@mac.com>

On 01/09/2016 11:02 PM, Chuck Allison wrote:

> Thank you. But when I run the following file from the documentation, I
> get the attached error.

Please keep the list on Cc ---or, better yet, replay to the list, so 
anyone can correct me, add to my reply or answer your question if I can't.

Also, please read the documentation (with texdoc tikz) or google the 
errors you get ---chances are someone has already had the same problem.

I reproduce the code you copied from the TikZ manual with the necessary 
corrections:

\documentclass[11pt]{article}
\usepackage{tikz}

\usetikzlibrary{automata}%     these two libraries
\usetikzlibrary{positioning}%  were missing

\begin{document}
\begin{tikzpicture}[->,shorten >=1pt,auto,node 
distance=2.8cm,semithick,every 
state/.style={fill=red,draw=none,text=white}]%           you didn't 
include any
                                 %           options here; I think at
                                 %           these are necessary

\node[initial,state] (A) {$q_a$};%  the option `initial' was missing

\node[state] (B) [above right=of A] {$q_b$};
\node[state] (D) [below right=of A] {$q_d$};
\node[state] (C) [below right=of B] {$q_c$};
\node[state] (E) [below=of D] {$q_e$};
\path (A) edge node {0,1,L} (B)
edge node {1,1,R} (C)
(B) edge [loop above] node {1,1,L} (B)
edge node {0,1,L} (C)
(C) edge node {0,1,L} (D)
edge [bend left] node {1,0,R} (E)
(D) edge [loop below] node {1,1,R} (D)
edge node {0,1,R} (A)
(E) edge [bend left] node {1,0,R} (A);
\node [right=1cm,text width=8cm] at (C)
{
The current candidate for the busy beaver for five states. It is
presumed that this Turing machine writes a maximum number of
$1$?s before halting among all Turing machines with five states
and the tape alphabet $\{0, 1\}$. Proving this conjecture is an
open research problem.
};
\end{tikzpicture}
\end{document}

With the additions it typesets fine with me.


Best

Axel

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Untitled.tiff
Type: image/tiff
Size: 323188 bytes
Desc: not available
URL: <http://tug.org/pipermail/texhax/attachments/20160109/35f0d976/attachment-0001.tiff>

From Arno.Trautmann at gmx.de  Sun Jan 10 15:48:35 2016
From: Arno.Trautmann at gmx.de (Arno Trautmann)
Date: Sun, 10 Jan 2016 15:48:35 +0100
Subject: [texhax] microtype: bad printing
Message-ID: <56926F43.8050008@gmx.de>

Hi all,

short version: Can a scaled font make trouble when printed in a copy shop?

Long version: A fellow PhD just had his thesis printed, which he 
produced with pdfLaTeX using microtype. When he had the final pages in 
his hands, he found that some lines of text where kind of bold, but only 
on pages that contained color and not equally over the whole page, not 
even reproduceable over the several print-outs. (It got worse for the 
later prints, which is why he did not immediatly see it on the test print.)
The lines looked like some kind of poor man's bold, i.e. the whole line 
seems to be shifted for each color. (Since it was a color page, the 
printer appareantly did not take just black, but combined the colors to 
get black). Since this happened only to a few lines per paragraph, I 
suggested that it might be connected to microtype and the printer not 
being able to handle the scaled fonts. The printer also said that this 
never happened with MS Word, but happend with LaTeX more often.
Upon a second try, the printer set the driver to some "CAD" setting, 
then everything was fine.

Does anyone of you have any clue what's going on and most importantly 
how to avoid these troubles? What could I tell the printer to get it 
right the first time?

Best,
Arno

From P.Taylor at Rhul.Ac.Uk  Sun Jan 10 16:10:23 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sun, 10 Jan 2016 15:10:23 +0000
Subject: [texhax] microtype: bad printing
In-Reply-To: <56926F43.8050008@gmx.de>
References: <56926F43.8050008@gmx.de>
Message-ID: <5692745F.5030606@Rhul.Ac.Uk>



Arno Trautmann wrote:

> Does anyone of you have any clue what's going on and most importantly
> how to avoid these troubles? What could I tell the printer to get it
> right the first time?

If "the printer" (human, not machine) knew what he was doing, he would
know that the "K" of "CMYK" is black, and allowed the black to print as
black, not as C+M+Y+registration problems.  I would suggest a better
printer.

Philip Taylor

From martin at oneiros.de  Sun Jan 10 16:27:10 2016
From: martin at oneiros.de (=?UTF-8?Q?Martin_Schr=C3=B6der?=)
Date: Sun, 10 Jan 2016 16:27:10 +0100
Subject: [texhax] microtype: bad printing
In-Reply-To: <5692745F.5030606@Rhul.Ac.Uk>
References: <56926F43.8050008@gmx.de>	<5692745F.5030606@Rhul.Ac.Uk>
Message-ID: <CAP7DCDfuvyioH640GucTNjT__zKsD79BzYd_LuT=bYZuccDZow@mail.gmail.com>

2016-01-10 16:10 GMT+01:00 Philip Taylor <P.Taylor at rhul.ac.uk>:
> I would suggest a better printer.

ACK. It sounds like the usual problems with an outdated or buggy RIP.

It's 2016(!): If a printer has problems with PDF, choose a different one.

Best
   Martin

From lyons.russell at gmail.com  Sun Jan 10 18:52:49 2016
From: lyons.russell at gmail.com (Russ Lyons)
Date: Sun, 10 Jan 2016 12:52:49 -0500
Subject: [texhax] installing newly created fonts
Message-ID: <CAPn8W0p-WTVcXUiPE6YOVjVSuorKHa0B-XpzfJMNmPn6ydx6wA@mail.gmail.com>

Hi, all.

I created some expanded fonts via afm2tfm, but am having trouble getting
them to be used fully. Details are at
http://tex.stackexchange.com/questions/286838/how-can-i-install-newly-created-fonts
Briefly, I want to use dvipdfmx to create pdf from dvi, but when I use more
than one font, there are spacing and scaling distortions. Even with one
font, the map file is not always found. I'm hoping that this mailing list
can provide more help.

Thanks,
Russ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20160110/59e89c12/attachment.html>

From karl at freefriends.org  Mon Jan 11 00:36:29 2016
From: karl at freefriends.org (Karl Berry)
Date: Sun, 10 Jan 2016 23:36:29 +0000
Subject: [texhax] microtype: bad printing
In-Reply-To: <56926F43.8050008@gmx.de>
Message-ID: <201601102336.u0ANaT0D012411@freefriends.org>

    Does anyone of you have any clue what's going on 

Not me.

    and most importantly how to avoid these troubles? 

Just maybe it would help to run the PDF through some kind of "prepress"
processor.  I've done that for some TUGboat articles for various
reasons.  Since we're already talking about bizarre behavior, just
throwing darts in the dark, but that's what comes to mind.

Here is my Ghostscript invocation (with obvious $substitutions):

$gs \
   -q -dNOPAUSE -dBATCH \
   -dEmbedAllFonts -dPDFSETTINGS=/prepress \
   -dAutoRotatePages=/None \
   -sDEVICE=pdfwrite \
   -sOutputFile="$outputfile" -c .setpdfwrite \
   -f "$inputfile" quit.ps

-dPDFX=true instead of or as well as might also do something beneficial.

All fonts "should" be embedded in the first place.  You can run the
pdffonts program (from xpdf/etc. tools) to check that.

Good luck,
Karl

From doug at mathemaesthetics.com  Mon Jan 11 21:40:58 2016
From: doug at mathemaesthetics.com (Douglas McKenna)
Date: Mon, 11 Jan 2016 13:40:58 -0700
Subject: [texhax] Any crazy math formulas for testing a TeX language
	interpreter
Message-ID: <E4925E57-1F84-4F9F-9B75-41EB25802E15@mathemaesthetics.com>

All/any -

I'm in the throes of testing, bug-flushing, and beginning to use for real work a new TeX language interpreter, currently called JSBox, that I've implemented.  It is a self-contained (not dependent on any library), system-agnostic, library written in C, that supports full 21-bit Unicode characters internally (plus Unicode and UTF-8 input/output) at the same time as being dynamically configurable to behave compatibly with a classic TeX82 or a (current) eTeX engine.   I gave a talk about JSBox at the summer TUG 2014 meeting, and wrote an article for TUGboat soon thereafter about how it traces its own execution of "trip.tex", albeit differently from what TeX does.

Depending on a ton of factors, JSBox appears to be significantly faster than the current TeX engine, primarily because JSBox can typeset an entire document into memory and then display it to the user (via direct data structure export to a client program), all without requiring any file I/O.

After much work in 2015, as of last week JSBox now appears to pass (functionally, though not literally) not only the "trip.tex" gauntlet test, but now the "etrip.tex" test as well (eTeX added 66 new primitives and/or parameters to classic TeX).  And JSBox passes a real-world test: I can drop my library code into a Cocoa page-viewer program and typeset a 150-page monograph that I originally wrote in LaTeX but with a few macro changes ported over to plain.tex.  The source code for the monograph in turn relies on a lightweight document markup library called "opmac" distributed with TeXLive.  All of this uses only Computer/Latin Modern glyphs (converted to OpenType) and their attendant TFM files.

I'm still working on how the client program deals with some of the common \special{} extensions, "especially" for colored hyperlinks.  Nonetheless, the look of the result exported directly to the screen (no intermediate DVI or PDF, just glyphs positioned and drawn by the Mac toolbox) seems indistinguishable from the output of pdftex as displayed via my Mac's PDFKit.  Which, believe me, is gratifying after all the years of work I've put into this thing since I took the leap (in year MMIX).

There are plenty more bugs to be trounced; passing the trip and etrip tests is necessary, though not sufficient, to validate an interpreter.  Indeed, I can attest that passing these important validation tests is possible at the same time as implementing TeX language conditional expansion "non-compatibly" (bug fixed after trying to execute some real-world code for AMS font stuff).

But the monograph I'm using has only fairly elementary math formulas in it, and the trip and etrip tests don't depend on any real world fonts.  So I'm wondering if there's some TeX-validation test file, using the plain format and not dependent on LaTeX, that has little more in it than a totally gnarly, full-page or multi-page, super-ridiculous, semi- or non-sensical math formula that exercises most/all of a TeX interpreter's math typesetting machinery, using most/all of the math symbol and extension glyphs in the Computer Modern fonts?  Worst-case math, in other words.

If not, I'll try to spend some time creating one.  It's just that testing with code I haven't contrived myself is more robust.

Thanks for any suggestions.  Onward, into the fog ...

- Doug McKenna
Mathemaesthetics, Inc.



From doug at mathemaesthetics.com  Mon Jan 11 21:40:58 2016
From: doug at mathemaesthetics.com (Douglas McKenna)
Date: Mon, 11 Jan 2016 13:40:58 -0700
Subject: [texhax] Any crazy math formulas for testing a TeX language
	interpreter
Message-ID: <071C2870-3ED9-4CB8-8194-61CFB7CB3118@mathemaesthetics.com>

All/any -

I'm in the throes of testing, bug-flushing, and beginning to use for real work a new TeX language interpreter, currently called JSBox, that I've implemented.  It is a self-contained (not dependent on any library), system-agnostic, library written in C, that supports full 21-bit Unicode characters internally (plus Unicode and UTF-8 input/output) at the same time as being dynamically configurable to behave compatibly with a classic TeX82 or a (current) eTeX engine.   I gave a talk about JSBox at the summer TUG 2014 meeting, and wrote an article for TUGboat soon thereafter about how it traces its own execution of "trip.tex", albeit differently from what TeX does.

Depending on a ton of factors, JSBox appears to be significantly faster than the current TeX engine, primarily because JSBox can typeset an entire document into memory and then display it to the user (via direct data structure export to a client program), all without requiring any file I/O.

After much work in 2015, as of last week JSBox now appears to pass (functionally, though not literally) not only the "trip.tex" gauntlet test, but now the "etrip.tex" test as well (eTeX added 66 new primitives and/or parameters to classic TeX).  And JSBox passes a real-world test: I can drop my library code into a Cocoa page-viewer program and typeset a 150-page monograph that I originally wrote in LaTeX but with a few macro changes ported over to plain.tex.  The source code for the monograph in turn relies on a lightweight document markup library called "opmac" distributed with TeXLive.  All of this uses only Computer/Latin Modern glyphs (converted to OpenType) and their attendant TFM files.

I'm still working on how the client program deals with some of the common \special{} extensions, "especially" for colored hyperlinks.  Nonetheless, the look of the result exported directly to the screen (no intermediate DVI or PDF, just glyphs positioned and drawn by the Mac toolbox) seems indistinguishable from the output of pdftex as displayed via my Mac's PDFKit.  Which, believe me, is gratifying after all the years of work I've put into this thing since I took the leap (in year MMIX).

There are plenty more bugs to be trounced; passing the trip and etrip tests is necessary, though not sufficient, to validate an interpreter.  Indeed, I can attest that passing these important validation tests is possible at the same time as implementing TeX language conditional expansion "non-compatibly" (bug fixed after trying to execute some real-world code for AMS font stuff).

But the monograph I'm using has only fairly elementary math formulas in it, and the trip and etrip tests don't depend on any real world fonts.  So I'm wondering if there's some TeX-validation test file, using the plain format and not dependent on LaTeX, that has little more in it than a totally gnarly, full-page or multi-page, super-ridiculous, semi- or non-sensical math formula that exercises most/all of a TeX interpreter's math typesetting machinery, using most/all of the math symbol and extension glyphs in the Computer Modern fonts?  Worst-case math, in other words.

If not, I'll try to spend some time creating one.  It's just that testing with code I haven't contrived myself is more robust.

Thanks for any suggestions.  Onward, into the fog ...

- Doug McKenna
Mathemaesthetics, Inc.



From d.p.carlisle at gmail.com  Mon Jan 11 21:54:44 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Mon, 11 Jan 2016 20:54:44 +0000
Subject: [texhax] Any crazy math formulas for testing a TeX language
	interpreter
In-Reply-To: <E4925E57-1F84-4F9F-9B75-41EB25802E15@mathemaesthetics.com>
References: <E4925E57-1F84-4F9F-9B75-41EB25802E15@mathemaesthetics.com>
Message-ID: <CAEW6iOiSr+qfzJDvhx5Ay9=EZTk2YBHrvPNEPGRYPu4r7aUnow@mail.gmail.com>

On 11 January 2016 at 20:40, Douglas McKenna <doug at mathemaesthetics.com>
wrote:

> All/any -
>


Been looking forward to seeing that become public:-)

> So I'm wondering if > there's some TeX-validation test file, using the
plain format and not dependent on LaTeX,

is there any reason not to use latex (in particular does latex.ltx not
load?)

I ask as we've done a lot of work over the last couple of years to make the
core latex regression test suite (that basically runs a set of tests and
compares normalised log files against stored reference versions)  work with
multiple engines (currently it passes with (pdf)tex, luatex and xetex (and
has known behaviour with (u)ptex)
so it would be interesting to see what happens if you ran the test suite
with jsbox.

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20160111/e6b39b60/attachment-0001.html>

From lbrannma at yahoo.com  Mon Jan 11 22:19:24 2016
From: lbrannma at yahoo.com (Lance B)
Date: Mon, 11 Jan 2016 21:19:24 +0000
Subject: [texhax] slow execution even with pre-compiled header
In-Reply-To: <1394427649.2548673.1452514738326.JavaMail.yahoo@mail.yahoo.com>
References: <1394427649.2548673.1452514738326.JavaMail.yahoo.ref@mail.yahoo.com>
 <1394427649.2548673.1452514738326.JavaMail.yahoo@mail.yahoo.com>
Message-ID: <241489306.2804569.1452547164092.JavaMail.yahoo@mail.yahoo.com>


 The following code takes about 1:10 to execute on my machine (one minute, ten seconds). It takes a split second on a colleague's machine (she has the same machine as me - same RAM, etc). It also takes a long time with a pre-compiled header. Any advice will be greatly appreciated. Thanks.

\documentclass[a4paper,titlepage,dvips]{article}\usepackage{graphicx, lscape, dcolumn, longtable, caption, parskip, amsmath, enumitem}\setlength{\parskip}{\baselineskip}\raggedright\begin{document}Start of document\section{Analysis Objectives}{\it ? ? ? ? ?
\begin{itemize}\item State the objectives?\end{itemize}}\subsection{Study Design}
This is the first sub-section.\end{document}
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20160111/432690ef/attachment.html>

From jgbailey at gmail.com  Mon Jan 11 22:39:59 2016
From: jgbailey at gmail.com (Justin Bailey)
Date: Mon, 11 Jan 2016 13:39:59 -0800
Subject: [texhax] Any crazy math formulas for testing a TeX language
	interpreter
In-Reply-To: <E4925E57-1F84-4F9F-9B75-41EB25802E15@mathemaesthetics.com>
References: <E4925E57-1F84-4F9F-9B75-41EB25802E15@mathemaesthetics.com>
Message-ID: <CABPxb2mG3gbXBUVtXog37fCppDpxgYZ-+YgaYLLim5XdbNLF4Q@mail.gmail.com>

* "TeX for the Impatient"? The source for that book is distributed
with TeX Live.
* CWEB source for TeX. It's pretty easy to generate the TeX sources as
I remember.
* MetaPost is written in CWEB - you could try that (see my blog post
http://blog.codeslower.com/2012/6/METAPOST-The-Program).

Very exciting to see more news on JSBox - I attended TUG 2014 and your
talk was one of the highlights. If you give another talk please
advertise! Congrats on continuing to move forward - it looked like a
monumental effort!


On Mon, Jan 11, 2016 at 12:40 PM, Douglas McKenna
<doug at mathemaesthetics.com> wrote:
> All/any -
>
> I'm in the throes of testing, bug-flushing, and beginning to use for real work a new TeX language interpreter, currently called JSBox, that I've implemented.  It is a self-contained (not dependent on any library), system-agnostic, library written in C, that supports full 21-bit Unicode characters internally (plus Unicode and UTF-8 input/output) at the same time as being dynamically configurable to behave compatibly with a classic TeX82 or a (current) eTeX engine.   I gave a talk about JSBox at the summer TUG 2014 meeting, and wrote an article for TUGboat soon thereafter about how it traces its own execution of "trip.tex", albeit differently from what TeX does.
>
> Depending on a ton of factors, JSBox appears to be significantly faster than the current TeX engine, primarily because JSBox can typeset an entire document into memory and then display it to the user (via direct data structure export to a client program), all without requiring any file I/O.
>
> After much work in 2015, as of last week JSBox now appears to pass (functionally, though not literally) not only the "trip.tex" gauntlet test, but now the "etrip.tex" test as well (eTeX added 66 new primitives and/or parameters to classic TeX).  And JSBox passes a real-world test: I can drop my library code into a Cocoa page-viewer program and typeset a 150-page monograph that I originally wrote in LaTeX but with a few macro changes ported over to plain.tex.  The source code for the monograph in turn relies on a lightweight document markup library called "opmac" distributed with TeXLive.  All of this uses only Computer/Latin Modern glyphs (converted to OpenType) and their attendant TFM files.
>
> I'm still working on how the client program deals with some of the common \special{} extensions, "especially" for colored hyperlinks.  Nonetheless, the look of the result exported directly to the screen (no intermediate DVI or PDF, just glyphs positioned and drawn by the Mac toolbox) seems indistinguishable from the output of pdftex as displayed via my Mac's PDFKit.  Which, believe me, is gratifying after all the years of work I've put into this thing since I took the leap (in year MMIX).
>
> There are plenty more bugs to be trounced; passing the trip and etrip tests is necessary, though not sufficient, to validate an interpreter.  Indeed, I can attest that passing these important validation tests is possible at the same time as implementing TeX language conditional expansion "non-compatibly" (bug fixed after trying to execute some real-world code for AMS font stuff).
>
> But the monograph I'm using has only fairly elementary math formulas in it, and the trip and etrip tests don't depend on any real world fonts.  So I'm wondering if there's some TeX-validation test file, using the plain format and not dependent on LaTeX, that has little more in it than a totally gnarly, full-page or multi-page, super-ridiculous, semi- or non-sensical math formula that exercises most/all of a TeX interpreter's math typesetting machinery, using most/all of the math symbol and extension glyphs in the Computer Modern fonts?  Worst-case math, in other words.
>
> If not, I'll try to spend some time creating one.  It's just that testing with code I haven't contrived myself is more robust.
>
> Thanks for any suggestions.  Onward, into the fog ...
>
> - Doug McKenna
> Mathemaesthetics, Inc.
>
>
> _______________________________________________
> TeX FAQ: http://www.tex.ac.uk/faq
> Mailing list archives: http://tug.org/pipermail/texhax/
> More links: http://tug.org/begin.html
>
> Automated subscription management: http://tug.org/mailman/listinfo/texhax
> Human mailing list managers: postmaster at tug.org


From joseph.wright at morningstar2.co.uk  Mon Jan 11 22:55:40 2016
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 11 Jan 2016 21:55:40 +0000
Subject: [texhax] Any crazy math formulas for testing a TeX language
 interpreter
In-Reply-To: <CAEW6iOiSr+qfzJDvhx5Ay9=EZTk2YBHrvPNEPGRYPu4r7aUnow@mail.gmail.com>
References: <E4925E57-1F84-4F9F-9B75-41EB25802E15@mathemaesthetics.com>
 <CAEW6iOiSr+qfzJDvhx5Ay9=EZTk2YBHrvPNEPGRYPu4r7aUnow@mail.gmail.com>
Message-ID: <569424DC.70403@morningstar2.co.uk>

On 11/01/2016 20:54, David Carlisle wrote:
> On 11 January 2016 at 20:40, Douglas McKenna <doug at mathemaesthetics.com>
> wrote:
> 
>> All/any -
>>
> 
> 
> Been looking forward to seeing that become public:-)
> 
>> So I'm wondering if > there's some TeX-validation test file, using the
> plain format and not dependent on LaTeX,
> 
> is there any reason not to use latex (in particular does latex.ltx not
> load?)
> 
> I ask as we've done a lot of work over the last couple of years to make the
> core latex regression test suite (that basically runs a set of tests and
> compares normalised log files against stored reference versions)  work with
> multiple engines (currently it passes with (pdf)tex, luatex and xetex (and
> has known behaviour with (u)ptex)
> so it would be interesting to see what happens if you ran the test suite
> with jsbox.
> 
> David

Note that this will need e-TeX. (Aside: I'm be very keen to know about
primitive coverage beyond TeX90, particularly e-TeX, \pdfstrcmp or
equivalent and Unicode-related primitives, in particular \Uchar and
\Ucharcat. See expl3 for why these are important.)

Joseph


From joseph.wright at morningstar2.co.uk  Mon Jan 11 23:07:20 2016
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Mon, 11 Jan 2016 22:07:20 +0000
Subject: [texhax] Any crazy math formulas for testing a TeX language
 interpreter
In-Reply-To: <569424DC.70403@morningstar2.co.uk>
References: <E4925E57-1F84-4F9F-9B75-41EB25802E15@mathemaesthetics.com>
 <CAEW6iOiSr+qfzJDvhx5Ay9=EZTk2YBHrvPNEPGRYPu4r7aUnow@mail.gmail.com>
 <569424DC.70403@morningstar2.co.uk>
Message-ID: <56942798.3050805@morningstar2.co.uk>

On 11/01/2016 21:55, Joseph Wright wrote:
> On 11/01/2016 20:54, David Carlisle wrote:
>> On 11 January 2016 at 20:40, Douglas McKenna <doug at mathemaesthetics.com>
>> wrote:
>>
>>> All/any -
>>>
>>
>>
>> Been looking forward to seeing that become public:-)
>>
>>> So I'm wondering if > there's some TeX-validation test file, using the
>> plain format and not dependent on LaTeX,
>>
>> is there any reason not to use latex (in particular does latex.ltx not
>> load?)
>>
>> I ask as we've done a lot of work over the last couple of years to make the
>> core latex regression test suite (that basically runs a set of tests and
>> compares normalised log files against stored reference versions)  work with
>> multiple engines (currently it passes with (pdf)tex, luatex and xetex (and
>> has known behaviour with (u)ptex)
>> so it would be interesting to see what happens if you ran the test suite
>> with jsbox.
>>
>> David
> 
> Note that this will need e-TeX. (Aside: I'm be very keen to know about
> primitive coverage beyond TeX90, particularly e-TeX, \pdfstrcmp or
> equivalent and Unicode-related primitives, in particular \Uchar and
> \Ucharcat. See expl3 for why these are important.)

Ah, see that e-TeX is covered.

I'm not clear on the 'no DVI or PDF' business: what *does* it produce
and how does one save/print/transmit it?

Joseph


From karl at freefriends.org  Tue Jan 12 00:51:54 2016
From: karl at freefriends.org (Karl Berry)
Date: Mon, 11 Jan 2016 23:51:54 +0000
Subject: [texhax] Any crazy math formulas for testing a TeX
	language	interpreter
In-Reply-To: <071C2870-3ED9-4CB8-8194-61CFB7CB3118@mathemaesthetics.com>
Message-ID: <201601112351.u0BNpscE008401@freefriends.org>

Doug - just ideas, sorry for not doing any research:

- maybe MathJax or Wikipedia have test suites of TeX-math-syntax-input
you could steal.  Well, it would probably be LaTeX syntax, technically,
but should be simple enough to convert in that particular case.

- Perhaps the AMS has some kind of math testing documents from amstex
development, that would then depend on plain tex (+amstex), but not latex.
(Their CTAN/macros/latex/required/amslatex/math/testmath.tex document
does use a fair amount of LaTeX.)  Barbara?

- Perhaps in the course of developing the OpenType math fonts, either
STIX or GUST or anyone made test documents that could be adapted.
Barbara, Khaled, Jerzy, Apostolos, anyone?

- It's true there are examples of most math constructs in the TeX for
the Impatient book, as Justin suggests, and we used (effectively) plain
TeX for it.  Not very much real math, though.
CTAN/info/impatient/math.tex

- Justin's other suggestions also seem sound to me, perhaps also going
back to Knuth's original mf.web->mf.tex.  The MF program has far more
math than TeX, as you probably know.

- However, I fear nothing extant is going to explicitly test all the
myriad features of TeX math typesetting in the way a test suite "should"
(= separately, with known-good results and variations).

Best,
Karl

From jhefferon at smcvt.edu  Tue Jan 12 00:54:09 2016
From: jhefferon at smcvt.edu (Hefferon, James S.)
Date: Mon, 11 Jan 2016 23:54:09 +0000
Subject: [texhax] Any crazy math formulas for testing a TeX
	language	interpreter
Message-ID: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB7312D@SMCEXMBX03.mikenet.smcvt.edu>


Doug,

Congratulations!

I have a file that includes the test formulas for the original Boston Computer Society torture test that appeared in the Notices.  It is LaTeX but it would be easy enough to strip out the formulas.

http://joshua.smcvt.edu/bcs/

Jim

------------------------------------------
"Does not the Captain seek your advice, sir?"
"Not always," said Stephen.



From schneidt at mail.nih.gov  Tue Jan 12 02:01:19 2016
From: schneidt at mail.nih.gov (Schneider)
Date: Mon, 11 Jan 2016 20:01:19 -0500
Subject: [texhax] Any crazy math formulas for testing a TeX language
 interpreter
In-Reply-To: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB7312D@SMCEXMBX03.mikenet.smcvt.edu>
References: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB7312D@SMCEXMBX03.mikenet.smcvt.edu>
Message-ID: <20160112010119.GA88625@FR-W-C132678.ncifcrf.gov>

James:

> I have a file that includes the test formulas for the original
> Boston Computer Society torture test that appeared in the Notices. 
> It is LaTeX but it would be easy enough to strip out the formulas.
>
> http://joshua.smcvt.edu/bcs/

That ran fine on Mac OS X 10.10.5:

> This is pdfTeX, Version 3.14159265-2.6-1.40.16 (TeX Live 2015)
> (preloaded format=latex)

However, page 8 Benchmark 7 has 4 disconnected bits floating around.

At first I thought that there's no way to know if the test gives the
result it should.  However, I unzipped the package again and
discovered that there is a bcs.pdf in there that I overwrite when I
ran the script.

It would be best to make a copy of that by hand "bcs-good.pdf" or
whatever so that it doesn't get overwritten when people run the test.

For folks who do the test, make a copy of bcs.pdf for comparison.

It turns out that Benchmark 7 failed on my system, the dots and
squiggles are gone, along with some equation parts.

Tom

  Thomas D. Schneider, Ph.D.
  Senior Investigator
  National Institutes of Health
  National Cancer Institute
  Center for Cancer Research
  Gene Regulation and Chromosome Biology Laboratory
  Molecular Information Theory Group
  Frederick, Maryland  21702-1201
  https://schneider.ncifcrf.gov (current link)
  https://alum.mit.edu/www/toms (permanent link)

From ron.fehd.macro.maven at gmail.com  Tue Jan 12 02:05:14 2016
From: ron.fehd.macro.maven at gmail.com (Ron RJF Fehd)
Date: Mon, 11 Jan 2016 20:05:14 -0500
Subject: [texhax] OT: BibTeX files for SUGI-1976--1996
Message-ID: <CA+9ODgtxm2tnxQ7ZDd5BoapH=08KOYd4pWzZ3_7qotY+K_ZkNA@mail.gmail.com>

I have completed work on the BibTeX files (*.bib)
for SUGI-1976--1996.

http://www.sascommunity.org/wiki/BibTeX

Ron Fehd  LaTeX or BibTeX maven

see also:
http://www.bibtex.org/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20160111/9ab73ac8/attachment.html>

From doug at mathemaesthetics.com  Tue Jan 12 02:27:51 2016
From: doug at mathemaesthetics.com (Douglas McKenna)
Date: Mon, 11 Jan 2016 18:27:51 -0700
Subject: [texhax] Any crazy math formulas for testing a TeX language
	interpreter
Message-ID: <E65EDA2F-D9B8-42AE-B180-951DA922F6EF@mathemaesthetics.com>

-------------------------
David Carlisle wrote -

> is there any reason not to use latex (in particular does latex.ltx not load?)

LaTeX's code can be read and compiled, but JSBox doesn't yet have the ability to accurately find the external files in the/a distribution tree that LaTeX depends on when executed, and LaTeX tries to load quite a few.  The problem one has as a tester is that the moment a file is not found, all bets are off on whether things are working "correctly"/"compatibly" later on.  I'm slowly wrapping my head around solving this problem (yes, I know about kpathsea, I just don't understand it very well).   If it's not too many files, I can place copies of them into the job's working directory, and get things read that way, at least for one particular test job.

> I ask as we've done a lot of work over the last couple of years to make the core latex regression test suite (that basically runs a set of tests and compares normalised log files against stored reference versions)  work with multiple engines (currently it passes with (pdf)tex, luatex and xetex (and has known behaviour with (u)ptex)
> so it would be interesting to see what happens if you ran the test suite with jsbox.

JSBox log files won't be usefully diff-able with TeX log files, except in a few areas.  But that's okay with me, even though it's initially a pain.  JSBox tracing and error messages are not going to use the same format as TeX's.

With that said, the moment it appears that JSBox can run LaTeX (functionally if not literally), it will be very appropriate to pit any official test suite against it.  Even though (so far, as a private project) JSBox doesn't have to be, I really want and need it to be compatible.

-------------------------
Jim Hefferon wrote -

> I have a file that includes the test formulas for the original Boston Computer Society torture test that appeared in the Notices.  It is LaTeX but it would be easy enough to strip out the formulas.
> 
> http://joshua.smcvt.edu/bcs/

Many thanks!  This looks like it will be helpful.  I'll report back about what I find out using it.

-------------------------
Justin Bailey wrote -

> * "TeX for the Impatient"? The source for that book is distributed
> with TeX Live.
> * CWEB source for TeX. It's pretty easy to generate the TeX sources as
> I remember.
> * MetaPost is written in CWEB - you could try that (see my blog post
> http://blog.codeslower.com/2012/6/METAPOST-The-Program).

I think an entire book is not going to be helpful right now.  One small incremental step at a time is better.

When I first got my own monograph working a few weeks ago, everything looked great.  But then at 1000% magnification I noticed that there was a slight visual discrepancy in the smallest of inline fractions, where the fraction bar was too close to the numerator, even though it looked correct in larger displays.  This took three days to debug, eventually turning out to be a vertical coordinate update statement that I had misplaced from before an export to after an export.  Sigh.  Things like that never show up in log files.

> Very exciting to see more news on JSBox - I attended TUG 2014 and your
> talk was one of the highlights.

Thanks.

> If you give another talk please advertise!

Will do.

> Congrats on continuing to move forward - it looked like a monumental effort!

My head has come near to exploding several times. :)

-------------------------
Joseph Wright wrote -

> (Aside: I'm be very keen to know about

> primitive coverage beyond TeX90, particularly e-TeX, \pdfstrcmp or
> equivalent and Unicode-related primitives, in particular \Uchar and
> \Ucharcat. See expl3 for why these are important.)


These are not part of e-TeX, so I've not spent any time thinking about them.  String comparison in Unicode is a giant ball of wax, of course.

All internal data structures in JSBox traffic in 21-bit Unicode characters, either directly or as UTF-8 sequences, converted back and forth as needed.  JSBox, when enabled at run-time to handle Unicode, simply accepts any legal "character" code point, from 0 to "10FFFF (except in some cases the surrogate code values), wherever classic TeX/eTeX accepts an 8-bit character code.  So \char256 would be legal, even though in TeX/eTeX emulation mode it would generate an error message.  Same for \catcode, or other mapping commands.  JSBox supports \catcode assignment internally for all Unicode code points, and simply limits \catcode to 8-bit character values when Unicode is disabled.  So there's no need for \Uchar or \Ucharcat, which would appear to have been implemented so as not to disturb TeX's \char and \catcode implementation code.

With that said, it would be a piece of cake to implement \Uchar and \Ucharcat as primitives, should that prove necessary for some kind of compatibility that I don't understand.  Or as wrapper macros in a format library.

> I'm not clear on the 'no DVI or PDF' business: what *does* it produce
> and how does one save/print/transmit it?

On behalf of any client program to which it is linked, JSBox instantiates zero or more TeX language interpreters in the client program's memory.  The client then configures the interpreter, setting feature levels, installing hyphenation databases, telling it the default newline character(s) desired, etc.  Each interpreter exists to run zero or more jobs.  Each job consists of zero or more runs (pushing source code onto the execution stack and executing it until the stack is empty).  Typically, the first run loads a format from source code, and the second the job from a source file.  Each job creates a final set of zero or more pages in memory.  Each page records the \box255 shipped out, and all its contents.  TeX recycles all data structures after shipping a page out and forgets the page.  But JSBox saves everything (executing output nodes once when the page is recorded).  In particular, JSBox saves the page set after the job has ended, so that the still extent interpreter can export the pages (in any order) as many times as requested, up until the next job is started, when all data structures are recycled, or when the interpreter is destroyed, when all allocations are freed back to the client.

After a job is done, the client program simply asks the interpreter to export the typeset pages in some requested/supported fashion.  All writing of anything (terminal text, log files, \write files, exporting a DVI opcode stream, etc.) goes through the client program and is under its watchful eye.  The document can be "transmitted" over and over again to the client program as the user browses the document in, e.g., an online viewer.  The client program is then in charge of deciding whether or how to save the typesetting information representing the document; the whole point is that none of this should be the typesetting engine's business.  If a client program wants to create its own private document format, it can.  Or the client can use a documented interchange format like DVI or PDF or whatever.  JSBox doesn't care, although for things like DVI, it might as well implement the tools on behalf of any client program.

The client program can record and/or display the exported items (glyphs, boxes, rules, specials, etc.) on a simulated page (or writes them to a file).  If the client program wants to enable printing, it can draw the items into their anointed positions on a simulated printer page, and the system's printer driver will send it all out to a printer (that's the idea; none of that is implemented in my particular client program yet).  The point is that a client program, such as the eMonograph reader I'm working on, has the option to allow printing or copying the content, or exporting the content in some other format.

Indeed, printing my particular monograph will lose a lot of information.  Many of its mathematical illustrations are going to be dynamic, to be animated by the client program at read time, not typesetting time.  This means a particular document can morph into a computer program dedicated to displaying just that document interactively.  For several reasons, I need this capability more than I need PDF output.  That can come later (or I can just go back to using pdftex :-)

---------------------------
Karl Berry wrote -

> Doug - just ideas, sorry for not doing any research:

No problem.  All interesting suggestions I'll keep on tap. Thanks.

> - However, I fear nothing extant is going to explicitly test all the
> myriad features of TeX math typesetting in the way a test suite "should"
> (= separately, with known-good results and variations).

One of the things I've implemented in JSBox is the ability to conditionally compile in profiling code, which tells me which primitives have been called, how many times, and which have never been called.  This can help in fashioning a decent test suite.

Doug McKenna
Mathemaesthetics, Inc.



From d.p.carlisle at gmail.com  Tue Jan 12 09:01:23 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 12 Jan 2016 08:01:23 +0000
Subject: [texhax] Any crazy math formulas for testing a TeX language
	interpreter
In-Reply-To: <E65EDA2F-D9B8-42AE-B180-951DA922F6EF@mathemaesthetics.com>
References: <E65EDA2F-D9B8-42AE-B180-951DA922F6EF@mathemaesthetics.com>
Message-ID: <CAEW6iOj860mU0-1nx0=woRx1Hi5CtaDReQ3A-+akQ4E8wPt4-A@mail.gmail.com>

On 12 January 2016 at 01:27, Douglas McKenna <doug at mathemaesthetics.com>
wrote:

> -------------------------
> David Carlisle wrote -
>
> > is there any reason not to use latex (in particular does latex.ltx not
> load?)
>
> LaTeX's code can be read and compiled, but JSBox doesn't yet have the
> ability to accurately find the external files in the/a distribution tree
> that LaTeX depends on when executed, and LaTeX tries to load quite a few.
> The problem one has as a tester is that the moment a file is not found, all
> bets are off on whether things are working "correctly"/"compatibly" later
> on.  I'm slowly wrapping my head around solving this problem (yes, I know
> about kpathsea, I just don't understand it very well).   If it's not too
> many files, I can place copies of them into the job's working directory,
> and get things read that way, at least for one particular test job.
>

Actually for the base latex tests that should work well as it is designed
to run with a sandboxed tex input path (directory) _not_ pulling in the
local tex tree, so we know what we are testing.

>
> > I ask as we've done a lot of work over the last couple of years to make
> the core latex regression test suite (that basically runs a set of tests
> and compares normalised log files against stored reference versions)  work
> with multiple engines (currently it passes with (pdf)tex, luatex and xetex
> (and has known behaviour with (u)ptex)
> > so it would be interesting to see what happens if you ran the test suite
> with jsbox.
>
> JSBox log files won't be usefully diff-able with TeX log files, except in
> a few areas.  But that's okay with me, even though it's initially a pain.
> JSBox tracing and error messages are not going to use the same format as
> TeX's.
>

luatex's aren't much teh same either, but even if they are completely
different, like any regression test suite you only need to sign off the
base results once and engine-specific logs can be stored, then it will flag
if something changes.

>
> With that said, the moment it appears that JSBox can run LaTeX
> (functionally if not literally), it will be very appropriate to pit any
> official test suite against it.  Even though (so far, as a private project)
> JSBox doesn't have to be, I really want and need it to be compatible.
>

Understood.

PS I feel I have to ask if you could change the name, which would be _very_
confusing: anyone who sees that name is going to assume it is related to
JavaScript and the css box model, but I gather it's related to neither. (I
would have assumed that even if it were not the case that there is an
existing jsbox project on github that is about that)


>
> -------------------------
> Jim Hefferon wrote -
>
> > I have a file that includes the test formulas for the original Boston
> Computer Society torture test that appeared in the Notices.  It is LaTeX
> but it would be easy enough to strip out the formulas.
> >
> > http://joshua.smcvt.edu/bcs/
>
> Many thanks!  This looks like it will be helpful.  I'll report back about
> what I find out using it.
>
> -------------------------
> Justin Bailey wrote -
>
> > * "TeX for the Impatient"? The source for that book is distributed
> > with TeX Live.
> > * CWEB source for TeX. It's pretty easy to generate the TeX sources as
> > I remember.
> > * MetaPost is written in CWEB - you could try that (see my blog post
> > http://blog.codeslower.com/2012/6/METAPOST-The-Program).
>
> I think an entire book is not going to be helpful right now.  One small
> incremental step at a time is better.
>
> When I first got my own monograph working a few weeks ago, everything
> looked great.  But then at 1000% magnification I noticed that there was a
> slight visual discrepancy in the smallest of inline fractions, where the
> fraction bar was too close to the numerator, even though it looked correct
> in larger displays.  This took three days to debug, eventually turning out
> to be a vertical coordinate update statement that I had misplaced from
> before an export to after an export.  Sigh.  Things like that never show up
> in log files.
>

If you have the analogue of \showbox that sort of thing is exactly what
show up in the latex test suite logs, they are  not just normal documents
they are designed to put information in the log file.



>
> > Very exciting to see more news on JSBox - I attended TUG 2014 and your
> > talk was one of the highlights.
>
> Thanks.
>
> > If you give another talk please advertise!
>
> Will do.
>
> > Congrats on continuing to move forward - it looked like a monumental
> effort!
>
> My head has come near to exploding several times. :)
>

I think a lot of people have been looking out for more news on this (the
system, not your head exploding:-)


>
> -------------------------
> Joseph Wright wrote -
>
> > (Aside: I'm be very keen to know about
>
> > primitive coverage beyond TeX90, particularly e-TeX, \pdfstrcmp or
> > equivalent and Unicode-related primitives, in particular \Uchar and
> > \Ucharcat. See expl3 for why these are important.)
>
>
> These are not part of e-TeX, so I've not spent any time thinking about
> them.  String comparison in Unicode is a giant ball of wax, of course.
>
> All internal data structures in JSBox traffic in 21-bit Unicode
> characters, either directly or as UTF-8 sequences, converted back and forth
> as needed.  JSBox, when enabled at run-time to handle Unicode, simply
> accepts any legal "character" code point, from 0 to "10FFFF (except in some
> cases the surrogate code values), wherever classic TeX/eTeX accepts an
> 8-bit character code.  So \char256 would be legal, even though in TeX/eTeX
> emulation mode it would generate an error message.  Same for \catcode, or
> other mapping commands.  JSBox supports \catcode assignment internally for
> all Unicode code points, and simply limits \catcode to 8-bit character
> values when Unicode is disabled.  So there's no need for \Uchar or
> \Ucharcat, which would appear to have been implemented so as not to disturb
> TeX's \char and \catcode implementation code.
>


No, etex and luatex accept \char and \catcode just as you describe but
\Uchar and \Ucharcat provide new and much needed functionality.
\char is not expandable so can not be used to generate character tokens. In
classic tex you can feasably cover the entire range with a 256 long \ifcase
(look at the latex \alph which typesets a counter as a,b,c... but for
Unicode TeX that is not feasible and so \Uchar is really essential for many
use cases.




> With that said, it would be a piece of cake to implement \Uchar and
> \Ucharcat as primitives, should that prove necessary for some kind of
> compatibility that I don't understand.  Or as wrapper macros in a format
> library.
>

As noted above, they are essential for many processing requirements for
latex or similar formats over a Unicode range.

Similarly for \mathchar where you can not fit in all the extra bits without
some syntax change, please use \Umathchar which is implemented in a
compatible way in luatex and xetex which makes things much easier for
formats like latex that have to try and work across all these engines.


>
> > I'm not clear on the 'no DVI or PDF' business: what *does* it produce
> > and how does one save/print/transmit it?
>
> On behalf of any client program to which it is linked, JSBox instantiates
> zero or more TeX language interpreters in the client program's memory.  The
> client then configures the interpreter, setting feature levels, installing
> hyphenation databases, telling it the default newline character(s) desired,
> etc.  Each interpreter exists to run zero or more jobs.  Each job consists
> of zero or more runs (pushing source code onto the execution stack and
> executing it until the stack is empty).  Typically, the first run loads a
> format from source code, and the second the job from a source file.  Each
> job creates a final set of zero or more pages in memory.  Each page records
> the \box255 shipped out, and all its contents.  TeX recycles all data
> structures after shipping a page out and forgets the page.  But JSBox saves
> everything (executing output nodes once when the page is recorded).  In
> particular, JSBox saves the page set after the job has ended, so that the
> still extent interpreter c!
>  an export the pages (in any order) as many times as requested, up until
> the next job is started, when all data structures are recycled, or when the
> interpreter is destroyed, when all allocations are freed back to the client.
>
> After a job is done, the client program simply asks the interpreter to
> export the typeset pages in some requested/supported fashion.  All writing
> of anything (terminal text, log files, \write files, exporting a DVI opcode
> stream, etc.) goes through the client program and is under its watchful
> eye.  The document can be "transmitted" over and over again to the client
> program as the user browses the document in, e.g., an online viewer.  The
> client program is then in charge of deciding whether or how to save the
> typesetting information representing the document; the whole point is that
> none of this should be the typesetting engine's business.  If a client
> program wants to create its own private document format, it can.  Or the
> client can use a documented interchange format like DVI or PDF or
> whatever.  JSBox doesn't care, although for things like DVI, it might as
> well implement the tools on behalf of any client program.
>
> The client program can record and/or display the exported items (glyphs,
> boxes, rules, specials, etc.) on a simulated page (or writes them to a
> file).  If the client program wants to enable printing, it can draw the
> items into their anointed positions on a simulated printer page, and the
> system's printer driver will send it all out to a printer (that's the idea;
> none of that is implemented in my particular client program yet).  The
> point is that a client program, such as the eMonograph reader I'm working
> on, has the option to allow printing or copying the content, or exporting
> the content in some other format.
>
> Indeed, printing my particular monograph will lose a lot of information.
> Many of its mathematical illustrations are going to be dynamic, to be
> animated by the client program at read time, not typesetting time.  This
> means a particular document can morph into a computer program dedicated to
> displaying just that document interactively.  For several reasons, I need
> this capability more than I need PDF output.  That can come later (or I can
> just go back to using pdftex :-)
>

This all sounds excellent:-)


>
> ---------------------------
> Karl Berry wrote -
>
> > Doug - just ideas, sorry for not doing any research:
>
> No problem.  All interesting suggestions I'll keep on tap. Thanks.
>
> > - However, I fear nothing extant is going to explicitly test all the
> > myriad features of TeX math typesetting in the way a test suite "should"
> > (= separately, with known-good results and variations).
>
> One of the things I've implemented in JSBox is the ability to
> conditionally compile in profiling code, which tells me which primitives
> have been called, how many times, and which have never been called.  This
> can help in fashioning a decent test suite.
>


we could usefully use that to test the coverage of the latex test suite.....


>
> Doug McKenna
> Mathemaesthetics, Inc.
>

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20160112/d3a1f2ca/attachment-0001.html>

From joseph.wright at morningstar2.co.uk  Tue Jan 12 09:47:59 2016
From: joseph.wright at morningstar2.co.uk (Joseph Wright)
Date: Tue, 12 Jan 2016 08:47:59 +0000
Subject: [texhax] Any crazy math formulas for testing a TeX language
 interpreter
In-Reply-To: <CAEW6iOj860mU0-1nx0=woRx1Hi5CtaDReQ3A-+akQ4E8wPt4-A@mail.gmail.com>
References: <E65EDA2F-D9B8-42AE-B180-951DA922F6EF@mathemaesthetics.com>
 <CAEW6iOj860mU0-1nx0=woRx1Hi5CtaDReQ3A-+akQ4E8wPt4-A@mail.gmail.com>
Message-ID: <5694BDBF.9010604@morningstar2.co.uk>

On 12/01/2016 08:01, David Carlisle wrote:
>> -------------------------
>> Joseph Wright wrote -
>>
>>> (Aside: I'm be very keen to know about
>>
>>> primitive coverage beyond TeX90, particularly e-TeX, \pdfstrcmp or
>>> equivalent and Unicode-related primitives, in particular \Uchar and
>>> \Ucharcat. See expl3 for why these are important.)
>>
>>
>> These are not part of e-TeX, so I've not spent any time thinking about
>> them.  String comparison in Unicode is a giant ball of wax, of course.

String comparisons here are pretty simple, actually :-)

Taking the Lua version needed for LuaTeX, the code is simply

    function strcmp(A, B)
      if A == B then
        tex_write("0")
      elseif A < B then
        tex_write("-1")
      else
        tex_write("1")
      end
    end

Lua isn't an all-Unicode system: Lua strings are simply bytes and so the
question is one of byte order. Similarly, the XeTeX implementation (from
http://sourceforge.net/p/xetex/code/ci/master/tree/source/texk/web2c/xetexdir/xetex.web)
is

    procedure compare_strings; {to implement \.{\\strcmp}}
    label done;
    var s1, s2: str_number;
      i1, i2, j1, j2: pool_pointer;
    begin
      call_func(scan_toks(false, true));
      s1:=tokens_to_string(def_ref);
      delete_token_ref(def_ref);
      call_func(scan_toks(false, true));
      s2:=tokens_to_string(def_ref);
      delete_token_ref(def_ref);
      i1:=str_start_macro(s1);
      j1:=str_start_macro(s1 + 1);
      i2:=str_start_macro(s2);
      j2:=str_start_macro(s2 + 1);
      while (i1 < j1) and (i2 < j2) do begin
        if str_pool[i1] < str_pool[i2] then begin
          cur_val:=-1;
          goto done;
        end;
        if str_pool[i1] > str_pool[i2] then begin
          cur_val:=1;
          goto done;
        end;
        incr(i1);
        incr(i2);
      end;
      if (i1 = j1) and (i2 = j2) then
        cur_val:=0
      else if i1 < j1 then
        cur_val:=1
      else
        cur_val:=-1;
    done:
      flush_str(s2);
      flush_str(s1);
      cur_val_level:=int_val;
    end;

(I presume this is not-dissimilar to the pdfTeX one, but that of course
doesn't have to worry about anything other than single bytes.)

In any case, some form of expandable comparison that ignores catcodes is
very useful, and it's essential to use expl3 (we found some years ago
that this was the one post-e-TeX primitive that was vital in all cases,
though as David notes once you get to dealing with Unicode then some
ability to generate tokens across the full range is also needed).

Joseph

From d.p.carlisle at gmail.com  Tue Jan 12 10:13:07 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 12 Jan 2016 09:13:07 +0000
Subject: [texhax] Any crazy math formulas for testing a TeX language
	interpreter
In-Reply-To: <E4925E57-1F84-4F9F-9B75-41EB25802E15@mathemaesthetics.com>
References: <E4925E57-1F84-4F9F-9B75-41EB25802E15@mathemaesthetics.com>
Message-ID: <CAEW6iOgcjXFqy1WpV945ywc7N_rDhm2htO7uSVjRZWKCLHXH3Q@mail.gmail.com>

Do you just need examples using classic TeX fonts or does the system also
accept OpenType Math fonts using the MATH table (as xetex and luatex do)?

If you can get the unicode-math package to work that would be a good test
of many of the features of the OpenType math fonts (such as latin modern
math)

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20160112/120786c4/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Tue Jan 12 11:33:06 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Tue, 12 Jan 2016 10:33:06 +0000
Subject: [texhax] JSbox (was : any crazy maths formulae for testing a TeX
 language interpreter ?)
In-Reply-To: <CAEW6iOj860mU0-1nx0=woRx1Hi5CtaDReQ3A-+akQ4E8wPt4-A@mail.gmail.com>
References: <E65EDA2F-D9B8-42AE-B180-951DA922F6EF@mathemaesthetics.com>
 <CAEW6iOj860mU0-1nx0=woRx1Hi5CtaDReQ3A-+akQ4E8wPt4-A@mail.gmail.com>
Message-ID: <5694D662.5020506@Rhul.Ac.Uk>



David Carlisle wrote:

> PS I feel I have to ask if you could change the name, which would be
> _very_ confusing: anyone who sees that name is going to assume it is
> related to JavaScript and the css box model, but I gather it's related
> to neither. (I would have assumed that even if it were not the case that
> there is an existing jsbox project on github that is about that)

I agree that the JS component is likely to suggest "JavaScript" to the
uninitiated reader (indeed, when I read Doug's message, I assumed that
JSbox was written in JavaScript) but cannot agree that the "box" element
suggest the CSS box model -- if anything, it suggests (to me, at least)
a /sand/box (i.e., a JavaScript sandbox).  But the very fact that there
are other, completely unrelated, JSboxen out there in the wild does
suggest to me that a better name would not be at all a bad idea.  And I
would strongly recommend that that name include the string "TeX"
(regardless of case).

** Phil.

From jhefferon at smcvt.edu  Tue Jan 12 15:14:00 2016
From: jhefferon at smcvt.edu (Hefferon, James S.)
Date: Tue, 12 Jan 2016 14:14:00 +0000
Subject: [texhax] Any crazy math formulas for testing a TeX language
 interpreter
In-Reply-To: <20160112010119.GA88625@FR-W-C132678.ncifcrf.gov>
References: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB7312D@SMCEXMBX03.mikenet.smcvt.edu>,
 <20160112010119.GA88625@FR-W-C132678.ncifcrf.gov>
Message-ID: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB731B5@SMCEXMBX03.mikenet.smcvt.edu>



> However, page 8 Benchmark 7 has 4 disconnected bits floating around.

Well, obviously it worked in 2000-ish, when I wrote the material.  Today the feynmp stuff correctly compiles into diagrams, but those diagrams do not end up in the .ps file.  Dunno. 

Thomas, any chance you know someone who could do a couple of chemical diagrams using LaTeX's facilities?  When I asked people here about it they looked funny at me and muttered "ChemDraw."  If you do, I could have a look at why feynmp is now not working for me, and then the doc would be complete.   

Jim


From schneidt at mail.nih.gov  Tue Jan 12 19:38:15 2016
From: schneidt at mail.nih.gov (Schneider)
Date: Tue, 12 Jan 2016 13:38:15 -0500
Subject: [texhax] Any crazy math formulas for testing a TeX language
 interpreter
In-Reply-To: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB731B5@SMCEXMBX03.mikenet.smcvt.edu>
References: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB7312D@SMCEXMBX03.mikenet.smcvt.edu>
 <20160112010119.GA88625@FR-W-C132678.ncifcrf.gov>
 <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB731B5@SMCEXMBX03.mikenet.smcvt.edu>
Message-ID: <20160112183815.GA44886@FR-W-C132678.ncifcrf.gov>

Jim:

> > However, page 8 Benchmark 7 has 4 disconnected bits floating
> > around.
>
> Well, obviously it worked in 2000-ish, when I wrote the material. 
> Today the feynmp stuff correctly compiles into diagrams, but those
> diagrams do not end up in the .ps file.  Dunno.
>
> Thomas, any chance you know someone who could do a couple of
> chemical diagrams using LaTeX's facilities?  When I asked people
> here about it they looked funny at me and muttered "ChemDraw."  If
> you do, I could have a look at why feynmp is now not working for me,
> and then the doc would be complete.

I've only worked with ChemDraw so can't help you there.  However the
last benchmark seemed to work fine.  This list is the place to ask for
help though.

Tom

  Thomas D. Schneider, Ph.D.
  Senior Investigator
  National Institutes of Health
  National Cancer Institute
  Center for Cancer Research
  Gene Regulation and Chromosome Biology Laboratory
  Molecular Information Theory Group
  Frederick, Maryland  21702-1201
  https://schneider.ncifcrf.gov (current link)
  https://alum.mit.edu/www/toms (permanent link)

From d.ginev at jacobs-university.de  Tue Jan 12 20:01:50 2016
From: d.ginev at jacobs-university.de (Deyan Ginev)
Date: Tue, 12 Jan 2016 14:01:50 -0500
Subject: [texhax] Any crazy math formulas for testing a TeX language
 interpreter
In-Reply-To: <071C2870-3ED9-4CB8-8194-61CFB7CB3118@mathemaesthetics.com>
References: <071C2870-3ED9-4CB8-8194-61CFB7CB3118@mathemaesthetics.com>
Message-ID: <56954D9E.5080507@jacobs-university.de>

On 01/11/2016 03:40 PM, Douglas McKenna wrote:
> All/any -
> 
> I'm in the throes of testing, bug-flushing, and beginning to use for real work a new TeX language interpreter, currently called JSBox, that I've implemented.

Hi Douglas,

Impressive! Would love to learn more, as I'm personally helping out with
an XML-targeting TeX interpreter called LaTeXML [1], and it's always
fascinating to learn about sibling/cousin efforts.

[snip]
> 
> But the monograph I'm using has only fairly elementary math formulas in it, and the trip and etrip tests don't depend on any real world fonts.  So I'm wondering if there's some TeX-validation test file, using the plain format and not dependent on LaTeX, that has little more in it than a totally gnarly, full-page or multi-page, super-ridiculous, semi- or non-sensical math formula that exercises most/all of a TeX interpreter's math typesetting machinery, using most/all of the math symbol and extension glyphs in the Computer Modern fonts?  Worst-case math, in other words.
> 

As part of developing LaTeXML we are testing it on the biggest "worst
case" benchmark we could find, namely the arXiv.org corpus of scientific
papers. Both the PDFs and TeX sources are now available for public use
[2], so if you are serious about getting hit with the "worst case"
mathematics formulas out there, that's the place to go. Of course that
is not in any sense a "unit" test, rather a large-scale torture test.

Another potentially interesting place to look for challenging latex math
formulas, or at least an exhaustive set of math symbol macros, is the
MathJax test suite [3] which is routinely used for actual product testing.

> If not, I'll try to spend some time creating one.  It's just that testing with code I haven't contrived myself is more robust.
> 

Please do share if you make your own "math torture" document(s), would
love to try LaTeXML's grammar on it.

Greetings,
Deyan

> Thanks for any suggestions.  Onward, into the fog ...
> 
> - Doug McKenna
> Mathemaesthetics, Inc.
> 
> 
> _______________________________________________
> TeX FAQ: http://www.tex.ac.uk/faq
> Mailing list archives: http://tug.org/pipermail/texhax/
> More links: http://tug.org/begin.html
> 
> Automated subscription management: http://tug.org/mailman/listinfo/texhax
> Human mailing list managers: postmaster at tug.org
> 

[1] https://en.wikipedia.org/wiki/LaTeXML
[2] http://arxiv.org/help/bulk_data_s3
[3]
https://github.com/mathjax/MathJax-test/tree/master/testsuite/LaTeXToMathML

From d.p.carlisle at gmail.com  Tue Jan 12 20:54:09 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 12 Jan 2016 19:54:09 +0000
Subject: [texhax] Any crazy math formulas for testing a TeX language
	interpreter
In-Reply-To: <20160112010119.GA88625@FR-W-C132678.ncifcrf.gov>
References: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB7312D@SMCEXMBX03.mikenet.smcvt.edu>
 <20160112010119.GA88625@FR-W-C132678.ncifcrf.gov>
Message-ID: <CAEW6iOgOZB_KnKS3r0m69ZtrUQ1BXWsOEAxGU=RJSCHNqs+5-Q@mail.gmail.com>

On 12 January 2016 at 01:01, Schneider <schneidt at mail.nih.gov> wrote:

> James:
>
> > I have a file that includes the test formulas for the original
> > Boston Computer Society torture test that appeared in the Notices.
> > It is LaTeX but it would be easy enough to strip out the formulas.
> >
> > http://joshua.smcvt.edu/bcs/
>
> That ran fine on Mac OS X 10.10.5:
>
> > This is pdfTeX, Version 3.14159265-2.6-1.40.16 (TeX Live 2015)
> > (preloaded format=latex)
>
> However, page 8 Benchmark 7 has 4 disconnected bits floating around.
>


There is no problem with the tex that is just an error in the shell script,
it doesn't run latex again after running metapost to make the graphics
so they get made but not included

#!/bin/sh
# compile the bcs.tex file
# You need a lot of packages.  Are you sure that you want to do this?
# 2005-June-26 Jim Hefferon
latex bcs
mpost feynmans1
mpost feynmans2
mpost feynmans3
mpost feynmans4
latex bcs
dvips -o bcs.ps bcs
ps2pdf bcs.ps


David


>
> At first I thought that there's no way to know if the test gives the
> result it should.  However, I unzipped the package again and
> discovered that there is a bcs.pdf in there that I overwrite when I
> ran the script.
>
> It would be best to make a copy of that by hand "bcs-good.pdf" or
> whatever so that it doesn't get overwritten when people run the test.
>
> For folks who do the test, make a copy of bcs.pdf for comparison.
>
> It turns out that Benchmark 7 failed on my system, the dots and
> squiggles are gone, along with some equation parts.
>
> Tom
>
>   Thomas D. Schneider, Ph.D.
>   Senior Investigator
>   National Institutes of Health
>   National Cancer Institute
>   Center for Cancer Research
>   Gene Regulation and Chromosome Biology Laboratory
>   Molecular Information Theory Group
>   Frederick, Maryland  21702-1201
>   https://schneider.ncifcrf.gov (current link)
>   https://alum.mit.edu/www/toms (permanent link)
> _______________________________________________
> TeX FAQ: http://www.tex.ac.uk/faq
> Mailing list archives: http://tug.org/pipermail/texhax/
> More links: http://tug.org/begin.html
>
> Automated subscription management: http://tug.org/mailman/listinfo/texhax
> Human mailing list managers: postmaster at tug.org
>



-- 
http://dpcarlisle.blogspot.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20160112/2e7e001d/attachment.html>

From schneidt at mail.nih.gov  Tue Jan 12 21:15:31 2016
From: schneidt at mail.nih.gov (Schneider)
Date: Tue, 12 Jan 2016 15:15:31 -0500
Subject: [texhax] Any crazy math formulas for testing a TeX language
 interpreter
In-Reply-To: <CAEW6iOgOZB_KnKS3r0m69ZtrUQ1BXWsOEAxGU=RJSCHNqs+5-Q@mail.gmail.com>
References: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB7312D@SMCEXMBX03.mikenet.smcvt.edu>
 <20160112010119.GA88625@FR-W-C132678.ncifcrf.gov>
 <CAEW6iOgOZB_KnKS3r0m69ZtrUQ1BXWsOEAxGU=RJSCHNqs+5-Q@mail.gmail.com>
Message-ID: <20160112201531.GA74407@FR-W-C132678.ncifcrf.gov>

David:

>   However, page 8 Benchmark 7 has 4 disconnected bits floating around.
> 
> There is no problem with the tex that is just an error in the shell
> script,
> it doesn't run latex again after running metapost to make the graphics
> so they get made but not included
> #!/bin/sh
> # compile the bcs.tex file
> # You need a lot of packages.  Are you sure that you want to do this?
> # 2005-June-26 Jim Hefferon
> latex bcs
> mpost feynmans1
> mpost feynmans2
> mpost feynmans3
> mpost feynmans4
> latex bcs
> dvips -o [3]bcs.ps bcs
> ps2pdf [4]bcs.ps

Ahh.  That does improve it, but there are still '...'s missing.  I
added a third 'latex bcs' before the dvips but that didn't help.

Tom

  Thomas D. Schneider, Ph.D.
  Senior Investigator
  National Institutes of Health
  National Cancer Institute
  Center for Cancer Research
  Gene Regulation and Chromosome Biology Laboratory
  Molecular Information Theory Group
  Frederick, Maryland  21702-1201
  https://schneider.ncifcrf.gov (current link)
  https://alum.mit.edu/www/toms (permanent link)

From doug at mathemaesthetics.com  Wed Jan 13 00:58:34 2016
From: doug at mathemaesthetics.com (Douglas McKenna)
Date: Tue, 12 Jan 2016 16:58:34 -0700
Subject: [texhax] Any crazy math formulas for testing a TeX language
	interpreter
Message-ID: <D7FD60AB-E7C7-42C1-AE6C-A1F2E002EC02@mathemaesthetics.com>

David Carlisle wrote -

> Actually for the base latex tests that should work well as it is designed to run with a sandboxed tex input path (directory) _not_ pulling in the local tex tree, so we know what we are testing. 

Makes sense.  Good to know.

> luatex's aren't much teh same either, but even if they are completely different, like any regression test suite you only need to sign off the base results once and engine-specific logs can be stored, then it will flag if something changes. 

Yup.  The log file format has to be stable enough to be compared with earlier versions of itself.

> PS I feel I have to ask if you could change the name, which would be _very_ confusing: anyone who sees that name is going to assume it is related to JavaScript and the css box model, but I gather it's related to neither. (I would have assumed that even if it were not the case that there is an existing jsbox project on github that is about that)

Understood, and that has been the plan (some kind of name change).  JSBox was just a goofy joke, since I enjoy playing a certain composer on my piano.

> Do you just need examples using classic TeX fonts or does the system also accept OpenType Math fonts using the MATH table (as xetex and luatex do)?

Right now, just TFM and just Computer/Latin Modern.  I'm not finished with the OpenType parser yet, although I am with the part dealing with the 'MATH' table.

> If you can get the unicode-math package to work that would be a good test of many of the features of the OpenType math fonts (such as latin modern math)

Agreed.  But I'm trying to keep the complexity of the font world at bay until it becomes unavoidable.  One step at a time. :-)


- Doug McKenna



From doug at mathemaesthetics.com  Wed Jan 13 01:09:23 2016
From: doug at mathemaesthetics.com (Douglas McKenna)
Date: Tue, 12 Jan 2016 17:09:23 -0700
Subject: [texhax] Any crazy math formulas for testing a TeX language
	interpreter
Message-ID: <BB3C8A53-1D4E-4768-8BEB-E85683E518A9@mathemaesthetics.com>

Philip Taylor wrote -

> I agree that the JS component is likely to suggest "JavaScript" to the
> uninitiated reader (indeed, when I read Doug's message, I assumed that
> JSbox was written in JavaScript) but cannot agree that the "box" element
> suggest the CSS box model -- if anything, it suggests (to me, at least)
> a /sand/box (i.e., a JavaScript sandbox).  But the very fact that there
> are other, completely unrelated, JSboxen out there in the wild does
> suggest to me that a better name would not be at all a bad idea.  And I
> would strongly recommend that that name include the string "TeX"
> (regardless of case).

Understood and duly noted.  JSBox was just (among other things)
a personal joke, and won't be the final name for precisely these reasons.

Whether it should have "TeX" in the name remains arguable, since no
one seems to know quite precisely what "passing the trip test" means.
For now, all I'm willing to assert is that it's FooBar, and that it wants to
be a TeX-language compatible interpreter and page layout maker.

Doug McKenna


From doug at mathemaesthetics.com  Wed Jan 13 01:09:52 2016
From: doug at mathemaesthetics.com (Douglas McKenna)
Date: Tue, 12 Jan 2016 17:09:52 -0700
Subject: [texhax] Any crazy math formulas for testing a TeX language
	interpreter
Message-ID: <33324E77-220E-43E5-8503-AB14747BAC64@mathemaesthetics.com>

Deyan Ginev wrote -

> As part of developing LaTeXML we are testing it on the biggest "worst
> case" benchmark we could find, namely the arXiv.org corpus of scientific
> papers. Both the PDFs and TeX sources are now available for public use
> [2], so if you are serious about getting hit with the "worst case"
> mathematics formulas out there, that's the place to go. Of course that
> is not in any sense a "unit" test, rather a large-scale torture test.

Yes, I thought of that source for crazy math formulas.  But again, I want
to start with stuff that doesn't depend on LaTeX packages.

> Another potentially interesting place to look for challenging latex math
> formulas, or at least an exhaustive set of math symbol macros, is the
> MathJax test suite [3] which is routinely used for actual product testing.

Good tip.  I'll check that out.

> Please do share if you make your own "math torture" document(s), would
> love to try LaTeXML's grammar on it.

Will do.

Thanks.

Doug McKenna


From doug at mathemaesthetics.com  Wed Jan 13 19:40:42 2016
From: doug at mathemaesthetics.com (Douglas McKenna)
Date: Wed, 13 Jan 2016 11:40:42 -0700
Subject: [texhax] Any crazy math formulas for testing a TeX language
	interpreter
Message-ID: <61819423-5381-42B6-99DE-CB5AF2B329F7@mathemaesthetics.com>

The bcs test mentioned by Jim Hefferon wouldn't run for me either (using TeXLive 2014).  Probably the same problem as others have discussed; I didn't investigate.

So I took the formula out of the first test, commented out the LaTeX-related multi-line commands, and it worked correctly.

Fortunately, Barbara Beeton kindly found in archives and sent me the entire bcs test ported to the plain format.  I pasted all of its source code into my monograph test file and, feeling like I was about to jump off a cliff, typeset it with both pdfTeX and JSBox.

Yeah, baby!  Chemical symbols, circuit layout, math, and all.

Well, $100\% - \epsilon$.  The only discrepancy I could find among all of the tests was a couple of missing symbols (one is the Wierstrauss P maybe), due (I think) to not including the "msbm10" and "ecsx1200" fonts in the collection of fonts visible to the client program.

I have gleaned from various sources that the otherwise opaque "msbm" stands for "Math Society Blackboard Bold Math" or similar, and that "ecsx" stands for "European Computer Modern Symbol eXtensions" or similar.

The glyphs in msbm10 are in the distribution tree (e.g., msbm10.pfb) but I don't understand where pdfTeX is finding/mapping the glyphs to use for the ecsx1200.tfm file.  The only file with "ecsx" in its name I can find in the tree is the MetaFont ".mf" source file.  I need a ".pfb" or other file that can be converted to ".otf".

Doug McKenna



From doug at mathemaesthetics.com  Wed Jan 13 20:04:24 2016
From: doug at mathemaesthetics.com (Douglas McKenna)
Date: Wed, 13 Jan 2016 12:04:24 -0700
Subject: [texhax] Any crazy math formulas for testing a TeX language
	interpreter
Message-ID: <6C70AF48-EFF3-4699-B635-B2EA9435DA52@mathemaesthetics.com>

Joseph Wright wrote -

> In any case, some form of expandable comparison that ignores catcodes is
> very useful, and it's essential to use expl3 (we found some years ago
> that this was the one post-e-TeX primitive that was vital in all cases,
> though as David notes once you get to dealing with Unicode then some
> ability to generate tokens across the full range is also needed).


So ? something like a three-way switch, e.g.,

\ifstrcmp <char token list> <char token list>
     <case 0 for less than> \or
     <case 1 for equal> \or
     <case 2 for greater than>
     \fi

?

Or a two-way explicit comparison of some kind, e.g., 

\ifstrcmp { <char token list> } < = > { <char token list> }
		TRUE
	\else
		FALSE
	\fi

?

From bnb at ams.org  Wed Jan 13 20:46:15 2016
From: bnb at ams.org (Barbara Beeton)
Date: Wed, 13 Jan 2016 14:46:15 -0500
Subject: [texhax] Any crazy math formulas for testing a TeX language
 interpreter
In-Reply-To: <61819423-5381-42B6-99DE-CB5AF2B329F7@mathemaesthetics.com>
References: <61819423-5381-42B6-99DE-CB5AF2B329F7@mathemaesthetics.com>
Message-ID: <alpine.LRH.2.00.1601131417230.20165@snort.ams.org>

re the bcs test, doug mckenna reports:

    Fortunately, Barbara Beeton kindly found in archives and sent me the entire bcs test ported to the plain format.  I pasted all of its source code into my monograph test file and, feeling like I was about to jump off a cliff, typeset it with both pdfTeX and JSBox.

what i sent wasn't ported from latex to
plain; it was (i believe) the original
which *was* prepared in plain tex.  the
file is dated october 1985, which may
be later than the original date, but is
certainly from before latex was really
in wide use.

    Yeah, baby!  Chemical symbols, circuit layout, math, and all.

congratulations!  that's good news!

    Well, $100\% - \epsilon$.  The only discrepancy I could find among all of the tests was a couple of missing symbols (one is the Wierstrauss P maybe), due (I think) to not including the "msbm10" and "ecsx1200" fonts in the collection of fonts visible to the client program.

    I have gleaned from various sources that the otherwise opaque "msbm" stands for "Math Society Blackboard Bold Math" or similar, and that "ecsx" stands for "European Computer Modern Symbol eXtensions" or similar.

"ms" is really "math symbols" series b.
i think your parsing of "ecsx" is correct.
however, that font shouldn't be needed.
maybe the test that needs it wasn't from
the bcs test file?

    The glyphs in msbm10 are in the distribution tree (e.g., msbm10.pfb) but I don't understand where pdfTeX is finding/mapping the glyphs to use for the ecsx1200.tfm file.  The only file with "ecsx" in its name I can find in the tree is the MetaFont ".mf" source file.  I need a ".pfb" or other file that can be converted to ".otf".

i've just rerun the file through pdftex,
and obtained the list of fonts used.
they are all in the distribution tree in
the area
  fonts/type1/public/amsfonts/cm/

these fonts are reported in the log:
  cmbx10.pfb
  cmex10.pfb
  cmmi10.pfb
  cmmi5.pfb
  cmmi7.pfb
  cmr10.pfb
  cmr5.pfb
  cmr7.pfb
  cmsy10.pfb
  cmsy5.pfb
  cmsy7.pfb
  cmti10.pfb
all computer modern.

is there any sentiment for posting the
bcs test file on ctan?  (i'll have to
navigate the rules for licenses, which
have changed radically since this file
was created, but will do so if there's
interest.)
					-- bb


From d.p.carlisle at gmail.com  Wed Jan 13 20:56:10 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Wed, 13 Jan 2016 19:56:10 +0000
Subject: [texhax] Any crazy math formulas for testing a TeX language
	interpreter
In-Reply-To: <6C70AF48-EFF3-4699-B635-B2EA9435DA52@mathemaesthetics.com>
References: <6C70AF48-EFF3-4699-B635-B2EA9435DA52@mathemaesthetics.com>
Message-ID: <CAEW6iOituKFxDZZ1A0YV-px9GMqS=vLSdWpkThNcDC0k7sXxqg@mail.gmail.com>

On 13 January 2016 at 19:04, Douglas McKenna <doug at mathemaesthetics.com>
wrote:

> Joseph Wright wrote -
>
> > In any case, some form of expandable comparison that ignores catcodes is
> > very useful, and it's essential to use expl3 (we found some years ago
> > that this was the one post-e-TeX primitive that was vital in all cases,
> > though as David notes once you get to dealing with Unicode then some
> > ability to generate tokens across the full range is also needed).
>
>
> So ? something like a three-way switch, e.g.,
>
> \ifstrcmp <char token list> <char token list>
>      <case 0 for less than> \or
>      <case 1 for equal> \or
>      <case 2 for greater than>
>      \fi
>
> ?
>
> Or a two-way explicit comparison of some kind, e.g.,
>
> \ifstrcmp { <char token list> } < = > { <char token list> }
>                 TRUE
>         \else
>                 FALSE
>         \fi
>
> ?
>


see
 pdftex manual (page 37) which says:

 \pdfstrcmp {general text} { general text }(expandable)

 This command compares two strings and expands to 0 if the strings are
equal, to -1 if the first string
 ranks before the second, and to 1 otherwise. The primitive was introduced
in pdfTEX 1.30.0.

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20160113/4743a7d0/attachment.html>

From d.ginev at jacobs-university.de  Wed Jan 13 21:17:22 2016
From: d.ginev at jacobs-university.de (Deyan Ginev)
Date: Wed, 13 Jan 2016 15:17:22 -0500
Subject: [texhax] Any crazy math formulas for testing a TeX language
 interpreter
In-Reply-To: <alpine.LRH.2.00.1601131417230.20165@snort.ams.org>
References: <61819423-5381-42B6-99DE-CB5AF2B329F7@mathemaesthetics.com>
 <alpine.LRH.2.00.1601131417230.20165@snort.ams.org>
Message-ID: <5696B0D2.9050309@jacobs-university.de>

On 01/13/2016 02:46 PM, Barbara Beeton wrote:
> re the bcs test, doug mckenna reports:
> 
>     Fortunately, Barbara Beeton kindly found in archives and sent me the entire bcs test ported to the plain format.  I pasted all of its source code into my monograph test file and, feeling like I was about to jump off a cliff, typeset it with both pdfTeX and JSBox.
> 
> what i sent wasn't ported from latex to
> plain; it was (i believe) the original
> which *was* prepared in plain tex.  the
> file is dated october 1985, which may
> be later than the original date, but is
> certainly from before latex was really
> in wide use.
> 


In the interest of all reading the thread, would you mind sharing the
file in a publicly-accessible way? Say as a GitHub gist[1], pastebin[2],
or something of the sort?

Thanks!
Deyan

[1] http://gist.github.com/
[2] http://pastebin.com/

From herries.press at earthlink.net  Wed Jan 13 21:59:27 2016
From: herries.press at earthlink.net (Peter Wilson)
Date: Wed, 13 Jan 2016 20:59:27 +0000
Subject: [texhax] Any crazy math formulas for testing a TeX language
 interpreter
In-Reply-To: <5696B0D2.9050309@jacobs-university.de>
References: <61819423-5381-42B6-99DE-CB5AF2B329F7@mathemaesthetics.com>
 <alpine.LRH.2.00.1601131417230.20165@snort.ams.org>
 <5696B0D2.9050309@jacobs-university.de>
Message-ID: <5696BAAF.2070601@earthlink.net>



On 13/01/16 20:17, Deyan Ginev wrote:
> On 01/13/2016 02:46 PM, Barbara Beeton wrote:
>> re the bcs test, doug mckenna reports:
>>
>>      Fortunately, Barbara Beeton kindly found in archives and sent me the entire bcs test ported to the plain format.  I pasted all of its source code into my monograph test file and, feeling like I was about to jump off a cliff, typeset it with both pdfTeX and JSBox.
>>
>> what i sent wasn't ported from latex to
>> plain; it was (i believe) the original
>> which *was* prepared in plain tex.  the
>> file is dated october 1985, which may
>> be later than the original date, but is
>> certainly from before latex was really
>> in wide use.
>>
>
> In the interest of all reading the thread, would you mind sharing the
> file in a publicly-accessible way? Say as a GitHub gist[1], pastebin[2],
> or something of the sort?
>
> Thanks!
> Deyan
>
> [1] http://gist.github.com/
> [2] http://pastebin.com/

I always thought that CTAN was publicly accessible.

Peter W.
> _______________________________________________
> TeX FAQ: http://www.tex.ac.uk/faq
> Mailing list archives: http://tug.org/pipermail/texhax/
> More links: http://tug.org/begin.html
>
> Automated subscription management: http://tug.org/mailman/listinfo/texhax
> Human mailing list managers: postmaster at tug.org


From jhefferon at smcvt.edu  Wed Jan 13 22:01:33 2016
From: jhefferon at smcvt.edu (Hefferon, James S.)
Date: Wed, 13 Jan 2016 21:01:33 +0000
Subject: [texhax] Boston Computer Society test file
Message-ID: <8E15C2BC0B63AD4AA20BF9F1C3947FC1018AB7349C@SMCEXMBX03.mikenet.smcvt.edu>

> is there any sentiment for posting the
bcs test file on ctan?  (i'll have to
navigate the rules for licenses, which
have changed radically since this file
was created, but will do so if there's
interest.)
   
The thing that appeals to me about the test is that the equations and diagrams are taken from benchmark sources.

It reminds me of when I read Kernigan and Ritchie; the things shown were all things I was looking to do and so it served not just to introduce me, but also to impress me that the authors had a tool for the jobs that I was looking at.

The Showcase is great but this is different.  It, or something like it, has a place also, it seems to me.

Jim



From hmwlfsr at yahoo.com  Wed Jan 13 22:02:32 2016
From: hmwlfsr at yahoo.com (William F Hammond)
Date: Wed, 13 Jan 2016 13:02:32 -0800
Subject: [texhax] Any crazy math formulas for testing a TeX language
	interpreter
In-Reply-To: <5696B0D2.9050309@jacobs-university.de> (Deyan Ginev's message of
 "Wed\, 13 Jan 2016 15\:17\:22 -0500")
References: <61819423-5381-42B6-99DE-CB5AF2B329F7@mathemaesthetics.com>
 <alpine.LRH.2.00.1601131417230.20165@snort.ams.org>
 <5696B0D2.9050309@jacobs-university.de>
Message-ID: <87ziw92nx3.fsf@yahoo.com>

Deyan Ginev <d.ginev at jacobs-university.de> writes:

> In the interest of all reading the thread, would you mind sharing the
> file in a publicly-accessible way? Say as a GitHub gist[1], pastebin[2],
> or something of the sort?
>
> Thanks!
> Deyan

Why not  ** CTAN **       :-)


                              -- Bill

Email: hmwlfsr at yahoo.com
       gellmu at gmail.com
https://www.facebook.com/william.f.hammond
http://www.albany.edu/~hammond/


From P.Taylor at Rhul.Ac.Uk  Wed Jan 13 22:13:51 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 13 Jan 2016 21:13:51 +0000
Subject: [texhax] Any crazy math formulas for testing a TeX language
 interpreter
In-Reply-To: <5696BA50.4040607@jacobs-university.de>
References: <61819423-5381-42B6-99DE-CB5AF2B329F7@mathemaesthetics.com>
 <alpine.LRH.2.00.1601131417230.20165@snort.ams.org>
 <5696B0D2.9050309@jacobs-university.de> <5696B36A.6020105@Rhul.Ac.Uk>
 <5696BA50.4040607@jacobs-university.de>
Message-ID: <5696BE0F.5020408@Rhul.Ac.Uk>



Deyan Ginev wrote:

> I am more than happy to use CTAN, all I was asking for was a link, or at
> least an email attachment, so that I can inspect the file.

Hmm, now even more confused.  As your original message was in direct
reply to Barbara's, I assumed (perhaps wrongly) that it was the BCS test
file to which you were referring, about which Barbara wrote :

> is there any sentiment for posting the
> bcs test file on ctan?  (i'll have to
> navigate the rules for licenses, which
> have changed radically since this file
> was created, but will do so if there's
> interest.)

from which it was clear that (a) the BCS test file was not already on
CTAN, and (b) Barbara was considering putting it there if (i) there was
interest, and (ii) licence considerations did not preclude.  If it is
another file (or files) to which you were referring (e.g., the JSbox
sources), then I can only apologise for the noise ...

Philip Taylor

From d.ginev at jacobs-university.de  Wed Jan 13 22:20:00 2016
From: d.ginev at jacobs-university.de (Deyan Ginev)
Date: Wed, 13 Jan 2016 16:20:00 -0500
Subject: [texhax] Any crazy math formulas for testing a TeX language
 interpreter
In-Reply-To: <5696BE0F.5020408@Rhul.Ac.Uk>
References: <61819423-5381-42B6-99DE-CB5AF2B329F7@mathemaesthetics.com>
 <alpine.LRH.2.00.1601131417230.20165@snort.ams.org>
 <5696B0D2.9050309@jacobs-university.de> <5696B36A.6020105@Rhul.Ac.Uk>
 <5696BA50.4040607@jacobs-university.de> <5696BE0F.5020408@Rhul.Ac.Uk>
Message-ID: <5696BF80.7060802@jacobs-university.de>

On 01/13/2016 04:13 PM, Philip Taylor wrote:
> 
> 
> Deyan Ginev wrote:
> 
>> I am more than happy to use CTAN, all I was asking for was a link, or at
>> least an email attachment, so that I can inspect the file.
> 
> Hmm, now even more confused.  As your original message was in direct
> reply to Barbara's, I assumed (perhaps wrongly) that it was the BCS test
> file to which you were referring, about which Barbara wrote :
> 
>> is there any sentiment for posting the
>> bcs test file on ctan?  (i'll have to
>> navigate the rules for licenses, which
>> have changed radically since this file
>> was created, but will do so if there's
>> interest.)
> 
> from which it was clear that (a) the BCS test file was not already on
> CTAN, and (b) Barbara was considering putting it there if (i) there was
> interest, and (ii) licence considerations did not preclude.  If it is
> another file (or files) to which you were referring (e.g., the JSbox
> sources), then I can only apologise for the noise ...
> 

The BCS test is exactly what I meant yes. I had simply skimmed over the
ctan mention, especially since I failed to decode the phrasing
describing a "sentiment for posting".

I'm more than happy to wait for a CTAN publication of the file,
apologies for invoking the collective texhax wrath on me, I didn't mean
to suggest other services are "better" than CTAN, or to endorse them in
comparison.

Greetings,
Deyan

> Philip Taylor
> 


From karl at freefriends.org  Wed Jan 13 23:33:34 2016
From: karl at freefriends.org (Karl Berry)
Date: Wed, 13 Jan 2016 22:33:34 +0000
Subject: [texhax] Any crazy math formulas for testing a TeX
	language	interpreter
In-Reply-To: <61819423-5381-42B6-99DE-CB5AF2B329F7@mathemaesthetics.com>
Message-ID: <201601132233.u0DMXY7E030740@freefriends.org>

    where pdfTeX is finding/mapping the glyphs to use for the
    ecsx1200.tfm file.  

Well, pdftex can use pk files, so in general one may not exist.  However:

    The only file with "ecsx" in its name I can find in the tree is the
    MetaFont ".mf" source file.  I need a ".pfb" or other file 
    
>From psfonts.map:
ecsx1200 SFSX1200 " T1Encoding ReEncodeFont " <cm-super-t1.enc <sfsx1200.pfb

I.e., sfsx1200.pfb, part of cm-super, is used for ecsx1200.tfm.
In general, cm-super has the outlines for ec* tfms (and more.)

    that can be converted to ".otf".

Nothing to do with the case at hand, but even if one has only .mf, could
run mf at a high resolution, autotrace the bitmap, output an otf.
Fontforge can do all that pretty easily.

best,
k

From luecking at uark.edu  Wed Jan 13 23:43:07 2016
From: luecking at uark.edu (Daniel H. Luecking)
Date: Wed, 13 Jan 2016 22:43:07 +0000
Subject: [texhax] slow execution even with pre-compiled header
Message-ID: <df1dea89a5ec4040b44918b2e6fa3512@ex-mbx4b.uark.edu>


Lance B wrote:


?  The following code takes about 1:10 to execute on my machine

?  (one minute, ten seconds). It takes a split second on a colleague's

?  machine (she has the same machine as me - same RAM, etc). It also

?  takes a long time with a pre-compiled header. Any advice will be greatly appreciated. Thanks.

[simple code omitted]

What TeX system is installed on your machine?

MiKTeX (for one example) can spend some time downloading and installing a
missing package. I have heard of cases (where the installing and the
TeXing have different permissions) that the same package is repeatedly
reinstalled.

I have seen TeX Live (my preferred system)), occasionally (on windows), take
quite some time on an equally simple file. In those cases I am guessing the
problem was some background program hogging CPU cycles. It is usually not
reproducible.


Daniel H. Luecking, Graduate Coordinator
Dept. of Mathematical Sciences
University of Arkansas
Fayetteville, AR, USA

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20160113/f36bf5a7/attachment-0001.html>

From P.Taylor at Rhul.Ac.Uk  Wed Jan 13 23:52:35 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Wed, 13 Jan 2016 22:52:35 +0000
Subject: [texhax] slow execution even with pre-compiled header
In-Reply-To: <df1dea89a5ec4040b44918b2e6fa3512@ex-mbx4b.uark.edu>
References: <df1dea89a5ec4040b44918b2e6fa3512@ex-mbx4b.uark.edu>
Message-ID: <5696D533.4090008@Rhul.Ac.Uk>



Daniel H. Luecking wrote:
> I have seen TeX Live (my preferred system)), occasionally (on
> windows), take
>
> quite some time on an equally simple file. In those cases I am
> guessing the
>
> problem was some background program hogging CPU cycles. It is usually not
>
> reproducible.
>
I had two seemingly identical TeX Live setups on two similar machines,
yet the faster of these ran TeX programs about 20 times slower than the
slower machine.  I /believe/ that the TeX-specific search paths on the
slower machine were somehow sub-optimal, but never really managed to get
to the bottom of it.  In the end, I jettisoned the TeX Live setup from
the faster-in-theory machine, cloned the slower-in-theory machine's TeX
Live setup to it, and thereafter all performed as it should.

Philip Taylor

From reinhard.kotucha at web.de  Fri Jan 15 02:08:54 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 15 Jan 2016 02:08:54 +0100
Subject: [texhax] Any crazy math formulas for testing a TeX language
 interpreter
In-Reply-To: <87ziw92nx3.fsf@yahoo.com>
References: <61819423-5381-42B6-99DE-CB5AF2B329F7@mathemaesthetics.com>
 <alpine.LRH.2.00.1601131417230.20165@snort.ams.org>
 <5696B0D2.9050309@jacobs-university.de>	<87ziw92nx3.fsf@yahoo.com>
Message-ID: <22168.18086.689602.558336@zaphod.ms25.net>

On 2016-01-13 at 13:02:32 -0800, William F Hammond wrote:

 > Deyan Ginev <d.ginev at jacobs-university.de> writes:
 > 
 > > In the interest of all reading the thread, would you mind sharing
 > > the file in a publicly-accessible way? Say as a GitHub gist[1],
 > > pastebin[2], or something of the sort?
 > >
 > > Thanks!
 > > Deyan
 > 
 > Why not  ** CTAN **       :-)

"Warum in die Ferne schweifen wenn das Gute liegt so nah."

   -- Johann Wolfgang von Goethe (1749-1832)

In English: "Why search far afield when the good is so nearby."

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From rodolfo.medina at gmail.com  Tue Jan 19 17:45:54 2016
From: rodolfo.medina at gmail.com (Rodolfo Medina)
Date: Tue, 19 Jan 2016 16:45:54 +0000
Subject: [texhax] Hyperlinks lost in pdf file
Message-ID: <87wpr5jz5p.fsf@gmail.com>

Hi all.

In order to have a pdf file: if I process my plain TeX file.tex with `pdftex
file', all the hyperlinks are correctly generated, whereas with:

 tex file
 dvips file
 ps2pdf file.ps

they are all lost.  Why does this happen, and how can I avoid it since I need
performing the tex -> dvips -> ps2pdf cycle instead of using pdftex?

Any help appreciated,

Rodolfo


From luecking at uark.edu  Tue Jan 19 18:03:33 2016
From: luecking at uark.edu (Daniel H. Luecking)
Date: Tue, 19 Jan 2016 17:03:33 +0000
Subject: [texhax] Hyperlinks lost in pdf file
Message-ID: <8360300c746647b38b927cc674056919@ex-mbx4a.uark.edu>


Rodolfo Medina wrote
>
>In order to have a pdf file: if I process my plain TeX file.tex with `pdftex
>file', all the hyperlinks are correctly generated, whereas with:
>
> tex file
> dvips file
> ps2pdf file.ps
>
>they are all lost.  Why does this happen, and how can I avoid it since I need
>performing the tex -> dvips -> ps2pdf cycle instead of using pdftex?

What package or commands are you using in your tex file to create hyperlinks
in plain pdftex? Presumably, you need to modify those so that they use dvips
specials instead of pdftex specials.

Can you post a short example?

Also, you may need to use
  dvips -z file
to put hyperlinks in the ps file where ps2pdf can see them.

Good luck,


Daniel H. Luecking
Dept. of Mathematical Sciences
University of Arkansas
Fayetteville, AR, USA

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20160119/32e5a00e/attachment-0001.html>

From P.Taylor at Rhul.Ac.Uk  Tue Jan 19 18:04:23 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Tue, 19 Jan 2016 17:04:23 +0000
Subject: [texhax] Hyperlinks lost in pdf file
In-Reply-To: <87wpr5jz5p.fsf@gmail.com>
References: <87wpr5jz5p.fsf@gmail.com>
Message-ID: <569E6C97.7090604@Rhul.Ac.Uk>

I guess that to answer that one would need to know how you insert
hyperlinks in the first place ...  Are you using a pre-existing package
(e.g., e-plain), or a LaTeX style file, or did you roll your own, or what ?

Philip Taylor
--------
Rodolfo Medina wrote:
> Hi all.
> 
> In order to have a pdf file: if I process my plain TeX file.tex with `pdftex
> file', all the hyperlinks are correctly generated, whereas with:
> 
>  tex file
>  dvips file
>  ps2pdf file.ps
> 
> they are all lost.  Why does this happen, and how can I avoid it since I need
> performing the tex -> dvips -> ps2pdf cycle instead of using pdftex?
> 
> Any help appreciated,
> 
> Rodolfo

From rodolfo.medina at gmail.com  Tue Jan 19 18:11:14 2016
From: rodolfo.medina at gmail.com (Rodolfo Medina)
Date: Tue, 19 Jan 2016 17:11:14 +0000
Subject: [texhax] Hyperlinks lost in pdf file
References: <87wpr5jz5p.fsf@gmail.com> <569E6C97.7090604@Rhul.Ac.Uk>
Message-ID: <87lh7ljxzh.fsf@gmail.com>

Philip Taylor <P.Taylor at Rhul.Ac.Uk> writes:

> I guess that to answer that one would need to know how you insert
> hyperlinks in the first place ...  Are you using a pre-existing package
> (e.g., e-plain), or a LaTeX style file, or did you roll your own, or what ?
>
> Philip Taylor


I'm using eplain definitions.

Thanks,

Rodolfo



> --------
> Rodolfo Medina wrote:
>> Hi all.
>> 
>> In order to have a pdf file: if I process my plain TeX file.tex with `pdftex
>> file', all the hyperlinks are correctly generated, whereas with:
>> 
>>  tex file
>>  dvips file
>>  ps2pdf file.ps
>> 
>> they are all lost.  Why does this happen, and how can I avoid it since I
>> need performing the tex -> dvips -> ps2pdf cycle instead of using pdftex?
>> 
>> Any help appreciated,
>> 
>> Rodolfo


From P.Taylor at Rhul.Ac.Uk  Tue Jan 19 18:38:35 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Tue, 19 Jan 2016 17:38:35 +0000
Subject: [texhax] Hyperlinks lost in pdf file
In-Reply-To: <87lh7ljxzh.fsf@gmail.com>
References: <87wpr5jz5p.fsf@gmail.com> <569E6C97.7090604@Rhul.Ac.Uk>
 <87lh7ljxzh.fsf@gmail.com>
Message-ID: <569E749B.6000408@Rhul.Ac.Uk>

This appears to work, Rudolfo, provided that one uses "dvips -z" as
recommended by Dan Luecking :

> \input eplain
> \enablehyperlinks
> 
> \def \bra #1{\hlstart {url}{}{#1.pdf}}
> \def \ket {\hlend}
> 
> A hyperlink \bra {http://philip-taylor.org/}XXX\ket
> \end

> E:\TeX\Source>tex untitled-17
> This is TeX, Version 3.14159265 (TeX Live 2014/W32TeX) (preloaded format=tex)
> (./untitled-17.tex (d:/TeX/Live/2014/texmf-dist/tex/eplain/eplain.tex)
> 
> Eplain: using `hypertex' hyperlink driver. [1] )
> Output written on untitled-17.dvi (1 page, 288 bytes).
> Transcript written on untitled-17.log.
> 
> E:\TeX\Source>dvips -z untitled-17
> This is dvips(k) 5.994 Copyright 2014 Radical Eye Software (www.radicaleye.com)
> ' TeX output 2016.01.19:1735' -> untitled-17.ps
> <d:/TeX/Live/2014/texmf-dist/dvips/base/tex.pro>
> <d:/TeX/Live/2014/texmf-dist/dvips/base/texps.pro>
> <d:/TeX/Live/2014/texmf-dist/dvips/base/special.pro>
> <d:/TeX/Live/2014/texmf-dist/dvips/base/hps.pro>.
> <d:/TeX/Live/2014/texmf-dist/fonts/type1/public/amsfonts/cm/cmr10.pfb>[1]
> <./head.tmp><./body.tmp>
> 
> E:\TeX\Source>ps2pdf untitled-17.ps %%% very annoying that one has to specify the extension %%%
> 
> E:\TeX\Source>untitled-17.pdf


Philip Taylor

From P.Taylor at Rhul.Ac.Uk  Tue Jan 19 18:51:45 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Tue, 19 Jan 2016 17:51:45 +0000
Subject: [texhax] Hyperlinks lost in pdf file
In-Reply-To: <569E749B.6000408@Rhul.Ac.Uk>
References: <87wpr5jz5p.fsf@gmail.com> <569E6C97.7090604@Rhul.Ac.Uk>
 <87lh7ljxzh.fsf@gmail.com> <569E749B.6000408@Rhul.Ac.Uk>
Message-ID: <569E77B1.4080403@Rhul.Ac.Uk>

Sorry, there was a typo (carried over from the file from which the test
file was derived); it did not affect the functionality but would
nonetheless have been a source of confusion :

> \input eplain
> \enablehyperlinks
>
> \def \bra #1{\hlstart {url}{}{#1.pdf}}
> \def \ket {\hlend}
>
> A hyperlink \bra {http://philip-taylor.org/}XXX\ket
> \end

Omit the ".pdf" at line 4 :

> \def \bra #1{\hlstart {url}{}{#1}}

PT.

From rodolfo.medina at gmail.com  Tue Jan 19 19:16:31 2016
From: rodolfo.medina at gmail.com (Rodolfo Medina)
Date: Tue, 19 Jan 2016 18:16:31 +0000
Subject: [texhax] [solved] Re: Hyperlinks lost in pdf file
References: <8360300c746647b38b927cc674056919@ex-mbx4a.uark.edu>
Message-ID: <87mvs11lkw.fsf@gmail.com>

"Daniel H. Luecking" <luecking at uark.edu> writes:

> Rodolfo Medina wrote
>
>>
>
>>In order to have a pdf file: if I process my plain TeX file.tex with `pdftex
>
>>file', all the hyperlinks are correctly generated, whereas with:
>
>>
>
>> tex file
>
>> dvips file
>
>> ps2pdf file.ps
>
>>
>
>>they are all lost. Why does this happen, and how can I avoid it since I need
>
>>performing the tex -> dvips -> ps2pdf cycle instead of using pdftex?
>
> What package or commands are you using in your tex file to create hyperlinks 
>
> in plain pdftex? Presumably, you need to modify those so that they use dvips 
>
> specials instead of pdftex specials.
>
> Can you post a short example?
>
> Also, you may need to use 
>
> dvips ?z file
>
> to put hyperlinks in the ps file where ps2pdf can see them.
>
> Good luck,
>
> Daniel H. Luecking
>
> Dept. of Mathematical Sciences
>
> University of Arkansas
>
> Fayetteville, AR, USA


Yes, with `dvips -z file' it seems to work.  Thanks indeed!

Now I want, also with `tex -> dips -z -> ps2pdf', that outline table of content
on the left side that I had with simply pdftex.  How can I do that?

Thanks again,

Rodolfo


From p.mcmullen at ucl.ac.uk  Tue Jan 19 16:33:28 2016
From: p.mcmullen at ucl.ac.uk (McMullen, Peter)
Date: Tue, 19 Jan 2016 15:33:28 +0000
Subject: [texhax] Problems with TeX Live
Message-ID: <201601192300.u0JN04lA031743@freefriends.org>

I am having problems with TeX Live, the first of more immediate concern
than the second.


1.  I cannot make `index' work properly.  It will (for instance) produce
a file `.bdx', but makeindex will not process it to give `.bnd'.
The only one that works is `.idx' to `.ind'.  I cannot see what (if
anything) I am doing wrong.  I can get round the problem by changing
`.bdx' to `.idx', processing by makeindex to `.ind' and then
changing back to `.bnd', but clearly this is not the way it should
be done in a multi-indexing program.


2.  I would like to use `epic' and `eepic'.  They seem to be in TeX
Live, but I cannot make them work.


Any assistance would be gratefully received.


Peter McMullen.

From d.p.carlisle at gmail.com  Wed Jan 20 00:51:02 2016
From: d.p.carlisle at gmail.com (David Carlisle)
Date: Tue, 19 Jan 2016 23:51:02 +0000
Subject: [texhax] Problems with TeX Live
In-Reply-To: <201601192300.u0JN04lA031743@freefriends.org>
References: <201601192300.u0JN04lA031743@freefriends.org>
Message-ID: <CAEW6iOhFZS0mcx12niG05ebpdGN8Ot0un1DLC7oYLK-3XSfbeg@mail.gmail.com>

On 19 January 2016 at 15:33, McMullen, Peter <p.mcmullen at ucl.ac.uk> wrote:

> I am having problems with TeX Live, the first of more immediate concern
> than the second.
>
>
> 1.  I cannot make `index' work properly.  It will (for instance) produce
> a file `.bdx', but makeindex will not process it to give `.bnd'.
>

you need to give an option such as

-o foo.zzz

then it will write to any filename you wish


> The only one that works is `.idx' to `.ind'.  I cannot see what (if
> anything) I am doing wrong.  I can get round the problem by changing
> `.bdx' to `.idx', processing by makeindex to `.ind' and then
> changing back to `.bnd', but clearly this is not the way it should
> be done in a multi-indexing program.
>
>
> 2.  I would like to use `epic' and `eepic'.  They seem to be in TeX
> Live, but I cannot make them work.
>

they should work (although are very rarely used these days:-)
if using with latex just \usepackage{eepic} then use the extended picture
mode commands
with latex then dvips

David



>
>
> Any assistance would be gratefully received.
>
>
> Peter McMullen.
> _______________________________________________
> TeX FAQ: http://www.tex.ac.uk/faq
> Mailing list archives: http://tug.org/pipermail/texhax/
> More links: http://tug.org/begin.html
>
> Automated subscription management: http://tug.org/mailman/listinfo/texhax
> Human mailing list managers: postmaster at tug.org
>



-- 
http://dpcarlisle.blogspot.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20160119/589060c6/attachment.html>

From rodolfo.medina at gmail.com  Wed Jan 20 15:57:42 2016
From: rodolfo.medina at gmail.com (Rodolfo Medina)
Date: Wed, 20 Jan 2016 14:57:42 +0000
Subject: [texhax] plain TeX: how to produce outlines in pdf format without
	using pdftex?
Message-ID: <87powwi9i1.fsf@gmail.com>

Hi to all (La)TeX users.

In plain TeX: up to now I've normally produced my pdf output using pdftex, but
now I need using the dvi -> ps -> pdf process instead.  I used to create
outlines with section names in a left side small window, in the pdf output,
using pdftex, with the \pdfdest and \pdfoutline commands, that do not work
processing the tex file with simply `tex'.  How can I create outlines, in my
pdf output, using dvi -> ps -> pdf rather than pdftex?

Thanks indeed for any help,

Rodolfo


From rdt at cs.queensu.ca  Wed Jan 20 16:21:35 2016
From: rdt at cs.queensu.ca (Bob Tennent)
Date: Wed, 20 Jan 2016 10:21:35 -0500
Subject: [texhax] plain TeX: how to produce outlines in pdf format
 without using pdftex?
In-Reply-To: <87powwi9i1.fsf@gmail.com>
References: <87powwi9i1.fsf@gmail.com>
Message-ID: <20160120152135.voKY8EFM7MLs%rdt@cs.queensu.ca>

 >|In plain TeX: up to now I've normally produced my pdf
 >|output using pdftex, but now I need using the dvi -> ps
 >|-> pdf process instead. I used to create outlines with
 >|section names in a left side small window, in the pdf
 >|output, using pdftex, with the \pdfdest and \pdfoutline
 >|commands, that do not work processing the tex file with
 >|simply `tex'. How can I create outlines, in my pdf
 >|output, using dvi -> ps -> pdf rather than pdftex?

Rodolfo: Why are you using plain TeX rather than LaTeX? To
see how to embed musical extracts in a LaTeX document, see
Section 24.1 of musixdoc.pdf.

Bob T.

From rodolfo.medina at gmail.com  Wed Jan 20 16:31:15 2016
From: rodolfo.medina at gmail.com (Rodolfo Medina)
Date: Wed, 20 Jan 2016 15:31:15 +0000
Subject: [texhax] plain TeX: how to produce outlines in pdf format
	without using pdftex?
References: <87powwi9i1.fsf@gmail.com>
 <20160120152135.voKY8EFM7MLs%rdt@cs.queensu.ca>
Message-ID: <87fuxsi7y4.fsf@gmail.com>

Bob Tennent <rdt at cs.queensu.ca> writes:

>  >|In plain TeX: up to now I've normally produced my pdf
>  >|output using pdftex, but now I need using the dvi -> ps
>  >|-> pdf process instead. I used to create outlines with
>  >|section names in a left side small window, in the pdf
>  >|output, using pdftex, with the \pdfdest and \pdfoutline
>  >|commands, that do not work processing the tex file with
>  >|simply `tex'. How can I create outlines, in my pdf
>  >|output, using dvi -> ps -> pdf rather than pdftex?
>
> Rodolfo: Why are you using plain TeX rather than LaTeX? To
> see how to embed musical extracts in a LaTeX document, see
> Section 24.1 of musixdoc.pdf.
>
> Bob T.



Bob, I'm an old plain TeX user by now.  All my macros, all my documents are in
plain TeX format, all I've learned with TeX is in plain TeX.  Believe me, I
couldn't do without it now...  and neither would I ever like to. :-)

Cheers,

Rodolfo


From frahasio at gmail.com  Sat Jan 23 22:21:14 2016
From: frahasio at gmail.com (Francis Bevan)
Date: Sat, 23 Jan 2016 21:21:14 +0000
Subject: [texhax] Install old version of TeX
In-Reply-To: <d93701d15614$3ec55730$bc500590$@gmail.com>
References: <d93701d15614$3ec55730$bc500590$@gmail.com>
Message-ID: <334D0DBB-6558-4BAD-AD6B-FC1515AA8B25@gmail.com>

Dear all,
 
I have recently been forced to replace my computer and reinstall TeXlive. I have been working on a large project for over a year using the gregorio chant notation package. I had googled and hacked my way to an ugly but reliable template which will not process on my new PC.
 
Rather than check through and rewrite all the hundreds of files I?ve done over the last year, I?m hoping it?s possible to install exactly the same version of everything I had before my computer crashed ? at least until I?ve finished this particular project! Thanks to the gregorio developers I now have the correct version of that package, but there are still things that are stopping my book from processing.
 
I found the 2014 downloader/installer on the historical archives page of the tug site but it gives an error because all the repositories are up to date with 2015 data. Is there a way to use the source files in the archived tar to reinstall the old version?
 
Yours hopefully,
Francis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20160123/2bbfbc06/attachment.html>

From P.Taylor at Rhul.Ac.Uk  Sat Jan 23 23:35:37 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 23 Jan 2016 22:35:37 +0000
Subject: [texhax] Install old version of TeX
In-Reply-To: <334D0DBB-6558-4BAD-AD6B-FC1515AA8B25@gmail.com>
References: <d93701d15614$3ec55730$bc500590$@gmail.com>
 <334D0DBB-6558-4BAD-AD6B-FC1515AA8B25@gmail.com>
Message-ID: <56A40039.3040800@Rhul.Ac.Uk>



Francis Bevan wrote:

> I found the 2014 downloader/installer on the historical archives page of
> the tug site but it gives an error because all the repositories are up
> to date with 2015 data. Is there a way to use the source files in the
> archived tar to reinstall the old version?

If you look here, Francis :

	ftp://tug.org/historic/systems/texlive/2014/

you will find an ISO file for the 2014 release.  Burn this to a DVD (or
use some utility that will allow you to mount ISO files) and you can
then install TeX Live 2014.  You will not be able to update it, of
course, but it may be better than nothing.  Whether there is an archive
of the 2014 release as of its final update, as opposed to its initial
release, I regret I do not know.

Philip Taylor

From frahasio at gmail.com  Sat Jan 23 23:37:14 2016
From: frahasio at gmail.com (Francis Bevan)
Date: Sat, 23 Jan 2016 22:37:14 -0000
Subject: [texhax] Install old version of TeX
In-Reply-To: <56A40039.3040800@Rhul.Ac.Uk>
References: <d93701d15614$3ec55730$bc500590$@gmail.com>
 <334D0DBB-6558-4BAD-AD6B-FC1515AA8B25@gmail.com>
 <56A40039.3040800@Rhul.Ac.Uk>
Message-ID: <d97f01d1562e$9bc26df0$d34749d0$@gmail.com>

Thanks Philip - I'll give it a go.
F

-----Original Message-----
From: Philip Taylor [mailto:P.Taylor at Rhul.Ac.Uk] 
Sent: 23 January 2016 22:36
To: Francis Bevan <frahasio at gmail.com>
Cc: <texhax at tug.org> <texhax at tug.org>
Subject: Re: [texhax] Install old version of TeX



Francis Bevan wrote:

> I found the 2014 downloader/installer on the historical archives page 
> of the tug site but it gives an error because all the repositories are 
> up to date with 2015 data. Is there a way to use the source files in 
> the archived tar to reinstall the old version?

If you look here, Francis :

	ftp://tug.org/historic/systems/texlive/2014/

you will find an ISO file for the 2014 release.  Burn this to a DVD (or use some utility that will allow you to mount ISO files) and you can then install TeX Live 2014.  You will not be able to update it, of course, but it may be better than nothing.  Whether there is an archive of the 2014 release as of its final update, as opposed to its initial release, I regret I do not know.

Philip Taylor



From P.Taylor at Rhul.Ac.Uk  Sat Jan 23 23:45:25 2016
From: P.Taylor at Rhul.Ac.Uk (Philip Taylor)
Date: Sat, 23 Jan 2016 22:45:25 +0000
Subject: [texhax] Install old version of TeX
In-Reply-To: <d97f01d1562e$9bc26df0$d34749d0$@gmail.com>
References: <d93701d15614$3ec55730$bc500590$@gmail.com>
 <334D0DBB-6558-4BAD-AD6B-FC1515AA8B25@gmail.com>
 <56A40039.3040800@Rhul.Ac.Uk> <d97f01d1562e$9bc26df0$d34749d0$@gmail.com>
Message-ID: <56A40285.5090202@Rhul.Ac.Uk>



Francis Bevan wrote:

> Thanks Philip - I'll give it a go.

Good luck !  Incidentally, I now see that there is a much later snapshot
at :

	ftp://tug.org/historic/systems/texlive/2014/tlnet-final/

You may be able to re-create the final 2014 "tlnet" locally and the
update from there ...

** P.

From reinhard.kotucha at web.de  Sun Jan 24 00:47:26 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 24 Jan 2016 00:47:26 +0100
Subject: [texhax] Install old version of TeX
In-Reply-To: <334D0DBB-6558-4BAD-AD6B-FC1515AA8B25@gmail.com>
References: <d93701d15614$3ec55730$bc500590$@gmail.com>
 <334D0DBB-6558-4BAD-AD6B-FC1515AA8B25@gmail.com>
Message-ID: <22180.4366.649942.10661@zaphod.ms25.net>

On 2016-01-23 at 21:21:14 +0000, Francis Bevan wrote:

 > Dear all,
 > 
 > I have recently been forced to replace my computer and reinstall
 > TeXlive. I have been working on a large project for over a year
 > using the gregorio chant notation package. I had googled and hacked
 > my way to an ugly but reliable template which will not process on
 > my new PC.

Dear Francis,
Phil already explained how to install an ancient Version of TeX Live.

In my opinion it's much better to use the latest TeX Live release and
contact the author(s) of the package which doesn't work for you as it
did in the past.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------

From frahasio at gmail.com  Sun Jan 24 00:59:53 2016
From: frahasio at gmail.com (Francis Bevan)
Date: Sat, 23 Jan 2016 23:59:53 -0000
Subject: [texhax] Install old version of TeX
In-Reply-To: <22180.4366.649942.10661@zaphod.ms25.net>
References: <d93701d15614$3ec55730$bc500590$@gmail.com>
 <334D0DBB-6558-4BAD-AD6B-FC1515AA8B25@gmail.com>
 <22180.4366.649942.10661@zaphod.ms25.net>
Message-ID: <d9a501d1563a$27945720$76bd0560$@gmail.com>

Indeed - had I understood better the capabilities of TeX when I began the
project I might have gone about it differently! As it is, the whole set up
is very hacked together and relies on many different packages as they were
at the point I first installed them. I'm nearing the end of the work now so
will be quicker to just carry on rather than try and tidy up my code.

F

-----Original Message-----
From: Reinhard Kotucha [mailto:reinhard.kotucha at web.de] 
Sent: 23 January 2016 23:47
To: Francis Bevan <frahasio at gmail.com>
Cc: <texhax at tug.org> <texhax at tug.org>
Subject: Re: [texhax] Install old version of TeX

On 2016-01-23 at 21:21:14 +0000, Francis Bevan wrote:

 > Dear all,
 >
 > I have recently been forced to replace my computer and reinstall  >
TeXlive. I have been working on a large project for over a year  > using the
gregorio chant notation package. I had googled and hacked  > my way to an
ugly but reliable template which will not process on  > my new PC.

Dear Francis,
Phil already explained how to install an ancient Version of TeX Live.

In my opinion it's much better to use the latest TeX Live release and
contact the author(s) of the package which doesn't work for you as it did in
the past.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From frahasio at gmail.com  Sun Jan 24 02:12:14 2016
From: frahasio at gmail.com (Francis Bevan)
Date: Sun, 24 Jan 2016 01:12:14 +0000
Subject: [texhax] Install old version of TeX
In-Reply-To: <22180.4366.649942.10661@zaphod.ms25.net>
References: <d93701d15614$3ec55730$bc500590$@gmail.com>
 <334D0DBB-6558-4BAD-AD6B-FC1515AA8B25@gmail.com>
 <22180.4366.649942.10661@zaphod.ms25.net>
Message-ID: <d9db01d15644$42bd6b90$c83842b0$@gmail.com>

Just checking in to say that everything is processing correctly. Thank
goodness for that!
Thanks for your help.

-----Original Message-----
From: Reinhard Kotucha [mailto:reinhard.kotucha at web.de] 
Sent: 23 January 2016 23:47
To: Francis Bevan <frahasio at gmail.com>
Cc: <texhax at tug.org> <texhax at tug.org>
Subject: Re: [texhax] Install old version of TeX

On 2016-01-23 at 21:21:14 +0000, Francis Bevan wrote:

 > Dear all,
 >
 > I have recently been forced to replace my computer and reinstall  >
TeXlive. I have been working on a large project for over a year  > using the
gregorio chant notation package. I had googled and hacked  > my way to an
ugly but reliable template which will not process on  > my new PC.

Dear Francis,
Phil already explained how to install an ancient Version of TeX Live.

In my opinion it's much better to use the latest TeX Live release and
contact the author(s) of the package which doesn't work for you as it did in
the past.

Regards,
  Reinhard

--
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From lyons.russell at gmail.com  Tue Jan 26 22:51:39 2016
From: lyons.russell at gmail.com (Russ Lyons)
Date: Tue, 26 Jan 2016 16:51:39 -0500
Subject: [texhax] Subject=Re: plain TeX: how to produce outlines in pdf
 format without using pdftex?
Message-ID: <CAPn8W0p2XZxHnkXZqM=GEmsJ8SyvGKMA6oGDTvxFkrwZ8pdsMg@mail.gmail.com>

?> In plain TeX: up to now I've normally produced my pdf output using
pdftex, but
> now I need using the dvi -> ps -> pdf process instead.  I used to create
> outlines with section names in a left side small window, in the pdf
output,
> using pdftex, with the \pdfdest and \pdfoutline commands, that do not work
> processing the tex file with simply `tex'.  How can I create outlines, in
my
> pdf output, using dvi -> ps -> pdf rather than pdftex?

If you don't need the PS, you can use dvipdfmx.

--Russ?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/texhax/attachments/20160126/3920295b/attachment.html>

From rodolfo.medina at gmail.com  Wed Jan 27 19:06:36 2016
From: rodolfo.medina at gmail.com (Rodolfo Medina)
Date: Wed, 27 Jan 2016 18:06:36 +0000
Subject: [texhax] Subject=Re: plain TeX: how to produce outlines in pdf
	format without using pdftex?
References: <CAPn8W0p2XZxHnkXZqM=GEmsJ8SyvGKMA6oGDTvxFkrwZ8pdsMg@mail.gmail.com>
Message-ID: <87bn865237.fsf@gmail.com>

Russ Lyons <lyons.russell at gmail.com> writes:

> ?> In plain TeX: up to now I've normally produced my pdf output using pdftex,
> but
>> now I need using the dvi -> ps -> pdf process instead. I used to create
>> outlines with section names in a left side small window, in the pdf output,
>> using pdftex, with the \pdfdest and \pdfoutline commands, that do not work
>> processing the tex file with simply `tex'. How can I create outlines, in my
>> pdf output, using dvi -> ps -> pdf rather than pdftex?
>
> If you don't need the PS, you can use dvipdfmx.
>
> --Russ?


Unfortunately, it's just this the case: I need using some postscript specials.
Thanks,

Rodolfo


From igor.liferenko at gmail.com  Wed Jan 27 23:52:52 2016
From: igor.liferenko at gmail.com (Igor Liferenko)
Date: Thu, 28 Jan 2016 05:52:52 +0700
Subject: [texhax] Question about cwebmac.tex
Message-ID: <CAJyx361afqYPvrUEjYevSM=ToMDZL1NPs3DZZnX8k15Lt9O9ng@mail.gmail.com>

Hi all,

Following are three occurrences of using \pdfoutline in cwebmac.tex

    \pdfoutline goto name {NOS} count -\secno {\outsecname}

    \pdfoutline goto num \the\toksA \expandafter{\the\toksE}}

    \pdfoutline goto num #3 count -\expnumber{chunk#2.#3} {#5}}}

Why \expandafter is used in the second case specifically (in
comparison with other cases)?

Regards,
Igor

From karl at huftis.org  Thu Jan 28 21:58:52 2016
From: karl at huftis.org (Karl Ove Hufthammer)
Date: Thu, 28 Jan 2016 21:58:52 +0100
Subject: [texhax] microtype: bad printing
References: <56926F43.8050008@gmx.de>
Message-ID: <4834346.JBnDkbXcdP@ID-99504.news.uni-berlin.de>

Arno Trautmann wrote:

> Long version: A fellow PhD just had his thesis printed, which he
> produced with pdfLaTeX using microtype. When he had the final pages in
> his hands, he found that some lines of text where kind of bold, but only
> on pages that contained color and not equally over the whole page, not
> even reproduceable over the several print-outs. (It got worse for the
> later prints, which is why he did not immediatly see it on the test
> print.) The lines looked like some kind of poor man's bold, i.e. the whole
> line seems to be shifted for each color. (Since it was a color page, the
> printer appareantly did not take just black, but combined the colors to
> get black). Since this happened only to a few lines per paragraph, I
> suggested that it might be connected to microtype and the printer not
> being able to handle the scaled fonts.

This does sound familiar. I have experienced the same thing with the printer 
at work (a Ricoh printer). A few observations:

This doesn?t happen only with PDF documents from LaTeX, but also with 
several other (but very few ? it?s not a common problem) PDF documents, 
created by other applications. (I have a few example documents if anybody?s 
interested.)

For many documents it happens only with lines containing the letters fi, ff 
or ffi. So I guess it?s related to ligatures, somehow.

The output for these lines (or *parts* of the lines) looks like an ugly, 
blurry bold.

IIRC, this only happens when printing the document in colour.

I do *not* think that it?s a bug in the actual PDF document. It is either a 
bug in the printer, in the printer drivers or in the application doing the 
printing (or in two or three of them).

This *only* happens when printing the document using Adobe Reader (on a 
Windows system). A workaround for me is printing it using (the very 
expensive) Adobe Acrobat software.

A *related* problem with blurry text happens when printing documents 
containing figures that uses transparency. Then Adobe Reader will use the 
?Print as image? feature (which produces a too low-DPI bitmap) automatically 
for any pages with transparency, resulting in low-quality output. But then 
the *entire page* will be (slightly) blurry, not just a few lines here and 
there.

-- 
Karl Ove Hufthammer
E-mail: karl at huftis.org
Jabber: huftis at jabber.no


From danielwu9999 at gmail.com  Thu Jan 28 00:15:28 2016
From: danielwu9999 at gmail.com (Tao Wu)
Date: Wed, 27 Jan 2016 18:15:28 -0500
Subject: [texhax] Latex file becomes blank after computer crash
Message-ID: <201601282210.u0SMAUEV009465@freefriends.org>

Hello,

I was working on a .tex file using TeXWorks and suddenly got a blue screen!
I restarted my computer and the file I was working with appears blank on
TeXWorks , although it is full of NULL characters. The size of it is 30 K
which makes me believe my work is still there but somehow hidden.

 Do you know any solution ? Appreciate your help.

Daniel

From reinhard.kotucha at web.de  Thu Jan 28 23:50:05 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Thu, 28 Jan 2016 23:50:05 +0100
Subject: [texhax] microtype: bad printing
In-Reply-To: <4834346.JBnDkbXcdP@ID-99504.news.uni-berlin.de>
References: <56926F43.8050008@gmx.de>
 <4834346.JBnDkbXcdP@ID-99504.news.uni-berlin.de>
Message-ID: <22186.39709.883124.469836@zaphod.ms25.net>

On 2016-01-28 at 21:58:52 +0100, Karl Ove Hufthammer wrote:

 > A *related* problem with blurry text happens when printing
 > documents containing figures that uses transparency. Then Adobe
 > Reader will use the ?Print as image? feature (which produces a too
 > low-DPI bitmap) automatically for any pages with transparency,
 > resulting in low-quality output. But then the *entire page* will be
 > (slightly) blurry, not just a few lines here and there.

I encountered the same problem about a decade ago when I used pgfplots
with transparency.  Not only the text tooked different on pages with
plots, also the color of the company logo was slightly different.

Martin Schr?der provided a solution which worked fine.  I only had to
add one line to the preamble but I don't remember anything and can't
find the old file.  The only thing I remember is that it injected
something into the PDF file, with \pdfliteral or something similar.

Maybe Martin remembers...

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From reinhard.kotucha at web.de  Fri Jan 29 01:27:48 2016
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 29 Jan 2016 01:27:48 +0100
Subject: [texhax] microtype: bad printing
In-Reply-To: <CALytN1tRo0tiKxLKRWH0S-PatqF9x0jkxm7V6=G5QJV2anMVCA@mail.gmail.com>
References: <56926F43.8050008@gmx.de>
 <4834346.JBnDkbXcdP@ID-99504.news.uni-berlin.de>
 <22186.39709.883124.469836@zaphod.ms25.net>
 <CALytN1tRo0tiKxLKRWH0S-PatqF9x0jkxm7V6=G5QJV2anMVCA@mail.gmail.com>
Message-ID: <22186.45572.740139.674616@zaphod.ms25.net>

On 2016-01-28 at 18:46:25 -0500, Th?r?se Bonin wrote:

 > Are you looking for this line?
 > 
 > \pdfpageattr{/Group <</S /Transparency /I true /CS /DeviceRGB>>}

Thank you Th?r?se.  Yes, it looks familiar.

Regards,
  Reinhard

-- 
------------------------------------------------------------------
Reinhard Kotucha                            Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                    mailto:reinhard.kotucha at web.de
------------------------------------------------------------------


From furrabi at gmail.com  Fri Jan 29 00:46:25 2016
From: furrabi at gmail.com (=?UTF-8?B?VGjDqXLDqHNlIEJvbmlu?=)
Date: Thu, 28 Jan 2016 18:46:25 -0500
Subject: [texhax] microtype: bad printing
In-Reply-To: <22186.39709.883124.469836@zaphod.ms25.net>
References: <56926F43.8050008@gmx.de>
 <4834346.JBnDkbXcdP@ID-99504.news.uni-berlin.de>
 <22186.39709.883124.469836@zaphod.ms25.net>
Message-ID: <CALytN1tRo0tiKxLKRWH0S-PatqF9x0jkxm7V6=G5QJV2anMVCA@mail.gmail.com>

Are you looking for this line?

\pdfpageattr{/Group <</S /Transparency /I true /CS /DeviceRGB>>}

2016-01-28 17:50 GMT-05:00 Reinhard Kotucha <reinhard.kotucha at web.de>:
> On 2016-01-28 at 21:58:52 +0100, Karl Ove Hufthammer wrote:
>
>  > A *related* problem with blurry text happens when printing
>  > documents containing figures that uses transparency. Then Adobe
>  > Reader will use the ?Print as image? feature (which produces a too
>  > low-DPI bitmap) automatically for any pages with transparency,
>  > resulting in low-quality output. But then the *entire page* will be
>  > (slightly) blurry, not just a few lines here and there.
>
> I encountered the same problem about a decade ago when I used pgfplots
> with transparency.  Not only the text tooked different on pages with
> plots, also the color of the company logo was slightly different.
>
> Martin Schr?der provided a solution which worked fine.  I only had to
> add one line to the preamble but I don't remember anything and can't
> find the old file.  The only thing I remember is that it injected
> something into the PDF file, with \pdfliteral or something similar.
>
> Maybe Martin remembers...
>
> Regards,
>   Reinhard


