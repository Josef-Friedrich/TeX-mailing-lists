From ms@artcom-gmbh.de  Fri Aug  1 10:05:54 2003
From: ms@artcom-gmbh.de (Martin Schroeder)
Date: Fri, 1 Aug 2003 11:05:54 +0200
Subject: [NTG-pdftex] Patch CreationDate
In-Reply-To: <20030731194516.GA1127@linux>
References: <20030730200811.GA4696@linux> <20030730222431.GA2329@lucien.kn-bremen.de> <20030731101141.GJ16501@artcom8.artcom-gmbh.de> <20030731105059.GK16501@artcom8.artcom-gmbh.de> <20030731123718.GB1068@linux.vpn.uni-freiburg.de> <20030731125652.GM16501@artcom8.artcom-gmbh.de> <20030731141115.GB1624@linux.vpn.uni-freiburg.de> <20030731150406.GN16501@artcom8.artcom-gmbh.de> <20030731165904.GR16501@artcom8.artcom-gmbh.de> <20030731194516.GA1127@linux>
Message-ID: <20030801090554.GS16501@artcom8.artcom-gmbh.de>

On 2003-07-31 21:45:16 +0200, Heiko Oberdiek wrote:
> I found the sources of exim here, where I found a similar method,
> but with checking of year and day. So I have attached a new patch.

Thanks. It has passed QA and I have found no glaring bugs -- so
it's in (#3513).

Best regards
        Martin
-- 
               Martin Schröder, MS@ArtCom-GmbH.DE
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10


From ms@artcom-gmbh.de  Fri Aug  1 15:54:49 2003
From: ms@artcom-gmbh.de (Martin Schroeder)
Date: Fri, 1 Aug 2003 16:54:49 +0200
Subject: [NTG-pdftex] reserveobjnum (was: release notes for pdfTeX 1.11a (draft))
In-Reply-To: <5.2.0.9.1.20030730170458.019887e0@server-1>
References: <20030730145816.GF16501@artcom8.artcom-gmbh.de> <5.2.0.9.1.20030730170458.019887e0@server-1>
Message-ID: <20030801145449.GW16501@artcom8.artcom-gmbh.de>

On 2003-07-30 18:56:42 +0200, Hans Hagen wrote:
> At 16:58 30/07/2003 +0200, Martin Schroeder wrote:
> 
> >- The syntax of \pdfobj has been extended:
> >  \pdfobj <object type spec>                              (h, v, m)
> >  <object type spec> --> reserveobjnum
> >                       | [useobjnum <number>] [<attr spec>] [stream 
> >[<attr spec>]] <object contents>
> >  <object contents> --> <file spec>
> >                      | <general text>
> >  When the optional keyword `reserveobjnum' and `useobjnum' is not given,
> >  the behaviour is unchanged.
> 
> what is <number> in reserveobj, any number? how is the user supposed to 
> know which numbers are free?
> 
> \pdfobj reserveobjnum 123 {}
> \pdfobj useobjnum     123 {}
> 
> do both flush content? what if 123 is already taken?

That's wrong; it must be
        \pdfobj reserveobjnum {}
        \pdfobj useobjnum \pdflastobj {}

See also
http://tug.org/mailman/htdig/pdftex/2003-March/003814.html

<blockquote src=pdftex.ch>
@ The \.{\\pdfobj} primitive is to create a ``raw'' object in PDF
  output file. The object contents will be hold in memory and will be written
  out only when the object je referenced by \.{\\pdfrefobj}. When \.{\\pdfobj}
  is used with \.{\\immediate}, the object contents will be written out
  immediately. Object referenced in current page are appended into
  |pdf_obj_list|.
</blockquote>

Best regards
        Martin
-- 
               Martin Schröder, MS@ArtCom-GmbH.DE
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10


From pragma@wxs.nl  Sat Aug  2 22:30:00 2003
From: pragma@wxs.nl (Hans Hagen)
Date: Sat, 02 Aug 2003 23:30:00 +0200
Subject: [NTG-pdftex] time
In-Reply-To: <20030731195210.GA2166@linux>
References: <20030731194516.GA1127@linux>
 <20030730200811.GA4696@linux>
 <20030730222431.GA2329@lucien.kn-bremen.de>
 <20030731101141.GJ16501@artcom8.artcom-gmbh.de>
 <20030731105059.GK16501@artcom8.artcom-gmbh.de>
 <20030731123718.GB1068@linux.vpn.uni-freiburg.de>
 <20030731125652.GM16501@artcom8.artcom-gmbh.de>
 <20030731141115.GB1624@linux.vpn.uni-freiburg.de>
 <20030731150406.GN16501@artcom8.artcom-gmbh.de>
 <20030731165904.GR16501@artcom8.artcom-gmbh.de>
 <20030731194516.GA1127@linux>
Message-ID: <5.2.0.9.1.20030802232757.0219dc38@localhost>

Hi,

since we're patching some time thingies, how about:

\pdfhours
\pdfminutes
\pdfseconds
\pdfmilliseconds

currently the \time has a one minute precission, which in these days of 
fast machines is too low a resolution

Hans
-------------------------------------------------------------------------
                                   Hans Hagen | PRAGMA ADE | pragma@wxs.nl
                       Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
  tel: +31 (0)38 477 53 69 | fax: +31 (0)38 477 53 74 | www.pragma-ade.com
-------------------------------------------------------------------------
                        information: http://www.pragma-ade.com/roadmap.pdf
                     documentation: http://www.pragma-ade.com/showcase.pdf
-------------------------------------------------------------------------


From ms@artcom-gmbh.de  Mon Aug  4 08:53:24 2003
From: ms@artcom-gmbh.de (Martin Schroeder)
Date: Mon, 4 Aug 2003 09:53:24 +0200
Subject: [NTG-pdftex] time
In-Reply-To: <5.2.0.9.1.20030802232757.0219dc38@localhost>
References: <20030730222431.GA2329@lucien.kn-bremen.de> <20030731101141.GJ16501@artcom8.artcom-gmbh.de> <20030731105059.GK16501@artcom8.artcom-gmbh.de> <20030731123718.GB1068@linux.vpn.uni-freiburg.de> <20030731125652.GM16501@artcom8.artcom-gmbh.de> <20030731141115.GB1624@linux.vpn.uni-freiburg.de> <20030731150406.GN16501@artcom8.artcom-gmbh.de> <20030731165904.GR16501@artcom8.artcom-gmbh.de> <20030731194516.GA1127@linux> <5.2.0.9.1.20030802232757.0219dc38@localhost>
Message-ID: <20030804075324.GZ16501@artcom8.artcom-gmbh.de>

On 2003-08-02 23:30:00 +0200, Hans Hagen wrote:
> since we're patching some time thingies, how about:
> 
> \pdfhours
> \pdfminutes
> \pdfseconds
> \pdfmilliseconds
> 
> currently the \time has a one minute precission, which in these days of 
> fast machines is too low a resolution

Nice to have, but in the next version. 1.11a is _finished_. :-)

This also falls into the category of non-pdf extensions, which
would best be done with eTeX. If eTeX would evolve, that is. :-(

Best regards
        Martin
-- 
               Martin Schröder, MS@ArtCom-GmbH.DE
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10


From ms@artcom-gmbh.de  Mon Aug  4 09:48:18 2003
From: ms@artcom-gmbh.de (Martin Schroeder)
Date: Mon, 4 Aug 2003 10:48:18 +0200
Subject: [NTG-pdftex] pdftexbin
Message-ID: <20030804084818.GB16501@artcom8.artcom-gmbh.de>

pdftexdir/pdftex.mk has these lines:
<blockquote>
# pdftex binaries archive
pdftexbin:
        rm -f pdtex*.zip $(pdftex_bin)
        XLDFLAGS=-static $(MAKE) $(pdftex_bin)
        if test "x$(CC)" = "xdos-gcc"; then \
            $(MAKE) pdftexbin-djgpp; \
        elif test "x$(CC)" = "xi386-mingw32-gcc"; then \
            $(MAKE) pdftexbin-mingw32; \
        elif test "x$(CC)" = "xgnuwin32gcc"; then \
            $(MAKE) pdftexbin-gnuwin32; \
        else \
            $(MAKE) pdftexbin-native; \
        fi

pdftexbin-native:
        strip $(pdftex_bin)
        zip pdftex-native-`datestr`.zip $(pdftex_bin) $(pdftex_pool)

pdftexbin-djgpp:
        dos-strip $(pdftex_bin)
        dos-stubify $(pdftex_bin)
        zip pdftex-djgpp-`datestr`.zip $(pdftex_exe) $(pdftex_pool)

pdftexbin-mingw32:
        i386-mingw32-strip $(pdftex_bin)
        for f in $(pdftex_bin); do mv $$f $$f.exe; done
        zip pdftex-mingw32-`datestr`.zip $(pdftex_exe) $(pdftex_pool)

pdftexbin-gnuwin32:
        gnuwin32strip $(pdftex_bin)
        for f in $(pdftex_bin); do mv $$f $$f.exe; done
        zip pdftex-gnuwin32-`datestr`.zip $(pdftex_exe) $(pdftex_pool)
</blockquote>

It's clear what these lines should do, but unfortunately they currently
don't work:
- the binaries made are _very_ static: they don't work. We make static
  linux binaries by setting LDFLAGS=-static before configure...
- datestr is undefined.
- I can't test non-native plattforms, so I don't know if they still work

Can this be fixed or should the targets go?

Best regards
        Martin
-- 
               Martin Schröder, MS@ArtCom-GmbH.DE
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10


From The Thanh Han <hanthethanh@myrealbox.com>  Tue Aug  5 01:04:18 2003
From: The Thanh Han <hanthethanh@myrealbox.com> (The Thanh Han)
Date: Tue, 5 Aug 2003 07:04:18 +0700
Subject: [NTG-pdftex] pdftexbin
In-Reply-To: <20030804084818.GB16501@artcom8.artcom-gmbh.de>
References: <20030804084818.GB16501@artcom8.artcom-gmbh.de>
Message-ID: <20030805000418.GA854@pc1-debian>

On Mon, Aug 04, 2003 at 10:48:18AM +0200, Martin Schroeder wrote:
> pdftexdir/pdftex.mk has these lines:
> <blockquote>
> # pdftex binaries archive
> ...
> </blockquote>
> 
> It's clear what these lines should do, but unfortunately they currently
> don't work:
> - the binaries made are _very_ static: they don't work. We make static
>   linux binaries by setting LDFLAGS=-static before configure...
> - datestr is undefined.
> - I can't test non-native plattforms, so I don't know if they still work
> 
> Can this be fixed or should the targets go?

I see no problem to leave these out.

Thanh

From The Thanh Han <hanthethanh@myrealbox.com>  Tue Aug  5 01:04:18 2003
From: The Thanh Han <hanthethanh@myrealbox.com> (The Thanh Han)
Date: Tue, 5 Aug 2003 07:04:18 +0700
Subject: [NTG-pdftex] pdftexbin
In-Reply-To: <20030804084818.GB16501@artcom8.artcom-gmbh.de>
References: <20030804084818.GB16501@artcom8.artcom-gmbh.de>
Message-ID: <20030805000418.GA854@pc1-debian>

On Mon, Aug 04, 2003 at 10:48:18AM +0200, Martin Schroeder wrote:
> pdftexdir/pdftex.mk has these lines:
> <blockquote>
> # pdftex binaries archive
> ...
> </blockquote>
> 
> It's clear what these lines should do, but unfortunately they currently
> don't work:
> - the binaries made are _very_ static: they don't work. We make static
>   linux binaries by setting LDFLAGS=-static before configure...
> - datestr is undefined.
> - I can't test non-native plattforms, so I don't know if they still work
> 
> Can this be fixed or should the targets go?

I see no problem to leave these out.

Thanh

From ms@artcom-gmbh.de  Tue Aug  5 10:10:59 2003
From: ms@artcom-gmbh.de (Martin Schroeder)
Date: Tue, 5 Aug 2003 11:10:59 +0200
Subject: [NTG-pdftex] Re: Problem with latest pdfTeX 1.11a release?
In-Reply-To: <6BE20796-C717-11D7-ABFB-0003930AD8A4@rna.nl>
References: <6BE20796-C717-11D7-ABFB-0003930AD8A4@rna.nl>
Message-ID: <20030805091059.GL16501@artcom8.artcom-gmbh.de>

On 2003-08-05 09:35:43 +0200, Gerben Wierda wrote:
> Problem
> 
> >running `pdfetex -ini   -jobname=pdfxmltex -progname=pdfxmltex 
> >&pdflatex pdfxmltex.ini' ...
> >This is pdfeTeX, Version 3.141592-1.11a-2.1 (Web2C 7.5.2) (INITEX)
> >entering extended mode
> >(/usr/local/teTeX/share/texmf.local/tex/xmltex/config/pdfxmltex.ini
> >Error: pdfetex (file pdftex.cfg): cannot open config file
> > ==> Fatal error occurred, the output PDF file is not finished!
> 
> Compare with a recent source.development binaries (everything else is 
> the same)
> 
> >running `pdfetex -ini   -jobname=pdfxmltex -progname=pdfxmltex 
> >&pdflatex pdfxmltex.ini' ...
> >This is pdfeTeX, Version 3.141592-1.11a-beta-20030718-2.1 (Web2C 
> >7.5.2) (INITEX)
> >entering extended mode
> >(/usr/local/teTeX/share/texmf.local/tex/xmltex/config/pdfxmltex.ini
> >LaTeX2e <2001/06/01>
> >Babel <v3.7h> and hyphenation patterns for american, british, french, 
> >german, n
> >german, dutch, nohyphenation, loaded.
> >(/usr/local/teTeX/share/texmf.local/tex/xmltex/base/xmltex.tex
> >xmltex version: 2002/06/25 v1.9 (Exp)
> 
> Looks like a possible problem in pdftex to me. Ordinary TeX ini works 
> well in both cases.

Looks like a case of
http://tug.org/pipermail/tex-live/2003-August/003974.html

Best regards
        Martin
-- 
               Martin Schröder, MS@ArtCom-GmbH.DE
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10


From hartmut_henkel@gmx.de  Tue Aug  5 23:50:33 2003
From: hartmut_henkel@gmx.de (Hartmut Henkel)
Date: Wed, 6 Aug 2003 00:50:33 +0200 (CEST)
Subject: [NTG-pdftex] Re: Problem with latest pdfTeX 1.11a release?
In-Reply-To: <20030805091059.GL16501@artcom8.artcom-gmbh.de>
References: <6BE20796-C717-11D7-ABFB-0003930AD8A4@rna.nl>
 <20030805091059.GL16501@artcom8.artcom-gmbh.de>
Message-ID: <Pine.LNX.4.55.0308060045160.1881@hahepc1.hahe>

On Tue, 5 Aug 2003, Martin Schroeder wrote:

> On 2003-08-05 09:35:43 +0200, Gerben Wierda wrote:
> > Problem
> >
> > >running `pdfetex -ini   -jobname=pdfxmltex -progname=pdfxmltex
> > >&pdflatex pdfxmltex.ini' ...
> > >Error: pdfetex (file pdftex.cfg): cannot open config file
> > > ==> Fatal error occurred, the output PDF file is not finished!
>
> Looks like a case of
> http://tug.org/pipermail/tex-live/2003-August/003974.html

Now that all the pdf* -ini versions want to read pdftex.cfg, they
require also an entry line in texmf.cfg to find it, e. g.:

TEXINPUTS.pdfinitex   = .;$TEXMF/{pdftex,tex}/{plain,generic,}//

for pdftex -ini. Maybe in the case above it's more something like

TEXINPUTS.pdfxmltex = ...

Greetings Hartmut


------------------------------------------------------------------------
Hartmut Henkel, Oftersheim, Germany
------------------------------------------------------------------------

From ms@artcom-gmbh.de  Wed Aug  6 10:47:27 2003
From: ms@artcom-gmbh.de (Martin Schroeder)
Date: Wed, 6 Aug 2003 11:47:27 +0200
Subject: [NTG-pdftex] freshmeat
Message-ID: <20030806094727.GU16501@artcom8.artcom-gmbh.de>

Hi,
I've submitted a project description of pdfTeX to freshmeat
(http://freshmeat.net/) as http://freshmeat.net/projects/pdftex/ 
Will keep you informed.

Best regards
        Martin
-- 
               Martin Schröder, MS@ArtCom-GmbH.DE
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10


From ms@artcom-gmbh.de  Wed Aug  6 15:07:25 2003
From: ms@artcom-gmbh.de (Martin Schroeder)
Date: Wed, 6 Aug 2003 16:07:25 +0200
Subject: [NTG-pdftex] freshmeat
In-Reply-To: <20030806094727.GU16501@artcom8.artcom-gmbh.de>
References: <20030806094727.GU16501@artcom8.artcom-gmbh.de>
Message-ID: <20030806140725.GV16501@artcom8.artcom-gmbh.de>

On 2003-08-06 11:47:27 +0200, Martin Schröder wrote:
> Will keep you informed.

Everything has been accepted and we are on the frontpage. :-)

Best regards
        Martin
-- 
               Martin Schröder, MS@ArtCom-GmbH.DE
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10


From hartmut_henkel@gmx.de  Wed Aug  6 22:11:19 2003
From: hartmut_henkel@gmx.de (Hartmut Henkel)
Date: Wed, 6 Aug 2003 23:11:19 +0200 (CEST)
Subject: [NTG-pdftex] Re: Problem with latest pdfTeX 1.11a release?
In-Reply-To: <Pine.LNX.4.55.0308060045160.1881@hahepc1.hahe>
References: <6BE20796-C717-11D7-ABFB-0003930AD8A4@rna.nl>
 <20030805091059.GL16501@artcom8.artcom-gmbh.de> <Pine.LNX.4.55.0308060045160.1881@hahepc1.hahe>
Message-ID: <Pine.LNX.4.55.0308062249390.27766@hahepc1.hahe>

On Wed, 6 Aug 2003, i wrote:

> Now that all the pdf* -ini versions want to read pdftex.cfg, they
> require also an entry line in texmf.cfg to find it, e. g.:
>
> TEXINPUTS.pdfinitex   = .;$TEXMF/{pdftex,tex}/{plain,generic,}//
>
> for pdftex -ini.

This is a little bit different, sorry: Which line from texmf.cfg is
used, depends on the variable kpse_program_name, which is set right
after program start.

Call                       kpse_program_name
--------------------------------------------
pdftex                     pdftex
pdftex -ini                pdftex
pdfinitex                  pdfinitex
pdftex -progname=pdfinitex pdfinitex

So pdftex -ini interprets TEXINPUTS.pdftex, whereas pdfinitex wants a
line TEXINPUTS.pdfinitex. This differs from to the non-pdf tex versions,
where tex and initex both look into the same line, TEXINPUTS.tex.

Now one could...

* strip the ini part from kpse_program_name, so that all pdftex and
pdfinitex look to the same line in texmf.cnf (as with tex/initex), it
would still be the ini version due to the iniversion variable; or

* expand program names pdf*tex in the -ini case to pdf*initex, then
pdftex -ini and pdfinitex would behave the same. But extra entry lines
in texmf.cnf would be required; or

* leave as is and be happy with additional texmf.cnf entries, which
should then be identical for pdftex and pdfinitex, to avoid surprises.

Greetings Hartmut


------------------------------------------------------------------------
Hartmut Henkel Oftersheim, Germany
------------------------------------------------------------------------

From ms@artcom-gmbh.de  Wed Aug  6 23:28:29 2003
From: ms@artcom-gmbh.de (Martin Schroeder)
Date: Thu, 7 Aug 2003 00:28:29 +0200
Subject: [NTG-pdftex] Re: Problem with latest pdfTeX 1.11a release?
In-Reply-To: <Pine.LNX.4.55.0308062249390.27766@hahepc1.hahe>
References: <6BE20796-C717-11D7-ABFB-0003930AD8A4@rna.nl> <20030805091059.GL16501@artcom8.artcom-gmbh.de> <Pine.LNX.4.55.0308060045160.1881@hahepc1.hahe> <Pine.LNX.4.55.0308062249390.27766@hahepc1.hahe>
Message-ID: <20030806222829.GA2800@lucien.kn-bremen.de>

On 2003-08-06 23:11:19 +0200, Hartmut Henkel wrote:
> So pdftex -ini interprets TEXINPUTS.pdftex, whereas pdfinitex wants a
> line TEXINPUTS.pdfinitex. This differs from to the non-pdf tex versions,
> where tex and initex both look into the same line, TEXINPUTS.tex.

Why? Just because pdfTeX reads a config file and TeX doesn't?

[...]

> * leave as is and be happy with additional texmf.cnf entries, which
> should then be identical for pdftex and pdfinitex, to avoid surprises.

I favour this. :-)

Of course this needs to be documented somewhere...

Best regards
    Martin
-- 
               Martin Schröder, MS@ArtCom-GmbH.DE
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10

From ms@artcom-gmbh.de  Thu Aug  7 15:41:14 2003
From: ms@artcom-gmbh.de (Martin Schroeder)
Date: Thu, 7 Aug 2003 16:41:14 +0200
Subject: [NTG-pdftex] Re: Problem with latest pdfTeX 1.11a release?
In-Reply-To: <20030806222829.GA2800@lucien.kn-bremen.de>
References: <6BE20796-C717-11D7-ABFB-0003930AD8A4@rna.nl> <20030805091059.GL16501@artcom8.artcom-gmbh.de> <Pine.LNX.4.55.0308060045160.1881@hahepc1.hahe> <Pine.LNX.4.55.0308062249390.27766@hahepc1.hahe> <20030806222829.GA2800@lucien.kn-bremen.de>
Message-ID: <20030807144114.GD16501@artcom8.artcom-gmbh.de>

On 2003-08-07 00:28:29 +0200, Martin Schröder wrote:
> On 2003-08-06 23:11:19 +0200, Hartmut Henkel wrote:
> > * leave as is and be happy with additional texmf.cnf entries, which
> > should then be identical for pdftex and pdfinitex, to avoid surprises.
> 
> I favour this. :-)

Whatever happens has to be decided by the distribution
maintainers. 

Thomas, Olaf, Fabrice, Sebastian -- what's your decision?

Best regards
        Martin
-- 
               Martin Schröder, MS@ArtCom-GmbH.DE
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10


From te@dbs.uni-hannover.de  Thu Aug  7 17:55:52 2003
From: te@dbs.uni-hannover.de (Thomas Esser)
Date: Thu, 7 Aug 2003 18:55:52 +0200
Subject: [NTG-pdftex] Re: Problem with latest pdfTeX 1.11a release?
In-Reply-To: <20030807144114.GD16501@artcom8.artcom-gmbh.de>
References: <6BE20796-C717-11D7-ABFB-0003930AD8A4@rna.nl> <20030805091059.GL16501@artcom8.artcom-gmbh.de> <Pine.LNX.4.55.0308060045160.1881@hahepc1.hahe> <Pine.LNX.4.55.0308062249390.27766@hahepc1.hahe> <20030806222829.GA2800@lucien.kn-bremen.de> <20030807144114.GD16501@artcom8.artcom-gmbh.de>
Message-ID: <20030807165552.GC18583@dbs.uni-hannover.de>

> Whatever happens has to be decided by the distribution
> maintainers. 
> 
> Thomas, Olaf, Fabrice, Sebastian -- what's your decision?

I'd prefer a solution wich is better than n*m entries in texmf.cnf (n =
number of formats, m = number of tex engines).

Solution a)

  (does not really solve the n*m problem, but provides a good
  default-TEXINPUTS and has other advantages):

  ENGINE variable, set by each engine, but with different values (not
  depending on progname, but on the real engine). It could have the
  following values (examples):

      engine       $ENGINE
      ==============================
      pdfetex      {pdftex,etex,tex}
      etex         {etex,tex}
      eomega       {omega,etex,tex}

  If every engine defines that $ENGINE, than we could have e.g.
    TEXINPUTS = .;$TEXMF/$ENGINE/{generic,}//
    TEXINPUTS.latex = .;$TEXMF/$ENGINE/{latex,generic,}//

  This solution also takes care of "behind the scene" changes, e.g.
  if latex switches from tex to etex as engine. 

Solution b)
  Drop all texmf/pdftex, texmf/pdfetex, texmf/omega, ... things in
  favor of texmf/tex. History has shown that most macro packages
  which are not written for "tex", but for some other engine
  already detect the engine. There are only very few conflicts
  between these trees, one is e.g. webmac.tex, but that can easily
  be fixed by replacing tex/plain/base/webmac.tex with a wrapper
  which first detects the engine and then ready either the "real"
  webmac.tex or pdfwebmac.tex.

b) should be discussed on the TDS list if other people share my opinion.
BTW: my favorite solution is b).

Thomas

From hartmut_henkel@gmx.de  Thu Aug  7 21:15:01 2003
From: hartmut_henkel@gmx.de (Hartmut Henkel)
Date: Thu, 7 Aug 2003 22:15:01 +0200 (CEST)
Subject: [NTG-pdftex] Re: Problem with latest pdfTeX 1.11a release?
In-Reply-To: <Pine.LNX.4.55.0308062249390.27766@hahepc1.hahe>
References: <6BE20796-C717-11D7-ABFB-0003930AD8A4@rna.nl>
 <20030805091059.GL16501@artcom8.artcom-gmbh.de> <Pine.LNX.4.55.0308060045160.1881@hahepc1.hahe>
 <Pine.LNX.4.55.0308062249390.27766@hahepc1.hahe>
Message-ID: <Pine.LNX.4.55.0308072125310.30522@hahepc1.hahe>

On Wed, 6 Aug 2003, i wrote:

> where tex and initex both look into the same line, TEXINPUTS.tex.

...which is again wrong :-( Slowly getting it, sorry. Hope this is now
right: In the teTeX distributed texmf.cnf file, the parsing is as
follows:

* tex reads line TEXINPUTS.tex.
* tex -ini reads line TEXINPUTS.tex.
* initex doesn't find a match and reads the catch-all (!), TEXINPUTS,
which is fine for initex.
* pdftex reads line TEXINPUTS.pdftex.
* pdftex -ini reads line TEXINPUTS.pdftex.
* pdfinitex finds no direct match, so it tries the last resort
TEXINPUTS, where it doesn't find pdf-related entries. Same with
pdfeinitex and mptodf, which runs on pdfetex.

One can try to see what happens if one simply sets the last TEXINPUTS =
"" and comments out most or all of the TEXINPUTS.* lines.

So there is less magic than i guessed. Then the simplest solution might
be to add lines with TEXINPUTS.pdfinitex, .pdfeinitex, and even .initex,
to give initex a real target line other than the catch-all. And a line
.mptopdf (similar to .pdfetex) would be needed.

Greetings Hartmut


------------------------------------------------------------------------
Hartmut Henkel, Oftersheim, Germany
------------------------------------------------------------------------

From The Thanh Han <hanthethanh@myrealbox.com>  Fri Aug  8 01:35:38 2003
From: The Thanh Han <hanthethanh@myrealbox.com> (The Thanh Han)
Date: Fri, 8 Aug 2003 07:35:38 +0700
Subject: [NTG-pdftex] Re: Problem with latest pdfTeX 1.11a release?
In-Reply-To: <20030807165552.GC18583@dbs.uni-hannover.de>
References: <6BE20796-C717-11D7-ABFB-0003930AD8A4@rna.nl> <20030805091059.GL16501@artcom8.artcom-gmbh.de> <Pine.LNX.4.55.0308060045160.1881@hahepc1.hahe> <Pine.LNX.4.55.0308062249390.27766@hahepc1.hahe> <20030806222829.GA2800@lucien.kn-bremen.de> <20030807144114.GD16501@artcom8.artcom-gmbh.de> <20030807165552.GC18583@dbs.uni-hannover.de>
Message-ID: <20030808003538.GB700@pc1-debian>

> ...
> Solution b)
>   Drop all texmf/pdftex, texmf/pdfetex, texmf/omega, ... things in
>   favor of texmf/tex. History has shown that most macro packages
>   which are not written for "tex", but for some other engine
>   already detect the engine. There are only very few conflicts
>   between these trees, one is e.g. webmac.tex, but that can easily
>   be fixed by replacing tex/plain/base/webmac.tex with a wrapper
>   which first detects the engine and then ready either the "real"
>   webmac.tex or pdfwebmac.tex.
> 
> b) should be discussed on the TDS list if other people share my opinion.
> BTW: my favorite solution is b).

so is mine

Thanh

From staw@gust.org.pl  Fri Aug  8 07:26:18 2003
From: staw@gust.org.pl (Staszek Wawrykiewicz)
Date: Fri, 8 Aug 2003 08:26:18 +0200 (CEST)
Subject: [NTG-pdftex] Re: Problem with latest pdfTeX 1.11a release?
In-Reply-To: <20030807165552.GC18583@dbs.uni-hannover.de>
Message-ID: <Pine.LNX.4.44.0308080811080.12097-100000@re86.internetdsl.tpnet.pl>

On Thu, 7 Aug 2003, Thomas Esser wrote:

> I'd prefer a solution wich is better than n*m entries in texmf.cnf (n =
> number of formats, m = number of tex engines).
> 
> Solution a)
> 
>   (does not really solve the n*m problem, but provides a good
>   default-TEXINPUTS and has other advantages):
> 
>   ENGINE variable, set by each engine, but with different values (not
>   depending on progname, but on the real engine). It could have the
>   following values (examples):
> 
>       engine       $ENGINE
>       ==============================
>       pdfetex      {pdftex,etex,tex}
>       etex         {etex,tex}
>       eomega       {omega,etex,tex}
> 
>   If every engine defines that $ENGINE, than we could have e.g.
>     TEXINPUTS = .;$TEXMF/$ENGINE/{generic,}//
>     TEXINPUTS.latex = .;$TEXMF/$ENGINE/{latex,generic,}//
> 
>   This solution also takes care of "behind the scene" changes, e.g.
>   if latex switches from tex to etex as engine. 
> 
> Solution b)
>   Drop all texmf/pdftex, texmf/pdfetex, texmf/omega, ... things in
>   favor of texmf/tex. History has shown that most macro packages
>   which are not written for "tex", but for some other engine
>   already detect the engine. There are only very few conflicts
>   between these trees, one is e.g. webmac.tex, but that can easily
>   be fixed by replacing tex/plain/base/webmac.tex with a wrapper
>   which first detects the engine and then ready either the "real"
>   webmac.tex or pdfwebmac.tex.
> 
> b) should be discussed on the TDS list if other people share my opinion.
> BTW: my favorite solution is b).
> 
> Thomas

Great idea! I'd vote for b) and suggest it for TL 2003

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl



From pragma@wxs.nl  Fri Aug  8 08:21:53 2003
From: pragma@wxs.nl (Hans Hagen)
Date: Fri, 08 Aug 2003 09:21:53 +0200
Subject: [NTG-pdftex] Re: Problem with latest pdfTeX 1.11a release?
Message-ID: <5.2.0.9.1.20030808091736.02a81fb0@server-1.pragma-net.nl>

At 08:26 08/08/2003 +0200, Staszek Wawrykiewicz wrote:
>On Thu, 7 Aug 2003, Thomas Esser wrote:
>
> > I'd prefer a solution wich is better than n*m entries in texmf.cnf (n =
> > number of formats, m = number of tex engines).
> >
> > Solution a)
> >
> >   (does not really solve the n*m problem, but provides a good
> >   default-TEXINPUTS and has other advantages):
> >
> >   ENGINE variable, set by each engine, but with different values (not
> >   depending on progname, but on the real engine). It could have the
> >   following values (examples):
> >
> >       engine       $ENGINE
> >       ==============================
> >       pdfetex      {pdftex,etex,tex}
> >       etex         {etex,tex}
> >       eomega       {omega,etex,tex}
> >
> >   If every engine defines that $ENGINE, than we could have e.g.
> >     TEXINPUTS = .;$TEXMF/$ENGINE/{generic,}//
> >     TEXINPUTS.latex = .;$TEXMF/$ENGINE/{latex,generic,}//
> >
> >   This solution also takes care of "behind the scene" changes, e.g.
> >   if latex switches from tex to etex as engine.
> >
> > Solution b)
> >   Drop all texmf/pdftex, texmf/pdfetex, texmf/omega, ... things in
> >   favor of texmf/tex. History has shown that most macro packages
> >   which are not written for "tex", but for some other engine
> >   already detect the engine. There are only very few conflicts
> >   between these trees, one is e.g. webmac.tex, but that can easily
> >   be fixed by replacing tex/plain/base/webmac.tex with a wrapper
> >   which first detects the engine and then ready either the "real"
> >   webmac.tex or pdfwebmac.tex.
> >
> > b) should be discussed on the TDS list if other people share my opinion.
> > BTW: my favorite solution is b).
> >
> > Thomas
>
>Great idea! I'd vote for b) and suggest it for TL 2003

sounds ok to me, but why not also implement $ENGINE as variable to be set 
by the engine (one never knows when this will come in handy)

another related problem:

-  pdftex differs from dvips which is why the texmf/pdftex path cannot go
-  pdftex.cfg is now common for all macropackages, while i would like a 
package dependent one

with regards to the cfg file: context has one format that deals with dvi 
and pdf output; therefore i don't like the idea that pdf output is 
hardcoded in the cfg file; (ok, i can handle it at the macro level)

since pdftex is 100% dvi compatible, why is there still latex/pdflatex, 
tex/pdftex, etc ; we could have much less formats (and generation) when the 
relevant macro packages should simply set \pdfoutput=1 which they have to 
do anyway; users have to load pdf specific functionality and that is the 
moment the macro package can set the flag; removing the dupplication would 
also make it more easy to explain to users what is going on.

currently there is no control from within the macro package where files are 
looked for, apart from hard coded paths . .. and combinations; maybe the 
core file handler can be extended so that we can say things like

   \input {$texmf-local,$texmf}/somefile

or \input [::texmf-local,::texmf]/somefile if we want to get rid of 
potential clashes with catcodes

Hans


Hans
-------------------------------------------------------------------------
                                   Hans Hagen | PRAGMA ADE | pragma@wxs.nl
                       Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
  tel: +31 (0)38 477 53 69 | fax: +31 (0)38 477 53 74 | www.pragma-ade.com
-------------------------------------------------------------------------
                        information: http://www.pragma-ade.com/roadmap.pdf
                     documentation: http://www.pragma-ade.com/showcase.pdf
-------------------------------------------------------------------------


From ms@artcom-gmbh.de  Fri Aug  8 09:30:15 2003
From: ms@artcom-gmbh.de (Martin Schroeder)
Date: Fri, 8 Aug 2003 10:30:15 +0200
Subject: [NTG-pdftex] loading cfg-files (was: Problem with latest pdfTeX 1.11a release?)
In-Reply-To: <5.2.0.9.1.20030808091736.02a81fb0@server-1.pragma-net.nl>
References: <5.2.0.9.1.20030808091736.02a81fb0@server-1.pragma-net.nl>
Message-ID: <20030808083015.GE16501@artcom8.artcom-gmbh.de>

On 2003-08-08 09:21:53 +0200, Hans Hagen wrote:
> -  pdftex.cfg is now common for all macropackages, while i would like a 
> package dependent one
> 
> with regards to the cfg file: context has one format that deals with dvi 
> and pdf output; therefore i don't like the idea that pdf output is 
> hardcoded in the cfg file; (ok, i can handle it at the macro level)

In Bremen it was discussed that (multiple?) cfg and map files
should be loadable from the command line via parameters. I'll dig
up my notes of that and post them, as ArtCom will need this in
the near future.

Best regards
        Martin
-- 
               Martin Schröder, MS@ArtCom-GmbH.DE
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10


From oberdiek@uni-freiburg.de  Sat Aug  9 19:48:35 2003
From: oberdiek@uni-freiburg.de (Heiko Oberdiek)
Date: Sat, 9 Aug 2003 20:48:35 +0200
Subject: [NTG-pdftex] time
In-Reply-To: <20030804075324.GZ16501@artcom8.artcom-gmbh.de>
References: <20030731101141.GJ16501@artcom8.artcom-gmbh.de> <20030731105059.GK16501@artcom8.artcom-gmbh.de> <20030731123718.GB1068@linux.vpn.uni-freiburg.de> <20030731125652.GM16501@artcom8.artcom-gmbh.de> <20030731141115.GB1624@linux.vpn.uni-freiburg.de> <20030731150406.GN16501@artcom8.artcom-gmbh.de> <20030731165904.GR16501@artcom8.artcom-gmbh.de> <20030731194516.GA1127@linux> <5.2.0.9.1.20030802232757.0219dc38@localhost> <20030804075324.GZ16501@artcom8.artcom-gmbh.de>
Message-ID: <20030809184835.GA6098@linux>

On Mon, Aug 04, 2003 at 09:53:24AM +0200, Martin Schroeder wrote:

> On 2003-08-02 23:30:00 +0200, Hans Hagen wrote:
> > since we're patching some time thingies, how about:
> > 
> > \pdfhours
> > \pdfminutes
> > \pdfseconds
> > \pdfmilliseconds

And some kind of timezone information, for example the difference
in minutes to GMT.

> > currently the \time has a one minute precission, which in these days of 
> > fast machines is too low a resolution
> 
> Nice to have, but in the next version. 1.11a is _finished_. :-)
> 
> This also falls into the category of non-pdf extensions, which
> would best be done with eTeX. If eTeX would evolve, that is. :-(

Similar problem with \(pdf)shellescape*. We can wait many
years for the best names and solutions or do it know in
the \pdf-namespace.

Yours sincerely
  Heiko <oberdiek@uni-freiburg.de>
-- 

From ms@artcom-gmbh.de  Sun Aug 10 14:32:47 2003
From: ms@artcom-gmbh.de (Martin Schroeder)
Date: Sun, 10 Aug 2003 15:32:47 +0200
Subject: [NTG-pdftex] time
In-Reply-To: <20030809184835.GA6098@linux>
References: <20030731105059.GK16501@artcom8.artcom-gmbh.de> <20030731123718.GB1068@linux.vpn.uni-freiburg.de> <20030731125652.GM16501@artcom8.artcom-gmbh.de> <20030731141115.GB1624@linux.vpn.uni-freiburg.de> <20030731150406.GN16501@artcom8.artcom-gmbh.de> <20030731165904.GR16501@artcom8.artcom-gmbh.de> <20030731194516.GA1127@linux> <5.2.0.9.1.20030802232757.0219dc38@localhost> <20030804075324.GZ16501@artcom8.artcom-gmbh.de> <20030809184835.GA6098@linux>
Message-ID: <20030810133247.GB811@lucien.kn-bremen.de>

On 2003-08-09 20:48:35 +0200, Heiko Oberdiek wrote:
> On Mon, Aug 04, 2003 at 09:53:24AM +0200, Martin Schroeder wrote:
> > This also falls into the category of non-pdf extensions, which
> > would best be done with eTeX. If eTeX would evolve, that is. :-(
> 
> Similar problem with \(pdf)shellescape*. We can wait many
> years for the best names and solutions or do it know in
> the \pdf-namespace.

I'll ask Peter if there is any chance of progess for eTeX.

Best regards
    Martin
-- 
               Martin Schröder, MS@ArtCom-GmbH.DE
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10

From sebastian.rahtz@computing-services.oxford.ac.uk  Sun Aug 10 17:52:25 2003
From: sebastian.rahtz@computing-services.oxford.ac.uk (Sebastian Rahtz)
Date: Sun, 10 Aug 2003 17:52:25 +0100
Subject: [NTG-pdftex] Re: Problem with latest pdfTeX 1.11a release?
In-Reply-To: <20030807165552.GC18583@dbs.uni-hannover.de>
References: <6BE20796-C717-11D7-ABFB-0003930AD8A4@rna.nl> <20030805091059.GL16501@artcom8.artcom-gmbh.de> <Pine.LNX.4.55.0308060045160.1881@hahepc1.hahe> <Pine.LNX.4.55.0308062249390.27766@hahepc1.hahe> <20030806222829.GA2800@lucien.kn-bremen.de> <20030807144114.GD16501@artcom8.artcom-gmbh.de> <20030807165552.GC18583@dbs.uni-hannover.de>
Message-ID: <20030810165225.GE13707@herald.ox.ac.uk>

I'm with Thomas. The TeX world is small enough that we can avoid the
problem by simply insisting on unique names.

Sebastian

From ms@artcom-gmbh.de  Sun Aug 10 20:25:16 2003
From: ms@artcom-gmbh.de (Martin Schroeder)
Date: Sun, 10 Aug 2003 21:25:16 +0200
Subject: [NTG-pdftex] loading cfg-files
In-Reply-To: <20030808083015.GE16501@artcom8.artcom-gmbh.de>
References: <5.2.0.9.1.20030808091736.02a81fb0@server-1.pragma-net.nl> <20030808083015.GE16501@artcom8.artcom-gmbh.de>
Message-ID: <20030810192516.GC3950@lucien.kn-bremen.de>

On 2003-08-08 10:30:15 +0200, Martin Schröder wrote:
> In Bremen it was discussed that (multiple?) cfg and map files
> should be loadable from the command line via parameters. I'll dig
> up my notes of that and post them, as ArtCom will need this in
> the near future.

I found them. :-)

The idea is to have two more cmdline parameters: 
    -mapfile=<file>
and
    -config-file=<file>
both can appear multiple times in one invocation.

<file> is either
- empty         all previous definitions are cleared
- +<filename>   the definitions in the file are added to the
                previous definitions, overriding any previous
                definitions.
- <filename>    all definitions are cleared and the definitions
                in the file are loaded, i.e. it's equal to the
                sequence <param>= <param>=+file

Best regards
    Martin
-- 
               Martin Schröder, MS@ArtCom-GmbH.DE
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10

From ms@artcom-gmbh.de  Sun Aug 10 21:53:52 2003
From: ms@artcom-gmbh.de (Martin Schroeder)
Date: Sun, 10 Aug 2003 22:53:52 +0200
Subject: [NTG-pdftex] loading cfg-files
In-Reply-To: <20030810192516.GC3950@lucien.kn-bremen.de>
References: <5.2.0.9.1.20030808091736.02a81fb0@server-1.pragma-net.nl> <20030808083015.GE16501@artcom8.artcom-gmbh.de> <20030810192516.GC3950@lucien.kn-bremen.de>
Message-ID: <20030810205352.GF3950@lucien.kn-bremen.de>

On 2003-08-10 21:25:16 +0200, Martin Schröder wrote:
>     -mapfile=<file>
>     -config-file=<file>
      -configfile

Best regards
    Martin
-- 
               Martin Schröder, MS@ArtCom-GmbH.DE
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10

From pragma@wxs.nl  Mon Aug 11 09:32:19 2003
From: pragma@wxs.nl (Hans Hagen)
Date: Mon, 11 Aug 2003 10:32:19 +0200
Subject: [NTG-pdftex] loading cfg-files
In-Reply-To: <20030810192516.GC3950@lucien.kn-bremen.de>
References: <20030808083015.GE16501@artcom8.artcom-gmbh.de>
 <5.2.0.9.1.20030808091736.02a81fb0@server-1.pragma-net.nl>
 <20030808083015.GE16501@artcom8.artcom-gmbh.de>
Message-ID: <5.2.0.9.1.20030811103057.0271fb28@server-1>

At 21:25 10/08/2003 +0200, Martin Schroeder wrote:
>On 2003-08-08 10:30:15 +0200, Martin Schr=F6der wrote:
> > In Bremen it was discussed that (multiple?) cfg and map files
> > should be loadable from the command line via parameters. I'll dig
> > up my notes of that and post them, as ArtCom will need this in
> > the near future.
>
>I found them. :-)
>
>The idea is to have two more cmdline parameters:
>     -mapfile=3D<file>
>and
>     -config-file=3D<file>
>both can appear multiple times in one invocation.
>
><file> is either
>- empty         all previous definitions are cleared
>- +<filename>   the definitions in the file are added to the
>                 previous definitions, overriding any previous
>                 definitions.
>- <filename>    all definitions are cleared and the definitions
>                 in the file are loaded, i.e. it's equal to the
>                 sequence <param>=3D <param>=3D+file

can this option be combined with a \pdfoverloadmap that makes following map=
=20
definitions overload previous ones as well as the option to let enable=20
pdftex to load map files (\pdfmapfile) on pages >1

Hans

-------------------------------------------------------------------------
                                   Hans Hagen | PRAGMA ADE | pragma@wxs.nl
                       Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
  tel: +31 (0)38 477 53 69 | fax: +31 (0)38 477 53 74 | www.pragma-ade.com
-------------------------------------------------------------------------
                        information: http://www.pragma-ade.com/roadmap.pdf
                     documentation: http://www.pragma-ade.com/showcase.pdf
-------------------------------------------------------------------------


From ms@artcom-gmbh.de  Mon Aug 11 11:11:30 2003
From: ms@artcom-gmbh.de (Martin Schroeder)
Date: Mon, 11 Aug 2003 12:11:30 +0200
Subject: [NTG-pdftex] loading cfg-files
In-Reply-To: <5.2.0.9.1.20030811103057.0271fb28@server-1>
References: <20030808083015.GE16501@artcom8.artcom-gmbh.de> <5.2.0.9.1.20030808091736.02a81fb0@server-1.pragma-net.nl> <20030808083015.GE16501@artcom8.artcom-gmbh.de> <5.2.0.9.1.20030811103057.0271fb28@server-1>
Message-ID: <20030811101130.GN16501@artcom8.artcom-gmbh.de>

On 2003-08-11 10:32:19 +0200, Hans Hagen wrote:
> can this option be combined with a \pdfoverloadmap that makes following map 
> definitions overload previous ones as well as the option to let enable 

[I just learned of \pdfmapfile -- the manual is much too old :-(]

Of course this feature must also be accessible through
\pdfmapfile (probably with the same filename conventions). 

You also want to control this behaviour through an integer
register?  Makes sense.

> pdftex to load map files (\pdfmapfile) on pages >1

Huh? Verbose please.

Best regards
        Martin

-- 
               Martin Schröder, MS@ArtCom-GmbH.DE
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10


From pragma@wxs.nl  Mon Aug 11 10:29:05 2003
From: pragma@wxs.nl (Hans Hagen)
Date: Mon, 11 Aug 2003 11:29:05 +0200
Subject: [NTG-pdftex] time
In-Reply-To: <20030809184835.GA6098@linux>
References: <20030804075324.GZ16501@artcom8.artcom-gmbh.de>
 <20030731101141.GJ16501@artcom8.artcom-gmbh.de>
 <20030731105059.GK16501@artcom8.artcom-gmbh.de>
 <20030731123718.GB1068@linux.vpn.uni-freiburg.de>
 <20030731125652.GM16501@artcom8.artcom-gmbh.de>
 <20030731141115.GB1624@linux.vpn.uni-freiburg.de>
 <20030731150406.GN16501@artcom8.artcom-gmbh.de>
 <20030731165904.GR16501@artcom8.artcom-gmbh.de>
 <20030731194516.GA1127@linux>
 <5.2.0.9.1.20030802232757.0219dc38@localhost>
 <20030804075324.GZ16501@artcom8.artcom-gmbh.de>
Message-ID: <5.2.0.9.1.20030811112840.02b6abd0@server-1>

At 20:48 09/08/2003 +0200, Heiko Oberdiek wrote:
>On Mon, Aug 04, 2003 at 09:53:24AM +0200, Martin Schroeder wrote:
>
> > On 2003-08-02 23:30:00 +0200, Hans Hagen wrote:
> > > since we're patching some time thingies, how about:
> > >
> > > \pdfhours
> > > \pdfminutes
> > > \pdfseconds
> > > \pdfmilliseconds
>
>And some kind of timezone information, for example the difference
>in minutes to GMT.
>
> > > currently the \time has a one minute precission, which in these days of
> > > fast machines is too low a resolution
> >
> > Nice to have, but in the next version. 1.11a is _finished_. :-)
> >
> > This also falls into the category of non-pdf extensions, which
> > would best be done with eTeX. If eTeX would evolve, that is. :-(
>
>Similar problem with \(pdf)shellescape*. We can wait many
>years for the best names and solutions or do it know in
>the \pdf-namespace.

indeed, apart from endless discussions -)

Hans

-------------------------------------------------------------------------
                                   Hans Hagen | PRAGMA ADE | pragma@wxs.nl
                       Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
  tel: +31 (0)38 477 53 69 | fax: +31 (0)38 477 53 74 | www.pragma-ade.com
-------------------------------------------------------------------------
                        information: http://www.pragma-ade.com/roadmap.pdf
                     documentation: http://www.pragma-ade.com/showcase.pdf
-------------------------------------------------------------------------


From olaf@infovore.xs4all.nl  Mon Aug 11 19:21:40 2003
From: olaf@infovore.xs4all.nl (Olaf Weber)
Date: Mon, 11 Aug 2003 20:21:40 +0200
Subject: [NTG-pdftex] Re: Problem with latest pdfTeX 1.11a release?
In-Reply-To: <Pine.LNX.4.55.0308072125310.30522@hahepc1.hahe> (Hartmut
 Henkel's message of "Thu, 7 Aug 2003 22:15:01 +0200 (CEST)")
References: <6BE20796-C717-11D7-ABFB-0003930AD8A4@rna.nl>
 <20030805091059.GL16501@artcom8.artcom-gmbh.de>
 <Pine.LNX.4.55.0308060045160.1881@hahepc1.hahe>
 <Pine.LNX.4.55.0308062249390.27766@hahepc1.hahe>
 <Pine.LNX.4.55.0308072125310.30522@hahepc1.hahe>
Message-ID: <87bruwqcln.fsf@infovore.xs4all.nl>

Hartmut Henkel writes:
> On Wed, 6 Aug 2003, i wrote:

>> where tex and initex both look into the same line, TEXINPUTS.tex.

> ...which is again wrong :-( Slowly getting it, sorry. Hope this is
> now right: In the teTeX distributed texmf.cnf file, the parsing is
> as follows:

> * tex reads line TEXINPUTS.tex.
> * tex -ini reads line TEXINPUTS.tex.
> * initex doesn't find a match and reads the catch-all (!), TEXINPUTS,
> which is fine for initex.
> * pdftex reads line TEXINPUTS.pdftex.
> * pdftex -ini reads line TEXINPUTS.pdftex.
> * pdfinitex finds no direct match, so it tries the last resort
> TEXINPUTS, where it doesn't find pdf-related entries. Same with
> pdfeinitex and mptodf, which runs on pdfetex.

This sounds about right.  The problem originates in us having both
"formats" and "engines".  Files specific to a format can be found in
places like "texmf/tex/<format>", for example "texmf/tex/latex" and
"texmf/tex/latex209".

For engines, the "tex" part in "texmf/tex/..." is replaced with the
engine name.  So we get, as Thomas pointed out, something like an N*M
structure, which does tend to get out of hand...

For the purposes of path searches, the 'initex' programs are not
treated any differtly from all the others.  That is, "initex" is used
as the "format-suffix", unless overruled by the command-line options.
(Examples of the latter are found in the web2c Makefile.)


With pdfelatex, you'd be looking in paths suitable for the pdfetex,
pdftex, etex, and tex engines -- and is that the correct order?  And
for each of these engines, you should look in "texmf/<engine>/latex"
first.  This is because for historical reasons, there are unavoidable
name clashes between latex and latex209 files.  This means that if you
have a texmf tree with both latex and latex209 in it, then _all_
latex-based formats require that their files are looked for in
"texmf/<engine>/latex" _first_.


Now you could already simply things if all the engine-specific trees
are merged into the "texmf/tex" tree.  It should not be too hard to
keep those files apart even in the single tree, and avoid duplicates.
Then the "texmf/tex/latex" subtree is for "latex" regardless of the
underlying engine.  (And "texmf/tex/pdfelatex" could be specific for
the pdfelatex format, which just happens to be specific to a single
engine.)

Just pushing some nonrandom thoughts...

-- 
Olaf Weber

               (This space left blank for technical reasons.)


