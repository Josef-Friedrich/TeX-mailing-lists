From oberdiek at uni-freiburg.de  Sun Dec  9 22:21:28 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Sun, 9 Dec 2007 22:21:28 +0100
Subject: [NTG-pdftex] \expanded (was: Misleading cs names?)
In-Reply-To: <op.t2202imrss64je@macintosh.local>
References: <87k5nxw76i.fsf@buckbeak.hogwarts>
	<op.t2uslqp4ss64je@macintosh.local>
	<87tzmwkdnr.fsf@buckbeak.hogwarts>
	<op.t2202imrss64je@macintosh.local>
Message-ID: <20071209212128.GA30932@irwin.vpn.uni-freiburg.de>

Hello,

On Sun, Dec 09, 2007 at 08:14:31PM +0100, Morten H?gholm wrote:

> Usually the x expansion meant "uses \edef" and so they were all  
> non-expandable. But now that we have pdfeTeX'ed the l3 kernel, we have  
> functions doing full expansion like \numexpr and friends and \pdfstrcmp  
> (does \edef on both arguments) used in \tlist_if_eq:xxTF. This reminds me:  
> the notes from the Oldenburg meeting mentions an \expanded primitive:
>   \expanded <general text>
>   Expandable command returning the full expansion
>   of the tokens in <general text>.
> So since this pretty much exists inside \pdfstrcmp as it is now, it could  
> go into pdfTeX 1.50 and we would be free of these problems. Except of  
> course, \expanded is already used a lot in ConTeXt with different  
> semantics.
> 
> Any opinions from the ConTeXt/pdfTeX people here?

I miss "\expanded", too.

A workaround for a \detokenize with expanded argument:
  \pdfunescapehex{\pdfunescapehex{...}}
For LuaTeX \pdf(|un)escapehex are defined in package `pdftexcmds':
  \pdf at unescapehex and \pdf at escapehex, both are expandable.
Disadvantages of the workaround:
* slower
* no <general text>, but macro argument
* detokenization happens.

But I assume, you want only expansion, not detokenization?
(then the latter can be achieved by
\detokenize\expandafter{\expanded{...}})

Biggest problem is probably a good name:
a) \expanded would be a nice name, but it clashes with ConTeXt.
   I remember trouble with \unexpanded :-(
b) It would belong to e-TeX, but there isn't a e-TeX prefix:
   \etexexpanded or \etexexpand
c) pdfTeX's convention with prefix "\pdf" (see \pdfstrcmp, \pdfescape*):
   \pdfexpanded or \pdfexpand
d) longer names
   
My preference is c) to avoid trouble with macro name clashes.
I can live with a), then my package etexcmds would get a
new macro \etex at expanded.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>

PS: ntg-pdftex list added.

From pragma at wxs.nl  Mon Dec 10 11:23:57 2007
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 10 Dec 2007 11:23:57 +0100
Subject: [NTG-pdftex] \expanded
In-Reply-To: <20071209212128.GA30932@irwin.vpn.uni-freiburg.de>
References: <87k5nxw76i.fsf@buckbeak.hogwarts>	<op.t2uslqp4ss64je@macintosh.local>	<87tzmwkdnr.fsf@buckbeak.hogwarts>	<op.t2202imrss64je@macintosh.local>
	<20071209212128.GA30932@irwin.vpn.uni-freiburg.de>
Message-ID: <475D13BD.5060200@wxs.nl>

Heiko Oberdiek wrote:
> Hello,
> 
> On Sun, Dec 09, 2007 at 08:14:31PM +0100, Morten H?gholm wrote:
> 
>> Usually the x expansion meant "uses \edef" and so they were all  
>> non-expandable. But now that we have pdfeTeX'ed the l3 kernel, we have  
>> functions doing full expansion like \numexpr and friends and \pdfstrcmp  
>> (does \edef on both arguments) used in \tlist_if_eq:xxTF. This reminds me:  
>> the notes from the Oldenburg meeting mentions an \expanded primitive:
>>   \expanded <general text>
>>   Expandable command returning the full expansion
>>   of the tokens in <general text>.
>> So since this pretty much exists inside \pdfstrcmp as it is now, it could  
>> go into pdfTeX 1.50 and we would be free of these problems. Except of  
>> course, \expanded is already used a lot in ConTeXt with different  
>> semantics.
>>
>> Any opinions from the ConTeXt/pdfTeX people here?

well, \protected also existed in context before etex had it (and 
probably a few more)

if \expanded is added as primitive i would probably \let the primitive 
to something else then

the main problem that i see is that the 'context' \expanded is a user 
command so they would get confused if they want to use the primitive

> Biggest problem is probably a good name:
> a) \expanded would be a nice name, but it clashes with ConTeXt.
>    I remember trouble with \unexpanded :-(
> b) It would belong to e-TeX, but there isn't a e-TeX prefix:
>    \etexexpanded or \etexexpand
> c) pdfTeX's convention with prefix "\pdf" (see \pdfstrcmp, \pdfescape*):
>    \pdfexpanded or \pdfexpand
> d) longer names
>    
> My preference is c) to avoid trouble with macro name clashes.
> I can live with a), then my package etexcmds would get a
> new macro \etex at expanded.

we think (also speaking for taco) that \expanded as new primitive name 
is okay; the \pdfprefixed ones already are adding ugliness and we should 
avoid unnatural primitive names

in context we'll deal with it somehow, after all, there are already 
clashes and since there is no such primitive, users don't expect it as 
such and when needed, they can deal with \primitive\expanded

in general, adding new primitives with clashing names is only a problem 
for cross macropackage usage, but this can be dealt with since there is 
not that much shared (my experience is that the biggest problem is not 
in primitive usage but in catcode and lccode mess)

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From taco at elvenkind.com  Mon Dec 10 11:44:34 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 10 Dec 2007 11:44:34 +0100
Subject: [NTG-pdftex] \expanded
In-Reply-To: <20071209212128.GA30932@irwin.vpn.uni-freiburg.de>
References: <87k5nxw76i.fsf@buckbeak.hogwarts>	<op.t2uslqp4ss64je@macintosh.local>	<87tzmwkdnr.fsf@buckbeak.hogwarts>	<op.t2202imrss64je@macintosh.local>
	<20071209212128.GA30932@irwin.vpn.uni-freiburg.de>
Message-ID: <475D1892.70201@elvenkind.com>



Heiko Oberdiek wrote:
> Hello,
> 
> On Sun, Dec 09, 2007 at 08:14:31PM +0100, Morten H?gholm wrote:
> 
>> Usually the x expansion meant "uses \edef" and so they were all  
>> non-expandable. But now that we have pdfeTeX'ed the l3 kernel, we have  
>> functions doing full expansion like \numexpr and friends and \pdfstrcmp  
>> (does \edef on both arguments) used in \tlist_if_eq:xxTF. This reminds me:  
>> the notes from the Oldenburg meeting mentions an \expanded primitive:
>>   \expanded <general text>
>>   Expandable command returning the full expansion
>>   of the tokens in <general text>.
>> So since this pretty much exists inside \pdfstrcmp as it is now, it could  

Can someone please post an example of intended use in the
l3 kernel in "plain"-style, just so I understand the usage?

>> Any opinions from the ConTeXt/pdfTeX people here?

ConTeXt's \expanded macro expands its argument fully except
for the very first item in it, which is handy for macros that
need expanded arguments, so I assume the actual goals are very
similar. Its definition is essentially this:

   \def\expanded#1{\edef\lastexpanded{\noexpand#1}\lastexpanded}

With the new primitive, it could be rewritten as:

   \let\normalexpanded\expanded
   \def\expanded{\afterassignment\doexpanded\let\next=}
   \def\doexpanded{\normalexpanded\bgroup\noexpand}

> Biggest problem is probably a good name:
> a) \expanded would be a nice name, but it clashes with ConTeXt.
>    I remember trouble with \unexpanded :-(
> b) It would belong to e-TeX, but there isn't a e-TeX prefix:
>    \etexexpanded or \etexexpand
> c) pdfTeX's convention with prefix "\pdf" (see \pdfstrcmp, \pdfescape*):
>    \pdfexpanded or \pdfexpand
> d) longer names
>    
> My preference is c) to avoid trouble with macro name clashes.
> I can live with a), then my package etexcmds would get a
> new macro \etex at expanded.

Hans and I think a) would be fine. c) is somewhat silly as it is
not related to pdftex, and also a) combines nicely with the already
present \unexpanded.

Best wishes,
Taco



From morten.hoegholm at latex-project.org  Mon Dec 10 13:07:56 2007
From: morten.hoegholm at latex-project.org (=?iso-8859-1?Q?Morten_H=F8gholm?=)
Date: Mon, 10 Dec 2007 13:07:56 +0100
Subject: [NTG-pdftex] \expanded
In-Reply-To: <475D1892.70201@elvenkind.com>
References: <87k5nxw76i.fsf@buckbeak.hogwarts>
	<op.t2uslqp4ss64je@macintosh.local>
	<87tzmwkdnr.fsf@buckbeak.hogwarts>
	<op.t2202imrss64je@macintosh.local>
	<20071209212128.GA30932@irwin.vpn.uni-freiburg.de>
	<475D1892.70201@elvenkind.com>
Message-ID: <op.t24bziuoss64je@gdhcp88.gbar.dtu.dk>

On Mon, 10 Dec 2007 11:44:34 +0100, Taco Hoekwater wrote:

Hi Taco,

>>> the notes from the Oldenburg meeting mentions an \expanded primitive:
>>>   \expanded <general text>
>>>   Expandable command returning the full expansion
>>>   of the tokens in <general text>.
>>> So since this pretty much exists inside \pdfstrcmp as it is now, it  
>>> could
>
> Can someone please post an example of intended use in the
> l3 kernel in "plain"-style, just so I understand the usage?


I would assume the following should be equivalent except for the latter  
being expandable.

\def\cmd#1{\edef\tempa{#1}\expandafter\cmd\expandafter{\tempa}}

\def\cmd#1{\expandafter\cmd\expandafter{\expanded{#1}}}

> ConTeXt's \expanded macro expands its argument fully except
> for the very first item in it, which is handy for macros that
> need expanded arguments, so I assume the actual goals are very
> similar.

Yes, I think so too.

>> a) \expanded would be a nice name, but it clashes with ConTeXt.
>>    I remember trouble with \unexpanded :-(
>
> Hans and I think a) would be fine. c) is somewhat silly as it is
> not related to pdftex, and also a) combines nicely with the already
> present \unexpanded.

a) is what I was hoping for. :-)
-- 
Morten

From martin at oneiros.de  Mon Dec 10 13:26:14 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Mon, 10 Dec 2007 13:26:14 +0100
Subject: [NTG-pdftex] \expanded
In-Reply-To: <475D1892.70201@elvenkind.com>
References: <87k5nxw76i.fsf@buckbeak.hogwarts>
	<op.t2uslqp4ss64je@macintosh.local> <87tzmwkdnr.fsf@buckbeak.hogwarts>
	<op.t2202imrss64je@macintosh.local>
	<20071209212128.GA30932@irwin.vpn.uni-freiburg.de>
	<475D1892.70201@elvenkind.com>
Message-ID: <68c491a60712100426r20672e06n1e5115d383e0dafe@mail.gmail.com>

2007/12/10, Taco Hoekwater <taco at elvenkind.com>:
> > Biggest problem is probably a good name:
> > a) \expanded would be a nice name, but it clashes with ConTeXt.
> >    I remember trouble with \unexpanded :-(
> > b) It would belong to e-TeX, but there isn't a e-TeX prefix:
> >    \etexexpanded or \etexexpand
> > c) pdfTeX's convention with prefix "\pdf" (see \pdfstrcmp, \pdfescape*):
> >    \pdfexpanded or \pdfexpand
> > d) longer names
> >
> > My preference is c) to avoid trouble with macro name clashes.
> > I can live with a), then my package etexcmds would get a
> > new macro \etex at expanded.
>
> Hans and I think a) would be fine. c) is somewhat silly as it is
> not related to pdftex, and also a) combines nicely with the already
> present \unexpanded.

I agree. A patch is welcome. :-)

Best
   Martin

From dak at gnu.org  Mon Dec 10 17:33:14 2007
From: dak at gnu.org (David Kastrup)
Date: Mon, 10 Dec 2007 17:33:14 +0100
Subject: [NTG-pdftex] \expanded
In-Reply-To: <op.t24bziuoss64je@gdhcp88.gbar.dtu.dk> ("Morten
	=?iso-8859-1?Q?H=F8gholm=22's?=
	message of "Mon, 10 Dec 2007 13:07:56 +0100")
References: <87k5nxw76i.fsf@buckbeak.hogwarts>
	<op.t2uslqp4ss64je@macintosh.local> <87tzmwkdnr.fsf@buckbeak.hogwarts>
	<op.t2202imrss64je@macintosh.local>
	<20071209212128.GA30932@irwin.vpn.uni-freiburg.de>
	<475D1892.70201@elvenkind.com> <op.t24bziuoss64je@gdhcp88.gbar.dtu.dk>
Message-ID: <85aboipl11.fsf@lola.goethe.zz>

Morten H?gholm <morten.hoegholm at LATEX-PROJECT.ORG> writes:

> I would assume the following should be equivalent except for the
> latter being expandable.
>
> \def\cmd#1{\edef\tempa{#1}\expandafter\cmd\expandafter{\tempa}}
>
> \def\cmd#1{\expandafter\cmd\expandafter{\expanded{#1}}}

No.  The former would complain about isolated # tokens in #1 (and
collapse double ones).

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From morten.hoegholm at latex-project.org  Tue Dec 11 00:41:16 2007
From: morten.hoegholm at latex-project.org (=?iso-8859-1?Q?Morten_H=F8gholm?=)
Date: Tue, 11 Dec 2007 00:41:16 +0100
Subject: [NTG-pdftex] \expanded
In-Reply-To: <85aboipl11.fsf@lola.goethe.zz>
References: <87k5nxw76i.fsf@buckbeak.hogwarts>
	<op.t2uslqp4ss64je@macintosh.local>
	<87tzmwkdnr.fsf@buckbeak.hogwarts>
	<op.t2202imrss64je@macintosh.local>
	<20071209212128.GA30932@irwin.vpn.uni-freiburg.de>
	<475D1892.70201@elvenkind.com>
	<op.t24bziuoss64je@gdhcp88.gbar.dtu.dk>
	<85aboipl11.fsf@lola.goethe.zz>
Message-ID: <op.t24722cwss64je@macintosh.local>

On Mon, 10 Dec 2007 17:33:14 +0100, David Kastrup wrote:

> Morten H?gholm <morten.hoegholm at LATEX-PROJECT.ORG> writes:
>
>> I would assume the following should be equivalent except for the
>> latter being expandable.
>>
>> \def\cmd#1{\edef\tempa{#1}\expandafter\cmd\expandafter{\tempa}}
>>
>> \def\cmd#1{\expandafter\cmd\expandafter{\expanded{#1}}}
>
> No.  The former would complain about isolated # tokens in #1 (and
> collapse double ones).

Ah yes (and sorry for the silly example above - it's really remarkably  
bad). You comment reminded me of something I added to l3tlp.dtx under the  
entry:

   r594 | morten | 2007-06-10 23:32:58 +0200 (Sun, 10 Jun 2007) | 2 lines

   Tried to make functions treat hash marks as uniform as possible



% A word of warning is appropriate here: Token list pointers are
% implemented as macros and as such currently inherit some of the
% peculiarities of how \TeX\ handles "#"s in the argument of
% macros. In particular, the following actions are legal
% \begin{verbatim}
% \tlp_set:Nn \l_tmpa_tlp{##1}
% \tlp_put_right:Nn \l_tmpa_tlp{##2}
% \tlp_set:No \l_tmpb_tlp{\l_tmpa_tlp ##3}
% \end{verbatim}
% |x| type expansions where macros being expanded contain |#|s do not
% work and will not work until there is an |\expanded| primitive in
% the engine. If you want them to work you must double |#|s another
% level.


All the more reason for \expanded...

'night,
-- 
Morten

From oberdiek at uni-freiburg.de  Tue Dec 11 17:17:27 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Tue, 11 Dec 2007 17:17:27 +0100
Subject: [NTG-pdftex] \expanded
In-Reply-To: <68c491a60712100426r20672e06n1e5115d383e0dafe@mail.gmail.com>
References: <87k5nxw76i.fsf@buckbeak.hogwarts>
	<op.t2uslqp4ss64je@macintosh.local>
	<87tzmwkdnr.fsf@buckbeak.hogwarts>
	<op.t2202imrss64je@macintosh.local>
	<20071209212128.GA30932@irwin.vpn.uni-freiburg.de>
	<475D1892.70201@elvenkind.com>
	<68c491a60712100426r20672e06n1e5115d383e0dafe@mail.gmail.com>
Message-ID: <20071211161726.GA14787@irwin.vpn.uni-freiburg.de>

On Mon, Dec 10, 2007 at 01:26:14PM +0100, Martin Schr?der wrote:

> 2007/12/10, Taco Hoekwater <taco at elvenkind.com>:
> > > Biggest problem is probably a good name:
> > > a) \expanded would be a nice name, [...]
> >
> > Hans and I think a) would be fine. [...]
> 
> I agree. A patch is welcome. :-)

Patch 885.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>
-- 

From taco at elvenkind.com  Tue Dec 11 17:54:42 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 11 Dec 2007 17:54:42 +0100
Subject: [NTG-pdftex] \expanded
In-Reply-To: <20071211161726.GA14787@irwin.vpn.uni-freiburg.de>
References: <87k5nxw76i.fsf@buckbeak.hogwarts>	<op.t2uslqp4ss64je@macintosh.local>	<87tzmwkdnr.fsf@buckbeak.hogwarts>	<op.t2202imrss64je@macintosh.local>	<20071209212128.GA30932@irwin.vpn.uni-freiburg.de>	<475D1892.70201@elvenkind.com>	<68c491a60712100426r20672e06n1e5115d383e0dafe@mail.gmail.com>
	<20071211161726.GA14787@irwin.vpn.uni-freiburg.de>
Message-ID: <475EC0D2.2090006@elvenkind.com>



Heiko Oberdiek wrote:
> On Mon, Dec 10, 2007 at 01:26:14PM +0100, Martin Schr?der wrote:
> 
>> 2007/12/10, Taco Hoekwater <taco at elvenkind.com>:
>>>> Biggest problem is probably a good name:
>>>> a) \expanded would be a nice name, [...]
>>> Hans and I think a) would be fine. [...]
>> I agree. A patch is welcome. :-)
> 
> Patch 885.

I suspect there will be a problem with

   \setvalue{begin\expanded{\getvalue{relax}}}

but have not time to delve into that right now.

I suspect this, because \directlua in luatex has similar
problems wrt. the 'current string', and I had to do
introduce a variable to save that, like this:

     procedure conv_toks;
     u:str_number;
     {...}

     u:=0;
     if str_start_macro(str_ptr)<pool_ptr then u:=make_string;
     {...... body of action here .......}
     if u<>0 then begin
       if str_ptr=u+1 then
         decr(str_ptr)
       else begin {copy old string to the top location}
          i:=0;
          str_room(length(u));
          while i<length(u) do
            str_pool[pool_ptr+i]:=str_pool[str_start[u]+i];
         end;
     end;

Best wishes,
Taco


From oberdiek at uni-freiburg.de  Tue Dec 11 22:28:45 2007
From: oberdiek at uni-freiburg.de (Heiko Oberdiek)
Date: Tue, 11 Dec 2007 22:28:45 +0100
Subject: [NTG-pdftex] \expanded
In-Reply-To: <475EC0D2.2090006@elvenkind.com>
References: <87k5nxw76i.fsf@buckbeak.hogwarts>
	<op.t2uslqp4ss64je@macintosh.local>
	<87tzmwkdnr.fsf@buckbeak.hogwarts>
	<op.t2202imrss64je@macintosh.local>
	<20071209212128.GA30932@irwin.vpn.uni-freiburg.de>
	<475D1892.70201@elvenkind.com>
	<68c491a60712100426r20672e06n1e5115d383e0dafe@mail.gmail.com>
	<20071211161726.GA14787@irwin.vpn.uni-freiburg.de>
	<475EC0D2.2090006@elvenkind.com>
Message-ID: <20071211212844.GA18939@irwin.vpn.uni-freiburg.de>

On Tue, Dec 11, 2007 at 05:54:42PM +0100, Taco Hoekwater wrote:

> Heiko Oberdiek wrote:
> > 
> > Patch 885.
> 
> I suspect there will be a problem with
> 
>    \setvalue{begin\expanded{\getvalue{relax}}}
> 
> but have not time to delve into that right now.
> 
> I suspect this, because \directlua in luatex has similar
> problems wrt. the 'current string', and I had to do
> introduce a variable to save that, like this:
> 
>      procedure conv_toks;
>      u:str_number;
>      {...}
> 
>      u:=0;
>      if str_start_macro(str_ptr)<pool_ptr then u:=make_string;
>      {...... body of action here .......}
>      if u<>0 then begin
>        if str_ptr=u+1 then
>          decr(str_ptr)
>        else begin {copy old string to the top location}
>           i:=0;
>           str_room(length(u));
>           while i<length(u) do
>             str_pool[pool_ptr+i]:=str_pool[str_start[u]+i];
>          end;
>      end;

In pdfTeX 1.40.5 all the primitives (\pdfstrcmp, \pdfescape*, ...)
are surrounded by save_cur_string and restore_cur_string. They
do quite similar:

@dsave_cur_string==if str_start[str_ptr]<pool_ptr then u:=make_string
@d restore_cur_string==if u<>0 then begin decr(str_ptr); u:=0; end

The initial "u:=0" and the extra "else" case aren't present.
Either the situation in LuaTeX is a little different or
all these primitives would probably need this. But I don't
have any examples that would show the problem.

Yours sincerely
  Heiko <oberdiek at uni-freiburg.de>
-- 

From taco at elvenkind.com  Tue Dec 11 22:40:49 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 11 Dec 2007 22:40:49 +0100
Subject: [NTG-pdftex] \expanded
In-Reply-To: <20071211212844.GA18939@irwin.vpn.uni-freiburg.de>
References: <87k5nxw76i.fsf@buckbeak.hogwarts>	<op.t2uslqp4ss64je@macintosh.local>	<87tzmwkdnr.fsf@buckbeak.hogwarts>	<op.t2202imrss64je@macintosh.local>	<20071209212128.GA30932@irwin.vpn.uni-freiburg.de>	<475D1892.70201@elvenkind.com>	<68c491a60712100426r20672e06n1e5115d383e0dafe@mail.gmail.com>	<20071211161726.GA14787@irwin.vpn.uni-freiburg.de>	<475EC0D2.2090006@elvenkind.com>
	<20071211212844.GA18939@irwin.vpn.uni-freiburg.de>
Message-ID: <475F03E1.5060703@elvenkind.com>

Heiko Oberdiek wrote:

Glad to hear you already had that covered. There are not many
primitives in this category left in luatex, but I will import
that code near-automatically in the next merge anyway.
(luatex is still pdftex 1.40.3)

Best wishes,
Taco



From noreply at sarovar.org  Fri Dec 14 01:47:11 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Fri, 14 Dec 2007 06:17:11 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-861 ] including encrypted pdf
Message-ID: <E1J2yhr-0004jR-00@sarovar.org>

Bugs item #861, was opened at 2007-09-07 10:35
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=861&group_id=106

Category: xpdf
Group: v1.40.5
>Status: Closed
>Resolution: Fixed
Priority: 5
Submitted By: Herbert Voss (voss)
Assigned to: Martin Schr?der (oneiros)
Summary: including encrypted pdf

Initial Comment:
when i insert a page of the
http://tug.org/texshowcase/en_gb_eclipse_114.pdf

with
\documentclass{article}
\usepackage{graphicx}
\begin{document}
\includegraphics[page=1]{en_gb_eclipse_114}
\end{document}


I'll get an empty page with pdftex 1.40.5
With version 1.40.3 (xpdf 3.01) everything is fine.

There is no difference in both logfiles.



----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-14 01:47

Message:
Logged In: YES 
user_id=421

A fix for this will be included in the next release (1.40.6/1.50.0).

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-09-09 20:44

Message:
Logged In: YES 
user_id=421

It also works with 1.40.5 and libs/xpdf from 1.40.3, so the
problem is either in xpdf or in our binding. We have
contacted Derek.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=861&group_id=106

From noreply at sarovar.org  Tue Dec 18 15:25:45 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Tue, 18 Dec 2007 19:55:45 +0530
Subject: [NTG-pdftex] [ pdftex-Patches-864 ] \suppressfontnotfounderror patch
Message-ID: <E1J4dOD-000607-00@sarovar.org>

Patches item #864, was opened at 2007-09-17 17:49
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=864&group_id=106

Category: Primitives
Group: v1.50.0
>Status: Closed
Resolution: Accepted
Priority: 5
Submitted By: Taco Hoekwater (taco)
Assigned to: Martin Schr?der (oneiros)
Summary: \suppressfontnotfounderror patch

Initial Comment:
Attached is a patch for pdftex 1.50 (current trunk)
that introduces
a new integer parameter named \suppressfontnotfounderror.

If this parameter is non-zero, then (pdf)tex will not
complain about
font metric files that are not found, but silently skip
the font
assignment, making the requested csname \ifx-equal to
\nullfont.

The purpose is to allow macro programmers a way to
gracefully
recover from a missing or differently named font.

I am aware there is a trick that uses \batchmode to
test for font
existance, but the downside of that is that it calls
TeX's error()
routine, which clobbers the executable's return value.
That makes
it a no-no in "make"-like environments where the return
value of
TeX is checked to decide on further actions.

This functionality will also be added to the next
versions of xetex
and luatex (that's why the name does not start with
\pdf...).

 % simple example usage
 \def\testfont#1{%
   \font\junk=#1
   \ifx\junk\nullfont  \message{Font #1 not found}
   \else               \message{Font #1 found}
   \fi }

 {\suppressfontnotfounderror=1   \testfont{cmr-junk} }
 \bye


----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-18 15:25

Message:
Logged In: YES 
user_id=421

This patch will be included in the upcoming 1.50

----------------------------------------------------------------------

Comment By: Taco Hoekwater (taco)
Date: 2007-09-18 08:10

Message:
Logged In: YES 
user_id=1608

Well, at least it does not affect the tex user directly:
there is a stream of garbage on the screen and that looks
ugly, but there is no error interaction, and the
system-level return value of pdftex is unaffected.

I don't know if there is a clean way to control mktextfm cs,
but if it can be done, that would be a nice addition to the
web2c change file.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-09-17 21:53

Message:
Logged In: YES 
user_id=421

IMHO it works only somuch, but that may be due to kpathsea:
> pdftex test.tex 
This is pdfTeX, Version 3.141592-1.50.0-alpha-20070917
(Web2C 7.5.6)
entering extended mode
(./test.texkpathsea: Running mktextfm cmr-junk
mktextfm: Running mf-nowin -progname=mf \mode:=lexmarkr;
mag:=1; nonstopmode; input cmr-junk
This is METAFONT, Version 2.71828 (Web2C 7.5.4)

kpathsea: Running mktexmf cmr-junk
! I can't find file `cmr-junk'.
<*> ...xmarkr; mag:=1; nonstopmode; input cmr-junk
                                                  
Please type another input file name
! Emergency stop.
<*> ...xmarkr; mag:=1; nonstopmode; input cmr-junk
                                                  
Transcript written on mfput.log.
grep: cmr-junk.log: Datei oder Verzeichnis nicht gefunden
mktextfm: `mf-nowin -progname=mf \mode:=lexmarkr; mag:=1;
nonstopmode; input cmr-junk' failed to make cmr-junk.tfm.
kpathsea: Appending font creation commands to missfont.log.
 Font cmr-junk not found )
No pages of output.
Transcript written on test.log.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=864&group_id=106

From noreply at sarovar.org  Tue Dec 18 15:30:46 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Tue, 18 Dec 2007 20:00:46 +0530
Subject: [NTG-pdftex] [ pdftex-Patches-738 ] new primitive \pdfreplacefont
Message-ID: <E1J4dT4-00060y-00@sarovar.org>

Patches item #738, was opened at 2007-02-27 23:31
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=738&group_id=106

>Category: Fonts
>Group: v1.50.0
Status: Open
Resolution: None
Priority: 5
Submitted By: The Thanh Han (hanthethanh)
Assigned to: Hartmut Henkel (hhenkel)
Summary: new primitive \pdfreplacefont

Initial Comment:
This primitive controls whether font replacement should
be done when embedding pdf's.

----------------------------------------------------------------------

>Comment By: Martin Schr?der (oneiros)
Date: 2007-12-18 15:30

Message:
Logged In: YES 
user_id=421

What's the status of this? The patch doesn't apply to trunk
anymore...

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=738&group_id=106

From noreply at sarovar.org  Tue Dec 18 15:44:16 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Tue, 18 Dec 2007 20:14:16 +0530
Subject: [NTG-pdftex] [ pdftex-Patches-828 ] Make /XObject /Form coordinates
	independent from PDF page dimensions
Message-ID: <E1J4dg8-0001ER-00@sarovar.org>

Patches item #828, was opened at 2007-06-30 17:14
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=828&group_id=106

Category: Positioning
Group: v1.30.0
Status: Open
Resolution: None
Priority: 5
Submitted By: Hartmut Henkel (hhenkel)
>Assigned to: Taco Hoekwater (taco)
Summary: Make /XObject /Form coordinates independent from PDF page dimensions

Initial Comment:
Experimental patch for pdftex-1.40.3/luatex

In pdftex-1.30.4 \pdfpageheight spills over into
coordinate transforms inside /XObject /Form objects.
This isn't an error, but it complicates coordinate
transforms. This tiny patch should tidy up the web
source a little, making coordinate transforms inside
/Form objects relative to their inner lower left
position, independently from the PDF page dimensions.

Testing welcome.


----------------------------------------------------------------------

>Comment By: Martin Schr?der (oneiros)
Date: 2007-12-18 15:44

Message:
Logged In: YES 
user_id=421

I've updated the patch to apply cleanly against trunk.

Taco, can you comment on this?

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-07-01 02:14

Message:
Logged In: YES 
user_id=929

more simplified, few variables removed.

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-06-30 18:29

Message:
Logged In: YES 
user_id=929

annotations were positioned wrongly. patch corrected.

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-06-30 17:35

Message:
Logged In: YES 
user_id=929

seems it can be further simplified, new patch. Testing welcome.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=828&group_id=106

From noreply at sarovar.org  Tue Dec 18 15:50:21 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Tue, 18 Dec 2007 20:20:21 +0530
Subject: [NTG-pdftex] [ pdftex-Patches-871 ] Synchronization: pdfsync.sty
	embedded (1)
Message-ID: <E1J4dm1-0001FM-00@sarovar.org>

Patches item #871, was opened at 2007-09-30 10:56
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=871&group_id=106

Category: User interaction
Group: v1.40.0
Status: Open
Resolution: None
Priority: 5
Submitted By: Jerome LAURENS (jlaurens)
Assigned to: Martin Schr?der (oneiros)
Summary: Synchronization: pdfsync.sty embedded (1)

Initial Comment:
To the administrator, please remove the preceding patch submission

The purpose is to implement some extensions very useful for 
synchronization, both forwards and backwards. Synchronization is the 
ability for a text editor and a pdf viewer to work together, displaying the 
same thing at the same time. For example, a text editor can ask a pdf 
viewer to display and outline the character in the output corresponding to 
the character under the cursor.
Attached is a zip file containing diff against version 1.40.4, explanations 
and demonstrations in
synchronize.readme/synchronize+frames.pdf

PS: I have problems with my connection

----------------------------------------------------------------------

>Comment By: Martin Schr?der (oneiros)
Date: 2007-12-18 15:50

Message:
Logged In: YES 
user_id=421

Please update the patch against trunk and please use svn
diff. I refuse to look at this patch more closely since the
diff includes all the .svn files.

----------------------------------------------------------------------

Comment By: Jerome LAURENS (jlaurens)
Date: 2007-10-15 09:21

Message:
Logged In: YES 
user_id=4698

Synchronize3.zip is available.
It just adds a flag in the .sync file to indicate whether dvi or pdf mode was used.
So far I have found only one problem, using dvips or dvipdf with a concrete 
offset (-x and -y options) will break the synchronization. If such a filter is gentle 
enough to indicate that it used a custom offset, then viewers can take this into 
account and the synchronization is not broken. Viewers will check the above 
mentionned flag to look for customized offset.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-10-01 00:00

Message:
Logged In: YES 
user_id=421

You didn't attach Synchronize 2.zip yet...

----------------------------------------------------------------------

Comment By: Jerome LAURENS (jlaurens)
Date: 2007-09-30 23:10

Message:
Logged In: YES 
user_id=4698

Synchronize 2.zip is a version extending the previous one. Now synchronization 
works the same for both dvi and pdf output modes.


----------------------------------------------------------------------

Comment By: Jerome LAURENS (jlaurens)
Date: 2007-09-30 23:09

Message:
Logged In: YES 
user_id=4698

Synchronize 2.zip is a version extending the previous one. Now synchronization 
works the same for both dvi and pdf output modes.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=871&group_id=106

From noreply at sarovar.org  Tue Dec 18 15:57:02 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Tue, 18 Dec 2007 20:27:02 +0530
Subject: [NTG-pdftex] [ pdftex-Patches-735 ] patch for simplified horizontal
	positional tracking
Message-ID: <E1J4dsU-000350-00@sarovar.org>

Patches item #735, was opened at 2007-02-19 22:00
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=735&group_id=106

Category: Positioning
Group: v1.40.0
Status: Open
Resolution: None
Priority: 5
Submitted By: Hartmut Henkel (hhenkel)
>Assigned to: Taco Hoekwater (taco)
Summary: patch for simplified horizontal positional tracking

Initial Comment:
1. simpler calculations for horizontal position update
when inside []TJ arrays, now by pure additions within a
fontsize/10000 raster; no rounding errors can
accumulate. Gives about 7 % pdftex speed gain when
typesetting fiction-type stuff.

2. writet3.c now also with standard /FontMatrix [0.001
0 0 0.001 0 0], tidied up a little (.pgc part
untested). No need anymore (hope it's right) to handle
PK fonts specially by adv_char_width() in pdftex.web.

3. wrong use of printf() at a few places corrected by
Martin.

Work in progess, not safe for production. Needs more
testing, particularly with PK fonts.

Regards, Hartmut


----------------------------------------------------------------------

>Comment By: Martin Schr?der (oneiros)
Date: 2007-12-18 15:57

Message:
Logged In: YES 
user_id=421

Hartmut, what's the state of this?

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-03-04 11:27

Message:
Logged In: YES 
user_id=929

the extended patch 70226a needs more work; removed the patch
file.

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-02-25 23:51

Message:
Logged In: YES 
user_id=929

The previous patch 735 is now extended to general text and
graphics positioning on the PDF page. pdf_set_origin() (now
pdf_move_to()), pdf_set_textmatrix(), and pdf_begin_string()
are rewritten. In low placement resolution (e. g.
\pdfdecimaldigits=0) now the glyph placement is corrected
within the []TJ array by a leading number, like [7(a)...]TJ,
if required, so that always full TeX precision is kept (very
early pdftex versions might have used this also). Any
accumulation of rounding errors should be avoided now by the
used calculation principle.

Needs lots of testing.

Regards, Hartmut

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=735&group_id=106

From noreply at sarovar.org  Wed Dec 19 17:19:53 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Wed, 19 Dec 2007 21:49:53 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-887 ] trunk doesn't compile
Message-ID: <E1J51eD-0007Fy-00@sarovar.org>

Bugs item #887, was opened at 2007-12-19 16:19
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=887&group_id=106

Category: None
Group: None
Status: Open
Resolution: None
Priority: 5
Submitted By: Robert (schlcht)
Assigned to: Nobody (None)
Summary: trunk doesn't compile

Initial Comment:
Since r314, I cannot compile trunk/ anymore. The last
lines from build.sh are:

c++ -g -O2 -DHAVE_CONFIG_H  -I.
-I../../../../src/texk/web2c/pdftexdir -I../..
-I../../../../src/texk/web2c/pdftexdir/..
/.. -I../../../libs/xpdf -I../../../libs/xpdf/xpdf
-I../../../libs/xpdf/goo -I../../../libs/xpdf/fofi
-I../../../../src/
texk/web2c/pdftexdir/../../../libs/xpdf
-I../../../../src/texk/web2c/pdftexdir/../../../libs/xpdf/xpdf
-I../../../../src
/texk/web2c/pdftexdir/../../../libs/xpdf/goo
-I../../../../src/texk/web2c/pdftexdir/../../../libs/xpdf/fofi
-I../../../l
ibs/obsdcompat -I../../../libs/obsdcompat/..
-I../../../../src/texk/web2c/pdftexdir/../../../libs/obsdcompat
-I../../../
../src/texk/web2c/pdftexdir/../../../libs/obsdcompat/..
-DPDF_PARSER_ONLY -DDISABLE_OUTLINE -c
../../../../src/texk/web2
c/pdftexdir/pdftoepdf.cc
In file included from
../../../../src/texk/web2c/pdftexdir/pdftoepdf.cc:30:
../../../../src/texk/web2c/pdftexdir/pdflib.h:264:
error: base `XRef' with only non-default constructor in
class without
 a constructor
make[2]: *** [pdftoepdf.o] Error 1
make[2]: Leaving directory
`/cygdrive/c/Programme/TeXLive-test/trunk/source/build/texk/web2c/pdftexdir'
make[1]: *** [pdftexdir/libpdf.a] Error 2
make[1]: Leaving directory
`/cygdrive/c/Programme/TeXLive-test/trunk/source/build/texk/web2c'
make: *** [pdftexbin] Error 2


with:
$ c++ -v
Reading specs from /usr/lib/gcc/i686-pc-cygwin/3.4.4/specs
Configured with:
/usr/build/package/orig/test.respin/gcc-3.4.4-3/configure
--verbose --prefix=/usr --exec-prefix=/usr --
sysconfdir=/etc --libdir=/usr/lib --libexecdir=/usr/lib
--mandir=/usr/share/man --infodir=/usr/share/info
--enable-langu
ages=c,ada,c++,d,f77,pascal,java,objc --enable-nls
--without-included-gettext
--enable-version-specific-runtime-libs --w
ithout-x --enable-libgcj --disable-java-awt
--with-system-zlib --enable-interpreter
--disable-libgcj-debug --enable-thre
ads=posix --enable-java-gc=boehm
--disable-win32-registry --enable-sjlj-exceptions
--enable-hash-synchronization --enabl
e-libstdcxx-debug
Thread model: posix
gcc version 3.4.4 (cygming special, gdc 0.12, using dmd
0.125)



----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=887&group_id=106

From noreply at sarovar.org  Wed Dec 19 17:21:39 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Wed, 19 Dec 2007 21:51:39 +0530
Subject: [NTG-pdftex] [ pdftex-Patches-871 ] Synchronization: pdfsync.sty
	embedded (1)
Message-ID: <E1J51fv-0007GU-00@sarovar.org>

Patches item #871, was opened at 2007-09-30 08:56
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=871&group_id=106

Category: User interaction
Group: v1.40.0
Status: Open
Resolution: None
Priority: 5
Submitted By: Jerome LAURENS (jlaurens)
Assigned to: Martin Schr?der (oneiros)
Summary: Synchronization: pdfsync.sty embedded (1)

Initial Comment:
To the administrator, please remove the preceding patch submission

The purpose is to implement some extensions very useful for 
synchronization, both forwards and backwards. Synchronization is the 
ability for a text editor and a pdf viewer to work together, displaying the 
same thing at the same time. For example, a text editor can ask a pdf 
viewer to display and outline the character in the output corresponding to 
the character under the cursor.
Attached is a zip file containing diff against version 1.40.4, explanations 
and demonstrations in
synchronize.readme/synchronize+frames.pdf

PS: I have problems with my connection

----------------------------------------------------------------------

Comment By: Robert (schlcht)
Date: 2007-12-19 16:21

Message:
Logged In: YES 
user_id=2217

Also, the command line switch seems to be broken. It only
works with \synchronize=1 in the source here.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-18 14:50

Message:
Logged In: YES 
user_id=421

Please update the patch against trunk and please use svn
diff. I refuse to look at this patch more closely since the
diff includes all the .svn files.

----------------------------------------------------------------------

Comment By: Jerome LAURENS (jlaurens)
Date: 2007-10-15 07:21

Message:
Logged In: YES 
user_id=4698

Synchronize3.zip is available.
It just adds a flag in the .sync file to indicate whether dvi or pdf mode was used.
So far I have found only one problem, using dvips or dvipdf with a concrete 
offset (-x and -y options) will break the synchronization. If such a filter is gentle 
enough to indicate that it used a custom offset, then viewers can take this into 
account and the synchronization is not broken. Viewers will check the above 
mentionned flag to look for customized offset.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-09-30 22:00

Message:
Logged In: YES 
user_id=421

You didn't attach Synchronize 2.zip yet...

----------------------------------------------------------------------

Comment By: Jerome LAURENS (jlaurens)
Date: 2007-09-30 21:10

Message:
Logged In: YES 
user_id=4698

Synchronize 2.zip is a version extending the previous one. Now synchronization 
works the same for both dvi and pdf output modes.


----------------------------------------------------------------------

Comment By: Jerome LAURENS (jlaurens)
Date: 2007-09-30 21:09

Message:
Logged In: YES 
user_id=4698

Synchronize 2.zip is a version extending the previous one. Now synchronization 
works the same for both dvi and pdf output modes.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=871&group_id=106

From noreply at sarovar.org  Wed Dec 19 17:31:03 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Wed, 19 Dec 2007 22:01:03 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-887 ] trunk doesn't compile
Message-ID: <E1J51p1-0000j6-00@sarovar.org>

Bugs item #887, was opened at 2007-12-19 17:19
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=887&group_id=106

>Category: Build process
Group: None
Status: Open
Resolution: None
Priority: 5
Submitted By: Robert (schlcht)
>Assigned to: Martin Schr?der (oneiros)
Summary: trunk doesn't compile

Initial Comment:
Since r314, I cannot compile trunk/ anymore. The last
lines from build.sh are:

c++ -g -O2 -DHAVE_CONFIG_H  -I.
-I../../../../src/texk/web2c/pdftexdir -I../..
-I../../../../src/texk/web2c/pdftexdir/..
/.. -I../../../libs/xpdf -I../../../libs/xpdf/xpdf
-I../../../libs/xpdf/goo -I../../../libs/xpdf/fofi
-I../../../../src/
texk/web2c/pdftexdir/../../../libs/xpdf
-I../../../../src/texk/web2c/pdftexdir/../../../libs/xpdf/xpdf
-I../../../../src
/texk/web2c/pdftexdir/../../../libs/xpdf/goo
-I../../../../src/texk/web2c/pdftexdir/../../../libs/xpdf/fofi
-I../../../l
ibs/obsdcompat -I../../../libs/obsdcompat/..
-I../../../../src/texk/web2c/pdftexdir/../../../libs/obsdcompat
-I../../../
../src/texk/web2c/pdftexdir/../../../libs/obsdcompat/..
-DPDF_PARSER_ONLY -DDISABLE_OUTLINE -c
../../../../src/texk/web2
c/pdftexdir/pdftoepdf.cc
In file included from
../../../../src/texk/web2c/pdftexdir/pdftoepdf.cc:30:
../../../../src/texk/web2c/pdftexdir/pdflib.h:264:
error: base `XRef' with only non-default constructor in
class without
 a constructor
make[2]: *** [pdftoepdf.o] Error 1
make[2]: Leaving directory
`/cygdrive/c/Programme/TeXLive-test/trunk/source/build/texk/web2c/pdftexdir'
make[1]: *** [pdftexdir/libpdf.a] Error 2
make[1]: Leaving directory
`/cygdrive/c/Programme/TeXLive-test/trunk/source/build/texk/web2c'
make: *** [pdftexbin] Error 2


with:
$ c++ -v
Reading specs from /usr/lib/gcc/i686-pc-cygwin/3.4.4/specs
Configured with:
/usr/build/package/orig/test.respin/gcc-3.4.4-3/configure
--verbose --prefix=/usr --exec-prefix=/usr --
sysconfdir=/etc --libdir=/usr/lib --libexecdir=/usr/lib
--mandir=/usr/share/man --infodir=/usr/share/info
--enable-langu
ages=c,ada,c++,d,f77,pascal,java,objc --enable-nls
--without-included-gettext
--enable-version-specific-runtime-libs --w
ithout-x --enable-libgcj --disable-java-awt
--with-system-zlib --enable-interpreter
--disable-libgcj-debug --enable-thre
ads=posix --enable-java-gc=boehm
--disable-win32-registry --enable-sjlj-exceptions
--enable-hash-synchronization --enabl
e-libstdcxx-debug
Thread model: posix
gcc version 3.4.4 (cygming special, gdc 0.12, using dmd
0.125)



----------------------------------------------------------------------

>Comment By: Martin Schr?der (oneiros)
Date: 2007-12-19 17:31

Message:
Logged In: YES 
user_id=421

Cygwin :-(

It works with cc (GCC) 4.2.1 (SUSE Linux), but I'll test on
OpenBSD.

Can you compile a standard xpdf 3.02?

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=887&group_id=106

From noreply at sarovar.org  Wed Dec 19 17:42:53 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Wed, 19 Dec 2007 22:12:53 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-884 ] Letterspacing and non-autoexpanded
	fonts
Message-ID: <E1J520T-0002dl-00@sarovar.org>

Bugs item #884, was opened at 2007-11-27 09:53
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=884&group_id=106

Category: hz
Group: v1.40.5
Status: Open
Resolution: Accepted
Priority: 3
Submitted By: Robert (schlcht)
Assigned to: The Thanh Han (hanthethanh)
Summary: Letterspacing and non-autoexpanded fonts

Initial Comment:
While auto-expanding letterspaced fonts works fine now,
there still is a problem with non-automatic expansion.
The following will complain about a missing tfm file.

It doesn't make a difference whether the expanded font
instance is created from an mf file (like below), via
`ExtendFont' in the map file, or even whether it was
created from a MM font (ie., the expanded instance
actually exists as a pfb file).
The latter case is what bothers me the most.

\pdfadjustspacing2
\pdfmapline{ cmr10}
\pdfmapline{+cmr10+100}
\font\cmr=cmr10 \cmr
\letterspacefont\cmrls=\cmr 100
\pdffontexpand\cmrls 100 0 100 %autoexpand
\cmrls
Hamburgefonts\par
\parfillskip 0pt
Hamburgefonts
\bye

PS: what about the `invalid entry' complaint for the
map lines? Are they not legal?

----------------------------------------------------------------------

>Comment By: Robert (schlcht)
Date: 2007-12-19 16:42

Message:
Logged In: YES 
user_id=2217

> A map line needs either a psname (for not-embedded fonts) 
> or the file name (for embedded fonts)

The manual seems to suggest otherwise (re scalable Type 3
fonts). Also, older pdftex versions wouldn't throw a
warning, but use the Type 3 font instead.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-11-27 10:05

Message:
Logged In: YES 
user_id=421

A map line needs either a psname (for not-embedded fonts) or
the file name (for embedded fonts)

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=884&group_id=106

From noreply at sarovar.org  Wed Dec 19 17:51:47 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Wed, 19 Dec 2007 22:21:47 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-887 ] trunk doesn't compile
Message-ID: <E1J5295-0004T4-00@sarovar.org>

Bugs item #887, was opened at 2007-12-19 16:19
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=887&group_id=106

Category: Build process
Group: None
Status: Open
Resolution: None
Priority: 5
Submitted By: Robert (schlcht)
Assigned to: Martin Schr?der (oneiros)
Summary: trunk doesn't compile

Initial Comment:
Since r314, I cannot compile trunk/ anymore. The last
lines from build.sh are:

c++ -g -O2 -DHAVE_CONFIG_H  -I.
-I../../../../src/texk/web2c/pdftexdir -I../..
-I../../../../src/texk/web2c/pdftexdir/..
/.. -I../../../libs/xpdf -I../../../libs/xpdf/xpdf
-I../../../libs/xpdf/goo -I../../../libs/xpdf/fofi
-I../../../../src/
texk/web2c/pdftexdir/../../../libs/xpdf
-I../../../../src/texk/web2c/pdftexdir/../../../libs/xpdf/xpdf
-I../../../../src
/texk/web2c/pdftexdir/../../../libs/xpdf/goo
-I../../../../src/texk/web2c/pdftexdir/../../../libs/xpdf/fofi
-I../../../l
ibs/obsdcompat -I../../../libs/obsdcompat/..
-I../../../../src/texk/web2c/pdftexdir/../../../libs/obsdcompat
-I../../../
../src/texk/web2c/pdftexdir/../../../libs/obsdcompat/..
-DPDF_PARSER_ONLY -DDISABLE_OUTLINE -c
../../../../src/texk/web2
c/pdftexdir/pdftoepdf.cc
In file included from
../../../../src/texk/web2c/pdftexdir/pdftoepdf.cc:30:
../../../../src/texk/web2c/pdftexdir/pdflib.h:264:
error: base `XRef' with only non-default constructor in
class without
 a constructor
make[2]: *** [pdftoepdf.o] Error 1
make[2]: Leaving directory
`/cygdrive/c/Programme/TeXLive-test/trunk/source/build/texk/web2c/pdftexdir'
make[1]: *** [pdftexdir/libpdf.a] Error 2
make[1]: Leaving directory
`/cygdrive/c/Programme/TeXLive-test/trunk/source/build/texk/web2c'
make: *** [pdftexbin] Error 2


with:
$ c++ -v
Reading specs from /usr/lib/gcc/i686-pc-cygwin/3.4.4/specs
Configured with:
/usr/build/package/orig/test.respin/gcc-3.4.4-3/configure
--verbose --prefix=/usr --exec-prefix=/usr --
sysconfdir=/etc --libdir=/usr/lib --libexecdir=/usr/lib
--mandir=/usr/share/man --infodir=/usr/share/info
--enable-langu
ages=c,ada,c++,d,f77,pascal,java,objc --enable-nls
--without-included-gettext
--enable-version-specific-runtime-libs --w
ithout-x --enable-libgcj --disable-java-awt
--with-system-zlib --enable-interpreter
--disable-libgcj-debug --enable-thre
ads=posix --enable-java-gc=boehm
--disable-win32-registry --enable-sjlj-exceptions
--enable-hash-synchronization --enabl
e-libstdcxx-debug
Thread model: posix
gcc version 3.4.4 (cygming special, gdc 0.12, using dmd
0.125)



----------------------------------------------------------------------

>Comment By: Robert (schlcht)
Date: 2007-12-19 16:51

Message:
Logged In: YES 
user_id=2217

If the one in trunk/source/src/libs/xpdf is a standard xpdf,
then yes, it compiles.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-19 16:31

Message:
Logged In: YES 
user_id=421

Cygwin :-(

It works with cc (GCC) 4.2.1 (SUSE Linux), but I'll test on
OpenBSD.

Can you compile a standard xpdf 3.02?

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=887&group_id=106

From noreply at sarovar.org  Wed Dec 19 20:56:45 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Thu, 20 Dec 2007 01:26:45 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-887 ] trunk doesn't compile
Message-ID: <E1J5525-00072L-00@sarovar.org>

Bugs item #887, was opened at 2007-12-19 17:19
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=887&group_id=106

Category: Build process
Group: None
Status: Open
>Resolution: Accepted
Priority: 5
Submitted By: Robert (schlcht)
Assigned to: Martin Schr?der (oneiros)
Summary: trunk doesn't compile

Initial Comment:
Since r314, I cannot compile trunk/ anymore. The last
lines from build.sh are:

c++ -g -O2 -DHAVE_CONFIG_H  -I.
-I../../../../src/texk/web2c/pdftexdir -I../..
-I../../../../src/texk/web2c/pdftexdir/..
/.. -I../../../libs/xpdf -I../../../libs/xpdf/xpdf
-I../../../libs/xpdf/goo -I../../../libs/xpdf/fofi
-I../../../../src/
texk/web2c/pdftexdir/../../../libs/xpdf
-I../../../../src/texk/web2c/pdftexdir/../../../libs/xpdf/xpdf
-I../../../../src
/texk/web2c/pdftexdir/../../../libs/xpdf/goo
-I../../../../src/texk/web2c/pdftexdir/../../../libs/xpdf/fofi
-I../../../l
ibs/obsdcompat -I../../../libs/obsdcompat/..
-I../../../../src/texk/web2c/pdftexdir/../../../libs/obsdcompat
-I../../../
../src/texk/web2c/pdftexdir/../../../libs/obsdcompat/..
-DPDF_PARSER_ONLY -DDISABLE_OUTLINE -c
../../../../src/texk/web2
c/pdftexdir/pdftoepdf.cc
In file included from
../../../../src/texk/web2c/pdftexdir/pdftoepdf.cc:30:
../../../../src/texk/web2c/pdftexdir/pdflib.h:264:
error: base `XRef' with only non-default constructor in
class without
 a constructor
make[2]: *** [pdftoepdf.o] Error 1
make[2]: Leaving directory
`/cygdrive/c/Programme/TeXLive-test/trunk/source/build/texk/web2c/pdftexdir'
make[1]: *** [pdftexdir/libpdf.a] Error 2
make[1]: Leaving directory
`/cygdrive/c/Programme/TeXLive-test/trunk/source/build/texk/web2c'
make: *** [pdftexbin] Error 2


with:
$ c++ -v
Reading specs from /usr/lib/gcc/i686-pc-cygwin/3.4.4/specs
Configured with:
/usr/build/package/orig/test.respin/gcc-3.4.4-3/configure
--verbose --prefix=/usr --exec-prefix=/usr --
sysconfdir=/etc --libdir=/usr/lib --libexecdir=/usr/lib
--mandir=/usr/share/man --infodir=/usr/share/info
--enable-langu
ages=c,ada,c++,d,f77,pascal,java,objc --enable-nls
--without-included-gettext
--enable-version-specific-runtime-libs --w
ithout-x --enable-libgcj --disable-java-awt
--with-system-zlib --enable-interpreter
--disable-libgcj-debug --enable-thre
ads=posix --enable-java-gc=boehm
--disable-win32-registry --enable-sjlj-exceptions
--enable-hash-synchronization --enabl
e-libstdcxx-debug
Thread model: posix
gcc version 3.4.4 (cygming special, gdc 0.12, using dmd
0.125)



----------------------------------------------------------------------

>Comment By: Martin Schr?der (oneiros)
Date: 2007-12-19 20:56

Message:
Logged In: YES 
user_id=421

I can reproduce this with 
gcc (GCC) 3.3.5 (propolice)
on OpenBSD 4.1

So it's not cygwin, but g++ 3. I'll fix this tomorrow.

----------------------------------------------------------------------

Comment By: Robert (schlcht)
Date: 2007-12-19 17:51

Message:
Logged In: YES 
user_id=2217

If the one in trunk/source/src/libs/xpdf is a standard xpdf,
then yes, it compiles.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-19 17:31

Message:
Logged In: YES 
user_id=421

Cygwin :-(

It works with cc (GCC) 4.2.1 (SUSE Linux), but I'll test on
OpenBSD.

Can you compile a standard xpdf 3.02?

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=887&group_id=106

From noreply at sarovar.org  Wed Dec 19 20:58:19 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Thu, 20 Dec 2007 01:28:19 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-887 ] trunk doesn't compile
Message-ID: <E1J553b-00072Z-00@sarovar.org>

Bugs item #887, was opened at 2007-12-19 17:19
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=887&group_id=106

Category: Build process
>Group: v1.50.0-alpha
Status: Open
Resolution: Accepted
Priority: 5
Submitted By: Robert (schlcht)
Assigned to: Martin Schr?der (oneiros)
Summary: trunk doesn't compile

Initial Comment:
Since r314, I cannot compile trunk/ anymore. The last
lines from build.sh are:

c++ -g -O2 -DHAVE_CONFIG_H  -I.
-I../../../../src/texk/web2c/pdftexdir -I../..
-I../../../../src/texk/web2c/pdftexdir/..
/.. -I../../../libs/xpdf -I../../../libs/xpdf/xpdf
-I../../../libs/xpdf/goo -I../../../libs/xpdf/fofi
-I../../../../src/
texk/web2c/pdftexdir/../../../libs/xpdf
-I../../../../src/texk/web2c/pdftexdir/../../../libs/xpdf/xpdf
-I../../../../src
/texk/web2c/pdftexdir/../../../libs/xpdf/goo
-I../../../../src/texk/web2c/pdftexdir/../../../libs/xpdf/fofi
-I../../../l
ibs/obsdcompat -I../../../libs/obsdcompat/..
-I../../../../src/texk/web2c/pdftexdir/../../../libs/obsdcompat
-I../../../
../src/texk/web2c/pdftexdir/../../../libs/obsdcompat/..
-DPDF_PARSER_ONLY -DDISABLE_OUTLINE -c
../../../../src/texk/web2
c/pdftexdir/pdftoepdf.cc
In file included from
../../../../src/texk/web2c/pdftexdir/pdftoepdf.cc:30:
../../../../src/texk/web2c/pdftexdir/pdflib.h:264:
error: base `XRef' with only non-default constructor in
class without
 a constructor
make[2]: *** [pdftoepdf.o] Error 1
make[2]: Leaving directory
`/cygdrive/c/Programme/TeXLive-test/trunk/source/build/texk/web2c/pdftexdir'
make[1]: *** [pdftexdir/libpdf.a] Error 2
make[1]: Leaving directory
`/cygdrive/c/Programme/TeXLive-test/trunk/source/build/texk/web2c'
make: *** [pdftexbin] Error 2


with:
$ c++ -v
Reading specs from /usr/lib/gcc/i686-pc-cygwin/3.4.4/specs
Configured with:
/usr/build/package/orig/test.respin/gcc-3.4.4-3/configure
--verbose --prefix=/usr --exec-prefix=/usr --
sysconfdir=/etc --libdir=/usr/lib --libexecdir=/usr/lib
--mandir=/usr/share/man --infodir=/usr/share/info
--enable-langu
ages=c,ada,c++,d,f77,pascal,java,objc --enable-nls
--without-included-gettext
--enable-version-specific-runtime-libs --w
ithout-x --enable-libgcj --disable-java-awt
--with-system-zlib --enable-interpreter
--disable-libgcj-debug --enable-thre
ads=posix --enable-java-gc=boehm
--disable-win32-registry --enable-sjlj-exceptions
--enable-hash-synchronization --enabl
e-libstdcxx-debug
Thread model: posix
gcc version 3.4.4 (cygming special, gdc 0.12, using dmd
0.125)



----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-19 20:56

Message:
Logged In: YES 
user_id=421

I can reproduce this with 
gcc (GCC) 3.3.5 (propolice)
on OpenBSD 4.1

So it's not cygwin, but g++ 3. I'll fix this tomorrow.

----------------------------------------------------------------------

Comment By: Robert (schlcht)
Date: 2007-12-19 17:51

Message:
Logged In: YES 
user_id=2217

If the one in trunk/source/src/libs/xpdf is a standard xpdf,
then yes, it compiles.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-19 17:31

Message:
Logged In: YES 
user_id=421

Cygwin :-(

It works with cc (GCC) 4.2.1 (SUSE Linux), but I'll test on
OpenBSD.

Can you compile a standard xpdf 3.02?

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=887&group_id=106

From noreply at sarovar.org  Wed Dec 19 21:44:28 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Thu, 20 Dec 2007 02:14:28 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-887 ] trunk doesn't compile
Message-ID: <E1J55mF-0006pI-00@sarovar.org>

Bugs item #887, was opened at 2007-12-19 17:19
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=887&group_id=106

Category: Build process
Group: v1.50.0-alpha
Status: Open
>Resolution: Fixed
Priority: 5
Submitted By: Robert (schlcht)
Assigned to: Martin Schr?der (oneiros)
Summary: trunk doesn't compile

Initial Comment:
Since r314, I cannot compile trunk/ anymore. The last
lines from build.sh are:

c++ -g -O2 -DHAVE_CONFIG_H  -I.
-I../../../../src/texk/web2c/pdftexdir -I../..
-I../../../../src/texk/web2c/pdftexdir/..
/.. -I../../../libs/xpdf -I../../../libs/xpdf/xpdf
-I../../../libs/xpdf/goo -I../../../libs/xpdf/fofi
-I../../../../src/
texk/web2c/pdftexdir/../../../libs/xpdf
-I../../../../src/texk/web2c/pdftexdir/../../../libs/xpdf/xpdf
-I../../../../src
/texk/web2c/pdftexdir/../../../libs/xpdf/goo
-I../../../../src/texk/web2c/pdftexdir/../../../libs/xpdf/fofi
-I../../../l
ibs/obsdcompat -I../../../libs/obsdcompat/..
-I../../../../src/texk/web2c/pdftexdir/../../../libs/obsdcompat
-I../../../
../src/texk/web2c/pdftexdir/../../../libs/obsdcompat/..
-DPDF_PARSER_ONLY -DDISABLE_OUTLINE -c
../../../../src/texk/web2
c/pdftexdir/pdftoepdf.cc
In file included from
../../../../src/texk/web2c/pdftexdir/pdftoepdf.cc:30:
../../../../src/texk/web2c/pdftexdir/pdflib.h:264:
error: base `XRef' with only non-default constructor in
class without
 a constructor
make[2]: *** [pdftoepdf.o] Error 1
make[2]: Leaving directory
`/cygdrive/c/Programme/TeXLive-test/trunk/source/build/texk/web2c/pdftexdir'
make[1]: *** [pdftexdir/libpdf.a] Error 2
make[1]: Leaving directory
`/cygdrive/c/Programme/TeXLive-test/trunk/source/build/texk/web2c'
make: *** [pdftexbin] Error 2


with:
$ c++ -v
Reading specs from /usr/lib/gcc/i686-pc-cygwin/3.4.4/specs
Configured with:
/usr/build/package/orig/test.respin/gcc-3.4.4-3/configure
--verbose --prefix=/usr --exec-prefix=/usr --
sysconfdir=/etc --libdir=/usr/lib --libexecdir=/usr/lib
--mandir=/usr/share/man --infodir=/usr/share/info
--enable-langu
ages=c,ada,c++,d,f77,pascal,java,objc --enable-nls
--without-included-gettext
--enable-version-specific-runtime-libs --w
ithout-x --enable-libgcj --disable-java-awt
--with-system-zlib --enable-interpreter
--disable-libgcj-debug --enable-thre
ads=posix --enable-java-gc=boehm
--disable-win32-registry --enable-sjlj-exceptions
--enable-hash-synchronization --enabl
e-libstdcxx-debug
Thread model: posix
gcc version 3.4.4 (cygming special, gdc 0.12, using dmd
0.125)



----------------------------------------------------------------------

>Comment By: Martin Schr?der (oneiros)
Date: 2007-12-19 21:44

Message:
Logged In: YES 
user_id=421

This should be fixed in r325.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-19 20:56

Message:
Logged In: YES 
user_id=421

I can reproduce this with 
gcc (GCC) 3.3.5 (propolice)
on OpenBSD 4.1

So it's not cygwin, but g++ 3. I'll fix this tomorrow.

----------------------------------------------------------------------

Comment By: Robert (schlcht)
Date: 2007-12-19 17:51

Message:
Logged In: YES 
user_id=2217

If the one in trunk/source/src/libs/xpdf is a standard xpdf,
then yes, it compiles.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-19 17:31

Message:
Logged In: YES 
user_id=421

Cygwin :-(

It works with cc (GCC) 4.2.1 (SUSE Linux), but I'll test on
OpenBSD.

Can you compile a standard xpdf 3.02?

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=887&group_id=106

From noreply at sarovar.org  Thu Dec 20 00:07:24 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Thu, 20 Dec 2007 04:37:24 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-887 ] trunk doesn't compile
Message-ID: <E1J580a-0007Yp-00@sarovar.org>

Bugs item #887, was opened at 2007-12-19 16:19
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=887&group_id=106

Category: Build process
Group: v1.50.0-alpha
Status: Open
Resolution: Fixed
Priority: 5
Submitted By: Robert (schlcht)
Assigned to: Martin Schr?der (oneiros)
Summary: trunk doesn't compile

Initial Comment:
Since r314, I cannot compile trunk/ anymore. The last
lines from build.sh are:

c++ -g -O2 -DHAVE_CONFIG_H  -I.
-I../../../../src/texk/web2c/pdftexdir -I../..
-I../../../../src/texk/web2c/pdftexdir/..
/.. -I../../../libs/xpdf -I../../../libs/xpdf/xpdf
-I../../../libs/xpdf/goo -I../../../libs/xpdf/fofi
-I../../../../src/
texk/web2c/pdftexdir/../../../libs/xpdf
-I../../../../src/texk/web2c/pdftexdir/../../../libs/xpdf/xpdf
-I../../../../src
/texk/web2c/pdftexdir/../../../libs/xpdf/goo
-I../../../../src/texk/web2c/pdftexdir/../../../libs/xpdf/fofi
-I../../../l
ibs/obsdcompat -I../../../libs/obsdcompat/..
-I../../../../src/texk/web2c/pdftexdir/../../../libs/obsdcompat
-I../../../
../src/texk/web2c/pdftexdir/../../../libs/obsdcompat/..
-DPDF_PARSER_ONLY -DDISABLE_OUTLINE -c
../../../../src/texk/web2
c/pdftexdir/pdftoepdf.cc
In file included from
../../../../src/texk/web2c/pdftexdir/pdftoepdf.cc:30:
../../../../src/texk/web2c/pdftexdir/pdflib.h:264:
error: base `XRef' with only non-default constructor in
class without
 a constructor
make[2]: *** [pdftoepdf.o] Error 1
make[2]: Leaving directory
`/cygdrive/c/Programme/TeXLive-test/trunk/source/build/texk/web2c/pdftexdir'
make[1]: *** [pdftexdir/libpdf.a] Error 2
make[1]: Leaving directory
`/cygdrive/c/Programme/TeXLive-test/trunk/source/build/texk/web2c'
make: *** [pdftexbin] Error 2


with:
$ c++ -v
Reading specs from /usr/lib/gcc/i686-pc-cygwin/3.4.4/specs
Configured with:
/usr/build/package/orig/test.respin/gcc-3.4.4-3/configure
--verbose --prefix=/usr --exec-prefix=/usr --
sysconfdir=/etc --libdir=/usr/lib --libexecdir=/usr/lib
--mandir=/usr/share/man --infodir=/usr/share/info
--enable-langu
ages=c,ada,c++,d,f77,pascal,java,objc --enable-nls
--without-included-gettext
--enable-version-specific-runtime-libs --w
ithout-x --enable-libgcj --disable-java-awt
--with-system-zlib --enable-interpreter
--disable-libgcj-debug --enable-thre
ads=posix --enable-java-gc=boehm
--disable-win32-registry --enable-sjlj-exceptions
--enable-hash-synchronization --enabl
e-libstdcxx-debug
Thread model: posix
gcc version 3.4.4 (cygming special, gdc 0.12, using dmd
0.125)



----------------------------------------------------------------------

>Comment By: Robert (schlcht)
Date: 2007-12-19 23:07

Message:
Logged In: YES 
user_id=2217

it is, thanks.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-19 20:44

Message:
Logged In: YES 
user_id=421

This should be fixed in r325.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-19 19:56

Message:
Logged In: YES 
user_id=421

I can reproduce this with 
gcc (GCC) 3.3.5 (propolice)
on OpenBSD 4.1

So it's not cygwin, but g++ 3. I'll fix this tomorrow.

----------------------------------------------------------------------

Comment By: Robert (schlcht)
Date: 2007-12-19 16:51

Message:
Logged In: YES 
user_id=2217

If the one in trunk/source/src/libs/xpdf is a standard xpdf,
then yes, it compiles.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-19 16:31

Message:
Logged In: YES 
user_id=421

Cygwin :-(

It works with cc (GCC) 4.2.1 (SUSE Linux), but I'll test on
OpenBSD.

Can you compile a standard xpdf 3.02?

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=887&group_id=106

From noreply at sarovar.org  Thu Dec 20 00:23:47 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Thu, 20 Dec 2007 04:53:47 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-887 ] trunk doesn't compile
Message-ID: <E1J58GR-0004qI-00@sarovar.org>

Bugs item #887, was opened at 2007-12-19 17:19
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=887&group_id=106

Category: Build process
Group: v1.50.0-alpha
>Status: Closed
Resolution: Fixed
Priority: 5
Submitted By: Robert (schlcht)
Assigned to: Martin Schr?der (oneiros)
Summary: trunk doesn't compile

Initial Comment:
Since r314, I cannot compile trunk/ anymore. The last
lines from build.sh are:

c++ -g -O2 -DHAVE_CONFIG_H  -I.
-I../../../../src/texk/web2c/pdftexdir -I../..
-I../../../../src/texk/web2c/pdftexdir/..
/.. -I../../../libs/xpdf -I../../../libs/xpdf/xpdf
-I../../../libs/xpdf/goo -I../../../libs/xpdf/fofi
-I../../../../src/
texk/web2c/pdftexdir/../../../libs/xpdf
-I../../../../src/texk/web2c/pdftexdir/../../../libs/xpdf/xpdf
-I../../../../src
/texk/web2c/pdftexdir/../../../libs/xpdf/goo
-I../../../../src/texk/web2c/pdftexdir/../../../libs/xpdf/fofi
-I../../../l
ibs/obsdcompat -I../../../libs/obsdcompat/..
-I../../../../src/texk/web2c/pdftexdir/../../../libs/obsdcompat
-I../../../
../src/texk/web2c/pdftexdir/../../../libs/obsdcompat/..
-DPDF_PARSER_ONLY -DDISABLE_OUTLINE -c
../../../../src/texk/web2
c/pdftexdir/pdftoepdf.cc
In file included from
../../../../src/texk/web2c/pdftexdir/pdftoepdf.cc:30:
../../../../src/texk/web2c/pdftexdir/pdflib.h:264:
error: base `XRef' with only non-default constructor in
class without
 a constructor
make[2]: *** [pdftoepdf.o] Error 1
make[2]: Leaving directory
`/cygdrive/c/Programme/TeXLive-test/trunk/source/build/texk/web2c/pdftexdir'
make[1]: *** [pdftexdir/libpdf.a] Error 2
make[1]: Leaving directory
`/cygdrive/c/Programme/TeXLive-test/trunk/source/build/texk/web2c'
make: *** [pdftexbin] Error 2


with:
$ c++ -v
Reading specs from /usr/lib/gcc/i686-pc-cygwin/3.4.4/specs
Configured with:
/usr/build/package/orig/test.respin/gcc-3.4.4-3/configure
--verbose --prefix=/usr --exec-prefix=/usr --
sysconfdir=/etc --libdir=/usr/lib --libexecdir=/usr/lib
--mandir=/usr/share/man --infodir=/usr/share/info
--enable-langu
ages=c,ada,c++,d,f77,pascal,java,objc --enable-nls
--without-included-gettext
--enable-version-specific-runtime-libs --w
ithout-x --enable-libgcj --disable-java-awt
--with-system-zlib --enable-interpreter
--disable-libgcj-debug --enable-thre
ads=posix --enable-java-gc=boehm
--disable-win32-registry --enable-sjlj-exceptions
--enable-hash-synchronization --enabl
e-libstdcxx-debug
Thread model: posix
gcc version 3.4.4 (cygming special, gdc 0.12, using dmd
0.125)



----------------------------------------------------------------------

Comment By: Robert (schlcht)
Date: 2007-12-20 00:07

Message:
Logged In: YES 
user_id=2217

it is, thanks.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-19 21:44

Message:
Logged In: YES 
user_id=421

This should be fixed in r325.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-19 20:56

Message:
Logged In: YES 
user_id=421

I can reproduce this with 
gcc (GCC) 3.3.5 (propolice)
on OpenBSD 4.1

So it's not cygwin, but g++ 3. I'll fix this tomorrow.

----------------------------------------------------------------------

Comment By: Robert (schlcht)
Date: 2007-12-19 17:51

Message:
Logged In: YES 
user_id=2217

If the one in trunk/source/src/libs/xpdf is a standard xpdf,
then yes, it compiles.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-19 17:31

Message:
Logged In: YES 
user_id=421

Cygwin :-(

It works with cc (GCC) 4.2.1 (SUSE Linux), but I'll test on
OpenBSD.

Can you compile a standard xpdf 3.02?

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=887&group_id=106

From noreply at sarovar.org  Sat Dec 29 21:00:27 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Sun, 30 Dec 2007 01:30:27 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-896 ] including an image (pdf or png)
	with transparency messes up other colours on that page
Message-ID: <E1J8hr9-0006ct-00@sarovar.org>

Bugs item #896, was opened at 2007-12-29 16:00
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=896&group_id=106

Category: None
Group: None
Status: Open
Resolution: None
Priority: 5
Submitted By: Jim Diamond (zsd)
Assigned to: Nobody (None)
Summary: including an image (pdf or png) with transparency messes up other colours on that page

Initial Comment:
Download
http://www.libpng.org/pub/png/img_png/stefan_255_rgba.png
(which has a transparent background) and run it through
png2pdf as follows:
png2pdf -i stefan_255_rgba.png stefan_255_rgba-i.pdf
png2pdf -a stefan_255_rgba.png stefan_255_rgba-a.pdf
png2pdf stefan_255_rgba.png stefan_255_rgba-neither.pdf

Then run the following through pdflatex (pdfTeXk,
Version 3.141592-1.40.3 (Web2C 7.5.6))

\documentclass{beamer}
\mode<presentation>
{
  \usetheme{Madrid}
  \setbeamercovered{transparent}
}

\usepackage{ifpdf}
\usepackage{graphicx}
\usepackage{color}
\ifpdf
\hypersetup{%
  pdfpagemode=FullScreen,
  pdfpagetransition={Wipe /Di 0 /D 0.5}
}
\fi

\title[Beamer and png2pdf]{Using png2pdf with the
beamer class}
\author[Krause]{D.~Krause}
\subject{png2pdf}

\begin{document}
\beamertemplateshadingbackground{yellow!50}{magenta!50}

\begin{frame}
\frametitle{NO Image over background}
This is some text
\end{frame}

\begin{frame}
\frametitle{Original stefan... png image over background}
\includegraphics{stefan_255_rgba.png}%
\end{frame}

\begin{frame}
\frametitle{png2pdf -a stefan... image over background}
\includegraphics{stefan_255_rgba-a.pdf}%
\end{frame}

\begin{frame}
\frametitle{png2pdf -i stefan... image over background}
\includegraphics{stefan_255_rgba-i.pdf}%
\end{frame}

\begin{frame}
\frametitle{png2pdf stefan... over background}
\includegraphics{stefan_255_rgba-neither.pdf}%
\end{frame}

\end{document}

Now look at the resulting PDF (attached) with Acroread
7.0.9 or 8.1.1 on Linux.  On the page which includes
the PNG and also on the page which includes the png2pdf
-a version,
the other colours on the page are messed up somewhat.

This also happens on Acroread 8.? running on Windoze xp
under vmware, although it seems a bit less noticeable.

There is no apparent problem when looking at the file
with xpdf or kpdf (Slackware 12.0 Linux).

It's not clear to me whether this is an acroread bug or
a pdftex bug, but Martin Schr?der suggested I open a
bug here.

Cheers.
              Jim

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=896&group_id=106

From noreply at sarovar.org  Sat Dec 29 21:08:39 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Sun, 30 Dec 2007 01:38:39 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-896 ] including an image (pdf or png)
	with transparency messes up other colours on that page
Message-ID: <E1J8hz5-0008SW-00@sarovar.org>

Bugs item #896, was opened at 2007-12-29 21:00
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=896&group_id=106

>Category: PDF inclusion
>Group: v1.40.3
Status: Open
>Resolution: Accepted
Priority: 5
Submitted By: Jim Diamond (zsd)
>Assigned to: Martin Schr?der (oneiros)
Summary: including an image (pdf or png) with transparency messes up other colours on that page

Initial Comment:
Download
http://www.libpng.org/pub/png/img_png/stefan_255_rgba.png
(which has a transparent background) and run it through
png2pdf as follows:
png2pdf -i stefan_255_rgba.png stefan_255_rgba-i.pdf
png2pdf -a stefan_255_rgba.png stefan_255_rgba-a.pdf
png2pdf stefan_255_rgba.png stefan_255_rgba-neither.pdf

Then run the following through pdflatex (pdfTeXk,
Version 3.141592-1.40.3 (Web2C 7.5.6))

\documentclass{beamer}
\mode<presentation>
{
  \usetheme{Madrid}
  \setbeamercovered{transparent}
}

\usepackage{ifpdf}
\usepackage{graphicx}
\usepackage{color}
\ifpdf
\hypersetup{%
  pdfpagemode=FullScreen,
  pdfpagetransition={Wipe /Di 0 /D 0.5}
}
\fi

\title[Beamer and png2pdf]{Using png2pdf with the
beamer class}
\author[Krause]{D.~Krause}
\subject{png2pdf}

\begin{document}
\beamertemplateshadingbackground{yellow!50}{magenta!50}

\begin{frame}
\frametitle{NO Image over background}
This is some text
\end{frame}

\begin{frame}
\frametitle{Original stefan... png image over background}
\includegraphics{stefan_255_rgba.png}%
\end{frame}

\begin{frame}
\frametitle{png2pdf -a stefan... image over background}
\includegraphics{stefan_255_rgba-a.pdf}%
\end{frame}

\begin{frame}
\frametitle{png2pdf -i stefan... image over background}
\includegraphics{stefan_255_rgba-i.pdf}%
\end{frame}

\begin{frame}
\frametitle{png2pdf stefan... over background}
\includegraphics{stefan_255_rgba-neither.pdf}%
\end{frame}

\end{document}

Now look at the resulting PDF (attached) with Acroread
7.0.9 or 8.1.1 on Linux.  On the page which includes
the PNG and also on the page which includes the png2pdf
-a version,
the other colours on the page are messed up somewhat.

This also happens on Acroread 8.? running on Windoze xp
under vmware, although it seems a bit less noticeable.

There is no apparent problem when looking at the file
with xpdf or kpdf (Slackware 12.0 Linux).

It's not clear to me whether this is an acroread bug or
a pdftex bug, but Martin Schr?der suggested I open a
bug here.

Cheers.
              Jim

----------------------------------------------------------------------

>Comment By: Martin Schr?der (oneiros)
Date: 2007-12-29 21:08

Message:
Logged In: YES 
user_id=421

Please attach the pdfs from png2pdf.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=896&group_id=106

From noreply at sarovar.org  Sat Dec 29 21:15:51 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Sun, 30 Dec 2007 01:45:51 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-896 ] including an image (pdf or png)
	with transparency messes up other colours on that page
Message-ID: <E1J8i63-0001rF-00@sarovar.org>

Bugs item #896, was opened at 2007-12-29 16:00
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=896&group_id=106

Category: PDF inclusion
Group: v1.40.3
Status: Open
Resolution: Accepted
Priority: 5
Submitted By: Jim Diamond (zsd)
Assigned to: Martin Schr?der (oneiros)
Summary: including an image (pdf or png) with transparency messes up other colours on that page

Initial Comment:
Download
http://www.libpng.org/pub/png/img_png/stefan_255_rgba.png
(which has a transparent background) and run it through
png2pdf as follows:
png2pdf -i stefan_255_rgba.png stefan_255_rgba-i.pdf
png2pdf -a stefan_255_rgba.png stefan_255_rgba-a.pdf
png2pdf stefan_255_rgba.png stefan_255_rgba-neither.pdf

Then run the following through pdflatex (pdfTeXk,
Version 3.141592-1.40.3 (Web2C 7.5.6))

\documentclass{beamer}
\mode<presentation>
{
  \usetheme{Madrid}
  \setbeamercovered{transparent}
}

\usepackage{ifpdf}
\usepackage{graphicx}
\usepackage{color}
\ifpdf
\hypersetup{%
  pdfpagemode=FullScreen,
  pdfpagetransition={Wipe /Di 0 /D 0.5}
}
\fi

\title[Beamer and png2pdf]{Using png2pdf with the
beamer class}
\author[Krause]{D.~Krause}
\subject{png2pdf}

\begin{document}
\beamertemplateshadingbackground{yellow!50}{magenta!50}

\begin{frame}
\frametitle{NO Image over background}
This is some text
\end{frame}

\begin{frame}
\frametitle{Original stefan... png image over background}
\includegraphics{stefan_255_rgba.png}%
\end{frame}

\begin{frame}
\frametitle{png2pdf -a stefan... image over background}
\includegraphics{stefan_255_rgba-a.pdf}%
\end{frame}

\begin{frame}
\frametitle{png2pdf -i stefan... image over background}
\includegraphics{stefan_255_rgba-i.pdf}%
\end{frame}

\begin{frame}
\frametitle{png2pdf stefan... over background}
\includegraphics{stefan_255_rgba-neither.pdf}%
\end{frame}

\end{document}

Now look at the resulting PDF (attached) with Acroread
7.0.9 or 8.1.1 on Linux.  On the page which includes
the PNG and also on the page which includes the png2pdf
-a version,
the other colours on the page are messed up somewhat.

This also happens on Acroread 8.? running on Windoze xp
under vmware, although it seems a bit less noticeable.

There is no apparent problem when looking at the file
with xpdf or kpdf (Slackware 12.0 Linux).

It's not clear to me whether this is an acroread bug or
a pdftex bug, but Martin Schr?der suggested I open a
bug here.

Cheers.
              Jim

----------------------------------------------------------------------

>Comment By: Jim Diamond (zsd)
Date: 2007-12-29 16:15

Message:
Logged In: YES 
user_id=4814

Done

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-29 16:08

Message:
Logged In: YES 
user_id=421

Please attach the pdfs from png2pdf.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=896&group_id=106

From noreply at sarovar.org  Sat Dec 29 22:03:31 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Sun, 30 Dec 2007 02:33:31 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-896 ] including an image (pdf or png)
	with transparency messes up other colours on that page
Message-ID: <E1J8iqB-0001Be-00@sarovar.org>

Bugs item #896, was opened at 2007-12-29 16:00
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=896&group_id=106

Category: PDF inclusion
Group: v1.40.3
Status: Open
Resolution: Accepted
Priority: 5
Submitted By: Jim Diamond (zsd)
Assigned to: Martin Schr?der (oneiros)
Summary: including an image (pdf or png) with transparency messes up other colours on that page

Initial Comment:
Download
http://www.libpng.org/pub/png/img_png/stefan_255_rgba.png
(which has a transparent background) and run it through
png2pdf as follows:
png2pdf -i stefan_255_rgba.png stefan_255_rgba-i.pdf
png2pdf -a stefan_255_rgba.png stefan_255_rgba-a.pdf
png2pdf stefan_255_rgba.png stefan_255_rgba-neither.pdf

Then run the following through pdflatex (pdfTeXk,
Version 3.141592-1.40.3 (Web2C 7.5.6))

\documentclass{beamer}
\mode<presentation>
{
  \usetheme{Madrid}
  \setbeamercovered{transparent}
}

\usepackage{ifpdf}
\usepackage{graphicx}
\usepackage{color}
\ifpdf
\hypersetup{%
  pdfpagemode=FullScreen,
  pdfpagetransition={Wipe /Di 0 /D 0.5}
}
\fi

\title[Beamer and png2pdf]{Using png2pdf with the
beamer class}
\author[Krause]{D.~Krause}
\subject{png2pdf}

\begin{document}
\beamertemplateshadingbackground{yellow!50}{magenta!50}

\begin{frame}
\frametitle{NO Image over background}
This is some text
\end{frame}

\begin{frame}
\frametitle{Original stefan... png image over background}
\includegraphics{stefan_255_rgba.png}%
\end{frame}

\begin{frame}
\frametitle{png2pdf -a stefan... image over background}
\includegraphics{stefan_255_rgba-a.pdf}%
\end{frame}

\begin{frame}
\frametitle{png2pdf -i stefan... image over background}
\includegraphics{stefan_255_rgba-i.pdf}%
\end{frame}

\begin{frame}
\frametitle{png2pdf stefan... over background}
\includegraphics{stefan_255_rgba-neither.pdf}%
\end{frame}

\end{document}

Now look at the resulting PDF (attached) with Acroread
7.0.9 or 8.1.1 on Linux.  On the page which includes
the PNG and also on the page which includes the png2pdf
-a version,
the other colours on the page are messed up somewhat.

This also happens on Acroread 8.? running on Windoze xp
under vmware, although it seems a bit less noticeable.

There is no apparent problem when looking at the file
with xpdf or kpdf (Slackware 12.0 Linux).

It's not clear to me whether this is an acroread bug or
a pdftex bug, but Martin Schr?der suggested I open a
bug here.

Cheers.
              Jim

----------------------------------------------------------------------

>Comment By: Jim Diamond (zsd)
Date: 2007-12-29 17:03

Message:
Logged In: YES 
user_id=4814

I just d/l'ed and compiled pdftex Version 3.141592-1.40.5
(Web2C 7.5.6)

The pdf files (1.40.3 and 1.40.5 versions) are slightly
different (when compared as text) but when viewed with
acroread 7.0.9 they look identical (as far as my eyes can tell).



----------------------------------------------------------------------

Comment By: Jim Diamond (zsd)
Date: 2007-12-29 16:15

Message:
Logged In: YES 
user_id=4814

Done

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-29 16:08

Message:
Logged In: YES 
user_id=421

Please attach the pdfs from png2pdf.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=896&group_id=106

From noreply at sarovar.org  Sat Dec 29 22:05:03 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Sun, 30 Dec 2007 02:35:03 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-896 ] including an image (pdf or png)
	with transparency messes up other colours on that page
Message-ID: <E1J8irf-0001Da-00@sarovar.org>

Bugs item #896, was opened at 2007-12-29 21:00
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=896&group_id=106

>Category: Image inclusion
Group: v1.40.3
Status: Open
Resolution: Accepted
Priority: 5
Submitted By: Jim Diamond (zsd)
Assigned to: Martin Schr?der (oneiros)
Summary: including an image (pdf or png) with transparency messes up other colours on that page

Initial Comment:
Download
http://www.libpng.org/pub/png/img_png/stefan_255_rgba.png
(which has a transparent background) and run it through
png2pdf as follows:
png2pdf -i stefan_255_rgba.png stefan_255_rgba-i.pdf
png2pdf -a stefan_255_rgba.png stefan_255_rgba-a.pdf
png2pdf stefan_255_rgba.png stefan_255_rgba-neither.pdf

Then run the following through pdflatex (pdfTeXk,
Version 3.141592-1.40.3 (Web2C 7.5.6))

\documentclass{beamer}
\mode<presentation>
{
  \usetheme{Madrid}
  \setbeamercovered{transparent}
}

\usepackage{ifpdf}
\usepackage{graphicx}
\usepackage{color}
\ifpdf
\hypersetup{%
  pdfpagemode=FullScreen,
  pdfpagetransition={Wipe /Di 0 /D 0.5}
}
\fi

\title[Beamer and png2pdf]{Using png2pdf with the
beamer class}
\author[Krause]{D.~Krause}
\subject{png2pdf}

\begin{document}
\beamertemplateshadingbackground{yellow!50}{magenta!50}

\begin{frame}
\frametitle{NO Image over background}
This is some text
\end{frame}

\begin{frame}
\frametitle{Original stefan... png image over background}
\includegraphics{stefan_255_rgba.png}%
\end{frame}

\begin{frame}
\frametitle{png2pdf -a stefan... image over background}
\includegraphics{stefan_255_rgba-a.pdf}%
\end{frame}

\begin{frame}
\frametitle{png2pdf -i stefan... image over background}
\includegraphics{stefan_255_rgba-i.pdf}%
\end{frame}

\begin{frame}
\frametitle{png2pdf stefan... over background}
\includegraphics{stefan_255_rgba-neither.pdf}%
\end{frame}

\end{document}

Now look at the resulting PDF (attached) with Acroread
7.0.9 or 8.1.1 on Linux.  On the page which includes
the PNG and also on the page which includes the png2pdf
-a version,
the other colours on the page are messed up somewhat.

This also happens on Acroread 8.? running on Windoze xp
under vmware, although it seems a bit less noticeable.

There is no apparent problem when looking at the file
with xpdf or kpdf (Slackware 12.0 Linux).

It's not clear to me whether this is an acroread bug or
a pdftex bug, but Martin Schr?der suggested I open a
bug here.

Cheers.
              Jim

----------------------------------------------------------------------

>Comment By: Martin Schr?der (oneiros)
Date: 2007-12-29 22:05

Message:
Logged In: YES 
user_id=421

This is not related to #764, as there are no page Groups.

It also happens only with the png or rgba-a. I'll ask our
contact at Adobe.


----------------------------------------------------------------------

Comment By: Jim Diamond (zsd)
Date: 2007-12-29 22:03

Message:
Logged In: YES 
user_id=4814

I just d/l'ed and compiled pdftex Version 3.141592-1.40.5
(Web2C 7.5.6)

The pdf files (1.40.3 and 1.40.5 versions) are slightly
different (when compared as text) but when viewed with
acroread 7.0.9 they look identical (as far as my eyes can tell).



----------------------------------------------------------------------

Comment By: Jim Diamond (zsd)
Date: 2007-12-29 21:15

Message:
Logged In: YES 
user_id=4814

Done

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-29 21:08

Message:
Logged In: YES 
user_id=421

Please attach the pdfs from png2pdf.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=896&group_id=106

From noreply at sarovar.org  Sat Dec 29 22:10:40 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Sun, 30 Dec 2007 02:40:40 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-896 ] including an image (pdf or png)
	with transparency messes up other colours on that page
Message-ID: <E1J8ix6-00038H-00@sarovar.org>

Bugs item #896, was opened at 2007-12-29 21:00
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=896&group_id=106

Category: Image inclusion
>Group: v1.50.0-alpha
Status: Open
Resolution: Accepted
Priority: 5
Submitted By: Jim Diamond (zsd)
Assigned to: Martin Schr?der (oneiros)
Summary: including an image (pdf or png) with transparency messes up other colours on that page

Initial Comment:
Download
http://www.libpng.org/pub/png/img_png/stefan_255_rgba.png
(which has a transparent background) and run it through
png2pdf as follows:
png2pdf -i stefan_255_rgba.png stefan_255_rgba-i.pdf
png2pdf -a stefan_255_rgba.png stefan_255_rgba-a.pdf
png2pdf stefan_255_rgba.png stefan_255_rgba-neither.pdf

Then run the following through pdflatex (pdfTeXk,
Version 3.141592-1.40.3 (Web2C 7.5.6))

\documentclass{beamer}
\mode<presentation>
{
  \usetheme{Madrid}
  \setbeamercovered{transparent}
}

\usepackage{ifpdf}
\usepackage{graphicx}
\usepackage{color}
\ifpdf
\hypersetup{%
  pdfpagemode=FullScreen,
  pdfpagetransition={Wipe /Di 0 /D 0.5}
}
\fi

\title[Beamer and png2pdf]{Using png2pdf with the
beamer class}
\author[Krause]{D.~Krause}
\subject{png2pdf}

\begin{document}
\beamertemplateshadingbackground{yellow!50}{magenta!50}

\begin{frame}
\frametitle{NO Image over background}
This is some text
\end{frame}

\begin{frame}
\frametitle{Original stefan... png image over background}
\includegraphics{stefan_255_rgba.png}%
\end{frame}

\begin{frame}
\frametitle{png2pdf -a stefan... image over background}
\includegraphics{stefan_255_rgba-a.pdf}%
\end{frame}

\begin{frame}
\frametitle{png2pdf -i stefan... image over background}
\includegraphics{stefan_255_rgba-i.pdf}%
\end{frame}

\begin{frame}
\frametitle{png2pdf stefan... over background}
\includegraphics{stefan_255_rgba-neither.pdf}%
\end{frame}

\end{document}

Now look at the resulting PDF (attached) with Acroread
7.0.9 or 8.1.1 on Linux.  On the page which includes
the PNG and also on the page which includes the png2pdf
-a version,
the other colours on the page are messed up somewhat.

This also happens on Acroread 8.? running on Windoze xp
under vmware, although it seems a bit less noticeable.

There is no apparent problem when looking at the file
with xpdf or kpdf (Slackware 12.0 Linux).

It's not clear to me whether this is an acroread bug or
a pdftex bug, but Martin Schr?der suggested I open a
bug here.

Cheers.
              Jim

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-29 22:05

Message:
Logged In: YES 
user_id=421

This is not related to #764, as there are no page Groups.

It also happens only with the png or rgba-a. I'll ask our
contact at Adobe.


----------------------------------------------------------------------

Comment By: Jim Diamond (zsd)
Date: 2007-12-29 22:03

Message:
Logged In: YES 
user_id=4814

I just d/l'ed and compiled pdftex Version 3.141592-1.40.5
(Web2C 7.5.6)

The pdf files (1.40.3 and 1.40.5 versions) are slightly
different (when compared as text) but when viewed with
acroread 7.0.9 they look identical (as far as my eyes can tell).



----------------------------------------------------------------------

Comment By: Jim Diamond (zsd)
Date: 2007-12-29 21:15

Message:
Logged In: YES 
user_id=4814

Done

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-29 21:08

Message:
Logged In: YES 
user_id=421

Please attach the pdfs from png2pdf.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=896&group_id=106

From noreply at sarovar.org  Mon Dec 31 16:07:33 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Mon, 31 Dec 2007 20:37:33 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-896 ] including an image (pdf or png)
	with transparency messes up other colours on that page
Message-ID: <E1J9MEn-0006iv-00@sarovar.org>

Bugs item #896, was opened at 2007-12-29 21:00
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=896&group_id=106

Category: Image inclusion
Group: v1.50.0-alpha
Status: Open
Resolution: Accepted
Priority: 5
Submitted By: Jim Diamond (zsd)
Assigned to: Martin Schr?der (oneiros)
Summary: including an image (pdf or png) with transparency messes up other colours on that page

Initial Comment:
Download
http://www.libpng.org/pub/png/img_png/stefan_255_rgba.png
(which has a transparent background) and run it through
png2pdf as follows:
png2pdf -i stefan_255_rgba.png stefan_255_rgba-i.pdf
png2pdf -a stefan_255_rgba.png stefan_255_rgba-a.pdf
png2pdf stefan_255_rgba.png stefan_255_rgba-neither.pdf

Then run the following through pdflatex (pdfTeXk,
Version 3.141592-1.40.3 (Web2C 7.5.6))

\documentclass{beamer}
\mode<presentation>
{
  \usetheme{Madrid}
  \setbeamercovered{transparent}
}

\usepackage{ifpdf}
\usepackage{graphicx}
\usepackage{color}
\ifpdf
\hypersetup{%
  pdfpagemode=FullScreen,
  pdfpagetransition={Wipe /Di 0 /D 0.5}
}
\fi

\title[Beamer and png2pdf]{Using png2pdf with the
beamer class}
\author[Krause]{D.~Krause}
\subject{png2pdf}

\begin{document}
\beamertemplateshadingbackground{yellow!50}{magenta!50}

\begin{frame}
\frametitle{NO Image over background}
This is some text
\end{frame}

\begin{frame}
\frametitle{Original stefan... png image over background}
\includegraphics{stefan_255_rgba.png}%
\end{frame}

\begin{frame}
\frametitle{png2pdf -a stefan... image over background}
\includegraphics{stefan_255_rgba-a.pdf}%
\end{frame}

\begin{frame}
\frametitle{png2pdf -i stefan... image over background}
\includegraphics{stefan_255_rgba-i.pdf}%
\end{frame}

\begin{frame}
\frametitle{png2pdf stefan... over background}
\includegraphics{stefan_255_rgba-neither.pdf}%
\end{frame}

\end{document}

Now look at the resulting PDF (attached) with Acroread
7.0.9 or 8.1.1 on Linux.  On the page which includes
the PNG and also on the page which includes the png2pdf
-a version,
the other colours on the page are messed up somewhat.

This also happens on Acroread 8.? running on Windoze xp
under vmware, although it seems a bit less noticeable.

There is no apparent problem when looking at the file
with xpdf or kpdf (Slackware 12.0 Linux).

It's not clear to me whether this is an acroread bug or
a pdftex bug, but Martin Schr?der suggested I open a
bug here.

Cheers.
              Jim

----------------------------------------------------------------------

>Comment By: Martin Schr?der (oneiros)
Date: 2007-12-31 16:07

Message:
Logged In: YES 
user_id=421

Our contact at adobe confirms that pages with transparent
objects on them (like pngs) must have a /Group entry in the
/Page object. I'll fix that next year.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-29 22:05

Message:
Logged In: YES 
user_id=421

This is not related to #764, as there are no page Groups.

It also happens only with the png or rgba-a. I'll ask our
contact at Adobe.


----------------------------------------------------------------------

Comment By: Jim Diamond (zsd)
Date: 2007-12-29 22:03

Message:
Logged In: YES 
user_id=4814

I just d/l'ed and compiled pdftex Version 3.141592-1.40.5
(Web2C 7.5.6)

The pdf files (1.40.3 and 1.40.5 versions) are slightly
different (when compared as text) but when viewed with
acroread 7.0.9 they look identical (as far as my eyes can tell).



----------------------------------------------------------------------

Comment By: Jim Diamond (zsd)
Date: 2007-12-29 21:15

Message:
Logged In: YES 
user_id=4814

Done

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-12-29 21:08

Message:
Logged In: YES 
user_id=421

Please attach the pdfs from png2pdf.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=896&group_id=106

