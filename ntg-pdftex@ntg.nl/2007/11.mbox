From kakuto at fsci.fuk.kindai.ac.jp  Thu Nov  1 01:38:09 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 01 Nov 2007 09:38:09 +0900
Subject: [NTG-pdftex] 2GB limit and Windows
In-Reply-To: Your message of "Wed, 31 Oct 2007 17:39:54 +0100"
References: <68c491a60710310939l7ed38c3cxdf908a7d0ba066af@mail.gmail.com>
Message-ID: <200711010038.lA10cAq4013836@jupiter.fsci.fuk.kindai.ac.jp>

Hi Martin,

> Does config.h work on win32? longinteger should be 64bit.

off_t is always long in my compiler, so my config.h reads

...
#ifdef WIN32
typedef __int64 longinteger;
#else
typedef off_t longinteger;
#endif
...

Best regards,
Akira

From kakuto at fsci.fuk.kindai.ac.jp  Thu Nov  1 15:59:02 2007
From: kakuto at fsci.fuk.kindai.ac.jp (Akira Kakuto)
Date: Thu, 01 Nov 2007 23:59:02 +0900
Subject: [NTG-pdftex] 2GB limit and Windows
In-Reply-To: Your message of "Wed, 31 Oct 2007 18:08:51 +0100"
References: <86zlxzmct8.fsf@lola.quinscape.zz>
Message-ID: <200711011459.lA1Ex3sw017171@jupiter.fsci.fuk.kindai.ac.jp>

> I'll probably not be able to test this before Friday on a Windows test
> system (tomorrow is a local holiday) and before Monday on the
> production system.  So if anybody has a good suggestion for a simple
> enough test setup that would enable Akira to test drive the executable
> without putting me in the feedback loop, this would make things move
> somewhat faster.

I've succeeded to output a file of 2348685019B (about 2.2GB)
on Windows. Thus LFS is ok also on Windows.

Best regards,
Akira

From David.Kastrup at QuinScape.de  Mon Nov  5 09:43:28 2007
From: David.Kastrup at QuinScape.de (David Kastrup)
Date: Mon, 05 Nov 2007 09:43:28 +0100
Subject: [NTG-pdftex] 2GB limit and Windows
In-Reply-To: <200711011459.lA1Ex3sw017171@jupiter.fsci.fuk.kindai.ac.jp>
	(Akira Kakuto's message of "Thu\, 01 Nov 2007 23\:59\:02 +0900")
References: <86zlxzmct8.fsf@lola.quinscape.zz>
	<200711011459.lA1Ex3sw017171@jupiter.fsci.fuk.kindai.ac.jp>
Message-ID: <864pg1hykv.fsf@lola.quinscape.zz>

Akira Kakuto <kakuto at fsci.fuk.kindai.ac.jp> writes:

>> I'll probably not be able to test this before Friday on a Windows test
>> system (tomorrow is a local holiday) and before Monday on the
>> production system.  So if anybody has a good suggestion for a simple
>> enough test setup that would enable Akira to test drive the executable
>> without putting me in the feedback loop, this would make things move
>> somewhat faster.
>
> I've succeeded to output a file of 2348685019B (about 2.2GB)
> on Windows. Thus LFS is ok also on Windows.

Is there some location where one could download the binary?  I mean,
of PDFTeX, not of the 2.2GB test file...

-- 
David Kastrup

From martin at oneiros.de  Wed Nov  7 21:28:58 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Wed, 7 Nov 2007 21:28:58 +0100
Subject: [NTG-pdftex] 1.40.6
Message-ID: <68c491a60711071228t6c9f2d62oc769a749c1f5acd7@mail.gmail.com>

Hi,
I'll do a release of stable this or next week, incoporating Xpdf
3.02pl2. I'll also update libpng. Which bugfixes from trunk should go
in there?

Best
   Martin

From martin at oneiros.de  Thu Nov  8 12:14:04 2007
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Thu, 8 Nov 2007 12:14:04 +0100
Subject: [NTG-pdftex] 1.40.6
In-Reply-To: <4732E821.5010407@elvenkind.com>
References: <68c491a60711071228t6c9f2d62oc769a749c1f5acd7@mail.gmail.com>
	<4732E821.5010407@elvenkind.com>
Message-ID: <68c491a60711080314y599a1765h4d086150ebe48283@mail.gmail.com>

2007/11/8, Taco Hoekwater <taco at elvenkind.com>:
> Not sure about:
> * The xpdf/poppler interface (this probably a prerequisite now?)

No. It's still too unstable and much too intrusive for an update of stable.

> * The LFS support (status as 'bug' is disputable)

We need to fix the configure first.

One bug that must to be fixed is inclusion of encrypted pdfs.

Best
   Martin

From taco at elvenkind.com  Thu Nov  8 11:42:41 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 08 Nov 2007 11:42:41 +0100
Subject: [NTG-pdftex] 1.40.6
In-Reply-To: <68c491a60711071228t6c9f2d62oc769a749c1f5acd7@mail.gmail.com>
References: <68c491a60711071228t6c9f2d62oc769a749c1f5acd7@mail.gmail.com>
Message-ID: <4732E821.5010407@elvenkind.com>



Martin Schr?der wrote:
> Hi,
> I'll do a release of stable this or next week, incoporating Xpdf
> 3.02pl2. I'll also update libpng. Which bugfixes from trunk should go
> in there?

I hope this is everything:

* #232 (mapfile coredump)
* #237 (g++ constructors)
* #239 (the wrong compilation options)
* #241 (layer bugs)
* those "make depend" and other dependancy things
* #256 (dont use the config.h from obscompat)

Not sure about:
* The xpdf/poppler interface (this probably a prerequisite now?)
* The LFS support (status as 'bug' is disputable)

Best wishes,
Taco



From dak at gnu.org  Fri Nov  9 11:29:17 2007
From: dak at gnu.org (David Kastrup)
Date: Fri, 09 Nov 2007 11:29:17 +0100
Subject: [NTG-pdftex] 1.40.6
In-Reply-To: <68c491a60711080314y599a1765h4d086150ebe48283@mail.gmail.com>
	("Martin =?iso-8859-1?Q?Schr=F6der=22's?= message of "Thu\, 8 Nov 2007
	12\:14\:04 +0100")
References: <68c491a60711071228t6c9f2d62oc769a749c1f5acd7@mail.gmail.com>
	<4732E821.5010407@elvenkind.com>
	<68c491a60711080314y599a1765h4d086150ebe48283@mail.gmail.com>
Message-ID: <861wazbtky.fsf@lola.quinscape.zz>

"Martin Schr?der" <martin at oneiros.de> writes:

> 2007/11/8, Taco Hoekwater <taco at elvenkind.com>:
>> Not sure about:
>> * The xpdf/poppler interface (this probably a prerequisite now?)
>
> No. It's still too unstable and much too intrusive for an update of stable.
>
>> * The LFS support (status as 'bug' is disputable)

Don't think so.  At the very least, crashing in the middle of a run is
not reasonable behavior.

> We need to fix the configure first.

-- 
David Kastrup

From hartmut_henkel at gmx.de  Fri Nov  9 22:16:45 2007
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Fri, 9 Nov 2007 22:16:45 +0100 (CET)
Subject: [NTG-pdftex] 1.40.6
In-Reply-To: <68c491a60711071228t6c9f2d62oc769a749c1f5acd7@mail.gmail.com>
References: <68c491a60711071228t6c9f2d62oc769a749c1f5acd7@mail.gmail.com>
Message-ID: <alpine.DEB.0.99999.0711092214360.28151@hahepc1.hahe>

On Wed, 7 Nov 2007, Martin Schr?der wrote:

> I'll do a release of stable this or next week, incoporating Xpdf
> 3.02pl2. I'll also update libpng. Which bugfixes from trunk should go
> in there?

apart from these also the patch for bug #874 (sarovar) should go in.

Regards, Hartmut

From taco at elvenkind.com  Sat Nov 10 10:01:05 2007
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 10 Nov 2007 10:01:05 +0100
Subject: [NTG-pdftex] 1.40.6
In-Reply-To: <861wazbtky.fsf@lola.quinscape.zz>
References: <68c491a60711071228t6c9f2d62oc769a749c1f5acd7@mail.gmail.com>	<4732E821.5010407@elvenkind.com>	<68c491a60711080314y599a1765h4d086150ebe48283@mail.gmail.com>
	<861wazbtky.fsf@lola.quinscape.zz>
Message-ID: <47357351.1010806@elvenkind.com>

David Kastrup wrote:
> "Martin Schr?der" <martin at oneiros.de> writes:
> 
>> 2007/11/8, Taco Hoekwater <taco at elvenkind.com>:
>>> Not sure about:
>>> * The xpdf/poppler interface (this probably a prerequisite now?)
>> No. It's still too unstable and much too intrusive for an update of stable.
>>
>>> * The LFS support (status as 'bug' is disputable)
> 
> Don't think so. At the very least, crashing in the middle of a run is
> not reasonable behavior.

In my opinion, the crash is the bug, not the inability to create
large files: I consider that more of a "known limitation" (yes,
I know the difference is vague).

We have a patch for the crash (by Martin) already: detect the
overflow, abort the run after a nice message. I definately do
want that included, and it is a very small and portable check.

Also, the LFS-enabling code needs support from autoconf, and is
so far only tested on very few platforms. Better to do that testing
in a release candidate for 1.50 laster, than to use a bugfix release
for testing it now.

Best wishes,
Taco



From noreply at sarovar.org  Tue Nov 13 10:45:14 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Tue, 13 Nov 2007 15:15:14 +0530
Subject: [NTG-pdftex] [ pdftex-Feature Requests-880 ] Support reordering of
	pages
Message-ID: <E1IrsKY-0005n2-00@sarovar.org>

Feature Requests item #880, was opened at 2007-11-13 10:45
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=496&aid=880&group_id=106

Category: None
Group: v1.50
Status: Open
Resolution: None
Priority: 5
Submitted By: Martin Schr?der (oneiros)
Assigned to: Martin Schr?der (oneiros)
Summary: Support reordering of pages

Initial Comment:
In order to e.g. allow the generation of tocs in one
pass, pdftex should allow the manipulation of the page
tree to reorder the pages.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=496&aid=880&group_id=106

From noreply at sarovar.org  Tue Nov 13 10:48:28 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Tue, 13 Nov 2007 15:18:28 +0530
Subject: [NTG-pdftex] [ pdftex-Feature Requests-880 ] Support reordering of
	pages
Message-ID: <E1IrsNg-0005nd-00@sarovar.org>

Feature Requests item #880, was opened at 2007-11-13 10:45
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=496&aid=880&group_id=106

>Category: PDF generation
Group: v1.50
Status: Open
Resolution: None
Priority: 5
Submitted By: Martin Schr?der (oneiros)
Assigned to: Martin Schr?der (oneiros)
Summary: Support reordering of pages

Initial Comment:
In order to e.g. allow the generation of tocs in one
pass, pdftex should allow the manipulation of the page
tree to reorder the pages.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=496&aid=880&group_id=106

From noreply at sarovar.org  Tue Nov 13 10:51:27 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Tue, 13 Nov 2007 15:21:27 +0530
Subject: [NTG-pdftex] [ pdftex-Feature Requests-882 ] Hyperlinks in included
	PDFs
Message-ID: <E1IrsQZ-0005oV-00@sarovar.org>

Feature Requests item #882, was opened at 2007-11-13 10:51
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=496&aid=882&group_id=106

Category: PDF inclusion
Group: v1.50
Status: Open
Resolution: None
Priority: 5
Submitted By: Martin Schr?der (oneiros)
Assigned to: Martin Schr?der (oneiros)
Summary: Hyperlinks in included PDFs

Initial Comment:
Now when including pages from PDFs pdftex drops all
hyperlinks in the included pages. These should be retained.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=496&aid=882&group_id=106

From noreply at sarovar.org  Tue Nov 13 10:52:09 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Tue, 13 Nov 2007 15:22:09 +0530
Subject: [NTG-pdftex] [ pdftex-Feature Requests-881 ] Integrate pool file
Message-ID: <E1IrsRF-0005of-00@sarovar.org>

Feature Requests item #881, was opened at 2007-11-13 10:48
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=496&aid=881&group_id=106

>Category: web2c
Group: v1.50
Status: Open
Resolution: None
Priority: 5
Submitted By: Taco Hoekwater (taco)
>Assigned to: Taco Hoekwater (taco)
Summary: Integrate pool file

Initial Comment:
So we don't forget (XeTeX is also pool-free nowadays).


----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=496&aid=881&group_id=106

From noreply at sarovar.org  Tue Nov 13 11:34:25 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Tue, 13 Nov 2007 16:04:25 +0530
Subject: [NTG-pdftex] [ pdftex-Feature Requests-882 ] Hyperlinks in included
	PDFs
Message-ID: <E1Irt69-0004kz-00@sarovar.org>

Feature Requests item #882, was opened at 2007-11-13 09:51
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=496&aid=882&group_id=106

Category: PDF inclusion
Group: v1.50
Status: Open
Resolution: None
Priority: 5
Submitted By: Martin Schr?der (oneiros)
Assigned to: Martin Schr?der (oneiros)
Summary: Hyperlinks in included PDFs

Initial Comment:
Now when including pages from PDFs pdftex drops all
hyperlinks in the included pages. These should be retained.

----------------------------------------------------------------------

Comment By: Hans Hagen (hagen)
Date: 2007-11-13 10:34

Message:
Logged In: YES 
user_id=927

keep in mind that this is non trivial because we can have
(1) namespace clashes and (2) more complex annotations than
simple hyperlinks, so we need quite some control over it (no
hacks -) 

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=496&aid=882&group_id=106

From noreply at sarovar.org  Tue Nov 13 11:37:51 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Tue, 13 Nov 2007 16:07:51 +0530
Subject: [NTG-pdftex] [ pdftex-Feature Requests-715 ] highlight ligatures
Message-ID: <E1Irt9T-0004lz-00@sarovar.org>

Feature Requests item #715, was opened at 2006-12-22 09:48
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=496&aid=715&group_id=106

Category: Fonts
Group: v1.50
Status: Open
Resolution: None
Priority: 3
Submitted By: Uli Laube (ulilaube)
Assigned to: Hartmut Henkel (hhenkel)
Summary: highlight ligatures

Initial Comment:
Hello!

>From time to time people in de.comp.text.tex ask for a
solution to remove ligatures from german words
automatically. As this requires quite some knowledge of
the morphology of the german language, packages like 
rmligs  or  ligatex  use lists of words to remove
unwanted ligatures. As this depends on the ligatures
available in the font used, it is quite troublesome to
the compile the lists.

I'am proposing the following addtion to be incorporated
into pdftex: highlighting of the ligatures.

If enabled pdftex uses a bold version of the font when
it inserts ligatures in normal text and vice versa.
Like /em and /emph work for italic text. This would
allow the user of pdftex to prepare a draft copy of the
document were all ligatures are highlighted and can be
easily spotted. The user can then insert "| manually to
remove the unwanted ligatures.

Kind Regards and Happy Holidays

Uli Laube

----------------------------------------------------------------------

>Comment By: Hans Hagen (hagen)
Date: 2007-11-13 10:37

Message:
Logged In: YES 
user_id=927

this feature does not belong in pdftex (one can implement it
in luatex if needed); proper implementation of such features
involves additional font definitions i.e. a bold (or
whatever variant) for each (!) defined font



----------------------------------------------------------------------

Comment By: Uli Laube (ulilaube)
Date: 2006-12-22 13:12

Message:
Logged In: YES 
user_id=4116

Highlighting the ligatures would only be necessary in a
draft copy. Then one would insert the "| in the appropriate
places and disable the highlighting. A change in paragraph
breaking is acceptable in my opinion as I would not want to
distribute the version with highlighted ligatures.

Changing the font color is a nice idea. But it would require
an extra virtual font for every font used in the document as
they might have different ligatures. Seems to me, that I
have to learn how to write .vlp files :)

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2006-12-22 13:08

Message:
Logged In: YES 
user_id=929

...an example .vpl file with colorchange command:

(CHARACTER O 2
   (CHARWD R 0.777781)
   (CHARHT R 0.683332)
   (MAP
      (SPECIAL pdf:direct: 0.486 0.104 0.291 rg)
      (SETCHAR O 2)
      (SPECIAL pdf:direct: 0 0 0 rg)
      )
   )

Regards, Hartmut

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2006-12-22 12:55

Message:
Logged In: YES 
user_id=929

For highlighting a boldface font is needed that has the same
metrics as the non-highlighted one, to keep paragraph
breaking unchanged.

What you can do right now is to generate a virtual font that
contains colored ligatures! It is in fact possible to add
PDF color change command specials into the .vpl virtual
property list files of the virtual font, These commands will
then be inserted into the PDF page stream in front of the
glyphs.

But also some solution on engine level should be doable.

Regards, Hartmut

----------------------------------------------------------------------

Comment By: Uli Laube (ulilaube)
Date: 2006-12-22 10:22

Message:
Logged In: YES 
user_id=4116

If a document uses different fonts, they might have
different ligatures available. The special font and the
macro packages might not be aware of this. As far as I know,
the insertion of ligatures happens late when the .dvi oder
.pdf is created. My hope is that switching to the bold
version of the font when a ligature is inserted might be a
way to have this feature work for all fonts. 

----------------------------------------------------------------------

Comment By: Frank K?ster (frank)
Date: 2006-12-22 10:08

Message:
Logged In: YES 
user_id=3360

Since ligatures are inserted according to information in the
fonts, I think this should be implemented as a combination
of a special font (which uses noticeably different glyphs
for ligatures), and a macro package that switches fonts.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=496&aid=715&group_id=106

From noreply at sarovar.org  Tue Nov 13 10:48:55 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Tue, 13 Nov 2007 15:18:55 +0530
Subject: [NTG-pdftex] [ pdftex-Feature Requests-881 ] Integrate pool file
Message-ID: <E1IrsO7-0005nl-00@sarovar.org>

Feature Requests item #881, was opened at 2007-11-13 10:48
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=496&aid=881&group_id=106

Category: None
Group: v1.50
Status: Open
Resolution: None
Priority: 5
Submitted By: Taco Hoekwater (taco)
Assigned to: Nobody (None)
Summary: Integrate pool file

Initial Comment:
So we don't forget (XeTeX is also pool-free nowadays).


----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=496&aid=881&group_id=106

From noreply at sarovar.org  Tue Nov 13 13:09:25 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Tue, 13 Nov 2007 17:39:25 +0530
Subject: [NTG-pdftex] [ pdftex-Feature Requests-715 ] highlight ligatures
Message-ID: <E1Irua5-0006um-00@sarovar.org>

Feature Requests item #715, was opened at 2006-12-22 10:48
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=496&aid=715&group_id=106

Category: Fonts
Group: v1.50
>Status: Closed
>Resolution: Postponed
Priority: 3
Submitted By: Uli Laube (ulilaube)
Assigned to: Hartmut Henkel (hhenkel)
Summary: highlight ligatures

Initial Comment:
Hello!

>From time to time people in de.comp.text.tex ask for a
solution to remove ligatures from german words
automatically. As this requires quite some knowledge of
the morphology of the german language, packages like 
rmligs  or  ligatex  use lists of words to remove
unwanted ligatures. As this depends on the ligatures
available in the font used, it is quite troublesome to
the compile the lists.

I'am proposing the following addtion to be incorporated
into pdftex: highlighting of the ligatures.

If enabled pdftex uses a bold version of the font when
it inserts ligatures in normal text and vice versa.
Like /em and /emph work for italic text. This would
allow the user of pdftex to prepare a draft copy of the
document were all ligatures are highlighted and can be
easily spotted. The user can then insert "| manually to
remove the unwanted ligatures.

Kind Regards and Happy Holidays

Uli Laube

----------------------------------------------------------------------

>Comment By: Martin Schr?der (oneiros)
Date: 2007-11-13 13:09

Message:
Logged In: YES 
user_id=421

Feature for luatex, but probably not the engine.

----------------------------------------------------------------------

Comment By: Hans Hagen (hagen)
Date: 2007-11-13 11:37

Message:
Logged In: YES 
user_id=927

this feature does not belong in pdftex (one can implement it
in luatex if needed); proper implementation of such features
involves additional font definitions i.e. a bold (or
whatever variant) for each (!) defined font



----------------------------------------------------------------------

Comment By: Uli Laube (ulilaube)
Date: 2006-12-22 14:12

Message:
Logged In: YES 
user_id=4116

Highlighting the ligatures would only be necessary in a
draft copy. Then one would insert the "| in the appropriate
places and disable the highlighting. A change in paragraph
breaking is acceptable in my opinion as I would not want to
distribute the version with highlighted ligatures.

Changing the font color is a nice idea. But it would require
an extra virtual font for every font used in the document as
they might have different ligatures. Seems to me, that I
have to learn how to write .vlp files :)

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2006-12-22 14:08

Message:
Logged In: YES 
user_id=929

...an example .vpl file with colorchange command:

(CHARACTER O 2
   (CHARWD R 0.777781)
   (CHARHT R 0.683332)
   (MAP
      (SPECIAL pdf:direct: 0.486 0.104 0.291 rg)
      (SETCHAR O 2)
      (SPECIAL pdf:direct: 0 0 0 rg)
      )
   )

Regards, Hartmut

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2006-12-22 13:55

Message:
Logged In: YES 
user_id=929

For highlighting a boldface font is needed that has the same
metrics as the non-highlighted one, to keep paragraph
breaking unchanged.

What you can do right now is to generate a virtual font that
contains colored ligatures! It is in fact possible to add
PDF color change command specials into the .vpl virtual
property list files of the virtual font, These commands will
then be inserted into the PDF page stream in front of the
glyphs.

But also some solution on engine level should be doable.

Regards, Hartmut

----------------------------------------------------------------------

Comment By: Uli Laube (ulilaube)
Date: 2006-12-22 11:22

Message:
Logged In: YES 
user_id=4116

If a document uses different fonts, they might have
different ligatures available. The special font and the
macro packages might not be aware of this. As far as I know,
the insertion of ligatures happens late when the .dvi oder
.pdf is created. My hope is that switching to the bold
version of the font when a ligature is inserted might be a
way to have this feature work for all fonts. 

----------------------------------------------------------------------

Comment By: Frank K?ster (frank)
Date: 2006-12-22 11:08

Message:
Logged In: YES 
user_id=3360

Since ligatures are inserted according to information in the
fonts, I think this should be implemented as a combination
of a special font (which uses noticeably different glyphs
for ligatures), and a macro package that switches fonts.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=496&aid=715&group_id=106

From noreply at sarovar.org  Wed Nov 14 14:38:32 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Wed, 14 Nov 2007 19:08:32 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-874 ] problem with writettf?
Message-ID: <E1IsIRs-0007et-00@sarovar.org>

Bugs item #874, was opened at 2007-10-11 14:34
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=874&group_id=106

Category: Fonts
Group: v1.40.5
>Status: Closed
>Resolution: Fixed
Priority: 5
Submitted By: Stefan Becuwe (sbecuwe)
Assigned to: Hartmut Henkel (hhenkel)
Summary: problem with writettf?

Initial Comment:
Hello

I'm using texlive 2007 and encountered the following
problem with a truetype font:

[...]
{/usr/local/apps/texlive-2007/texmf/fonts/enc/ttf2pk/ba
se/T1-WGL4.enc}<Auto1-Light.ttfpdflatex:
../../../../texk/web2c/pdftexdir/writettf.c:848:
prepend_subset_tags: Assertion `index > 0 && index <
name_record_num && fd_cur->subset_tag != ((void *)0)'
failed.

Upgrading pdftex to 1.40.5 still produces the same
error.   

My previous texlive version (2005 or 2006) didn't have
that problem.  Replacing Auto1-Light.ttf by another
ttf, such as technicn.ttf, does not result in an error.
 So it's probably related to the Auto1-Light.ttf file
itself, but it seems the behaviour of pdftex has
changed over the years...

Best regards


Stefan

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-10-12 20:59

Message:
Logged In: YES 
user_id=929

seems in the TTF 'name' table normally the name_id is the
same number as the running entry index i. Then everything
runs fine. But with the Auto1-Light font that's not the
case: at i = 0 there is name_id = 1. So AFAICS the font file
might be a little unusual but it's ok, and pdftex/luatex
should be patched.

Regards, Hartmut

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-10-12 13:36

Message:
Logged In: YES 
user_id=929

ah the font file is in your testcase tar, thanks!

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-10-12 13:31

Message:
Logged In: YES 
user_id=929

thanks a lot for the test, but the fact that it works after
the patch suggests that actually your TT font is broken (not
pdftex) -- which might even generate broken or non-standard
PDF files, beware! Seems the index = 0 should never happen
with a normal font. So it would help a lot to have your font
for inspection.

Regards, Hartmut

----------------------------------------------------------------------

Comment By: Stefan Becuwe (sbecuwe)
Date: 2007-10-12 09:54

Message:
Logged In: YES 
user_id=4723

Changing index > 0  into  index >= 0  did solve the problem.
 I have attached anyway the minimal testcase (generated
after the suggested patch).  Thanks for solving this problem!


Stefan

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-10-11 19:21

Message:
Logged In: YES 
user_id=421

Can you create a minimal testcase and attach it here
together with the font? systems/mkjobtexmf from CTAN might
be helpful.

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-10-11 16:14

Message:
Logged In: YES 
user_id=929

does it go away if you change in pdftex-1.40.5, writettf.c
in function prepend_subset_tag() the line assert(index >
0... into assert(index >= 0...?

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=874&group_id=106

From noreply at sarovar.org  Wed Nov 14 14:42:37 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Wed, 14 Nov 2007 19:12:37 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-874 ] problem with writettf?
Message-ID: <E1IsIVp-0001TK-00@sarovar.org>

Bugs item #874, was opened at 2007-10-11 14:34
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=874&group_id=106

Category: Fonts
Group: v1.40.5
Status: Closed
Resolution: Fixed
Priority: 5
Submitted By: Stefan Becuwe (sbecuwe)
Assigned to: Hartmut Henkel (hhenkel)
Summary: problem with writettf?

Initial Comment:
Hello

I'm using texlive 2007 and encountered the following
problem with a truetype font:

[...]
{/usr/local/apps/texlive-2007/texmf/fonts/enc/ttf2pk/ba
se/T1-WGL4.enc}<Auto1-Light.ttfpdflatex:
../../../../texk/web2c/pdftexdir/writettf.c:848:
prepend_subset_tags: Assertion `index > 0 && index <
name_record_num && fd_cur->subset_tag != ((void *)0)'
failed.

Upgrading pdftex to 1.40.5 still produces the same
error.   

My previous texlive version (2005 or 2006) didn't have
that problem.  Replacing Auto1-Light.ttf by another
ttf, such as technicn.ttf, does not result in an error.
 So it's probably related to the Auto1-Light.ttf file
itself, but it seems the behaviour of pdftex has
changed over the years...

Best regards


Stefan

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-11-14 14:42

Message:
Logged In: YES 
user_id=421

A fix for this will be included in the next release (1.40.6/1.50.0).

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-10-12 20:59

Message:
Logged In: YES 
user_id=929

seems in the TTF 'name' table normally the name_id is the
same number as the running entry index i. Then everything
runs fine. But with the Auto1-Light font that's not the
case: at i = 0 there is name_id = 1. So AFAICS the font file
might be a little unusual but it's ok, and pdftex/luatex
should be patched.

Regards, Hartmut

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-10-12 13:36

Message:
Logged In: YES 
user_id=929

ah the font file is in your testcase tar, thanks!

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-10-12 13:31

Message:
Logged In: YES 
user_id=929

thanks a lot for the test, but the fact that it works after
the patch suggests that actually your TT font is broken (not
pdftex) -- which might even generate broken or non-standard
PDF files, beware! Seems the index = 0 should never happen
with a normal font. So it would help a lot to have your font
for inspection.

Regards, Hartmut

----------------------------------------------------------------------

Comment By: Stefan Becuwe (sbecuwe)
Date: 2007-10-12 09:54

Message:
Logged In: YES 
user_id=4723

Changing index > 0  into  index >= 0  did solve the problem.
 I have attached anyway the minimal testcase (generated
after the suggested patch).  Thanks for solving this problem!


Stefan

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-10-11 19:21

Message:
Logged In: YES 
user_id=421

Can you create a minimal testcase and attach it here
together with the font? systems/mkjobtexmf from CTAN might
be helpful.

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-10-11 16:14

Message:
Logged In: YES 
user_id=929

does it go away if you change in pdftex-1.40.5, writettf.c
in function prepend_subset_tag() the line assert(index >
0... into assert(index >= 0...?

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=874&group_id=106

From noreply at sarovar.org  Fri Nov 23 17:12:59 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Fri, 23 Nov 2007 21:42:59 +0530
Subject: [NTG-pdftex] [ pdftex-Patches-880 ] Support reordering of pages
Message-ID: <E1Ivb9H-0001QC-00@sarovar.org>

Patches item #880, was opened at 2007-11-13 10:45
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=880&group_id=106

>Category: None
>Group: None
Status: Open
Resolution: None
Priority: 5
Submitted By: Martin Schr?der (oneiros)
>Assigned to: Nobody (None)
Summary: Support reordering of pages

Initial Comment:
In order to e.g. allow the generation of tocs in one
pass, pdftex should allow the manipulation of the page
tree to reorder the pages.

----------------------------------------------------------------------

>Comment By: Martin Schr?der (oneiros)
Date: 2007-11-23 17:12

Message:
Logged In: YES 
user_id=421

Attached is a first stab at a patch supporting page
diversions like in m4 with \pdfpagedivert. \pdfpageundivert
exists but doesn't work yet. \pdfpagedivnum is missing.

Thanks to Hartmut for providing the idea and the first code. 

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=880&group_id=106

From noreply at sarovar.org  Fri Nov 23 17:13:50 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Fri, 23 Nov 2007 21:43:50 +0530
Subject: [NTG-pdftex] [ pdftex-Patches-880 ] Support reordering of pages
Message-ID: <E1IvbA6-0001QY-00@sarovar.org>

Patches item #880, was opened at 2007-11-13 10:45
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=880&group_id=106

>Category: Primitives
>Group: v1.50.0
Status: Open
Resolution: None
Priority: 5
Submitted By: Martin Schr?der (oneiros)
>Assigned to: Martin Schr?der (oneiros)
Summary: Support reordering of pages

Initial Comment:
In order to e.g. allow the generation of tocs in one
pass, pdftex should allow the manipulation of the page
tree to reorder the pages.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-11-23 17:12

Message:
Logged In: YES 
user_id=421

Attached is a first stab at a patch supporting page
diversions like in m4 with \pdfpagedivert. \pdfpageundivert
exists but doesn't work yet. \pdfpagedivnum is missing.

Thanks to Hartmut for providing the idea and the first code. 

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=880&group_id=106

From noreply at sarovar.org  Sat Nov 24 01:01:13 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Sat, 24 Nov 2007 05:31:13 +0530
Subject: [NTG-pdftex] [ pdftex-Patches-880 ] Support reordering of pages
Message-ID: <E1IviSP-0004aO-00@sarovar.org>

Patches item #880, was opened at 2007-11-13 10:45
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=880&group_id=106

Category: Primitives
Group: v1.50.0
Status: Open
Resolution: None
Priority: 5
Submitted By: Martin Schr?der (oneiros)
Assigned to: Martin Schr?der (oneiros)
Summary: Support reordering of pages

Initial Comment:
In order to e.g. allow the generation of tocs in one
pass, pdftex should allow the manipulation of the page
tree to reorder the pages.

----------------------------------------------------------------------

>Comment By: Hartmut Henkel (hhenkel)
Date: 2007-11-24 01:01

Message:
Logged In: YES 
user_id=929

this patch against today's pdftex-svn should now also handle
\pdfpageundivert. Lists and tree generation are now
separated. But \pdfpagedivnum will be difficult as it's
known only at shipout time. Thanks to Martin for the handy
pages_entry structure.

Regards, Hartmut

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-11-23 17:12

Message:
Logged In: YES 
user_id=421

Attached is a first stab at a patch supporting page
diversions like in m4 with \pdfpagedivert. \pdfpageundivert
exists but doesn't work yet. \pdfpagedivnum is missing.

Thanks to Hartmut for providing the idea and the first code. 

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=880&group_id=106

From noreply at sarovar.org  Sat Nov 24 02:17:24 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Sat, 24 Nov 2007 06:47:24 +0530
Subject: [NTG-pdftex] [ pdftex-Support Requests-883 ] How to allow Adobe
	Reader comments on generated pdf files?
Message-ID: <E1Ivje8-0002bv-00@sarovar.org>

Support Requests item #883, was opened at 2007-11-24 01:17
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=494&aid=883&group_id=106

Category: None
Group: None
Status: Open
Resolution: None
Priority: 5
Submitted By: Axel Boldt (axelboldt)
Assigned to: Nobody (None)
Summary: How to allow Adobe Reader comments on generated pdf files?

Initial Comment:
Hi,

thanks a lot for pdftex, wonderful program.

When I create a PDF file using pdflatex and view it
with Adobe Reader 8.1.1, under Documents/Security I see
"Commenting: Not allowed". This means that my
correspondents can't add little yellow sticky notes to
my file using their Adobe Reader's annotation feature.
Is there a pdftex option with which I can allow commenting?

Thanks and cheers,
  Axel Boldt


----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=494&aid=883&group_id=106

From noreply at sarovar.org  Sat Nov 24 02:30:41 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Sat, 24 Nov 2007 07:00:41 +0530
Subject: [NTG-pdftex] [ pdftex-Support Requests-883 ] How to allow Adobe
	Reader comments on generated pdf files?
Message-ID: <E1Ivjqz-0004yF-00@sarovar.org>

Support Requests item #883, was opened at 2007-11-24 02:17
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=494&aid=883&group_id=106

Category: None
Group: None
>Status: Closed
>Resolution: Rejected
Priority: 5
Submitted By: Axel Boldt (axelboldt)
Assigned to: Nobody (None)
Summary: How to allow Adobe Reader comments on generated pdf files?

Initial Comment:
Hi,

thanks a lot for pdftex, wonderful program.

When I create a PDF file using pdflatex and view it
with Adobe Reader 8.1.1, under Documents/Security I see
"Commenting: Not allowed". This means that my
correspondents can't add little yellow sticky notes to
my file using their Adobe Reader's annotation feature.
Is there a pdftex option with which I can allow commenting?

Thanks and cheers,
  Axel Boldt


----------------------------------------------------------------------

>Comment By: Martin Schr?der (oneiros)
Date: 2007-11-24 02:30

Message:
Logged In: YES 
user_id=421

No.

Search the list archives and see
http://en.wikipedia.org/wiki/Adobe_LiveCycle_Reader_Extensions

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=494&aid=883&group_id=106

From noreply at sarovar.org  Sun Nov 25 16:59:12 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Sun, 25 Nov 2007 21:29:12 +0530
Subject: [NTG-pdftex] [ pdftex-Patches-880 ] Support reordering of pages
Message-ID: <E1IwJt2-0002gA-00@sarovar.org>

Patches item #880, was opened at 2007-11-13 10:45
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=880&group_id=106

Category: Primitives
Group: v1.50.0
Status: Open
Resolution: None
Priority: 5
Submitted By: Martin Schr?der (oneiros)
Assigned to: Martin Schr?der (oneiros)
Summary: Support reordering of pages

Initial Comment:
In order to e.g. allow the generation of tocs in one
pass, pdftex should allow the manipulation of the page
tree to reorder the pages.

----------------------------------------------------------------------

>Comment By: Hartmut Henkel (hhenkel)
Date: 2007-11-25 16:59

Message:
Logged In: YES 
user_id=929

added README file describing how these commands ought to work.

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-11-24 01:01

Message:
Logged In: YES 
user_id=929

this patch against today's pdftex-svn should now also handle
\pdfpageundivert. Lists and tree generation are now
separated. But \pdfpagedivnum will be difficult as it's
known only at shipout time. Thanks to Martin for the handy
pages_entry structure.

Regards, Hartmut

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-11-23 17:12

Message:
Logged In: YES 
user_id=421

Attached is a first stab at a patch supporting page
diversions like in m4 with \pdfpagedivert. \pdfpageundivert
exists but doesn't work yet. \pdfpagedivnum is missing.

Thanks to Hartmut for providing the idea and the first code. 

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=880&group_id=106

From noreply at sarovar.org  Mon Nov 26 15:12:23 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Mon, 26 Nov 2007 19:42:23 +0530
Subject: [NTG-pdftex] [ pdftex-Patches-880 ] Support reordering of pages
Message-ID: <E1IwehD-0003Wm-00@sarovar.org>

Patches item #880, was opened at 2007-11-13 10:45
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=880&group_id=106

Category: Primitives
Group: v1.50.0
Status: Open
Resolution: None
Priority: 5
Submitted By: Martin Schr?der (oneiros)
Assigned to: Martin Schr?der (oneiros)
Summary: Support reordering of pages

Initial Comment:
In order to e.g. allow the generation of tocs in one
pass, pdftex should allow the manipulation of the page
tree to reorder the pages.

----------------------------------------------------------------------

>Comment By: Martin Schr?der (oneiros)
Date: 2007-11-26 15:12

Message:
Logged In: YES 
user_id=421

Attached is an example use in LaTeX; use at your own risk.

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-11-25 16:59

Message:
Logged In: YES 
user_id=929

added README file describing how these commands ought to work.

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-11-24 01:01

Message:
Logged In: YES 
user_id=929

this patch against today's pdftex-svn should now also handle
\pdfpageundivert. Lists and tree generation are now
separated. But \pdfpagedivnum will be difficult as it's
known only at shipout time. Thanks to Martin for the handy
pages_entry structure.

Regards, Hartmut

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-11-23 17:12

Message:
Logged In: YES 
user_id=421

Attached is a first stab at a patch supporting page
diversions like in m4 with \pdfpagedivert. \pdfpageundivert
exists but doesn't work yet. \pdfpagedivnum is missing.

Thanks to Hartmut for providing the idea and the first code. 

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=880&group_id=106

From noreply at sarovar.org  Mon Nov 26 16:35:03 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Mon, 26 Nov 2007 21:05:03 +0530
Subject: [NTG-pdftex] [ pdftex-Patches-880 ] Support reordering of pages
Message-ID: <E1IwfzD-0000He-00@sarovar.org>

Patches item #880, was opened at 2007-11-13 10:45
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=880&group_id=106

Category: Primitives
Group: v1.50.0
>Status: Closed
>Resolution: Accepted
Priority: 5
Submitted By: Martin Schr?der (oneiros)
Assigned to: Martin Schr?der (oneiros)
Summary: Support reordering of pages

Initial Comment:
In order to e.g. allow the generation of tocs in one
pass, pdftex should allow the manipulation of the page
tree to reorder the pages.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-11-26 16:35

Message:
Logged In: YES 
user_id=421

This patch will be included in the upcoming 1.50

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-11-26 15:12

Message:
Logged In: YES 
user_id=421

Attached is an example use in LaTeX; use at your own risk.

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-11-25 16:59

Message:
Logged In: YES 
user_id=929

added README file describing how these commands ought to work.

----------------------------------------------------------------------

Comment By: Hartmut Henkel (hhenkel)
Date: 2007-11-24 01:01

Message:
Logged In: YES 
user_id=929

this patch against today's pdftex-svn should now also handle
\pdfpageundivert. Lists and tree generation are now
separated. But \pdfpagedivnum will be difficult as it's
known only at shipout time. Thanks to Martin for the handy
pages_entry structure.

Regards, Hartmut

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-11-23 17:12

Message:
Logged In: YES 
user_id=421

Attached is a first stab at a patch supporting page
diversions like in m4 with \pdfpagedivert. \pdfpageundivert
exists but doesn't work yet. \pdfpagedivnum is missing.

Thanks to Hartmut for providing the idea and the first code. 

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=495&aid=880&group_id=106

From noreply at sarovar.org  Tue Nov 27 10:53:51 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Tue, 27 Nov 2007 15:23:51 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-884 ] Letterspacing and non-autoexpanded
	fonts
Message-ID: <E1Iwx8Z-0008Jq-00@sarovar.org>

Bugs item #884, was opened at 2007-11-27 09:53
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=884&group_id=106

Category: hz
Group: v1.40.5
Status: Open
Resolution: None
Priority: 5
Submitted By: Robert (schlcht)
Assigned to: The Thanh Han (hanthethanh)
Summary: Letterspacing and non-autoexpanded fonts

Initial Comment:
While auto-expanding letterspaced fonts works fine now,
there still is a problem with non-automatic expansion.
The following will complain about a missing tfm file.

It doesn't make a difference whether the expanded font
instance is created from an mf file (like below), via
`ExtendFont' in the map file, or even whether it was
created from a MM font (ie., the expanded instance
actually exists as a pfb file).
The latter case is what bothers me the most.

\pdfadjustspacing2
\pdfmapline{ cmr10}
\pdfmapline{+cmr10+100}
\font\cmr=cmr10 \cmr
\letterspacefont\cmrls=\cmr 100
\pdffontexpand\cmrls 100 0 100 %autoexpand
\cmrls
Hamburgefonts\par
\parfillskip 0pt
Hamburgefonts
\bye

PS: what about the `invalid entry' complaint for the
map lines? Are they not legal?

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=884&group_id=106

From noreply at sarovar.org  Tue Nov 27 11:05:16 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Tue, 27 Nov 2007 15:35:16 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-884 ] Letterspacing and non-autoexpanded
	fonts
Message-ID: <E1IwxJc-0008Mx-00@sarovar.org>

Bugs item #884, was opened at 2007-11-27 10:53
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=884&group_id=106

Category: hz
Group: v1.40.5
Status: Open
>Resolution: Accepted
Priority: 5
Submitted By: Robert (schlcht)
Assigned to: The Thanh Han (hanthethanh)
Summary: Letterspacing and non-autoexpanded fonts

Initial Comment:
While auto-expanding letterspaced fonts works fine now,
there still is a problem with non-automatic expansion.
The following will complain about a missing tfm file.

It doesn't make a difference whether the expanded font
instance is created from an mf file (like below), via
`ExtendFont' in the map file, or even whether it was
created from a MM font (ie., the expanded instance
actually exists as a pfb file).
The latter case is what bothers me the most.

\pdfadjustspacing2
\pdfmapline{ cmr10}
\pdfmapline{+cmr10+100}
\font\cmr=cmr10 \cmr
\letterspacefont\cmrls=\cmr 100
\pdffontexpand\cmrls 100 0 100 %autoexpand
\cmrls
Hamburgefonts\par
\parfillskip 0pt
Hamburgefonts
\bye

PS: what about the `invalid entry' complaint for the
map lines? Are they not legal?

----------------------------------------------------------------------

>Comment By: Martin Schr?der (oneiros)
Date: 2007-11-27 11:05

Message:
Logged In: YES 
user_id=421

A map line needs either a psname (for not-embedded fonts) or
the file name (for embedded fonts)

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=884&group_id=106

From noreply at sarovar.org  Thu Nov 29 15:49:53 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Thu, 29 Nov 2007 20:19:53 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-884 ] Letterspacing and non-autoexpanded
	fonts
Message-ID: <E1Ixki9-0008IU-00@sarovar.org>

Bugs item #884, was opened at 2007-11-27 10:53
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=884&group_id=106

Category: hz
Group: v1.40.5
Status: Open
Resolution: Accepted
>Priority: 3
Submitted By: Robert (schlcht)
Assigned to: The Thanh Han (hanthethanh)
Summary: Letterspacing and non-autoexpanded fonts

Initial Comment:
While auto-expanding letterspaced fonts works fine now,
there still is a problem with non-automatic expansion.
The following will complain about a missing tfm file.

It doesn't make a difference whether the expanded font
instance is created from an mf file (like below), via
`ExtendFont' in the map file, or even whether it was
created from a MM font (ie., the expanded instance
actually exists as a pfb file).
The latter case is what bothers me the most.

\pdfadjustspacing2
\pdfmapline{ cmr10}
\pdfmapline{+cmr10+100}
\font\cmr=cmr10 \cmr
\letterspacefont\cmrls=\cmr 100
\pdffontexpand\cmrls 100 0 100 %autoexpand
\cmrls
Hamburgefonts\par
\parfillskip 0pt
Hamburgefonts
\bye

PS: what about the `invalid entry' complaint for the
map lines? Are they not legal?

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-11-27 11:05

Message:
Logged In: YES 
user_id=421

A map line needs either a psname (for not-embedded fonts) or
the file name (for embedded fonts)

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=884&group_id=106

From noreply at sarovar.org  Thu Nov 29 15:50:04 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Thu, 29 Nov 2007 20:20:04 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-856 ] build.sh can't handle pathnames
	with spaces
Message-ID: <E1IxkiK-0008Ig-00@sarovar.org>

Bugs item #856, was opened at 2007-08-14 09:48
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=856&group_id=106

Category: Build process
Group: v1.40.4
Status: Open
Resolution: Postponed
>Priority: 1
Submitted By: Francky Leyn (leyn)
Assigned to: Martin Schr?der (oneiros)
Summary: build.sh can't handle pathnames with spaces

Initial Comment:
Dear,

I want to compile pdftex for cygwin.
I untarred the distribution in
/cygdrive/c/Document and Settings/Francky Leyn/My 
Documents/LaTeX

leyn at newyork ~/LaTeX/pdftex-1.40.5
$ ./build.sh
...

build.sh stops with the following error:

configure: error: can not run /cygdrive/c/Documents 
and Settings/Francky Leyn/My Documents/LaTeX/pdftex-
1.40.5/build/../src/config/config.sub

The file exists and is executable:

$ ls -lh "/cygdrive/c/Documents and Settings/Francky 
Leyn/My Documents/LaTeX/pdftex-
1.40.5/build/../src/config/config.sub"
-rwx------+ 1 leyn None 32K Jul 31 
19:00 /cygdrive/c/Documents and Settings/Francky 
Leyn/My Documents/LaTeX/pdftex-
1.40.5/build/../src/config/config.sub

The file /cygdrive/c/Documents doesn't exist
of course and that is why buid.sh stops its execution.

Could the scripts be modified so that they can handle 
spaces?

Best regards,

Francky Leyn


----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-08-15 01:52

Message:
Logged In: YES 
user_id=421

I'm sorry, but fixing this needs a change in the whole
autofoo system of TL, which is not likely to happen soon.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-08-14 10:50

Message:
Logged In: YES 
user_id=421

This needs a new configure script; I've pushed this upstream
(to TeXlive).

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=856&group_id=106

From noreply at sarovar.org  Thu Nov 29 15:49:36 2007
From: noreply at sarovar.org (noreply at sarovar.org)
Date: Thu, 29 Nov 2007 20:19:36 +0530
Subject: [NTG-pdftex] [ pdftex-Bugs-741 ] wrong colors for included
	PDF-images (page groups)
Message-ID: <E1Ixkhs-0008IN-00@sarovar.org>

Bugs item #741, was opened at 2007-03-02 00:50
You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=741&group_id=106

Category: PDF inclusion
Group: v1.30.0
>Status: Closed
>Resolution: Fixed
Priority: 5
Submitted By: Uwe St?hr (stoehr)
Assigned to: Martin Schr?der (oneiros)
Summary: wrong colors for included PDF-images (page groups)

Initial Comment:
Attached is a PDF 1.4 image. When you include this to a
document the output generated by pdfetex 1.30.6 the
images looks different: The colors are much darker, see
attached PDF result.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-11-29 15:49

Message:
Logged In: YES 
user_id=421

A fix for this will be included in the next release (1.40.6/1.50.0).

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-10-03 20:51

Message:
Logged In: YES 
user_id=421

Fix is in the works.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-10-01 07:08

Message:
Logged In: YES 
user_id=421

Adding /Group to the /Page is not an option for us (and
probably wrong): What should we do when we have more than
one included pdf on a page and they have different /CS
entries? And why does transparency in an /XObject need an
entry in the /Page? The entry in the /XObject should suffice.

I wouldn't be surprised if AR is faulty here.

----------------------------------------------------------------------

Comment By: Adrian Johnson (ajohnson)
Date: 2007-10-01 02:04

Message:
Logged In: YES 
user_id=4699

After adding 

/Group <<
  /CS /DeviceRGB
  /Type /Group
  /S /Transparency
>>

to the /Page object in newfile2-1.pdf it displays correctly
in Acrobat.


----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-10-01 01:04

Message:
Logged In: YES 
user_id=421

The attached file newfile2-1.pdf has a copied page group,
which as I now know, should be correct. Still, AR8 at Linux
shows different colours for it and TestSkizze.pdf .

----------------------------------------------------------------------

Comment By: Uwe St?hr (stoehr)
Date: 2007-10-01 00:51

Message:
Logged In: YES 
user_id=3168

> Why is this WONTFIX?

Sorry, this bug was once closed when this additional info
was not available. -> I reopened this bug.

----------------------------------------------------------------------

Comment By: Uwe St?hr (stoehr)
Date: 2007-10-01 00:46

Message:
Logged In: YES 
user_id=3168

Why is this WONTFIX?

I mean:
> The file TestSkizze.pdf specifies the color blending space
> with "/CS /DeviceRGB" in the transparency group. In
> the PDF produced by pdftex this has been stripped out.

So the bug is that pdftex strips out the color space.
If you really think it's WONTFIX, then tell me what is the
correct way of specifying the color space so that I can
forward this to the Inkscape developers.

----------------------------------------------------------------------

Comment By: Adrian Johnson (ajohnson)
Date: 2007-09-30 15:34

Message:
Logged In: YES 
user_id=4699

The file TestSkizze.pdf specifies the color blending space
with "/CS /DeviceRGB" in the transparency group. In the PDF
produced by pdftex this has been stripped out. When the
color space is not specified Acrobat defaults to CMYK. This
results in RGB colors being converted to CMYK, blended in
CMYK color space, then converted back to RGB. This will
produce different results compared to blending the colors in
RGB space.

This problem was also reported to the cairo list:
http://lists.cairographics.org/archives/cairo/2007-September/011471.html


----------------------------------------------------------------------

Comment By: Uwe St?hr (stoehr)
Date: 2007-03-03 19:41

Message:
Logged In: YES 
user_id=3168

> To my eye the Harlequin results are the same for both
> file,

Yes and the result is correct.

> while Jaws has to different results.

In my eyes the Jaws results are identical but wrong.

So it seems that pdftex is not the problem here, but it
would be nice if pdftex could handle page groups in one of
the next releases:
>"PDF inclusion: Page Group detected which pdfTeX can't
> handle. Ignoring it."
So I'm not sure to close this bug or mark it as enhancement.
Thanks for your help.

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-03-03 15:48

Message:
Logged In: YES 
user_id=421

I've attached the results of two professional RIPs: Global
Graphics Jaws & Harlequin. To my eye the Harlequin results
are the same for both file, while Jaws has to different
results. :-{

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-03-02 13:16

Message:
Logged In: YES 
user_id=421

Your document is using Page Groups (see PDF Reference
7.3.6). Including pdfs that use this is a grey area; see the
notes in NEWS and pdftoepdf.cc. It works most of the times
and with most RIPs. I'll look into it again, but I don't
have much hope.

Btw: pdftex warns you:
"PDF inclusion: Page Group detected which pdfTeX can't
handle. Ignoring it."

----------------------------------------------------------------------

Comment By: Uwe St?hr (stoehr)
Date: 2007-03-02 13:05

Message:
Logged In: YES 
user_id=3168

> problem in AR7 - but only there.

But how could this be a bug in Acrobat when Adobe set the
standards? Why is this correctly shown before the
pdftex-run. The display is the same here in Acrobat 5 - 8 so
I think they would have fixed it when it's a bug since
Acrobat 5.

Hmm but OK, when I open the result with GSview besides the
GS bug, the color tones are correctly be displayed. So close
this bug report again, when you are sure that pdftex follows
here exactly the PDF-specification.

----------------------------------------------------------------------

Comment By: Uwe St?hr (stoehr)
Date: 2007-03-02 12:57

Message:
Logged In: YES 
user_id=3168

> It's a bug in AR;

No! Acrobat is correct: I created this image with Inkscape
0.45 and exported it the as PDF. I designed e.g. the green
as light green. And Acrobat 7 and 8 shows this exactly as
designed while the pdftex result has wrong color tones, see
the attached screenshots.

(Ghostscript is btw. not able to render the PDF-image
correctly - I reported this to the GS people who confirmed it.)

----------------------------------------------------------------------

Comment By: Martin Schr?der (oneiros)
Date: 2007-03-02 01:05

Message:
Logged In: YES 
user_id=421

You don't say it, but I see the same problem in AR7 - but
only there. It's a bug in AR; try kpdf or ghostscript instead.

----------------------------------------------------------------------

You can respond by visiting: 
http://sarovar.org/tracker/?func=detail&atid=493&aid=741&group_id=106

