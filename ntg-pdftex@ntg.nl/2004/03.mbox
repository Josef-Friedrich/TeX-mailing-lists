From ms@artcom-gmbh.de  Mon Mar  8 16:28:35 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Mon, 8 Mar 2004 17:28:35 +0100
Subject: [NTG-pdftex] [bug] included pdfs get shiftet
Message-ID: <20040308162835.GG16120@artcom8.artcom-gmbh.de>

With the current devel version: 1in in x and y.

What's the default for horigin and vorigin?

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Mon Mar  8 16:40:52 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Mon, 8 Mar 2004 17:40:52 +0100
Subject: [NTG-pdftex] sarovar
Message-ID: <20040308164051.GA17403@artcom8.artcom-gmbh.de>

Thanh,
I see that you have already set up a pdftex project at sarovar.

Please add me to the project (user oneiros); we should use it at
least for tracking bugs, patches and feature requests.

TIA
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Mon Mar  8 16:47:56 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Mon, 8 Mar 2004 17:47:56 +0100
Subject: [NTG-pdftex] Re: pdfetex as the only engine
In-Reply-To: <404B1A2D.3020307@computing-services.oxford.ac.uk>
References: <y8qchnnb.fsf@esemetz.metz.supelec.fr> <404B1A2D.3020307@computing-services.oxford.ac.uk>
Message-ID: <20040308164756.GC17403@artcom8.artcom-gmbh.de>

On 2004-03-07 07:48:45 -0500, Sebastian Rahtz wrote:
> excellent.

Indeed. Fabrice, please submit your patches to TL.

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From Fabrice.Popineau@supelec.fr  Mon Mar  8 22:58:22 2004
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: Mon, 08 Mar 2004 23:58:22 +0100
Subject: [NTG-pdftex] Re: pdfetex as the only engine
In-Reply-To: <20040308164756.GC17403@artcom8.artcom-gmbh.de> (Martin
 Schröder's message of "Mon, 8 Mar 2004 17:47:56 +0100")
References: <y8qchnnb.fsf@esemetz.metz.supelec.fr>
 <404B1A2D.3020307@computing-services.oxford.ac.uk>
 <20040308164756.GC17403@artcom8.artcom-gmbh.de>
Message-ID: <ptbndjzl.fsf@esemetz.metz.supelec.fr>

> On 2004-03-07 07:48:45 -0500, Sebastian Rahtz wrote:
>> excellent.

> Indeed. Fabrice, please submit your patches to TL.

Change #4457 (without ^M !). Please check it as my own source tree can't
give a clean patch (other things are in the way).

Fabrice


From staw@gust.org.pl  Tue Mar  9 02:11:29 2004
From: staw@gust.org.pl (Staszek Wawrykiewicz)
Date: Tue, 9 Mar 2004 03:11:29 +0100 (CET)
Subject: [NTG-pdftex] Re: pdfetex as the only engine
In-Reply-To: <ptbndjzl.fsf@esemetz.metz.supelec.fr>
Message-ID: <Pine.LNX.4.44.0403090247280.23563-100000@re86.internetdsl.tpnet.pl>

On Mon, 8 Mar 2004, Fabrice Popineau wrote:

> Change #4457 (without ^M !). Please check it as my own source tree can't
> give a clean patch (other things are in the way).

Failed to compile on linux (even  with change #4458) :(
Something wrong near making config.c needed by config.o
Please register changes in NEWS. Thanks.

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl



From ms@artcom-gmbh.de  Tue Mar  9 00:21:38 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Tue, 9 Mar 2004 01:21:38 +0100
Subject: [NTG-pdftex] [bug] included pdfs get shiftet
In-Reply-To: <20040308162835.GG16120@artcom8.artcom-gmbh.de>
References: <20040308162835.GG16120@artcom8.artcom-gmbh.de>
Message-ID: <20040309002138.GA21228@lucien.kn-bremen.de>

On 2004-03-08 17:28:35 +0100, Martin Schröder wrote:
> With the current devel version: 1in in x and y.

This might happen because of a missing pdftex.cfg (in this
case)...

Best regards
    Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From Fabrice.Popineau@supelec.fr  Tue Mar  9 11:15:19 2004
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: Tue, 09 Mar 2004 12:15:19 +0100
Subject: [NTG-pdftex] Re: pdfetex as the only engine
In-Reply-To: <Pine.LNX.4.44.0403090247280.23563-100000@re86.internetdsl.tpnet.pl> (Staszek
 Wawrykiewicz's message of "Tue, 9 Mar 2004 03:11:29 +0100 (CET)")
References: <Pine.LNX.4.44.0403090247280.23563-100000@re86.internetdsl.tpnet.pl>
Message-ID: <u10yclvc.fsf@esemetz.metz.supelec.fr>

> Failed to compile on linux (even with change #4458) :( Something wrong
> near making config.c needed by config.o Please register changes in
> NEWS. Thanks.

It should get compiled ... Please remove config.[co] from web2c/pdftexdir/depend.mk and
from web2c/pdftexdir/Makefile.in.

Ok, I'll send a patch to NEWS file. The patch submission was for review
in my mind. I expect feedback.

Fabrice


From ms@artcom-gmbh.de  Tue Mar  9 16:34:40 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Tue, 9 Mar 2004 17:34:40 +0100
Subject: [NTG-pdftex] defaults for horigin & vorigin (was: [bug] included pdfs get shiftet)
In-Reply-To: <20040309002138.GA21228@lucien.kn-bremen.de>
References: <20040308162835.GG16120@artcom8.artcom-gmbh.de> <20040309002138.GA21228@lucien.kn-bremen.de>
Message-ID: <20040309163440.GI17403@artcom8.artcom-gmbh.de>

On 2004-03-09 01:21:38 +0100, Martin Schröder wrote:
> On 2004-03-08 17:28:35 +0100, Martin Schröder wrote:
> > With the current devel version: 1in in x and y.
> 
> This might happen because of a missing pdftex.cfg (in this
> case)...

Probably.

What should be the default for horigin & vorigin? All references
I can find (including the manual) provide 1 true in as the default.

Any reasons to set it differently?

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Tue Mar  9 16:56:48 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Tue, 9 Mar 2004 17:56:48 +0100
Subject: [NTG-pdftex] defaults for horigin & vorigin
In-Reply-To: <20040309163440.GI17403@artcom8.artcom-gmbh.de>
References: <20040308162835.GG16120@artcom8.artcom-gmbh.de> <20040309002138.GA21228@lucien.kn-bremen.de> <20040309163440.GI17403@artcom8.artcom-gmbh.de>
Message-ID: <20040309165648.GJ17403@artcom8.artcom-gmbh.de>

On 2004-03-09 17:34:40 +0100, Martin Schröder wrote:
> Any reasons to set it differently?

Yes. :-)

Ignore this thread. Obviously without a cfg and any setting in
the input, the default should be 0pt.

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Tue Mar  9 17:05:52 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Tue, 9 Mar 2004 18:05:52 +0100
Subject: [NTG-pdftex] pdfetex as the only engine
In-Reply-To: <u10yclvc.fsf@esemetz.metz.supelec.fr>
References: <Pine.LNX.4.44.0403090247280.23563-100000@re86.internetdsl.tpnet.pl> <u10yclvc.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040309170551.GK17403@artcom8.artcom-gmbh.de>

On 2004-03-09 12:15:19 +0100, Fabrice Popineau wrote:
> Ok, I'll send a patch to NEWS file. The patch submission was for review
> in my mind. I expect feedback.

It compiles and works.

You removed the support for cfg files completely, which is not
backwards compatible (but cfg files will be at a new place
anyway).

I'd prefer it if a found cfg would still be read (i.e. the code
from 1.11b just stays in), but new configuration options will not
be available through the cfg (i.e. the use of cfg will only be
deprecated).

The priorities for configuration should be input, cfg and fmt in
descending precedence.

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Tue Mar  9 17:23:54 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Tue, 9 Mar 2004 18:23:54 +0100
Subject: [NTG-pdftex] error / bug ?
In-Reply-To: <20040223093334.GY22933@artcom8.artcom-gmbh.de>
References: <6.0.1.1.2.20040222154421.01cbf988@localhost> <20040222204112.GC24434@lucien.kn-bremen.de> <6.0.1.1.2.20040223093813.01c14ec0@server-1> <20040223085050.GW22933@artcom8.artcom-gmbh.de> <6.0.1.1.2.20040223101949.01bfdec0@server-1> <20040223093334.GY22933@artcom8.artcom-gmbh.de>
Message-ID: <20040309172353.GL17403@artcom8.artcom-gmbh.de>

On 2004-02-23 10:33:34 +0100, Martin Schröder wrote:
> If it could, then it's a bug. I compiled xpdf without encryption
> to simplify the code (and to make the binaries smaller), because
> I thought it wouldn't work anyway. Will check.

1.12b-beta-20040309 compiles with encryption support (as did old
versions). Please try again.

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From Fabrice.Popineau@supelec.fr  Tue Mar  9 21:00:55 2004
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: Tue, 09 Mar 2004 22:00:55 +0100
Subject: [NTG-pdftex] pdfetex as the only engine
In-Reply-To: <20040309170551.GK17403@artcom8.artcom-gmbh.de> (Martin
 Schröder's message of "Tue, 9 Mar 2004 18:05:52 +0100")
References: <Pine.LNX.4.44.0403090247280.23563-100000@re86.internetdsl.tpnet.pl>
 <u10yclvc.fsf@esemetz.metz.supelec.fr>
 <20040309170551.GK17403@artcom8.artcom-gmbh.de>
Message-ID: <65ddd9bs.fsf@esemetz.metz.supelec.fr>

> On 2004-03-09 12:15:19 +0100, Fabrice Popineau wrote:
>> Ok, I'll send a patch to NEWS file. The patch submission was for
>> review in my mind. I expect feedback.

> It compiles and works.

Thanks.

> You removed the support for cfg files completely, which is not
> backwards compatible (but cfg files will be at a new place anyway).

> I'd prefer it if a found cfg would still be read (i.e. the code from
> 1.11b just stays in), but new configuration options will not be
> available through the cfg (i.e. the use of cfg will only be
> deprecated).

> The priorities for configuration should be input, cfg and fmt in
> descending precedence.

I can agree and restore pdftex.cfg reading, but that may result in a
mess to understand why pdf_output is such or such value. 

Fabrice


From ms@artcom-gmbh.de  Tue Mar  9 22:27:32 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Tue, 9 Mar 2004 23:27:32 +0100
Subject: [NTG-pdftex] pdftex.cfg (was: pdfetex as the only engine)
In-Reply-To: <65ddd9bs.fsf@esemetz.metz.supelec.fr>
References: <Pine.LNX.4.44.0403090247280.23563-100000@re86.internetdsl.tpnet.pl> <u10yclvc.fsf@esemetz.metz.supelec.fr> <20040309170551.GK17403@artcom8.artcom-gmbh.de> <65ddd9bs.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040309222732.GC31599@lucien.kn-bremen.de>

On 2004-03-09 22:00:55 +0100, Fabrice Popineau wrote:
> > The priorities for configuration should be input, cfg and fmt in
> > descending precedence.
> 
> I can agree and restore pdftex.cfg reading, but that may result in a
> mess to understand why pdf_output is such or such value. 

Yes. And it would make dumping pdf_output in the format
superfluous.

So we simply drop the cfg?

Best regards
    Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From Fabrice.Popineau@supelec.fr  Wed Mar 10 00:06:15 2004
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: Wed, 10 Mar 2004 01:06:15 +0100
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <20040309222732.GC31599@lucien.kn-bremen.de> (Martin Schröder's
 message of "Tue, 9 Mar 2004 23:27:32 +0100")
References: <Pine.LNX.4.44.0403090247280.23563-100000@re86.internetdsl.tpnet.pl>
 <u10yclvc.fsf@esemetz.metz.supelec.fr>
 <20040309170551.GK17403@artcom8.artcom-gmbh.de>
 <65ddd9bs.fsf@esemetz.metz.supelec.fr>
 <20040309222732.GC31599@lucien.kn-bremen.de>
Message-ID: <r7w1bm6g.fsf@esemetz.metz.supelec.fr>

> So we simply drop the cfg?

That's what I would do. Unless someone has strong objection.

Fabrice


From staw@gust.org.pl  Wed Mar 10 02:31:29 2004
From: staw@gust.org.pl (Staszek Wawrykiewicz)
Date: Wed, 10 Mar 2004 03:31:29 +0100 (CET)
Subject: [NTG-pdftex] pdftex.cfg (was: pdfetex as the only engine)
In-Reply-To: <20040309222732.GC31599@lucien.kn-bremen.de>
Message-ID: <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl>

On Tue, 9 Mar 2004, Martin [iso-8859-1] Schröder wrote:

> On 2004-03-09 22:00:55 +0100, Fabrice Popineau wrote:
> > > The priorities for configuration should be input, cfg and fmt in
> > > descending precedence.
> > 
> > I can agree and restore pdftex.cfg reading, but that may result in a
> > mess to understand why pdf_output is such or such value. 
> 
> Yes. And it would make dumping pdf_output in the format
> superfluous.

??? As I understand, dumping pdf_output in the format is the main
advantage, so running 'latex foo' will just output foo.dvi and
'pdflatex foo' will output foo.pdf
It seems that things now works well, so many thanks for doing the last 
changes. Only some notes:
1. world.log says for every pdf* -ini run
    output format initialized to DVI
 fortunatelly .ini file is then read and proper output is set here, so the 
 result is OK (for the first moment I was in trouble reading that ;-)
2. pdftex.ini \input bplain instead of plain.tex
   This problem returns again and again... Why on hell!?
3. it is perhaps good time to remove pdfelatex and elatex (Fabrice already
   did that for win32). This would be one more step towards removing
   other engines/links. 
 
MS>> So we simply drop the cfg?

FP> That's what I would do. Unless someone has strong objection.

Perhaps Hans? I remember that he has some arguments for using cfg

Ps. I've submited new i386-linux binaries upto #4464

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl



From hartmut_henkel@gmx.de  Wed Mar 10 08:05:34 2004
From: hartmut_henkel@gmx.de (Hartmut Henkel)
Date: Wed, 10 Mar 2004 09:05:34 +0100 (MET)
Subject: [NTG-pdftex] pdftex.cfg (was: pdfetex as the only engine)
References: <23090.1078905486@www25.gmx.net>
Message-ID: <22089.1078905934@www50.gmx.net>

> On 2004-03-09 22:00:55 +0100, Fabrice Popineau wrote:
> So we simply drop the cfg?

How then to set the default pk resolution, if no Type1 fonts are found
and .pk fonts are to be generated?
E. g. it's 600 dpi at work and 1200 dpi at home,
all time constant but system dependent. Handled by texconfig...

Same for this image resolution flag (which i never use).

Regards, Hartmut

-- 
+++ NEU bei GMX und erstmalig in Deutschland: TÜV-geprüfter Virenschutz +++
100% Virenerkennung nach Wildlist. Infos: http://www.gmx.net/virenschutz


From Fabrice.Popineau@supelec.fr  Wed Mar 10 08:14:02 2004
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: Wed, 10 Mar 2004 09:14:02 +0100
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl> (Staszek
 Wawrykiewicz's message of "Wed, 10 Mar 2004 03:31:29 +0100 (CET)")
References: <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl>
Message-ID: <ishdazlh.fsf@esemetz.metz.supelec.fr>


Staszek>  ??? As I understand, dumping pdf_output in the format is the
Staszek>  main advantage, so running 'latex foo' will just output
Staszek>  foo.dvi and 'pdflatex foo' will output foo.pdf

Actually, you can even run 

latex --output-format=pdf foo 
:-)

Staszek>  1. world.log says for every pdf* -ini run output format
Staszek>  initialized to DVI

I must admit that it is a bit misleading. But if there is only one
engine, its ini version output format has to be initialized to DVI. Then
only \pdfoutput=1 will switch it to PDF and eventually will be dumped.

Maybe the problem is that you just don't expect from inipdfetex to be
initialized to DVI output format ...

Any suggestion to make it more clear ?

Fabrice


From hartmut_henkel@gmx.de  Wed Mar 10 08:15:13 2004
From: hartmut_henkel@gmx.de (Hartmut Henkel)
Date: Wed, 10 Mar 2004 09:15:13 +0100 (MET)
Subject: [NTG-pdftex] pdftex.cfg (was: pdfetex as the only engine)
References: <20040309222732.GC31599@lucien.kn-bremen.de>
Message-ID: <10616.1078906513@www45.gmx.net>

> On 2004-03-09 22:00:55 +0100, Fabrice Popineau wrote:
> So we simply drop the cfg?

where to set default papersize?

Hartmut (deserted with a webmailer only)

-- 
+++ NEU bei GMX und erstmalig in Deutschland: TÜV-geprüfter Virenschutz +++
100% Virenerkennung nach Wildlist. Infos: http://www.gmx.net/virenschutz


From te@dbs.uni-hannover.de  Wed Mar 10 08:41:12 2004
From: te@dbs.uni-hannover.de (Thomas Esser)
Date: Wed, 10 Mar 2004 09:41:12 +0100
Subject: [NTG-pdftex] pdftex.cfg (was: pdfetex as the only engine)
In-Reply-To: <20040309222732.GC31599@lucien.kn-bremen.de>
References: <Pine.LNX.4.44.0403090247280.23563-100000@re86.internetdsl.tpnet.pl> <u10yclvc.fsf@esemetz.metz.supelec.fr> <20040309170551.GK17403@artcom8.artcom-gmbh.de> <65ddd9bs.fsf@esemetz.metz.supelec.fr> <20040309222732.GC31599@lucien.kn-bremen.de>
Message-ID: <20040310084112.GC17143@dbs.uni-hannover.de>

> So we simply drop the cfg?

What about sysadmins who currently have
  map pdftex.map
  map +localfonts.map

I.e. it used to be easy to make additional map files generally available.
Should this information now be sumped into the format, too (via
manipulated .ini files)?

Somehow, I feel that we loose something if we drop the config file
entirely. Can't we just avoid reading pdfoutput from the config file
(and issue a warning that we ignore the setting from the config file)?

Or, are there more reasons to drop the config file?

Thomas

From pragma@wxs.nl  Wed Mar 10 08:53:49 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Wed, 10 Mar 2004 09:53:49 +0100
Subject: [NTG-pdftex] pdftex.cfg (was: pdfetex as the only engine)
In-Reply-To: <20040309222732.GC31599@lucien.kn-bremen.de>
References: <Pine.LNX.4.44.0403090247280.23563-100000@re86.internetdsl.tpnet.pl>
 <u10yclvc.fsf@esemetz.metz.supelec.fr>
 <20040309170551.GK17403@artcom8.artcom-gmbh.de>
 <65ddd9bs.fsf@esemetz.metz.supelec.fr>
 <20040309222732.GC31599@lucien.kn-bremen.de>
Message-ID: <6.0.1.1.2.20040310095325.01c1cec0@server-1>

At 23:27 09/03/2004, you wrote:
>On 2004-03-09 22:00:55 +0100, Fabrice Popineau wrote:
> > > The priorities for configuration should be input, cfg and fmt in
> > > descending precedence.
> >
> > I can agree and restore pdftex.cfg reading, but that may result in a
> > mess to understand why pdf_output is such or such value.
>
>Yes. And it would make dumping pdf_output in the format
>superfluous.
>
>So we simply drop the cfg?

yes

Hans


From ms@artcom-gmbh.de  Wed Mar 10 09:04:19 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Wed, 10 Mar 2004 10:04:19 +0100
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <20040310084112.GC17143@dbs.uni-hannover.de>
References: <Pine.LNX.4.44.0403090247280.23563-100000@re86.internetdsl.tpnet.pl> <u10yclvc.fsf@esemetz.metz.supelec.fr> <20040309170551.GK17403@artcom8.artcom-gmbh.de> <65ddd9bs.fsf@esemetz.metz.supelec.fr> <20040309222732.GC31599@lucien.kn-bremen.de> <20040310084112.GC17143@dbs.uni-hannover.de>
Message-ID: <20040310090419.GO17403@artcom8.artcom-gmbh.de>

On 2004-03-10 09:41:12 +0100, Thomas Esser wrote:
> What about sysadmins who currently have
>   map pdftex.map
>   map +localfonts.map

How many do?

> I.e. it used to be easy to make additional map files generally available.
> Should this information now be sumped into the format, too (via
> manipulated .ini files)?

That would be the obvious approach: Everything that can now be
done with pdftex.cfg must then be possible throug commands in the
input.

> Somehow, I feel that we loose something if we drop the config file
> entirely. Can't we just avoid reading pdfoutput from the config file
> (and issue a warning that we ignore the setting from the config file)?

That's an option.

Who needs the cfg anyway?

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Wed Mar 10 09:07:58 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Wed, 10 Mar 2004 10:07:58 +0100
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl>
References: <20040309222732.GC31599@lucien.kn-bremen.de> <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl>
Message-ID: <20040310090757.GP17403@artcom8.artcom-gmbh.de>

On 2004-03-10 03:31:29 +0100, Staszek Wawrykiewicz wrote:
> Ps. I've submited new i386-linux binaries upto #4464

> ldd /home/ms/tex/texlive/Master/bin/i386-linux/pdftex
/home/ms/tex/texlive/Master/bin/i386-linux/pdftex: /lib/libc.so.6: version `GLIBC_2.2.4' not found (required by /home/ms/tex/texlive/Master/bin/i386-linux/pdftex)
/home/ms/tex/texlive/Master/bin/i386-linux/pdftex: /lib/libc.so.6: version `GLIBC_2.3' not found (required by /home/ms/tex/texlive/Master/bin/i386-linux/pdftex)
        libm.so.6 => /lib/libm.so.6 (0x4002d000)
        libc.so.6 => /lib/libc.so.6 (0x4004c000)
        /lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0x40000000)

:-(

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From pragma@wxs.nl  Wed Mar 10 09:01:11 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Wed, 10 Mar 2004 10:01:11 +0100
Subject: [NTG-pdftex] pdftex.cfg (was: pdfetex as the only engine)
In-Reply-To: <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.
 tpnet.pl>
References: <20040309222732.GC31599@lucien.kn-bremen.de>
 <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl>
Message-ID: <6.0.1.1.2.20040310095742.01c90d20@server-1>

At 03:31 10/03/2004, Staszek Wawrykiewicz wrote:

>Perhaps Hans? I remember that he has some arguments for using cfg

i think that the only reasons were the additional map files, but that can 
now be done with \pdfmapfile in combination with the default map file; mayb 
eth ename of the default map file should be configurable in the texmf.cnf 
file:

   pdftex.mapfile=whatever.map;more.map

that way we have the best of all worlds

Hans  


From pragma@wxs.nl  Wed Mar 10 09:04:30 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Wed, 10 Mar 2004 10:04:30 +0100
Subject: [NTG-pdftex] pdftex.cfg (was: pdfetex as the only engine)
In-Reply-To: <20040310084112.GC17143@dbs.uni-hannover.de>
References: <Pine.LNX.4.44.0403090247280.23563-100000@re86.internetdsl.tpnet.pl>
 <u10yclvc.fsf@esemetz.metz.supelec.fr>
 <20040309170551.GK17403@artcom8.artcom-gmbh.de>
 <65ddd9bs.fsf@esemetz.metz.supelec.fr>
 <20040309222732.GC31599@lucien.kn-bremen.de>
 <20040310084112.GC17143@dbs.uni-hannover.de>
Message-ID: <6.0.1.1.2.20040310100310.01cffc68@server-1>

At 09:41 10/03/2004, Thomas Esser wrote:
> > So we simply drop the cfg?

yes

>What about sysadmins who currently have
>   map pdftex.map
>   map +localfonts.map
>
>I.e. it used to be easy to make additional map files generally available.

most users will use the big map file

>Should this information now be sumped into the format, too (via
>manipulated .ini files)?

just put it in a variable in the texmf.cnf file

>Or, are there more reasons to drop the config file?

confusion is one of them

Hans  


From pragma@wxs.nl  Wed Mar 10 09:53:35 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Wed, 10 Mar 2004 10:53:35 +0100
Subject: [NTG-pdftex] pdftex.cfg (was: pdfetex as the only engine)
In-Reply-To: <22089.1078905934@www50.gmx.net>
References: <23090.1078905486@www25.gmx.net>
 <22089.1078905934@www50.gmx.net>
Message-ID: <6.0.1.1.2.20040310105204.01d68ec0@server-1>

At 09:05 10/03/2004, Hartmut Henkel wrote:
> > On 2004-03-09 22:00:55 +0100, Fabrice Popineau wrote:
> > So we simply drop the cfg?
>
>How then to set the default pk resolution, if no Type1 fonts are found
>and .pk fonts are to be generated?
>E. g. it's 600 dpi at work and 1200 dpi at home,
>all time constant but system dependent. Handled by texconfig...

hm, that's not so much an issue for pdftex, but for the pk generator, so it 
should be in texmf.cnf

>Same for this image resolution flag (which i never use).

i set these things in context

Hans  


From pragma@wxs.nl  Wed Mar 10 09:51:32 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Wed, 10 Mar 2004 10:51:32 +0100
Subject: [NTG-pdftex] pdftex.cfg (was: pdfetex as the only engine)
In-Reply-To: <10616.1078906513@www45.gmx.net>
References: <20040309222732.GC31599@lucien.kn-bremen.de>
 <10616.1078906513@www45.gmx.net>
Message-ID: <6.0.1.1.2.20040310105020.01d88ec0@server-1>

At 09:15 10/03/2004, Hartmut Henkel wrote:
> > On 2004-03-09 22:00:55 +0100, Fabrice Popineau wrote:
> > So we simply drop the cfg?
>
>where to set default papersize?

in the document, since the macro package needs to handle the dimensions 
anyway; pdftex/tex live should not be papersize dependent; since the 
development takes place in europe/asia, i suggest to hardwire A4 as default

Hans


From te@dbs.uni-hannover.de  Wed Mar 10 10:26:42 2004
From: te@dbs.uni-hannover.de (Thomas Esser)
Date: Wed, 10 Mar 2004 11:26:42 +0100
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <20040310090419.GO17403@artcom8.artcom-gmbh.de>
References: <Pine.LNX.4.44.0403090247280.23563-100000@re86.internetdsl.tpnet.pl> <u10yclvc.fsf@esemetz.metz.supelec.fr> <20040309170551.GK17403@artcom8.artcom-gmbh.de> <65ddd9bs.fsf@esemetz.metz.supelec.fr> <20040309222732.GC31599@lucien.kn-bremen.de> <20040310084112.GC17143@dbs.uni-hannover.de> <20040310090419.GO17403@artcom8.artcom-gmbh.de>
Message-ID: <20040310102642.GA9682@dbs.uni-hannover.de>

> >   map pdftex.map
> >   map +localfonts.map
> How many do?

Well, I don't think that we should try to guess numbers of users of some
features. Let's talk about use-cases and how they can be handled.

One use-case of the config file is to have a copy of it in the local
tree. One can set up additional map files there which also reside in
the local tree.

That way, one can easily replace/upgrade the whole TeX system (keeping
the local tree in place, of course) without having any need to re-enable
the additional map files. I am not afraid of changes, but I'd be not so
happy to loose this functionality completely.

Thomas

From hartmut_henkel@gmx.de  Wed Mar 10 10:27:49 2004
From: hartmut_henkel@gmx.de (Hartmut Henkel)
Date: Wed, 10 Mar 2004 11:27:49 +0100 (MET)
Subject: [NTG-pdftex] pdftex.cfg (was: pdfetex as the only engine)
References: <6.0.1.1.2.20040310105020.01d88ec0@server-1>
Message-ID: <1835.1078914469@www6.gmx.net>

> >where to set default papersize?
> 
> in the document, since the macro package needs to handle the dimensions 
> anyway; pdftex/tex live should not be papersize dependent; since the 
> development takes place in europe/asia, i suggest to hardwire A4 as
> default

also something for texmf.cnf? It's also a systemwide parameter.
Even pick from libpapersize by kpathsea?

Regards, Hartmut

---slowly convinced about the .cnf drop,
and the main thing i did until now with the manual
was to rearrange .cnf descriptions...

-- 
+++ NEU bei GMX und erstmalig in Deutschland: TÜV-geprüfter Virenschutz +++
100% Virenerkennung nach Wildlist. Infos: http://www.gmx.net/virenschutz


From Fabrice.Popineau@supelec.fr  Wed Mar 10 11:21:19 2004
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: Wed, 10 Mar 2004 12:21:19 +0100
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <22089.1078905934@www50.gmx.net> (Hartmut Henkel's message of
 "Wed, 10 Mar 2004 09:05:34 +0100 (MET)")
References: <23090.1078905486@www25.gmx.net> <22089.1078905934@www50.gmx.net>
Message-ID: <brn5lzgw.fsf@esemetz.metz.supelec.fr>

>> On 2004-03-09 22:00:55 +0100, Fabrice Popineau wrote: So we simply
>> drop the cfg?

> How then to set the default pk resolution, if no Type1 fonts are found
> and .pk fonts are to be generated?  E. g. it's 600 dpi at work and
> 1200 dpi at home, all time constant but system dependent. Handled by
> texconfig...

You can completely replace pdftex.cfg with \input pdftexconfig.tex :
\pdfoutput=...
...
\pdfpkresolution=1200
\pdfimageresolution=...


and these will be dumped into your format.

I agree that the whole tex thing lacks a model for a central
configuration tool. But I don't think it will be solved either by
pdftex.cfg.

Fabrice


From pragma@wxs.nl  Wed Mar 10 12:05:35 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Wed, 10 Mar 2004 13:05:35 +0100
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <brn5lzgw.fsf@esemetz.metz.supelec.fr>
References: <23090.1078905486@www25.gmx.net>
 <22089.1078905934@www50.gmx.net>
 <brn5lzgw.fsf@esemetz.metz.supelec.fr>
Message-ID: <6.0.1.1.2.20040310130447.01d25ec0@server-1>

At 12:21 10/03/2004, Fabrice Popineau wrote:

>You can completely replace pdftex.cfg with \input pdftexconfig.tex :
>\pdfoutput=...
>...
>\pdfpkresolution=1200
>\pdfimageresolution=...
>
>
>and these will be dumped into your format.
>
>I agree that the whole tex thing lacks a model for a central
>configuration tool. But I don't think it will be solved either by
>pdftex.cfg.

actually, that file you mentioned is the concept, which is why context has 
cont-sys.tex -)

Hans  


From pragma@wxs.nl  Wed Mar 10 12:11:28 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Wed, 10 Mar 2004 13:11:28 +0100
Subject: [NTG-pdftex] pdftex.cfg (was: pdfetex as the only engine)
In-Reply-To: <1835.1078914469@www6.gmx.net>
References: <6.0.1.1.2.20040310105020.01d88ec0@server-1>
 <1835.1078914469@www6.gmx.net>
Message-ID: <6.0.1.1.2.20040310130928.01ca0b40@server-1>

At 11:27 10/03/2004, Hartmut Henkel wrote:
> > >where to set default papersize?
> >
> > in the document, since the macro package needs to handle the dimensions
> > anyway; pdftex/tex live should not be papersize dependent; since the
> > development takes place in europe/asia, i suggest to hardwire A4 as
> > default
>
>also something for texmf.cnf? It's also a systemwide parameter.
>Even pick from libpapersize by kpathsea?
>
>Regards, Hartmut
>
>---slowly convinced about the .cnf drop,
>and the main thing i did until now with the manual
>was to rearrange .cnf descriptions...

that will not change, since it can be turned into:

"You can make a configuration file for pdftex as follows: ...."

so, only the \pdf prefix needs to be added; the discriptions are still valid

Hans


From te@dbs.uni-hannover.de  Wed Mar 10 17:00:07 2004
From: te@dbs.uni-hannover.de (Thomas Esser)
Date: Wed, 10 Mar 2004 18:00:07 +0100
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <brn5lzgw.fsf@esemetz.metz.supelec.fr>
References: <23090.1078905486@www25.gmx.net> <22089.1078905934@www50.gmx.net> <brn5lzgw.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040310170007.GA28261@dbs.uni-hannover.de>

> You can completely replace pdftex.cfg with \input pdftexconfig.tex :

Ok, I just have done this in my tree. The name I have chosen was
pdfconfig.tex, and I have put that file to tex/generic/config.
Content:

  % Set pdfTeX parameters for pdf mode (replacing pdftex.cfg file).
  % Thomas Esser, 2004. public domain.
  \pdfoutput=1
  \pdfcompresslevel=9
  \pdfdecimaldigits=3
  \pdfpagewidth=210 true mm
  \pdfpageheight=297 true mm
  \pdfhorigin=1 true in
  \pdfvorigin=1 true in
  \pdfpkresolution=600
  \pdfoptionpdfminorversion=4
  \endinput

And I have changed all pdf*.ini file to "\input pdfconfig" instead of
"\pdfoutput=1", e.g. pdflatex.ini:

  % Thomas Esser, 1998, 2004. public domain.
  \input pdfconfig
  \scrollmode
  \input latex.ltx
  \endinput

Having set up everything "pdfetex" based via fmtutil.cnf, some things not
work. But, I doubt that this can be release to public unless at least the
most important macro packages are fixed for the situation that \pdfoutput
is defined but pdfetex is working in dvi mode...

I am quite sure that everything from Hans and Heiko gets this right,
but most other people's code that deals with that has to be fixed. Even
texinfo.tex has:

  \ifx\pdfoutput\undefined
  ...
  \else
    \pdftrue
    \pdfoutput = 1
    \input pdfcolor
  ...
  \fi

Argh...

Thomas

From ms@artcom-gmbh.de  Wed Mar 10 17:30:46 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Wed, 10 Mar 2004 18:30:46 +0100
Subject: [NTG-pdftex] .xpdfrc (was: pdftex/xpdf bug)
In-Reply-To: <16460.65384.207610.94773@zarniwoop.ms25.local>
References: <16460.62105.116689.652416@zarniwoop.ms25.local> <Pine.LNX.4.44.0403090013250.17112-100000@srv04.mech.kuleuven.ac.be> <16460.65384.207610.94773@zarniwoop.ms25.local>
Message-ID: <20040310173046.GR17403@artcom8.artcom-gmbh.de>

On 2004-03-09 00:19:04 +0100, Reinhard Kotucha wrote:
> >>>>> "Herman" == Herman Bruyninckx <Herman.Bruyninckx@mech.kuleuven.ac.be> writes:
> 
>     > Version 3.00 has some deprecated configuration variables. See
>     > the xpdfrc file that comes with the new version for all details.
> 
> Yes, I use the new variables.  The point is that pdftex shouldn't read
> the xpdf config file at all.  It just uses some libraries.

It shouldn't. And between 2001/06/21 and 2002/02/03 maybe it
didn't. :-(

The following code was added to pdftoepdf.read_pdf_info at
2001/06/21 (which comes probably from the patch by Otfried Cheong
(http://tug.org/mailman/htdig/pdftex/2001-May/000870.html):
    // initialize
    if (!isInit) {
        // We should better not call xpdf's initParams, which would
        // read $HOME/.xpdfrc to find external font files.  There is
        // no good reason for pdftex to have a hidden dependence on
        // .xpdfrc, and we don't want the output PDF to depend on its
        // contents.  The following four lines replace the call to
        // initParams().
        fontPath = (char **) gmalloc(sizeof(char *));
        fontPath[0] = 0;
        devFontMap = (DevFontMapEntry *) gmalloc(sizeof(DevFontMapEntry));
        devFontMap[0].pdfFont = 0;
        // initParams(xpdfConfigFile);
        errorInit();
        isInit = gTrue;
    }

On 2002/02/03 (#1524 by Fabrice) this became
    // initialize
    if (!isInit) {
        // We should better not call xpdf's initParams, which would
        // read $HOME/.xpdfrc to find external font files.  There is
        // no good reason for pdftex to have a hidden dependence on
        // .xpdfrc, and we don't want the output PDF to depend on its
        // contents.  The following four lines replace the call to
        // initParams().

        // read config file
        globalParams = new GlobalParams("");
        isInit = gTrue;
    }

Which, as the comment says, _reads_ the config file. :-(

On 2002/11/15 (#2544) I added the setErrQuiet for the current
version:
    // initialize
    if (!isInit) {
        // We should better not call xpdf's initParams, which would
        // read $HOME/.xpdfrc to find external font files.  There is
        // no good reason for pdftex to have a hidden dependence on
        // .xpdfrc, and we don't want the output PDF to depend on its
        // contents.  The following four lines replace the call to
        // initParams().

        // read config file
        globalParams = new GlobalParams("");
        globalParams->setErrQuiet(gFalse);
        isInit = gTrue;
    }

I'll try to solve this tomorrow. :-(

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From staw@gust.org.pl  Wed Mar 10 19:05:36 2004
From: staw@gust.org.pl (Staszek Wawrykiewicz)
Date: Wed, 10 Mar 2004 20:05:36 +0100 (CET)
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <20040310090757.GP17403@artcom8.artcom-gmbh.de>
Message-ID: <Pine.LNX.4.44.0403102003290.26174-100000@re86.internetdsl.tpnet.pl>

On Wed, 10 Mar 2004, Martin [iso-8859-1] Schröder wrote:

> On 2004-03-10 03:31:29 +0100, Staszek Wawrykiewicz wrote:
> > Ps. I've submited new i386-linux binaries upto #4464
> 
> > ldd /home/ms/tex/texlive/Master/bin/i386-linux/pdftex
> /home/ms/tex/texlive/Master/bin/i386-linux/pdftex: /lib/libc.so.6: version `GLIBC_2.2.4' not found (required by /home/ms/tex/texlive/Master/bin/i386-linux/pdftex)
> /home/ms/tex/texlive/Master/bin/i386-linux/pdftex: /lib/libc.so.6: version `GLIBC_2.3' not found (required by /home/ms/tex/texlive/Master/bin/i386-linux/pdftex)
>         libm.so.6 => /lib/libm.so.6 (0x4002d000)
>         libc.so.6 => /lib/libc.so.6 (0x4004c000)
>         /lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0x40000000)

Ehh... what can we do? Make static everything or using old RH6.2
for compilation (I'm still keeping such old bet).

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl



From te@dbs.uni-hannover.de  Wed Mar 10 19:09:55 2004
From: te@dbs.uni-hannover.de (Thomas Esser)
Date: Wed, 10 Mar 2004 20:09:55 +0100
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <Pine.LNX.4.44.0403102003290.26174-100000@re86.internetdsl.tpnet.pl>
References: <20040310090757.GP17403@artcom8.artcom-gmbh.de> <Pine.LNX.4.44.0403102003290.26174-100000@re86.internetdsl.tpnet.pl>
Message-ID: <20040310190955.GB1725@dbs.uni-hannover.de>

> Ehh... what can we do? Make static everything or using old RH6.2
> for compilation (I'm still keeping such old bet).

I guess that's the best you can do. IIRC, you even had a static version
of the Xaw library which you had linked in "by hand" (for xdvi, not
pdftex related).

Thomas

From staw@gust.org.pl  Wed Mar 10 19:48:11 2004
From: staw@gust.org.pl (Staszek Wawrykiewicz)
Date: Wed, 10 Mar 2004 20:48:11 +0100 (CET)
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <20040310190955.GB1725@dbs.uni-hannover.de>
Message-ID: <Pine.LNX.4.44.0403102047300.26323-100000@re86.internetdsl.tpnet.pl>

On Wed, 10 Mar 2004, Thomas Esser wrote:

> > Ehh... what can we do? Make static everything or using old RH6.2
> > for compilation (I'm still keeping such old bet).
> 
> I guess that's the best you can do. IIRC, you even had a static version
> of the Xaw library which you had linked in "by hand" (for xdvi, not
> pdftex related).

OK, will do. Thanks,

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl



From te@dbs.uni-hannover.de  Wed Mar 10 21:46:18 2004
From: te@dbs.uni-hannover.de (Thomas Esser)
Date: Wed, 10 Mar 2004 22:46:18 +0100
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <ishdazlh.fsf@esemetz.metz.supelec.fr>
References: <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl> <ishdazlh.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040310214618.GC1725@dbs.uni-hannover.de>

> Actually, you can even run 
> latex --output-format=pdf foo 

Well, to get something useful, you have to make sure that the latex format
is created with useful setting for e.g. \pdfhorigin and \pdfvorigin.

If you just
  latex -ini latex.ltx
  latex --output-format=pdf sample2e
you'll get a messed-up sample2e.pdf.

This means, that we either have to make sure to set useful defaults
for *all* formats that we dump with pdfetex or that we reactivate the
config file.

> Maybe the problem is that you just don't expect from inipdfetex to be
> initialized to DVI output format ...

Maybe, pdf*tex should defer this message until the dvi vs. pdf decision
is finally decided (don't know when this is: when typesetting the first
boxes or when shipping out the first page).

Thomas

From te@dbs.uni-hannover.de  Wed Mar 10 21:48:46 2004
From: te@dbs.uni-hannover.de (Thomas Esser)
Date: Wed, 10 Mar 2004 22:48:46 +0100
Subject: [NTG-pdftex] pdftex.cfg (was: pdfetex as the only engine)
In-Reply-To: <6.0.1.1.2.20040310095742.01c90d20@server-1>
References: <20040309222732.GC31599@lucien.kn-bremen.de> <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl> <6.0.1.1.2.20040310095742.01c90d20@server-1>
Message-ID: <20040310214846.GD1725@dbs.uni-hannover.de>

> eth ename of the default map file should be configurable in the texmf.cnf 
> file:
>   pdftex.mapfile=whatever.map;more.map

But, this is a step backwards. That's what an application specific config
file is for, not the more general texmf.cnf file.

Thomas

From ms@artcom-gmbh.de  Wed Mar 10 20:43:57 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Wed, 10 Mar 2004 21:43:57 +0100
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <Pine.LNX.4.44.0403102003290.26174-100000@re86.internetdsl.tpnet.pl>
References: <20040310090757.GP17403@artcom8.artcom-gmbh.de> <Pine.LNX.4.44.0403102003290.26174-100000@re86.internetdsl.tpnet.pl>
Message-ID: <20040310204357.GB10043@lucien.kn-bremen.de>

On 2004-03-10 20:05:36 +0100, Staszek Wawrykiewicz wrote:
> Ehh... what can we do? Make static everything or using old RH6.2
> for compilation (I'm still keeping such old bet).

More or less. This from TL2003:
> ldd /usr/local/bin/pdftex
        libm.so.6 => /lib/libm.so.6 (0x4002d000)
        libc.so.6 => /lib/libc.so.6 (0x40050000)
        /lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0x40000000)

Best regards
    Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Wed Mar 10 22:38:32 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Wed, 10 Mar 2004 23:38:32 +0100
Subject: [NTG-pdftex] defaults for horigin & vorigin
In-Reply-To: <20040309163440.GI17403@artcom8.artcom-gmbh.de>
References: <20040308162835.GG16120@artcom8.artcom-gmbh.de> <20040309002138.GA21228@lucien.kn-bremen.de> <20040309163440.GI17403@artcom8.artcom-gmbh.de>
Message-ID: <20040310223832.GC10043@lucien.kn-bremen.de>

On 2004-03-09 17:34:40 +0100, Martin Schröder wrote:
> What should be the default for horigin & vorigin? All references
> I can find (including the manual) provide 1 true in as the default.

Pdftex is also a driver; but doesn't the driver standard
enforce an origin of (1in/1in); and shouldn't the default then be
(1in/1in) instead of (0pt/0pt)?

Best regards
    Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From te@dbs.uni-hannover.de  Thu Mar 11 00:46:41 2004
From: te@dbs.uni-hannover.de (Thomas Esser)
Date: Thu, 11 Mar 2004 01:46:41 +0100
Subject: [NTG-pdftex] defaults for horigin & vorigin
In-Reply-To: <20040310223832.GC10043@lucien.kn-bremen.de>
References: <20040308162835.GG16120@artcom8.artcom-gmbh.de> <20040309002138.GA21228@lucien.kn-bremen.de> <20040309163440.GI17403@artcom8.artcom-gmbh.de> <20040310223832.GC10043@lucien.kn-bremen.de>
Message-ID: <20040311004640.GD1561@dbs.uni-hannover.de>

> Pdftex is also a driver; but doesn't the driver standard
> enforce an origin of (1in/1in); and shouldn't the default then be
> (1in/1in) instead of (0pt/0pt)?

Das wäre ja schön. Diese 0pt sind völlig unbrauchbar. Vielleicht ist
ja sogar das "1 true in" die richtige Einstellung. Normale "Treiber"
kennen ja TeX's \mag nicht ...

Jedenfalls habe ich jetzt alles halbwegs brauchbar über
Macropakete/Formate in meinem Quellbaum implementiert und ich würde mich
freuen, wenn bestimmte Dinge dann jetzt noch besser werden (wie z.B. die
origin-Einstellungen) oder wenn die Konfig-Datei zurückkäme.

Jedenfalls gab es schon den ersten Knall mit einem pdfetex basierten
LaTeX. Das bereits auf CTAN verfügbare aber noch nicht angekündigte
neu LaTeX Release hat ein ltxdoc.cls welches dumme Dinge tut, wenn
\pdfoutput definiert aber auf 0 gesetzt ist. Einen Bug-Repprt habe ich
sofort rausgeschickt (latex/3640).

Viele Grüße

Thomas

From te@dbs.uni-hannover.de  Thu Mar 11 00:53:54 2004
From: te@dbs.uni-hannover.de (Thomas Esser)
Date: Thu, 11 Mar 2004 01:53:54 +0100
Subject: [NTG-pdftex] defaults for horigin & vorigin
In-Reply-To: <20040311004640.GD1561@dbs.uni-hannover.de>
References: <20040308162835.GG16120@artcom8.artcom-gmbh.de> <20040309002138.GA21228@lucien.kn-bremen.de> <20040309163440.GI17403@artcom8.artcom-gmbh.de> <20040310223832.GC10043@lucien.kn-bremen.de> <20040311004640.GD1561@dbs.uni-hannover.de>
Message-ID: <20040311005354.GA11208@dbs.uni-hannover.de>

> Das wäre ja schön. Diese 0pt sind völlig unbrauchbar. Vielleicht ist
...

Sorry, as you might have guessed: this was ment as a private reply to
Martin. To all non-german speakers: sorry for the noise...

On the other hand, I can take this opportunity to translate the last
paragraph of my mail: basically it says that the new latex release (which
is already available on CTAN, but not yet announced) does not work with
latex = pdfetex, at least it cannot be used to process the ltnewsNN.tex
files which are based on ltxdoc.cls. The class is doing weired things
because \pdfoutput is defined but not set to 1. A bug report is on its
way (bug id latex/3640).

Thomas

From Fabrice.Popineau@supelec.fr  Thu Mar 11 08:15:30 2004
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: Thu, 11 Mar 2004 09:15:30 +0100
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <20040310214618.GC1725@dbs.uni-hannover.de> (Thomas Esser's
 message of "Wed, 10 Mar 2004 22:46:18 +0100")
References: <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl>
 <ishdazlh.fsf@esemetz.metz.supelec.fr>
 <20040310214618.GC1725@dbs.uni-hannover.de>
Message-ID: <k71rkdel.fsf@esemetz.metz.supelec.fr>

>> Actually, you can even run latex --output-format=pdf foo

> Well, to get something useful, you have to make sure that the latex
> format is created with useful setting for e.g. \pdfhorigin and
> \pdfvorigin.

> If you just latex -ini latex.ltx latex --output-format=pdf sample2e
> you'll get a messed-up sample2e.pdf.

> This means, that we either have to make sure to set useful defaults
> for *all* formats that we dump with pdfetex or that we reactivate the
> config file.

Surely those variables must be intialized with sensible values ?

But when I wrote that, I meant that we probably can't expect that
every package will take care of potential pdf output. So my question is
: shouldn't we allow to switch pdf_output on command line only in INI
mode ?

>> Maybe the problem is that you just don't expect from inipdfetex to be
>> initialized to DVI output format ...

> Maybe, pdf*tex should defer this message until the dvi vs. pdf
> decision is finally decided (don't know when this is: when typesetting
> the first boxes or when shipping out the first page).

That makes sense.

Fabrice


From pragma@wxs.nl  Thu Mar 11 09:13:10 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Thu, 11 Mar 2004 10:13:10 +0100
Subject: [NTG-pdftex] defaults for horigin & vorigin
In-Reply-To: <20040310223832.GC10043@lucien.kn-bremen.de>
References: <20040308162835.GG16120@artcom8.artcom-gmbh.de>
 <20040309002138.GA21228@lucien.kn-bremen.de>
 <20040309163440.GI17403@artcom8.artcom-gmbh.de>
 <20040310223832.GC10043@lucien.kn-bremen.de>
Message-ID: <6.0.1.1.2.20040311101241.01cb9280@server-1>

At 23:38 10/03/2004, Martin Schr=F6der wrote:
>On 2004-03-09 17:34:40 +0100, Martin Schr=F6der wrote:
> > What should be the default for horigin & vorigin? All references
> > I can find (including the manual) provide 1 true in as the default.
>
>Pdftex is also a driver; but doesn't the driver standard
>enforce an origin of (1in/1in); and shouldn't the default then be
>(1in/1in) instead of (0pt/0pt)?

indeed, that's the heritage of tex; also, most macro packages handle this=20
(i guess)

Hans


From Fabrice.Popineau@supelec.fr  Thu Mar 11 15:35:40 2004
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: Thu, 11 Mar 2004 16:35:40 +0100
Subject: [NTG-pdftex] .xpdfrc
In-Reply-To: <20040310173046.GR17403@artcom8.artcom-gmbh.de> (Martin
 Schröder's message of "Wed, 10 Mar 2004 18:30:46 +0100")
References: <16460.62105.116689.652416@zarniwoop.ms25.local>
 <Pine.LNX.4.44.0403090013250.17112-100000@srv04.mech.kuleuven.ac.be>
 <16460.65384.207610.94773@zarniwoop.ms25.local>
 <20040310173046.GR17403@artcom8.artcom-gmbh.de>
Message-ID: <ishbgzw3.fsf@esemetz.metz.supelec.fr>

> On 2002/02/03 (#1524 by Fabrice) this became // initialize if

IIRC, that was because another change in the xpdf library. The previous
patch didn't work anymore. Maybe I'm wrong, maybe there was a better
solution. Maybe Derek can do something for pdftex and provide a fallback
which will avoid to read this init file.


Fabrice


From ms@artcom-gmbh.de  Thu Mar 11 15:56:41 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Thu, 11 Mar 2004 16:56:41 +0100
Subject: [NTG-pdftex] .xpdfrc
In-Reply-To: <ishbgzw3.fsf@esemetz.metz.supelec.fr>
References: <16460.62105.116689.652416@zarniwoop.ms25.local> <Pine.LNX.4.44.0403090013250.17112-100000@srv04.mech.kuleuven.ac.be> <16460.65384.207610.94773@zarniwoop.ms25.local> <20040310173046.GR17403@artcom8.artcom-gmbh.de> <ishbgzw3.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040311155640.GY17403@artcom8.artcom-gmbh.de>

On 2004-03-11 16:35:40 +0100, Fabrice Popineau wrote:
> IIRC, that was because another change in the xpdf library. The previous
> patch didn't work anymore. Maybe I'm wrong, maybe there was a better
> solution. Maybe Derek can do something for pdftex and provide a fallback
> which will avoid to read this init file.

I suppose the simplest way is an ifdef/endif in GlobalParams.

I'm currently resyncing the whole depot; will fix it tomorrow.

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From pragma@wxs.nl  Thu Mar 11 23:15:02 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Fri, 12 Mar 2004 00:15:02 +0100
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <20040310170007.GA28261@dbs.uni-hannover.de>
References: <23090.1078905486@www25.gmx.net>
 <22089.1078905934@www50.gmx.net>
 <brn5lzgw.fsf@esemetz.metz.supelec.fr>
 <20040310170007.GA28261@dbs.uni-hannover.de>
Message-ID: <6.0.1.1.2.20040312001306.03c7d968@server-1>

At 18:00 10/03/2004, Thomas Esser wrote:
> > You can completely replace pdftex.cfg with \input pdftexconfig.tex :
>
>Ok, I just have done this in my tree. The name I have chosen was
>pdfconfig.tex, and I have put that file to tex/generic/config.
>Content:
>
>   % Set pdfTeX parameters for pdf mode (replacing pdftex.cfg file).
>   % Thomas Esser, 2004. public domain.
>   \pdfoutput=1
>   \pdfcompresslevel=9
>   \pdfdecimaldigits=3

make that 4 or 5, esp since tex does a log of back/forward transforms and 
we don't want to loose precission

>   \pdfpagewidth=210 true mm
>   \pdfpageheight=297 true mm
>   \pdfhorigin=1 true in
>   \pdfvorigin=1 true in
>   \pdfpkresolution=600
>   \pdfoptionpdfminorversion=4

actually you can add:

\pdfmapfile{psfonts.map}

which solves the map file specification problem as well

Hans  


From ms@artcom-gmbh.de  Fri Mar 12 00:18:39 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri, 12 Mar 2004 01:18:39 +0100
Subject: [tex-live] Re: [NTG-pdftex] pdftex.cfg
In-Reply-To: <6.0.1.1.2.20040312001306.03c7d968@server-1>
References: <23090.1078905486@www25.gmx.net> <22089.1078905934@www50.gmx.net> <brn5lzgw.fsf@esemetz.metz.supelec.fr> <20040310170007.GA28261@dbs.uni-hannover.de> <6.0.1.1.2.20040312001306.03c7d968@server-1>
Message-ID: <20040312001839.GC9933@lucien.kn-bremen.de>

On 2004-03-12 00:15:02 +0100, Hans Hagen wrote:
> \pdfmapfile{psfonts.map}

s/psfonts/pdftex/

Best regards
    Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Fri Mar 12 10:09:23 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri, 12 Mar 2004 11:09:23 +0100
Subject: [NTG-pdftex] [bug] \pdfmapfile broken?
Message-ID: <20040312100923.GC17403@artcom8.artcom-gmbh.de>

> pdftex -ini
This is pdfTeXk, Version 3.141592-1.12b-beta-20040309 (Web2C 7.5.2) (INITEX)
 %&-line parsing enabled.
**\pdfoutput=1
output format initialized to DVI

*\pdfmapfile{pdftex.map}
! Missing { inserted.
<to be read again> 
                   {
<*> \pdfmapfile{
                pdftex.map}
? 

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Fri Mar 12 11:09:17 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri, 12 Mar 2004 12:09:17 +0100
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <k71rkdel.fsf@esemetz.metz.supelec.fr>
References: <Pine.LNX.4.44.0403100142370.24917-100000@re86.internetdsl.tpnet.pl> <ishdazlh.fsf@esemetz.metz.supelec.fr> <20040310214618.GC1725@dbs.uni-hannover.de> <k71rkdel.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040312110917.GH17403@artcom8.artcom-gmbh.de>

On 2004-03-11 09:15:30 +0100, Fabrice Popineau wrote:
> > Maybe, pdf*tex should defer this message until the dvi vs. pdf
> > decision is finally decided (don't know when this is: when typesetting
> > the first boxes or when shipping out the first page).
> 
> That makes sense.

Yes. The current version is bizarre:

> pdftex -ini
This is pdfTeXk, Version 3.141592-1.12b-beta-20040309 (Web2C 7.5.2) (INITEX)
 %&-line parsing enabled.
**\pdfoutput=1
output format initialized to DVI

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Fri Mar 12 13:56:33 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri, 12 Mar 2004 14:56:33 +0100
Subject: [NTG-pdftex] .xpdfrc
In-Reply-To: <20040311155640.GY17403@artcom8.artcom-gmbh.de>
References: <16460.62105.116689.652416@zarniwoop.ms25.local> <Pine.LNX.4.44.0403090013250.17112-100000@srv04.mech.kuleuven.ac.be> <16460.65384.207610.94773@zarniwoop.ms25.local> <20040310173046.GR17403@artcom8.artcom-gmbh.de> <ishbgzw3.fsf@esemetz.metz.supelec.fr> <20040311155640.GY17403@artcom8.artcom-gmbh.de>
Message-ID: <20040312135632.GI17403@artcom8.artcom-gmbh.de>

Fixed, #4481.

I've also increased the version to 1.20a

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Fri Mar 12 14:34:14 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri, 12 Mar 2004 15:34:14 +0100
Subject: [NTG-pdftex] \immediate\pdfliteral (was: bug or intended behaviour)
In-Reply-To: <6.0.1.1.2.20040213221009.01cf5b38@server-1>
References: <6.0.1.1.2.20040213221009.01cf5b38@server-1>
Message-ID: <20040312143414.GJ17403@artcom8.artcom-gmbh.de>

On 2004-02-13 22:16:20 +0100, Hans Hagen wrote:
> Why does \immediate\pdfliteral code end up as typeset text?
> 
> \pdfcompresslevel0
> 
> \starttext
> 
> \immediate\pdfliteral{\letterpercent [start]}
> \pdfliteral{\letterpercent (start)}
> test
> \pdfliteral{\letterpercent (stop)}
> \immediate\pdfliteral{\letterpercent [stop]}
> 
> \stoptext
> 
> if this is intended behaviour, it should be documented as such and 
> 'frozen'. Also, the fact that a \pdfliteral ends up on a new line in the 
> output should become a frozen (intended) and documented feature (unless we 
> introduce \pdfcomment). [in pdf everything between % and endofline is 
> comment!]

Have we come to a conclusion on this?

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Fri Mar 12 14:35:49 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri, 12 Mar 2004 15:35:49 +0100
Subject: [NTG-pdftex] \pdfcurrentannot (was: feature request)
In-Reply-To: <6.0.1.1.2.20040214222653.01bbf2b0@localhost>
References: <6.0.1.1.2.20040214222653.01bbf2b0@localhost>
Message-ID: <20040312143549.GK17403@artcom8.artcom-gmbh.de>

On 2004-02-14 22:28:21 +0100, Hans Hagen wrote:
> Is it possible to have a primitive
> 
>   \pdfcurrentannot
> 
> which is set to to the object number of the current annotation (i.e. the 
> next \pdflastannot)

Any progress on this?

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Fri Mar 12 14:36:37 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri, 12 Mar 2004 15:36:37 +0100
Subject: [NTG-pdftex] \pdfmapfilemode (was: feature request)
In-Reply-To: <6.0.1.1.2.20040217204439.01cc96f8@server-1>
References: <6.0.1.1.2.20040217204439.01cc96f8@server-1>
Message-ID: <20040312143637.GL17403@artcom8.artcom-gmbh.de>

On 2004-02-17 20:48:40 +0100, Hans Hagen wrote:
> Since not-found-mapfiles now quit pdftex, i'd like to see something
> 
> \ifpdfmapfile filename<space or \relax delimited like input>
> \else
> \fi
> 
> or maybe better, something:
> 
>   \pdfmapfilemode
> 
> with
> 
>   0 = quit on error
>   1 = warning on error
>   2 = ignore error

Any progress on this?

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Fri Mar 12 14:38:47 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri, 12 Mar 2004 15:38:47 +0100
Subject: [NTG-pdftex] \pdfbannerstring (was: pdf versions and so)
In-Reply-To: <6.0.1.1.2.20040218085025.01dd1178@server-1>
References: <6.0.1.1.2.20040217105557.03722108@server-1> <20040217135853.GA1916@linux.vpn.uni-freiburg.de> <6.0.1.1.2.20040217150616.01d34f90@server-1> <20040218050120.GA2911@arnica> <6.0.1.1.2.20040218085025.01dd1178@server-1>
Message-ID: <20040312143847.GM17403@artcom8.artcom-gmbh.de>

On 2004-02-18 08:51:06 +0100, Hans Hagen wrote:
> At 06:01 18/02/2004, The Thanh Han wrote:
> 
> >I can provide a primitive that return a string saying something similar
> >to the banner, ie:
> >
> >pdfTeX (Web2C 7.5.2) 3.141592-1.11c-beta-20040208  kpathsea version 3.5.2
> 
> Sounds ok to me
> 
>   \pdfbannerstring

Any progress on this?

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Fri Mar 12 14:59:10 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri, 12 Mar 2004 15:59:10 +0100
Subject: [NTG-pdftex] [20040312] Current schedule
Message-ID: <20040312145910.GN17403@artcom8.artcom-gmbh.de>

[I've skimmed through the archive in search of open bugs/feature
requests and found this. Anything missing?

I propose this schedule. rc1 also means a feature freeze for that
release.]

Milestones:

- 1.20a:
  - features:
    - remove pdftex.cfg
    - automatic generation of pk files, if needed
    - move PTEX.Fullbanner to Info dictionary or increase the
      Producer key
    - \pdfbannerstring
  - open bugs:
    - \pdfmapfile broken
    - including encrypted pdfs. Fixed?
    - %& is not recognized by pdftex (see
      http://tug.org/pipermail/texhax/2003-October/001066.html)
      Fixed?
  - rc1:     20040319
  - release: 20040326

- 1.30a:
  - features:
    - xpdf3, pdf1.5
    - \pdfxformllx\xformid optional_keyword
    - new manual
    - sarovar
  - rc1:     20040514
  - release: 20040521

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From pragma@wxs.nl  Fri Mar 12 15:30:37 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Fri, 12 Mar 2004 16:30:37 +0100
Subject: [NTG-pdftex] [20040312] Current schedule
In-Reply-To: <20040312145910.GN17403@artcom8.artcom-gmbh.de>
References: <20040312145910.GN17403@artcom8.artcom-gmbh.de>
Message-ID: <6.0.1.1.2.20040312162948.01d63e10@server-1>

At 15:59 12/03/2004, Martin Schr=F6der wrote:
>[I've skimmed through the archive in search of open bugs/feature
>requests and found this. Anything missing?
>
>I propose this schedule. rc1 also means a feature freeze for that
>release.]
>
>Milestones:
>
>- 1.20a:
>   - features:
>     - remove pdftex.cfg
>     - automatic generation of pk files, if needed
>     - move PTEX.Fullbanner to Info dictionary or increase the
>       Producer key
>     - \pdfbannerstring
>   - open bugs:
>     - \pdfmapfile broken
>     - including encrypted pdfs. Fixed?
>     - %& is not recognized by pdftex (see
>       http://tug.org/pipermail/texhax/2003-October/001066.html)
>       Fixed?
>   - rc1:     20040319
>   - release: 20040326

+ some new primitives that thanh implemented already (forward referencing=20
of object numbers, page object number etc)

>- 1.30a:
>   - features:
>     - xpdf3, pdf1.5
>     - \pdfxformllx\xformid optional_keyword
>     - new manual
>     - sarovar
>   - rc1:     20040514
>   - release: 20040521
>
>Best regards
>         Martin
>--
>                Martin Schr=F6der, ms@artcom-gmbh.de
>      ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
>           Voice +49 421 20419-44 / Fax +49 421 20419-10
>                     http://www.artcom-gmbh.de
>_______________________________________________
>ntg-pdftex mailing list
>ntg-pdftex@ntg.nl
>http://www.ntg.nl/mailman/listinfo/ntg-pdftex
>
>=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=
=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D=3D
>Deze e-mail is door E-mail VirusScanner van Planet Internet gecontroleerd=
=20
>op virussen.
>Op http://www.planet.nl/evs staat een verwijzing naar de actuele lijst=20
>waar op wordt gecontroleerd.

-------------------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE/POD/CTS
                       Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
  tel: +31 (0)38 477 53 69 | fax: +31 (0)38 477 53 74 | www.pragma-ade.com
-------------------------------------------------------------------------
                        information: http://www.pragma-ade.com/roadmap.pdf
                     documentation: http://www.pragma-ade.com/showcase.pdf
-------------------------------------------------------------------------


From pragma@wxs.nl  Fri Mar 12 15:31:25 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Fri, 12 Mar 2004 16:31:25 +0100
Subject: [NTG-pdftex] \pdfbannerstring (was: pdf versions and so)
In-Reply-To: <20040312143847.GM17403@artcom8.artcom-gmbh.de>
References: <6.0.1.1.2.20040217105557.03722108@server-1>
 <20040217135853.GA1916@linux.vpn.uni-freiburg.de>
 <6.0.1.1.2.20040217150616.01d34f90@server-1>
 <20040218050120.GA2911@arnica>
 <6.0.1.1.2.20040218085025.01dd1178@server-1>
 <20040312143847.GM17403@artcom8.artcom-gmbh.de>
Message-ID: <6.0.1.1.2.20040312163107.01d77290@server-1>

At 15:38 12/03/2004, Martin Schr=F6der wrote:
>On 2004-02-18 08:51:06 +0100, Hans Hagen wrote:
> > At 06:01 18/02/2004, The Thanh Han wrote:
> >
> > >I can provide a primitive that return a string saying something similar
> > >to the banner, ie:
> > >
> > >pdfTeX (Web2C 7.5.2) 3.141592-1.11c-beta-20040208  kpathsea version=
 3.5.2
> >
> > Sounds ok to me
> >
> >   \pdfbannerstring
>
>Any progress on this?

afaik thanh has implemented this

Hans


From pragma@wxs.nl  Fri Mar 12 15:37:16 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Fri, 12 Mar 2004 16:37:16 +0100
Subject: [NTG-pdftex] \pdfcurrentannot (was: feature request)
In-Reply-To: <20040312143549.GK17403@artcom8.artcom-gmbh.de>
References: <6.0.1.1.2.20040214222653.01bbf2b0@localhost>
 <20040312143549.GK17403@artcom8.artcom-gmbh.de>
Message-ID: <6.0.1.1.2.20040312163146.01d1b4e0@server-1>

At 15:35 12/03/2004, Martin Schr=F6der wrote:
>On 2004-02-14 22:28:21 +0100, Hans Hagen wrote:
> > Is it possible to have a primitive
> >
> >   \pdfcurrentannot
> >
> > which is set to to the object number of the current annotation (i.e. the
> > next \pdflastannot)
>
>Any progress on this?

\pdfannot reserveobjnum

\pdfannot useobjnum \pdflastannot {My annot}


also:

\pdfpageref seems to be reasonable. When you refer to a page that
doesn't exists yet, a new page number will be reversed and returned. So
if you refer to some page that doesn't exist at all, the object referred
to will be a null object.

Hans =20


From pragma@wxs.nl  Fri Mar 12 15:38:42 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Fri, 12 Mar 2004 16:38:42 +0100
Subject: [NTG-pdftex] \immediate\pdfliteral (was: bug or intended
 behaviour)
In-Reply-To: <20040312143414.GJ17403@artcom8.artcom-gmbh.de>
References: <6.0.1.1.2.20040213221009.01cf5b38@server-1>
 <20040312143414.GJ17403@artcom8.artcom-gmbh.de>
Message-ID: <6.0.1.1.2.20040312163803.01d5e3c8@server-1>

At 15:34 12/03/2004, Martin Schr=F6der wrote:
>On 2004-02-13 22:16:20 +0100, Hans Hagen wrote:
> > Why does \immediate\pdfliteral code end up as typeset text?
> >
> > \pdfcompresslevel0
> >
> > \starttext
> >
> > \immediate\pdfliteral{\letterpercent [start]}
> > \pdfliteral{\letterpercent (start)}
> > test
> > \pdfliteral{\letterpercent (stop)}
> > \immediate\pdfliteral{\letterpercent [stop]}
> >
> > \stoptext
> >
> > if this is intended behaviour, it should be documented as such and
> > 'frozen'. Also, the fact that a \pdfliteral ends up on a new line in the
> > output should become a frozen (intended) and documented feature (unless=
 we
> > introduce \pdfcomment). [in pdf everything between % and endofline is
> > comment!]
>
>Have we come to a conclusion on this?

the best thing is to explictly document this in the source so that it does=
=20
not accidentaly gets changed

Hans


From ms@artcom-gmbh.de  Fri Mar 12 15:47:29 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri, 12 Mar 2004 16:47:29 +0100
Subject: [NTG-pdftex] -output-comment
Message-ID: <20040312154729.GP17403@artcom8.artcom-gmbh.de>

pdftex --help:
[...]
-output-comment=STRING   use STRING for PDF file comment instead of date

What's this supposed to do? Currently I see no effect...

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From pragma@wxs.nl  Fri Mar 12 17:16:00 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Fri, 12 Mar 2004 18:16:00 +0100
Subject: [NTG-pdftex] -output-comment
In-Reply-To: <20040312154729.GP17403@artcom8.artcom-gmbh.de>
References: <20040312154729.GP17403@artcom8.artcom-gmbh.de>
Message-ID: <6.0.1.1.2.20040312181533.01d5bec0@server-1>

At 16:47 12/03/2004, Martin Schr=F6der wrote:
>pdftex --help:
>[...]
>-output-comment=3DSTRING   use STRING for PDF file comment instead of date
>
>What's this supposed to do? Currently I see no effect...

i have no idea, and i see no reason for that command either

Hans


From hartmut_henkel@gmx.de  Sat Mar 13 00:31:44 2004
From: hartmut_henkel@gmx.de (Hartmut Henkel)
Date: Sat, 13 Mar 2004 01:31:44 +0100 (CET)
Subject: [NTG-pdftex] [bug] \pdfmapfile broken?
In-Reply-To: <20040312100923.GC17403@artcom8.artcom-gmbh.de>
References: <20040312100923.GC17403@artcom8.artcom-gmbh.de>
Message-ID: <Pine.LNX.4.58.0403130129360.14609@hahepc1.hahe>

On Fri, 12 Mar 2004, Martin Schr=F6der wrote:

> > pdftex -ini
> This is pdfTeXk, Version 3.141592-1.12b-beta-20040309 (Web2C 7.5.2) (INIT=
EX)
>  %&-line parsing enabled.
> **\pdfoutput=3D1
> output format initialized to DVI
>
> *\pdfmapfile{pdftex.map}
> ! Missing { inserted.
> <to be read again>
>                    {
> <*> \pdfmapfile{
>                 pdftex.map}
> ?

In -ini mode, certain things have no catcode yet. Do:

\pdfoutput=3D1
\catcode`\{=3D1
\catcode`\}=3D2
\pdfmapfile{pdftex.map} % not needed, default anyway

Regards, Hartmut

From hartmut_henkel@gmx.de  Sat Mar 13 00:57:25 2004
From: hartmut_henkel@gmx.de (Hartmut Henkel)
Date: Sat, 13 Mar 2004 01:57:25 +0100 (CET)
Subject: [NTG-pdftex] [bug] \pdfmapfile broken?
In-Reply-To: <Pine.LNX.4.58.0403130129360.14609@hahepc1.hahe>
References: <20040312100923.GC17403@artcom8.artcom-gmbh.de>
 <Pine.LNX.4.58.0403130129360.14609@hahepc1.hahe>
Message-ID: <Pine.LNX.4.58.0403130154110.16936@hahepc1.hahe>

On Sat, 13 Mar 2004, Hartmut Henkel wrote:

> In -ini mode, certain things have no catcode yet. Do:
>
> \pdfoutput=1
> \catcode`\{=1
> \catcode`\}=2
> \pdfmapfile{pdftex.map} % not needed, default anyway

...which gives an \errmessage from latex.ltx in

pdfetex -ini  -jobname=pdflatex -progname=pdflatex *pdflatex.ini

due to

\ifnum\catcode`\{=1
  \errmessage
  {LaTeX must be made using an initex with no format preloaded}
\fi

so better leave \pdfmapfile{} out.

Regards, Hartmut

From Fabrice.Popineau@supelec.fr  Sat Mar 13 14:39:08 2004
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: Sat, 13 Mar 2004 15:39:08 +0100
Subject: [NTG-pdftex] -output-comment
In-Reply-To: <20040312154729.GP17403@artcom8.artcom-gmbh.de> (Martin
 Schröder's message of "Fri, 12 Mar 2004 16:47:29 +0100")
References: <20040312154729.GP17403@artcom8.artcom-gmbh.de>
Message-ID: <y8q4reur.fsf@esemetz.metz.supelec.fr>

> pdftex --help: [...]  -output-comment=STRING use STRING for PDF file
> comment instead of date

> What's this supposed to do? Currently I see no effect...

The message is wrong. it changes the output_comment string into the DVI
file only.

Fabrice


From pragma@wxs.nl  Sat Mar 13 19:36:15 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Sat, 13 Mar 2004 20:36:15 +0100
Subject: [NTG-pdftex] [bug] \pdfmapfile broken?
In-Reply-To: <Pine.LNX.4.58.0403130154110.16936@hahepc1.hahe>
References: <20040312100923.GC17403@artcom8.artcom-gmbh.de>
 <Pine.LNX.4.58.0403130129360.14609@hahepc1.hahe>
 <Pine.LNX.4.58.0403130154110.16936@hahepc1.hahe>
Message-ID: <6.0.1.1.2.20040313203408.01d6dec0@localhost>

At 01:57 13/03/2004, you wrote:
>On Sat, 13 Mar 2004, Hartmut Henkel wrote:
>
> > In -ini mode, certain things have no catcode yet. Do:
> >
> > \pdfoutput=1
> > \catcode`\{=1
> > \catcode`\}=2
> > \pdfmapfile{pdftex.map} % not needed, default anyway
>
>...which gives an \errmessage from latex.ltx in
>
>pdfetex -ini  -jobname=pdflatex -progname=pdflatex *pdflatex.ini
>
>due to
>
>\ifnum\catcode`\{=1
>   \errmessage
>   {LaTeX must be made using an initex with no format preloaded}
>\fi
>
>so better leave \pdfmapfile{} out.

how about:

\begingroup
\catcode`\{=1
\catcode`\}=2
\pdfmapfile{pdftex.map}
\endgroup

Hans   


From hartmut_henkel@gmx.de  Sat Mar 13 20:29:52 2004
From: hartmut_henkel@gmx.de (Hartmut Henkel)
Date: Sat, 13 Mar 2004 21:29:52 +0100 (CET)
Subject: [NTG-pdftex] pdftex.cfg
In-Reply-To: <6.0.1.1.2.20040312001306.03c7d968@server-1>
References: <23090.1078905486@www25.gmx.net> <22089.1078905934@www50.gmx.net>
 <brn5lzgw.fsf@esemetz.metz.supelec.fr> <20040310170007.GA28261@dbs.uni-hannover.de>
 <6.0.1.1.2.20040312001306.03c7d968@server-1>
Message-ID: <Pine.LNX.4.58.0403132120280.23213@hahepc1.hahe>

On Fri, 12 Mar 2004, Hans Hagen wrote:
> At 18:00 10/03/2004, Thomas Esser wrote:
> >   \pdfdecimaldigits=3
>
> make that 4 or 5, esp since tex does a log of back/forward transforms and
> we don't want to loose precission

No big risk there. Max. sensible value is 4, larger values are clipped
to 4, and these transforms seem to be only translations (1 0 0 1 x y cm)
which are exact (same shift values in forward/back transform lines).

Regards, Hartmut

From hartmut_henkel@gmx.de  Sat Mar 13 20:37:50 2004
From: hartmut_henkel@gmx.de (Hartmut Henkel)
Date: Sat, 13 Mar 2004 21:37:50 +0100 (CET)
Subject: [NTG-pdftex] [bug] \pdfmapfile broken?
In-Reply-To: <6.0.1.1.2.20040313203408.01d6dec0@localhost>
References: <20040312100923.GC17403@artcom8.artcom-gmbh.de>
 <Pine.LNX.4.58.0403130129360.14609@hahepc1.hahe> <Pine.LNX.4.58.0403130154110.16936@hahepc1.hahe>
 <6.0.1.1.2.20040313203408.01d6dec0@localhost>
Message-ID: <Pine.LNX.4.58.0403132131480.23517@hahepc1.hahe>

On Sat, 13 Mar 2004, Hans Hagen wrote:
> At 01:57 13/03/2004, you wrote:
> >so better leave \pdfmapfile{} out.
>
> how about:
>
> \begingroup
> \catcode`\{=1
> \catcode`\}=2
> \pdfmapfile{pdftex.map}
> \endgroup

Thanx, it works. I tried also \catcode`\{=12 after \pdfmapfile{}, but
grouping is much nicer.

Regards, Hartmut



From pragma@wxs.nl  Mon Mar 15 21:19:55 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Mon, 15 Mar 2004 22:19:55 +0100
Subject: [NTG-pdftex] [bug] \pdfmapfile broken?
In-Reply-To: <Pine.LNX.4.58.0403132131480.23517@hahepc1.hahe>
References: <20040312100923.GC17403@artcom8.artcom-gmbh.de>
 <Pine.LNX.4.58.0403130129360.14609@hahepc1.hahe>
 <Pine.LNX.4.58.0403130154110.16936@hahepc1.hahe>
 <6.0.1.1.2.20040313203408.01d6dec0@localhost>
 <Pine.LNX.4.58.0403132131480.23517@hahepc1.hahe>
Message-ID: <6.0.1.1.2.20040315221618.01cdb780@localhost>

At 21:37 13/03/2004, Hartmut Henkel wrote:
>On Sat, 13 Mar 2004, Hans Hagen wrote:
> > At 01:57 13/03/2004, you wrote:
> > >so better leave \pdfmapfile{} out.
> >
> > how about:
> >
> > \begingroup
> > \catcode`\{=1
> > \catcode`\}=2
> > \pdfmapfile{pdftex.map}
> > \endgroup

playing with the map file ...

is it possible to make the parser a bit less sensitive:

\pdfmapfile{+somename}

\pdfmapfile{+ somename} : space makes pdftex thinks that no filename is given

so, to make things less confusing for users, i suggest to ignore spaces 
between <trigger char> and <filename>

Hans






From ms@artcom-gmbh.de  Wed Mar 17 09:55:22 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Wed, 17 Mar 2004 10:55:22 +0100
Subject: [NTG-pdftex] -output-comment
In-Reply-To: <y8q4reur.fsf@esemetz.metz.supelec.fr>
References: <20040312154729.GP17403@artcom8.artcom-gmbh.de> <y8q4reur.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040317095522.GA17403@artcom8.artcom-gmbh.de>

On 2004-03-13 15:39:08 +0100, Fabrice Popineau wrote:
> The message is wrong. it changes the output_comment string into the DVI
> file only.

Fixed (#4518).

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Wed Mar 17 11:01:31 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Wed, 17 Mar 2004 12:01:31 +0100
Subject: [NTG-pdftex] [20040312] Current schedule
In-Reply-To: <20040312145910.GN17403@artcom8.artcom-gmbh.de>
References: <20040312145910.GN17403@artcom8.artcom-gmbh.de>
Message-ID: <20040317110131.GC17403@artcom8.artcom-gmbh.de>

On 2004-03-12 15:59:10 +0100, Martin Schröder wrote:
> Milestones:
> 
> - 1.20a:
>   - features:
>     - move PTEX.Fullbanner to Info dictionary or increase the
>       Producer key
>   - open bugs:
>     - %& is not recognized by pdftex (see
>       http://tug.org/pipermail/texhax/2003-October/001066.html)
>       Fixed?
>   - rc1:     20040319
>   - release: 20040326

These items seem still to be missing.

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From te@dbs.uni-hannover.de  Wed Mar 17 19:32:45 2004
From: te@dbs.uni-hannover.de (Thomas Esser)
Date: Wed, 17 Mar 2004 20:32:45 +0100
Subject: [NTG-pdftex] [20040312] Current schedule
In-Reply-To: <20040317110131.GC17403@artcom8.artcom-gmbh.de>
References: <20040312145910.GN17403@artcom8.artcom-gmbh.de> <20040317110131.GC17403@artcom8.artcom-gmbh.de>
Message-ID: <20040317193245.GB24612@dbs.uni-hannover.de>

> >     - %& is not recognized by pdftex (see

What is wrong with that one. It just works:

$ cat x.tex
%&latex
\documentclass{minimal}
\begin{document}
\end{document}

$ pdftex --parse x
This is pdfeTeXk, Version 3.14159-1.20a-beta-20040312-2.1 (Web2C 7.5.2)
 %&-line parsing enabled.
output format initialized to DVI
entering extended mode
(./x.tex
LaTeX2e <2003/12/01>
Babel <v3.8a> and hyphenation patterns for american, french, german, ngerman, n
ohyphenation, loaded.
(/software/oss/Text/teTeX-2.0/share/texmf-dist/tex/latex/base/minimal.cls
Document Class: minimal 2001/05/25 Standard LaTeX minimal class
) (./x.aux) (./x.aux) )
No pages of output.
Transcript written on x.log.

Thomas

From ms@artcom-gmbh.de  Wed Mar 17 23:09:38 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Thu, 18 Mar 2004 00:09:38 +0100
Subject: [NTG-pdftex] [20040312] Current schedule
In-Reply-To: <20040317193245.GB24612@dbs.uni-hannover.de>
References: <20040312145910.GN17403@artcom8.artcom-gmbh.de> <20040317110131.GC17403@artcom8.artcom-gmbh.de> <20040317193245.GB24612@dbs.uni-hannover.de>
Message-ID: <20040317230938.GA13214@lucien.kn-bremen.de>

On 2004-03-17 20:32:45 +0100, Thomas Esser wrote:
> > >     - %& is not recognized by pdftex (see
> 
> What is wrong with that one. It just works:

Fine! 
Karl thought otherwise; he was probably confused my the thread on
texhax.

Best regards
    Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From Fabrice.Popineau@supelec.fr  Thu Mar 18 10:29:27 2004
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: Thu, 18 Mar 2004 11:29:27 +0100
Subject: [NTG-pdftex] [bug] \pdfmapfile broken?
In-Reply-To: <6.0.1.1.2.20040315221618.01cdb780@localhost> (Hans Hagen's
 message of "Mon, 15 Mar 2004 22:19:55 +0100")
References: <20040312100923.GC17403@artcom8.artcom-gmbh.de>
 <Pine.LNX.4.58.0403130129360.14609@hahepc1.hahe>
 <Pine.LNX.4.58.0403130154110.16936@hahepc1.hahe>
 <6.0.1.1.2.20040313203408.01d6dec0@localhost>
 <Pine.LNX.4.58.0403132131480.23517@hahepc1.hahe>
 <6.0.1.1.2.20040315221618.01cdb780@localhost>
Message-ID: <u10mtpmg.fsf@esemetz.metz.supelec.fr>

> \pdfmapfile{+somename}

> \pdfmapfile{+ somename} : space makes pdftex thinks that no filename is given

> so, to make things less confusing for users, i suggest to ignore spaces
> between <trigger char> and <filename>

I wonder about that one: the space is constituent of filenames... Ok usually,
you don't put it at the beginning. But anyway, you could.

Fabrice


From pragma@wxs.nl  Thu Mar 18 12:16:08 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Thu, 18 Mar 2004 13:16:08 +0100
Subject: [NTG-pdftex] [bug] \pdfmapfile broken?
In-Reply-To: <u10mtpmg.fsf@esemetz.metz.supelec.fr>
References: <20040312100923.GC17403@artcom8.artcom-gmbh.de>
 <Pine.LNX.4.58.0403130129360.14609@hahepc1.hahe>
 <Pine.LNX.4.58.0403130154110.16936@hahepc1.hahe>
 <6.0.1.1.2.20040313203408.01d6dec0@localhost>
 <Pine.LNX.4.58.0403132131480.23517@hahepc1.hahe>
 <6.0.1.1.2.20040315221618.01cdb780@localhost>
 <u10mtpmg.fsf@esemetz.metz.supelec.fr>
Message-ID: <6.0.1.1.2.20040318131429.01d54638@server-1>

At 11:29 18/03/2004, Fabrice Popineau wrote:

> > \pdfmapfile{+somename}
>
> > \pdfmapfile{+ somename} : space makes pdftex thinks that no filename is 
> given
>
> > so, to make things less confusing for users, i suggest to ignore spaces
> > between <trigger char> and <filename>
>
>I wonder about that one: the space is constituent of filenames... Ok usually,
>you don't put it at the beginning. But anyway, you could.

but this will discourage it, so ...

an option is to support " a fontmap file used by fabrice with dunny spaces 
in the name " like syntax as well

Hans


From pragma@wxs.nl  Thu Mar 18 17:21:33 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Thu, 18 Mar 2004 18:21:33 +0100
Subject: [NTG-pdftex] problems with 1.20
In-Reply-To: <6.0.1.1.2.20040318131429.01d54638@server-1>
References: <20040312100923.GC17403@artcom8.artcom-gmbh.de>
 <Pine.LNX.4.58.0403130129360.14609@hahepc1.hahe>
 <Pine.LNX.4.58.0403130154110.16936@hahepc1.hahe>
 <6.0.1.1.2.20040313203408.01d6dec0@localhost>
 <Pine.LNX.4.58.0403132131480.23517@hahepc1.hahe>
 <6.0.1.1.2.20040315221618.01cdb780@localhost>
 <u10mtpmg.fsf@esemetz.metz.supelec.fr>
 <6.0.1.1.2.20040318131429.01d54638@server-1>
Message-ID: <6.0.1.1.2.20040318181813.01eb3ec0@server-1>

I tested the 1.20 binaries from:

   http://www.fsci.fuk.kindai.ac.jp/~kakuto/win32-ptex/web2c75-e.html

and when testing some inclusion, i get:

   Warning: pdfetex.exe (file cm.enc): cannot open encoding file for reading

but

   >kpsewhich cm.enc
   e:/tex/texmf-local/pdftex/config/cm.enc

also, the 1 in offset is giving problems, i.e. i get shifted output.

i think that this offset should be hard coded by default (when not set) 
otherwise we get problems with packages that are around

Hans  


From pragma@wxs.nl  Thu Mar 18 16:42:33 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Thu, 18 Mar 2004 17:42:33 +0100
Subject: [NTG-pdftex] [bug] \pdfmapfile broken?
In-Reply-To: <Pine.LNX.4.58.0403170018470.18996@hahepc1.hahe>
References: <20040312100923.GC17403@artcom8.artcom-gmbh.de>
 <Pine.LNX.4.58.0403130129360.14609@hahepc1.hahe>
 <Pine.LNX.4.58.0403130154110.16936@hahepc1.hahe>
 <6.0.1.1.2.20040313203408.01d6dec0@localhost>
 <Pine.LNX.4.58.0403132131480.23517@hahepc1.hahe>
 <6.0.1.1.2.20040315221618.01cdb780@localhost>
 <Pine.LNX.4.58.0403170018470.18996@hahepc1.hahe>
Message-ID: <6.0.1.1.2.20040318174018.01e0db30@server-1>

Hi,

I hope that fabrice can generate me a new pdfetex -)

While testing the old one ... i replaced say xx.tfm+vf by a xx.tfm only 
(non virtual) and when including a page made with the virtual one i got an 
inclusion error; some day we need to sort out this vf/tfm mess

Hans  


From staw@gust.org.pl  Thu Mar 18 17:56:21 2004
From: staw@gust.org.pl (Staszek Wawrykiewicz)
Date: Thu, 18 Mar 2004 18:56:21 +0100 (CET)
Subject: [NTG-pdftex] [bug] \pdfmapfile broken?
In-Reply-To: <6.0.1.1.2.20040318174018.01e0db30@server-1>
Message-ID: <Pine.LNX.4.44.0403181853090.11938-100000@re86.internetdsl.tpnet.pl>

On Thu, 18 Mar 2004, Hans Hagen wrote:

> I hope that fabrice can generate me a new pdfetex -)

Have you tried that one from p4:
1.20a-2.1-beta-20040312
uploaded by Fabrice on Mar 14

-- 
Staszek Wawrykiewicz
StaW@gust.org.pl



From te@dbs.uni-hannover.de  Thu Mar 18 18:35:05 2004
From: te@dbs.uni-hannover.de (Thomas Esser)
Date: Thu, 18 Mar 2004 19:35:05 +0100
Subject: [NTG-pdftex] problems with 1.20
In-Reply-To: <6.0.1.1.2.20040318181813.01eb3ec0@server-1>
References: <20040312100923.GC17403@artcom8.artcom-gmbh.de> <Pine.LNX.4.58.0403130129360.14609@hahepc1.hahe> <Pine.LNX.4.58.0403130154110.16936@hahepc1.hahe> <6.0.1.1.2.20040313203408.01d6dec0@localhost> <Pine.LNX.4.58.0403132131480.23517@hahepc1.hahe> <6.0.1.1.2.20040315221618.01cdb780@localhost> <u10mtpmg.fsf@esemetz.metz.supelec.fr> <6.0.1.1.2.20040318131429.01d54638@server-1> <6.0.1.1.2.20040318181813.01eb3ec0@server-1>
Message-ID: <20040318183505.GA4201@dbs.uni-hannover.de>

>   >kpsewhich cm.enc
>   e:/tex/texmf-local/pdftex/config/cm.enc

enc files should go to fonts/enc.

Thomas

From ms@artcom-gmbh.de  Fri Mar 19 13:56:48 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri, 19 Mar 2004 14:56:48 +0100
Subject: [NTG-pdftex] [20040312] Current schedule
In-Reply-To: <20040312145910.GN17403@artcom8.artcom-gmbh.de>
References: <20040312145910.GN17403@artcom8.artcom-gmbh.de>
Message-ID: <20040319135647.GT17403@artcom8.artcom-gmbh.de>

On 2004-03-12 15:59:10 +0100, Martin Schröder wrote:
> - 1.20a:
>   - features:
>     - remove pdftex.cfg
>     - automatic generation of pk files, if needed
>     - move PTEX.Fullbanner to Info dictionary or increase the
>       Producer key
>     - \pdfbannerstring
>   - rc1:     20040319

All done. I'm preparing the rc1.

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Fri Mar 19 14:17:57 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri, 19 Mar 2004 15:17:57 +0100
Subject: [NTG-pdftex] [20040312] Current schedule
In-Reply-To: <20040319135647.GT17403@artcom8.artcom-gmbh.de>
References: <20040312145910.GN17403@artcom8.artcom-gmbh.de> <20040319135647.GT17403@artcom8.artcom-gmbh.de>
Message-ID: <20040319141756.GU17403@artcom8.artcom-gmbh.de>

On 2004-03-19 14:56:48 +0100, Martin Schröder wrote:
> All done. I'm preparing the rc1.

We have a definite problem with the documentation.

Helmut, please check NEWS (I've written something about
\pdfmapfile and \pdfmapline) and update pdftex-syntax.txt

The manpage must be updated for the release, too.

The manual would be nice, but is secondary.

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Fri Mar 19 14:21:27 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri, 19 Mar 2004 15:21:27 +0100
Subject: [NTG-pdftex] pdfconfig.tex (was: pdftex.cfg)
In-Reply-To: <20040310170007.GA28261@dbs.uni-hannover.de>
References: <23090.1078905486@www25.gmx.net> <22089.1078905934@www50.gmx.net> <brn5lzgw.fsf@esemetz.metz.supelec.fr> <20040310170007.GA28261@dbs.uni-hannover.de>
Message-ID: <20040319142127.GV17403@artcom8.artcom-gmbh.de>

On 2004-03-10 18:00:07 +0100, Thomas Esser wrote:
> Ok, I just have done this in my tree. The name I have chosen was
> pdfconfig.tex, and I have put that file to tex/generic/config.

Can we have that somewhere for people to download? I fear that
the new pdftex will be useless without it.

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From te@dbs.uni-hannover.de  Fri Mar 19 15:04:08 2004
From: te@dbs.uni-hannover.de (Thomas Esser)
Date: Fri, 19 Mar 2004 16:04:08 +0100
Subject: [NTG-pdftex] pdfconfig.tex (was: pdftex.cfg)
In-Reply-To: <20040319142127.GV17403@artcom8.artcom-gmbh.de>
References: <23090.1078905486@www25.gmx.net> <22089.1078905934@www50.gmx.net> <brn5lzgw.fsf@esemetz.metz.supelec.fr> <20040310170007.GA28261@dbs.uni-hannover.de> <20040319142127.GV17403@artcom8.artcom-gmbh.de>
Message-ID: <20040319150408.GC5406@dbs.uni-hannover.de>

> On 2004-03-10 18:00:07 +0100, Thomas Esser wrote:
> > Ok, I just have done this in my tree. The name I have chosen was
> > pdfconfig.tex, and I have put that file to tex/generic/config.
> 
> Can we have that somewhere for people to download? I fear that
> the new pdftex will be useless without it.

People will also need these reworked .ini files that make use of this
new file. BTW: since texlive has named my file pdftexconfig.tex, I have
just done the same.

I don't know how these files should be distributed. They will be part
of the next TeX Live / teTeX release. If you make a stand-alone pdftex
distribution, you might want to add these files, there, too.

You can download my tarball (with just the .ini files and
pdftexconfig.tex) from
  http://www.dbs.uni-hannover.de/~te/pdftexconfig.tar.gz

Maybe, you want to make this tarball available via
  http://tug.org/applications/pdftex/

Thomas

From ms@artcom-gmbh.de  Fri Mar 19 16:03:55 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri, 19 Mar 2004 17:03:55 +0100
Subject: [NTG-pdftex] pdftex-1.20a-rc1
Message-ID: <20040319160355.GY17403@artcom8.artcom-gmbh.de>

A tarball candidate is at
http://www.pdftex.de/tex/pdftex/pdftex-1.20a-rc1.tar.bz2

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From hartmut_henkel@gmx.de  Sat Mar 20 19:18:43 2004
From: hartmut_henkel@gmx.de (Hartmut Henkel)
Date: Sat, 20 Mar 2004 20:18:43 +0100 (CET)
Subject: [NTG-pdftex] pdfinitex != pdftex --ini?
In-Reply-To: <20040319160355.GY17403@artcom8.artcom-gmbh.de>
References: <20040319160355.GY17403@artcom8.artcom-gmbh.de>
Message-ID: <Pine.LNX.4.58.0403202012590.12142@hahepc1.hahe>

What is the difference between pdfinitex and pdftex --ini?

hahe@hahepc1:~$ pdfinitex y
This is pdfeTeXk, Version 3.141592-1.20a-rc1-2.1 (Web2C 7.5.2)
 %&-line parsing enabled.
kpathsea: Running mktexfmt pdfinitex.efmt
fmtutil: no info for format `pdfinitex'.
I can't find the format file `pdfinitex.efmt'!

hahe@hahepc1:~$ pdftex --ini y
This is pdfeTeXk, Version 3.141592-1.20a-rc1-2.1 (Web2C 7.5.2) (INITEX)
 %&-line parsing enabled.
output format initialized to DVI
(./y.tex
! Missing { inserted.
<to be read again>
                   {
l.1 \hbox{
          abc}
?

Shouldn't the first behave as the second?

Man page says --ini: Be pdfinitex...

Regards, Hartmut

From hartmut_henkel@gmx.de  Sat Mar 20 21:24:43 2004
From: hartmut_henkel@gmx.de (Hartmut Henkel)
Date: Sat, 20 Mar 2004 22:24:43 +0100 (CET)
Subject: [NTG-pdftex] pdfinitex != pdftex --ini?
In-Reply-To: <Pine.LNX.4.58.0403202012590.12142@hahepc1.hahe>
References: <20040319160355.GY17403@artcom8.artcom-gmbh.de>
 <Pine.LNX.4.58.0403202012590.12142@hahepc1.hahe>
Message-ID: <Pine.LNX.4.58.0403202214080.14901@hahepc1.hahe>

problem around texmfmp.c:

inipdftex call gives in main.c of texmfmp.c (= pdfetexextra.c), with
some debug printf() lines:

=========argv[0]           <inipdftex>
=========kpse_program_name <inipdftex>
=========INI_PROGRAM       <pdfeinitex>

so it does not match the INI_PROGRAM, therefore it doesn't go into ini
mode.

inipdfetex doesn't either, obviously. But when I do

ln -s pdfetex pdfeinitex

pdfeinitex call gives:

hahe@hahepc1:~$ pdfeinitex y
=========argv[0]           <pdfeinitex>
=========kpse_program_name <pdfeinitex>
=========INI_PROGRAM       <pdfeinitex>
This is pdfeTeXk, Version 3.141592-1.20a-rc1-2.1 (Web2C 7.5.2) (INITEX)
 %&-line parsing enabled.

So somehow the INI_PROGRAM name matching would need an extension so that
more combinations for INI_PROGRAM name are possible.  Particularily the
names starting with inipdf... currently have no use, it seems.

Regards, Hartmut




From Fabrice.Popineau@supelec.fr  Sat Mar 20 22:41:46 2004
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: Sat, 20 Mar 2004 23:41:46 +0100
Subject: [NTG-pdftex] xpdf in pdftex
Message-ID: <4qsjrvit.fsf@esemetz.metz.supelec.fr>

AFAIK, what follow is requested by xpdf. I don't see any constructor for
GlobalParams without any parameter.

What do you think ?

Fabrice

diff -ruN -X mswin32\diff.exclude c:/source/TeXLive/Build/source.development/TeX/texk/web2c/pdftexdir/pdftoepdf.cc ./texk.development/web2c/pdftexdir/pdftoepdf.cc
--- c:/source/TeXLive/Build/source.development/TeX/texk/web2c/pdftexdir/pdftoepdf.cc	Fri Mar 12 14:15:52 2004
+++ ./texk.development/web2c/pdftexdir/pdftoepdf.cc	Sun Mar 14 10:24:34 2004
@@ -687,7 +687,7 @@
     float pdf_version_found, pdf_version_wanted;
     // initialize
     if (!isInit) {
-        globalParams = new GlobalParams();
+        globalParams = new GlobalParams("");
         globalParams->setErrQuiet(gFalse);
         isInit = gTrue;
     }
diff -ruN -X mswin32\diff.exclude c:/source/TeXLive/Build/source.development/TeX/texk/web2c/pdftexdir/pdftosrc.cc ./texk.development/web2c/pdftexdir/pdftosrc.cc
--- c:/source/TeXLive/Build/source.development/TeX/texk/web2c/pdftexdir/pdftosrc.cc	Fri Mar 12 14:47:57 2004
+++ ./texk.development/web2c/pdftexdir/pdftosrc.cc	Sun Mar 14 09:56:46 2004
@@ -60,7 +60,7 @@
         exit(1);
     }
     fileName = new GString(argv[1]);
-    globalParams = new GlobalParams();
+    globalParams = new GlobalParams("");
     doc = new PDFDoc(fileName);
     if (!doc->isOk()) {
         fprintf(stderr, "Invalid PDF file\n");



From hartmut_henkel@gmx.de  Sat Mar 20 22:53:18 2004
From: hartmut_henkel@gmx.de (Hartmut Henkel)
Date: Sat, 20 Mar 2004 23:53:18 +0100 (CET)
Subject: [NTG-pdftex] pdfinitex != pdftex --ini?
In-Reply-To: <Pine.LNX.4.58.0403202214080.14901@hahepc1.hahe>
References: <20040319160355.GY17403@artcom8.artcom-gmbh.de>
 <Pine.LNX.4.58.0403202012590.12142@hahepc1.hahe> <Pine.LNX.4.58.0403202214080.14901@hahepc1.hahe>
Message-ID: <Pine.LNX.4.58.0403202333220.29196@hahepc1.hahe>

To match more ini-names, here is a quick'n dirty kludge in texmfmp.c:

--- /usr/local/src/tex/pdftex-1.20a-rc1/src/texk/web2c/lib/texmfmp.c	Mon Mar  8 22:47:26 2004
+++ texmfmp.c	Sat Mar 20 23:38:48 2004
@@ -200,6 +208,18 @@
   if (readyalready != 314159) {
     /* The `ini_version' variable is declared/used in the change files.  */
     boolean virversion = false;
+#if defined(pdfTeX) || defined(pdfeTeX)
+    int i;
+    char *pdf_ini_prognames[] = INI_PROGRAMS;
+    char *pdf_vir_prognames[] = VIR_PROGRAMS;
+    for(i = 0; *pdf_ini_prognames[i] != 0; i++)
+      if (FILESTRCASEEQ (kpse_program_name, pdf_ini_prognames[i]))
+        iniversion = true;
+    for(i = 0; *pdf_vir_prognames[i] != 0; i++)
+      if (FILESTRCASEEQ (kpse_program_name, pdf_vir_prognames[i]))
+        virversion = true;
+    /* this is once again checked below, don't mind */
+#endif
     if (FILESTRCASEEQ (kpse_program_name, INI_PROGRAM)) {
       iniversion = true;
     } else if (FILESTRCASEEQ (kpse_program_name, VIR_PROGRAM)) {

and in both pdftexextra.h and pdfetexextra.h I have added:

#define INI_PROGRAMS {"pdfinitex", "pdfinietex", "pdfeinitex", "inipdftex", "inipdfetex", ""}
#define VIR_PROGRAMS {"pdfvirtex", "pdfviretex", "pdfevirtex", "virpdftex", "virpdfetex", ""}

Then it seems to get into ini-mode when called by the right name. Or,
more simple, just search for a ini/vir substring in the name?

Shouldn't one add something like this?

Regards, Hartmut

From Fabrice.Popineau@supelec.fr  Sat Mar 20 23:01:02 2004
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: Sun, 21 Mar 2004 00:01:02 +0100
Subject: [NTG-pdftex] pdfinitex != pdftex --ini?
In-Reply-To: <Pine.LNX.4.58.0403202333220.29196@hahepc1.hahe> (Hartmut
 Henkel's message of "Sat, 20 Mar 2004 23:53:18 +0100 (CET)")
References: <20040319160355.GY17403@artcom8.artcom-gmbh.de>
 <Pine.LNX.4.58.0403202012590.12142@hahepc1.hahe>
 <Pine.LNX.4.58.0403202214080.14901@hahepc1.hahe>
 <Pine.LNX.4.58.0403202333220.29196@hahepc1.hahe>
Message-ID: <znabqg29.fsf@esemetz.metz.supelec.fr>

> Shouldn't one add something like this?

I don't think so. This mess with ini- and vir- stuff is non-sense, look
at what you found out as an evidence.

I think we should remove every single *ini* and *vir* name from the list
of binaries.

Fabrice


From hartmut_henkel@gmx.de  Sat Mar 20 23:09:43 2004
From: hartmut_henkel@gmx.de (Hartmut Henkel)
Date: Sun, 21 Mar 2004 00:09:43 +0100 (CET)
Subject: [NTG-pdftex] pdfinitex != pdftex --ini?
In-Reply-To: <znabqg29.fsf@esemetz.metz.supelec.fr>
References: <20040319160355.GY17403@artcom8.artcom-gmbh.de>
 <Pine.LNX.4.58.0403202012590.12142@hahepc1.hahe> <Pine.LNX.4.58.0403202214080.14901@hahepc1.hahe>
 <Pine.LNX.4.58.0403202333220.29196@hahepc1.hahe> <znabqg29.fsf@esemetz.metz.supelec.fr>
Message-ID: <Pine.LNX.4.58.0403210003180.2824@hahepc1.hahe>

On Sun, 21 Mar 2004, Fabrice Popineau wrote:

> > Shouldn't one add something like this?
>
> I don't think so. This mess with ini- and vir- stuff is non-sense,
> look at what you found out as an evidence.

It _is_ a mess.

> I think we should remove every single *ini* and *vir* name from the
> list of binaries.

Yes, at least the ones not working should be removed, and then the rest,
for consistency :-) But what about INITEX, it's in the TeXbook?

Regards, Hartmut

From te@dbs.uni-hannover.de  Sat Mar 20 23:15:37 2004
From: te@dbs.uni-hannover.de (Thomas Esser)
Date: Sun, 21 Mar 2004 00:15:37 +0100
Subject: [NTG-pdftex] pdfinitex != pdftex --ini?
In-Reply-To: <znabqg29.fsf@esemetz.metz.supelec.fr>
References: <20040319160355.GY17403@artcom8.artcom-gmbh.de> <Pine.LNX.4.58.0403202012590.12142@hahepc1.hahe> <Pine.LNX.4.58.0403202214080.14901@hahepc1.hahe> <Pine.LNX.4.58.0403202333220.29196@hahepc1.hahe> <znabqg29.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040320231537.GA2502@dbs.uni-hannover.de>

> I think we should remove every single *ini* and *vir* name from the list
> of binaries.

Yes. TeX Live, teTeX and web2c go into this direction, so putting any
work into this *ini* and *vir* names makes no sense. People can either
use tools (like fmtutil) or cmd line options (like -ini).

Thomas

From te@dbs.uni-hannover.de  Sat Mar 20 23:24:37 2004
From: te@dbs.uni-hannover.de (Thomas Esser)
Date: Sun, 21 Mar 2004 00:24:37 +0100
Subject: [NTG-pdftex] pdfinitex != pdftex --ini?
In-Reply-To: <Pine.LNX.4.58.0403210003180.2824@hahepc1.hahe>
References: <20040319160355.GY17403@artcom8.artcom-gmbh.de> <Pine.LNX.4.58.0403202012590.12142@hahepc1.hahe> <Pine.LNX.4.58.0403202214080.14901@hahepc1.hahe> <Pine.LNX.4.58.0403202333220.29196@hahepc1.hahe> <znabqg29.fsf@esemetz.metz.supelec.fr> <Pine.LNX.4.58.0403210003180.2824@hahepc1.hahe>
Message-ID: <20040320232436.GB2502@dbs.uni-hannover.de>

> Yes, at least the ones not working should be removed, and then the rest,
> for consistency :-) But what about INITEX, it's in the TeXbook?

web2c has the programs "TeX" and "INITEX" in one binary. There is nothing
wrong with this, I think.

Thomas

From ms@artcom-gmbh.de  Sun Mar 21 00:36:23 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Sun, 21 Mar 2004 01:36:23 +0100
Subject: [NTG-pdftex] xpdf in pdftex
In-Reply-To: <4qsjrvit.fsf@esemetz.metz.supelec.fr>
References: <4qsjrvit.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040321003623.GA8214@lucien.kn-bremen.de>

On 2004-03-20 23:41:46 +0100, Fabrice Popineau wrote:
> AFAIK, what follow is requested by xpdf. I don't see any constructor for
> GlobalParams without any parameter.

Hm. I think I have modified GlobalParams to have this
constructor...

Best regards
    Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From Fabrice.Popineau@supelec.fr  Sun Mar 21 11:44:47 2004
From: Fabrice.Popineau@supelec.fr (Fabrice Popineau)
Date: Sun, 21 Mar 2004 12:44:47 +0100
Subject: [NTG-pdftex] xpdf in pdftex
In-Reply-To: <20040321003623.GA8214@lucien.kn-bremen.de> (Martin Schröder's
 message of "Sun, 21 Mar 2004 01:36:23 +0100")
References: <4qsjrvit.fsf@esemetz.metz.supelec.fr>
 <20040321003623.GA8214@lucien.kn-bremen.de>
Message-ID: <7jxeqv9s.fsf@esemetz.metz.supelec.fr>

> Hm. I think I have modified GlobalParams to have this constructor...

Do you mean you modified it in xpdf ?

Also: is there any interest to switch to xpdf 3.00 ?  Big changes to
expect to pdftex ?

Fabrice


From ms@artcom-gmbh.de  Sun Mar 21 15:02:33 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Sun, 21 Mar 2004 16:02:33 +0100
Subject: [NTG-pdftex] xpdf in pdftex
In-Reply-To: <7jxeqv9s.fsf@esemetz.metz.supelec.fr>
References: <4qsjrvit.fsf@esemetz.metz.supelec.fr> <20040321003623.GA8214@lucien.kn-bremen.de> <7jxeqv9s.fsf@esemetz.metz.supelec.fr>
Message-ID: <20040321150233.GA17663@lucien.kn-bremen.de>

On 2004-03-21 12:44:47 +0100, Fabrice Popineau wrote:
> > Hm. I think I have modified GlobalParams to have this constructor...
> 
> Do you mean you modified it in xpdf ?

Yes.

> Also: is there any interest to switch to xpdf 3.00 ?  Big changes to
> expect to pdftex ?

Yes. Maybe. It's all in the schedule. :-)

Best regards
    Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From pragma@wxs.nl  Sun Mar 21 21:04:18 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Sun, 21 Mar 2004 22:04:18 +0100
Subject: [NTG-pdftex] pdfinitex != pdftex --ini?
In-Reply-To: <Pine.LNX.4.58.0403202012590.12142@hahepc1.hahe>
References: <20040319160355.GY17403@artcom8.artcom-gmbh.de>
 <Pine.LNX.4.58.0403202012590.12142@hahepc1.hahe>
Message-ID: <6.0.1.1.2.20040321220118.01d41ec0@localhost>

At 20:18 20/03/2004, you wrote:
>What is the difference between pdfinitex and pdftex --ini?
>
>hahe@hahepc1:~$ pdfinitex y
>This is pdfeTeXk, Version 3.141592-1.20a-rc1-2.1 (Web2C 7.5.2)
>  %&-line parsing enabled.
>kpathsea: Running mktexfmt pdfinitex.efmt
>fmtutil: no info for format `pdfinitex'.
>I can't find the format file `pdfinitex.efmt'!
>
>hahe@hahepc1:~$ pdftex --ini y
>This is pdfeTeXk, Version 3.141592-1.20a-rc1-2.1 (Web2C 7.5.2) (INITEX)
>  %&-line parsing enabled.
>output format initialized to DVI
>(./y.tex
>! Missing { inserted.
><to be read again>
>                    {
>l.1 \hbox{
>           abc}
>?
>
>Shouldn't the first behave as the second?

i'd think so, maybe some progname confusion, i.e. they have different 
'names' unless (in windows:) we would have:

   pdfinitex.bat

contains:

   @echo off
   texmfstart texexec.pl %*



Hans  


From pragma@wxs.nl  Sun Mar 21 21:42:16 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Sun, 21 Mar 2004 22:42:16 +0100
Subject: [NTG-pdftex] pdfinitex != pdftex --ini?
In-Reply-To: <znabqg29.fsf@esemetz.metz.supelec.fr>
References: <20040319160355.GY17403@artcom8.artcom-gmbh.de>
 <Pine.LNX.4.58.0403202012590.12142@hahepc1.hahe>
 <Pine.LNX.4.58.0403202214080.14901@hahepc1.hahe>
 <Pine.LNX.4.58.0403202333220.29196@hahepc1.hahe>
 <znabqg29.fsf@esemetz.metz.supelec.fr>
Message-ID: <6.0.1.1.2.20040321224031.01cbdf70@localhost>

At 00:01 21/03/2004, Fabrice Popineau wrote:

> > Shouldn't one add something like this?
>
>I don't think so. This mess with ini- and vir- stuff is non-sense, look
>at what you found out as an evidence.
>
>I think we should remove every single *ini* and *vir* name from the list
>of binaries.

indeed, no need for that any more, actually, for me they are already non 
existent, --ini is enough!

Hans  


From The Thanh Han <hanthethanh@myrealbox.com>  Mon Mar 22 08:58:33 2004
From: The Thanh Han <hanthethanh@myrealbox.com> (The Thanh Han)
Date: Mon, 22 Mar 2004 15:58:33 +0700
Subject: [NTG-pdftex] \pdfmapfilemode (was: feature request)
In-Reply-To: <20040312143637.GL17403@artcom8.artcom-gmbh.de>
References: <6.0.1.1.2.20040217204439.01cc96f8@server-1> <20040312143637.GL17403@artcom8.artcom-gmbh.de>
Message-ID: <20040322085832.GA14096@chip>

On Fri, Mar 12, 2004 at 03:36:37PM +0100, Martin Schr?der wrote:
> On 2004-02-17 20:48:40 +0100, Hans Hagen wrote:
> > Since not-found-mapfiles now quit pdftex, i'd like to see something
> > 
> > \ifpdfmapfile filename<space or \relax delimited like input>
> > \else
> > \fi

this would not be easy to do

> > 
> > or maybe better, something:
> > 
> >   \pdfmapfilemode
> > 
> > with
> > 
> >   0 = quit on error
> >   1 = warning on error
> >   2 = ignore error

this sounds more reasonable

Thanh

PS: Martin, you have some crontab job that automatically updates all pdftex
sources files regularly. Is it possible to turn it off? Shall we
edit and submit only files that have been changed? Sometimes I do a
mistake and submit all files including those that have not been changed,
however I feel it shouldn't happen.

From ms@artcom-gmbh.de  Mon Mar 22 10:00:01 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Mon, 22 Mar 2004 11:00:01 +0100
Subject: [NTG-pdftex] p4 (was: \pdfmapfilemode)
In-Reply-To: <20040322085832.GA14096@chip>
References: <6.0.1.1.2.20040217204439.01cc96f8@server-1> <20040312143637.GL17403@artcom8.artcom-gmbh.de> <20040322085832.GA14096@chip>
Message-ID: <20040322100001.GA17403@artcom8.artcom-gmbh.de>

On 2004-03-22 15:58:33 +0700, The Thanh Han wrote:
> PS: Martin, you have some crontab job that automatically updates all pdftex
> sources files regularly. Is it possible to turn it off? Shall we

The cronjob simply updates the date in the version tag of the
four files where it currently resides so that the different
versions of e.g. 1.11c/1.12a/1.20a are marked somehow. It runs at
Sunday morning (German time).

Do we really need to turn it off?

> edit and submit only files that have been changed? Sometimes I do a

Yes. This is in fact easy with p4 because there you have to first
"edit" your file -- which keeps at least me from opening all
files. :-) CVS ignore empty submits; I don't know about
Subversion.

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From The Thanh Han <hanthethanh@myrealbox.com>  Tue Mar 23 02:28:42 2004
From: The Thanh Han <hanthethanh@myrealbox.com> (The Thanh Han)
Date: Tue, 23 Mar 2004 09:28:42 +0700
Subject: [NTG-pdftex] p4 (was: \pdfmapfilemode)
In-Reply-To: <20040322100001.GA17403@artcom8.artcom-gmbh.de>
References: <6.0.1.1.2.20040217204439.01cc96f8@server-1> <20040312143637.GL17403@artcom8.artcom-gmbh.de> <20040322085832.GA14096@chip> <20040322100001.GA17403@artcom8.artcom-gmbh.de>
Message-ID: <20040323022842.GB31302@chip>

On Mon, Mar 22, 2004 at 11:00:01AM +0100, Martin Schr?der wrote:
> On 2004-03-22 15:58:33 +0700, The Thanh Han wrote:
> > PS: Martin, you have some crontab job that automatically updates all pdftex
> > sources files regularly. Is it possible to turn it off? Shall we
> 
> The cronjob simply updates the date in the version tag of the
> four files where it currently resides so that the different
> versions of e.g. 1.11c/1.12a/1.20a are marked somehow. It runs at
> Sunday morning (German time).
> 
> Do we really need to turn it off?

it would be very helpful, as everytime when I sync my local sources with the p4
sources (using unison), I have to go through *a lot of* different files,
but most of them differ only in the version number of each file and
nothing else. Which means a lot of wasted time and effort.
When we edit and submit only files that have been changed, it will make
our life easier.

Thanh

From The Thanh Han <hanthethanh@myrealbox.com>  Tue Mar 23 06:41:54 2004
From: The Thanh Han <hanthethanh@myrealbox.com> (The Thanh Han)
Date: Tue, 23 Mar 2004 13:41:54 +0700
Subject: [NTG-pdftex] pdfxtex
In-Reply-To: <20040312143637.GL17403@artcom8.artcom-gmbh.de>
References: <6.0.1.1.2.20040217204439.01cc96f8@server-1> <20040312143637.GL17403@artcom8.artcom-gmbh.de>
Message-ID: <20040323064154.GA1941@chip>

Hi,

after syncing from texlive sources I can no longer make pdfxtex (no such target
in texk/web2c/Makefile). Was it removed intentionally?

Thanh

From ms@artcom-gmbh.de  Tue Mar 23 12:03:15 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Tue, 23 Mar 2004 13:03:15 +0100
Subject: [NTG-pdftex] pdfxtex
In-Reply-To: <20040323064154.GA1941@chip>
References: <20040323064154.GA1941@chip>
Message-ID: <20040323120315.GI17403@artcom8.artcom-gmbh.de>

On 2004-03-23 13:41:54 +0700, The Thanh Han wrote:
> after syncing from texlive sources I can no longer make pdfxtex (no such target
> in texk/web2c/Makefile). Was it removed intentionally?

Seems so.

#45 change 4471 edit on 2004/03/11 by te@gauss (ktext)

    * fix dependencied to pdfxtex (currently does not build on
    * UNIX), make pdfetex the defualt tex engine (no longer build
    * pdftex / etex), get rid of ini*tex and vir*tex symlinks,
    * minor other merges with teTeX

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Tue Mar 23 12:07:13 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Tue, 23 Mar 2004 13:07:13 +0100
Subject: [NTG-pdftex] p4
In-Reply-To: <20040323022842.GB31302@chip>
References: <6.0.1.1.2.20040217204439.01cc96f8@server-1> <20040312143637.GL17403@artcom8.artcom-gmbh.de> <20040322085832.GA14096@chip> <20040322100001.GA17403@artcom8.artcom-gmbh.de> <20040323022842.GB31302@chip>
Message-ID: <20040323120713.GJ17403@artcom8.artcom-gmbh.de>

On 2004-03-23 09:28:42 +0700, The Thanh Han wrote:
> it would be very helpful, as everytime when I sync my local sources with the p4
> sources (using unison), I have to go through *a lot of* different files,
> but most of them differ only in the version number of each file and
> nothing else. Which means a lot of wasted time and effort.
> When we edit and submit only files that have been changed, it will make
> our life easier.

O.K., I have disabled it. But that means that everyone who
submits changes should update the version tags so we can identify
the intermediate versions.

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From te@dbs.uni-hannover.de  Tue Mar 23 17:09:23 2004
From: te@dbs.uni-hannover.de (Thomas Esser)
Date: Tue, 23 Mar 2004 18:09:23 +0100
Subject: [NTG-pdftex] pdfxtex
In-Reply-To: <20040323120315.GI17403@artcom8.artcom-gmbh.de>
References: <20040323064154.GA1941@chip> <20040323120315.GI17403@artcom8.artcom-gmbh.de>
Message-ID: <20040323170923.GA9565@dbs.uni-hannover.de>

> #45 change 4471 edit on 2004/03/11 by te@gauss (ktext)
> 
>     * fix dependencied to pdfxtex (currently does not build on
>     * UNIX), make pdfetex the defualt tex engine (no longer build
>     * pdftex / etex), get rid of ini*tex and vir*tex symlinks,
>     * minor other merges with teTeX

That change has not removed the targets that are needed to build pdfxtex.
Basically, pdfxtexdir/pdfxtex.mk was empty, so pdfxtex could not build.
So, I have removed pdfxtex from fmtutil.in etc. so that the missing
build rules for pdfxtex don't cause any trouble.

So, the real fix would be to put something useful into
pdfxtexdir/pdfxtex.mk.

Thomas

From The Thanh Han <hanthethanh@myrealbox.com>  Wed Mar 24 01:48:13 2004
From: The Thanh Han <hanthethanh@myrealbox.com> (The Thanh Han)
Date: Wed, 24 Mar 2004 08:48:13 +0700
Subject: [NTG-pdftex] pdfxtex
In-Reply-To: <20040323170923.GA9565@dbs.uni-hannover.de>
References: <20040323064154.GA1941@chip> <20040323120315.GI17403@artcom8.artcom-gmbh.de> <20040323170923.GA9565@dbs.uni-hannover.de>
Message-ID: <20040324014813.GB30426@chip>

On Tue, Mar 23, 2004 at 06:09:23PM +0100, Thomas Esser wrote:
> > #45 change 4471 edit on 2004/03/11 by te@gauss (ktext)
> > 
> >     * fix dependencied to pdfxtex (currently does not build on
> >     * UNIX), make pdfetex the defualt tex engine (no longer build
> >     * pdftex / etex), get rid of ini*tex and vir*tex symlinks,
> >     * minor other merges with teTeX
> 
> That change has not removed the targets that are needed to build pdfxtex.
> Basically, pdfxtexdir/pdfxtex.mk was empty, so pdfxtex could not build.
> So, I have removed pdfxtex from fmtutil.in etc. so that the missing
> build rules for pdfxtex don't cause any trouble.
> 
> So, the real fix would be to put something useful into
> pdfxtexdir/pdfxtex.mk.

That seems to be my fault when submitting to p4. I found the correct
version in my local cvs tree (also thanks to Akira for his help). Sorry
for the mess.

Thanh

From The Thanh Han <hanthethanh@myrealbox.com>  Wed Mar 24 01:43:53 2004
From: The Thanh Han <hanthethanh@myrealbox.com> (The Thanh Han)
Date: Wed, 24 Mar 2004 08:43:53 +0700
Subject: [NTG-pdftex] p4
In-Reply-To: <20040323120713.GJ17403@artcom8.artcom-gmbh.de>
References: <6.0.1.1.2.20040217204439.01cc96f8@server-1> <20040312143637.GL17403@artcom8.artcom-gmbh.de> <20040322085832.GA14096@chip> <20040322100001.GA17403@artcom8.artcom-gmbh.de> <20040323022842.GB31302@chip> <20040323120713.GJ17403@artcom8.artcom-gmbh.de>
Message-ID: <20040324014353.GA30426@chip>

On Tue, Mar 23, 2004 at 01:07:13PM +0100, Martin Schr?der wrote:
> On 2004-03-23 09:28:42 +0700, The Thanh Han wrote:
> > it would be very helpful, as everytime when I sync my local sources with the p4
> > sources (using unison), I have to go through *a lot of* different files,
> > but most of them differ only in the version number of each file and
> > nothing else. Which means a lot of wasted time and effort.
> > When we edit and submit only files that have been changed, it will make
> > our life easier.
> 
> O.K., I have disabled it. But that means that everyone who
> submits changes should update the version tags so we can identify
> the intermediate versions.

thanks.

Thanh

From pragma@wxs.nl  Thu Mar 25 10:58:54 2004
From: pragma@wxs.nl (Hans Hagen)
Date: Thu, 25 Mar 2004 11:58:54 +0100
Subject: [NTG-pdftex] procsets
Message-ID: <6.0.1.1.2.20040325115717.01bf2aa0@server-1>

The ref manual says:

9.1 Procedure Sets
The PDF operators used in content streams are grouped into categories of 
related
operators called procedure sets (see Table 9.1). Each procedure set 
corresponds to
a named resource containing the implementations of the operators in that 
procedure
set. The ProcSet entry in a content stream's resource dictionary (see Section
3.7.2, "Resource Dictionaries") holds an array consisting of the names of the
procedure sets used in that content stream. These procedure sets are used only
when the content stream is printed to a PostScript output device; the names
identify PostScript procedure sets that must be sent to the device to 
interpret the
PDF operators in the content stream. Each element of this array must be one of
the predefined names shown in Table 9.1. (See implementation note 102 in
Appendix H.)
TABLE 9.1 Predefined procedure sets
NAME CATEGORY OF OPERATORS
PDF Painting and graphics state
Text Text
ImageB Grayscale images or image masks
ImageC Color images
ImageI Indexed (color-table) images
Note: Beginning with PDF 1.4, this feature is considered obsolete. For 
compatibility
with existing viewer applications, PDF producer applications should continue to
specify procedure sets (preferably all of those listed in Table 9.1, unless 
it is known
that fewer are needed). However, viewer applications should not depend on 
the correctness
of this information.

So ... i think that pdftex can omit that strange animal from now on or 
maybe optionally do so

Hans



-------------------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE/POD/CTS
                       Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
  tel: +31 (0)38 477 53 69 | fax: +31 (0)38 477 53 74 | www.pragma-ade.com
-------------------------------------------------------------------------
                        information: http://www.pragma-ade.com/roadmap.pdf
                     documentation: http://www.pragma-ade.com/showcase.pdf
-------------------------------------------------------------------------


From ms@artcom-gmbh.de  Thu Mar 25 15:35:19 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Thu, 25 Mar 2004 16:35:19 +0100
Subject: [NTG-pdftex] man pages
Message-ID: <20040325153519.GW17403@artcom8.artcom-gmbh.de>

Hi,
I've updated the man pages in p4 with the files from Helmut and
adapted the Makefile. Some should check it; it works for me.

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

From ms@artcom-gmbh.de  Fri Mar 26 14:02:18 2004
From: ms@artcom-gmbh.de (Martin =?iso-8859-1?Q?Schr=F6der?=)
Date: Fri, 26 Mar 2004 15:02:18 +0100
Subject: [NTG-pdftex] [20040326] Current schedule
In-Reply-To: <20040319135647.GT17403@artcom8.artcom-gmbh.de>
References: <20040312145910.GN17403@artcom8.artcom-gmbh.de> <20040319135647.GT17403@artcom8.artcom-gmbh.de>
Message-ID: <20040326140218.GC17403@artcom8.artcom-gmbh.de>

Thanh and Hans have asked for a delay of at least a week to add
new things and to test the current version properly.

I suggest we delay the release for two weeks:
- rc2:     20040402
- release: 20040409

Any objections?

Best regards
        Martin
-- 
               Martin Schröder, ms@artcom-gmbh.de
     ArtCom GmbH, Lise-Meitner-Str 5, 28359 Bremen, Germany
          Voice +49 421 20419-44 / Fax +49 421 20419-10
                    http://www.artcom-gmbh.de

