From root at mail.boekplan.nl  Sat May  2 22:35:26 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sat,  2 May 2015 22:35:26 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150502203527.1CC82418C8@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From root at mail.boekplan.nl  Tue May  5 22:25:21 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue,  5 May 2015 22:25:21 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150505203754.E91ED41A43@mail.boekplan.nl>

svn: REPORT of '/svn/luatex/!svn/vcc/default': Could not read response body: Connection reset by peer (https://foundry.supelec.fr)

From root at mail.boekplan.nl  Wed May  6 12:36:30 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed,  6 May 2015 12:36:30 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150506103630.0DCE741A46@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From root at mail.boekplan.nl  Wed May  6 22:35:32 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed,  6 May 2015 22:35:32 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150506203533.025B441A61@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From root at mail.boekplan.nl  Thu May  7 12:38:30 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu,  7 May 2015 12:38:30 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150507103831.060A341A7D@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From root at mail.boekplan.nl  Mon May 11 16:35:14 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 11 May 2015 16:35:14 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150511143514.5DB93419AC@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From root at mail.boekplan.nl  Fri May 15 22:36:13 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Fri, 15 May 2015 22:36:13 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150515203613.E6C2141B82@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From root at mail.boekplan.nl  Sun May 17 22:37:03 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sun, 17 May 2015 22:37:03 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150517203703.8E3DE41BD7@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From root at mail.boekplan.nl  Mon May 18 12:36:19 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 18 May 2015 12:36:19 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150518103619.3C66D41BCE@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From root at mail.boekplan.nl  Mon May 18 16:35:15 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 18 May 2015 16:35:15 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150518143515.DDAE041BCB@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From root at mail.boekplan.nl  Tue May 19 13:00:13 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue, 19 May 2015 13:00:13 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150519110013.AFE6F41B59@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From wybo at dekkerdocumenten.nl  Tue May 19 14:17:32 2015
From: wybo at dekkerdocumenten.nl (Wybo Dekker)
Date: Tue, 19 May 2015 14:17:32 +0200
Subject: [Dev-luatex] luatex 0.79.1 does not log \openout calls
Message-ID: <555B29DC.5050904@dekkerdocumenten.nl>

Compiling this source:

     Hello\immediate\openout3=myfile.txt\relax\bye

with pdftex generates a log file containing:

     \openout3 = `myfile.txt'.

Compilation with luatex does not. Compare the attached log files.

Some scripts (like latexmk and texi2dvi) depend on such log entries for the 
detection of auxiliary files and they therefore don't co-operate properly with 
lua(la)tex.
-- 
Wybo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: luatex.log
Type: text/x-log
Size: 577 bytes
Desc: not available
URL: <http://www.ntg.nl/pipermail/dev-luatex/attachments/20150519/07d57013/attachment.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pdftex.log
Type: text/x-log
Size: 662 bytes
Desc: not available
URL: <http://www.ntg.nl/pipermail/dev-luatex/attachments/20150519/07d57013/attachment-0001.bin>

From pragma at wxs.nl  Tue May 19 14:52:22 2015
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 19 May 2015 14:52:22 +0200
Subject: [Dev-luatex] luatex 0.79.1 does not log \openout calls
In-Reply-To: <555B29DC.5050904@dekkerdocumenten.nl>
References: <555B29DC.5050904@dekkerdocumenten.nl>
Message-ID: <555B3206.2040104@wxs.nl>

On 5/19/2015 2:17 PM, Wybo Dekker wrote:
> Compiling this source:
>
>      Hello\immediate\openout3=myfile.txt\relax\bye
>
> with pdftex generates a log file containing:
>
>      \openout3 = `myfile.txt'.
>
> Compilation with luatex does not. Compare the attached log files.
>
> Some scripts (like latexmk and texi2dvi) depend on such log entries for
> the detection of auxiliary files and they therefore don't co-operate
> properly with lua(la)tex.

can you check with version 0.80

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | voip: 087 875 68 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From root at mail.boekplan.nl  Tue May 19 22:36:19 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue, 19 May 2015 22:36:19 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150519203619.3C37D41B0B@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From wybo at dekkerdocumenten.nl  Tue May 19 23:45:56 2015
From: wybo at dekkerdocumenten.nl (Wybo Dekker)
Date: Tue, 19 May 2015 23:45:56 +0200
Subject: [Dev-luatex] luatex 0.79.1 does not log \openout calls
In-Reply-To: <555B3206.2040104@wxs.nl>
References: <555B29DC.5050904@dekkerdocumenten.nl> <555B3206.2040104@wxs.nl>
Message-ID: <555BAF14.6060709@dekkerdocumenten.nl>

Ah - right, in version 0.80 they are logged.
However: in a different format:

pdftex:  \openout3 = `myfile.txt'.
luatex:  \openout3 = myfile.txt

As a result, texi2dvi still doesn't work.
Of course, such scripts can easily be adapted, but I think that should not be 
necessary.

On 2015-05-19 14:52, Hans Hagen wrote:
> On 5/19/2015 2:17 PM, Wybo Dekker wrote:
>> Compiling this source:
>>
>>       Hello\immediate\openout3=myfile.txt\relax\bye
>>
>> with pdftex generates a log file containing:
>>
>>       \openout3 = `myfile.txt'.
>>
>> Compilation with luatex does not. Compare the attached log files.
>>
>> Some scripts (like latexmk and texi2dvi) depend on such log entries for
>> the detection of auxiliary files and they therefore don't co-operate
>> properly with lua(la)tex.
>
> can you check with version 0.80
>
> -----------------------------------------------------------------
>                                             Hans Hagen | PRAGMA ADE
>                 Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
>       tel: 038 477 53 69 | voip: 087 875 68 74 | www.pragma-ade.com
>                                                | www.pragma-pod.nl
> -----------------------------------------------------------------
> _______________________________________________
> dev-luatex mailing list
> dev-luatex at ntg.nl
> http://www.ntg.nl/mailman/listinfo/dev-luatex
>

-- 
Wybo

From wybo at dekkerdocumenten.nl  Wed May 20 00:04:42 2015
From: wybo at dekkerdocumenten.nl (Wybo Dekker)
Date: Wed, 20 May 2015 00:04:42 +0200
Subject: [Dev-luatex] luatex 0.80.0: log files are 81 chars wide, not 80
Message-ID: <555BB37A.9050105@dekkerdocumenten.nl>

Just like in luatex 0.79.1, log files are 1 character too wide.
They should be 79 characters, plus an EOL = 80 characters.
Please compare the two log files for this source:

Hello\bye

-- 
Wybo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: luatex.log
Type: text/x-log
Size: 576 bytes
Desc: not available
URL: <http://www.ntg.nl/pipermail/dev-luatex/attachments/20150520/6a2f1960/attachment.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pdftex.log
Type: text/x-log
Size: 634 bytes
Desc: not available
URL: <http://www.ntg.nl/pipermail/dev-luatex/attachments/20150520/6a2f1960/attachment-0001.bin>

From pragma at wxs.nl  Wed May 20 01:10:07 2015
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 20 May 2015 01:10:07 +0200
Subject: [Dev-luatex] luatex 0.79.1 does not log \openout calls
In-Reply-To: <555BAE7C.4000103@dekkerdocumenten.nl>
References: <555B29DC.5050904@dekkerdocumenten.nl> <555B3206.2040104@wxs.nl>
 <555BAE7C.4000103@dekkerdocumenten.nl>
Message-ID: <555BC2CF.6070604@wxs.nl>

On 5/19/2015 11:43 PM, Wybo Dekker wrote:
> Ah - right, in version 0.80 they are logged.
> However: in a different format:
>
> pdftex:  \openout3 = `myfile.txt'.
> luatex:  \openout3 = myfile.txt
>
> As a result, texi2dvi still doesn't work.
> Of course, such scripts can easily be adapted, but I think that should
> not be necessary.

Indeed it should not be that hard to adapt the script that uses that 
info. Also, future luatex versions might have a bit different logging 
once we start upgrading that bit (and these l/r quotes look funny anyway 
as any other language wrould use 'xx' or "xx".)

Isn't it more robust to let text2dvi (whatever it does) let write some 
explicit and easy to recognize message to the log? For instance the 
number 3 in the message can be any valid write related number esp if we 
decide to upgrade the write/read mechanisms.

> On 2015-05-19 14:52, Hans Hagen wrote:
>> On 5/19/2015 2:17 PM, Wybo Dekker wrote:
>>> Compiling this source:
>>>
>>>       Hello\immediate\openout3=myfile.txt\relax\bye
>>>
>>> with pdftex generates a log file containing:
>>>
>>>       \openout3 = `myfile.txt'.
>>>
>>> Compilation with luatex does not. Compare the attached log files.
>>>
>>> Some scripts (like latexmk and texi2dvi) depend on such log entries for
>>> the detection of auxiliary files and they therefore don't co-operate
>>> properly with lua(la)tex.
>>
>> can you check with version 0.80
>>
>> -----------------------------------------------------------------
>>                                             Hans Hagen | PRAGMA ADE
>>                 Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
>>       tel: 038 477 53 69 | voip: 087 875 68 74 | www.pragma-ade.com
>>                                                | www.pragma-pod.nl
>> -----------------------------------------------------------------
>> _______________________________________________
>> dev-luatex mailing list
>> dev-luatex at ntg.nl
>> http://www.ntg.nl/mailman/listinfo/dev-luatex
>>
>


-- 

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | voip: 087 875 68 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Wed May 20 01:23:08 2015
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 20 May 2015 01:23:08 +0200
Subject: [Dev-luatex] luatex 0.80.0: log files are 81 chars wide, not 80
In-Reply-To: <555BB37A.9050105@dekkerdocumenten.nl>
References: <555BB37A.9050105@dekkerdocumenten.nl>
Message-ID: <555BC5DC.1010908@wxs.nl>

On 5/20/2015 12:04 AM, Wybo Dekker wrote:
> Just like in luatex 0.79.1, log files are 1 character too wide.
> They should be 79 characters, plus an EOL = 80 characters.

Consider eol a separator (could as well would be cr+lf on windows).

> Please compare the two log files for this source:

One can adapt the configuration files for luatex to be one char less 
than default if needed. (Fwiw: context sets up lines to be 1000 in length.)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | voip: 087 875 68 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From wybo at dekkerdocumenten.nl  Wed May 20 12:59:14 2015
From: wybo at dekkerdocumenten.nl (Wybo Dekker)
Date: Wed, 20 May 2015 12:59:14 +0200
Subject: [Dev-luatex] luatex 0.80.0: log files are 81 chars wide, not 80
In-Reply-To: <555BC5DC.1010908@wxs.nl>
References: <555BB37A.9050105@dekkerdocumenten.nl> <555BC5DC.1010908@wxs.nl>
Message-ID: <555C6902.1010109@dekkerdocumenten.nl>

On 2015-05-20 01:23, Hans Hagen wrote:
> On 5/20/2015 12:04 AM, Wybo Dekker wrote:
>> Just like in luatex 0.79.1, log files are 1 character too wide.
>> They should be 79 characters, plus an EOL = 80 characters.
>
> Consider eol a separator (could as well would be cr+lf on windows).
>
>> Please compare the two log files for this source:
>
> One can adapt the configuration files for luatex to be one char less
> than default if needed. (Fwiw: context sets up lines to be 1000 in length.)

What configuration file(s) are you talking about?
The one I know is texmf.cnf, which sets max_print_line to 79, for all engines. 
You can change that, of course, but luatex will always use one character more 
than the other engines.

Even worse: the \message command obeys the max_print_line setting, while luatex 
takes one character more. As a result, the log file becomes unparsable, having 
different maximum line lengths in one file.
See the attached source and the pdftex (lines 7&8)/luatex (lines 5&6) logs.

As for the modernization of log files you talked about off the record:
It would be really modern to not impose any maximum line length by set setting 
max_line_length to, say, 1e9. And to do that for all engines, not just luatex.

-- 
Wybo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: t.tex
Type: text/x-tex
Size: 100 bytes
Desc: not available
URL: <http://www.ntg.nl/pipermail/dev-luatex/attachments/20150520/495b743d/attachment.tex>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: luatex.log
Type: text/x-log
Size: 657 bytes
Desc: not available
URL: <http://www.ntg.nl/pipermail/dev-luatex/attachments/20150520/495b743d/attachment.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pdftex.log
Type: text/x-log
Size: 715 bytes
Desc: not available
URL: <http://www.ntg.nl/pipermail/dev-luatex/attachments/20150520/495b743d/attachment-0001.bin>

From pragma at wxs.nl  Wed May 20 15:41:12 2015
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 20 May 2015 15:41:12 +0200
Subject: [Dev-luatex] luatex 0.80.0: log files are 81 chars wide, not 80
In-Reply-To: <555C6902.1010109@dekkerdocumenten.nl>
References: <555BB37A.9050105@dekkerdocumenten.nl> <555BC5DC.1010908@wxs.nl>
 <555C6902.1010109@dekkerdocumenten.nl>
Message-ID: <555C8EF8.6070705@wxs.nl>

On 5/20/2015 12:59 PM, Wybo Dekker wrote:

> As for the modernization of log files you talked about off the record:
> It would be really modern to not impose any maximum line length by set
> setting max_line_length to, say, 1e9. And to do that for all engines,
> not just luatex.

The other engines are more frozen than luatex; although we aim at tex 
engine compatibility (and achieve extensibility via callbacks) this is 
not true for the system dependent properties as i/o (and of course one 
can just stick to using pdftex or use xetex as wide engine).

(Concerning parsing logs: as the cnf is under user control you cannot 
assume that the log lines are the same always, as some users can set 
them different; i always did. So log file parsers should be flexible in 
this respect.)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | voip: 087 875 68 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From wybo at dekkerdocumenten.nl  Wed May 20 16:13:44 2015
From: wybo at dekkerdocumenten.nl (Wybo Dekker)
Date: Wed, 20 May 2015 16:13:44 +0200
Subject: [Dev-luatex] luatex 0.80.0: log files are 81 chars wide, not 80
In-Reply-To: <555C8EF8.6070705@wxs.nl>
References: <555BB37A.9050105@dekkerdocumenten.nl> <555BC5DC.1010908@wxs.nl>
 <555C6902.1010109@dekkerdocumenten.nl> <555C8EF8.6070705@wxs.nl>
Message-ID: <555C9698.1000705@dekkerdocumenten.nl>

On 2015-05-20 15:41, Hans Hagen wrote:
> On 5/20/2015 12:59 PM, Wybo Dekker wrote:
>
>> As for the modernization of log files you talked about off the record:
>> It would be really modern to not impose any maximum line length by set
>> setting max_line_length to, say, 1e9. And to do that for all engines,
>> not just luatex.
>
> The other engines are more frozen than luatex; although we aim at tex
> engine compatibility (and achieve extensibility via callbacks) this is
> not true for the system dependent properties as i/o (and of course one
> can just stick to using pdftex or use xetex as wide engine).

Of course; maybe even better, for stability and predictability, stick to 
LibreOffice or MS-Word.
You don't even touch my question (which conffile(s)) and my arguments (unequal 
max lengths in one file, 80 is not 79). I now begin to understand the 
communication disorders between some TeX communities.

> (Concerning parsing logs: as the cnf is under user control you cannot
> assume that the log lines are the same always, as some users can set
> them different; i always did. So log file parsers should be flexible in
> this respect.)


-- 
Wybo

From dak at gnu.org  Wed May 20 16:15:00 2015
From: dak at gnu.org (David Kastrup)
Date: Wed, 20 May 2015 16:15:00 +0200
Subject: [Dev-luatex] luatex 0.80.0: log files are 81 chars wide, not 80
In-Reply-To: <555C8EF8.6070705@wxs.nl> (Hans Hagen's message of "Wed, 20 May
 2015 15:41:12 +0200")
References: <555BB37A.9050105@dekkerdocumenten.nl> <555BC5DC.1010908@wxs.nl>
 <555C6902.1010109@dekkerdocumenten.nl> <555C8EF8.6070705@wxs.nl>
Message-ID: <87egmb5o9n.fsf@fencepost.gnu.org>

Hans Hagen <pragma at wxs.nl> writes:

> (Concerning parsing logs: as the cnf is under user control you cannot
> assume that the log lines are the same always, as some users can set
> them different; i always did. So log file parsers should be flexible
> in this respect.)

Standard TeX is the most fun in that respect.  It wraps after 79 bytes,
never mind whether you are in the middle of a UTF-8 character or not.

That's sort of ugly to process with a UTF-8-aware system.

-- 
David Kastrup

From news3 at nililand.de  Wed May 20 16:58:23 2015
From: news3 at nililand.de (Ulrike Fischer)
Date: Wed, 20 May 2015 16:58:23 +0200
Subject: [Dev-luatex] luatex 0.80.0: log files are 81 chars wide, not 80
References: <555BB37A.9050105@dekkerdocumenten.nl> <555BC5DC.1010908@wxs.nl>
 <555C6902.1010109@dekkerdocumenten.nl> <555C8EF8.6070705@wxs.nl>
 <555C9698.1000705@dekkerdocumenten.nl>
Message-ID: <ojyds5i3twv.dlg@nililand.de>

Am Wed, 20 May 2015 16:13:44 +0200 schrieb Wybo Dekker:

> You don't even touch my question (which conffile(s)) 

You can change the line length in a texmf.cnf only for lualatex like
this:

max_print_line = 79
max_print_line.lualatex = 78

I didn't try to find out how to do it permanently in miktex, but
there it is possible to use a command line option

pdflatex -max-print-line=100 test-utf8

> and my arguments (unequal  max lengths in one file, 80 is not 79). 

But Hans told you: luatex doesn't try to produce the same
messages/logs as pdftex. 

I also don't understand what you would gain if they were identical
by default: as users can change them to their liking you can't rely
on the values. 
  


-- 
Ulrike Fischer 
http://www.troubleshooting-tex.de/


From pragma at wxs.nl  Wed May 20 17:50:26 2015
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 20 May 2015 17:50:26 +0200
Subject: [Dev-luatex] luatex 0.80.0: log files are 81 chars wide, not 80
In-Reply-To: <555C6902.1010109@dekkerdocumenten.nl>
References: <555BB37A.9050105@dekkerdocumenten.nl> <555BC5DC.1010908@wxs.nl>
 <555C6902.1010109@dekkerdocumenten.nl>
Message-ID: <555CAD42.3030704@wxs.nl>

On 5/20/2015 12:59 PM, Wybo Dekker wrote:

> Even worse: the \message command obeys the max_print_line setting, while
> luatex takes one character more. As a result, the log file becomes
> unparsable, having different maximum line lengths in one file.
> See the attached source and the pdftex (lines 7&8)/luatex (lines 5&6) logs.

The log/term interface is a complex one (also because it has to deal 
with tex as well as lua output) and will be redone at some point so even 
if we would 'fix' it (whatever that means esp with respect to utf as 
David points out) there is good change that a future version would be 
different. Most likely is that the length check will go away completely 
as it's not needed today.

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | voip: 087 875 68 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From wybo at dekkerdocumenten.nl  Wed May 20 23:49:47 2015
From: wybo at dekkerdocumenten.nl (Wybo Dekker)
Date: Wed, 20 May 2015 23:49:47 +0200
Subject: [Dev-luatex] luatex 0.80.0: log files are 81 chars wide, not 80
In-Reply-To: <ojyds5i3twv.dlg@nililand.de>
References: <555BB37A.9050105@dekkerdocumenten.nl> <555BC5DC.1010908@wxs.nl>
 <555C6902.1010109@dekkerdocumenten.nl> <555C8EF8.6070705@wxs.nl>
 <555C9698.1000705@dekkerdocumenten.nl> <ojyds5i3twv.dlg@nililand.de>
Message-ID: <555D017B.2000306@dekkerdocumenten.nl>

On 2015-05-20 16:58, Ulrike Fischer wrote:
> Am Wed, 20 May 2015 16:13:44 +0200 schrieb Wybo Dekker:
>
>> You don't even touch my question (which conffile(s))
>
> You can change the line length in a texmf.cnf only for lualatex like
> this:
>
> max_print_line = 79
> max_print_line.lualatex = 78

that would be an attempt to repair a luatex bug in texmf.cnf

> I didn't try to find out how to do it permanently in miktex, but
> there it is possible to use a command line option
>
> pdflatex -max-print-line=100 test-utf8
>
>> and my arguments (unequal  max lengths in one file, 80 is not 79).
>
> But Hans told you: luatex doesn't try to produce the same
> messages/logs as pdftex.

I don't ask for identical log files. I only ask for luatex to obey the 
max_print_line = 79 statement in texmf.cnf.

> I also don't understand what you would gain if they were identical
> by default: as users can change them to their liking you can't rely
> on the values.


-- 
Wybo

From pragma at wxs.nl  Thu May 21 00:39:08 2015
From: pragma at wxs.nl (Hans Hagen)
Date: Thu, 21 May 2015 00:39:08 +0200
Subject: [Dev-luatex] luatex 0.80.0: log files are 81 chars wide, not 80
In-Reply-To: <555D017B.2000306@dekkerdocumenten.nl>
References: <555BB37A.9050105@dekkerdocumenten.nl> <555BC5DC.1010908@wxs.nl>
 <555C6902.1010109@dekkerdocumenten.nl> <555C8EF8.6070705@wxs.nl>
 <555C9698.1000705@dekkerdocumenten.nl> <ojyds5i3twv.dlg@nililand.de>
 <555D017B.2000306@dekkerdocumenten.nl>
Message-ID: <555D0D0C.2030508@wxs.nl>

On 5/20/2015 11:49 PM, Wybo Dekker wrote:
> On 2015-05-20 16:58, Ulrike Fischer wrote:
>> Am Wed, 20 May 2015 16:13:44 +0200 schrieb Wybo Dekker:
>>
>>> You don't even touch my question (which conffile(s))
>>
>> You can change the line length in a texmf.cnf only for lualatex like
>> this:
>>
>> max_print_line = 79
>> max_print_line.lualatex = 78
>
> that would be an attempt to repair a luatex bug in texmf.cnf
>
>> I didn't try to find out how to do it permanently in miktex, but
>> there it is possible to use a command line option
>>
>> pdflatex -max-print-line=100 test-utf8
>>
>>> and my arguments (unequal  max lengths in one file, 80 is not 79).
>>
>> But Hans told you: luatex doesn't try to produce the same
>> messages/logs as pdftex.
>
> I don't ask for identical log files. I only ask for luatex to obey the
> max_print_line = 79 statement in texmf.cnf.

as texlive 2015 and therefore 0,80 stable is frozen that won't help you 
and by the time we have a new release we might as well have dropped the 
length check (and have long lines)

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | voip: 087 875 68 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From wybo at dekkerdocumenten.nl  Thu May 21 11:09:37 2015
From: wybo at dekkerdocumenten.nl (Wybo Dekker)
Date: Thu, 21 May 2015 11:09:37 +0200
Subject: [Dev-luatex] luatex 0.80.0: log files are 81 chars wide, not 80
In-Reply-To: <555D0D0C.2030508@wxs.nl>
References: <555BB37A.9050105@dekkerdocumenten.nl> <555BC5DC.1010908@wxs.nl>
 <555C6902.1010109@dekkerdocumenten.nl> <555C8EF8.6070705@wxs.nl>
 <555C9698.1000705@dekkerdocumenten.nl> <ojyds5i3twv.dlg@nililand.de>
 <555D017B.2000306@dekkerdocumenten.nl> <555D0D0C.2030508@wxs.nl>
Message-ID: <555DA0D1.8060001@dekkerdocumenten.nl>

On 2015-05-21 00:39, Hans Hagen wrote:
>> I don't ask for identical log files. I only ask for luatex to obey the
>> >max_print_line = 79 statement in texmf.cnf.
> as texlive 2015 and therefore 0,80 stable is frozen that won't help you
> and by the time we have a new release we might as well have dropped the
> length check (and have long lines)

If it's only in TeXLive that new versions of luatex appear, I'll be happy to 
wait for another year.

-- 
Wybo

From root at mail.boekplan.nl  Fri May 22 12:35:36 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Fri, 22 May 2015 12:35:36 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150522103536.6899841BDE@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From luigi.scarso at gmail.com  Sun May 24 15:27:37 2015
From: luigi.scarso at gmail.com (luigi scarso)
Date: Sun, 24 May 2015 15:27:37 +0200
Subject: [Dev-luatex] luatex 0.80.0: log files are 81 chars wide, not 80
In-Reply-To: <555DA0D1.8060001@dekkerdocumenten.nl>
References: <555BB37A.9050105@dekkerdocumenten.nl> <555BC5DC.1010908@wxs.nl>
 <555C6902.1010109@dekkerdocumenten.nl> <555C8EF8.6070705@wxs.nl>
 <555C9698.1000705@dekkerdocumenten.nl>
 <ojyds5i3twv.dlg@nililand.de>
 <555D017B.2000306@dekkerdocumenten.nl> <555D0D0C.2030508@wxs.nl>
 <555DA0D1.8060001@dekkerdocumenten.nl>
Message-ID: <CAG5iGsDV1APOF-0qRbx_c_40y0W+r32s16YY8cK-EdZLWvqaKA@mail.gmail.com>

On Thu, May 21, 2015 at 11:09 AM, Wybo Dekker <wybo at dekkerdocumenten.nl>
wrote:

> On 2015-05-21 00:39, Hans Hagen wrote:
>
>> I don't ask for identical log files. I only ask for luatex to obey the
>>> >max_print_line = 79 statement in texmf.cnf.
>>>
>> as texlive 2015 and therefore 0,80 stable is frozen that won't help you
>> and by the time we have a new release we might as well have dropped the
>> length check (and have long lines)
>>
>
> If it's only in TeXLive that new versions of luatex appear, I'll be happy
> to wait for another year.
>
> I will see it tomorrow.

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/pipermail/dev-luatex/attachments/20150524/5962ff47/attachment.html>

From root at mail.boekplan.nl  Sun May 24 22:35:31 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sun, 24 May 2015 22:35:31 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150524203532.167DC419AA@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From root at mail.boekplan.nl  Mon May 25 16:38:44 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 25 May 2015 16:38:44 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150525143844.6C89C419AA@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From root at mail.boekplan.nl  Tue May 26 12:35:23 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue, 26 May 2015 12:35:23 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150526103523.78102419AA@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From luigi.scarso at gmail.com  Wed May 27 12:21:43 2015
From: luigi.scarso at gmail.com (luigi scarso)
Date: Wed, 27 May 2015 12:21:43 +0200
Subject: [Dev-luatex] luatex 0.80.0: log files are 81 chars wide, not 80
In-Reply-To: <87egmb5o9n.fsf@fencepost.gnu.org>
References: <555BB37A.9050105@dekkerdocumenten.nl> <555BC5DC.1010908@wxs.nl>
 <555C6902.1010109@dekkerdocumenten.nl> <555C8EF8.6070705@wxs.nl>
 <87egmb5o9n.fsf@fencepost.gnu.org>
Message-ID: <CAG5iGsBDWMzWUm-UFSspoXXQwiPUS5D8htEhJFqPtT_9HGw73w@mail.gmail.com>

On Wed, May 20, 2015 at 4:15 PM, David Kastrup <dak at gnu.org> wrote:

> Hans Hagen <pragma at wxs.nl> writes:
>
> > (Concerning parsing logs: as the cnf is under user control you cannot
> > assume that the log lines are the same always, as some users can set
> > them different; i always did. So log file parsers should be flexible
> > in this respect.)
>
> Standard TeX is the most fun in that respect.  It wraps after 79 bytes,
> never mind whether you are in the middle of a UTF-8 character or not.
>
> That's sort of ugly to process with a UTF-8-aware system.
>

infact I see different output in pdftex  luatex and xetex:

Hello\message{%
1xxxxxxxxxx%
2xxxxxxxxx%
3xxxxxxxxx%
4xxxxxxxxx%
5xxxxxxxxx%
6xxxxxxxxx%
7xxxxxxxxx%
8xxxxxxï¥xx%
9xxxxxxxxx%
10xxxxxxxx%
11xxxxxxxx%
12xxxxxxxx%
13xxxxxxxx%
14xxxxxxxx%
15xxxxxxxx%
16xxxxxxxx%
}
\bye

xetex and luatex correctly display ï¥ but luatex has this off-by-one "bug"
that I still have to catch.
-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/pipermail/dev-luatex/attachments/20150527/4a025f4a/attachment.html>

From root at mail.boekplan.nl  Wed May 27 22:35:16 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed, 27 May 2015 22:35:16 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150527203517.20C73419AA@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From root at mail.boekplan.nl  Thu May 28 16:36:11 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu, 28 May 2015 16:36:11 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150528143611.598B341AB4@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From root at mail.boekplan.nl  Thu May 28 22:35:17 2015
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu, 28 May 2015 22:35:17 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20150528203517.D723E41AB4@mail.boekplan.nl>

Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Password for 'anonsvn': Authentication realm: <https://foundry.supelec.fr:443> Subversion Repository
Username: svn: OPTIONS of 'https://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (https://foundry.supelec.fr)

From luigi.scarso at gmail.com  Fri May 29 16:21:10 2015
From: luigi.scarso at gmail.com (luigi scarso)
Date: Fri, 29 May 2015 16:21:10 +0200
Subject: [Dev-luatex] luatex 0.80.0: log files are 81 chars wide, not 80
In-Reply-To: <CAG5iGsBDWMzWUm-UFSspoXXQwiPUS5D8htEhJFqPtT_9HGw73w@mail.gmail.com>
References: <555BB37A.9050105@dekkerdocumenten.nl> <555BC5DC.1010908@wxs.nl>
 <555C6902.1010109@dekkerdocumenten.nl> <555C8EF8.6070705@wxs.nl>
 <87egmb5o9n.fsf@fencepost.gnu.org>
 <CAG5iGsBDWMzWUm-UFSspoXXQwiPUS5D8htEhJFqPtT_9HGw73w@mail.gmail.com>
Message-ID: <CAG5iGsCaNn4Vi=B96Ju=8Mdepcsp8pqyWoud3rjuanN3+BAwTQ@mail.gmail.com>

On Wed, May 27, 2015 at 12:21 PM, luigi scarso <luigi.scarso at gmail.com>
wrote:

>
>
> On Wed, May 20, 2015 at 4:15 PM, David Kastrup <dak at gnu.org> wrote:
>
>> Hans Hagen <pragma at wxs.nl> writes:
>>
>> > (Concerning parsing logs: as the cnf is under user control you cannot
>> > assume that the log lines are the same always, as some users can set
>> > them different; i always did. So log file parsers should be flexible
>> > in this respect.)
>>
>> Standard TeX is the most fun in that respect.  It wraps after 79 bytes,
>> never mind whether you are in the middle of a UTF-8 character or not.
>>
>> That's sort of ugly to process with a UTF-8-aware system.
>>
>
> infact I see different output in pdftex  luatex and xetex:
>
> Hello\message{%
> 1xxxxxxxxxx%
> 2xxxxxxxxx%
> 3xxxxxxxxx%
> 4xxxxxxxxx%
> 5xxxxxxxxx%
> 6xxxxxxxxx%
> 7xxxxxxxxx%
> 8xxxxxxï¥xx%
> 9xxxxxxxxx%
> 10xxxxxxxx%
> 11xxxxxxxx%
> 12xxxxxxxx%
> 13xxxxxxxx%
> 14xxxxxxxx%
> 15xxxxxxxx%
> 16xxxxxxxx%
> }
> \bye
>
> xetex and luatex correctly display ï¥ but luatex has this off-by-one "bug"
> that I still have to catch.
> --
> luigi
>
Ok, not a bug.
0) xetex and luatex don't break a utf-8 sequence (or better, at least
luatex should not break an utf-8 sequence in output);
1) xetex show 79 (ie. max_print_line) unicode chars in a utf-8 encoding, so
in this case we have that the  line with ï¥  is longer than 79 bytes;
2) luatex always shows at max 79 bytes, so in this case that line is
shorter .

So an applications that expect at max 79 bytes is ok with luatex, as also
is ok an application that expect a valid utf-8 line that ends with "\n" .




-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/pipermail/dev-luatex/attachments/20150529/4dd3b814/attachment.html>

