From root at mail.boekplan.nl  Mon Jan  4 12:22:01 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon,  4 Jan 2010 12:22:01 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100104112510.E67B44004E@mail.boekplan.nl>

Authentication realm: <http://foundry.supelec.fr:80> Document repository
Password for 'luatex': Authentication realm: <http://foundry.supelec.fr:80> Document repository
Username: svn: OPTIONS of 'http://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (http://foundry.supelec.fr)

From root at mail.boekplan.nl  Mon Jan  4 16:22:01 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon,  4 Jan 2010 16:22:01 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100104152451.F0B434004E@mail.boekplan.nl>

Authentication realm: <http://foundry.supelec.fr:80> Document repository
Password for 'luatex': Authentication realm: <http://foundry.supelec.fr:80> Document repository
Username: svn: OPTIONS of 'http://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (http://foundry.supelec.fr)

From root at mail.boekplan.nl  Mon Jan  4 22:22:01 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon,  4 Jan 2010 22:22:01 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100104212446.5BC494004E@mail.boekplan.nl>

Authentication realm: <http://foundry.supelec.fr:80> Document repository
Password for 'taco': Authentication realm: <http://foundry.supelec.fr:80> Document repository
Username: svn: OPTIONS of 'http://foundry.supelec.fr/svn/luatex': authorization failed: Could not authenticate to server: rejected Basic challenge (http://foundry.supelec.fr)

From root at mail.boekplan.nl  Tue Jan  5 12:22:01 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue,  5 Jan 2010 12:22:01 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100105112539.00DCD4004E@mail.boekplan.nl>

Authentication realm: <http://foundry.supelec.fr:80> Document repository
Password for 'anonymous': Authentication realm: <http://foundry.supelec.fr:80> Document repository
Password for 'anonymous': ------------------------------------------------------------------------
r3303 | hhenkel | 2009-12-26 18:32:21 +0100 (Sat, 26 Dec 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/writet3.c

remove spurious '\0' in /Type3 font dictionary

------------------------------------------------------------------------
r3304 | hhenkel | 2009-12-26 21:12:43 +0100 (Sat, 26 Dec 2009) | 9 lines
Changed paths:
   M /trunk/source/libs/xpdf/xpdf-3.02/xpdf/Page.cc
   M /trunk/source/libs/xpdf/xpdf-3.02/xpdf/Page.h
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/image.h
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c

pdftoepdf.cc cleanup, needed xpdf-3.02 patching:
* /Metadata in /XForm is now indirect object (was direct/illegal before).
* keep indirect /Resources indirect.
* remove unnecessary initDictFromDict().
* copy objects by type once it's known.
* copy cases are now more uniform.
Currently no automatic /Group is generated by PDF in the enclosing /Page 
dictionary, hope that's ok. for now. No idea what to put into this /Group.

------------------------------------------------------------------------
r3305 | hhenkel | 2009-12-26 21:35:02 +0100 (Sat, 26 Dec 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc

/Metadata warning was not ok.

------------------------------------------------------------------------
r3306 | hhenkel | 2009-12-26 22:58:31 +0100 (Sat, 26 Dec 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc

cosmetics

------------------------------------------------------------------------
r3307 | hhenkel | 2009-12-26 23:22:09 +0100 (Sat, 26 Dec 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c

re-assess the typecasts from r3292, r3293, r3296, and r3297

------------------------------------------------------------------------
r3308 | hhenkel | 2009-12-26 23:39:16 +0100 (Sat, 26 Dec 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc

fix wrong types in copyString()

------------------------------------------------------------------------
r3309 | hhenkel | 2009-12-26 23:54:35 +0100 (Sat, 26 Dec 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c

rm unused variabless; thanks, Martin!

------------------------------------------------------------------------
r3310 | hhenkel | 2009-12-27 00:05:55 +0100 (Sun, 27 Dec 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc

typo

------------------------------------------------------------------------
r3311 | hhenkel | 2009-12-27 12:48:20 +0100 (Sun, 27 Dec 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/aclocal.m4
   M /trunk/source/texk/web2c/configure
   M /trunk/source/texk/web2c/doc/Makefile.in
   M /trunk/source/texk/web2c/lib/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   A /trunk/source/texk/web2c/luatexdir/lua/lepdlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luastuff.c
   M /trunk/source/texk/web2c/luatexdir/lua/luatex-api.h
   M /trunk/source/texk/web2c/man/Makefile.in
   M /trunk/source/texk/web2c/web2c/Makefile.in
   M /trunk/source/texk/web2c/web2c/aclocal.m4
   M /trunk/source/texk/web2c/web2c/configure

new global table "epd" (empty), lepdlib.cc stub, autoreconf

------------------------------------------------------------------------
r3312 | hhenkel | 2009-12-27 13:32:22 +0100 (Sun, 27 Dec 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc

rm struct xref entry from struct PdfDocument

------------------------------------------------------------------------
r3313 | hhenkel | 2009-12-27 17:38:04 +0100 (Sun, 27 Dec 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/Makefile.in
   M /trunk/source/texk/aclocal.m4
   M /trunk/source/texk/configure
   M /trunk/source/texk/dummy/Makefile.in
   M /trunk/source/texk/dummy/aclocal.m4
   M /trunk/source/texk/dummy/configure
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   A /trunk/source/texk/web2c/luatexdir/lua/lepdflib.cc (from /trunk/source/texk/web2c/luatexdir/lua/lepdlib.c:3312)
   D /trunk/source/texk/web2c/luatexdir/lua/lepdlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luastuff.c
   M /trunk/source/texk/web2c/luatexdir/lua/luatex-api.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h

rename global table "epd" to "epdf" (empty), rename lepdlib.c to
lepdflib.cc, tweak environment, another autoreconf. 

------------------------------------------------------------------------
r3314 | hhenkel | 2009-12-27 17:39:03 +0100 (Sun, 27 Dec 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lepdflib.cc

propset

------------------------------------------------------------------------
r3315 | hhenkel | 2009-12-27 17:40:40 +0100 (Sun, 27 Dec 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lepdflib.cc

proset again

------------------------------------------------------------------------
r3316 | hhenkel | 2009-12-27 18:25:56 +0100 (Sun, 27 Dec 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc

convert a few Object into PdfObject

------------------------------------------------------------------------
r3317 | hhenkel | 2009-12-27 20:10:16 +0100 (Sun, 27 Dec 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.h

header info was lost

------------------------------------------------------------------------
r3318 | hhenkel | 2009-12-27 20:12:32 +0100 (Sun, 27 Dec 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.h

correct header comment

------------------------------------------------------------------------
r3319 | hhenkel | 2009-12-27 21:05:36 +0100 (Sun, 27 Dec 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.h
   M /trunk/source/texk/web2c/luatexdir/lua/lepdflib.cc
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h

headers were messed up for C vs. C++, spotted by Martin,
hope it's ok now.

------------------------------------------------------------------------
r3320 | taco | 2010-01-04 08:36:48 +0100 (Mon, 04 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.c

fix bad commandline quoting bug

------------------------------------------------------------------------
r3321 | taco | 2010-01-04 08:37:35 +0100 (Mon, 04 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c

a minor change of wording by Karl in system() message

------------------------------------------------------------------------

From root at mail.boekplan.nl  Wed Jan  6 16:22:01 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed,  6 Jan 2010 16:22:01 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100106152519.A2ACE4004E@mail.boekplan.nl>

Authentication realm: <http://foundry.supelec.fr:80> Document repository
Password for 'anonymous': Authentication realm: <http://foundry.supelec.fr:80> Document repository
Password for 'anonymous': ------------------------------------------------------------------------
r3322 | hhenkel | 2010-01-06 14:23:15 +0100 (Wed, 06 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc
   M /trunk/source/texk/web2c/luatexdir/lua/lepdflib.cc

move header stuff around

------------------------------------------------------------------------

From root at mail.boekplan.nl  Wed Jan  6 22:25:23 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed,  6 Jan 2010 22:25:23 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100106212523.DA5AE4004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3323 | taco | 2010-01-06 16:31:43 +0100 (Wed, 06 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.h

add const to copy_node() declaration

------------------------------------------------------------------------
r3324 | taco | 2010-01-06 16:45:55 +0100 (Wed, 06 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/dofont.c
   M /trunk/source/texk/web2c/luatexdir/font/luafont.c
   M /trunk/source/texk/web2c/luatexdir/lua/lcallbacklib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lfontlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/limglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lkpselib.c
   M /trunk/source/texk/web2c/luatexdir/lua/llanglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lnodelib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltexlib.c

add some explicit typecasts for lua_tonumber

------------------------------------------------------------------------

From root at mail.boekplan.nl  Thu Jan  7 12:26:25 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu,  7 Jan 2010 12:26:25 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100107112625.0C1464004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3325 | taco | 2010-01-07 09:00:50 +0100 (Thu, 07 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/postlinebreak.c

fix the alinks for left and rightskip

------------------------------------------------------------------------
r3326 | taco | 2010-01-07 09:04:56 +0100 (Thu, 07 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lnodelib.c

create a dedicated function for pushing spec_ptr fields to lua

------------------------------------------------------------------------

From root at mail.boekplan.nl  Thu Jan  7 16:25:34 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu,  7 Jan 2010 16:25:34 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100107152534.5244F4004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3327 | taco | 2010-01-07 13:51:53 +0100 (Thu, 07 Jan 2010) | 2 lines
Changed paths:
   M /trunk/build.sh

add exporting of CONFIG_SHELL if bash is found

------------------------------------------------------------------------

From root at mail.boekplan.nl  Thu Jan  7 22:25:23 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu,  7 Jan 2010 22:25:23 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100107212523.2F6794004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3328 | taco | 2010-01-07 16:44:08 +0100 (Thu, 07 Jan 2010) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.pdf
   M /trunk/manual/luatexref-t.tex

document glue node subtypes

------------------------------------------------------------------------

From root at mail.boekplan.nl  Fri Jan  8 12:25:50 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Fri,  8 Jan 2010 12:25:50 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100108112551.02AAC4004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3329 | hhenkel | 2010-01-07 22:53:04 +0100 (Thu, 07 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/image.h
   M /trunk/source/texk/web2c/luatexdir/lua/lepdflib.cc
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflink.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.c

handle page resources by tree + lists

------------------------------------------------------------------------
r3330 | oneiros | 2010-01-07 23:00:42 +0100 (Thu, 07 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c

fix some warnings

------------------------------------------------------------------------
r3331 | hhenkel | 2010-01-07 23:38:50 +0100 (Thu, 07 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c

remove more warnings

------------------------------------------------------------------------
r3332 | taco | 2010-01-08 08:08:36 +0100 (Fri, 08 Jan 2010) | 2 lines
Changed paths:
   M /trunk/build.sh

remove bashism

------------------------------------------------------------------------
r3333 | hhenkel | 2010-01-08 08:10:53 +0100 (Fri, 08 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c

some resources were possibly missing

------------------------------------------------------------------------
r3334 | taco | 2010-01-08 09:31:45 +0100 (Fri, 08 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/dofont.c
   M /trunk/source/texk/web2c/luatexdir/font/luafont.c
   M /trunk/source/texk/web2c/luatexdir/lua/lcallbacklib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lfontlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lkpselib.c
   M /trunk/source/texk/web2c/luatexdir/lua/llanglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lnodelib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltexlib.c

switch to using lua_number2int instead of explicit typecasts (thanks Javier!)

------------------------------------------------------------------------
r3335 | taco | 2010-01-08 11:41:41 +0100 (Fri, 08 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/mlist.c

convert two dozen simple functions into #defines

------------------------------------------------------------------------
r3336 | taco | 2010-01-08 11:42:25 +0100 (Fri, 08 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/writet1.c

add the file that was searched for to the error message for failing Type1 fonts

------------------------------------------------------------------------

From root at mail.boekplan.nl  Fri Jan  8 16:25:16 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Fri,  8 Jan 2010 16:25:16 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100108152516.7A9924004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3337 | taco | 2010-01-08 13:58:00 +0100 (Fri, 08 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/mlist.c

factor out the static variable cur_style

------------------------------------------------------------------------
r3338 | taco | 2010-01-08 14:14:50 +0100 (Fri, 08 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/mlist.c

factor out cur_mu as well

------------------------------------------------------------------------
r3339 | taco | 2010-01-08 15:00:38 +0100 (Fri, 08 Jan 2010) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua51/luaconf.h

Adjust Inline assembler code of lua_number2int for MS-VC++5.0
(thanks Akira)

------------------------------------------------------------------------
r3340 | taco | 2010-01-08 15:24:51 +0100 (Fri, 08 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luafilesystem/src/lfs.c

fix a warning about incompatible function pointers on Win32

------------------------------------------------------------------------

From root at mail.boekplan.nl  Fri Jan  8 22:25:17 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Fri,  8 Jan 2010 22:25:17 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100108212517.4DB784004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3341 | hhenkel | 2010-01-08 20:52:54 +0100 (Fri, 08 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/image.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writejpg.c
   M /trunk/source/texk/web2c/luatexdir/image/writepng.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h

fix /ProcSet (obsolete anyway)

------------------------------------------------------------------------

From root at mail.boekplan.nl  Sat Jan  9 12:25:48 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sat,  9 Jan 2010 12:25:48 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100109112548.29D574004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3342 | hhenkel | 2010-01-09 10:37:59 +0100 (Sat, 09 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/texfont.c

typo in font_bytes calculation

------------------------------------------------------------------------

From root at mail.boekplan.nl  Sat Jan  9 16:25:19 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sat,  9 Jan 2010 16:25:19 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100109152519.BDF244004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3343 | hhenkel | 2010-01-09 12:52:43 +0100 (Sat, 09 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/texfont.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c

move font_shareable()

------------------------------------------------------------------------
r3344 | hhenkel | 2010-01-09 13:30:58 +0100 (Sat, 09 Jan 2010) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/luafont.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.h
   M /trunk/source/texk/web2c/luatexdir/font/writefont.c
   M /trunk/source/texk/web2c/luatexdir/font/writet3.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.h

replace pdf_font_size by font_size (always identical afaics).
make pdf_use_font() static.

------------------------------------------------------------------------
r3345 | hhenkel | 2010-01-09 15:41:20 +0100 (Sat, 09 Jan 2010) | 4 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/luafont.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.h
   M /trunk/source/texk/web2c/luatexdir/font/vfovf.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfglyph.c
   M /trunk/source/texk/web2c/luatexdir/tex/linebreak.c
   M /trunk/source/texk/web2c/luatexdir/tex/packaging.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c

cosmetics: rename pdf_font_expand_ratio -> font_expand_ratio, similar for
pdf_font_shrink, pdf_font_stretch, pdf_font_step, pdf_font_auto_expand,
as they are more TeX than PDF related.

------------------------------------------------------------------------

From root at mail.boekplan.nl  Sun Jan 10 12:25:52 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sun, 10 Jan 2010 12:25:52 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100110112552.96A8E4004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3346 | hhenkel | 2010-01-10 00:27:21 +0100 (Sun, 10 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c

simplify pdf_set_font(), only base fonts enter the font resources list.

------------------------------------------------------------------------
r3347 | hhenkel | 2010-01-10 12:15:23 +0100 (Sun, 10 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c

remove impossible case

------------------------------------------------------------------------

From root at mail.boekplan.nl  Sun Jan 10 16:25:15 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sun, 10 Jan 2010 16:25:15 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100110152515.E6DDB4004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3348 | hhenkel | 2010-01-10 13:53:55 +0100 (Sun, 10 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/mapfile.c
   M /trunk/source/texk/web2c/luatexdir/font/mapfile.h

mapfile.c cleanup: remove links, remove <nontfm>

------------------------------------------------------------------------
r3349 | hhenkel | 2010-01-10 14:30:16 +0100 (Sun, 10 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/mapfile.c
   M /trunk/source/texk/web2c/luatexdir/font/mapfile.h

a few static

------------------------------------------------------------------------
r3350 | hhenkel | 2010-01-10 15:46:20 +0100 (Sun, 10 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/mapfile.c
   M /trunk/source/texk/web2c/luatexdir/font/mapfile.h
   M /trunk/source/texk/web2c/luatexdir/font/texfont.h
   M /trunk/source/texk/web2c/luatexdir/font/writefont.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.h

replace hasfmentry() by getfontmap(), avoid side effects

------------------------------------------------------------------------
r3351 | hhenkel | 2010-01-10 16:03:10 +0100 (Sun, 10 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/mapfile.c

another tree init

------------------------------------------------------------------------

From root at mail.boekplan.nl  Sun Jan 10 22:25:11 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sun, 10 Jan 2010 22:25:11 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100110212511.AD1544004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3352 | hhenkel | 2010-01-10 16:35:31 +0100 (Sun, 10 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/luafont.c
   M /trunk/source/texk/web2c/luatexdir/font/luatexfont.h
   M /trunk/source/texk/web2c/luatexdir/font/texfont.h
   M /trunk/source/texk/web2c/luatexdir/font/tfmofm.c
   M /trunk/source/texk/web2c/luatexdir/font/tounicode.c
   M /trunk/source/texk/web2c/luatexdir/font/writefont.c
   M /trunk/source/texk/web2c/luatexdir/font/writet3.c
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc
   M /trunk/source/texk/web2c/luatexdir/lua/lfontlib.c
   M /trunk/source/texk/web2c/luatexdir/tex/memoryword.h

rm #define internalfontnumber, it's now internal_font_number throughout

------------------------------------------------------------------------
r3353 | hhenkel | 2010-01-10 17:36:00 +0100 (Sun, 10 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c

was a segfault with context, sorry

------------------------------------------------------------------------

From root at mail.boekplan.nl  Mon Jan 11 12:25:52 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 11 Jan 2010 12:25:52 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100111112552.2ADBC4004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3354 | taco | 2010-01-11 09:49:33 +0100 (Mon, 11 Jan 2010) | 5 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/luatexdir/tex/align.c
   M /trunk/source/texk/web2c/luatexdir/tex/arithmetic.c
   M /trunk/source/texk/web2c/luatexdir/tex/arithmetic.h
   M /trunk/source/texk/web2c/luatexdir/tex/conditional.c
   M /trunk/source/texk/web2c/luatexdir/tex/equivalents.h
   M /trunk/source/texk/web2c/luatexdir/tex/errors.c
   M /trunk/source/texk/web2c/luatexdir/tex/expand.c
   M /trunk/source/texk/web2c/luatexdir/tex/extensions.c
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.c
   M /trunk/source/texk/web2c/luatexdir/tex/linebreak.c
   M /trunk/source/texk/web2c/luatexdir/tex/mainbody.c
   M /trunk/source/texk/web2c/luatexdir/tex/mainbody.h
   M /trunk/source/texk/web2c/luatexdir/tex/maincontrol.c
   M /trunk/source/texk/web2c/luatexdir/tex/maincontrol.h
   M /trunk/source/texk/web2c/luatexdir/tex/packaging.c
   M /trunk/source/texk/web2c/luatexdir/tex/primitive.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c
   M /trunk/source/texk/web2c/luatexdir/tex/scanning.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.h
   M /trunk/source/texk/web2c/luatexdir/tex/texdeffont.c
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.c
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.h
   M /trunk/source/texk/web2c/luatexdir/tex/texmath.c
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c

Fix a whole bunch of warnings and one actual bug 
(assignment inside conditional in textoken.c)
that are reported by "cl /W4" (thanks Javier Mugica)


------------------------------------------------------------------------
r3355 | taco | 2010-01-11 09:59:58 +0100 (Mon, 11 Jan 2010) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/luatex-api.h
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.c

remove unneeded headers from texfileio.c and add a double-loading
guard to luatex-api.h

------------------------------------------------------------------------

From root at mail.boekplan.nl  Mon Jan 11 16:25:19 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 11 Jan 2010 16:25:19 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100111152519.E4C864004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3356 | taco | 2010-01-11 13:38:39 +0100 (Mon, 11 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/parsettf.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/splinefont.c

patch fontloader.info() to accept filenames with embedded parens

------------------------------------------------------------------------
r3357 | taco | 2010-01-11 15:07:59 +0100 (Mon, 11 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/expand.c

manufacture_csname() can use the new tokenlist_to_lstring instead of going through buffer

------------------------------------------------------------------------

From root at mail.boekplan.nl  Mon Jan 11 22:25:16 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 11 Jan 2010 22:25:16 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100111212516.122264004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3358 | taco | 2010-01-11 16:19:48 +0100 (Mon, 11 Jan 2010) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/filename.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.h
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c

attempt to fix bug 315 by save/restoring the current string for each expansion call inside scan_file_name
(appears to work)

------------------------------------------------------------------------

From root at mail.boekplan.nl  Tue Jan 12 16:25:09 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue, 12 Jan 2010 16:25:09 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100112152509.195514004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3359 | taco | 2010-01-12 14:18:46 +0100 (Tue, 12 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/filename.c

Declaration after statement

------------------------------------------------------------------------

From root at mail.boekplan.nl  Tue Jan 12 22:25:18 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue, 12 Jan 2010 22:25:18 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100112212518.44ADF4004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3360 | hhenkel | 2010-01-12 22:12:15 +0100 (Tue, 12 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   M /trunk/source/texk/web2c/luatexdir/font/macnames.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/src/ffdummies.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/src/luafflib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pagetree.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfaction.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfcolorstack.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfglyph.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflink.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfliteral.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfrule.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsaverestore.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsetmatrix.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.c
   M /trunk/source/texk/web2c/luatexdir/tex/directions.c
   M /trunk/source/texk/web2c/luatexdir/tex/errors.c
   M /trunk/source/texk/web2c/luatexdir/tex/mathcodes.c
   M /trunk/source/texk/web2c/luatexdir/tex/textcodes.c
   M /trunk/source/texk/web2c/luatexdir/utils/avlstuff.c
   M /trunk/source/texk/web2c/luatexdir/utils/managed-sa.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c

unify static const char _svn_version[] (good ol' ed)

------------------------------------------------------------------------

From root at mail.boekplan.nl  Fri Jan 15 22:25:10 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Fri, 15 Jan 2010 22:25:10 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100115212756.6B9F04004E@mail.boekplan.nl>

svn: OPTIONS of 'http://foundry.supelec.fr/svn/luatex': could not connect to server (http://foundry.supelec.fr)

From root at mail.boekplan.nl  Sat Jan 16 12:25:10 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sat, 16 Jan 2010 12:25:10 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100116112827.349054004E@mail.boekplan.nl>

svn: OPTIONS of 'http://foundry.supelec.fr/svn/luatex': could not connect to server (http://foundry.supelec.fr)

From root at mail.boekplan.nl  Sat Jan 16 16:25:10 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sat, 16 Jan 2010 16:25:10 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100116152752.D8F7A4004E@mail.boekplan.nl>

svn: OPTIONS of 'http://foundry.supelec.fr/svn/luatex': could not connect to server (http://foundry.supelec.fr)

From khaledhosny at eglug.org  Sat Jan 16 16:29:13 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sat, 16 Jan 2010 17:29:13 +0200
Subject: [Dev-luatex] Missing entries in TTF names table
Message-ID: <20100116152913.GA7295@khaled-laptop>

While trying to write a font names database generation tool for
lualatex, I found that certain fonts are missing entries in the TTF
names table, like fullname, subfamily etc. This because, for these
fonts, FontForge nulls those values and guesses them from PS names at
font generation time, so they aren't saved in SFD sources nor returned
by LuaTeX's fontloader.

Attached a proposed patch which simply removes the corresponding
FontForge function; TTF_PSDupsDefault() (it isn't used anywhere else in
the source, so I though it should go away completely).

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ttfnames.diff
Type: text/x-diff
Size: 3811 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20100116/54df43a8/attachment.diff>

From root at mail.boekplan.nl  Sat Jan 16 22:25:10 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sat, 16 Jan 2010 22:25:10 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100116212754.64ABF4004A@mail.boekplan.nl>

svn: OPTIONS of 'http://foundry.supelec.fr/svn/luatex': could not connect to server (http://foundry.supelec.fr)

From root at mail.boekplan.nl  Sun Jan 17 12:25:10 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sun, 17 Jan 2010 12:25:10 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100117112818.12C9D4004E@mail.boekplan.nl>

svn: OPTIONS of 'http://foundry.supelec.fr/svn/luatex': could not connect to server (http://foundry.supelec.fr)

From root at mail.boekplan.nl  Sun Jan 17 16:25:10 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sun, 17 Jan 2010 16:25:10 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100117152754.6CA534004E@mail.boekplan.nl>

svn: OPTIONS of 'http://foundry.supelec.fr/svn/luatex': could not connect to server (http://foundry.supelec.fr)

From root at mail.boekplan.nl  Sun Jan 17 22:25:10 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sun, 17 Jan 2010 22:25:10 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100117212752.12A954004E@mail.boekplan.nl>

svn: OPTIONS of 'http://foundry.supelec.fr/svn/luatex': could not connect to server (http://foundry.supelec.fr)

From taco at elvenkind.com  Mon Jan 18 12:46:25 2010
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 18 Jan 2010 12:46:25 +0100
Subject: [Dev-luatex] Missing entries in TTF names table
In-Reply-To: <20100116152913.GA7295@khaled-laptop>
References: <20100116152913.GA7295@khaled-laptop>
Message-ID: <4B544A11.7060107@elvenkind.com>



Khaled Hosny wrote:
> 
> Attached a proposed patch which simply removes the corresponding
> FontForge function; TTF_PSDupsDefault() (it isn't used anywhere else in
> the source, so I though it should go away completely).

Patch applied, thanks.

Best wishes,
Taco

From root at mail.boekplan.nl  Mon Jan 18 16:25:11 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 18 Jan 2010 16:25:11 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100118152511.4CE214004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3361 | taco | 2010-01-18 12:40:59 +0100 (Mon, 18 Jan 2010) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/parsettf.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/splinefont.h

Fontforge clears some font names at loading time that will be refilled in at font
generation time, but the fontloader should not do that. Patch from Khaled Hosny.

------------------------------------------------------------------------
r3362 | taco | 2010-01-18 12:54:08 +0100 (Mon, 18 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/loslibext.c
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luainit.c
   M /trunk/source/texk/web2c/luatexdir/lua/luatex-api.h
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c

various header cleanups proposed by Javier Mugica

------------------------------------------------------------------------

From root at mail.boekplan.nl  Mon Jan 18 22:25:15 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 18 Jan 2010 22:25:15 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100118212515.E35AF4004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3363 | hhenkel | 2010-01-18 20:36:26 +0100 (Mon, 18 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/limglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luastuff.c
   M /trunk/source/texk/web2c/luatexdir/lua/luatex-api.h

move preset_environment()

------------------------------------------------------------------------

From reinhard.kotucha at web.de  Tue Jan 19 00:35:52 2010
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 19 Jan 2010 00:35:52 +0100
Subject: [Dev-luatex] md5.sum
In-Reply-To: <alpine.DEB.1.00.0912220057050.6910@hahepc1.hahe>
References: <19247.62960.245638.126943@zaphod.ms25.net>
	<alpine.LNX.2.01.0912211744470.21855@ybpnyubfg.ybpnyqbznva>
	<4B2FFE4F.9020004@wxs.nl>
	<e7fba2610912211529n38317218rb72772407af880ee@mail.gmail.com>
	<alpine.DEB.1.00.0912220057050.6910@hahepc1.hahe>
Message-ID: <19284.61528.542697.876393@zaphod.ms25.net>

On 22 December 2009 Hartmut Henkel wrote:

 > seems to be a 32/64 bit issue. After sprinkling the md5.c code with 32
 > bit MASKs (see diff) luatex indeed gives the correct
 > 098f6bcd4621d373cade4e832627b4f6 on an x86_64 AMD debian Linux PC.
 > Unclear which MASK made it, but i guess it's in the rotate().

Though this problem will not exist in future versions of luatex, it
seems that I have to wait a few years until I can enable the MD5 code
again.  I simply commented it out for the time being.  Not everybody
has a recent version of luatex.  There are systems like CentOs or
Debian which still support old stuff (no package updates, only
security fixes).

The MD5 stuff is not essential in my script, but I'd like to use it
whenever possible.  Currently it's commented out.

luatex provides some TeX primitives:

  \luatexversion
  \luatexrevision
  \luatexdatestamp

However, I'm not using luatex but texlua and couldn't figure out how to
access these variables in lua.  If this isn't supported already, what
about providing a luatex table?

  luatex.version
  luatex.revision
  luatex.datestamp

...and maybe even more:

  luatex.author, luatex.license...  :)

If I can evaluate, for instance, luatex.datestamp, I can enable MD5
checks in my script on sytems where it works.  That would be nice.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From adityam at umich.edu  Tue Jan 19 00:45:56 2010
From: adityam at umich.edu (Aditya Mahajan)
Date: Mon, 18 Jan 2010 18:45:56 -0500
Subject: [Dev-luatex] md5.sum
In-Reply-To: <19284.61528.542697.876393@zaphod.ms25.net>
References: <19247.62960.245638.126943@zaphod.ms25.net>
	<alpine.LNX.2.01.0912211744470.21855@ybpnyubfg.ybpnyqbznva>
	<4B2FFE4F.9020004@wxs.nl>
	<e7fba2610912211529n38317218rb72772407af880ee@mail.gmail.com>
	<alpine.DEB.1.00.0912220057050.6910@hahepc1.hahe>
	<19284.61528.542697.876393@zaphod.ms25.net>
Message-ID: <9ab866901001181545o1c01b2b1j1577d6e636016dd7@mail.gmail.com>

On Mon, Jan 18, 2010 at 6:35 PM, Reinhard Kotucha
<reinhard.kotucha at web.de>wrote:
>
> If I can evaluate, for instance, luatex.datestamp, I can enable MD5
> checks in my script on sytems where it works.  That would be nice.
>

How about

if (md5.sumhexa("abcdefghijklmnopqrstuvwxyz") ==
"c3fcd3d76192e4007dfb496cca67e13b") then
  -- md5 works... do what you want
 else
   -- fallback for md5 not working
end

This way, you also protect yourself from bugs in the future versions of
luatex :-)

Aditya
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20100118/ec35cc5a/attachment.html>

From taco at elvenkind.com  Tue Jan 19 12:12:07 2010
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 19 Jan 2010 12:12:07 +0100
Subject: [Dev-luatex] md5.sum
In-Reply-To: <19284.61528.542697.876393@zaphod.ms25.net>
References: <19247.62960.245638.126943@zaphod.ms25.net>	<alpine.LNX.2.01.0912211744470.21855@ybpnyubfg.ybpnyqbznva>	<4B2FFE4F.9020004@wxs.nl>	<e7fba2610912211529n38317218rb72772407af880ee@mail.gmail.com>	<alpine.DEB.1.00.0912220057050.6910@hahepc1.hahe>
	<19284.61528.542697.876393@zaphod.ms25.net>
Message-ID: <4B559387.7080001@elvenkind.com>

Reinhard Kotucha wrote:
> 
> The MD5 stuff is not essential in my script, but I'd like to use it
> whenever possible.  Currently it's commented out.

Aditya's solution for the md5 stuff looked pretty smart, especially
since datestamp is not very reliable (it gives a compilation time
but says nothing about the revision that is used).

> luatex provides some TeX primitives:
> 
>   \luatexversion
>   \luatexrevision
>   \luatexdatestamp

There is some useful stuff:

   print (status.luatex_version, type(status.luatex_version))
   print (status.luatex_revision, type(status.luatex_revision))
   print (status.banner, type(status.banner))

Gives:

   50      number
   0       string
   This is LuaTeX, Version beta-0.50.0-2010011912  string

Best wishes,
Taco

From root at mail.boekplan.nl  Tue Jan 19 12:25:56 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue, 19 Jan 2010 12:25:56 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100119112556.534044004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3364 | hhenkel | 2010-01-18 22:27:25 +0100 (Mon, 18 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/luatexfont.h
   M /trunk/source/texk/web2c/luatexdir/font/writefont.c

rm obsolete fn_objnum

------------------------------------------------------------------------

From root at mail.boekplan.nl  Tue Jan 19 16:25:31 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue, 19 Jan 2010 16:25:31 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100119152531.9EBF64004F@mail.boekplan.nl>

------------------------------------------------------------------------
r3365 | taco | 2010-01-19 14:51:00 +0100 (Tue, 19 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c

change confusion("pdfvlistout") to confusion("vlistout")

------------------------------------------------------------------------

From reinhard.kotucha at web.de  Wed Jan 20 02:28:36 2010
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Wed, 20 Jan 2010 02:28:36 +0100
Subject: [Dev-luatex] md5.sum
In-Reply-To: <9ab866901001181545o1c01b2b1j1577d6e636016dd7@mail.gmail.com>
References: <19247.62960.245638.126943@zaphod.ms25.net>
	<alpine.LNX.2.01.0912211744470.21855@ybpnyubfg.ybpnyqbznva>
	<4B2FFE4F.9020004@wxs.nl>
	<e7fba2610912211529n38317218rb72772407af880ee@mail.gmail.com>
	<alpine.DEB.1.00.0912220057050.6910@hahepc1.hahe>
	<19284.61528.542697.876393@zaphod.ms25.net>
	<9ab866901001181545o1c01b2b1j1577d6e636016dd7@mail.gmail.com>
Message-ID: <19286.23620.524810.784569@zaphod.ms25.net>

On 18 January 2010 Aditya Mahajan wrote:

 > On Mon, Jan 18, 2010 at 6:35 PM, Reinhard Kotucha
 > <reinhard.kotucha at web.de>wrote:
 > >
 > > If I can evaluate, for instance, luatex.datestamp, I can enable MD5
 > > checks in my script on sytems where it works.  That would be nice.
 > >
 > 
 > How about
 > 
 > if (md5.sumhexa("abcdefghijklmnopqrstuvwxyz") ==
 > "c3fcd3d76192e4007dfb496cca67e13b") then
 >   -- md5 works... do what you want
 >  else
 >    -- fallback for md5 not working
 > end

Hi Aditya,
this is a brilliant idea.  Thank you very much.  I adopted my file
accordingly.  It's availble from 

  http://tug.org/~kotucha/getnonfreefonts

I simply skip the MD5 checks if they don't work.  On my 64-bit Gentoo
system I get:

Installing texmf/scripts/getnonfreefonts/getnonfreefonts.pl ...          [done]
Installing texmf/doc/man/man1/getnonfreefonts.1 ...                      [done]
Installing texmf/doc/man/man1/getnonfreefonts-sys.1 ...                  [done]
Fixing File Permissions ...                                              [done]

However, Gentoo allows me to execute 32-bit binaries if I put
bin/i386-linux into $PATH instead of bin/x86_64-linux.

Then I get:

Installing texmf/scripts/getnonfreefonts/getnonfreefonts.pl ...          [done]
Installing texmf/doc/man/man1/getnonfreefonts.1 ...                      [done]
Installing texmf/doc/man/man1/getnonfreefonts-sys.1 ...                  [done]
md5sum: 028f96580787066ac0084251e2ccc915 getnonfreefonts.pl ...            [ok]
md5sum: f850d910dd96ee27cecdb3772047d247 getnonfreefonts.1 ...             [ok]
md5sum: fb2b0f7699db8e627d4e26b730e94928 getnonfreefonts-sys.1 ...         [ok]
Fixing File Permissions ...                                              [done]

This is exactly what I want to achieve.  Thanks again.

 > This way, you also protect yourself from bugs in the future
 > versions of luatex :-)

There will be no bugs in future versions of luatex.  I obviously know
Taco better than you.  :)

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From root at mail.boekplan.nl  Wed Jan 20 16:25:24 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed, 20 Jan 2010 16:25:24 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100120152524.BFEA34004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3366 | taco | 2010-01-20 15:49:31 +0100 (Wed, 20 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/image.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.h
   M /trunk/source/texk/web2c/luatexdir/lua/lepdflib.cc
   M /trunk/source/texk/web2c/luatexdir/lua/limglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luagen.c
   M /trunk/source/texk/web2c/luatexdir/lua/luatex-api.h
   M /trunk/source/texk/web2c/luatexdir/lua/texluac.c
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h

clean up directory and quoting styles in #include lines

------------------------------------------------------------------------

From root at mail.boekplan.nl  Wed Jan 20 22:25:10 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed, 20 Jan 2010 22:25:10 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100120212510.70FF24004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3367 | hhenkel | 2010-01-20 20:51:00 +0100 (Wed, 20 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/luafont.c
   M /trunk/source/texk/web2c/luatexdir/lang/texlang.c
   M /trunk/source/texk/web2c/luatexdir/lua/lcallbacklib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lfontlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/limglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/liolib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lkpselib.c
   M /trunk/source/texk/web2c/luatexdir/lua/llanglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/llualib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lnodelib.c
   M /trunk/source/texk/web2c/luatexdir/lua/loslibext.c
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltexiolib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltexlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltokenlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luainit.c
   M /trunk/source/texk/web2c/luatexdir/lua/luanode.c
   M /trunk/source/texk/web2c/luatexdir/lua/luastuff.c
   M /trunk/source/texk/web2c/luatexdir/lua/luatex.c
   M /trunk/source/texk/web2c/luatexdir/lua/luatoken.c
   M /trunk/source/texk/web2c/luatexdir/tex/align.c
   M /trunk/source/texk/web2c/luatexdir/tex/arithmetic.c
   M /trunk/source/texk/web2c/luatexdir/tex/buildpage.c
   M /trunk/source/texk/web2c/luatexdir/tex/commands.c
   M /trunk/source/texk/web2c/luatexdir/tex/conditional.c
   M /trunk/source/texk/web2c/luatexdir/tex/dumpdata.c
   M /trunk/source/texk/web2c/luatexdir/tex/equivalents.c
   M /trunk/source/texk/web2c/luatexdir/tex/expand.c
   M /trunk/source/texk/web2c/luatexdir/tex/extensions.c
   M /trunk/source/texk/web2c/luatexdir/tex/filename.c
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.c
   M /trunk/source/texk/web2c/luatexdir/tex/linebreak.c
   M /trunk/source/texk/web2c/luatexdir/tex/mainbody.c
   M /trunk/source/texk/web2c/luatexdir/tex/maincontrol.c
   M /trunk/source/texk/web2c/luatexdir/tex/mathcodes.c
   M /trunk/source/texk/web2c/luatexdir/tex/memoryword.c
   M /trunk/source/texk/web2c/luatexdir/tex/mlist.c
   M /trunk/source/texk/web2c/luatexdir/tex/nesting.c
   M /trunk/source/texk/web2c/luatexdir/tex/packaging.c
   M /trunk/source/texk/web2c/luatexdir/tex/postlinebreak.c
   M /trunk/source/texk/web2c/luatexdir/tex/primitive.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c
   M /trunk/source/texk/web2c/luatexdir/tex/scanning.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c
   M /trunk/source/texk/web2c/luatexdir/tex/texdeffont.c
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.c
   M /trunk/source/texk/web2c/luatexdir/tex/texmath.c
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.c
   M /trunk/source/texk/web2c/luatexdir/tex/textcodes.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c
   M /trunk/source/texk/web2c/luatexdir/utils/managed-sa.c

replace <ptexlib.h> by "ptexlib.h"

------------------------------------------------------------------------

From root at mail.boekplan.nl  Thu Jan 21 16:22:41 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu, 21 Jan 2010 16:22:41 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100121152525.2980A4004E@mail.boekplan.nl>

svn: OPTIONS of 'http://foundry.supelec.fr/svn/luatex': Could not resolve hostname `foundry.supelec.fr': Temporary failure in name resolution (http://foundry.supelec.fr)

From root at mail.boekplan.nl  Fri Jan 22 16:25:15 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Fri, 22 Jan 2010 16:25:15 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100122152515.C043B4004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3368 | taco | 2010-01-22 12:38:27 +0100 (Fri, 22 Jan 2010) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.pdf
   M /trunk/manual/luatexref-t.tex

reorder chapter 4 sections alphabetically

------------------------------------------------------------------------

From root at mail.boekplan.nl  Sat Jan 23 12:25:58 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sat, 23 Jan 2010 12:25:58 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100123112558.53EDA4004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3369 | taco | 2010-01-23 12:12:36 +0100 (Sat, 23 Jan 2010) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.tex
   M /trunk/source/texk/web2c/luatexdir/lua/ltexlib.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/tex/mainbody.c
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.c
   A /trunk/source/texk/web2c/luatexdir/utils/synctex-common.h
   A /trunk/source/texk/web2c/luatexdir/utils/synctex-luatex.h
   M /trunk/source/texk/web2c/luatexdir/utils/synctex.c
   M /trunk/source/texk/web2c/luatexdir/utils/synctex.h

integrate synctex update from TL

------------------------------------------------------------------------
r3370 | taco | 2010-01-23 12:13:59 +0100 (Sat, 23 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/utils/synctex-luatex.h

$Id $ -> $Id$

------------------------------------------------------------------------

From root at mail.boekplan.nl  Sat Jan 23 22:25:14 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sat, 23 Jan 2010 22:25:14 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100123212514.A8E974004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3371 | taco | 2010-01-23 16:34:18 +0100 (Sat, 23 Jan 2010) | 4 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/tex/mainbody.h
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.h
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c

Get rid of some compiler warnings (first of many such commits, I fear)
The goal is to get a compilation without any warnings for:
gcc -Wall -Wextra -Wpointer-arith -Wcast-qual -Wcast-align -Wwrite-strings -Wconversion -Wdeclaration-after-statement

------------------------------------------------------------------------
r3372 | oneiros | 2010-01-23 16:59:05 +0100 (Sat, 23 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/ltexiolib.c
   M /trunk/source/texk/web2c/luatexdir/tex/mainbody.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.h

add some consts where needed

------------------------------------------------------------------------
r3373 | oneiros | 2010-01-23 17:01:12 +0100 (Sat, 23 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.h

const

------------------------------------------------------------------------
r3374 | oneiros | 2010-01-23 17:09:59 +0100 (Sat, 23 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/utils/synctex-luatex.h

const

------------------------------------------------------------------------

From root at mail.boekplan.nl  Sun Jan 24 12:22:21 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sun, 24 Jan 2010 12:22:21 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100124112534.3D4684004D@mail.boekplan.nl>

svn: OPTIONS of 'http://foundry.supelec.fr/svn/luatex': Could not resolve hostname `foundry.supelec.fr': Temporary failure in name resolution (http://foundry.supelec.fr)

From root at mail.boekplan.nl  Sun Jan 24 16:22:21 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sun, 24 Jan 2010 16:22:21 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100124152502.5A8D64004D@mail.boekplan.nl>

svn: OPTIONS of 'http://foundry.supelec.fr/svn/luatex': Could not resolve hostname `foundry.supelec.fr': Temporary failure in name resolution (http://foundry.supelec.fr)

From taco at elvenkind.com  Sun Jan 24 16:37:24 2010
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 24 Jan 2010 16:37:24 +0100
Subject: [Dev-luatex] Cron
	<luatex@boekplan>	/var/www/luatex.org/www/bin/luatex-svn
In-Reply-To: <20100124152502.5A8D64004D@mail.boekplan.nl>
References: <20100124152502.5A8D64004D@mail.boekplan.nl>
Message-ID: <4B5C6934.4060501@elvenkind.com>

Cron Daemon wrote:
> svn: OPTIONS of 'http://foundry.supelec.fr/svn/luatex': Could not resolve hostname `foundry.supelec.fr': Temporary failure in name resolution (http://foundry.supelec.fr)

I've turned this cron job off until my coworker and me can figure out
what is wrong with our dns routing.

Best wishes,
Taco

From root at mail.boekplan.nl  Mon Jan 25 12:25:45 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 25 Jan 2010 12:25:45 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100125112545.C4A814004D@mail.boekplan.nl>

------------------------------------------------------------------------
r3375 | taco | 2010-01-24 16:42:57 +0100 (Sun, 24 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/mathcodes.c
   M /trunk/source/texk/web2c/luatexdir/tex/texmath.c
   M /trunk/source/texk/web2c/luatexdir/tex/textcodes.c
   M /trunk/source/texk/web2c/luatexdir/utils/avlstuff.c
   M /trunk/source/texk/web2c/luatexdir/utils/managed-sa.c
   M /trunk/source/texk/web2c/luatexdir/utils/managed-sa.h

more compiler warning fixes (managed-sa.c, avlstuff.c)

------------------------------------------------------------------------

From root at mail.boekplan.nl  Mon Jan 25 22:25:28 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 25 Jan 2010 22:25:28 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100125212528.5FC194004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3376 | taco | 2010-01-25 17:50:23 +0100 (Mon, 25 Jan 2010) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lcallbacklib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luanode.c
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/luatexdir/tex/errors.c
   M /trunk/source/texk/web2c/luatexdir/tex/errors.h
   M /trunk/source/texk/web2c/luatexdir/tex/filename.c
   M /trunk/source/texk/web2c/luatexdir/tex/filename.h
   M /trunk/source/texk/web2c/luatexdir/tex/primitive.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.h
   M /trunk/source/texk/web2c/luatexdir/tex/scanning.c
   M /trunk/source/texk/web2c/luatexdir/tex/scanning.h
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.h
   M /trunk/source/texk/web2c/luatexdir/tex/texdeffont.c
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.c
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.h
   M /trunk/source/texk/web2c/luatexdir/tex/texmath.c
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.c
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.h
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.h

more warning-related changes: primitive.c printing.c scanning.c stringpool.c 
texdeffont.c texfileio.c texmath.c texnodes.c textoken.c

------------------------------------------------------------------------
r3377 | oneiros | 2010-01-25 19:39:16 +0100 (Mon, 25 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/mlist.c

more const

------------------------------------------------------------------------
r3378 | hhenkel | 2010-01-25 21:46:26 +0100 (Mon, 25 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/mapfile.c
   M /trunk/source/texk/web2c/luatexdir/font/subfont.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.c
   M /trunk/source/texk/web2c/luatexdir/font/writecff.c
   M /trunk/source/texk/web2c/luatexdir/font/writet3.c
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/lua/limglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/llualib.c
   M /trunk/source/texk/web2c/luatexdir/ocp/readocp.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c
   M /trunk/source/texk/web2c/luatexdir/utils/managed-sa.c
   M /trunk/source/texk/web2c/luatexdir/utils/managed-sa.h

xfree() is a macro, also setting its argument to NULL

------------------------------------------------------------------------
r3379 | oneiros | 2010-01-25 22:08:44 +0100 (Mon, 25 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   M /trunk/source/texk/web2c/luatexdir/font/dofont.c
   M /trunk/source/texk/web2c/luatexdir/lang/texlang.c
   M /trunk/source/texk/web2c/luatexdir/lua/lnodelib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltexlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luatoken.c
   M /trunk/source/texk/web2c/luatexdir/ocp/ocp.c
   M /trunk/source/texk/web2c/luatexdir/ocp/ocplist.c
   M /trunk/source/texk/web2c/luatexdir/ocp/readocp.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/tex/align.c
   M /trunk/source/texk/web2c/luatexdir/tex/linebreak.c

more const

------------------------------------------------------------------------
r3380 | oneiros | 2010-01-25 22:09:49 +0100 (Mon, 25 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/dofont.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltexlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luatoken.c
   M /trunk/source/texk/web2c/luatexdir/ocp/ocplist.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/tex/align.c
   M /trunk/source/texk/web2c/luatexdir/tex/linebreak.c

indent

------------------------------------------------------------------------

From root at mail.boekplan.nl  Tue Jan 26 12:25:47 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue, 26 Jan 2010 12:25:47 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100126112547.AC1274004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3381 | hhenkel | 2010-01-26 00:05:20 +0100 (Tue, 26 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h

ooops, dxfree() was wrong

------------------------------------------------------------------------
r3382 | hhenkel | 2010-01-26 00:11:30 +0100 (Tue, 26 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h

free(NULL) is ok.

------------------------------------------------------------------------
r3383 | hhenkel | 2010-01-26 00:43:28 +0100 (Tue, 26 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/writet3.c

rm obsolete .pgc

------------------------------------------------------------------------
r3384 | taco | 2010-01-26 05:57:18 +0100 (Tue, 26 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/utils/synctex.c

fix warnings in synctex.c

------------------------------------------------------------------------
r3385 | taco | 2010-01-26 06:45:55 +0100 (Tue, 26 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/mapfile.c
   M /trunk/source/texk/web2c/luatexdir/font/mapfile.h
   M /trunk/source/texk/web2c/luatexdir/lua/lcallbacklib.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/luatexdir/tex/align.c
   M /trunk/source/texk/web2c/luatexdir/tex/arithmetic.c
   M /trunk/source/texk/web2c/luatexdir/tex/arithmetic.h
   M /trunk/source/texk/web2c/luatexdir/tex/conditional.c
   M /trunk/source/texk/web2c/luatexdir/tex/directions.c
   M /trunk/source/texk/web2c/luatexdir/tex/directions.h
   M /trunk/source/texk/web2c/luatexdir/tex/dumpdata.c
   M /trunk/source/texk/web2c/luatexdir/tex/equivalents.c
   M /trunk/source/texk/web2c/luatexdir/tex/equivalents.h
   M /trunk/source/texk/web2c/luatexdir/tex/errors.c
   M /trunk/source/texk/web2c/luatexdir/tex/errors.h
   M /trunk/source/texk/web2c/luatexdir/tex/expand.c
   M /trunk/source/texk/web2c/luatexdir/tex/extensions.c
   M /trunk/source/texk/web2c/luatexdir/tex/filename.c
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.c
   M /trunk/source/texk/web2c/luatexdir/tex/mainbody.c
   M /trunk/source/texk/web2c/luatexdir/tex/mainbody.h
   M /trunk/source/texk/web2c/luatexdir/tex/maincontrol.c
   M /trunk/source/texk/web2c/luatexdir/tex/mathcodes.c
   M /trunk/source/texk/web2c/luatexdir/tex/mlist.c
   M /trunk/source/texk/web2c/luatexdir/tex/nesting.c
   M /trunk/source/texk/web2c/luatexdir/tex/packaging.c
   M /trunk/source/texk/web2c/luatexdir/tex/primitive.c
   M /trunk/source/texk/web2c/luatexdir/tex/primitive.h
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.h
   M /trunk/source/texk/web2c/luatexdir/tex/scanning.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.h
   M /trunk/source/texk/web2c/luatexdir/tex/texdeffont.c
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.c
   M /trunk/source/texk/web2c/luatexdir/tex/texmath.c
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.c
   M /trunk/source/texk/web2c/luatexdir/tex/textcodes.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c

More warning fixes. This completes the work in luatexdir/tex

------------------------------------------------------------------------
r3386 | taco | 2010-01-26 07:41:37 +0100 (Tue, 26 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfcolorstack.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfglyph.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfliteral.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsaverestore.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsetmatrix.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c

here are the warning changes for luatexdir/pdf/*.c

------------------------------------------------------------------------
r3387 | taco | 2010-01-26 09:27:46 +0100 (Tue, 26 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/ocp/ocp.c
   M /trunk/source/texk/web2c/luatexdir/ocp/ocplist.c
   M /trunk/source/texk/web2c/luatexdir/ocp/runocp.c

fix warning messages in luatexdir/ocp

------------------------------------------------------------------------
r3388 | taco | 2010-01-26 11:59:04 +0100 (Tue, 26 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/luatexfont.h
   M /trunk/source/texk/web2c/luatexdir/font/texfont.h
   M /trunk/source/texk/web2c/luatexdir/font/tfmofm.c
   M /trunk/source/texk/web2c/luatexdir/font/vfovf.c
   M /trunk/source/texk/web2c/luatexdir/font/writefont.c
   M /trunk/source/texk/web2c/luatexdir/font/writet1.c
   M /trunk/source/texk/web2c/luatexdir/image/image.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.h
   M /trunk/source/texk/web2c/luatexdir/lang/texlang.c
   M /trunk/source/texk/web2c/luatexdir/lang/texlang.h
   M /trunk/source/texk/web2c/luatexdir/lua/lcallbacklib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lfontlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/limglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lkpselib.c
   M /trunk/source/texk/web2c/luatexdir/lua/llanglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/llualib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lnodelib.c
   M /trunk/source/texk/web2c/luatexdir/lua/loslibext.c
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltexiolib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltexlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltokenlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luainit.c
   M /trunk/source/texk/web2c/luatexdir/lua/luanode.c
   M /trunk/source/texk/web2c/luatexdir/lua/luastuff.c
   M /trunk/source/texk/web2c/luatexdir/lua/luatex-api.h
   M /trunk/source/texk/web2c/luatexdir/lua/luatoken.c
   M /trunk/source/texk/web2c/luatexdir/luatex.c
   M /trunk/source/texk/web2c/luatexdir/luatex.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/luatexdir/tex/arithmetic.h
   M /trunk/source/texk/web2c/luatexdir/tex/dumpdata.c
   M /trunk/source/texk/web2c/luatexdir/tex/dumpdata.h
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.h
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.c
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.h

warnings from luatexdir/lua + indent

------------------------------------------------------------------------
r3389 | taco | 2010-01-26 12:08:31 +0100 (Tue, 26 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/liolib.c

Warnings for liolib.c (missed in previous commit)

------------------------------------------------------------------------
r3390 | taco | 2010-01-26 12:10:26 +0100 (Tue, 26 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/texluac.c

warnings for texluac.c

------------------------------------------------------------------------
r3391 | taco | 2010-01-26 12:16:56 +0100 (Tue, 26 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/texluac.c

revert texluac change (worked on 32bit only)

------------------------------------------------------------------------

From root at mail.boekplan.nl  Tue Jan 26 16:25:26 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue, 26 Jan 2010 16:25:26 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100126152526.2F1964004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3392 | taco | 2010-01-26 14:20:48 +0100 (Tue, 26 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/loslibext.c

remove system-specific typecas

------------------------------------------------------------------------
r3393 | taco | 2010-01-26 14:57:41 +0100 (Tue, 26 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/loslibext.c

cast to unsigned should work everywhere

------------------------------------------------------------------------
r3394 | taco | 2010-01-26 15:20:46 +0100 (Tue, 26 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lang/hyphen.c
   M /trunk/source/texk/web2c/luatexdir/lang/texlang.c
   M /trunk/source/texk/web2c/luatexdir/lang/texlang.h

warnings for texlang.c and hyphen.c

------------------------------------------------------------------------

From root at mail.boekplan.nl  Wed Jan 27 16:25:12 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed, 27 Jan 2010 16:25:12 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100127152512.F22F84004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3395 | taco | 2010-01-27 12:40:08 +0100 (Wed, 27 Jan 2010) | 10 lines
Changed paths:
   M /trunk/source/texk/kpathsea/lib.h
   M /trunk/source/texk/web2c/cpascal.h
   M /trunk/source/texk/web2c/luatexdir/font/texfont.c
   M /trunk/source/texk/web2c/luatexdir/font/writecff.c
   M /trunk/source/texk/web2c/luatexdir/font/writefont.c
   M /trunk/source/texk/web2c/luatexdir/font/writettf.c
   M /trunk/source/texk/web2c/luatexdir/font/writetype2.c
   M /trunk/source/texk/web2c/luatexdir/lang/hyphen.c
   M /trunk/source/texk/web2c/luatexdir/lang/texlang.c
   M /trunk/source/texk/web2c/luatexdir/lua/lcallbacklib.c
   M /trunk/source/texk/web2c/luatexdir/lua/limglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lkpselib.c
   M /trunk/source/texk/web2c/luatexdir/lua/llanglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/llualib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lnodelib.c
   M /trunk/source/texk/web2c/luatexdir/lua/loslibext.c
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltexlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltokenlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luainit.c
   M /trunk/source/texk/web2c/luatexdir/lua/luastuff.c
   M /trunk/source/texk/web2c/luatexdir/lua/luatex-api.h
   M /trunk/source/texk/web2c/luatexdir/lua/luatoken.c
   M /trunk/source/texk/web2c/luatexdir/luatex.c
   M /trunk/source/texk/web2c/luatexdir/ocp/ocp.c
   M /trunk/source/texk/web2c/luatexdir/ocp/readocp.c
   M /trunk/source/texk/web2c/luatexdir/ocp/runocp.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfrule.c
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/luatexdir/tex/filename.c
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.c
   M /trunk/source/texk/web2c/luatexdir/tex/primitive.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.h
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.c
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.h
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c
   M /trunk/source/texk/web2c/luatexdir/utils/synctex.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c

* more compiler warning fixes for the lang...utils subdirectories
  (based on amd64 recompile)
* move externs in C files to ptexlib.h/&lua/luatex-api.h for now
  (for most, this is not the final place yet)
* move typedef const_lstring to stringpool.h
  (used in pdfobj.c)
* typecast patch for kpathsea/lib.h and cpascal.h 
  (probably temporary, PEB is likely to change xmalloc's prototype)


------------------------------------------------------------------------
r3396 | taco | 2010-01-27 13:59:56 +0100 (Wed, 27 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writejbig2.c
   M /trunk/source/texk/web2c/luatexdir/image/writejpg.c
   M /trunk/source/texk/web2c/luatexdir/image/writepng.c
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h

fix compiler warnings for the C files in luatexdir/image

------------------------------------------------------------------------
r3397 | oneiros | 2010-01-27 14:24:32 +0100 (Wed, 27 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/writetype2.c

add missing include

------------------------------------------------------------------------
r3398 | oneiros | 2010-01-27 14:27:13 +0100 (Wed, 27 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/writecff.c
   M /trunk/source/texk/web2c/luatexdir/font/writefont.c

missing includes

------------------------------------------------------------------------
r3399 | taco | 2010-01-27 16:01:58 +0100 (Wed, 27 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lang/hyphen.c

#3394 accidentally dropped a parentheses group that in hnj_get_state()

------------------------------------------------------------------------

From root at mail.boekplan.nl  Wed Jan 27 22:25:12 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed, 27 Jan 2010 22:25:12 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100127212512.E64574004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3400 | taco | 2010-01-27 17:10:42 +0100 (Wed, 27 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/luatexfont.h
   M /trunk/source/texk/web2c/luatexdir/font/macnames.c
   M /trunk/source/texk/web2c/luatexdir/font/subfont.txt
   M /trunk/source/texk/web2c/luatexdir/font/writecff.c
   M /trunk/source/texk/web2c/luatexdir/font/writecff.h
   M /trunk/source/texk/web2c/luatexdir/font/writefont.c
   M /trunk/source/texk/web2c/luatexdir/font/writet1.c
   M /trunk/source/texk/web2c/luatexdir/font/writet3.c
   M /trunk/source/texk/web2c/luatexdir/font/writettf.c
   M /trunk/source/texk/web2c/luatexdir/font/writettf.h
   M /trunk/source/texk/web2c/luatexdir/font/writetype0.c
   M /trunk/source/texk/web2c/luatexdir/font/writetype2.c
   M /trunk/source/texk/web2c/luatexdir/lang/hyphen.c
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h

removed the compiler warnings for luatexdir/font/writeXXX.c

------------------------------------------------------------------------
r3401 | taco | 2010-01-27 17:38:01 +0100 (Wed, 27 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/dofont.c
   M /trunk/source/texk/web2c/luatexdir/font/luafont.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.h
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.h

remove compiler warnings in font/luafont.c

------------------------------------------------------------------------
r3402 | hhenkel | 2010-01-27 21:31:39 +0100 (Wed, 27 Jan 2010) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/writecff.c
   M /trunk/source/texk/web2c/luatexdir/tex/primitive.c

replace xcalloc() with following explicit initialization by xmalloc(),
faster

------------------------------------------------------------------------

From root at mail.boekplan.nl  Thu Jan 28 12:25:47 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu, 28 Jan 2010 12:25:47 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100128112547.2C1494004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3403 | hhenkel | 2010-01-27 23:33:01 +0100 (Wed, 27 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/texfont.c

remove "discard qualifier" warning here

------------------------------------------------------------------------

From root at mail.boekplan.nl  Thu Jan 28 16:25:13 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu, 28 Jan 2010 16:25:13 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100128152513.6BEE84004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3404 | taco | 2010-01-28 12:17:10 +0100 (Thu, 28 Jan 2010) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.h
   M /trunk/source/texk/web2c/luatexdir/font/dofont.c
   M /trunk/source/texk/web2c/luatexdir/font/luafont.c
   M /trunk/source/texk/web2c/luatexdir/font/mapfile.c
   M /trunk/source/texk/web2c/luatexdir/font/mapfile.h
   M /trunk/source/texk/web2c/luatexdir/font/pkin.c
   M /trunk/source/texk/web2c/luatexdir/font/sfnt.c
   M /trunk/source/texk/web2c/luatexdir/font/sfnt.h
   M /trunk/source/texk/web2c/luatexdir/font/subfont.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.h
   M /trunk/source/texk/web2c/luatexdir/font/tfmofm.c
   M /trunk/source/texk/web2c/luatexdir/font/tounicode.c
   M /trunk/source/texk/web2c/luatexdir/font/tt_glyf.c
   M /trunk/source/texk/web2c/luatexdir/font/tt_table.c
   M /trunk/source/texk/web2c/luatexdir/font/vfovf.c
   M /trunk/source/texk/web2c/luatexdir/font/vfpacket.c
   M /trunk/source/texk/web2c/luatexdir/font/writecff.c
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writejbig2.c
   M /trunk/source/texk/web2c/luatexdir/image/writejpg.c
   M /trunk/source/texk/web2c/luatexdir/image/writepng.c
   M /trunk/source/texk/web2c/luatexdir/lang/hyphen.c
   M /trunk/source/texk/web2c/luatexdir/lang/texlang.c
   M /trunk/source/texk/web2c/luatexdir/lua/lcallbacklib.c
   M /trunk/source/texk/web2c/luatexdir/lua/limglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/liolib.c
   M /trunk/source/texk/web2c/luatexdir/lua/llualib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lnodelib.c
   M /trunk/source/texk/web2c/luatexdir/lua/loslibext.c
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltexlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltokenlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luainit.c
   M /trunk/source/texk/web2c/luatexdir/lua/luastuff.c
   M /trunk/source/texk/web2c/luatexdir/lua/luatex-api.h
   M /trunk/source/texk/web2c/luatexdir/lua/luatoken.c
   M /trunk/source/texk/web2c/luatexdir/ocp/ocp.c
   M /trunk/source/texk/web2c/luatexdir/ocp/readocp.c
   M /trunk/source/texk/web2c/luatexdir/ocp/runocp.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfrule.c
   M /trunk/source/texk/web2c/luatexdir/tex/arithmetic.h
   M /trunk/source/texk/web2c/luatexdir/tex/filename.c
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.c
   M /trunk/source/texk/web2c/luatexdir/tex/mainbody.c
   M /trunk/source/texk/web2c/luatexdir/tex/primitive.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.c
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c
   M /trunk/source/texk/web2c/luatexdir/utils/avl.c
   M /trunk/source/texk/web2c/luatexdir/utils/avlstuff.c
   M /trunk/source/texk/web2c/luatexdir/utils/managed-sa.c
   M /trunk/source/texk/web2c/luatexdir/utils/synctex-common.h
   M /trunk/source/texk/web2c/luatexdir/utils/synctex-luatex.h
   M /trunk/source/texk/web2c/luatexdir/utils/synctex.c
   M /trunk/source/texk/web2c/luatexdir/utils/synctex.h
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c

the last of the compiler warning fixes for the luatexdir subdirectories
(only dvi/font/image/lang/lua/ocp/pdf/tex/utils), and indent

------------------------------------------------------------------------

From root at mail.boekplan.nl  Thu Jan 28 22:25:15 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu, 28 Jan 2010 22:25:15 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100128212515.B09184004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3405 | taco | 2010-01-28 17:18:53 +0100 (Thu, 28 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/aclocal.m4
   M /trunk/source/texk/web2c/configure
   M /trunk/source/texk/web2c/luatexdir/am/luamisc.am
   A /trunk/source/texk/web2c/luatexdir/luamd5/luamd5.h (from /trunk/source/texk/web2c/luatexdir/luamd5/md5.h:3403)
   M /trunk/source/texk/web2c/luatexdir/luamd5/md5.c
   M /trunk/source/texk/web2c/luatexdir/luamd5/md5lib.c
   M /trunk/source/texk/web2c/web2c/aclocal.m4
   M /trunk/source/texk/web2c/web2c/configure

rename luamd5/md5.h to luamd5/luamd5.h to avoid confusion

------------------------------------------------------------------------
r3406 | taco | 2010-01-28 17:23:01 +0100 (Thu, 28 Jan 2010) | 2 lines
Changed paths:
   D /trunk/source/texk/web2c/luatexdir/luamd5/md5.h

get rid of this file

------------------------------------------------------------------------
r3407 | taco | 2010-01-28 17:27:39 +0100 (Thu, 28 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/lang/hnjalloc.c
   M /trunk/source/texk/web2c/luatexdir/lang/hyphen.c
   M /trunk/source/texk/web2c/luatexdir/lua/loslibext.c
   M /trunk/source/texk/web2c/luatexdir/lua/texluac.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/utils/synctex.c

Various small fixes suggested by Javier M?\195?\186gica

------------------------------------------------------------------------
r3408 | taco | 2010-01-28 18:04:58 +0100 (Thu, 28 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writepng.c
   M /trunk/source/texk/web2c/luatexdir/lang/hyphen.c
   M /trunk/source/texk/web2c/luatexdir/lua/loslibext.c
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luagen.c
   M /trunk/source/texk/web2c/luatexdir/lua/luainit.c
   M /trunk/source/texk/web2c/luatexdir/ocp/ocplist.c
   M /trunk/source/texk/web2c/luatexdir/ocp/runocp.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pagetree.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfrule.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/tex/arithmetic.c

suppress some extra warnings noted by cl /L4

------------------------------------------------------------------------

From root at mail.boekplan.nl  Fri Jan 29 12:25:50 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Fri, 29 Jan 2010 12:25:50 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100129112550.D2A314004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3409 | hhenkel | 2010-01-28 22:38:51 +0100 (Thu, 28 Jan 2010) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.c

! End of file on the terminal... why?
on new line as with tex and pdftex

------------------------------------------------------------------------
r3410 | taco | 2010-01-29 08:28:31 +0100 (Fri, 29 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/writetype2.c
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c

some more warnings reported by Javier

------------------------------------------------------------------------
r3411 | taco | 2010-01-29 09:59:18 +0100 (Fri, 29 Jan 2010) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/mplibdir/lmplib.c
   M /trunk/source/texk/web2c/mplibdir/memio.w
   M /trunk/source/texk/web2c/mplibdir/mp.w
   M /trunk/source/texk/web2c/mplibdir/mpost.w
   M /trunk/source/texk/web2c/mplibdir/mpxout.w
   M /trunk/source/texk/web2c/mplibdir/psout.w
   M /trunk/source/texk/web2c/mplibdir/svgout.w
   M /trunk/source/texk/web2c/mplibdir/tfmin.w

import the latest metapost 1.2 branch

------------------------------------------------------------------------

From P.Jackowski at gust.org.pl  Sat Jan 30 09:10:29 2010
From: P.Jackowski at gust.org.pl (=?ISO-8859-2?Q?Pawe=B3_Jackowski?=)
Date: Sat, 30 Jan 2010 09:10:29 +0100
Subject: [Dev-luatex] randomseed under various platforms
Message-ID: <4B63E975.1010506@gust.org.pl>

Folks,

there is a weird thing in windows version of luatex (details here:
http://tracker.luatex.org/view.php?id=323), not observed in normal lua
binary. The following program gives always the same sequence of random
numbers, no matter what seed is used. Not observed on linux. Could
one check how it behaves on mac or bsd?


local rand = math.random
local seed = math.randomseed

--seed(1)
--seed(14)
--seed(1414)
--seed(141421)
seed(314159)

co = coroutine.wrap(function()
     -- If you call seed here, everything is fine
     -- If you run this loop with no coroutine, everything is fine
     for i=1, 10 do print(rand()) end
end)
co()


Thanks, Pawe?
-- 
Pawe/l Jackowski
P.Jackowski at gust.org.pl


From root at mail.boekplan.nl  Sun Jan 31 22:25:15 2010
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sun, 31 Jan 2010 22:25:15 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20100131212515.89A2A4004E@mail.boekplan.nl>

------------------------------------------------------------------------
r3412 | taco | 2010-01-31 17:51:15 +0100 (Sun, 31 Jan 2010) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.pdf
   M /trunk/manual/luatexref-t.tex

fix display of whatsit node subtypes

------------------------------------------------------------------------

From bogus@does.not.exist.com  Sun Jan 24 08:35:15 2010
From: bogus@does.not.exist.com ()
Date: Sun, 24 Jan 2010 07:35:15 -0000
Subject: No subject
Message-ID: <mailman.0.1265622128.26803.dev-luatex@ntg.nl>

TL or just luaTeX) should not be required to have either Noweb or Doxygen,
as they are not required to have Autoconf, Automake, Flex, or Bison.

The situation is, of course, quite different for developers/maintainers,
i.e., for everyone modifying the ultimate source files.

Regards
Peter Breitenlohner <peb at mppmu.mpg.de>

From bogus@does.not.exist.com  Sun Jan 24 08:35:15 2010
From: bogus@does.not.exist.com ()
Date: Sun, 24 Jan 2010 07:35:15 -0000
Subject: No subject
Message-ID: <mailman.1.1267533278.26803.dev-luatex@ntg.nl>

MessageBox for a minimal GUI functionality. I just introduced a few
wrappers that run without a console (for gui programs), so there is no
place to output error messages. I worked around this with an ugly hack
but a proper solution would be nicer.

>> Perhaps external modules? What's the status of
>> loading binary modules? Will this be available for the coming TL
>> release?
>
> Yes, but I expect there will not be any binary modules actually
> included.

That might easily change once the machinery is in place ;)
Adding/updating a module if definitely less troublesome and easier to
experiment with than updating the whole luatex stack (which in
practice we can't do in TL in between the releases).

>> And another request if I may. With kpsewhich it is possible to specify
>> a search path explicitly with the -path switch, but this functionality
>> is not exposed through lua kpse lib. Could this be added?
>
> Sure. If there is anything else from kpathsea people want, please
> say so.

There are a few other kpsewhich options not covered thus far:
1) -all                   output all matches, one per line.
2) -engine=STRING         set engine name to STRING.
3) [-no]-mktex=FMT        disable/enable mktexFMT generation
(FMT=pk/mf/tex/tfm).
4) -subdir=STRING         only output matches whose directory ends with STRING.

(1) and (4) could be occasionally useful (although the latter one can
be trivially implemented in terms of the former one in Lua). For the
remaining ones I have no opinion, I've never encountered the need for
them myself. Perhaps also kpse.version should be added for version
checking?

Cheers,

Tomek

From bogus@does.not.exist.com  Sun Jan 24 08:35:15 2010
From: bogus@does.not.exist.com ()
Date: Sun, 24 Jan 2010 07:35:15 -0000
Subject: No subject
Message-ID: <mailman.4.1268735534.26803.dev-luatex@ntg.nl>

e is:

  trunk\source\texk\web2c\luatexdir\lua\loslibext.c

which have defines:

  OS_PLATTYPE =3D> os.type
  OS_PLATNAME =3D> os.name

All I need to know is what symbol to test to distinguish between
windows and cygwin and how cygwin should identify itself (os.type =3D
'unix', os.name =3D 'cygwin'?). Note that os.type only gives the three
basic types: 'msdos', 'windows' and 'unix', it is os.name that
diffrentiates further. Note also that this is a compile time decision,
i.e. the same binary will always identify itself in the same way
(similarly with os.uname). I'm not sure if this is what you want,
though.

Cheers,

Tomek

