From root at mail.boekplan.nl  Sun May  1 16:32:07 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sun,  1 May 2011 16:32:07 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110501143207.DD7644005E@mail.boekplan.nl>

svn: PROPFIND of '/svn/luatex': could not connect to server (http://foundry.supelec.fr)

From root at mail.boekplan.nl  Sun May  1 22:27:14 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sun,  1 May 2011 22:27:14 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110501202714.A8E914005E@mail.boekplan.nl>

------------------------------------------------------------------------
r4236 | hhenkel | 2011-05-01 20:56:18 +0200 (Sun, 01 May 2011) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/writefont.w

Thanks for bug report 619 & fix r4235. There was more: snprintf() was
also missing the format string.

------------------------------------------------------------------------
r4237 | hhenkel | 2011-05-01 21:22:38 +0200 (Sun, 01 May 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writepng.w

yet once again writepng.w; add forgotten check for gAMA chunk

------------------------------------------------------------------------
r4238 | hhenkel | 2011-05-01 22:01:13 +0200 (Sun, 01 May 2011) | 3 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/image/writepng.w

apply copy_png changes from trunk (up to r4237), move PNG image processing
from read_png() to write_png() (see trunk r4220).

------------------------------------------------------------------------

From root at mail.boekplan.nl  Mon May  2 12:27:52 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon,  2 May 2011 12:27:52 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110502102752.383504005E@mail.boekplan.nl>

------------------------------------------------------------------------
r4239 | hhenkel | 2011-05-01 22:44:01 +0200 (Sun, 01 May 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writepng.w

just found that there is also png_get_gAMA_fixed()

------------------------------------------------------------------------
r4240 | hhenkel | 2011-05-01 22:52:01 +0200 (Sun, 01 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/image/writepng.w

apply trunk patch r4239

------------------------------------------------------------------------
r4241 | hhenkel | 2011-05-01 23:36:08 +0200 (Sun, 01 May 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w

rm empty line in ObjStm mode

------------------------------------------------------------------------

From root at mail.boekplan.nl  Tue May  3 12:28:00 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue,  3 May 2011 12:28:00 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110503102800.5499D40056@mail.boekplan.nl>

------------------------------------------------------------------------
r4242 | hhenkel | 2011-05-03 00:34:15 +0200 (Tue, 03 May 2011) | 4 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w

fix a problem reported by Adam Reviczky on ntg-context at ntg.nl, Subject:
[NTG-context] simpleslides + combinepages != qpdf: Fix by adding spaces 
to the ends of objects within an ObjStm.

------------------------------------------------------------------------

From root at mail.boekplan.nl  Wed May  4 16:27:05 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed,  4 May 2011 16:27:05 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110504142705.C9D0D40056@mail.boekplan.nl>

------------------------------------------------------------------------
r4243 | oneiros | 2011-05-04 13:16:22 +0200 (Wed, 04 May 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writejp2.w

rm unused variable

------------------------------------------------------------------------

From root at mail.boekplan.nl  Thu May  5 12:27:41 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu,  5 May 2011 12:27:41 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110505102741.F031340056@mail.boekplan.nl>

------------------------------------------------------------------------
r4244 | taco | 2011-05-05 11:31:30 +0200 (Thu, 05 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/lua/luainit.w
   M /branches/0.70.x/source/texk/web2c/luatexdir/utils/utils.w

remove superfluous test for asprintf

------------------------------------------------------------------------
r4245 | taco | 2011-05-05 11:37:22 +0200 (Thu, 05 May 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/luainit.w
   M /trunk/source/texk/web2c/luatexdir/utils/utils.w

cf. 4244

------------------------------------------------------------------------

From root at mail.boekplan.nl  Thu May  5 16:27:12 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu,  5 May 2011 16:27:12 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110505142712.E975140056@mail.boekplan.nl>

------------------------------------------------------------------------
r4246 | taco | 2011-05-05 13:30:25 +0200 (Thu, 05 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/manual/functionref.pdf
   M /branches/0.70.x/manual/functionref.tex
   M /branches/0.70.x/manual/luatexref-t.pdf
   M /branches/0.70.x/manual/luatexref-t.tex
   M /branches/0.70.x/source/texk/web2c/luatexdir/luatex.c

bump the version numbers 

------------------------------------------------------------------------
r4247 | taco | 2011-05-05 13:31:30 +0200 (Thu, 05 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/mplibdir/ChangeLog
   M /branches/0.70.x/source/texk/web2c/mplibdir/mp.w

latest mp changes from PEB

------------------------------------------------------------------------
r4248 | taco | 2011-05-05 15:56:58 +0200 (Thu, 05 May 2011) | 3 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/luatex.c

remove SOCK_NONBLOCK definition because it can be defined in newer GNU C library headers
(from PEB's patch for texmfmp.c)

------------------------------------------------------------------------

From root at mail.boekplan.nl  Thu May  5 22:27:45 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu,  5 May 2011 22:27:45 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110505202745.B723D40056@mail.boekplan.nl>

------------------------------------------------------------------------
r4249 | taco | 2011-05-05 16:45:22 +0200 (Thu, 05 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/NEWS

update NEWS (0.70.0 tomorrow)

------------------------------------------------------------------------

From taco at elvenkind.com  Fri May  6 11:44:50 2011
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 06 May 2011 11:44:50 +0200
Subject: [Dev-luatex] Luatex 0.70.0 announcement
Message-ID: <4DC3C312.3070007@elvenkind.com>

Hi,

I have just uploaded the archives for a new luatex release, 0.70.0.

This release will be the one on TeXLive 2011 (barring show-stopping
bugs). Compared to 0.66, there is not a lot of news, just a few
bug-fixes.

News:


* fixed: various changes needed for libpng 1.5.2.

* fixed: node.fields() for nodes without subtype.

* fixed: non-argument use of os.execute().

* fixed: tex.[s|t|]print() with invalid catcode table arguments.

* fixed: recorder filename location with --output-directory.

* fixed: display alignment in TRT mode.

* luatex now uses the standard synctex files from J?rome Laurens.


The archives can be downloaded from supelec as usual:

         http://foundry.supelec.fr/gf/project/luatex/

You could also check out the sources via anonymous svn:

   svn co http://foundry.supelec.fr/svn/luatex/tags/beta-0.70.0

Bugs and feature requests can be added to the issue tracker at

        http://tracker.luatex.org

Have fun,
Taco




From root at mail.boekplan.nl  Fri May  6 12:28:50 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Fri,  6 May 2011 12:28:50 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110506102850.4167440056@mail.boekplan.nl>

------------------------------------------------------------------------
r4250 | taco | 2011-05-06 10:16:44 +0200 (Fri, 06 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/NEWS

forgot to mention synctex change

------------------------------------------------------------------------
r4251 | taco | 2011-05-06 10:23:17 +0200 (Fri, 06 May 2011) | 1 line
Changed paths:
   A /tags/beta-0.70.0 (from /branches/0.70.x:4250)


------------------------------------------------------------------------

From root at mail.boekplan.nl  Mon May  9 16:27:28 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon,  9 May 2011 16:27:28 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110509142728.BC7334005E@mail.boekplan.nl>

------------------------------------------------------------------------
r4252 | taco | 2011-05-09 13:07:07 +0200 (Mon, 09 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/lib/ChangeLog
   M /branches/0.70.x/source/texk/web2c/lib/openclose.c
   M /branches/0.70.x/source/texk/web2c/lib/printversion.c
   M /branches/0.70.x/source/texk/web2c/lib/texmfmp.c
   M /branches/0.70.x/source/texk/web2c/luatexdir/lua/luainit.w
   M /branches/0.70.x/source/texk/web2c/luatexdir/tex/texfileio.w

recorder file location fix from tl (Akira) and lib/ updates from tl

------------------------------------------------------------------------
r4253 | taco | 2011-05-09 13:13:00 +0200 (Mon, 09 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/dvi/dvigen.w
   M /branches/0.70.x/source/texk/web2c/luatexdir/pdf/pdfgen.w

fix missing newline on 'No output' line

------------------------------------------------------------------------
r4254 | taco | 2011-05-09 13:21:10 +0200 (Mon, 09 May 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/lib/ChangeLog
   M /trunk/source/texk/web2c/lib/openclose.c
   M /trunk/source/texk/web2c/lib/printversion.c
   M /trunk/source/texk/web2c/lib/texmfmp.c
   M /trunk/source/texk/web2c/luatexdir/NEWS
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.w
   M /trunk/source/texk/web2c/luatexdir/lua/luainit.w
   M /trunk/source/texk/web2c/luatexdir/luatex.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.w
   M /trunk/source/texk/web2c/mplibdir/ChangeLog
   M /trunk/source/texk/web2c/mplibdir/mp.w

svn merge -r 4246:4253 ../branches/0.70.x/

------------------------------------------------------------------------
r4255 | taco | 2011-05-09 13:48:02 +0200 (Mon, 09 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/tex/texfileio.h
   M /branches/0.70.x/source/texk/web2c/luatexdir/tex/texfileio.w
   M /branches/0.70.x/source/texk/web2c/synctexdir/synctex-luatex.h

attempt to fix #534

------------------------------------------------------------------------
r4256 | taco | 2011-05-09 15:15:39 +0200 (Mon, 09 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/tex/texfileio.w

i-am-an-idiot (thanks, Philipp)

------------------------------------------------------------------------
r4257 | taco | 2011-05-09 15:16:47 +0200 (Mon, 09 May 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.h
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.w
   M /trunk/source/texk/web2c/synctexdir/synctex-luatex.h

fix relative paths in generated synctex files

------------------------------------------------------------------------

From root at mail.boekplan.nl  Wed May 11 12:28:10 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed, 11 May 2011 12:28:10 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110511102810.B858A40056@mail.boekplan.nl>

------------------------------------------------------------------------
r4258 | taco | 2011-05-11 07:36:13 +0200 (Wed, 11 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/image/writepng.w

fix for 16bit png images in pdf 1.4 (by Hartmut)

------------------------------------------------------------------------

From root at mail.boekplan.nl  Fri May 13 12:28:17 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Fri, 13 May 2011 12:28:17 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110513102817.335ED40056@mail.boekplan.nl>

------------------------------------------------------------------------
r4259 | hhenkel | 2011-05-12 22:46:59 +0200 (Thu, 12 May 2011) | 3 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/image/writepng.w
   M /trunk/source/texk/web2c/luatexdir/image/writepng.w

take over tex-live r22436 from PEB into branches/0.70.x and trunk:
Build fix for (installed) libpng < 1.5.0

------------------------------------------------------------------------
r4260 | taco | 2011-05-13 09:03:44 +0200 (Fri, 13 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/lua/luainit.w

fix year in --version output

------------------------------------------------------------------------
r4261 | oneiros | 2011-05-13 09:34:09 +0200 (Fri, 13 May 2011) | 3 lines
Changed paths:
   M /trunk

Initialized merge tracking via "svnmerge" with revisions "1-4259" from 
http://foundry.supelec.fr/svn/luatex/branches/0.70.x

------------------------------------------------------------------------
r4262 | oneiros | 2011-05-13 09:35:36 +0200 (Fri, 13 May 2011) | 9 lines
Changed paths:
   M /trunk
   M /trunk/source/texk/web2c/luatexdir/lua/luainit.w

Merged revisions 4260-4261 via svnmerge from 
http://foundry.supelec.fr/svn/luatex/branches/0.70.x

........
  r4260 | taco | 2011-05-13 09:03:44 +0200 (Fr, 13 Mai 2011) | 2 lines
  
  fix year in --version output
........

------------------------------------------------------------------------
r4263 | oneiros | 2011-05-13 09:38:59 +0200 (Fri, 13 May 2011) | 2 lines
Changed paths:
   M /trunk

rm merge-tracking of vanished branches

------------------------------------------------------------------------
r4264 | taco | 2011-05-13 09:57:24 +0200 (Fri, 13 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/synctexdir/synctex-luatex.h

luatex's synctex field size is 1, not 2.

------------------------------------------------------------------------
r4265 | oneiros | 2011-05-13 10:00:33 +0200 (Fri, 13 May 2011) | 9 lines
Changed paths:
   M /trunk
   M /trunk/source/texk/web2c/synctexdir/synctex-luatex.h

Merged revisions 4262-4264 via svnmerge from 
http://foundry.supelec.fr/svn/luatex/branches/0.70.x

........
  r4264 | taco | 2011-05-13 09:57:24 +0200 (Fr, 13 Mai 2011) | 2 lines
  
  luatex's synctex field size is 1, not 2.
........

------------------------------------------------------------------------
r4266 | taco | 2011-05-13 10:06:46 +0200 (Fri, 13 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/ChangeLog

fresh changelog from texlive

------------------------------------------------------------------------

From root at mail.boekplan.nl  Sun May 15 12:29:10 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sun, 15 May 2011 12:29:10 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110515102911.08EE34006E@mail.boekplan.nl>

------------------------------------------------------------------------
r4267 | taco | 2011-05-15 11:19:58 +0200 (Sun, 15 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/tex/texfileio.w

work around a problem with |getcwd| in glibc

------------------------------------------------------------------------
r4268 | taco | 2011-05-15 11:22:57 +0200 (Sun, 15 May 2011) | 2 lines
Changed paths:
   M /trunk
   M /trunk/source/texk/web2c/luatexdir/ChangeLog
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.w

svnmerge

------------------------------------------------------------------------

From root at mail.boekplan.nl  Mon May 16 12:27:55 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 16 May 2011 12:27:55 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110516102755.E972940070@mail.boekplan.nl>

------------------------------------------------------------------------
r4269 | taco | 2011-05-16 08:08:10 +0200 (Mon, 16 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/font/writefont.w

0.70.x version of the patch to bug 654

------------------------------------------------------------------------
r4270 | taco | 2011-05-16 08:08:30 +0200 (Mon, 16 May 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/writefont.w

patch from bug 654

------------------------------------------------------------------------

From root at mail.boekplan.nl  Mon May 16 22:27:10 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 16 May 2011 22:27:10 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110516202710.3861040076@mail.boekplan.nl>

------------------------------------------------------------------------
r4271 | taco | 2011-05-16 16:40:06 +0200 (Mon, 16 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/image/writeimg.w

fix a crash on non-existent images

------------------------------------------------------------------------

From root at mail.boekplan.nl  Tue May 17 22:27:18 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue, 17 May 2011 22:27:18 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110517202718.3FD0040196@mail.boekplan.nl>

------------------------------------------------------------------------
r4272 | taco | 2011-05-17 16:10:30 +0200 (Tue, 17 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/tex/texfileio.w

switch to xgetcwd() from kpathsea, much easier that way

------------------------------------------------------------------------

From root at mail.boekplan.nl  Wed May 18 12:27:57 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed, 18 May 2011 12:27:57 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110518102757.5BA1E40199@mail.boekplan.nl>

------------------------------------------------------------------------
r4273 | taco | 2011-05-18 11:40:42 +0200 (Wed, 18 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/ChangeLog
   M /branches/0.70.x/source/texk/web2c/luatexdir/luatex.c

ipc fix from tl, and a new ChangeLog

------------------------------------------------------------------------

From root at mail.boekplan.nl  Wed May 18 16:27:14 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed, 18 May 2011 16:27:14 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110518142714.428E840199@mail.boekplan.nl>

------------------------------------------------------------------------
r4274 | taco | 2011-05-18 13:23:45 +0200 (Wed, 18 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/kpathsea/doc/kpathsea.info
   M /branches/0.70.x/source/texk/web2c/luatexdir/lua/ltexlib.c

fix bug 659

------------------------------------------------------------------------

From root at mail.boekplan.nl  Wed May 18 22:27:14 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed, 18 May 2011 22:27:14 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110518202715.05841401AE@mail.boekplan.nl>

------------------------------------------------------------------------
r4275 | taco | 2011-05-18 19:08:37 +0200 (Wed, 18 May 2011) | 25 lines
Changed paths:
   M /trunk
   M /trunk/source/texk/kpathsea/doc/kpathsea.info
   M /trunk/source/texk/web2c/luatexdir/ChangeLog
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.w
   M /trunk/source/texk/web2c/luatexdir/lua/ltexlib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.c
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.w

Merged revisions 4269,4271-4274 via svnmerge from 
http://foundry.supelec.fr/svn/luatex/branches/0.70.x

........
  r4269 | taco | 2011-05-16 08:08:10 +0200 (Mon, 16 May 2011) | 2 lines
  
  0.70.x version of the patch to bug 654
........
  r4271 | taco | 2011-05-16 16:40:06 +0200 (Mon, 16 May 2011) | 2 lines
  
  fix a crash on non-existent images
........
  r4272 | taco | 2011-05-17 16:10:30 +0200 (Tue, 17 May 2011) | 2 lines
  
  switch to xgetcwd() from kpathsea, much easier that way
........
  r4273 | taco | 2011-05-18 11:40:42 +0200 (Wed, 18 May 2011) | 2 lines
  
  ipc fix from tl, and a new ChangeLog
........
  r4274 | taco | 2011-05-18 13:23:45 +0200 (Wed, 18 May 2011) | 2 lines
  
  fix bug 659
........

------------------------------------------------------------------------

From taco at elvenkind.com  Thu May 19 07:56:04 2011
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 19 May 2011 07:56:04 +0200
Subject: [Dev-luatex] Luatex 0.70.1 announcement
Message-ID: <4DD4B0F4.5060003@elvenkind.com>

Hi,

I have just uploaded the archives for a new luatex release, 0.70.1.

About a dozen or so bugfixes that were mostly discovered while
working on TeXLive 2011.

News:

* fixed: recorder file location from TL.

* fixed: missing newline on 'No output' line.

* fixed: relative names in synctex file.

* fixed: 16bit png images in generated %!PDF-1.4.

* fixed: building with (installed) libpng < 1.5.0

* fixed: year in --version output.

* fixed: box output to synctex.

* fixed: FontDescriptor for non-embedded OpenType fonts has an
  invalid FontFile3 entry (#654)

* fixed: crash on non-existent images.

* fixed: small memory leak in the ipc code.

* fixed: tex.print() and tex.sprint() don't recognize -2 as the
  first argument (#659)


The archives can be downloaded from supelec as usual:

        http://foundry.supelec.fr/gf/project/luatex/

You could also check out the sources via anonymous svn:

  svn co http://foundry.supelec.fr/svn/luatex/tags/beta-0.70.1

Bugs and feature requests can be added to the issue tracker at

       http://tracker.luatex.org

Have fun,
Taco




From preining at logic.at  Thu May 19 10:48:31 2011
From: preining at logic.at (Norbert Preining)
Date: Thu, 19 May 2011 17:48:31 +0900
Subject: [Dev-luatex] [luatex] Luatex 0.70.1 announcement
In-Reply-To: <4DD4B0F4.5060003@elvenkind.com>
References: <4DD4B0F4.5060003@elvenkind.com>
Message-ID: <20110519084831.GC30768@gamma.logic.tuwien.ac.at>

On Do, 19 Mai 2011, Taco Hoekwater wrote:
> The archives can be downloaded from supelec as usual:
> 
>         http://foundry.supelec.fr/gf/project/luatex/
> 
> You could also check out the sources via anonymous svn:

Seems to be lacking behind? Still 0.70.0 there, just FYI, I don't need
it now ;-)

Best wishes

Norbert
------------------------------------------------------------------------
Norbert Preining            preining@{jaist.ac.jp, logic.at, debian.org}
JAIST, Japan                                 TeX Live & Debian Developer
DSA: 0x09C5B094   fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
------------------------------------------------------------------------
GLENTAGGART (n.)
A particular kind of tartan hold-all, made exclusive under licence for
British Airways. When waiting to collect your luggage from an airport
conveyor belt, you will notice that on the next conveyor belt a
solitary bag is going round and round uncollected. This is a
glentaggart, which has been placed there by the baggage-handling staff
to take your mind off the fact that your own luggage will shortly be
landing in Murmansk.
			--- Douglas Adams, The Meaning of Liff

From mojca.miklavec.lists at gmail.com  Thu May 19 11:00:59 2011
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 19 May 2011 11:00:59 +0200
Subject: [Dev-luatex] [luatex] Luatex 0.70.1 announcement
In-Reply-To: <20110519084831.GC30768@gamma.logic.tuwien.ac.at>
References: <4DD4B0F4.5060003@elvenkind.com>
	<20110519084831.GC30768@gamma.logic.tuwien.ac.at>
Message-ID: <BANLkTinbaS0f1K6xcVAVAtaOogmc9eNMKA@mail.gmail.com>

On Thu, May 19, 2011 at 10:48, Norbert Preining <preining at logic.at> wrote:
> On Do, 19 Mai 2011, Taco Hoekwater wrote:
>> The archives can be downloaded from supelec as usual:
>>
>> ? ? ? ? http://foundry.supelec.fr/gf/project/luatex/
>>
>> You could also check out the sources via anonymous svn:
>
> Seems to be lacking behind? Still 0.70.0 there, just FYI, I don't need
> it now ;-)

The files may not be uploaded yet, but it is in repository:

http://foundry.supelec.fr/gf/project/luatex/scmsvn/?action=browse&path=%2Ftags%2Fbeta-0.70.1%2F

Mojca

From zappathustra at free.fr  Thu May 19 11:32:57 2011
From: zappathustra at free.fr (Paul Isambert)
Date: Thu, 19 May 2011 11:32:57 +0200
Subject: [Dev-luatex] Luatex 0.70.1 announcement
In-Reply-To: <4DD4B0F4.5060003@elvenkind.com>
References: <4DD4B0F4.5060003@elvenkind.com>
Message-ID: <4DD4E3C9.4070905@free.fr>

I don't know if it is relevant and/or normal and/or whatever, but LuaTeX 
built from the sources introduces itself (and has been introducing 
itself for some time now, I think) as "Version beta-0.71.0-2011051819" 
(i.e. 0.71.0 and not 0.70.1)...?

Best,
Paul

Le 19/05/2011 07:56, Taco Hoekwater a ?crit :
> Hi,
>
> I have just uploaded the archives for a new luatex release, 0.70.1.
>
> About a dozen or so bugfixes that were mostly discovered while
> working on TeXLive 2011.
>
> News:
>
> * fixed: recorder file location from TL.
>
> * fixed: missing newline on 'No output' line.
>
> * fixed: relative names in synctex file.
>
> * fixed: 16bit png images in generated %!PDF-1.4.
>
> * fixed: building with (installed) libpng<  1.5.0
>
> * fixed: year in --version output.
>
> * fixed: box output to synctex.
>
> * fixed: FontDescriptor for non-embedded OpenType fonts has an
>    invalid FontFile3 entry (#654)
>
> * fixed: crash on non-existent images.
>
> * fixed: small memory leak in the ipc code.
>
> * fixed: tex.print() and tex.sprint() don't recognize -2 as the
>    first argument (#659)
>
>
> The archives can be downloaded from supelec as usual:
>
>          http://foundry.supelec.fr/gf/project/luatex/
>
> You could also check out the sources via anonymous svn:
>
>    svn co http://foundry.supelec.fr/svn/luatex/tags/beta-0.70.1
>
> Bugs and feature requests can be added to the issue tracker at
>
>         http://tracker.luatex.org
>
> Have fun,
> Taco
>
>
>
> _______________________________________________
> dev-luatex mailing list
> dev-luatex at ntg.nl
> http://www.ntg.nl/mailman/listinfo/dev-luatex

From taco at elvenkind.com  Thu May 19 11:39:44 2011
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 19 May 2011 11:39:44 +0200
Subject: [Dev-luatex] Luatex 0.70.1 announcement
In-Reply-To: <4DD4E3C9.4070905@free.fr>
References: <4DD4B0F4.5060003@elvenkind.com> <4DD4E3C9.4070905@free.fr>
Message-ID: <4DD4E560.1050907@elvenkind.com>



On 05/19/11 11:32, Paul Isambert wrote:
> I don't know if it is relevant and/or normal and/or whatever, but LuaTeX
> built from the sources introduces itself (and has been introducing
> itself for some time now, I think) as "Version beta-0.71.0-2011051819"
> (i.e. 0.71.0 and not 0.70.1)...?

trunk is 0.71.0 (planned development), branches/0.70.x is 0.70.1


From root at mail.boekplan.nl  Thu May 19 12:28:29 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu, 19 May 2011 12:28:29 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110519102829.F003F401AE@mail.boekplan.nl>

------------------------------------------------------------------------
r4276 | taco | 2011-05-19 07:11:57 +0200 (Thu, 19 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/luatex.c

bump the version number

------------------------------------------------------------------------
r4277 | taco | 2011-05-19 07:21:59 +0200 (Thu, 19 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/source/texk/web2c/luatexdir/NEWS

new NEWS

------------------------------------------------------------------------
r4278 | taco | 2011-05-19 07:22:43 +0200 (Thu, 19 May 2011) | 2 lines
Changed paths:
   A /tags/beta-0.70.1 (from /branches/0.70.x:4277)

new tag

------------------------------------------------------------------------

From root at mail.boekplan.nl  Fri May 20 12:28:14 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Fri, 20 May 2011 12:28:14 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110520102814.4B3EB401C1@mail.boekplan.nl>

------------------------------------------------------------------------
r4279 | taco | 2011-05-20 08:27:27 +0200 (Fri, 20 May 2011) | 2 lines
Changed paths:
   M /tags/beta-0.70.1/manual/luatexref-t.pdf
   M /tags/beta-0.70.1/manual/luatexref-t.tex

update manual version to 0.70.1 (by request from luigi)

------------------------------------------------------------------------
r4280 | taco | 2011-05-20 08:28:18 +0200 (Fri, 20 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/manual/luatexref-t.pdf
   M /branches/0.70.x/manual/luatexref-t.tex

4278 from tags/beta-0.70.1

------------------------------------------------------------------------

From heiko.oberdiek at googlemail.com  Sat May 21 01:57:21 2011
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Sat, 21 May 2011 01:57:21 +0200
Subject: [Dev-luatex] \mathchardef with neg. values
Message-ID: <20110520235721.GA7982@oberdiek.my-fqdn.de>

Hello,

\catcode`\{=1
\catcode`\}=2
\def\msg{\immediate\write16 }

\mathchardef\foo=-1
\msg{[\the\foo] [\meaning\foo]}

\csname @@end\endcsname\end

Result with different values:

[-1] [\mathchar"000/]
[-2] [\mathchar"000.]
[-3] [\mathchar"000-]
[-16] [\mathchar"00/0]
[-256] [\mathchar"0/00]
...

Similar behaves \omathchardef.

The documentation says, the valid ranges are
\mathchardef: 0--"8000
\omathchardef: 0--"8000000

Thus it's probably a bug that negative values are
accepted.

Yours sincerely
  Heiko Oberdiek

From taco at elvenkind.com  Sat May 21 07:50:01 2011
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 21 May 2011 07:50:01 +0200
Subject: [Dev-luatex] \mathchardef with neg. values
In-Reply-To: <20110520235721.GA7982@oberdiek.my-fqdn.de>
References: <20110520235721.GA7982@oberdiek.my-fqdn.de>
Message-ID: <4DD75289.8060203@elvenkind.com>

On 05/21/2011 01:57 AM, Heiko Oberdiek wrote:
> Hello,
>
> \catcode`\{=1
> \catcode`\}=2
> \def\msg{\immediate\write16 }
>
> \mathchardef\foo=-1
> \msg{[\the\foo] [\meaning\foo]}
>
> \csname @@end\endcsname\end
>
> Result with different values:
>
> [-1] [\mathchar"000/]
> [-2] [\mathchar"000.]
> [-3] [\mathchar"000-]
> [-16] [\mathchar"00/0]
> [-256] [\mathchar"0/00]
> ...
>
> Similar behaves \omathchardef.
>
> The documentation says, the valid ranges are
> \mathchardef: 0--"8000
> \omathchardef: 0--"8000000
>
> Thus it's probably a bug that negative values are
> accepted.

Yes, agreed. It should do:

    ! Bad mathchar (-1).
    l.5 \mathchardef\foo=-1

I'll add a tracker.

Best wishes,
Taco



From root at mail.boekplan.nl  Mon May 23 12:28:44 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 23 May 2011 12:28:44 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110523102844.50FB740081@mail.boekplan.nl>

------------------------------------------------------------------------
r4281 | taco | 2011-05-23 08:02:12 +0200 (Mon, 23 May 2011) | 2 lines
Changed paths:
   M /branches/0.70.x/manual/luatexref-t.pdf
   M /branches/0.70.x/manual/luatexref-t.tex

Typo: eTeXVersion => eTeXversion  (thanks Heiko)

------------------------------------------------------------------------

From root at mail.boekplan.nl  Wed May 25 12:28:13 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed, 25 May 2011 12:28:13 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110525102813.B6A804017C@mail.boekplan.nl>

------------------------------------------------------------------------
r4282 | hhenkel | 2011-05-24 23:30:19 +0200 (Tue, 24 May 2011) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h

re-arrange pdf_begin_stream() and pdf_end_stream() a bit,
add pdf->stream_writing flag.

------------------------------------------------------------------------

From root at mail.boekplan.nl  Wed May 25 16:27:45 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed, 25 May 2011 16:27:45 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110525142745.6003340070@mail.boekplan.nl>

------------------------------------------------------------------------
r4283 | taco | 2011-05-25 13:55:05 +0200 (Wed, 25 May 2011) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.tex
   M /trunk/source/texk/web2c/luatexdir/lua/lcallbacklib.c
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.w

process_jobname callback patch from mpg

------------------------------------------------------------------------

From root at mail.boekplan.nl  Thu May 26 12:28:15 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu, 26 May 2011 12:28:15 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110526102815.6C37440070@mail.boekplan.nl>

------------------------------------------------------------------------
r4284 | taco | 2011-05-26 07:32:43 +0200 (Thu, 26 May 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.w

add a guard for job_name still being NULL in the process_jobname callback

------------------------------------------------------------------------

From root at mail.boekplan.nl  Thu May 26 22:27:48 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu, 26 May 2011 22:27:48 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110526202748.7CDA940070@mail.boekplan.nl>

------------------------------------------------------------------------
r4285 | oneiros | 2011-05-26 19:09:26 +0200 (Thu, 26 May 2011) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.w

fix "warning: pointer targets in assignment differ in signedness"
(string_pool is an unsigned char*)

------------------------------------------------------------------------

