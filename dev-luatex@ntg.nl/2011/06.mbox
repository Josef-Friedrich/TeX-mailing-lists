From root at mail.boekplan.nl  Mon Jun  6 12:28:14 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon,  6 Jun 2011 12:28:14 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110606102814.9F83E40227@mail.boekplan.nl>

------------------------------------------------------------------------
r4286 | hhenkel | 2011-06-06 00:02:07 +0200 (Mon, 06 Jun 2011) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.pdf
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.w
   M /trunk/source/texk/web2c/luatexdir/image/writepng.w
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h

more general PDF buffer structure

------------------------------------------------------------------------
r4287 | oneiros | 2011-06-06 00:38:10 +0200 (Mon, 06 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w

fix some warning about signedness and remove an unused parameter

------------------------------------------------------------------------

From root at mail.boekplan.nl  Tue Jun  7 12:28:26 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue,  7 Jun 2011 12:28:26 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110607102827.03A7040225@mail.boekplan.nl>

------------------------------------------------------------------------
r4288 | hhenkel | 2011-06-06 23:53:22 +0200 (Mon, 06 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h

cosmetics

------------------------------------------------------------------------
r4289 | oneiros | 2011-06-07 00:00:41 +0200 (Tue, 07 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writepng.w

fix some signedness warnings (size_t <-> int)

------------------------------------------------------------------------

From root at mail.boekplan.nl  Tue Jun  7 22:25:06 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue,  7 Jun 2011 22:25:06 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110607203005.3F99B40228@mail.boekplan.nl>

svn: Server sent unexpected return value (400 Bad Request) in response to PROPFIND request for '/svn/luatex/!svn/vcc/default'

From root at mail.boekplan.nl  Wed Jun  8 12:28:08 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed,  8 Jun 2011 12:28:08 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110608102809.1366D40225@mail.boekplan.nl>

------------------------------------------------------------------------
r4290 | hhenkel | 2011-06-07 22:43:57 +0200 (Tue, 07 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writepng.w

typecast moves (pas de deux)

------------------------------------------------------------------------
r4291 | hhenkel | 2011-06-07 23:06:12 +0200 (Tue, 07 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writepng.w

hope this helps against the signed/unsigned warnings (thanks Martin)

------------------------------------------------------------------------
r4292 | taco | 2011-06-08 11:53:39 +0200 (Wed, 08 Jun 2011) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.tex

manual correction from Paul

------------------------------------------------------------------------

From mauricio.antunes at gmail.com  Fri Jun 10 01:31:30 2011
From: mauricio.antunes at gmail.com (Mauricio CA)
Date: Thu, 9 Jun 2011 23:31:30 +0000 (UTC)
Subject: [Dev-luatex] Luatex and metafont
Message-ID: <isrl4i$spu$1@dough.gmane.org>

Hi,

Can I use metafont fonts with luatex?

Thanks,
Maur?cio



From reinhard.kotucha at web.de  Fri Jun 10 03:54:24 2011
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Fri, 10 Jun 2011 03:54:24 +0200
Subject: [Dev-luatex] Luatex and metafont
In-Reply-To: <isrl4i$spu$1@dough.gmane.org>
References: <isrl4i$spu$1@dough.gmane.org>
Message-ID: <19953.31056.164253.374587@zaphod.ms25.net>

On 2011-06-09 at 23:31:30 +0000, Mauricio CA wrote:

 > Can I use metafont fonts with luatex?

Why do you prefer bitmap fonts?

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From patrick at gundla.ch  Fri Jun 10 07:39:45 2011
From: patrick at gundla.ch (Patrick Gundlach)
Date: Fri, 10 Jun 2011 07:39:45 +0200
Subject: [Dev-luatex] Luatex and metafont
In-Reply-To: <isrl4i$spu$1@dough.gmane.org>
References: <isrl4i$spu$1@dough.gmane.org>
Message-ID: <71EF57C2-3C1B-43A4-87DC-64BDC4661561@gundla.ch>

Hi,

> Can I use metafont fonts with luatex?

Yes, just like in any other TeX:

------
\font\myfont=punk10
\myfont
hello punk

\bye
------

Patrick


From root at mail.boekplan.nl  Fri Jun 10 12:28:15 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Fri, 10 Jun 2011 12:28:15 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110610102815.D90B340227@mail.boekplan.nl>

------------------------------------------------------------------------
r4293 | taco | 2011-06-10 12:03:18 +0200 (Fri, 10 Jun 2011) | 2 lines
Changed paths:
   M /trunk/build.sh

new crosscompiler

------------------------------------------------------------------------

From patrick at gundla.ch  Fri Jun 10 13:29:34 2011
From: patrick at gundla.ch (Patrick Gundlach)
Date: Fri, 10 Jun 2011 13:29:34 +0200
Subject: [Dev-luatex] private info in PDF
Message-ID: <095944DC-F8FF-42E0-B6DE-3274A5FD655A@gundla.ch>

Hi,

when I include a PDF file, a field is inserted into the resulting PDF which includes the full path of the file name:

/PTEX.FileName (/some/secret/path/I'd/rather/not/reveal.pdf)

Is there a way to suppress this?

Patrick


From heiko.oberdiek at googlemail.com  Fri Jun 10 14:00:28 2011
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Fri, 10 Jun 2011 14:00:28 +0200
Subject: [Dev-luatex] private info in PDF
In-Reply-To: <095944DC-F8FF-42E0-B6DE-3274A5FD655A@gundla.ch>
References: <095944DC-F8FF-42E0-B6DE-3274A5FD655A@gundla.ch>
Message-ID: <20110610120028.GA11520@oberdiek.my-fqdn.de>

On Fri, Jun 10, 2011 at 01:29:34PM +0200, Patrick Gundlach wrote:

> when I include a PDF file, a field is inserted into the resulting PDF which includes the full path of the file name:
> 
> /PTEX.FileName (/some/secret/path/I'd/rather/not/reveal.pdf)
> 
> Is there a way to suppress this?

No, neither in pdfTeX nor in LuaTeX.

Yours sincerely
  Heiko Oberdiek

From luigi.scarso at gmail.com  Fri Jun 10 14:15:11 2011
From: luigi.scarso at gmail.com (luigi scarso)
Date: Fri, 10 Jun 2011 14:15:11 +0200
Subject: [Dev-luatex] private info in PDF
In-Reply-To: <20110610120028.GA11520@oberdiek.my-fqdn.de>
References: <095944DC-F8FF-42E0-B6DE-3274A5FD655A@gundla.ch>
	<20110610120028.GA11520@oberdiek.my-fqdn.de>
Message-ID: <BANLkTimPNPfNWvuwmyLWOwQ8TU+cgsiFBA@mail.gmail.com>

On Fri, Jun 10, 2011 at 2:00 PM, Heiko Oberdiek
<heiko.oberdiek at googlemail.com> wrote:
> On Fri, Jun 10, 2011 at 01:29:34PM +0200, Patrick Gundlach wrote:
>
>> when I include a PDF file, a field is inserted into the resulting PDF which includes the full path of the file name:
>>
>> /PTEX.FileName (/some/secret/path/I'd/rather/not/reveal.pdf)
>>
>> Is there a way to suppress this?
>
> No, neither in pdfTeX nor in LuaTeX.
perhaps  with qpdf  ?


-- 
luigi

From patrick at gundla.ch  Fri Jun 10 14:34:44 2011
From: patrick at gundla.ch (Patrick Gundlach)
Date: Fri, 10 Jun 2011 14:34:44 +0200
Subject: [Dev-luatex] private info in PDF
In-Reply-To: <BANLkTimPNPfNWvuwmyLWOwQ8TU+cgsiFBA@mail.gmail.com>
References: <095944DC-F8FF-42E0-B6DE-3274A5FD655A@gundla.ch>
	<20110610120028.GA11520@oberdiek.my-fqdn.de>
	<BANLkTimPNPfNWvuwmyLWOwQ8TU+cgsiFBA@mail.gmail.com>
Message-ID: <FB04501F-7D16-4875-AD46-ACAF496437C0@gundla.ch>


Am 10.06.2011 um 14:15 schrieb luigi scarso:

> On Fri, Jun 10, 2011 at 2:00 PM, Heiko Oberdiek
> <heiko.oberdiek at googlemail.com> wrote:
>> On Fri, Jun 10, 2011 at 01:29:34PM +0200, Patrick Gundlach wrote:
>> 
>>> when I include a PDF file, a field is inserted into the resulting PDF which includes the full path of the file name:
>>> 
>>> /PTEX.FileName (/some/secret/path/I'd/rather/not/reveal.pdf)
>>> 
>>> Is there a way to suppress this?
>> 
>> No, neither in pdfTeX nor in LuaTeX.
> perhaps  with qpdf  ?

Not an option for me. I'd rather file a tracker item :-)

Patrick


From pragma at wxs.nl  Fri Jun 10 15:01:30 2011
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 10 Jun 2011 15:01:30 +0200
Subject: [Dev-luatex] private info in PDF
In-Reply-To: <FB04501F-7D16-4875-AD46-ACAF496437C0@gundla.ch>
References: <095944DC-F8FF-42E0-B6DE-3274A5FD655A@gundla.ch>	<20110610120028.GA11520@oberdiek.my-fqdn.de>	<BANLkTimPNPfNWvuwmyLWOwQ8TU+cgsiFBA@mail.gmail.com>
	<FB04501F-7D16-4875-AD46-ACAF496437C0@gundla.ch>
Message-ID: <4DF215AA.3000101@wxs.nl>

On 10-6-2011 2:34, Patrick Gundlach wrote:
>
> Am 10.06.2011 um 14:15 schrieb luigi scarso:
>
>> On Fri, Jun 10, 2011 at 2:00 PM, Heiko Oberdiek
>> <heiko.oberdiek at googlemail.com>  wrote:
>>> On Fri, Jun 10, 2011 at 01:29:34PM +0200, Patrick Gundlach wrote:
>>>
>>>> when I include a PDF file, a field is inserted into the resulting PDF which includes the full path of the file name:
>>>>
>>>> /PTEX.FileName (/some/secret/path/I'd/rather/not/reveal.pdf)
>>>>
>>>> Is there a way to suppress this?
>>>
>>> No, neither in pdfTeX nor in LuaTeX.
>> perhaps  with qpdf  ?
>
> Not an option for me. I'd rather file a tracker item :-)

actually, the path is not there if you don't specify it ... so as a temp 
hack instead if specifying the path as part of the image name, you can 
add the image path to the texinputs variable

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | voip: 087 875 68 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Fri Jun 10 15:08:14 2011
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 10 Jun 2011 15:08:14 +0200
Subject: [Dev-luatex] Luatex and metafont
In-Reply-To: <isrl4i$spu$1@dough.gmane.org>
References: <isrl4i$spu$1@dough.gmane.org>
Message-ID: <4DF2173E.9050309@wxs.nl>

On 10-6-2011 1:31, Mauricio CA wrote:
> Hi,
>
> Can I use metafont fonts with luatex?

they are independent entities, so the answer is yes

if you mean: can I include bitmaps, the answer is yes too (because the 
backend supports bitmaps -> type 3)

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | voip: 087 875 68 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From luigi.scarso at gmail.com  Fri Jun 10 15:14:50 2011
From: luigi.scarso at gmail.com (luigi scarso)
Date: Fri, 10 Jun 2011 15:14:50 +0200
Subject: [Dev-luatex] Luatex and metafont
In-Reply-To: <4DF2173E.9050309@wxs.nl>
References: <isrl4i$spu$1@dough.gmane.org>
	<4DF2173E.9050309@wxs.nl>
Message-ID: <BANLkTikF+epX7BOYfAx-Hb_MnexGXQxaEA@mail.gmail.com>

On Fri, Jun 10, 2011 at 3:08 PM, Hans Hagen <pragma at wxs.nl> wrote:
> On 10-6-2011 1:31, Mauricio CA wrote:
>>
>> Hi,
>>
>> Can I use metafont fonts with luatex?
>
> they are independent entities, so the answer is yes
>
> if you mean: can I include bitmaps, the answer is yes too (because the
> backend supports bitmaps -> type 3)
>
> Hans
But please note that (from manual)
"type3 fonts are provided for backward compatibility only, and do not
support the new wide encoding
options."
-- 
luigi

From luigi.scarso at gmail.com  Fri Jun 10 16:09:51 2011
From: luigi.scarso at gmail.com (luigi scarso)
Date: Fri, 10 Jun 2011 16:09:51 +0200
Subject: [Dev-luatex] private info in PDF
In-Reply-To: <4DF215AA.3000101@wxs.nl>
References: <095944DC-F8FF-42E0-B6DE-3274A5FD655A@gundla.ch>
	<20110610120028.GA11520@oberdiek.my-fqdn.de>
	<BANLkTimPNPfNWvuwmyLWOwQ8TU+cgsiFBA@mail.gmail.com>
	<FB04501F-7D16-4875-AD46-ACAF496437C0@gundla.ch>
	<4DF215AA.3000101@wxs.nl>
Message-ID: <BANLkTikmD1oZEO7a3UJSwR=aL-H34423_g@mail.gmail.com>

On Fri, Jun 10, 2011 at 3:01 PM, Hans Hagen <pragma at wxs.nl> wrote:
> On 10-6-2011 2:34, Patrick Gundlach wrote:
>>
>> Am 10.06.2011 um 14:15 schrieb luigi scarso:
>>
>>> On Fri, Jun 10, 2011 at 2:00 PM, Heiko Oberdiek
>>> <heiko.oberdiek at googlemail.com> ?wrote:
>>>>
>>>> On Fri, Jun 10, 2011 at 01:29:34PM +0200, Patrick Gundlach wrote:
>>>>
>>>>> when I include a PDF file, a field is inserted into the resulting PDF
>>>>> which includes the full path of the file name:
>>>>>
>>>>> /PTEX.FileName (/some/secret/path/I'd/rather/not/reveal.pdf)
>>>>>
>>>>> Is there a way to suppress this?
>>>>
>>>> No, neither in pdfTeX nor in LuaTeX.
>>>
>>> perhaps ?with qpdf ??
>>
>> Not an option for me. I'd rather file a tracker item :-)
>
> actually, the path is not there if you don't specify it ... so as a temp
> hack instead if specifying the path as part of the image name, you can add
> the image path to the texinputs variable
>
> Hans
>
And this is a quick hack with qpdf
# qpdf  --qdf test.pdf test.qdf; perl -i -p -e 's{PTEX\.FileName
.+}{PTEX.FileName (--)}' test.qdf
# fix-qdf test.qdf >test-1.qdf
# qpdf --stream-data=compress  test-1.qdf test-1.pdf


-- 
luigi

From mauricio.antunes at gmail.com  Fri Jun 10 18:20:45 2011
From: mauricio.antunes at gmail.com (Mauricio CA)
Date: Fri, 10 Jun 2011 16:20:45 +0000 (UTC)
Subject: [Dev-luatex] Luatex and metafont
References: <isrl4i$spu$1@dough.gmane.org> <4DF2173E.9050309@wxs.nl>
	<BANLkTikF+epX7BOYfAx-Hb_MnexGXQxaEA@mail.gmail.com>
Message-ID: <istg8t$vpm$1@dough.gmane.org>

>>> Can I use metafont fonts with luatex?

>> they are independent entities, so the answer is yes

>> if you mean: can I include bitmaps, the answer is yes too (because
>> the backend supports bitmaps -> type 3)

> But please note that (from manual) "type3 fonts are provided for
> backward compatibility only, and do not support the new wide encoding
> options."

I've being learning metafont and I thought I could use luatex for
enconding conveniences, like input in utf-8. Does that sentence mean I
can't map utf-8 input to a metafont font?

Thanks,
Maur?cio


From pragma at wxs.nl  Fri Jun 10 18:42:11 2011
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 10 Jun 2011 18:42:11 +0200
Subject: [Dev-luatex] Luatex and metafont
In-Reply-To: <istg8t$vpm$1@dough.gmane.org>
References: <isrl4i$spu$1@dough.gmane.org>
	<4DF2173E.9050309@wxs.nl>	<BANLkTikF+epX7BOYfAx-Hb_MnexGXQxaEA@mail.gmail.com>
	<istg8t$vpm$1@dough.gmane.org>
Message-ID: <4DF24963.80302@wxs.nl>

On 10-6-2011 6:20, Mauricio CA wrote:
>>>> Can I use metafont fonts with luatex?
>
>>> they are independent entities, so the answer is yes
>
>>> if you mean: can I include bitmaps, the answer is yes too (because
>>> the backend supports bitmaps ->  type 3)
>
>> But please note that (from manual) "type3 fonts are provided for
>> backward compatibility only, and do not support the new wide encoding
>> options."
>
> I've being learning metafont and I thought I could use luatex for
> enconding conveniences, like input in utf-8. Does that sentence mean I
> can't map utf-8 input to a metafont font?

sure you can as you can make a virtual font out of the metafont

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | voip: 087 875 68 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From root at mail.boekplan.nl  Mon Jun 13 12:28:17 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 13 Jun 2011 12:28:17 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110613102817.79EC94023D@mail.boekplan.nl>

------------------------------------------------------------------------
r4294 | hhenkel | 2011-06-13 01:21:57 +0200 (Mon, 13 Jun 2011) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w

fix silly luatex bug 0000681: LuaTeX outputs a broken PDF
many thanks to Kazuki Maeda for the patch!

------------------------------------------------------------------------

From mauricio.antunes at gmail.com  Tue Jun 14 06:11:41 2011
From: mauricio.antunes at gmail.com (Mauricio CA)
Date: Tue, 14 Jun 2011 04:11:41 +0000 (UTC)
Subject: [Dev-luatex] Luatex and metafont
References: <isrl4i$spu$1@dough.gmane.org>
	<19953.31056.164253.374587@zaphod.ms25.net>
Message-ID: <it6n1s$6sb$1@dough.gmane.org>

>> Can I use metafont fonts with luatex?

> Why do you prefer bitmap fonts?

It's not because of the existing bitmap fonts. I like the idea of writing
my own font, and metafont seems like a pretty nice system to do that.

Best,
Maur?cio


From Peter_Dyballa at Freenet.DE  Tue Jun 14 01:03:07 2011
From: Peter_Dyballa at Freenet.DE (Peter Dyballa)
Date: Tue, 14 Jun 2011 01:03:07 +0200
Subject: [Dev-luatex] Luatools from TL '11 pretest don't work
Message-ID: <A39096A9-CFEA-4832-B79E-AD85F13B1AED@Freenet.DE>

Hello!

When I try to create the fonts base for LuaTeX from TL '11 pretest, as  
updated yesterday, I don't see any success:

	pete 249 /\ luatools --generate
	
	mtxrun          | unknown script 'base.lua' or 'mtx-base.lua'
	Exit 1

There is also no help available when I invoke luatools with --help or - 
help or -h or -?.

In /usr/local/texlive/2011/texmf.cnf I added to OSFONTDIR two fonts  
directories inside Adobe Reader.app (Mac OS X 10.5.8, Leopard, PPC).  
Despite this LuaLaTeX is not able to find these Adobe fonts (when I  
run lualatex without having generated the fonts base before). (LuaTeX  
is Version beta-0.70.1-2011052622 (rev 4277).)

I have /usr/local/texlive/2010/texmf-dist/scripts/context/lua/mtx- 
base.lua.

--
Greetings

   Pete

One person with a belief is a social power equal to ninety-nine who  
have only interests.
				? John Stuart Mill


From liyanrui.m2 at gmail.com  Tue Jun 14 08:15:46 2011
From: liyanrui.m2 at gmail.com (=?UTF-8?B?TGkgWWFucnVpICjmnY7lu7bnkZ4p?=)
Date: Tue, 14 Jun 2011 14:15:46 +0800
Subject: [Dev-luatex] Luatools from TL '11 pretest don't work
In-Reply-To: <A39096A9-CFEA-4832-B79E-AD85F13B1AED@Freenet.DE>
References: <A39096A9-CFEA-4832-B79E-AD85F13B1AED@Freenet.DE>
Message-ID: <BANLkTim1GZReZaCv16EW8O4cDY-526SZnA@mail.gmail.com>

2011/6/14 Peter Dyballa <Peter_Dyballa at freenet.de>:
> Hello!
>
> When I try to create the fonts base for LuaTeX from TL '11 pretest, as
> updated yesterday, I don't see any success:
>
> ? ? ? ?pete 249 /\ luatools --generate
>
> ? ? ? ?mtxrun ? ? ? ? ?| unknown script 'base.lua' or 'mtx-base.lua'
> ? ? ? ?Exit 1
>
> There is also no help available when I invoke luatools with --help or -help
> or -h or -?.
>
> In /usr/local/texlive/2011/texmf.cnf I added to OSFONTDIR two fonts
> directories inside Adobe Reader.app (Mac OS X 10.5.8, Leopard, PPC). Despite
> this LuaLaTeX is not able to find these Adobe fonts (when I run lualatex
> without having generated the fonts base before). (LuaTeX is Version
> beta-0.70.1-2011052622 (rev 4277).)
>
> I have /usr/local/texlive/2010/texmf-dist/scripts/context/lua/mtx-base.lua.
>

The same problem happens in context minimals. you can try to  excute
the command `luatools --generate` in
"/usr/local/texlive/2010/texmf-dist/scripts/context/lua/" directory.

-- 
Best regards,

Li Yanrui (???)

From taco at elvenkind.com  Tue Jun 14 08:30:08 2011
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 14 Jun 2011 08:30:08 +0200
Subject: [Dev-luatex] Luatools from TL '11 pretest don't work
In-Reply-To: <BANLkTim1GZReZaCv16EW8O4cDY-526SZnA@mail.gmail.com>
References: <A39096A9-CFEA-4832-B79E-AD85F13B1AED@Freenet.DE>
	<BANLkTim1GZReZaCv16EW8O4cDY-526SZnA@mail.gmail.com>
Message-ID: <4DF6FFF0.5060202@elvenkind.com>

On 06/14/2011 08:15 AM, Li Yanrui (???) wrote:
> 2011/6/14 Peter Dyballa<Peter_Dyballa at freenet.de>:
>> Hello!
>>
>> When I try to create the fonts base for LuaTeX from TL '11 pretest, as
>> updated yesterday, I don't see any success:
>>
>>         pete 249 /\ luatools --generate
>>
>>         mtxrun          | unknown script 'base.lua' or 'mtx-base.lua'
>>         Exit 1
>>
>> There is also no help available when I invoke luatools with --help or -help
>> or -h or -?.

1. luatools is a context command. Nothing you do with command that will
make lualatex work, for that you need 'mkluatexfontdb' (iirc).

2. If you installed context, the 2011 pretest installer should have run
mtxrun --generate automatically, and that would have prevented the above
'unknown script' message from every happening. Since it did not, can
you please explain what you installed *exactly* so I can try to reproduce?

> The same problem happens in context minimals. you can try to  excute

No, it is quite definitely not the *same* problem, but for you as well:
please run
   mtxrun --generate
by hand, and that should fix the problem.

Best wishes,
Taco

From liyanrui.m2 at gmail.com  Tue Jun 14 09:24:02 2011
From: liyanrui.m2 at gmail.com (=?UTF-8?B?TGkgWWFucnVpICjmnY7lu7bnkZ4p?=)
Date: Tue, 14 Jun 2011 15:24:02 +0800
Subject: [Dev-luatex] Luatools from TL '11 pretest don't work
In-Reply-To: <4DF6FFF0.5060202@elvenkind.com>
References: <A39096A9-CFEA-4832-B79E-AD85F13B1AED@Freenet.DE>
	<BANLkTim1GZReZaCv16EW8O4cDY-526SZnA@mail.gmail.com>
	<4DF6FFF0.5060202@elvenkind.com>
Message-ID: <BANLkTi=BcrE_DHp3daBsAwaLv=O5FC1mpQ@mail.gmail.com>

2011/6/14 Taco Hoekwater <taco at elvenkind.com>:
>> The same problem happens in context minimals. you can try to ?excute
>
> No, it is quite definitely not the *same* problem, but for you as well:
> please run
> ?mtxrun --generate
> by hand, and that should fix the problem.
>

indeed. thanks.

-- 
Best regards,

Li Yanrui (???)

From reinhard.kotucha at web.de  Tue Jun 14 17:41:20 2011
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Tue, 14 Jun 2011 17:41:20 +0200
Subject: [Dev-luatex] Luatex and metafont
In-Reply-To: <it6n1s$6sb$1@dough.gmane.org>
References: <isrl4i$spu$1@dough.gmane.org>
	<19953.31056.164253.374587@zaphod.ms25.net>
	<it6n1s$6sb$1@dough.gmane.org>
Message-ID: <19959.33056.667910.92161@zaphod.ms25.net>

On 2011-06-14 at 04:11:41 +0000, Mauricio CA wrote:

 > >> Can I use metafont fonts with luatex?
 > 
 > > Why do you prefer bitmap fonts?
 > 
 > It's not because of the existing bitmap fonts. I like the idea of
 > writing my own font, and metafont seems like a pretty nice system
 > to do that.

Ok.  Maybe this might be interesting in this context:

   http://en.wikipedia.org/wiki/METATYPE1

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From root at mail.boekplan.nl  Wed Jun 15 16:27:32 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed, 15 Jun 2011 16:27:32 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110615142732.8661A40252@mail.boekplan.nl>

------------------------------------------------------------------------
r4295 | hhenkel | 2011-06-15 14:56:13 +0200 (Wed, 15 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h

clean up ObjStm writing a bit

------------------------------------------------------------------------

From root at mail.boekplan.nl  Wed Jun 15 22:27:41 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed, 15 Jun 2011 22:27:41 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110615202741.B6FF040252@mail.boekplan.nl>

------------------------------------------------------------------------
r4296 | hhenkel | 2011-06-15 20:33:05 +0200 (Wed, 15 Jun 2011) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/writecff.w
   M /trunk/source/texk/web2c/luatexdir/font/writefont.w
   M /trunk/source/texk/web2c/luatexdir/font/writet1.w
   M /trunk/source/texk/web2c/luatexdir/font/writettf.w
   M /trunk/source/texk/web2c/luatexdir/font/writetype0.w
   M /trunk/source/texk/web2c/luatexdir/font/writetype2.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h

Former fb_array management functions fb_*() are now more general string 
buffer functions strbuf_*(), and fb_array is now handled also by these.

------------------------------------------------------------------------
r4297 | hhenkel | 2011-06-15 20:55:09 +0200 (Wed, 15 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w

some text

------------------------------------------------------------------------
r4298 | oneiros | 2011-06-15 21:04:54 +0200 (Wed, 15 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writepng.w

fix a warning: comparison between signed and unsigned integer expressions

------------------------------------------------------------------------
r4299 | oneiros | 2011-06-15 21:06:44 +0200 (Wed, 15 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.w

fix a warning: comparison between signed and unsigned integer expressions

------------------------------------------------------------------------
r4300 | oneiros | 2011-06-15 21:13:05 +0200 (Wed, 15 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w

fix some warnings about signedness and use off_t where appropriate

------------------------------------------------------------------------

From root at mail.boekplan.nl  Thu Jun 16 12:28:22 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Thu, 16 Jun 2011 12:28:22 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110616102822.952E140252@mail.boekplan.nl>

------------------------------------------------------------------------
r4301 | hhenkel | 2011-06-15 23:01:12 +0200 (Wed, 15 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w

write_nozip() for symmetry

------------------------------------------------------------------------

From root at mail.boekplan.nl  Fri Jun 17 22:27:44 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Fri, 17 Jun 2011 22:27:44 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110617202744.AACD340254@mail.boekplan.nl>

------------------------------------------------------------------------
r4302 | hhenkel | 2011-06-17 18:38:39 +0200 (Fri, 17 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.w
   M /trunk/source/texk/web2c/luatexdir/image/writepng.w
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfglyph.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h

some buffer streamlining

------------------------------------------------------------------------
r4303 | hhenkel | 2011-06-17 19:13:50 +0200 (Fri, 17 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w

corr. "<=" to "<"

------------------------------------------------------------------------
r4304 | hhenkel | 2011-06-17 20:01:43 +0200 (Fri, 17 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w

more stream buffer shuffling

------------------------------------------------------------------------

From root at mail.boekplan.nl  Sun Jun 19 22:27:24 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Sun, 19 Jun 2011 22:27:24 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110619202724.375594026B@mail.boekplan.nl>

------------------------------------------------------------------------
r4305 | hhenkel | 2011-06-19 21:28:38 +0200 (Sun, 19 Jun 2011) | 5 lines
Changed paths:
   M /trunk/manual/luatexref-t.pdf
   M /trunk/manual/luatexref-t.tex
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.w
   M /trunk/source/texk/web2c/luatexdir/image/writepng.w
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h

Now there are three buffers: PDFOUT_BUF, OBJSTM_BUF, LUASTM_BUF.
Raise sup_pdfout_buf_size, the PDFOUT_BUF buffer now also grows.
Lua stream buffer LUASTM_BUF cleanup, speed up pdf_room() a bit.
No user-visible change (hopefully; missing yet is the callback).

------------------------------------------------------------------------

From root at mail.boekplan.nl  Mon Jun 20 12:28:28 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 20 Jun 2011 12:28:28 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110620102829.01F894026D@mail.boekplan.nl>

------------------------------------------------------------------------
r4306 | hhenkel | 2011-06-19 22:58:10 +0200 (Sun, 19 Jun 2011) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h

move stream length calculation, direct LUASTM_BUF writing.
trying to fix a missing endstream...

------------------------------------------------------------------------
r4307 | hhenkel | 2011-06-19 23:14:09 +0200 (Sun, 19 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc
   M /trunk/source/texk/web2c/luatexdir/image/writejpg.w
   M /trunk/source/texk/web2c/luatexdir/image/writepng.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h

enum check

------------------------------------------------------------------------
r4308 | hhenkel | 2011-06-20 00:10:33 +0200 (Mon, 20 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w

fix stream length writing

------------------------------------------------------------------------

From root at mail.boekplan.nl  Mon Jun 20 22:27:52 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Mon, 20 Jun 2011 22:27:52 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110620202752.99F3640273@mail.boekplan.nl>

------------------------------------------------------------------------
r4309 | hhenkel | 2011-06-20 19:53:56 +0200 (Mon, 20 Jun 2011) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.h
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.w
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfglyph.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflink.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfluaapi.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfrule.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.w
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h

hange pdf_printf() to pdf_puts() or pdf_out() where possible.
Move PTEX macro. Move cur_page_size into PDF struct.

------------------------------------------------------------------------
r4310 | hhenkel | 2011-06-20 20:58:22 +0200 (Mon, 20 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h

temporary fix, as the growing gives a problem

------------------------------------------------------------------------

From root at mail.boekplan.nl  Tue Jun 21 12:28:11 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue, 21 Jun 2011 12:28:11 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110621102812.05B5040284@mail.boekplan.nl>

------------------------------------------------------------------------
r4311 | oneiros | 2011-06-21 01:36:21 +0200 (Tue, 21 Jun 2011) | 5 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfcolorstack.w

remove two old warnings;
../../../source/texk/web2c/luatexdir/pdf/pdfcolorstack.w:207:21: warning: operation on ?\226?\128?\152colstack->page_stack?\226?\128?\153 may be undefined
../../../source/texk/web2c/luatexdir/pdf/pdfcolorstack.w:222:21: warning: operation on ?\226?\128?\152colstack->form_stack?\226?\128?\153 may be undefined
xretalloc/XRETALLOC doesn't need an assignment, as it does it itself.

------------------------------------------------------------------------
r4312 | taco | 2011-06-21 10:50:48 +0200 (Tue, 21 Jun 2011) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.tex

fix a bad field name

------------------------------------------------------------------------

From root at mail.boekplan.nl  Tue Jun 21 22:27:50 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue, 21 Jun 2011 22:27:50 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110621202750.372D140284@mail.boekplan.nl>

------------------------------------------------------------------------
r4313 | hhenkel | 2011-06-21 20:31:19 +0200 (Tue, 21 Jun 2011) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/writet3.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.w

Cosmetics: Replace pdf_shipout_begin() and pdf_shipout_end() functions;
replace a few remaining pdf_print_real() calls by print_pdffloat().

------------------------------------------------------------------------

From root at mail.boekplan.nl  Wed Jun 22 12:28:07 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Wed, 22 Jun 2011 12:28:07 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110622102807.99DB140282@mail.boekplan.nl>

------------------------------------------------------------------------
r4314 | hhenkel | 2011-06-21 23:26:04 +0200 (Tue, 21 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.w

casts

------------------------------------------------------------------------

From patrick at gundla.ch  Thu Jun 23 11:35:14 2011
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu, 23 Jun 2011 11:35:14 +0200
Subject: [Dev-luatex] Hyphenation/lccode
Message-ID: <308193E6-AD0A-4BB3-8E17-DB51E217B421@gundla.ch>

Before I ask my second question, I ask a third:

I load German hyphenation patterns and want to hyphenate a word. Before that I use

for i in string.utfvalues("???????") do
  tex.lccode[i] = i
end

and then I hyphenate for example "Kr?nung", which gets (if I understand TeX) translated to lowercase characters (with lccode) and then gets hyphenated. Works fine.

Now I want to hyphenate the word "KR?NUNG" (the same word, only all upper case letters), and I wonder why that works. The lowercase equivalent would be "kr?nung" (according to the lccode setting above), and I wonder why this gets hyphenated. Just luck? Good weather? 

Patrick


From taco at elvenkind.com  Thu Jun 23 12:00:55 2011
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 23 Jun 2011 12:00:55 +0200
Subject: [Dev-luatex] Hyphenation/lccode
In-Reply-To: <308193E6-AD0A-4BB3-8E17-DB51E217B421@gundla.ch>
References: <308193E6-AD0A-4BB3-8E17-DB51E217B421@gundla.ch>
Message-ID: <4E030ED7.7050306@elvenkind.com>



On 06/23/11 11:35, Patrick Gundlach wrote:
> Before I ask my second question, I ask a third:
> 
> I load German hyphenation patterns and want to hyphenate a word. Before that I use
> 
> for i in string.utfvalues("???????") do
>   tex.lccode[i] = i
> end
> 
> and then I hyphenate for example "Kr?nung", which gets (if I understand TeX) translated to lowercase characters (with lccode) and then gets hyphenated. Works fine.
> 
> Now I want to hyphenate the word "KR?NUNG" (the same word, only all upper case letters), and I wonder why that works. The lowercase equivalent would be "kr?nung" (according to the lccode setting above), and I wonder why this gets hyphenated. Just luck? Good weather? 

Can you give an actual source file please?

From dak at gnu.org  Thu Jun 23 12:09:48 2011
From: dak at gnu.org (David Kastrup)
Date: Thu, 23 Jun 2011 12:09:48 +0200
Subject: [Dev-luatex] Hyphenation/lccode
In-Reply-To: <308193E6-AD0A-4BB3-8E17-DB51E217B421@gundla.ch> (Patrick
	Gundlach's message of "Thu, 23 Jun 2011 11:35:14 +0200")
References: <308193E6-AD0A-4BB3-8E17-DB51E217B421@gundla.ch>
Message-ID: <877h8cn9jn.fsf@fencepost.gnu.org>

Patrick Gundlach <patrick at gundla.ch> writes:

> Before I ask my second question, I ask a third:
>
> I load German hyphenation patterns and want to hyphenate a
> word. Before that I use
>
> for i in string.utfvalues("???????") do
>   tex.lccode[i] = i
> end
>
> and then I hyphenate for example "Kr?nung", which gets (if I
> understand TeX) translated to lowercase characters (with lccode) and
> then gets hyphenated. Works fine.
>
> Now I want to hyphenate the word "KR?NUNG" (the same word, only all
> upper case letters), and I wonder why that works. The lowercase
> equivalent would be "kr?nung" (according to the lccode setting above),
> and I wonder why this gets hyphenated. Just luck? Good weather?

The pattern 1nu would appear to fit since ? is not mentioned in the
hyphenation patterns, but is a word constituent nevertheless (its lccode
is nonzero).

-- 
David Kastrup

From patrick at gundla.ch  Thu Jun 23 12:20:58 2011
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu, 23 Jun 2011 12:20:58 +0200
Subject: [Dev-luatex] Hyphenation/lccode
In-Reply-To: <4E030ED7.7050306@elvenkind.com>
References: <308193E6-AD0A-4BB3-8E17-DB51E217B421@gundla.ch>
	<4E030ED7.7050306@elvenkind.com>
Message-ID: <91074182-DFAE-4B37-9A5E-82CE428F8683@gundla.ch>


Am 23.06.2011 um 12:00 schrieb Taco Hoekwater:

> 
> 
> On 06/23/11 11:35, Patrick Gundlach wrote:
>> Before I ask my second question, I ask a third:
>> 
>> I load German hyphenation patterns and want to hyphenate a word. Before that I use
>> 
>> for i in string.utfvalues("???????") do
>>  tex.lccode[i] = i
>> end
>> 
>> and then I hyphenate for example "Kr?nung", which gets (if I understand TeX) translated to lowercase characters (with lccode) and then gets hyphenated. Works fine.
>> 
>> Now I want to hyphenate the word "KR?NUNG" (the same word, only all upper case letters), and I wonder why that works. The lowercase equivalent would be "kr?nung" (according to the lccode setting above), and I wonder why this gets hyphenated. Just luck? Good weather? 
> 
> Can you give an actual source file please?


document.tex:
-----------------
\directlua{ dofile("hyph-de.lua")}

\language1
\showhyphens{Kr?nung}
\showhyphens{Kr?nung}

\bye
-----------------

hyph-de.lua:
-----------------
local l = lang.new()

l:patterns([==[
(big chunk of patterns from hyph-de-1996.pat.txt)
]==])

for i in string.utfvalues("???????") do
  tex.lccode[i] = i
end
-----------------

But David's mail explains it, as far as I can judge.


Patrick


From patrick at gundla.ch  Thu Jun 23 12:22:54 2011
From: patrick at gundla.ch (Patrick Gundlach)
Date: Thu, 23 Jun 2011 12:22:54 +0200
Subject: [Dev-luatex] Hyphenation/lccode
In-Reply-To: <877h8cn9jn.fsf@fencepost.gnu.org>
References: <308193E6-AD0A-4BB3-8E17-DB51E217B421@gundla.ch>
	<877h8cn9jn.fsf@fencepost.gnu.org>
Message-ID: <7257B871-D0F8-4B9C-9099-47DCE2FBDF03@gundla.ch>

Hi David,


> 
> The pattern 1nu would appear to fit since ? is not mentioned in the
> hyphenation patterns, but is a word constituent nevertheless (its lccode
> is nonzero).

Yes, that makes sense! Thank you very much.

Patrick


From root at mail.boekplan.nl  Tue Jun 28 12:28:19 2011
From: root at mail.boekplan.nl (Cron Daemon)
Date: Tue, 28 Jun 2011 12:28:19 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@boekplan>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20110628102819.E69A64029B@mail.boekplan.nl>

------------------------------------------------------------------------
r4315 | taco | 2011-06-28 10:54:07 +0200 (Tue, 28 Jun 2011) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/commands.h
   M /trunk/source/texk/web2c/luatexdir/tex/commands.w
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.w

implement \fontid (which is a convert command)

------------------------------------------------------------------------

