From jerome.laurens at u-bourgogne.fr  Wed May  4 08:11:03 2022
From: jerome.laurens at u-bourgogne.fr (=?utf-8?Q?J=C3=A9r=C3=B4me_LAURENS?=)
Date: Wed, 4 May 2022 08:11:03 +0200
Subject: [Dev-luatex] Feature request: busy pdf
In-Reply-To: <CAG5iGsDzMqcS95p071PdrFxNcddzgTHT+ghR-4=TVcmPNsPSyA@mail.gmail.com>
References: <334F8E76-00AC-4752-9371-8D726D6636FA@u-bourgogne.fr>
 <CAG5iGsBjpRyn+P0bD0kCfDkUOAwdTqxQZRD=oyR39qXfSXggAA@mail.gmail.com>
 <FCC782D2-4CE3-4EA1-98E5-D4CE40C85982@u-bourgogne.fr>
 <CAG5iGsCA574NZzG3=0jJNhoEFnm6QiV+wiGXj9JxJX3_b61tyA@mail.gmail.com>
 <B5C7D47F-FFA1-4842-89E0-F09971283E43@u-bourgogne.fr>
 <CAG5iGsDPmCJXrCh9S2yZDCp=Vw+oAniLsfwzAu1qFH+Ez88HHQ@mail.gmail.com>
 <EA9831EF-98B1-459A-9FAF-3D23575B7BC1@u-bourgogne.fr>
 <74D307DD-7B1F-4504-88FB-56517E04C071@u-bourgogne.fr>
 <CAG5iGsDzMqcS95p071PdrFxNcddzgTHT+ghR-4=TVcmPNsPSyA@mail.gmail.com>
Message-ID: <DBD180A7-086A-44D0-96E9-0D0CF6684E42@u-bourgogne.fr>

The busy pdf can be named \jobname.pdf(busy), similar to \jobname.synctex(busy)


> Le 8 avr. 2022 Ã  11:19, luigi scarso <luigi.scarso at gmail.com> a Ã©crit :
> 
> 
> 
> On Fri, Apr 8, 2022 at 8:23 AM JÃ©rÃ´me LAURENS <jerome.laurens at u-bourgogne.fr <mailto:jerome.laurens at u-bourgogne.fr>> wrote:
> Sorry, last answer was too shortâ¦
> 
> The problem is not that the new pdf output is not complete until the end of the typesetting process, the problem is that the old pdf is removed at the beginning of the typesetting process, whereas it could be removed only at the very last moment. This would be a big improvement in everyoneâs workflow (overleaf uses that de facto).
> 
> Ah ok, this is the  problem...well in this case the solution should be to open a tempfile to write the pdf data  and when finished rename the tempfile. 
> No need for command line switches.
> I cannot use a jobname-related name, because  the format can choose the same name to write its data: it has to be a tempfile name generated by the operating system, 
> and also  it  must be deleted after  the termination of the program --  in any case, i.e error or abort -- because otherwise we can have tons of useless files that waste space.
> I can look  at these kinds of requests because it can be an optimization -- something that does the same thing but better -- modulo that I have not to upset the  code too much.
> Indeed, another constraint is that the source code of pdftex /xetex / luatex should be comparable.
> 
> -- 
> luigi

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/dev-luatex/attachments/20220504/448d5ae9/attachment.htm>

From luigi.scarso at gmail.com  Wed May  4 09:26:33 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Wed, 4 May 2022 09:26:33 +0200
Subject: [Dev-luatex] Feature request: busy pdf
In-Reply-To: <DBD180A7-086A-44D0-96E9-0D0CF6684E42@u-bourgogne.fr>
References: <334F8E76-00AC-4752-9371-8D726D6636FA@u-bourgogne.fr>
 <CAG5iGsBjpRyn+P0bD0kCfDkUOAwdTqxQZRD=oyR39qXfSXggAA@mail.gmail.com>
 <FCC782D2-4CE3-4EA1-98E5-D4CE40C85982@u-bourgogne.fr>
 <CAG5iGsCA574NZzG3=0jJNhoEFnm6QiV+wiGXj9JxJX3_b61tyA@mail.gmail.com>
 <B5C7D47F-FFA1-4842-89E0-F09971283E43@u-bourgogne.fr>
 <CAG5iGsDPmCJXrCh9S2yZDCp=Vw+oAniLsfwzAu1qFH+Ez88HHQ@mail.gmail.com>
 <EA9831EF-98B1-459A-9FAF-3D23575B7BC1@u-bourgogne.fr>
 <74D307DD-7B1F-4504-88FB-56517E04C071@u-bourgogne.fr>
 <CAG5iGsDzMqcS95p071PdrFxNcddzgTHT+ghR-4=TVcmPNsPSyA@mail.gmail.com>
 <DBD180A7-086A-44D0-96E9-0D0CF6684E42@u-bourgogne.fr>
Message-ID: <CAG5iGsDP4ux1ezw3w3CGK9XaCzzEDA7j0ce4mXNsBXMojUadkQ@mail.gmail.com>

On Wed, May 4, 2022 at 8:11 AM JÃ©rÃ´me LAURENS <jerome.laurens at u-bourgogne.fr>
wrote:

> The busy pdf can be named \jobname.pdf(busy), similar to
> \jobname.synctex(busy)
>
>
>
'('  and ')'  need to be escaped in bash and , as written before, the
format can choose the same name to write its data.
So it has to be a temp name, something like \jobname-<tempname>, where
<tempname> is given by the OS.


-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/dev-luatex/attachments/20220504/309a7a16/attachment.htm>

From jerome.laurens at u-bourgogne.fr  Wed May  4 12:37:29 2022
From: jerome.laurens at u-bourgogne.fr (=?utf-8?Q?J=C3=A9r=C3=B4me_LAURENS?=)
Date: Wed, 4 May 2022 12:37:29 +0200
Subject: [Dev-luatex] Feature request: busy pdf
In-Reply-To: <CAG5iGsDP4ux1ezw3w3CGK9XaCzzEDA7j0ce4mXNsBXMojUadkQ@mail.gmail.com>
References: <334F8E76-00AC-4752-9371-8D726D6636FA@u-bourgogne.fr>
 <CAG5iGsBjpRyn+P0bD0kCfDkUOAwdTqxQZRD=oyR39qXfSXggAA@mail.gmail.com>
 <FCC782D2-4CE3-4EA1-98E5-D4CE40C85982@u-bourgogne.fr>
 <CAG5iGsCA574NZzG3=0jJNhoEFnm6QiV+wiGXj9JxJX3_b61tyA@mail.gmail.com>
 <B5C7D47F-FFA1-4842-89E0-F09971283E43@u-bourgogne.fr>
 <CAG5iGsDPmCJXrCh9S2yZDCp=Vw+oAniLsfwzAu1qFH+Ez88HHQ@mail.gmail.com>
 <EA9831EF-98B1-459A-9FAF-3D23575B7BC1@u-bourgogne.fr>
 <74D307DD-7B1F-4504-88FB-56517E04C071@u-bourgogne.fr>
 <CAG5iGsDzMqcS95p071PdrFxNcddzgTHT+ghR-4=TVcmPNsPSyA@mail.gmail.com>
 <DBD180A7-086A-44D0-96E9-0D0CF6684E42@u-bourgogne.fr>
 <CAG5iGsDP4ux1ezw3w3CGK9XaCzzEDA7j0ce4mXNsBXMojUadkQ@mail.gmail.com>
Message-ID: <4AF460AD-472A-43F2-90A1-85941736DBE9@u-bourgogne.fr>

How do you manage \jobname-<tmpname> when the process has been killed ?

In bash, quotes are already used to escape spaces in file paths such that  â(â and â)â should already be escaped for free.

> Le 4 mai 2022 Ã  09:26, luigi scarso <luigi.scarso at gmail.com> a Ã©crit :
> 
> 
> 
> On Wed, May 4, 2022 at 8:11 AM JÃ©rÃ´me LAURENS <jerome.laurens at u-bourgogne.fr <mailto:jerome.laurens at u-bourgogne.fr>> wrote:
> The busy pdf can be named \jobname.pdf(busy), similar to \jobname.synctex(busy)
> 
> 
> 
> '('  and ')'  need to be escaped in bash and , as written before, the format can choose the same name to write its data.
> So it has to be a temp name, something like \jobname-<tempname>, where <tempname> is given by the OS.
> 
> 
> -- 
> luigi
> _______________________________________________
> dev-luatex mailing list
> dev-luatex at ntg.nl
> https://mailman.ntg.nl/mailman/listinfo/dev-luatex

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/dev-luatex/attachments/20220504/e4bef0ce/attachment.htm>

From luigi.scarso at gmail.com  Wed May  4 13:08:35 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Wed, 4 May 2022 13:08:35 +0200
Subject: [Dev-luatex] Feature request: busy pdf
In-Reply-To: <4AF460AD-472A-43F2-90A1-85941736DBE9@u-bourgogne.fr>
References: <334F8E76-00AC-4752-9371-8D726D6636FA@u-bourgogne.fr>
 <CAG5iGsBjpRyn+P0bD0kCfDkUOAwdTqxQZRD=oyR39qXfSXggAA@mail.gmail.com>
 <FCC782D2-4CE3-4EA1-98E5-D4CE40C85982@u-bourgogne.fr>
 <CAG5iGsCA574NZzG3=0jJNhoEFnm6QiV+wiGXj9JxJX3_b61tyA@mail.gmail.com>
 <B5C7D47F-FFA1-4842-89E0-F09971283E43@u-bourgogne.fr>
 <CAG5iGsDPmCJXrCh9S2yZDCp=Vw+oAniLsfwzAu1qFH+Ez88HHQ@mail.gmail.com>
 <EA9831EF-98B1-459A-9FAF-3D23575B7BC1@u-bourgogne.fr>
 <74D307DD-7B1F-4504-88FB-56517E04C071@u-bourgogne.fr>
 <CAG5iGsDzMqcS95p071PdrFxNcddzgTHT+ghR-4=TVcmPNsPSyA@mail.gmail.com>
 <DBD180A7-086A-44D0-96E9-0D0CF6684E42@u-bourgogne.fr>
 <CAG5iGsDP4ux1ezw3w3CGK9XaCzzEDA7j0ce4mXNsBXMojUadkQ@mail.gmail.com>
 <4AF460AD-472A-43F2-90A1-85941736DBE9@u-bourgogne.fr>
Message-ID: <CAG5iGsBQB7uAedYan9e_WAEgEYQNh+EdAzZqBga_VsuE=82svA@mail.gmail.com>

On Wed, May 4, 2022 at 12:37 PM JÃ©rÃ´me LAURENS <
jerome.laurens at u-bourgogne.fr> wrote:

> How do you manage \jobname-<tmpname> when the process has been killed ?
>
>
Indeed, this is the problem.


> In bash, quotes are already used to escape spaces in file paths such that
>  â(â and â)â should already be escaped for free.
>
>
sure,  indeed ls 'foo.pdf(busy)' is ok while
ls foo.pdf(busy)
it is not -- a useless complication if one has to manage files at command
line.
Just avoid '(' etc, e.g.  foo.pdf_busy_  is fine.

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/dev-luatex/attachments/20220504/6cff620e/attachment.htm>

From jerome.laurens at u-bourgogne.fr  Wed May  4 14:21:24 2022
From: jerome.laurens at u-bourgogne.fr (=?utf-8?Q?J=C3=A9r=C3=B4me_LAURENS?=)
Date: Wed, 4 May 2022 14:21:24 +0200
Subject: [Dev-luatex] Feature request: busy pdf
In-Reply-To: <CAG5iGsBQB7uAedYan9e_WAEgEYQNh+EdAzZqBga_VsuE=82svA@mail.gmail.com>
References: <334F8E76-00AC-4752-9371-8D726D6636FA@u-bourgogne.fr>
 <CAG5iGsBjpRyn+P0bD0kCfDkUOAwdTqxQZRD=oyR39qXfSXggAA@mail.gmail.com>
 <FCC782D2-4CE3-4EA1-98E5-D4CE40C85982@u-bourgogne.fr>
 <CAG5iGsCA574NZzG3=0jJNhoEFnm6QiV+wiGXj9JxJX3_b61tyA@mail.gmail.com>
 <B5C7D47F-FFA1-4842-89E0-F09971283E43@u-bourgogne.fr>
 <CAG5iGsDPmCJXrCh9S2yZDCp=Vw+oAniLsfwzAu1qFH+Ez88HHQ@mail.gmail.com>
 <EA9831EF-98B1-459A-9FAF-3D23575B7BC1@u-bourgogne.fr>
 <74D307DD-7B1F-4504-88FB-56517E04C071@u-bourgogne.fr>
 <CAG5iGsDzMqcS95p071PdrFxNcddzgTHT+ghR-4=TVcmPNsPSyA@mail.gmail.com>
 <DBD180A7-086A-44D0-96E9-0D0CF6684E42@u-bourgogne.fr>
 <CAG5iGsDP4ux1ezw3w3CGK9XaCzzEDA7j0ce4mXNsBXMojUadkQ@mail.gmail.com>
 <4AF460AD-472A-43F2-90A1-85941736DBE9@u-bourgogne.fr>
 <CAG5iGsBQB7uAedYan9e_WAEgEYQNh+EdAzZqBga_VsuE=82svA@mail.gmail.com>
Message-ID: <724EB32C-21E2-4E7E-9423-C0DB43F7A58A@u-bourgogne.fr>

You must also compare with `ls foo-<tmpname>` which is really another level of complexity. Next usage is far more efficient

> ls foo.pdf*
>rm foo.pdf+TAB completion+arrow down?+enter

However, if things are correctly implemented, youâd never even need to worry about \jobname.pdf(busy) at all, should it be from the CLI or from the desktop. The only purpose of \jobname.pdf(busy) is eventually to be deciphered, and this is far easier for most people, who only know â_â for math subscript (I had already tested on my students for "synctex(busy)").

Only tools that clean things up (Â« Remove aux files Â» ) could eventually manage a new file extension but that is not a requirement.

JL

> Le 4 mai 2022 Ã  13:08, luigi scarso <luigi.scarso at gmail.com> a Ã©crit :
> 
> 
> 
> On Wed, May 4, 2022 at 12:37 PM JÃ©rÃ´me LAURENS <jerome.laurens at u-bourgogne.fr <mailto:jerome.laurens at u-bourgogne.fr>> wrote:
> How do you manage \jobname-<tmpname> when the process has been killed ?
> 
> 
> Indeed, this is the problem.
>  
> In bash, quotes are already used to escape spaces in file paths such that  â(â and â)â should already be escaped for free.
> 
> 
> sure,  indeed ls 'foo.pdf(busy)' is ok while
> ls foo.pdf(busy)
> it is not -- a useless complication if one has to manage files at command line.
> Just avoid '(' etc, e.g.  foo.pdf_busy_  is fine.
> 
> -- 
> luigi

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/dev-luatex/attachments/20220504/3280f1c6/attachment.htm>

From luigi.scarso at gmail.com  Wed May  4 14:56:08 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Wed, 4 May 2022 14:56:08 +0200
Subject: [Dev-luatex] Feature request: busy pdf
In-Reply-To: <724EB32C-21E2-4E7E-9423-C0DB43F7A58A@u-bourgogne.fr>
References: <334F8E76-00AC-4752-9371-8D726D6636FA@u-bourgogne.fr>
 <CAG5iGsBjpRyn+P0bD0kCfDkUOAwdTqxQZRD=oyR39qXfSXggAA@mail.gmail.com>
 <FCC782D2-4CE3-4EA1-98E5-D4CE40C85982@u-bourgogne.fr>
 <CAG5iGsCA574NZzG3=0jJNhoEFnm6QiV+wiGXj9JxJX3_b61tyA@mail.gmail.com>
 <B5C7D47F-FFA1-4842-89E0-F09971283E43@u-bourgogne.fr>
 <CAG5iGsDPmCJXrCh9S2yZDCp=Vw+oAniLsfwzAu1qFH+Ez88HHQ@mail.gmail.com>
 <EA9831EF-98B1-459A-9FAF-3D23575B7BC1@u-bourgogne.fr>
 <74D307DD-7B1F-4504-88FB-56517E04C071@u-bourgogne.fr>
 <CAG5iGsDzMqcS95p071PdrFxNcddzgTHT+ghR-4=TVcmPNsPSyA@mail.gmail.com>
 <DBD180A7-086A-44D0-96E9-0D0CF6684E42@u-bourgogne.fr>
 <CAG5iGsDP4ux1ezw3w3CGK9XaCzzEDA7j0ce4mXNsBXMojUadkQ@mail.gmail.com>
 <4AF460AD-472A-43F2-90A1-85941736DBE9@u-bourgogne.fr>
 <CAG5iGsBQB7uAedYan9e_WAEgEYQNh+EdAzZqBga_VsuE=82svA@mail.gmail.com>
 <724EB32C-21E2-4E7E-9423-C0DB43F7A58A@u-bourgogne.fr>
Message-ID: <CAG5iGsDWpc5CWv_nCne0QjbtaJQDUENuQb8=i1XaPrcAVje1iw@mail.gmail.com>

On Wed, May 4, 2022 at 2:21 PM JÃ©rÃ´me LAURENS <jerome.laurens at u-bourgogne.fr>
wrote:

> You must also compare with `ls foo-<tmpname>` which is really another
> level of complexity. Next usage is far more efficient
>
> > ls foo.pdf*
> >rm foo.pdf+TAB completion+arrow down?+enter
>
> However, if things are correctly implemented, youâd never even need to
> worry about \jobname.pdf(busy) at all, should it be from the CLI or from
> the desktop. The only purpose of \jobname.pdf(busy) is eventually to be
> deciphered, and this is far easier for most people, who only know â_â for
> math subscript (I had already tested on my students for "synctex(busy)").
>
> Only tools that clean things up (Â« Remove aux files Â» ) could eventually
> manage a new file extension but that is not a requirement.
>

Hm, I think I am missing the point...
the filename of the "busy pdf " would be  hardcoded in luatex, there is no
need for '(' etc.


-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/dev-luatex/attachments/20220504/2254994f/attachment.htm>

From rclobus at rclobus.nl  Wed May  4 15:03:42 2022
From: rclobus at rclobus.nl (Roland Clobus)
Date: Wed, 4 May 2022 15:03:42 +0200
Subject: [Dev-luatex] Bug#1009196: texlive-binaries: Reproducible
 content of .fmt files
In-Reply-To: <9990ae9a-f8b2-0f5d-c220-3ea4dfc22203@rclobus.nl>
References: <164943707666.441328.14765046820699766768.reportbug@silent.lan>
 <YlO1CpE7u+kwFkH+@bulldog> <f822bad7-68b5-c84b-cd01-bfdec6a8275c@xs4all.nl>
 <YlQKjN6f38uTod6o@bulldog> <06f6f108-77b1-f0b6-e567-08de4b346551@rclobus.nl>
 <CAG5iGsBWLTBvtHjZqp-t9NMs_3egyGUqFTxkzWRVoQcEj9-kEg@mail.gmail.com>
 <2c87c61b-c45f-6fdb-e109-58360c055379@rclobus.nl>
 <c27721f4-fbbd-56c2-0d76-5ccfeb237129@rclobus.nl>
 <CAG5iGsAAQCQ02uDR2qGi2R_yBJ2GsYZNk5FDr7JLA+oy51=1HA@mail.gmail.com>
 <9990ae9a-f8b2-0f5d-c220-3ea4dfc22203@rclobus.nl>
Message-ID: <3484f37b-76be-ca59-62ab-010e1e6398c9@rclobus.nl>

Hello luigi, list,

> On 19/04/2022 09:52, luigi scarso wrote: >> Thank you very much for your patch, I will check it this weekend.
Have you found the time already to review my patch? [1]

With kind regards,
Roland Clobus

[1] https://mailman.ntg.nl/pipermail/dev-luatex/2022-April/006659.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_signature
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://mailman.ntg.nl/pipermail/dev-luatex/attachments/20220504/5ea62826/attachment-0001.sig>

From luigi.scarso at gmail.com  Wed May  4 15:16:58 2022
From: luigi.scarso at gmail.com (luigi scarso)
Date: Wed, 4 May 2022 15:16:58 +0200
Subject: [Dev-luatex] Bug#1009196: texlive-binaries: Reproducible
 content of .fmt files
In-Reply-To: <3484f37b-76be-ca59-62ab-010e1e6398c9@rclobus.nl>
References: <164943707666.441328.14765046820699766768.reportbug@silent.lan>
 <YlO1CpE7u+kwFkH+@bulldog> <f822bad7-68b5-c84b-cd01-bfdec6a8275c@xs4all.nl>
 <YlQKjN6f38uTod6o@bulldog> <06f6f108-77b1-f0b6-e567-08de4b346551@rclobus.nl>
 <CAG5iGsBWLTBvtHjZqp-t9NMs_3egyGUqFTxkzWRVoQcEj9-kEg@mail.gmail.com>
 <2c87c61b-c45f-6fdb-e109-58360c055379@rclobus.nl>
 <c27721f4-fbbd-56c2-0d76-5ccfeb237129@rclobus.nl>
 <CAG5iGsAAQCQ02uDR2qGi2R_yBJ2GsYZNk5FDr7JLA+oy51=1HA@mail.gmail.com>
 <9990ae9a-f8b2-0f5d-c220-3ea4dfc22203@rclobus.nl>
 <3484f37b-76be-ca59-62ab-010e1e6398c9@rclobus.nl>
Message-ID: <CAG5iGsAkPRPMQDOSkwhTpbt13iJpybJZxgCdBBD2YXoePmezUg@mail.gmail.com>

On Wed, May 4, 2022 at 3:09 PM Roland Clobus <rclobus at rclobus.nl> wrote:

> Hello luigi, list,
>
> > On 19/04/2022 09:52, luigi scarso wrote: >> Thank you very much for your
> patch, I will check it this weekend.
> Have you found the time already to review my patch? [1]
>

Yes, Hans and I are discussing.
If possible, I would like to use a --reproducible switch at the command
line.

-- 
luigi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://mailman.ntg.nl/pipermail/dev-luatex/attachments/20220504/74d677d7/attachment.htm>

From rclobus at rclobus.nl  Wed May  4 18:00:52 2022
From: rclobus at rclobus.nl (Roland Clobus)
Date: Wed, 4 May 2022 18:00:52 +0200
Subject: [Dev-luatex] Bug#1009196: texlive-binaries: Reproducible
 content of .fmt files
In-Reply-To: <CAG5iGsAkPRPMQDOSkwhTpbt13iJpybJZxgCdBBD2YXoePmezUg@mail.gmail.com>
References: <164943707666.441328.14765046820699766768.reportbug@silent.lan>
 <YlO1CpE7u+kwFkH+@bulldog> <f822bad7-68b5-c84b-cd01-bfdec6a8275c@xs4all.nl>
 <YlQKjN6f38uTod6o@bulldog> <06f6f108-77b1-f0b6-e567-08de4b346551@rclobus.nl>
 <CAG5iGsBWLTBvtHjZqp-t9NMs_3egyGUqFTxkzWRVoQcEj9-kEg@mail.gmail.com>
 <2c87c61b-c45f-6fdb-e109-58360c055379@rclobus.nl>
 <c27721f4-fbbd-56c2-0d76-5ccfeb237129@rclobus.nl>
 <CAG5iGsAAQCQ02uDR2qGi2R_yBJ2GsYZNk5FDr7JLA+oy51=1HA@mail.gmail.com>
 <9990ae9a-f8b2-0f5d-c220-3ea4dfc22203@rclobus.nl>
 <3484f37b-76be-ca59-62ab-010e1e6398c9@rclobus.nl>
 <CAG5iGsAkPRPMQDOSkwhTpbt13iJpybJZxgCdBBD2YXoePmezUg@mail.gmail.com>
Message-ID: <1c53b627-7581-58f0-727a-9e0d5eb84ff6@rclobus.nl>

On 04/05/2022 15:16, luigi scarso wrote:
> On Wed, May 4, 2022 at 3:09 PM Roland Clobus <rclobus at rclobus.nl 
>> On 19/04/2022 09:52, luigi scarso wrote:
>>> Thank you very much for your patch, I will check it this weekend.
>>     Have you found the time already to review my patch? [1]

> Yes, Hans and I are discussing.
> If possible, I would like to use a --reproducible switch at the command 
> line.

Adding a commandline argument is sometimes proposed by the development 
teams, instead of using SOURCE_DATE_EPOCH. I would rather suggest to use 
SOURCE_DATE_EPOCH, which is already in the code base, instead of adding 
a new code path.

If you find the time, please read the documentation on SOURCE_DATE_EPOCH 
[1] and the page that mentions a checklist [2].

The short summary: SOURCE_DATE_EPOCH has been standardized and is 
primarily intended to be used by rebuilders of the binaries, not the 
developers or end-users.

In the past, when SOURCE_DATE_EPOCH was getting established, texlive 
additionally added FORCE_SOURCE_DATE=1. Nowadays, if it can be avoided, 
I would recommend to use only SOURCE_DATE_EPOCH.
See [3] for all uses of FORCE_SOURCE_DATE_ in Debian. As you can see, it 
is mainly used in several tests to ensure that packages have output that 
can be compared against a reference.

With kind regards,
Roland Clobus

[1] https://reproducible-builds.org/docs/source-date-epoch/
[2] 
https://wiki.debian.org/ReproducibleBuilds/StandardEnvironmentVariables#Checklist
[3] https://codesearch.debian.net/search?q=FORCE_SOURCE_DATE&literal=0
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenPGP_signature
Type: application/pgp-signature
Size: 833 bytes
Desc: OpenPGP digital signature
URL: <http://mailman.ntg.nl/pipermail/dev-luatex/attachments/20220504/a38f0845/attachment.sig>

