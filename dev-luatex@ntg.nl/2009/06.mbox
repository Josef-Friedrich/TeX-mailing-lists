From root at www.metatex.org  Wed Jun  3 12:27:42 2009
From: root at www.metatex.org (Cron Daemon)
Date: Wed,  3 Jun 2009 12:27:42 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090603102742.A72411E8C3FC@www.metatex.org>

------------------------------------------------------------------------
r2408 | taco | 2009-06-03 10:30:27 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/mplibdir/ChangeLog
   M /trunk/source/texk/web2c/mplibdir/am/mplib.am
   M /trunk/source/texk/web2c/mplibdir/mp.w
   M /trunk/source/texk/web2c/mplibdir/mptrap.test
   M /trunk/source/texk/web2c/mplibdir/psout.w
   M /trunk/source/texk/web2c/mplibdir/svgout.w

metapost 1.202

------------------------------------------------------------------------

From taco at elvenkind.com  Wed Jun  3 15:42:13 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 03 Jun 2009 15:42:13 +0200
Subject: [Dev-luatex] luatex beta 0.40.2
Message-ID: <4A267DB5.9090804@elvenkind.com>

Hi,

I have just uploaded luatex 0.40.2 to the foundry server,
and have committed the source code to texlive.

What's new:

* Fix for a compilation warning under Cygwin.

* A complicated bugfix by Hartmut for a rounding problem in the
  VF loading that resulted in 'character width mismatch in font
  XY.vf ignored' messages at large load sizes

* The embedded MPlib is now 1.202.

* The post_page_number callback was accidentally run when
  shipping out xforms as well as during actual pages.

* When a math accent char doesn't have a bot_accent placer,
  luatex now uses the top_accent placer, if present.

* A crash caused by \Uroot .. {<list>}{...} is fixed

* A portability fix for solaris 8 sparc using sun studio
  compiler, and one for glibc > 2.9.90

* luatex -ini now sets the \catcode of the BOM character to
  ignore (9)

* Kpathsea is updated from TeXLive, giving four extra types of
  searchable files: 'font feature files','cid maps','mlbib',
  and 'mlbst'.

* libpng is now 1.2.36


The archives can be downloaded from supelec as usual:

        http://foundry.supelec.fr/gf/project/luatex/

You could also check out the sources via anonymous svn:

  svn co http://foundry.supelec.fr/svn/luatex/tags/beta-0.40.2

Bugs and feature requests can be added to the issue tracker at

       http://tracker.luatex.org


Have fun,
Taco





From root at www.metatex.org  Wed Jun  3 16:29:45 2009
From: root at www.metatex.org (Cron Daemon)
Date: Wed,  3 Jun 2009 16:29:45 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090603142945.E80571E8C402@www.metatex.org>

------------------------------------------------------------------------
r2409 | taco | 2009-06-03 12:41:43 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luafilesystem/src/lfs.c

attempt to support cygwin

------------------------------------------------------------------------
r2410 | taco | 2009-06-03 12:42:41 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   M /trunk/build.sh
   M /trunk/manual/luatexref-t.pdf
   M /trunk/manual/luatexref-t.tex
   M /trunk/source/Makefile.in
   M /trunk/source/aclocal.m4
   M /trunk/source/build-aux/README.TL
   M /trunk/source/build-aux/depcomp
   M /trunk/source/build-aux/missing
   A /trunk/source/build-aux/mkinstalldirs
   M /trunk/source/configure
   M /trunk/source/libs/Makefile.am
   M /trunk/source/libs/Makefile.in
   M /trunk/source/libs/README
   M /trunk/source/libs/configure
   M /trunk/source/libs/dummy/Makefile.in
   A /trunk/source/libs/libpng/ChangeLog
   M /trunk/source/libs/libpng/Makefile.am
   M /trunk/source/libs/libpng/Makefile.in
   M /trunk/source/libs/libpng/configure
   M /trunk/source/libs/libpng/configure.ac
   M /trunk/source/libs/libpng/libpng-1.2.36/contrib/visupng/VisualPng.dsp
   M /trunk/source/libs/libpng/libpng-1.2.36/contrib/visupng/VisualPng.dsw
   M /trunk/source/libs/libpng/libpng-1.2.36/contrib/visupng/VisualPng.rc
   M /trunk/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpng.bpg
   M /trunk/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpng.bpr
   M /trunk/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpngstat.bpr
   M /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc6/libpng.dsp
   M /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc6/libpng.dsw
   M /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc6/pngtest.dsp
   M /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc71/libpng.vcproj
   M /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc71/pngtest.vcproj
   M /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc71/zlib.vcproj
   M /trunk/source/libs/libpng/libpng.test
   M /trunk/source/libs/obsdcompat/ChangeLog
   M /trunk/source/libs/obsdcompat/Makefile.in
   M /trunk/source/libs/obsdcompat/configure
   M /trunk/source/libs/obsdcompat/configure.ac
   M /trunk/source/libs/xpdf/ChangeLog
   M /trunk/source/libs/xpdf/Makefile.am
   M /trunk/source/libs/xpdf/Makefile.in
   M /trunk/source/libs/xpdf/configure.ac
   M /trunk/source/libs/xpdf/fofi/Makefile.in
   M /trunk/source/libs/xpdf/goo/Makefile.in
   M /trunk/source/libs/xpdf/xpdf/Makefile.in
   M /trunk/source/libs/xpdf/xpdf-3.02/xpdf/Decrypt.h
   M /trunk/source/libs/xpdf/xpdf-3.02/xpdf/GlobalParams.cc
   M /trunk/source/libs/xpdf/xpdf-3.02/xpdf/GlobalParams.h
   M /trunk/source/libs/xpdf/xpdf-3.02/xpdf/PDFDoc.h
   M /trunk/source/libs/xpdf/xpdf-3.02/xpdf/Page.cc
   M /trunk/source/libs/xpdf/xpdf-3.02/xpdf/Page.h
   M /trunk/source/libs/xpdf/xpdf-3.02/xpdf/Stream.h
   M /trunk/source/libs/xpdf/xpdf-3.02/xpdf/XRef.h
   A /trunk/source/libs/xpdf/xpdf-3.02-PATCHES/ChangeLog
   A /trunk/source/libs/xpdf/xpdf-3.02-PATCHES/patch-10-exclude-body-of-Page_getDefaultCTM
   A /trunk/source/libs/xpdf/xpdf-3.02-PATCHES/patch-20-skip-reading-config-file
   A /trunk/source/libs/xpdf/xpdf-3.02-PATCHES/patch-22-exclude-openTempFile
   A /trunk/source/libs/xpdf/xpdf-3.02-PATCHES/patch-40-objectStream-support-for-pdftosrc
   A /trunk/source/libs/zlib/ChangeLog
   M /trunk/source/libs/zlib/Makefile.am
   M /trunk/source/libs/zlib/Makefile.in
   M /trunk/source/libs/zlib/zlib.test
   M /trunk/source/m4/README
   M /trunk/source/m4/cho-libs.m4
   M /trunk/source/m4/kpse-common.m4
   M /trunk/source/m4/kpse-fontconfig-flags.m4
   M /trunk/source/m4/kpse-freetype2-flags.m4
   M /trunk/source/m4/kpse-pkgs.m4
   M /trunk/source/m4/kpse-setup.m4
   M /trunk/source/m4/kpse-xpdf-flags.m4
   M /trunk/source/texk/ChangeLog
   M /trunk/source/texk/Makefile.am
   M /trunk/source/texk/Makefile.in
   M /trunk/source/texk/README
   M /trunk/source/texk/configure
   M /trunk/source/texk/dummy/Makefile.in
   M /trunk/source/texk/kpathsea/ChangeLog
   M /trunk/source/texk/kpathsea/Makefile.am
   M /trunk/source/texk/kpathsea/Makefile.in
   M /trunk/source/texk/kpathsea/NEWS
   M /trunk/source/texk/kpathsea/absolute.c
   M /trunk/source/texk/kpathsea/aclocal.m4
   M /trunk/source/texk/kpathsea/configure
   M /trunk/source/texk/kpathsea/configure.ac
   M /trunk/source/texk/kpathsea/doc/Makefile.in
   M /trunk/source/texk/kpathsea/doc/kpathsea.info
   M /trunk/source/texk/kpathsea/doc/kpathsea.texi
   M /trunk/source/texk/kpathsea/doc/unixtex.texi
   M /trunk/source/texk/kpathsea/hash.c
   M /trunk/source/texk/kpathsea/kpsewhich.c
   M /trunk/source/texk/kpathsea/man/Makefile.in
   M /trunk/source/texk/kpathsea/tex-file.c
   M /trunk/source/texk/kpathsea/texmf.cnf
   M /trunk/source/texk/kpathsea/types.h
   M /trunk/source/texk/kpathsea/version.c
   M /trunk/source/texk/web2c/ChangeLog
   M /trunk/source/texk/web2c/Makefile.am
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/NEWS
   M /trunk/source/texk/web2c/ac/web2c.ac
   M /trunk/source/texk/web2c/ac/withenable.ac
   M /trunk/source/texk/web2c/aclocal.m4
   M /trunk/source/texk/web2c/am/bootstrap.am
   M /trunk/source/texk/web2c/am/cweb.am
   M /trunk/source/texk/web2c/am/texmf.am
   M /trunk/source/texk/web2c/am/web.am
   A /trunk/source/texk/web2c/bibtex.test
   M /trunk/source/texk/web2c/configure
   M /trunk/source/texk/web2c/configure.ac
   A /trunk/source/texk/web2c/ctiedir/ctie.test
   A /trunk/source/texk/web2c/cwebdir/cweave.test
   M /trunk/source/texk/web2c/doc/Makefile.am
   M /trunk/source/texk/web2c/doc/Makefile.in
   M /trunk/source/texk/web2c/doc/ref.txi
   M /trunk/source/texk/web2c/doc/web2c.info
   M /trunk/source/texk/web2c/doc/web2c.texi
   A /trunk/source/texk/web2c/dvicopy.test
   A /trunk/source/texk/web2c/dvitype.test
   A /trunk/source/texk/web2c/gftodvi.test
   A /trunk/source/texk/web2c/gftopk.test
   A /trunk/source/texk/web2c/gftype.test
   M /trunk/source/texk/web2c/help.h
   M /trunk/source/texk/web2c/lib/ChangeLog
   M /trunk/source/texk/web2c/lib/Makefile.in
   M /trunk/source/texk/web2c/lib/openclose.c
   M /trunk/source/texk/web2c/lib/printversion.c
   M /trunk/source/texk/web2c/lib/texmfmp.c
   M /trunk/source/texk/web2c/libmd5/am/md5.am
   M /trunk/source/texk/web2c/libmd5/md5.test
   M /trunk/source/texk/web2c/luatexdir/ChangeLog
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/am/libzzip.am
   M /trunk/source/texk/web2c/luatexdir/am/luatangle.am
   M /trunk/source/texk/web2c/luatexdir/am/luatex.am
   M /trunk/source/texk/web2c/luatexdir/lua/lkpselib.c
   M /trunk/source/texk/web2c/man/Makefile.am
   M /trunk/source/texk/web2c/man/Makefile.in
   M /trunk/source/texk/web2c/man/dvitomp.man
   M /trunk/source/texk/web2c/man/mpost.man
   A /trunk/source/texk/web2c/mft.test
   M /trunk/source/texk/web2c/mplibdir/ChangeLog
   M /trunk/source/texk/web2c/mplibdir/mp.w
   M /trunk/source/texk/web2c/mplibdir/mpost.w
   M /trunk/source/texk/web2c/mplibdir/mpxout.w
   M /trunk/source/texk/web2c/mplibdir/psout.w
   A /trunk/source/texk/web2c/patgen.test
   A /trunk/source/texk/web2c/pktogf.test
   A /trunk/source/texk/web2c/pktype.test
   A /trunk/source/texk/web2c/pltotf.test
   A /trunk/source/texk/web2c/pooltype.test
   M /trunk/source/texk/web2c/tangle.test
   M /trunk/source/texk/web2c/texmfmp-help.h
   A /trunk/source/texk/web2c/tftopl.test
   M /trunk/source/texk/web2c/tiedir/tie.test
   A /trunk/source/texk/web2c/trap.test
   A /trunk/source/texk/web2c/trip.test
   A /trunk/source/texk/web2c/vftovp.test
   A /trunk/source/texk/web2c/vptovf.test
   A /trunk/source/texk/web2c/weave.test
   M /trunk/source/texk/web2c/web2c/ChangeLog
   M /trunk/source/texk/web2c/web2c/Makefile.in
   M /trunk/source/texk/web2c/web2c/aclocal.m4
   M /trunk/source/texk/web2c/web2c/convert
   M /trunk/source/utils/Makefile.am
   M /trunk/source/utils/Makefile.in
   M /trunk/source/utils/README
   M /trunk/source/utils/configure
   M /trunk/source/utils/dummy/Makefile.in

new files from texlive

------------------------------------------------------------------------
r2411 | taco | 2009-06-03 13:21:54 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luafilesystem/src/lfs.c

it seems to be better to assume cygwin is not windows at all

------------------------------------------------------------------------
r2412 | taco | 2009-06-03 14:31:44 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   M /trunk/build.sh

the old crosscompiler is much faster

------------------------------------------------------------------------
r2413 | taco | 2009-06-03 14:51:05 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/NEWS

updated NEWS

------------------------------------------------------------------------
r2414 | taco | 2009-06-03 14:57:01 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/build.sh
   M /branches/0.40.x/manual/luatexref-t.pdf
   M /branches/0.40.x/manual/luatexref-t.tex
   M /branches/0.40.x/source/Makefile.in
   M /branches/0.40.x/source/aclocal.m4
   M /branches/0.40.x/source/build-aux/README.TL
   M /branches/0.40.x/source/build-aux/depcomp
   M /branches/0.40.x/source/build-aux/missing
   A /branches/0.40.x/source/build-aux/mkinstalldirs (from /trunk/source/build-aux/mkinstalldirs:2413)
   M /branches/0.40.x/source/configure
   M /branches/0.40.x/source/libs/Makefile.am
   M /branches/0.40.x/source/libs/Makefile.in
   M /branches/0.40.x/source/libs/README
   M /branches/0.40.x/source/libs/configure
   M /branches/0.40.x/source/libs/dummy/Makefile.in
   A /branches/0.40.x/source/libs/libpng/ChangeLog (from /trunk/source/libs/libpng/ChangeLog:2413)
   M /branches/0.40.x/source/libs/libpng/Makefile.am
   M /branches/0.40.x/source/libs/libpng/Makefile.in
   M /branches/0.40.x/source/libs/libpng/configure
   M /branches/0.40.x/source/libs/libpng/configure.ac
   D /branches/0.40.x/source/libs/libpng/libpng-1.2.35
   A /branches/0.40.x/source/libs/libpng/libpng-1.2.36 (from /trunk/source/libs/libpng/libpng-1.2.36:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/ANNOUNCE (from /trunk/source/libs/libpng/libpng-1.2.36/ANNOUNCE:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/CHANGES (from /trunk/source/libs/libpng/libpng-1.2.36/CHANGES:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/INSTALL (from /trunk/source/libs/libpng/libpng-1.2.36/INSTALL:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/KNOWNBUG (from /trunk/source/libs/libpng/libpng-1.2.36/KNOWNBUG:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/LICENSE (from /trunk/source/libs/libpng/libpng-1.2.36/LICENSE:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/Makefile.am (from /trunk/source/libs/libpng/libpng-1.2.36/Makefile.am:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/Makefile.in (from /trunk/source/libs/libpng/libpng-1.2.36/Makefile.in:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/README (from /trunk/source/libs/libpng/libpng-1.2.36/README:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/TODO (from /trunk/source/libs/libpng/libpng-1.2.36/TODO:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/Y2KINFO (from /trunk/source/libs/libpng/libpng-1.2.36/Y2KINFO:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/autogen.sh (from /trunk/source/libs/libpng/libpng-1.2.36/autogen.sh:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/config.guess (from /trunk/source/libs/libpng/libpng-1.2.36/config.guess:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/config.h.in (from /trunk/source/libs/libpng/libpng-1.2.36/config.h.in:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/config.sub (from /trunk/source/libs/libpng/libpng-1.2.36/config.sub:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/configure (from /trunk/source/libs/libpng/libpng-1.2.36/configure:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/configure.ac (from /trunk/source/libs/libpng/libpng-1.2.36/configure.ac:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib (from /trunk/source/libs/libpng/libpng-1.2.36/contrib:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/COPYING (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/COPYING:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/LICENSE (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/LICENSE:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/Makefile.mingw32 (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/Makefile.mingw32:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/Makefile.sgi (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/Makefile.sgi:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/Makefile.unx (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/Makefile.unx:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/Makefile.w32 (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/Makefile.w32:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/README (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/README:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/makevms.com (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/makevms.com:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/readpng.c (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/readpng.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/readpng.h (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/readpng.h:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/readpng2.c (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/readpng2.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/readpng2.h (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/readpng2.h:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/readppm.c (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/readppm.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/rpng-win.c (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/rpng-win.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/rpng-x.c (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/rpng-x.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/rpng2-win.c (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/rpng2-win.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/rpng2-x.c (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/rpng2-x.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/toucan.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/toucan.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/wpng.c (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/wpng.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/writepng.c (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/writepng.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/gregbook/writepng.h (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/gregbook/writepng.h:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminim (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminim:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminim/decoder (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminim/decoder:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminim/decoder/README (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminim/decoder/README:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminim/decoder/gather.sh (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminim/decoder/gather.sh:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminim/decoder/makefile.std (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminim/decoder/makefile.std:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminim/decoder/pngusr.h (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminim/decoder/pngusr.h:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminim/encoder (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminim/encoder:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminim/encoder/README (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminim/encoder/README:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminim/encoder/dummy_inflate.c (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminim/encoder/dummy_inflate.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminim/encoder/gather.sh (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminim/encoder/gather.sh:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminim/encoder/makefile.std (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminim/encoder/makefile.std:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminim/encoder/pngusr.h (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminim/encoder/pngusr.h:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminus (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminus:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminus/README (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminus/README:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminus/makefile.std (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminus/makefile.std:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminus/makefile.tc3 (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminus/makefile.tc3:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminus/makevms.com (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminus/makevms.com:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminus/png2pnm.bat (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminus/png2pnm.bat:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminus/png2pnm.c (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminus/png2pnm.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminus/png2pnm.sh (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminus/png2pnm.sh:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminus/pngminus.bat (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminus/pngminus.bat:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminus/pngminus.sh (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminus/pngminus.sh:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminus/pnm2png.bat (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminus/pnm2png.bat:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminus/pnm2png.c (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminus/pnm2png.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngminus/pnm2png.sh (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngminus/pnm2png.sh:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/README (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/README:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn0g01.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn0g01.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn0g02.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn0g02.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn0g04.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn0g04.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn0g08.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn0g08.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn0g16.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn0g16.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn2c08.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn2c08.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn2c16.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn2c16.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn3p01.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn3p01.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn3p02.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn3p02.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn3p04.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn3p04.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn3p08.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn3p08.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn4a08.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn4a08.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn4a16.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn4a16.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn6a08.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn6a08.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn6a16.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/pngsuite/basn6a16.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/visupng (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/visupng:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/visupng/PngFile.c (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/visupng/PngFile.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/visupng/PngFile.h (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/visupng/PngFile.h:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/visupng/README.txt (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/visupng/README.txt:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/visupng/VisualPng.c (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/visupng/VisualPng.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/visupng/VisualPng.dsp (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/visupng/VisualPng.dsp:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/visupng/VisualPng.dsw (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/visupng/VisualPng.dsw:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/visupng/VisualPng.ico (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/visupng/VisualPng.ico:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/visupng/VisualPng.png (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/visupng/VisualPng.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/visupng/VisualPng.rc (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/visupng/VisualPng.rc:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/visupng/cexcept.h (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/visupng/cexcept.h:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/contrib/visupng/resource.h (from /trunk/source/libs/libpng/libpng-1.2.36/contrib/visupng/resource.h:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/depcomp (from /trunk/source/libs/libpng/libpng-1.2.36/depcomp:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/example.c (from /trunk/source/libs/libpng/libpng-1.2.36/example.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/install-sh (from /trunk/source/libs/libpng/libpng-1.2.36/install-sh:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/libpng-1.2.36.txt (from /trunk/source/libs/libpng/libpng-1.2.36/libpng-1.2.36.txt:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/libpng.3 (from /trunk/source/libs/libpng/libpng-1.2.36/libpng.3:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/libpngpf.3 (from /trunk/source/libs/libpng/libpng-1.2.36/libpngpf.3:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/ltmain.sh (from /trunk/source/libs/libpng/libpng-1.2.36/ltmain.sh:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/missing (from /trunk/source/libs/libpng/libpng-1.2.36/missing:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/mkinstalldirs (from /trunk/source/libs/libpng/libpng-1.2.36/mkinstalldirs:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/png.5 (from /trunk/source/libs/libpng/libpng-1.2.36/png.5:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/png.c (from /trunk/source/libs/libpng/libpng-1.2.36/png.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/png.h (from /trunk/source/libs/libpng/libpng-1.2.36/png.h:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngbar.jpg (from /trunk/source/libs/libpng/libpng-1.2.36/pngbar.jpg:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngbar.png (from /trunk/source/libs/libpng/libpng-1.2.36/pngbar.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngconf.h (from /trunk/source/libs/libpng/libpng-1.2.36/pngconf.h:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngerror.c (from /trunk/source/libs/libpng/libpng-1.2.36/pngerror.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pnggccrd.c (from /trunk/source/libs/libpng/libpng-1.2.36/pnggccrd.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngget.c (from /trunk/source/libs/libpng/libpng-1.2.36/pngget.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngmem.c (from /trunk/source/libs/libpng/libpng-1.2.36/pngmem.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngnow.png (from /trunk/source/libs/libpng/libpng-1.2.36/pngnow.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngpread.c (from /trunk/source/libs/libpng/libpng-1.2.36/pngpread.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngread.c (from /trunk/source/libs/libpng/libpng-1.2.36/pngread.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngrio.c (from /trunk/source/libs/libpng/libpng-1.2.36/pngrio.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngrtran.c (from /trunk/source/libs/libpng/libpng-1.2.36/pngrtran.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngrutil.c (from /trunk/source/libs/libpng/libpng-1.2.36/pngrutil.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngset.c (from /trunk/source/libs/libpng/libpng-1.2.36/pngset.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngtest.c (from /trunk/source/libs/libpng/libpng-1.2.36/pngtest.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngtest.png (from /trunk/source/libs/libpng/libpng-1.2.36/pngtest.png:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngtrans.c (from /trunk/source/libs/libpng/libpng-1.2.36/pngtrans.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngvcrd.c (from /trunk/source/libs/libpng/libpng-1.2.36/pngvcrd.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngwio.c (from /trunk/source/libs/libpng/libpng-1.2.36/pngwio.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngwrite.c (from /trunk/source/libs/libpng/libpng-1.2.36/pngwrite.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngwtran.c (from /trunk/source/libs/libpng/libpng-1.2.36/pngwtran.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/pngwutil.c (from /trunk/source/libs/libpng/libpng-1.2.36/pngwutil.c:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects (from /trunk/source/libs/libpng/libpng-1.2.36/projects:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/beos (from /trunk/source/libs/libpng/libpng-1.2.36/projects/beos:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/beos/x86-shared.proj (from /trunk/source/libs/libpng/libpng-1.2.36/projects/beos/x86-shared.proj:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/beos/x86-shared.txt (from /trunk/source/libs/libpng/libpng-1.2.36/projects/beos/x86-shared.txt:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/beos/x86-static.proj (from /trunk/source/libs/libpng/libpng-1.2.36/projects/beos/x86-static.proj:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/beos/x86-static.txt (from /trunk/source/libs/libpng/libpng-1.2.36/projects/beos/x86-static.txt:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/cbuilder5 (from /trunk/source/libs/libpng/libpng-1.2.36/projects/cbuilder5:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpng.bpf (from /trunk/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpng.bpf:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpng.bpg (from /trunk/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpng.bpg:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpng.bpr (from /trunk/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpng.bpr:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpng.cpp (from /trunk/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpng.cpp:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpng.readme.txt (from /trunk/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpng.readme.txt:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpngstat.bpf (from /trunk/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpngstat.bpf:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpngstat.bpr (from /trunk/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/libpngstat.bpr:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/zlib.readme.txt (from /trunk/source/libs/libpng/libpng-1.2.36/projects/cbuilder5/zlib.readme.txt:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/netware.txt (from /trunk/source/libs/libpng/libpng-1.2.36/projects/netware.txt:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/visualc6 (from /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc6:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/visualc6/README.txt (from /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc6/README.txt:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/visualc6/libpng.dsp (from /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc6/libpng.dsp:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/visualc6/libpng.dsw (from /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc6/libpng.dsw:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/visualc6/pngtest.dsp (from /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc6/pngtest.dsp:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/visualc71 (from /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc71:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/visualc71/PRJ0041.mak (from /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc71/PRJ0041.mak:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/visualc71/README.txt (from /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc71/README.txt:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/visualc71/README_zlib.txt (from /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc71/README_zlib.txt:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/visualc71/libpng.sln (from /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc71/libpng.sln:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/visualc71/libpng.vcproj (from /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc71/libpng.vcproj:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/visualc71/pngtest.vcproj (from /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc71/pngtest.vcproj:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/visualc71/zlib.vcproj (from /trunk/source/libs/libpng/libpng-1.2.36/projects/visualc71/zlib.vcproj:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/projects/wince.txt (from /trunk/source/libs/libpng/libpng-1.2.36/projects/wince.txt:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts (from /trunk/source/libs/libpng/libpng-1.2.36/scripts:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/CMakeLists.txt (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/CMakeLists.txt:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/SCOPTIONS.ppc (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/SCOPTIONS.ppc:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/descrip.mms (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/descrip.mms:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/libpng-config-body.in (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/libpng-config-body.in:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/libpng-config-head.in (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/libpng-config-head.in:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/libpng-config.in (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/libpng-config.in:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/libpng.icc (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/libpng.icc:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/libpng.pc-configure.in (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/libpng.pc-configure.in:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/libpng.pc.in (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/libpng.pc.in:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.32sunu (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.32sunu:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.64sunu (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.64sunu:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.acorn (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.acorn:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.aix (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.aix:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.amiga (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.amiga:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.atari (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.atari:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.bc32 (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.bc32:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.beos (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.beos:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.bor (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.bor:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.cygwin (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.cygwin:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.darwin (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.darwin:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.dec (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.dec:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.dj2 (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.dj2:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.elf (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.elf:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.freebsd (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.freebsd:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.gcc (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.gcc:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.gcmmx (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.gcmmx:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.hp64 (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.hp64:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.hpgcc (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.hpgcc:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.hpux (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.hpux:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.ibmc (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.ibmc:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.intel (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.intel:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.knr (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.knr:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.linux (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.linux:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.mingw (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.mingw:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.mips (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.mips:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.msc (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.msc:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.ne12bsd (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.ne12bsd:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.netbsd (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.netbsd:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.nommx (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.nommx:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.openbsd (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.openbsd:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.os2 (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.os2:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.sco (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.sco:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.sggcc (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.sggcc:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.sgi (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.sgi:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.so9 (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.so9:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.solaris (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.solaris:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.solaris-x86 (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.solaris-x86:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.std (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.std:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.sunos (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.sunos:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.tc3 (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.tc3:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.vcawin32 (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.vcawin32:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.vcwin32 (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.vcwin32:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makefile.watcom (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makefile.watcom:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/makevms.com (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/makevms.com:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/pngos2.def (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/pngos2.def:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/pngw32.def (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/pngw32.def:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/pngw32.rc (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/pngw32.rc:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/scripts/smakefile.ppc (from /trunk/source/libs/libpng/libpng-1.2.36/scripts/smakefile.ppc:2413)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.36/test-pngtest.sh (from /trunk/source/libs/libpng/libpng-1.2.36/test-pngtest.sh:2413)
   M /branches/0.40.x/source/libs/libpng/libpng.test
   M /branches/0.40.x/source/libs/obsdcompat/ChangeLog
   M /branches/0.40.x/source/libs/obsdcompat/Makefile.in
   M /branches/0.40.x/source/libs/obsdcompat/configure
   M /branches/0.40.x/source/libs/obsdcompat/configure.ac
   M /branches/0.40.x/source/libs/xpdf/ChangeLog
   M /branches/0.40.x/source/libs/xpdf/Makefile.am
   M /branches/0.40.x/source/libs/xpdf/Makefile.in
   M /branches/0.40.x/source/libs/xpdf/configure.ac
   M /branches/0.40.x/source/libs/xpdf/fofi/Makefile.in
   M /branches/0.40.x/source/libs/xpdf/goo/Makefile.in
   M /branches/0.40.x/source/libs/xpdf/xpdf/Makefile.in
   M /branches/0.40.x/source/libs/xpdf/xpdf-3.02/xpdf/Decrypt.h
   M /branches/0.40.x/source/libs/xpdf/xpdf-3.02/xpdf/GlobalParams.cc
   M /branches/0.40.x/source/libs/xpdf/xpdf-3.02/xpdf/GlobalParams.h
   M /branches/0.40.x/source/libs/xpdf/xpdf-3.02/xpdf/PDFDoc.h
   M /branches/0.40.x/source/libs/xpdf/xpdf-3.02/xpdf/Page.cc
   M /branches/0.40.x/source/libs/xpdf/xpdf-3.02/xpdf/Page.h
   M /branches/0.40.x/source/libs/xpdf/xpdf-3.02/xpdf/Stream.h
   M /branches/0.40.x/source/libs/xpdf/xpdf-3.02/xpdf/XRef.h
   A /branches/0.40.x/source/libs/xpdf/xpdf-3.02-PATCHES/ChangeLog (from /trunk/source/libs/xpdf/xpdf-3.02-PATCHES/ChangeLog:2413)
   A /branches/0.40.x/source/libs/xpdf/xpdf-3.02-PATCHES/patch-10-exclude-body-of-Page_getDefaultCTM (from /trunk/source/libs/xpdf/xpdf-3.02-PATCHES/patch-10-exclude-body-of-Page_getDefaultCTM:2413)
   A /branches/0.40.x/source/libs/xpdf/xpdf-3.02-PATCHES/patch-20-skip-reading-config-file (from /trunk/source/libs/xpdf/xpdf-3.02-PATCHES/patch-20-skip-reading-config-file:2413)
   A /branches/0.40.x/source/libs/xpdf/xpdf-3.02-PATCHES/patch-22-exclude-openTempFile (from /trunk/source/libs/xpdf/xpdf-3.02-PATCHES/patch-22-exclude-openTempFile:2413)
   A /branches/0.40.x/source/libs/xpdf/xpdf-3.02-PATCHES/patch-40-objectStream-support-for-pdftosrc (from /trunk/source/libs/xpdf/xpdf-3.02-PATCHES/patch-40-objectStream-support-for-pdftosrc:2413)
   A /branches/0.40.x/source/libs/zlib/ChangeLog (from /trunk/source/libs/zlib/ChangeLog:2413)
   M /branches/0.40.x/source/libs/zlib/Makefile.am
   M /branches/0.40.x/source/libs/zlib/Makefile.in
   M /branches/0.40.x/source/libs/zlib/zlib.test
   M /branches/0.40.x/source/m4/README
   M /branches/0.40.x/source/m4/cho-libs.m4
   M /branches/0.40.x/source/m4/kpse-common.m4
   M /branches/0.40.x/source/m4/kpse-fontconfig-flags.m4
   M /branches/0.40.x/source/m4/kpse-freetype2-flags.m4
   M /branches/0.40.x/source/m4/kpse-pkgs.m4
   M /branches/0.40.x/source/m4/kpse-setup.m4
   M /branches/0.40.x/source/m4/kpse-xpdf-flags.m4
   M /branches/0.40.x/source/texk/ChangeLog
   M /branches/0.40.x/source/texk/Makefile.am
   M /branches/0.40.x/source/texk/Makefile.in
   M /branches/0.40.x/source/texk/README
   M /branches/0.40.x/source/texk/configure
   M /branches/0.40.x/source/texk/dummy/Makefile.in
   M /branches/0.40.x/source/texk/kpathsea/ChangeLog
   M /branches/0.40.x/source/texk/kpathsea/Makefile.am
   M /branches/0.40.x/source/texk/kpathsea/Makefile.in
   M /branches/0.40.x/source/texk/kpathsea/NEWS
   M /branches/0.40.x/source/texk/kpathsea/absolute.c
   M /branches/0.40.x/source/texk/kpathsea/aclocal.m4
   M /branches/0.40.x/source/texk/kpathsea/configure
   M /branches/0.40.x/source/texk/kpathsea/configure.ac
   M /branches/0.40.x/source/texk/kpathsea/doc/Makefile.in
   M /branches/0.40.x/source/texk/kpathsea/doc/kpathsea.info
   M /branches/0.40.x/source/texk/kpathsea/doc/kpathsea.texi
   M /branches/0.40.x/source/texk/kpathsea/doc/unixtex.texi
   M /branches/0.40.x/source/texk/kpathsea/hash.c
   M /branches/0.40.x/source/texk/kpathsea/kpsewhich.c
   M /branches/0.40.x/source/texk/kpathsea/man/Makefile.in
   M /branches/0.40.x/source/texk/kpathsea/tex-file.c
   M /branches/0.40.x/source/texk/kpathsea/texmf.cnf
   M /branches/0.40.x/source/texk/kpathsea/types.h
   M /branches/0.40.x/source/texk/kpathsea/version.c
   M /branches/0.40.x/source/texk/web2c/ChangeLog
   M /branches/0.40.x/source/texk/web2c/Makefile.am
   M /branches/0.40.x/source/texk/web2c/Makefile.in
   M /branches/0.40.x/source/texk/web2c/NEWS
   M /branches/0.40.x/source/texk/web2c/ac/web2c.ac
   M /branches/0.40.x/source/texk/web2c/ac/withenable.ac
   M /branches/0.40.x/source/texk/web2c/aclocal.m4
   M /branches/0.40.x/source/texk/web2c/am/bootstrap.am
   M /branches/0.40.x/source/texk/web2c/am/cweb.am
   M /branches/0.40.x/source/texk/web2c/am/texmf.am
   M /branches/0.40.x/source/texk/web2c/am/web.am
   A /branches/0.40.x/source/texk/web2c/bibtex.test (from /trunk/source/texk/web2c/bibtex.test:2413)
   M /branches/0.40.x/source/texk/web2c/configure
   M /branches/0.40.x/source/texk/web2c/configure.ac
   M /branches/0.40.x/source/texk/web2c/cpascal.h
   A /branches/0.40.x/source/texk/web2c/ctiedir/ctie.test (from /trunk/source/texk/web2c/ctiedir/ctie.test:2413)
   A /branches/0.40.x/source/texk/web2c/cwebdir/cweave.test (from /trunk/source/texk/web2c/cwebdir/cweave.test:2413)
   M /branches/0.40.x/source/texk/web2c/doc/Makefile.am
   M /branches/0.40.x/source/texk/web2c/doc/Makefile.in
   M /branches/0.40.x/source/texk/web2c/doc/ref.txi
   M /branches/0.40.x/source/texk/web2c/doc/web2c.info
   M /branches/0.40.x/source/texk/web2c/doc/web2c.texi
   A /branches/0.40.x/source/texk/web2c/dvicopy.test (from /trunk/source/texk/web2c/dvicopy.test:2413)
   A /branches/0.40.x/source/texk/web2c/dvitype.test (from /trunk/source/texk/web2c/dvitype.test:2413)
   A /branches/0.40.x/source/texk/web2c/gftodvi.test (from /trunk/source/texk/web2c/gftodvi.test:2413)
   A /branches/0.40.x/source/texk/web2c/gftopk.test (from /trunk/source/texk/web2c/gftopk.test:2413)
   A /branches/0.40.x/source/texk/web2c/gftype.test (from /trunk/source/texk/web2c/gftype.test:2413)
   M /branches/0.40.x/source/texk/web2c/help.h
   M /branches/0.40.x/source/texk/web2c/lib/ChangeLog
   M /branches/0.40.x/source/texk/web2c/lib/Makefile.in
   M /branches/0.40.x/source/texk/web2c/lib/openclose.c
   M /branches/0.40.x/source/texk/web2c/lib/printversion.c
   M /branches/0.40.x/source/texk/web2c/lib/texmfmp.c
   M /branches/0.40.x/source/texk/web2c/libmd5/am/md5.am
   M /branches/0.40.x/source/texk/web2c/libmd5/md5.test
   M /branches/0.40.x/source/texk/web2c/luatexdir/ChangeLog
   M /branches/0.40.x/source/texk/web2c/luatexdir/NEWS
   M /branches/0.40.x/source/texk/web2c/luatexdir/am/libluatex.am
   M /branches/0.40.x/source/texk/web2c/luatexdir/am/libzzip.am
   M /branches/0.40.x/source/texk/web2c/luatexdir/am/luatangle.am
   M /branches/0.40.x/source/texk/web2c/luatexdir/am/luatex.am
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/texfont.h
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/tfmofm.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/vfovf.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/vfpacket.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/writecff.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua/lkpselib.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua51/ldebug.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua51/ldebug.h
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua51/lvm.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua51/print.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/luafilesystem/src/lfs.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/luatex.web
   M /branches/0.40.x/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/tex/mlist.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/textcodes.c
   M /branches/0.40.x/source/texk/web2c/man/Makefile.am
   M /branches/0.40.x/source/texk/web2c/man/Makefile.in
   M /branches/0.40.x/source/texk/web2c/man/dvitomp.man
   M /branches/0.40.x/source/texk/web2c/man/mpost.man
   A /branches/0.40.x/source/texk/web2c/mft.test (from /trunk/source/texk/web2c/mft.test:2413)
   M /branches/0.40.x/source/texk/web2c/mplibdir/ChangeLog
   M /branches/0.40.x/source/texk/web2c/mplibdir/am/mplib.am
   M /branches/0.40.x/source/texk/web2c/mplibdir/avl.c
   A /branches/0.40.x/source/texk/web2c/mplibdir/dvitomp.test (from /trunk/source/texk/web2c/mplibdir/dvitomp.test:2413)
   M /branches/0.40.x/source/texk/web2c/mplibdir/lmplib.c
   M /branches/0.40.x/source/texk/web2c/mplibdir/memio.w
   M /branches/0.40.x/source/texk/web2c/mplibdir/mp.w
   M /branches/0.40.x/source/texk/web2c/mplibdir/mpost.w
   A /branches/0.40.x/source/texk/web2c/mplibdir/mptrap.test (from /trunk/source/texk/web2c/mplibdir/mptrap.test:2413)
   M /branches/0.40.x/source/texk/web2c/mplibdir/mpxout.w
   M /branches/0.40.x/source/texk/web2c/mplibdir/psout.w
   M /branches/0.40.x/source/texk/web2c/mplibdir/svgout.w
   M /branches/0.40.x/source/texk/web2c/mplibdir/tfmin.w
   A /branches/0.40.x/source/texk/web2c/patgen.test (from /trunk/source/texk/web2c/patgen.test:2413)
   A /branches/0.40.x/source/texk/web2c/pktogf.test (from /trunk/source/texk/web2c/pktogf.test:2413)
   A /branches/0.40.x/source/texk/web2c/pktype.test (from /trunk/source/texk/web2c/pktype.test:2413)
   A /branches/0.40.x/source/texk/web2c/pltotf.test (from /trunk/source/texk/web2c/pltotf.test:2413)
   A /branches/0.40.x/source/texk/web2c/pooltype.test (from /trunk/source/texk/web2c/pooltype.test:2413)
   M /branches/0.40.x/source/texk/web2c/tangle.test
   M /branches/0.40.x/source/texk/web2c/texmfmp-help.h
   A /branches/0.40.x/source/texk/web2c/tftopl.test (from /trunk/source/texk/web2c/tftopl.test:2413)
   M /branches/0.40.x/source/texk/web2c/tiedir/tie.test
   A /branches/0.40.x/source/texk/web2c/trap.test (from /trunk/source/texk/web2c/trap.test:2413)
   A /branches/0.40.x/source/texk/web2c/trip.test (from /trunk/source/texk/web2c/trip.test:2413)
   A /branches/0.40.x/source/texk/web2c/vftovp.test (from /trunk/source/texk/web2c/vftovp.test:2413)
   A /branches/0.40.x/source/texk/web2c/vptovf.test (from /trunk/source/texk/web2c/vptovf.test:2413)
   A /branches/0.40.x/source/texk/web2c/weave.test (from /trunk/source/texk/web2c/weave.test:2413)
   M /branches/0.40.x/source/texk/web2c/web2c/ChangeLog
   M /branches/0.40.x/source/texk/web2c/web2c/Makefile.in
   M /branches/0.40.x/source/texk/web2c/web2c/aclocal.m4
   M /branches/0.40.x/source/texk/web2c/web2c/coerce.h
   M /branches/0.40.x/source/texk/web2c/web2c/convert
   M /branches/0.40.x/source/utils/Makefile.am
   M /branches/0.40.x/source/utils/Makefile.in
   M /branches/0.40.x/source/utils/README
   M /branches/0.40.x/source/utils/configure
   M /branches/0.40.x/source/utils/dummy/Makefile.in

merge trunk 2387-2413

------------------------------------------------------------------------
r2415 | taco | 2009-06-03 15:03:24 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/manual/luatexref-t.pdf
   M /branches/0.40.x/manual/luatexref-t.tex
   M /branches/0.40.x/source/texk/web2c/luatexdir/luatex.web

bump the version numbers to 0.40.2

------------------------------------------------------------------------
r2416 | taco | 2009-06-03 15:04:39 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   A /tags/beta-0.40.2 (from /branches/0.40.x:2415)

new tag

------------------------------------------------------------------------
r2417 | taco | 2009-06-03 15:37:14 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatangle.test

updated test from texlive

------------------------------------------------------------------------
r2418 | taco | 2009-06-03 16:13:39 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.tex

merge the extra kpse info from the 0.40.2 manual

------------------------------------------------------------------------

From root at www.metatex.org  Wed Jun  3 22:26:40 2009
From: root at www.metatex.org (Cron Daemon)
Date: Wed,  3 Jun 2009 22:26:40 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090603202640.518971E8C3FF@www.metatex.org>

------------------------------------------------------------------------
r2419 | taco | 2009-06-03 16:26:07 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/texfont.c

add debugging support for wide font sharing

------------------------------------------------------------------------
r2420 | taco | 2009-06-03 16:51:54 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/ChangeLog
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/namelist.c

aix fix

------------------------------------------------------------------------
r2421 | taco | 2009-06-03 16:52:45 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/source/texk/web2c/luatexdir/ChangeLog
   M /branches/0.40.x/source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/namelist.c

aix fix (merge trunk 2420)

------------------------------------------------------------------------
r2422 | oneiros | 2009-06-03 17:19:44 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/tfmofm.c

add a return to make the compiler happy

------------------------------------------------------------------------
r2423 | oneiros | 2009-06-03 17:20:12 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/tfmofm.c

indent

------------------------------------------------------------------------
r2424 | taco | 2009-06-03 17:39:21 +0200 (Wed, 03 Jun 2009) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.tex

expand the wording on the linebreak_filter api, to explain bug report #238.

------------------------------------------------------------------------

From P.Jackowski at gust.org.pl  Thu Jun  4 07:17:35 2009
From: P.Jackowski at gust.org.pl (=?ISO-8859-2?Q?Pawe=B3_Jackowski?=)
Date: Thu, 04 Jun 2009 07:17:35 +0200
Subject: [Dev-luatex] Problem with building revision
Message-ID: <4A2758EF.3050806@gust.org.pl>

After updating to revision 2426 i get the following while trying build 
--make. Same on full rebuild. Do you get the same?

...
checking for native WIN32 or MINGW32... mingw32
checking for main in -lwsock32... yes
checking for Mac OS X Carbon framework... no
checking for pkg-config... no
checking for installed fontconfig headers and library... no
configure: WARNING: Sorry, can not build XeTeX without Carbon framework 
or fontconfig
checking for X... no
configure: error: Sorry, could not find required X include and library 
files.
make[2]: *** [config.status] Error 1
make[2]: Leaving directory `/work/luatex/trunk/build/texk/web2c'
make[1]: *** [all-recursive] Error 1
make[1]: Leaving directory `/work/luatex/trunk/build/texk'
make: *** [all-recursive] Error 1
...

-- 
Pawe/l Jackowski
P.Jackowski at gust.org.pl

From taco at elvenkind.com  Thu Jun  4 08:43:37 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 04 Jun 2009 08:43:37 +0200
Subject: [Dev-luatex] Sorry,
	could not find required X include and library files
In-Reply-To: <4A2758EF.3050806@gust.org.pl>
References: <4A2758EF.3050806@gust.org.pl>
Message-ID: <4A276D19.9000505@elvenkind.com>


Hi Pawe?,

Pawe? Jackowski wrote:
> After updating to [luatex repository] revision 2426 i get the 
> following while trying build --make. Same on full rebuild.
> Do you get the same?

Not really the same because I actually have X11 headers, but yes,
it seems that a recent change in the configure scripts of texlive
means that X11 is now required unless yet another --without-something
option is added to the configure command line.

Can you please edit luatex's build.sh and add the line

   --without-mf-x-toolkit --without-x \

to the list of configure options? I hope that helps.


Hi Peter also,

when you get back, can you please change this? It a bit odd that
an explicit --disable-mf is not good enough to make the implicit
toolkit check disappear

Best wishes,

Taco

PS I know the --without-x should not be needed, but I am getting
quite paranoid by now.

> ...
> checking for native WIN32 or MINGW32... mingw32
> checking for main in -lwsock32... yes
> checking for Mac OS X Carbon framework... no
> checking for pkg-config... no
> checking for installed fontconfig headers and library... no
> configure: WARNING: Sorry, can not build XeTeX without Carbon framework 
> or fontconfig
> checking for X... no
> configure: error: Sorry, could not find required X include and library 
> files.


From P.Jackowski at gust.org.pl  Thu Jun  4 09:21:11 2009
From: P.Jackowski at gust.org.pl (=?UTF-8?B?UGF3ZcWCIEphY2tvd3NraQ==?=)
Date: Thu, 04 Jun 2009 09:21:11 +0200
Subject: [Dev-luatex] Sorry,
 could not find required X include and library files
In-Reply-To: <4A276D19.9000505@elvenkind.com>
References: <4A2758EF.3050806@gust.org.pl> <4A276D19.9000505@elvenkind.com>
Message-ID: <4A2775E7.1050203@gust.org.pl>

Hi,

> Can you please edit luatex's build.sh and add the line
> 
>   --without-mf-x-toolkit --without-x \

Works fine.

> PS I know the --without-x should not be needed, but I am getting
> quite paranoid by now.

I've checked that --without-mf-x-toolkit is enough.

Thank you!
-- 
Pawe/l Jackowski
P.Jackowski at gust.org.pl

From P.Jackowski at gust.org.pl  Thu Jun  4 09:32:18 2009
From: P.Jackowski at gust.org.pl (=?UTF-8?B?UGF3ZcWCIEphY2tvd3NraQ==?=)
Date: Thu, 04 Jun 2009 09:32:18 +0200
Subject: [Dev-luatex] Sorry,
 could not find required X include and library files
In-Reply-To: <4A2775E7.1050203@gust.org.pl>
References: <4A2758EF.3050806@gust.org.pl> <4A276D19.9000505@elvenkind.com>
	<4A2775E7.1050203@gust.org.pl>
Message-ID: <4A277882.2010403@gust.org.pl>


> I've checked that --without-mf-x-toolkit is enough.

Oooops, just in case it matters, it was enough to build from existing 
makes, but once I rebuild all without

	--without-x \

option then I get the same X-error.

-- 
Pawe/l Jackowski
P.Jackowski at gust.org.pl

From preining at logic.at  Thu Jun  4 11:39:38 2009
From: preining at logic.at (Norbert Preining)
Date: Thu, 4 Jun 2009 11:39:38 +0200
Subject: [Dev-luatex] Sorry,
	could not find required X include and library files
In-Reply-To: <4A276D19.9000505@elvenkind.com>
References: <4A2758EF.3050806@gust.org.pl> <4A276D19.9000505@elvenkind.com>
Message-ID: <20090604093938.GC19353@gamma.logic.tuwien.ac.at>

On Do, 04 Jun 2009, Taco Hoekwater wrote:
> Can you please edit luatex's build.sh and add the line
> 
>   --without-mf-x-toolkit --without-x \

For Debian I patched in 
	--without-x 
and that turned out to be enough so that no checking on X headers is
done.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
YARMOUTH (vb.)
To shout at foreigners in the belief that the louder you speak, the
better they'll understand you.
			--- Douglas Adams, The Meaning of Liff

From root at www.metatex.org  Thu Jun  4 12:27:55 2009
From: root at www.metatex.org (Cron Daemon)
Date: Thu,  4 Jun 2009 12:27:55 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090604102755.5E3601E8C3FB@www.metatex.org>

------------------------------------------------------------------------
r2425 | hhenkel | 2009-06-03 23:03:51 +0200 (Wed, 03 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/utils/synctex.c

a try to fix http://tracker.luatex.org/view.php?id=239
"SyncTeX is not working properly", reported by Khaled Hosny

------------------------------------------------------------------------
r2426 | hhenkel | 2009-06-04 00:58:56 +0200 (Thu, 04 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/utils/synctex.c

try to make r2425 working also for DVI

------------------------------------------------------------------------
r2427 | taco | 2009-06-04 08:41:53 +0200 (Thu, 04 Jun 2009) | 2 lines
Changed paths:
   M /trunk/build.sh

add another set of --withouts

------------------------------------------------------------------------
r2428 | taco | 2009-06-04 08:49:56 +0200 (Thu, 04 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/luafont.c
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/lua/luainit.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/src/luafflib.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.h
   M /trunk/source/texk/web2c/luatexdir/tex/primitive.c
   M /trunk/source/texk/web2c/luatexdir/utils/avlstuff.c
   M /trunk/source/texk/web2c/luatexdir/utils/synctex.c

aix compatibility patches by vladimir volovich

------------------------------------------------------------------------
r2429 | taco | 2009-06-04 11:11:52 +0200 (Thu, 04 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/gwwiconv.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/ucharmap.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/encoding.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/nouiutil.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/inc/ustring.h
   M /trunk/source/texk/web2c/luatexdir/luafontloader/src/ffdummies.c

remove support for ISO-2022 encodings, and drop a few unused/unneeded fontforge 
functions

------------------------------------------------------------------------
r2430 | taco | 2009-06-04 12:01:35 +0200 (Thu, 04 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luafontloader/src/ffdummies.c

previous commit forgot to copy the utf string

------------------------------------------------------------------------
r2431 | taco | 2009-06-04 12:02:29 +0200 (Thu, 04 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/cjk.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/gwwiconv.c

disable iconv into cjk encodings unless TO_CJK_ICONV is defined
(and it normally isnt)

------------------------------------------------------------------------

From root at www.metatex.org  Thu Jun  4 22:26:46 2009
From: root at www.metatex.org (Cron Daemon)
Date: Thu,  4 Jun 2009 22:26:46 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090604202646.7D9421E8C3FB@www.metatex.org>

------------------------------------------------------------------------
r2432 | oneiros | 2009-06-04 22:11:14 +0200 (Thu, 04 Jun 2009) | 2 lines
Changed paths:
   D /trunk/source/libs/libpng/libpng-1.2.36
   A /trunk/source/libs/libpng/libpng-1.2.37 (from /trunk/source/libs/libpng/libpng-1.2.36:2431)
   M /trunk/source/libs/libpng/libpng-1.2.37/ANNOUNCE
   M /trunk/source/libs/libpng/libpng-1.2.37/CHANGES
   M /trunk/source/libs/libpng/libpng-1.2.37/INSTALL
   M /trunk/source/libs/libpng/libpng-1.2.37/KNOWNBUG
   M /trunk/source/libs/libpng/libpng-1.2.37/LICENSE
   M /trunk/source/libs/libpng/libpng-1.2.37/Makefile.am
   M /trunk/source/libs/libpng/libpng-1.2.37/Makefile.in
   M /trunk/source/libs/libpng/libpng-1.2.37/README
   M /trunk/source/libs/libpng/libpng-1.2.37/Y2KINFO
   M /trunk/source/libs/libpng/libpng-1.2.37/configure
   M /trunk/source/libs/libpng/libpng-1.2.37/configure.ac
   M /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/decoder/README
   A /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/decoder/makefile
   D /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/decoder/makefile.std
   M /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/decoder/pngusr.h
   M /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/encoder/README
   A /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/encoder/makefile
   D /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/encoder/makefile.std
   M /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/encoder/pngusr.h
   A /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/preader
   A /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/preader/README
   A /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/preader/gather.sh
   A /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/preader/makefile
   A /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/preader/pngusr.h
   M /trunk/source/libs/libpng/libpng-1.2.37/contrib/visupng/VisualPng.dsp
   M /trunk/source/libs/libpng/libpng-1.2.37/contrib/visupng/VisualPng.dsw
   M /trunk/source/libs/libpng/libpng-1.2.37/contrib/visupng/VisualPng.rc
   M /trunk/source/libs/libpng/libpng-1.2.37/example.c
   D /trunk/source/libs/libpng/libpng-1.2.37/libpng-1.2.36.txt
   A /trunk/source/libs/libpng/libpng-1.2.37/libpng-1.2.37.txt (from /trunk/source/libs/libpng/libpng-1.2.36/libpng-1.2.36.txt:2431)
   M /trunk/source/libs/libpng/libpng-1.2.37/libpng.3
   M /trunk/source/libs/libpng/libpng-1.2.37/libpngpf.3
   M /trunk/source/libs/libpng/libpng-1.2.37/png.5
   M /trunk/source/libs/libpng/libpng-1.2.37/png.c
   M /trunk/source/libs/libpng/libpng-1.2.37/png.h
   M /trunk/source/libs/libpng/libpng-1.2.37/pngconf.h
   M /trunk/source/libs/libpng/libpng-1.2.37/pngerror.c
   M /trunk/source/libs/libpng/libpng-1.2.37/pngget.c
   M /trunk/source/libs/libpng/libpng-1.2.37/pngmem.c
   M /trunk/source/libs/libpng/libpng-1.2.37/pngpread.c
   M /trunk/source/libs/libpng/libpng-1.2.37/pngread.c
   M /trunk/source/libs/libpng/libpng-1.2.37/pngrio.c
   M /trunk/source/libs/libpng/libpng-1.2.37/pngrtran.c
   M /trunk/source/libs/libpng/libpng-1.2.37/pngrutil.c
   M /trunk/source/libs/libpng/libpng-1.2.37/pngset.c
   M /trunk/source/libs/libpng/libpng-1.2.37/pngtest.c
   M /trunk/source/libs/libpng/libpng-1.2.37/pngtrans.c
   M /trunk/source/libs/libpng/libpng-1.2.37/pngwio.c
   M /trunk/source/libs/libpng/libpng-1.2.37/pngwrite.c
   M /trunk/source/libs/libpng/libpng-1.2.37/pngwtran.c
   M /trunk/source/libs/libpng/libpng-1.2.37/pngwutil.c
   M /trunk/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpng.bpg
   M /trunk/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpng.bpr
   M /trunk/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpngstat.bpr
   M /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc6/libpng.dsp
   M /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc6/libpng.dsw
   M /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc6/pngtest.dsp
   M /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc71/libpng.vcproj
   M /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc71/pngtest.vcproj
   M /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc71/zlib.vcproj
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/CMakeLists.txt
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/descrip.mms
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/libpng-config-head.in
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/libpng.pc.in
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.32sunu
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.64sunu
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.acorn
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.aix
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.bc32
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.beos
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.bor
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.cygwin
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.darwin
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.dec
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.dj2
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.elf
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.freebsd
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.gcc
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.gcmmx
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.hp64
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.hpgcc
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.hpux
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.ibmc
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.intel
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.knr
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.linux
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.mingw
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.mips
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.msc
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.ne12bsd
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.netbsd
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.nommx
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.openbsd
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.sco
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.sggcc
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.sgi
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.so9
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.solaris
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.solaris-x86
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.std
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.sunos
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.vcawin32
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.vcwin32
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/makevms.com
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/pngos2.def
   M /trunk/source/libs/libpng/libpng-1.2.37/scripts/pngw32.def

import libpng 1.2.37

------------------------------------------------------------------------
r2433 | oneiros | 2009-06-04 22:16:09 +0200 (Thu, 04 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/libs/libpng/ChangeLog
   M /trunk/source/libs/libpng/Makefile.in
   M /trunk/source/libs/libpng/configure
   M /trunk/source/libs/libpng/configure.ac

libpng 1.2.37

------------------------------------------------------------------------

From mpg at elzevir.fr  Thu Jun  4 23:14:50 2009
From: mpg at elzevir.fr (=?ISO-8859-15?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Thu, 04 Jun 2009 23:14:50 +0200
Subject: [Dev-luatex] Minor typos in luatex.web
Message-ID: <4A28394A.4040702@elzevir.fr>

Hi,

While trying to tangle luatex.web, I found it necesseary to apply the following
patch in order to fix what looks like two typos.	

diff --git a/source/texk/web2c/luatexdir/luatex.web
b/source/texk/web2c/luatexdir/luatex.web
index bfcf025..5f0eb64 100644
--- a/source/texk/web2c/luatexdir/luatex.web
+++ b/source/texk/web2c/luatexdir/luatex.web
@@ -5413,8 +5413,7 @@ primitive_tex("errhelp",assign_toks,err_help_loc,local_base);
 primitive_pdftex("pdfpagesattr",assign_toks,pdf_pages_attr_loc,local_base);
 @!@:pdf_pages_attr_}{\.{\\pdfpagesattr} primitive@>
 primitive_pdftex("pdfpageattr",assign_toks,pdf_page_attr_loc,local_base);
-@!@:pdf_page_attr_}{\.{\\pdfpageattmooi
-r} primitive@>
+@!@:pdf_page_attr_}{\.{\\pdfpageattr} primitive@>
 primitive_pdftex("pdfpageresources",assign_toks,pdf_page_resources_loc,local_base);
 @!@:pdf_page_resources_}{\.{\\pdfpageresources} primitive@>
 primitive_pdftex("pdfpkmode",assign_toks,pdf_pk_mode_loc,local_base);
@@ -21284,7 +21283,7 @@ node $r_j$ is followed by
|r at t$_{j+1}$@>=vlink(r at t$_j$@>)|; and if there are
 each node in this list refers to an insertion number; for example, `\.{\\insert
 250}' would correspond to a node whose |subtype| is |qi(250)|
 (the same as the |subtype| field of the relevant |ins_node|). These |subtype|
-fields are in increasing order, and |subtype(page_ins_head)=65535, so
+fields are in increasing order, and |subtype(page_ins_head)=65535|, so
 |page_ins_head| serves as a convenient sentinel
 at the end of the list. A record is present for each insertion number that
 appears in the current page.

The first one was introduced by svn rev 2386 (luatex 0.41.0) and the first one
dates back from at least 0.25.4.

Manuel.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: luatex.web.patch
Type: text/x-diff
Size: 1449 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090604/91451975/attachment.bin>

From mpg at elzevir.fr  Fri Jun  5 00:09:39 2009
From: mpg at elzevir.fr (=?ISO-8859-15?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Fri, 05 Jun 2009 00:09:39 +0200
Subject: [Dev-luatex] Minor typos in luatex.web
In-Reply-To: <4A28394A.4040702@elzevir.fr>
References: <4A28394A.4040702@elzevir.fr>
Message-ID: <4A284623.60006@elzevir.fr>

Manuel P?gouri?-Gonnard a ?crit :
> While trying to tangle luatex.web, I found it necesseary to apply the following
> patch in order to fix what looks like two typos.	
> 
By the way, while pdfluatex-ing the result, I noticed problems with naked
\outputbox in the text, for which I would suggest the following fix:

diff --git a/source/texk/web2c/luatexdir/luatex.web
b/source/texk/web2c/luatexdir/luatex.web
index 5f0eb64..d10d022 100644
--- a/source/texk/web2c/luatexdir/luatex.web
+++ b/source/texk/web2c/luatexdir/luatex.web
@@ -21483,7 +21483,7 @@ last_glue:=max_halfword; last_penalty:=0; last_kern:=0;
 last_node_type:=-1;
 page_depth:=0; page_max_depth:=0

-@ At certain times box \outputbox is supposed to be void (i.e., |null|),
+@ At certain times box \.{\\outputbox} is supposed to be void (i.e., |null|),
 or an insertion box is supposed to be ready to accept a vertical list.
 If not, an error message is printed, and the following subroutine
 flushes the unwanted contents, reporting them to the user.
@@ -23279,7 +23279,7 @@ begin if cur_cmd=vadjust then cur_val:=output_box
 else  begin scan_register_num;
   if cur_val=output_box then
     begin print_err("You can't "); print_esc("insert"); print_int(output_box);
- at .You can't \\insert\outputbox@>
+ at .You can't \\insert\\outputbox@>
     help1("I'm changing to \insert0; box \outputbox is special.");
     error; cur_val:=0;
     end;

Best,
Manuel.

From taco at elvenkind.com  Fri Jun  5 09:05:29 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 05 Jun 2009 09:05:29 +0200
Subject: [Dev-luatex] Minor typos in luatex.web
In-Reply-To: <4A284623.60006@elzevir.fr>
References: <4A28394A.4040702@elzevir.fr> <4A284623.60006@elzevir.fr>
Message-ID: <4A28C3B9.9030203@elvenkind.com>

Manuel P?gouri?-Gonnard wrote:
> Manuel P?gouri?-Gonnard a ?crit :
>> While trying to tangle luatex.web, I found it necesseary to apply the following
>> patch in order to fix what looks like two typos.	
>>
> By the way, while pdfluatex-ing the result, I noticed problems with naked
> \outputbox in the text, for which I would suggest the following fix:
> 
> diff --git a/source/texk/web2c/luatexdir/luatex.web

Thanks, both patches applied.

Best wishes,
Taco

From root at www.metatex.org  Fri Jun  5 12:27:37 2009
From: root at www.metatex.org (Cron Daemon)
Date: Fri,  5 Jun 2009 12:27:37 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090605102737.8EBB51E8C2AC@www.metatex.org>

------------------------------------------------------------------------
r2434 | hhenkel | 2009-06-04 22:25:30 +0200 (Thu, 04 Jun 2009) | 4 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/utils/synctex.c

further fix to r2425. Now also in DVI the box etc. origins
should be properly recorded by synctex, but the highlight
areas are still not tranformed with the box direction. TODO.

------------------------------------------------------------------------
r2435 | taco | 2009-06-05 09:02:45 +0200 (Fri, 05 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.web

weave patches from Manuel P?\195?\169gouri?\195?\169-Gonnard

------------------------------------------------------------------------
r2436 | taco | 2009-06-05 09:56:10 +0200 (Fri, 05 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.ch

simplified luatex.ch from Karl Berry

------------------------------------------------------------------------

From root at www.metatex.org  Fri Jun  5 16:26:45 2009
From: root at www.metatex.org (Cron Daemon)
Date: Fri,  5 Jun 2009 16:26:45 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090605142645.4B3521E8C3EE@www.metatex.org>

------------------------------------------------------------------------
r2437 | taco | 2009-06-05 15:31:53 +0200 (Fri, 05 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/tex/filename.c

fix handling of UTF-8 file names

------------------------------------------------------------------------

From root at www.metatex.org  Sat Jun  6 12:28:10 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sat,  6 Jun 2009 12:28:10 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090606102810.392631E8C3EE@www.metatex.org>

------------------------------------------------------------------------
r2438 | taco | 2009-06-06 12:10:21 +0200 (Sat, 06 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lang/texlang.c

fix bug #230: hyphenation exceptions case sensitive

------------------------------------------------------------------------

From root at www.metatex.org  Sat Jun  6 22:26:35 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sat,  6 Jun 2009 22:26:35 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090606202635.7E5D81E8C3EE@www.metatex.org>

------------------------------------------------------------------------
r2439 | oneiros | 2009-06-06 16:34:36 +0200 (Sat, 06 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/filename.c
   M /trunk/source/texk/web2c/luatexdir/tex/linebreak.c
   M /trunk/source/texk/web2c/luatexdir/tex/math.c
   M /trunk/source/texk/web2c/luatexdir/tex/mlist.c
   M /trunk/source/texk/web2c/luatexdir/tex/postlinebreak.c
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c

indent

------------------------------------------------------------------------
r2440 | oneiros | 2009-06-06 16:38:00 +0200 (Sat, 06 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c

indent

------------------------------------------------------------------------
r2441 | oneiros | 2009-06-06 16:43:24 +0200 (Sat, 06 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/dofont.c
   M /trunk/source/texk/web2c/luatexdir/font/luafont.c
   M /trunk/source/texk/web2c/luatexdir/font/subfont.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.h
   M /trunk/source/texk/web2c/luatexdir/font/tounicode.c
   M /trunk/source/texk/web2c/luatexdir/font/vfovf.c
   M /trunk/source/texk/web2c/luatexdir/font/writecff.c
   M /trunk/source/texk/web2c/luatexdir/font/writeenc.c
   M /trunk/source/texk/web2c/luatexdir/font/writet1.c
   M /trunk/source/texk/web2c/luatexdir/font/writettf.c

indent

------------------------------------------------------------------------
r2442 | oneiros | 2009-06-06 16:49:08 +0200 (Sat, 06 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/commands.h
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.h
   M /trunk/source/texk/web2c/luatexdir/lang/texlang.c
   M /trunk/source/texk/web2c/luatexdir/lua/lcallbacklib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lfontlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lnodelib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltexlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltokenlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luainit.c
   M /trunk/source/texk/web2c/luatexdir/lua/luanode.c
   M /trunk/source/texk/web2c/luatexdir/lua/luatex.c
   M /trunk/source/texk/web2c/luatexdir/luatex-api.h
   M /trunk/source/texk/web2c/luatexdir/nodes.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pagetree.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.h
   M /trunk/source/texk/web2c/luatexdir/texmath.h

indent

------------------------------------------------------------------------

From root at www.metatex.org  Sun Jun  7 16:26:48 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sun,  7 Jun 2009 16:26:48 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090607142648.5E19E1E8C3EE@www.metatex.org>

------------------------------------------------------------------------
r2443 | taco | 2009-06-07 13:41:11 +0200 (Sun, 07 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/aclocal.m4
   M /trunk/source/texk/web2c/configure
   M /trunk/source/texk/web2c/doc/Makefile.in
   M /trunk/source/texk/web2c/lib/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   A /trunk/source/texk/web2c/luatexdir/ocp
   A /trunk/source/texk/web2c/luatexdir/ocp/readocp.c
   A /trunk/source/texk/web2c/luatexdir/ocp/readocp.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/man/Makefile.in
   M /trunk/source/texk/web2c/web2c/Makefile.in
   M /trunk/source/texk/web2c/web2c/aclocal.m4
   M /trunk/source/texk/web2c/web2c/configure

move read_ocp_info() to C (and autoreconf)

------------------------------------------------------------------------

From root at www.metatex.org  Sun Jun  7 22:26:37 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sun,  7 Jun 2009 22:26:37 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090607202637.E01131E8C3EE@www.metatex.org>

------------------------------------------------------------------------
r2444 | hhenkel | 2009-06-07 19:10:19 +0200 (Sun, 07 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.ch

fix spurious blank in web macro

------------------------------------------------------------------------
r2445 | hhenkel | 2009-06-07 21:27:04 +0200 (Sun, 07 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.web

a @ seems to be needed, weird

------------------------------------------------------------------------
r2446 | taco | 2009-06-07 21:31:54 +0200 (Sun, 07 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.web

Oops I broke compilation this morning

------------------------------------------------------------------------
r2447 | hhenkel | 2009-06-07 21:58:34 +0200 (Sun, 07 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/texfont.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.h
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web

cosmetics, make old tangle work on luatex

------------------------------------------------------------------------

From taco at elvenkind.com  Mon Jun  8 10:58:13 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 08 Jun 2009 10:58:13 +0200
Subject: [Dev-luatex] luatex beta 0.40.3
Message-ID: <4A2CD2A5.8030005@elvenkind.com>

Hi,

I have just uploaded luatex 0.40.3 to the foundry server,
and have committed the source code to texlive.

What's new:

* A set of portability fixes for the AIX compiler from Vladimir
  Volovich.

* A set of fixes to the synctex support.

* A patch to the build script to prevent installed X11 headers
  from being required.

* Some weave (web syntax) fixes from Manuel P?gouri?-Gonnard.

* A simplification in luatex.ch (it is now less verbose
  about the web2c-specific extensions) from Karl Berry.

* A fix in the handling of UTF-8 (input) file names.

* Hyphenation exceptions were case sensitive in 0.40.2.


The archives can be downloaded from supelec as usual:

        http://foundry.supelec.fr/gf/project/luatex/

You could also check out the sources via anonymous svn:

  svn co http://foundry.supelec.fr/svn/luatex/tags/beta-0.40.3

Bugs and feature requests can be added to the issue tracker at

       http://tracker.luatex.org


Have fun,
Taco





From root at www.metatex.org  Mon Jun  8 12:31:06 2009
From: root at www.metatex.org (Cron Daemon)
Date: Mon,  8 Jun 2009 12:31:06 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090608103106.AAB5D1E8C3EF@www.metatex.org>

------------------------------------------------------------------------
r2448 | taco | 2009-06-08 09:43:50 +0200 (Mon, 08 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/build.sh
   M /branches/0.40.x/manual/luatexref-t.tex
   M /branches/0.40.x/source/libs/libpng/ChangeLog
   M /branches/0.40.x/source/libs/libpng/Makefile.in
   M /branches/0.40.x/source/libs/libpng/configure
   M /branches/0.40.x/source/libs/libpng/configure.ac
   D /branches/0.40.x/source/libs/libpng/libpng-1.2.36
   A /branches/0.40.x/source/libs/libpng/libpng-1.2.37 (from /trunk/source/libs/libpng/libpng-1.2.37:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/ANNOUNCE (from /trunk/source/libs/libpng/libpng-1.2.37/ANNOUNCE:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/CHANGES (from /trunk/source/libs/libpng/libpng-1.2.37/CHANGES:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/INSTALL (from /trunk/source/libs/libpng/libpng-1.2.37/INSTALL:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/KNOWNBUG (from /trunk/source/libs/libpng/libpng-1.2.37/KNOWNBUG:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/LICENSE (from /trunk/source/libs/libpng/libpng-1.2.37/LICENSE:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/Makefile.am (from /trunk/source/libs/libpng/libpng-1.2.37/Makefile.am:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/Makefile.in (from /trunk/source/libs/libpng/libpng-1.2.37/Makefile.in:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/README (from /trunk/source/libs/libpng/libpng-1.2.37/README:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/TODO (from /trunk/source/libs/libpng/libpng-1.2.37/TODO:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/Y2KINFO (from /trunk/source/libs/libpng/libpng-1.2.37/Y2KINFO:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/autogen.sh (from /trunk/source/libs/libpng/libpng-1.2.37/autogen.sh:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/config.guess (from /trunk/source/libs/libpng/libpng-1.2.37/config.guess:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/config.h.in (from /trunk/source/libs/libpng/libpng-1.2.37/config.h.in:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/config.sub (from /trunk/source/libs/libpng/libpng-1.2.37/config.sub:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/configure (from /trunk/source/libs/libpng/libpng-1.2.37/configure:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/configure.ac (from /trunk/source/libs/libpng/libpng-1.2.37/configure.ac:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib (from /trunk/source/libs/libpng/libpng-1.2.37/contrib:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/COPYING (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/COPYING:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/LICENSE (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/LICENSE:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/Makefile.mingw32 (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/Makefile.mingw32:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/Makefile.sgi (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/Makefile.sgi:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/Makefile.unx (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/Makefile.unx:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/Makefile.w32 (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/Makefile.w32:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/README (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/README:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/makevms.com (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/makevms.com:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/readpng.c (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/readpng.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/readpng.h (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/readpng.h:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/readpng2.c (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/readpng2.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/readpng2.h (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/readpng2.h:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/readppm.c (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/readppm.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/rpng-win.c (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/rpng-win.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/rpng-x.c (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/rpng-x.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/rpng2-win.c (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/rpng2-win.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/rpng2-x.c (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/rpng2-x.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/toucan.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/toucan.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/wpng.c (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/wpng.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/writepng.c (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/writepng.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/gregbook/writepng.h (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/gregbook/writepng.h:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim/decoder (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/decoder:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim/decoder/README (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/decoder/README:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim/decoder/gather.sh (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/decoder/gather.sh:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim/decoder/makefile (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/decoder/makefile:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim/decoder/pngusr.h (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/decoder/pngusr.h:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim/encoder (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/encoder:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim/encoder/README (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/encoder/README:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim/encoder/dummy_inflate.c (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/encoder/dummy_inflate.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim/encoder/gather.sh (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/encoder/gather.sh:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim/encoder/makefile (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/encoder/makefile:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim/encoder/pngusr.h (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/encoder/pngusr.h:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim/preader (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/preader:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim/preader/README (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/preader/README:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim/preader/gather.sh (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/preader/gather.sh:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim/preader/makefile (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/preader/makefile:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminim/preader/pngusr.h (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminim/preader/pngusr.h:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminus (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminus:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminus/README (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminus/README:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminus/makefile.std (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminus/makefile.std:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminus/makefile.tc3 (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminus/makefile.tc3:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminus/makevms.com (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminus/makevms.com:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminus/png2pnm.bat (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminus/png2pnm.bat:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminus/png2pnm.c (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminus/png2pnm.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminus/png2pnm.sh (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminus/png2pnm.sh:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminus/pngminus.bat (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminus/pngminus.bat:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminus/pngminus.sh (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminus/pngminus.sh:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminus/pnm2png.bat (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminus/pnm2png.bat:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminus/pnm2png.c (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminus/pnm2png.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngminus/pnm2png.sh (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngminus/pnm2png.sh:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/README (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/README:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn0g01.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn0g01.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn0g02.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn0g02.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn0g04.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn0g04.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn0g08.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn0g08.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn0g16.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn0g16.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn2c08.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn2c08.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn2c16.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn2c16.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn3p01.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn3p01.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn3p02.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn3p02.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn3p04.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn3p04.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn3p08.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn3p08.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn4a08.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn4a08.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn4a16.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn4a16.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn6a08.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn6a08.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn6a16.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/pngsuite/basn6a16.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/visupng (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/visupng:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/visupng/PngFile.c (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/visupng/PngFile.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/visupng/PngFile.h (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/visupng/PngFile.h:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/visupng/README.txt (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/visupng/README.txt:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/visupng/VisualPng.c (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/visupng/VisualPng.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/visupng/VisualPng.dsp (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/visupng/VisualPng.dsp:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/visupng/VisualPng.dsw (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/visupng/VisualPng.dsw:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/visupng/VisualPng.ico (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/visupng/VisualPng.ico:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/visupng/VisualPng.png (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/visupng/VisualPng.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/visupng/VisualPng.rc (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/visupng/VisualPng.rc:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/visupng/cexcept.h (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/visupng/cexcept.h:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/contrib/visupng/resource.h (from /trunk/source/libs/libpng/libpng-1.2.37/contrib/visupng/resource.h:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/depcomp (from /trunk/source/libs/libpng/libpng-1.2.37/depcomp:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/example.c (from /trunk/source/libs/libpng/libpng-1.2.37/example.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/install-sh (from /trunk/source/libs/libpng/libpng-1.2.37/install-sh:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/libpng-1.2.37.txt (from /trunk/source/libs/libpng/libpng-1.2.37/libpng-1.2.37.txt:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/libpng.3 (from /trunk/source/libs/libpng/libpng-1.2.37/libpng.3:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/libpngpf.3 (from /trunk/source/libs/libpng/libpng-1.2.37/libpngpf.3:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/ltmain.sh (from /trunk/source/libs/libpng/libpng-1.2.37/ltmain.sh:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/missing (from /trunk/source/libs/libpng/libpng-1.2.37/missing:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/mkinstalldirs (from /trunk/source/libs/libpng/libpng-1.2.37/mkinstalldirs:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/png.5 (from /trunk/source/libs/libpng/libpng-1.2.37/png.5:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/png.c (from /trunk/source/libs/libpng/libpng-1.2.37/png.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/png.h (from /trunk/source/libs/libpng/libpng-1.2.37/png.h:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngbar.jpg (from /trunk/source/libs/libpng/libpng-1.2.37/pngbar.jpg:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngbar.png (from /trunk/source/libs/libpng/libpng-1.2.37/pngbar.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngconf.h (from /trunk/source/libs/libpng/libpng-1.2.37/pngconf.h:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngerror.c (from /trunk/source/libs/libpng/libpng-1.2.37/pngerror.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pnggccrd.c (from /trunk/source/libs/libpng/libpng-1.2.37/pnggccrd.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngget.c (from /trunk/source/libs/libpng/libpng-1.2.37/pngget.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngmem.c (from /trunk/source/libs/libpng/libpng-1.2.37/pngmem.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngnow.png (from /trunk/source/libs/libpng/libpng-1.2.37/pngnow.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngpread.c (from /trunk/source/libs/libpng/libpng-1.2.37/pngpread.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngread.c (from /trunk/source/libs/libpng/libpng-1.2.37/pngread.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngrio.c (from /trunk/source/libs/libpng/libpng-1.2.37/pngrio.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngrtran.c (from /trunk/source/libs/libpng/libpng-1.2.37/pngrtran.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngrutil.c (from /trunk/source/libs/libpng/libpng-1.2.37/pngrutil.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngset.c (from /trunk/source/libs/libpng/libpng-1.2.37/pngset.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngtest.c (from /trunk/source/libs/libpng/libpng-1.2.37/pngtest.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngtest.png (from /trunk/source/libs/libpng/libpng-1.2.37/pngtest.png:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngtrans.c (from /trunk/source/libs/libpng/libpng-1.2.37/pngtrans.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngvcrd.c (from /trunk/source/libs/libpng/libpng-1.2.37/pngvcrd.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngwio.c (from /trunk/source/libs/libpng/libpng-1.2.37/pngwio.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngwrite.c (from /trunk/source/libs/libpng/libpng-1.2.37/pngwrite.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngwtran.c (from /trunk/source/libs/libpng/libpng-1.2.37/pngwtran.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/pngwutil.c (from /trunk/source/libs/libpng/libpng-1.2.37/pngwutil.c:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects (from /trunk/source/libs/libpng/libpng-1.2.37/projects:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/beos (from /trunk/source/libs/libpng/libpng-1.2.37/projects/beos:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/beos/x86-shared.proj (from /trunk/source/libs/libpng/libpng-1.2.37/projects/beos/x86-shared.proj:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/beos/x86-shared.txt (from /trunk/source/libs/libpng/libpng-1.2.37/projects/beos/x86-shared.txt:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/beos/x86-static.proj (from /trunk/source/libs/libpng/libpng-1.2.37/projects/beos/x86-static.proj:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/beos/x86-static.txt (from /trunk/source/libs/libpng/libpng-1.2.37/projects/beos/x86-static.txt:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/cbuilder5 (from /trunk/source/libs/libpng/libpng-1.2.37/projects/cbuilder5:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpng.bpf (from /trunk/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpng.bpf:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpng.bpg (from /trunk/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpng.bpg:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpng.bpr (from /trunk/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpng.bpr:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpng.cpp (from /trunk/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpng.cpp:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpng.readme.txt (from /trunk/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpng.readme.txt:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpngstat.bpf (from /trunk/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpngstat.bpf:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpngstat.bpr (from /trunk/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/libpngstat.bpr:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/zlib.readme.txt (from /trunk/source/libs/libpng/libpng-1.2.37/projects/cbuilder5/zlib.readme.txt:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/netware.txt (from /trunk/source/libs/libpng/libpng-1.2.37/projects/netware.txt:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/visualc6 (from /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc6:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/visualc6/README.txt (from /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc6/README.txt:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/visualc6/libpng.dsp (from /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc6/libpng.dsp:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/visualc6/libpng.dsw (from /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc6/libpng.dsw:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/visualc6/pngtest.dsp (from /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc6/pngtest.dsp:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/visualc71 (from /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc71:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/visualc71/PRJ0041.mak (from /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc71/PRJ0041.mak:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/visualc71/README.txt (from /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc71/README.txt:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/visualc71/README_zlib.txt (from /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc71/README_zlib.txt:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/visualc71/libpng.sln (from /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc71/libpng.sln:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/visualc71/libpng.vcproj (from /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc71/libpng.vcproj:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/visualc71/pngtest.vcproj (from /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc71/pngtest.vcproj:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/visualc71/zlib.vcproj (from /trunk/source/libs/libpng/libpng-1.2.37/projects/visualc71/zlib.vcproj:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/projects/wince.txt (from /trunk/source/libs/libpng/libpng-1.2.37/projects/wince.txt:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts (from /trunk/source/libs/libpng/libpng-1.2.37/scripts:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/CMakeLists.txt (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/CMakeLists.txt:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/SCOPTIONS.ppc (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/SCOPTIONS.ppc:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/descrip.mms (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/descrip.mms:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/libpng-config-body.in (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/libpng-config-body.in:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/libpng-config-head.in (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/libpng-config-head.in:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/libpng-config.in (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/libpng-config.in:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/libpng.icc (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/libpng.icc:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/libpng.pc-configure.in (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/libpng.pc-configure.in:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/libpng.pc.in (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/libpng.pc.in:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.32sunu (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.32sunu:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.64sunu (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.64sunu:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.acorn (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.acorn:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.aix (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.aix:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.amiga (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.amiga:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.atari (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.atari:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.bc32 (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.bc32:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.beos (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.beos:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.bor (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.bor:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.cygwin (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.cygwin:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.darwin (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.darwin:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.dec (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.dec:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.dj2 (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.dj2:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.elf (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.elf:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.freebsd (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.freebsd:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.gcc (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.gcc:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.gcmmx (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.gcmmx:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.hp64 (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.hp64:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.hpgcc (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.hpgcc:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.hpux (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.hpux:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.ibmc (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.ibmc:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.intel (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.intel:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.knr (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.knr:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.linux (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.linux:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.mingw (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.mingw:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.mips (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.mips:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.msc (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.msc:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.ne12bsd (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.ne12bsd:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.netbsd (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.netbsd:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.nommx (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.nommx:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.openbsd (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.openbsd:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.os2 (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.os2:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.sco (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.sco:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.sggcc (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.sggcc:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.sgi (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.sgi:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.so9 (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.so9:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.solaris (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.solaris:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.solaris-x86 (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.solaris-x86:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.std (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.std:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.sunos (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.sunos:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.tc3 (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.tc3:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.vcawin32 (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.vcawin32:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.vcwin32 (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.vcwin32:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makefile.watcom (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makefile.watcom:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/makevms.com (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/makevms.com:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/pngos2.def (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/pngos2.def:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/pngw32.def (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/pngw32.def:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/pngw32.rc (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/pngw32.rc:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/scripts/smakefile.ppc (from /trunk/source/libs/libpng/libpng-1.2.37/scripts/smakefile.ppc:2433)
   R /branches/0.40.x/source/libs/libpng/libpng-1.2.37/test-pngtest.sh (from /trunk/source/libs/libpng/libpng-1.2.37/test-pngtest.sh:2433)
   M /branches/0.40.x/source/texk/web2c/luatexdir/commands.h
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/dofont.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/luafont.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/subfont.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/texfont.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/texfont.h
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/tfmofm.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/tounicode.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/vfovf.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/writecff.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/writeenc.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/writet1.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/writettf.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/image/pdftoepdf.cc
   M /branches/0.40.x/source/texk/web2c/luatexdir/image/writeimg.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/image/writeimg.h
   M /branches/0.40.x/source/texk/web2c/luatexdir/lang/texlang.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua/lcallbacklib.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua/lfontlib.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua/lnodelib.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua/ltexlib.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua/ltokenlib.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua/luainit.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua/luanode.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua/luatex.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/luafontloader/src/luafflib.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/luatangle.test
   M /branches/0.40.x/source/texk/web2c/luatexdir/luatex-api.h
   M /branches/0.40.x/source/texk/web2c/luatexdir/luatex.ch
   M /branches/0.40.x/source/texk/web2c/luatexdir/luatex.web
   M /branches/0.40.x/source/texk/web2c/luatexdir/nodes.h
   M /branches/0.40.x/source/texk/web2c/luatexdir/pdf/pagetree.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/pdf/pdfpage.h
   M /branches/0.40.x/source/texk/web2c/luatexdir/tex/filename.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/tex/linebreak.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/tex/math.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/tex/mlist.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/tex/postlinebreak.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/tex/primitive.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/tex/texnodes.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/tex/textoken.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/texmath.h
   M /branches/0.40.x/source/texk/web2c/luatexdir/utils/avlstuff.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/utils/synctex.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/utils/utils.c

merge #2417,2419,2422-2428,2432-2442 from trunk

------------------------------------------------------------------------
r2449 | taco | 2009-06-08 09:53:41 +0200 (Mon, 08 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/ocp/readocp.c
   M /trunk/source/texk/web2c/luatexdir/ocp/readocp.h

fix a crash due to using the string pool before it is initialized

------------------------------------------------------------------------
r2450 | taco | 2009-06-08 10:30:52 +0200 (Mon, 08 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/source/texk/web2c/luatexdir/lang/texlang.c

disable verbosity

------------------------------------------------------------------------
r2451 | taco | 2009-06-08 10:33:53 +0200 (Mon, 08 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/manual/luatexref-t.pdf
   M /branches/0.40.x/manual/luatexref-t.tex
   M /branches/0.40.x/source/texk/web2c/luatexdir/NEWS
   M /branches/0.40.x/source/texk/web2c/luatexdir/luatex.web

bump the version numbers for 0.40.3

------------------------------------------------------------------------
r2452 | taco | 2009-06-08 10:35:16 +0200 (Mon, 08 Jun 2009) | 2 lines
Changed paths:
   A /tags/beta-0.40.3 (from /branches/0.40.x:2451)

new tag

------------------------------------------------------------------------

From root at www.metatex.org  Tue Jun  9 12:28:14 2009
From: root at www.metatex.org (Cron Daemon)
Date: Tue,  9 Jun 2009 12:28:14 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090609102814.6F93D1E8C3F6@www.metatex.org>

------------------------------------------------------------------------
r2453 | oneiros | 2009-06-08 23:39:26 +0200 (Mon, 08 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/ocp/readocp.c
   M /trunk/source/texk/web2c/luatexdir/ocp/readocp.h

svn:keywords

------------------------------------------------------------------------
r2454 | taco | 2009-06-09 11:04:27 +0200 (Tue, 09 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lang/texlang.c

stop being noisy

------------------------------------------------------------------------
r2455 | taco | 2009-06-09 11:37:26 +0200 (Tue, 09 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/source/texk/web2c/luatexdir/luatex.web

bugfix: \the\textfont0 returned a number instead of doing a font switch

------------------------------------------------------------------------
r2456 | taco | 2009-06-09 11:38:57 +0200 (Tue, 09 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/NEWS

import the 0.40.3 news from branches/0.40.0

------------------------------------------------------------------------
r2457 | taco | 2009-06-09 11:40:13 +0200 (Tue, 09 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/aclocal.m4
   M /trunk/source/texk/web2c/configure
   M /trunk/source/texk/web2c/doc/Makefile.in
   M /trunk/source/texk/web2c/lib/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/commands.h
   M /trunk/source/texk/web2c/luatexdir/lua/ltexlib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/nodes.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   A /trunk/source/texk/web2c/luatexdir/tex/align.c
   A /trunk/source/texk/web2c/luatexdir/tex/align.h
   M /trunk/source/texk/web2c/luatexdir/tex/math.c
   M /trunk/source/texk/web2c/luatexdir/tex/primitive.c
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.c
   M /trunk/source/texk/web2c/man/Makefile.in
   M /trunk/source/texk/web2c/web2c/Makefile.in
   M /trunk/source/texk/web2c/web2c/aclocal.m4
   M /trunk/source/texk/web2c/web2c/configure

convert the alignment code to C (align.[ch]), some #define cleanups, and autoreconf

------------------------------------------------------------------------
r2458 | taco | 2009-06-09 11:41:04 +0200 (Tue, 09 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.web

merge \the\textfont fix from the 0.40.x branch

------------------------------------------------------------------------

From taco at elvenkind.com  Tue Jun  9 15:58:02 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 09 Jun 2009 15:58:02 +0200
Subject: [Dev-luatex] luatex beta 0.40.4
Message-ID: <4A2E6A6A.2010304@elvenkind.com>

Hi,

I have just uploaded luatex 0.40.4 to the foundry server,
and have committed the source code to texlive.

What's new:

* \the\textfont0 returned a number instead of doing a font switch.

* The embedded MPlib is now 1.203.

The archives can be downloaded from supelec as usual:

        http://foundry.supelec.fr/gf/project/luatex/

You could also check out the sources via anonymous svn:

  svn co http://foundry.supelec.fr/svn/luatex/tags/beta-0.40.4

Bugs and feature requests can be added to the issue tracker at

       http://tracker.luatex.org


Have fun,
Taco





From root at www.metatex.org  Tue Jun  9 16:29:51 2009
From: root at www.metatex.org (Cron Daemon)
Date: Tue,  9 Jun 2009 16:29:51 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090609142951.2E9001E8C3F8@www.metatex.org>

------------------------------------------------------------------------
r2459 | taco | 2009-06-09 12:52:56 +0200 (Tue, 09 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/align.c

fix fatal_error arguments

------------------------------------------------------------------------
r2460 | taco | 2009-06-09 14:51:46 +0200 (Tue, 09 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/source/texk/web2c/mplibdir/ChangeLog
   M /branches/0.40.x/source/texk/web2c/mplibdir/mp.w

import mpost 1.203

------------------------------------------------------------------------
r2461 | taco | 2009-06-09 14:52:34 +0200 (Tue, 09 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/mplibdir/ChangeLog
   M /trunk/source/texk/web2c/mplibdir/mp.w

mpost 1.203

------------------------------------------------------------------------
r2462 | taco | 2009-06-09 15:15:57 +0200 (Tue, 09 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/manual/luatexref-t.pdf
   M /branches/0.40.x/manual/luatexref-t.tex
   M /branches/0.40.x/source/texk/web2c/luatexdir/NEWS
   M /branches/0.40.x/source/texk/web2c/luatexdir/luatex.web

update version numbers 

------------------------------------------------------------------------
r2463 | taco | 2009-06-09 15:16:42 +0200 (Tue, 09 Jun 2009) | 2 lines
Changed paths:
   A /tags/beta-0.40.4 (from /branches/0.40.x:2462)

new tag

------------------------------------------------------------------------
r2464 | taco | 2009-06-09 16:14:31 +0200 (Tue, 09 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/align.c

fix \tabskip

------------------------------------------------------------------------

From preining at logic.at  Tue Jun  9 16:26:57 2009
From: preining at logic.at (Norbert Preining)
Date: Tue, 9 Jun 2009 16:26:57 +0200
Subject: [Dev-luatex] luatex beta 0.40.4
In-Reply-To: <4A2E6A6A.2010304@elvenkind.com>
References: <4A2E6A6A.2010304@elvenkind.com>
Message-ID: <20090609142657.GE31330@gamma.logic.tuwien.ac.at>

On Di, 09 Jun 2009, Taco Hoekwater wrote:
> I have just uploaded luatex 0.40.4 to the foundry server,
> and have committed the source code to texlive.

Debian packages uploaded to unstable, new binaries for all possible
archs will be available in a few days.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
GODALMING (n.)
Wonderful rush of relief on discovering that the ely (q.v.) and the
wembley (q.v.) were in fact false alarms.
			--- Douglas Adams, The Meaning of Liff

From root at www.metatex.org  Tue Jun  9 22:27:03 2009
From: root at www.metatex.org (Cron Daemon)
Date: Tue,  9 Jun 2009 22:27:03 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090609202703.273131E8C3F8@www.metatex.org>

------------------------------------------------------------------------
r2465 | taco | 2009-06-09 16:36:00 +0200 (Tue, 09 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/align.c

fix \everycr processing

------------------------------------------------------------------------

From root at www.metatex.org  Wed Jun 10 12:28:47 2009
From: root at www.metatex.org (Cron Daemon)
Date: Wed, 10 Jun 2009 12:28:47 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090610102847.CDD221E8C3FB@www.metatex.org>

------------------------------------------------------------------------
r2466 | taco | 2009-06-10 11:47:22 +0200 (Wed, 10 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/primitive.c

add some VERBOSE tracing

------------------------------------------------------------------------
r2467 | taco | 2009-06-10 11:48:45 +0200 (Wed, 10 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.web

fix 'slow' printing of utf-8 strings 

------------------------------------------------------------------------
r2468 | taco | 2009-06-10 11:49:43 +0200 (Wed, 10 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/source/texk/web2c/luatexdir/luatex.web

fix 'slow' printing of utf-8 strings (from trunk)

------------------------------------------------------------------------
r2469 | taco | 2009-06-10 12:12:10 +0200 (Wed, 10 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c

fix printing of utf-8 characters via tprint()

------------------------------------------------------------------------
r2470 | taco | 2009-06-10 12:12:48 +0200 (Wed, 10 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/source/texk/web2c/luatexdir/utils/utils.c

fix printing of utf-8 characters via tprint()

------------------------------------------------------------------------

From taco at elvenkind.com  Wed Jun 10 16:05:28 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 10 Jun 2009 16:05:28 +0200
Subject: [Dev-luatex] luatex beta 0.40.5
Message-ID: <4A2FBDA8.2010208@elvenkind.com>

Hi,

I have just uploaded luatex 0.40.5 to the foundry server,
and have committed the source code to texlive.

What's new:

* One of the internal print functions accidentally encoded its
  argument string to UTF-8 even though it was already UTF-8.

* Some of the log and terminal UTF-8 output was gibberish.

The archives can be downloaded from supelec as usual:

        http://foundry.supelec.fr/gf/project/luatex/

You could also check out the sources via anonymous svn:

  svn co http://foundry.supelec.fr/svn/luatex/tags/beta-0.40.5

Bugs and feature requests can be added to the issue tracker at

       http://tracker.luatex.org


Have fun,
Taco


From root at www.metatex.org  Wed Jun 10 16:29:58 2009
From: root at www.metatex.org (Cron Daemon)
Date: Wed, 10 Jun 2009 16:29:58 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090610142958.D6DCC1E8C3FB@www.metatex.org>

------------------------------------------------------------------------
r2471 | taco | 2009-06-10 15:32:17 +0200 (Wed, 10 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/manual/luatexref-t.pdf
   M /branches/0.40.x/manual/luatexref-t.tex
   M /branches/0.40.x/source/texk/web2c/luatexdir/NEWS
   M /branches/0.40.x/source/texk/web2c/luatexdir/luatex.web

bump the version numbers for 0.40.5

------------------------------------------------------------------------
r2472 | taco | 2009-06-10 15:34:46 +0200 (Wed, 10 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/NEWS

import news for 0.40.5

------------------------------------------------------------------------
r2473 | taco | 2009-06-10 15:35:17 +0200 (Wed, 10 Jun 2009) | 2 lines
Changed paths:
   A /tags/beta-0.40.5 (from /branches/0.40.x:2472)

new tag

------------------------------------------------------------------------

From jerome.laurens at u-bourgogne.fr  Thu Jun 11 16:06:28 2009
From: jerome.laurens at u-bourgogne.fr (=?ISO-8859-1?Q?J=E9rome_Laurens?=)
Date: Thu, 11 Jun 2009 16:06:28 +0200
Subject: [Dev-luatex] synctex and text direction
Message-ID: <A117FF6B-2F6F-4E0A-8A78-4F226E7C02DC@u-bourgogne.fr>

Hi list,

I am currently digging into luatex to fix synctex support when  
typesetting does not follow the standard ltr order.
Hartmut suggested to take a look at the box direction so I tried to  
use the box_dir(aNode).
With a bit of reverse engineering, I found how to use this  
information, but I need some confirmations from you.
For the moment, I focus on hlists and I have a few questions.

1) I found that \pardir ignores the first letter argument, is it  
expected behaviour ?

2) What is the difference between \texdir LTB and \textdir RTB ?

3) for a box created with \texdir LTB , the height and the depth are  
equal. Is it always true ?

4) I saw that text direction has something to do with rulers, but what  
about the other nodes ?

On another respect, I see that none of luatex nor context command  
supports the -synctex option.
Is there a special reason or is it just a bug ?

Regards


From taco at elvenkind.com  Thu Jun 11 17:34:47 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 11 Jun 2009 17:34:47 +0200
Subject: [Dev-luatex] synctex and text direction
In-Reply-To: <A117FF6B-2F6F-4E0A-8A78-4F226E7C02DC@u-bourgogne.fr>
References: <A117FF6B-2F6F-4E0A-8A78-4F226E7C02DC@u-bourgogne.fr>
Message-ID: <4A312417.9000708@elvenkind.com>


Hi J?rome,

J?rome Laurens wrote:
> For the moment, I focus on hlists and I have a few questions.
> 
> 1) I found that \pardir ignores the first letter argument, is it
> expected behaviour ?

It ignores the third letter, not the first.

> 2) What is the difference between \texdir LTB and \textdir RTB ?

All direction specifiers are set up in the same way:

* The first key is the "paragraph progression front edge". A paragraph
  consists of lines that are stacked starting from this edge.

* The second key is the "line progression front edge". Lines consist
  of glyphs that are placed starting from this edge.

* The third is the "glyph orientation". This specifier is only used
  for special fonts (that I have never seen an actual example of, it
  is an Omega-specific font extension, afaik).

So TLT == paragraphs progress downward (while creating lines), lines
progress rightward (while adding glyphs), and the glyphs stand upright.

Possible values are T (top) L (left) R (right) B (bottom), and the
first and second have to be perpendicular, resulting in eight possible
main directions (TL* TR* BL* BR* LT* LB* RT* RB*).

> 3) for a box created with \texdir LTB , the height and the depth are
> equal. Is it always true ?

> 4) I saw that text direction has something to do with rulers, but what
> about the other nodes ?

I cannot answer these two questions quickly (by now, Hartmut probably
understands the direction output better than I do).

> On another respect, I see that none of luatex nor context command
> supports the -synctex option.
> Is there a special reason or is it just a bug ?

luatex --synctex=NUMBER certainly should work (and it does here). The
"context" command does not accept --synctex at the moment.

Best wishes,
Taco







From hartmut_henkel at gmx.de  Thu Jun 11 18:16:14 2009
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Thu, 11 Jun 2009 18:16:14 +0200 (CEST)
Subject: [Dev-luatex] synctex and text direction
In-Reply-To: <A117FF6B-2F6F-4E0A-8A78-4F226E7C02DC@u-bourgogne.fr>
References: <A117FF6B-2F6F-4E0A-8A78-4F226E7C02DC@u-bourgogne.fr>
Message-ID: <alpine.DEB.1.00.0906111752400.3739@hahepc1.hahe>

Hi Jerome,

On Thu, 11 Jun 2009, J?rome Laurens wrote:

> I am currently digging into luatex to fix synctex support when
> typesetting does not follow the standard ltr order. Hartmut suggested
> to take a look at the box direction so I tried to use the
> box_dir(aNode). With a bit of reverse engineering, I found how to use
> this information, but I need some confirmations from you. For the
> moment, I focus on hlists and I have a few questions.
>
> 1) I found that \pardir ignores the first letter argument, is it expected
> behaviour ?

(unsure here, and current complexity is beyond me, just too many \vice-
and \deputy- direction primitives, and maybe overall just \textdir +
\mathdir + the possibility to state the box dir like in \hbox dir *** {}
+ let it bubble down from the top box to be shipped + obey grouping +
ignore if it's \hbox or \vbox would be sufficient, but it's wishful
thinking only. Anyway it's aleph legacy, rather fixed.)

> 2) What is the difference between \texdir LTB and \textdir RTB ?

please see attached graphics, easier than describing...

> 3) for a box created with \texdir LTB , the height and the depth are
> equal. Is it always true ?

for height/depth contributed into the packer by text, yes. But if in the
line is a box or rule, i would rather like to have full control over
"vertical" positioning, in the way that then the 1st letter would tell
the vertical main orientation of the item. Which means that box
placement should completely ignore the 3rd letter, which should matter
for glyphs only. But that's currently not so. AFAIR boxes would also be
"vertically" centered. Maybe a point for discussion.

> 4) I saw that text direction has something to do with rulers, but what
> about the other nodes ?

(btw, rulers also shouldn't have to do with the 3rd letter, imho.)

> On another respect, I see that none of luatex nor context command
> supports the -synctex option. Is there a special reason or is it just
> a bug ?

synctex support is on by \synctex=1 in the tex file. There may be a
flaw, that last time i checked it seemed to be always _on_ by default.

Regards, Hartmut
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pagedir-1.pdf
Type: application/pdf
Size: 6557 bytes
Desc: pagedir-1.pdf
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090611/50d7a082/attachment-0002.pdf>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: fontdir.pdf
Type: application/pdf
Size: 7778 bytes
Desc: /fontdir.pdf
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090611/50d7a082/attachment-0003.pdf>

From khaledhosny at eglug.org  Thu Jun 11 21:02:14 2009
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 11 Jun 2009 22:02:14 +0300
Subject: [Dev-luatex] svn: XML data was not well-formed
Message-ID: <20090611190214.GA5005@khaled-laptop>

I'm trying to updated my local svn copy, but I get that error. I got the
same error several times before (all after the last supelec upgrade) but
then I got it working after few days, any idea? I get the same error
even if I try to checkout a clean copy.

Regards,
 Khaled


-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090611/8a3352cf/attachment.bin>

From taco at elvenkind.com  Thu Jun 11 21:48:47 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 11 Jun 2009 21:48:47 +0200
Subject: [Dev-luatex] svn: XML data was not well-formed
In-Reply-To: <20090611190214.GA5005@khaled-laptop>
References: <20090611190214.GA5005@khaled-laptop>
Message-ID: <4A315F9F.2010403@elvenkind.com>

Khaled Hosny wrote:
> I'm trying to updated my local svn copy, but I get that error. I got the
> same error several times before (all after the last supelec upgrade) but
> then I got it working after few days, any idea? I get the same error
> even if I try to checkout a clean copy.

I have no idea. What is your client (and version)?

Best wishes,
Taco

From khaledhosny at eglug.org  Thu Jun 11 22:00:41 2009
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 11 Jun 2009 23:00:41 +0300
Subject: [Dev-luatex] svn: XML data was not well-formed
In-Reply-To: <4A315F9F.2010403@elvenkind.com>
References: <20090611190214.GA5005@khaled-laptop>
	<4A315F9F.2010403@elvenkind.com>
Message-ID: <20090611200041.GB8606@khaled-laptop>

On Thu, Jun 11, 2009 at 09:48:47PM +0200, Taco Hoekwater wrote:
> Khaled Hosny wrote:
>> I'm trying to updated my local svn copy, but I get that error. I got the
>> same error several times before (all after the last supelec upgrade) but
>> then I got it working after few days, any idea? I get the same error
>> even if I try to checkout a clean copy.
>
> I have no idea. What is your client (and version)?

I'm using the command line client (I think it is the offecial client).

$ svn --version
svn, version 1.5.4 (r33841)

Regards,
 Khaled


-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090611/169b3932/attachment.bin>

From taco at elvenkind.com  Thu Jun 11 22:08:19 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 11 Jun 2009 22:08:19 +0200
Subject: [Dev-luatex] svn: XML data was not well-formed
In-Reply-To: <20090611200041.GB8606@khaled-laptop>
References: <20090611190214.GA5005@khaled-laptop>
	<4A315F9F.2010403@elvenkind.com>
	<20090611200041.GB8606@khaled-laptop>
Message-ID: <4A316433.6090102@elvenkind.com>

Khaled Hosny wrote:
> On Thu, Jun 11, 2009 at 09:48:47PM +0200, Taco Hoekwater wrote:
>> Khaled Hosny wrote:
>>> I'm trying to updated my local svn copy, but I get that error. I got the
>>> same error several times before (all after the last supelec upgrade) but
>>> then I got it working after few days, any idea? I get the same error
>>> even if I try to checkout a clean copy.
>> I have no idea. What is your client (and version)?
> 
> I'm using the command line client (I think it is the offecial client).
> 
> $ svn --version
> svn, version 1.5.4 (r33841)

Mine is:

   svn, version 1.5.2 (r32768)


And I have not had any problems (so far). Is it possible that your
internet connection is erratic and that that is interfering? Dropped
packets could be the cause of XML errors, I assume.

Best wishes,
Taco




From fabrice.popineau at supelec.fr  Thu Jun 11 22:24:11 2009
From: fabrice.popineau at supelec.fr (Fabrice Popineau)
Date: Thu, 11 Jun 2009 22:24:11 +0200
Subject: [Dev-luatex] svn: XML data was not well-formed
In-Reply-To: <20090611190214.GA5005@khaled-laptop>
References: <20090611190214.GA5005@khaled-laptop>
Message-ID: <145eeee20906111324q16db60e1vb335033e455b8132@mail.gmail.com>

Hi all,

Ouch. Are you the ony one to get that error or is it reported by other
people too ?

Fabrice



2009/6/11 Khaled Hosny <khaledhosny at eglug.org>

> I'm trying to updated my local svn copy, but I get that error. I got the
> same error several times before (all after the last supelec upgrade) but
> then I got it working after few days, any idea? I get the same error
> even if I try to checkout a clean copy.
>
> Regards,
>  Khaled
>
>
> --
>  Khaled Hosny
>  Arabic localiser and member of Arabeyes.org team
>  Free font developer
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.9 (GNU/Linux)
>
> iEYEARECAAYFAkoxVLYACgkQRoqITGOuyPJIigCgizp5JibCYK8tTm1Bs0G3mKea
> pegAnjHQGiQ3Yjry0FYa7GTdlP891tGk
> =PfqA
> -----END PGP SIGNATURE-----
>
> _______________________________________________
> dev-luatex mailing list
> dev-luatex at ntg.nl
> http://www.ntg.nl/mailman/listinfo/dev-luatex
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090611/17bfcac3/attachment.html>

From khaledhosny at eglug.org  Thu Jun 11 23:27:32 2009
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 12 Jun 2009 00:27:32 +0300
Subject: [Dev-luatex] svn: XML data was not well-formed
In-Reply-To: <4A316433.6090102@elvenkind.com>
References: <20090611190214.GA5005@khaled-laptop>
	<4A315F9F.2010403@elvenkind.com>
	<20090611200041.GB8606@khaled-laptop>
	<4A316433.6090102@elvenkind.com>
Message-ID: <20090611212732.GA14053@khaled-laptop>

On Thu, Jun 11, 2009 at 10:08:19PM +0200, Taco Hoekwater wrote:
> Khaled Hosny wrote:
>> On Thu, Jun 11, 2009 at 09:48:47PM +0200, Taco Hoekwater wrote:
>>> Khaled Hosny wrote:
>>>> I'm trying to updated my local svn copy, but I get that error. I got the
>>>> same error several times before (all after the last supelec upgrade) but
>>>> then I got it working after few days, any idea? I get the same error
>>>> even if I try to checkout a clean copy.
>>> I have no idea. What is your client (and version)?
>>
>> I'm using the command line client (I think it is the offecial client).
>>
>> $ svn --version
>> svn, version 1.5.4 (r33841)
>
> Mine is:
>
>   svn, version 1.5.2 (r32768)
>
>
> And I have not had any problems (so far). Is it possible that your
> internet connection is erratic and that that is interfering? Dropped
> packets could be the cause of XML errors, I assume.

May be, though I don't encounter this with other svn repos. Anyhow, I got
it working now, so sorry for bothering you, I was just wondering if I'm
the only one who is getting this.

Regards,
 Khaled


-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090612/6fcaaa74/attachment.bin>

From jerome.laurens at u-bourgogne.fr  Fri Jun 12 01:39:38 2009
From: jerome.laurens at u-bourgogne.fr (=?ISO-8859-1?Q?J=E9rome_Laurens?=)
Date: Fri, 12 Jun 2009 01:39:38 +0200
Subject: [Dev-luatex] [***SPAM***] Re:  synctex and text direction
In-Reply-To: <alpine.DEB.1.00.0906111752400.3739@hahepc1.hahe>
References: <A117FF6B-2F6F-4E0A-8A78-4F226E7C02DC@u-bourgogne.fr>
	<alpine.DEB.1.00.0906111752400.3739@hahepc1.hahe>
Message-ID: <E588569F-2A41-491F-8596-764D16BBBB16@u-bourgogne.fr>

Folks,

After some experiments, things are not so clear in my mind
Here is a sample pdf that does not seem to fit the rules given by  
Hartmut
It is an *LB or *RB direction sample and the characters are aligned top
ignoring the baseline.
What was wrong ?

source:

\synctex=1
\starttext
\pardir TLB
\textdir TLB
TLB-Lorem ipsum dolor sit amet, consectetur adipiscing elit.
\par\noindent
Praesent vitae massa sem.
Donec venenatis sem et lectus viverra in adipiscing metus vestibulum.
Sed accumsan rutrum sem ut tincidunt.
Aenean diam nulla, egestas nec dignissim vitae, congue sed lacus.
Nulla iaculis blandit diam eu rutrum.
\page[yes]
\pardir BRT
\textdir BRT
BRT-Lorem ipsum dolor sit amet, consectetur adipiscing elit.
\par\noindent
Praesent vitae massa sem.
Donec venenatis sem et lectus viverra in adipiscing metus vestibulum.
Sed accumsan rutrum sem ut tincidunt.
Aenean diam nulla, egestas nec dignissim vitae, congue sed lacus.
Nulla iaculis blandit diam eu rutrum.
\stoptext

output:

-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.pdf
Type: application/pdf
Size: 9916 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090612/7f0947a9/attachment-0001.pdf>

From hartmut_henkel at gmx.de  Fri Jun 12 02:19:39 2009
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Fri, 12 Jun 2009 02:19:39 +0200 (CEST)
Subject: [Dev-luatex] synctex and text direction
In-Reply-To: <E588569F-2A41-491F-8596-764D16BBBB16@u-bourgogne.fr>
References: <A117FF6B-2F6F-4E0A-8A78-4F226E7C02DC@u-bourgogne.fr>
	<alpine.DEB.1.00.0906111752400.3739@hahepc1.hahe>
	<E588569F-2A41-491F-8596-764D16BBBB16@u-bourgogne.fr>
Message-ID: <alpine.DEB.1.00.0906120201370.6757@hahepc1.hahe>

On Fri, 12 Jun 2009, J?rome Laurens wrote:

> After some experiments, things are not so clear in my mind Here is a
> sample pdf that does not seem to fit the rules given by Hartmut It is
> an *LB or *RB direction sample and the characters are aligned top
> ignoring the baseline. What was wrong ?

1st page is right, with TLB glyphs hang downward, with their top aligned
at the baseline.

2nd page, ooops, with BRT they stand above the baseline with their
descenders, but they should be vertically positioned similarly to TLT.
And aleph does it right, a bug in luatex, i'll fix. Thanks for spotting
this.

btw, the attached file shows how the margins are set in the various
directions.

Regards, Hartmut
-------------- next part --------------
A non-text attachment was scrubbed...
Name: xx.tex
Type: text/x-tex
Size: 1119 bytes
Desc: xx.tex
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090612/96a09c27/attachment.bin>

From hartmut_henkel at gmx.de  Fri Jun 12 02:35:14 2009
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Fri, 12 Jun 2009 02:35:14 +0200 (CEST)
Subject: [Dev-luatex] synctex and text direction
In-Reply-To: <alpine.DEB.1.00.0906120201370.6757@hahepc1.hahe>
References: <A117FF6B-2F6F-4E0A-8A78-4F226E7C02DC@u-bourgogne.fr>
	<alpine.DEB.1.00.0906111752400.3739@hahepc1.hahe>
	<E588569F-2A41-491F-8596-764D16BBBB16@u-bourgogne.fr>
	<alpine.DEB.1.00.0906120201370.6757@hahepc1.hahe>
Message-ID: <alpine.DEB.1.00.0906120234170.6723@hahepc1.hahe>

On Fri, 12 Jun 2009, Hartmut Henkel wrote:

> 2nd page, ooops, with BRT they stand above the baseline with their
> descenders, but they should be vertically positioned similarly to TLT.

r2474 should do it right now (BLT was similarly wrong).

Regards, Hartmut

From pragma at wxs.nl  Fri Jun 12 10:33:01 2009
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 12 Jun 2009 10:33:01 +0200
Subject: [Dev-luatex] synctex and text direction
In-Reply-To: <A117FF6B-2F6F-4E0A-8A78-4F226E7C02DC@u-bourgogne.fr>
References: <A117FF6B-2F6F-4E0A-8A78-4F226E7C02DC@u-bourgogne.fr>
Message-ID: <4A3212BD.7050405@wxs.nl>

J?rome Laurens wrote:

> On another respect, I see that none of luatex nor context command 
> supports the -synctex option.
> Is there a special reason or is it just a bug ?

no special reason for context; as using synctex makes only makes sense 
when you run from an editor, and because then (at least) I don't want to 
always use synctex, ways are needed to control it in a different way; 
and users can always add \synctex=1 to the document they're working with

once texworks reaches a stable state, i'll look into it in more detail

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From jerome.laurens at u-bourgogne.fr  Fri Jun 12 10:34:57 2009
From: jerome.laurens at u-bourgogne.fr (=?ISO-8859-1?Q?J=E9rome_Laurens?=)
Date: Fri, 12 Jun 2009 10:34:57 +0200
Subject: [Dev-luatex] test of the text directions with synctex
In-Reply-To: <alpine.DEB.1.00.0906120234170.6723@hahepc1.hahe>
References: <A117FF6B-2F6F-4E0A-8A78-4F226E7C02DC@u-bourgogne.fr>
	<alpine.DEB.1.00.0906111752400.3739@hahepc1.hahe>
	<E588569F-2A41-491F-8596-764D16BBBB16@u-bourgogne.fr>
	<alpine.DEB.1.00.0906120201370.6757@hahepc1.hahe>
	<alpine.DEB.1.00.0906120234170.6723@hahepc1.hahe>
Message-ID: <02473653-9B0F-4876-B2FD-5B2DAFFE8318@u-bourgogne.fr>

Hi folks,

still experimenting on luatex, below is a test file of my own that  
uses the 32 possibilities.
Here is the output with hboxes and vboxes hilighted respectively in  
blue and orange
Before I work on the vertical boxes, could you confirm that it is the  
expected behaviour ?
In particular, I find it very weird that sometimes the text is outside  
the box that contains it.
For example on page 3, the rectangle filled with light blue  
corresponds to "\hbox to 5cm" below
which box direction is "dir_TL_". Inside, we have the "vbox" which box  
direction is "dir_LT_".

-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.pdf
Type: application/pdf
Size: 205182 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090612/44cc67a3/attachment-0001.pdf>
-------------- next part --------------


\synctex=1
\def\sample{Lorem ipsum dolor sit amet, consectetur adipiscing elit.
\par\noindent
Praesent vitae massa sem.
Donec venequatis sem et leptus viverra in adipiscing metus vestibulum.
Sed accumsan rugitrum sem ut tincidunt.
Aenean diam nulla, egestas nec dignissim vitae, congue sed lacus.
Nulla inequalis blandit diam eu rutrum.}
\def\test#1{\pardir TLT\textdir TLT Test:#1
     \par\kern 20pt\leavevmode\kern 200pt
     \hbox to 200pt{%
         \pardir#1
         \textdir#1
         \setuplayout[textwidth=200pt]%
         \vbox{\sample}%
     }%
     \page[yes]%
}
\starttext
\showframe
\test{TLT}\test{TRT}\test{LTT}\test{LBT}\test{BLT}\test{BRT}\test{RTT} 
\test{RBT}
\test{TLB}\test{TRB}\test{LTB}\test{LBB}\test{BLB}\test{BRB}\test{RTB} 
\test{RBB}
\test{TLL}\test{TRL}\test{LTL}\test{LBL}\test{BLL}\test{BRL}\test{RTL} 
\test{RBL}
\test{TLR}\test{TRR}\test{LTR}\test{LBR}\test{BLR}\test{BRR}\test{RTR} 
\test{RBR}
\stoptext
\endinput


From mojca.miklavec.lists at gmail.com  Fri Jun 12 11:38:14 2009
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Fri, 12 Jun 2009 11:38:14 +0200
Subject: [Dev-luatex] synctex and text direction
In-Reply-To: <4A3212BD.7050405@wxs.nl>
References: <A117FF6B-2F6F-4E0A-8A78-4F226E7C02DC@u-bourgogne.fr>
	<4A3212BD.7050405@wxs.nl>
Message-ID: <6faad9f00906120238yc4a0415r8e43998f341a9fd8@mail.gmail.com>

On Fri, Jun 12, 2009 at 10:33, Hans Hagen wrote:
> J?rome Laurens wrote:
>
>> On another respect, I see that none of luatex nor context command supports
>> the -synctex option.

In mkii one can pass parameters to the engine with
   texexec --passon="--synctex=1"
Though I agree that having direct access to --synctex might be more
handy. I don't know about mkiv (luatex).

Mojca

From hartmut_henkel at gmx.de  Fri Jun 12 11:41:20 2009
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Fri, 12 Jun 2009 11:41:20 +0200
Subject: [Dev-luatex] test of the text directions with synctex
In-Reply-To: <02473653-9B0F-4876-B2FD-5B2DAFFE8318@u-bourgogne.fr>
References: <A117FF6B-2F6F-4E0A-8A78-4F226E7C02DC@u-bourgogne.fr>
	<alpine.DEB.1.00.0906111752400.3739@hahepc1.hahe>
	<E588569F-2A41-491F-8596-764D16BBBB16@u-bourgogne.fr>
	<alpine.DEB.1.00.0906120201370.6757@hahepc1.hahe>
	<alpine.DEB.1.00.0906120234170.6723@hahepc1.hahe>
	<02473653-9B0F-4876-B2FD-5B2DAFFE8318@u-bourgogne.fr>
Message-ID: <20090612094120.228040@gmx.net>

Dear J?rome,

> still experimenting on luatex, below is a test file of my own that  
> uses the 32 possibilities.
> Here is the output with hboxes and vboxes hilighted respectively in  
> blue and orange
> Before I work on the vertical boxes, could you confirm that it is the  
> expected behaviour ?
> In particular, I find it very weird that sometimes the text is outside  
> the box that contains it.

ah, you do it the encyclopedic way (i tried the same), maybe expecting that all directions are working. In fact the h/vpacker is currently only geared for a small subset, only for the directions that are demanded by users. I tried to get some consistency into the backend for all 32 output directions, but i don't know how far they make sense, and i didn't touch the packers (remaining consistent with aleph --- which also behaves funny for many of the directions). As it seems there is no user nor test font for most cases, it's also unclear how the packers should behave, uncharted territory.

> For example on page 3, the rectangle filled with light blue  
> corresponds to "\hbox to 5cm" below
> which box direction is "dir_TL_". Inside, we have the "vbox" which box  
> direction is "dir_LT_".

I'll check more from home...

Regards, Hartmut

-- 
GRATIS f?r alle GMX-Mitglieder: Die maxdome Movie-FLAT!
Jetzt freischalten unter http://portal.gmx.net/de/go/maxdome01

From pragma at wxs.nl  Fri Jun 12 11:58:56 2009
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 12 Jun 2009 11:58:56 +0200
Subject: [Dev-luatex] synctex and text direction
In-Reply-To: <6faad9f00906120238yc4a0415r8e43998f341a9fd8@mail.gmail.com>
References: <A117FF6B-2F6F-4E0A-8A78-4F226E7C02DC@u-bourgogne.fr>	<4A3212BD.7050405@wxs.nl>
	<6faad9f00906120238yc4a0415r8e43998f341a9fd8@mail.gmail.com>
Message-ID: <4A3226E0.7030803@wxs.nl>

Mojca Miklavec wrote:
> On Fri, Jun 12, 2009 at 10:33, Hans Hagen wrote:
>> J?rome Laurens wrote:
>>
>>> On another respect, I see that none of luatex nor context command supports
>>> the -synctex option.
> 
> In mkii one can pass parameters to the engine with
>    texexec --passon="--synctex=1"
> Though I agree that having direct access to --synctex might be more
> handy. I don't know about mkiv (luatex).

sure. i'll put it on the todo list

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From root at www.metatex.org  Fri Jun 12 12:28:53 2009
From: root at www.metatex.org (Cron Daemon)
Date: Fri, 12 Jun 2009 12:28:53 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090612102853.16B3E1E8C3FC@www.metatex.org>

------------------------------------------------------------------------
r2474 | hhenkel | 2009-06-12 02:31:17 +0200 (Fri, 12 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.web

BLT and BRT glyph position fix
(reported by J?\195?\169rome Laurens in dev-luatex at ntg.nl, 12 Jun 2009)

------------------------------------------------------------------------

From root at www.metatex.org  Fri Jun 12 22:27:13 2009
From: root at www.metatex.org (Cron Daemon)
Date: Fri, 12 Jun 2009 22:27:13 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090612202713.187831E8C3FF@www.metatex.org>

------------------------------------------------------------------------
r2475 | taco | 2009-06-12 20:57:08 +0200 (Fri, 12 Jun 2009) | 5 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lnodelib.c

fix two string vs. toks bugs in the lua node interface
(whatsit,annot and whatsit,startlink data assignments were
made directly as strings instead of being converted to 
tokens)

------------------------------------------------------------------------
r2476 | taco | 2009-06-12 21:39:05 +0200 (Fri, 12 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua/lnodelib.c

lua node lib fix 2475, from trunk

------------------------------------------------------------------------

From root at www.metatex.org  Sat Jun 13 12:28:59 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sat, 13 Jun 2009 12:28:59 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090613102859.73FA57A000D@www.metatex.org>

------------------------------------------------------------------------
r2477 | oneiros | 2009-06-13 01:35:15 +0200 (Sat, 13 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c

fix a "warning: pointer targets in initialization differ in signedness"

------------------------------------------------------------------------
r2478 | oneiros | 2009-06-13 01:56:52 +0200 (Sat, 13 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c

keep 8 bits

------------------------------------------------------------------------
r2479 | oneiros | 2009-06-13 02:13:54 +0200 (Sat, 13 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c

indent

------------------------------------------------------------------------

From root at www.metatex.org  Sat Jun 13 16:27:15 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sat, 13 Jun 2009 16:27:15 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090613142715.BC1E37A000D@www.metatex.org>

------------------------------------------------------------------------
r2480 | hhenkel | 2009-06-13 14:30:05 +0200 (Sat, 13 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c

new pdf.reserveobj()

------------------------------------------------------------------------
r2481 | taco | 2009-06-13 15:02:27 +0200 (Sat, 13 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/aclocal.m4
   M /trunk/source/texk/web2c/configure
   M /trunk/source/texk/web2c/doc/Makefile.in
   M /trunk/source/texk/web2c/lib/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/lua/luatex.c
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.h
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   A /trunk/source/texk/web2c/luatexdir/ocp/ocp.c
   A /trunk/source/texk/web2c/luatexdir/ocp/ocp.h
   A /trunk/source/texk/web2c/luatexdir/ocp/ocplist.c
   A /trunk/source/texk/web2c/luatexdir/ocp/ocplist.h
   M /trunk/source/texk/web2c/luatexdir/ocp/readocp.c
   M /trunk/source/texk/web2c/luatexdir/ocp/readocp.h
   A /trunk/source/texk/web2c/luatexdir/ocp/runocp.c
   A /trunk/source/texk/web2c/luatexdir/ocp/runocp.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/luatexdir/tex/primitive.c
   M /trunk/source/texk/web2c/man/Makefile.in
   M /trunk/source/texk/web2c/web2c/Makefile.in
   M /trunk/source/texk/web2c/web2c/aclocal.m4
   M /trunk/source/texk/web2c/web2c/configure

Move the rest of the ocp and ocplist processing to C (and autoreconf)
Note: ocps are likely broken right now, needs testing

------------------------------------------------------------------------

From root at www.metatex.org  Sun Jun 14 12:28:57 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sun, 14 Jun 2009 12:28:57 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090614102857.DE0897A000C@www.metatex.org>

------------------------------------------------------------------------
r2482 | oneiros | 2009-06-14 02:16:27 +0200 (Sun, 14 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/ocp/ocp.c
   M /trunk/source/texk/web2c/luatexdir/ocp/ocp.h
   M /trunk/source/texk/web2c/luatexdir/ocp/ocplist.c
   M /trunk/source/texk/web2c/luatexdir/ocp/ocplist.h
   M /trunk/source/texk/web2c/luatexdir/ocp/runocp.c
   M /trunk/source/texk/web2c/luatexdir/ocp/runocp.h

svn:keywords

------------------------------------------------------------------------
r2483 | oneiros | 2009-06-14 02:18:34 +0200 (Sun, 14 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/ocp/ocp.c
   M /trunk/source/texk/web2c/luatexdir/ocp/ocp.h
   M /trunk/source/texk/web2c/luatexdir/ocp/ocplist.c
   M /trunk/source/texk/web2c/luatexdir/ocp/ocplist.h
   M /trunk/source/texk/web2c/luatexdir/ocp/runocp.h

svn:keywords

------------------------------------------------------------------------
r2484 | oneiros | 2009-06-14 02:21:35 +0200 (Sun, 14 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/ocp/runocp.c

init variable

------------------------------------------------------------------------
r2485 | oneiros | 2009-06-14 02:22:38 +0200 (Sun, 14 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/ocp/ocp.c
   M /trunk/source/texk/web2c/luatexdir/ocp/ocplist.c
   M /trunk/source/texk/web2c/luatexdir/ocp/runocp.c

indent

------------------------------------------------------------------------
r2486 | taco | 2009-06-14 10:53:40 +0200 (Sun, 14 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   A /trunk/source/texk/web2c/luatexdir/tex/inputstack.c
   A /trunk/source/texk/web2c/luatexdir/tex/inputstack.h

create inputstack.[ch] (currently empty)

------------------------------------------------------------------------
r2487 | taco | 2009-06-14 10:55:10 +0200 (Sun, 14 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.c
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.h

props

------------------------------------------------------------------------

From root at www.metatex.org  Sun Jun 14 16:27:13 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sun, 14 Jun 2009 16:27:13 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090614142713.1BA927A000C@www.metatex.org>

------------------------------------------------------------------------
r2488 | hhenkel | 2009-06-14 13:41:49 +0200 (Sun, 14 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c

new pdf.immediateobj()

------------------------------------------------------------------------
r2489 | oneiros | 2009-06-14 13:45:56 +0200 (Sun, 14 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.h

$Id$

------------------------------------------------------------------------
r2490 | hhenkel | 2009-06-14 15:04:56 +0200 (Sun, 14 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c

pdf_page_init wasn't early enough for pdf.print()

------------------------------------------------------------------------
r2491 | hhenkel | 2009-06-14 15:11:08 +0200 (Sun, 14 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/source/texk/web2c/luatexdir/luatex.web
   M /branches/0.40.x/source/texk/web2c/luatexdir/pdf/pdfpage.c

fix bug fixed in r2490 also in branch 0.40.x

------------------------------------------------------------------------
r2492 | taco | 2009-06-14 15:14:50 +0200 (Sun, 14 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/source/texk/web2c/luatexdir/utils/utils.c

remove compiler warning (cf. trunk 2477-2479)

------------------------------------------------------------------------
r2493 | taco | 2009-06-14 15:20:31 +0200 (Sun, 14 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/ocp/runocp.c
   M /trunk/source/texk/web2c/luatexdir/tex/align.c
   M /trunk/source/texk/web2c/luatexdir/tex/align.h
   M /trunk/source/texk/web2c/luatexdir/tex/filename.c
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.c
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.h
   M /trunk/source/texk/web2c/luatexdir/tex/math.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c
   M /trunk/source/texk/web2c/luatexdir/tokens.h

flesh out inputstack.[ch], and clean up some of the no longer needed 
adhoc definitions in the C source files. 

------------------------------------------------------------------------
r2494 | oneiros | 2009-06-14 15:31:18 +0200 (Sun, 14 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/align.c
   M /trunk/source/texk/web2c/luatexdir/tex/align.h
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.h

svn:keywords

------------------------------------------------------------------------
r2495 | oneiros | 2009-06-14 15:32:04 +0200 (Sun, 14 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.c

rm spurious space

------------------------------------------------------------------------

From P.Jackowski at gust.org.pl  Sun Jun 14 17:11:45 2009
From: P.Jackowski at gust.org.pl (=?UTF-8?B?UGF3ZcWCIEphY2tvd3NraQ==?=)
Date: Sun, 14 Jun 2009 17:11:45 +0200
Subject: [Dev-luatex] Cron
	<luatex@vz3>	/var/www/luatex.org/www/bin/luatex-svn
In-Reply-To: <20090614142713.1BA927A000C@www.metatex.org>
References: <20090614142713.1BA927A000C@www.metatex.org>
Message-ID: <4A351331.6080306@gust.org.pl>

Hartmut,

> r2488 | hhenkel | 2009-06-14 13:41:49 +0200 (Sun, 14 Jun 2009) | 2 lines
> Changed paths:
>    M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
> 
> new pdf.immediateobj()

works awesome. Thank you!
-- 
Pawe/l Jackowski
P.Jackowski at gust.org.pl

From root at www.metatex.org  Sun Jun 14 22:27:14 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sun, 14 Jun 2009 22:27:14 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090614202714.9AEB87A000C@www.metatex.org>

------------------------------------------------------------------------
r2496 | hhenkel | 2009-06-14 16:18:22 +0200 (Sun, 14 Jun 2009) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.tex

document pdf.immediateobj()

------------------------------------------------------------------------
r2497 | hhenkel | 2009-06-14 17:27:13 +0200 (Sun, 14 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c

typo

------------------------------------------------------------------------

From root at www.metatex.org  Mon Jun 15 12:28:39 2009
From: root at www.metatex.org (Cron Daemon)
Date: Mon, 15 Jun 2009 12:28:39 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090615102839.C85617A000D@www.metatex.org>

------------------------------------------------------------------------
r2498 | hhenkel | 2009-06-15 00:23:50 +0200 (Mon, 15 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c

new pdf.obj() (still without useobjnum, TODO)

------------------------------------------------------------------------
r2499 | hhenkel | 2009-06-15 00:30:41 +0200 (Mon, 15 Jun 2009) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.tex

document pdf.obj()

------------------------------------------------------------------------
r2500 | hhenkel | 2009-06-15 01:29:05 +0200 (Mon, 15 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c

remove unused variables

------------------------------------------------------------------------
r2501 | taco | 2009-06-15 10:02:09 +0200 (Mon, 15 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/ocp/readocp.c

fix the ocp finder callback

------------------------------------------------------------------------

From root at www.metatex.org  Mon Jun 15 16:27:21 2009
From: root at www.metatex.org (Cron Daemon)
Date: Mon, 15 Jun 2009 16:27:21 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090615142721.7E8827A000C@www.metatex.org>

------------------------------------------------------------------------
r2502 | taco | 2009-06-15 12:57:18 +0200 (Mon, 15 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/lua/luatoken.c
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/luatexdir/tex/filename.c
   M /trunk/source/texk/web2c/luatexdir/tex/primitive.c
   A /trunk/source/texk/web2c/luatexdir/tex/stringpool.c
   A /trunk/source/texk/web2c/luatexdir/tex/stringpool.h
   M /trunk/source/texk/web2c/luatexdir/tex/texpdf.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c
   M /trunk/source/texk/web2c/luatexdir/tokens.h

introduce stringpool.[ch] and clean up various ad-hoc
string macro definitions in other files

------------------------------------------------------------------------

From peb at mppmu.mpg.de  Mon Jun 15 18:08:24 2009
From: peb at mppmu.mpg.de (Peter Breitenlohner)
Date: Mon, 15 Jun 2009 18:08:24 +0200 (CEST)
Subject: [Dev-luatex] Sorry,
 could not find required X include and library files
In-Reply-To: <20090604093938.GC19353@gamma.logic.tuwien.ac.at>
References: <4A2758EF.3050806@gust.org.pl> <4A276D19.9000505@elvenkind.com>
	<20090604093938.GC19353@gamma.logic.tuwien.ac.at>
Message-ID: <alpine.LNX.1.10.0906151803030.10660@pcl321.mppmu.mpg.de>

On Thu, 4 Jun 2009, Norbert Preining wrote:

> On Do, 04 Jun 2009, Taco Hoekwater wrote:
>> Can you please edit luatex's build.sh and add the line
>>
>>   --without-mf-x-toolkit --without-x \
>
> For Debian I patched in
> 	--without-x
> and that turned out to be enough so that no checking on X headers is
> done.

Hi Taco and Norbert,

I have just updated the option handling in TL svn (r13767) as follows:

with '--disable-mf' and with neither '--with/without-mf-x-toolkit' nor
'--with/without-x', without is assumed in both cases.

Regards
Peter

From preining at logic.at  Mon Jun 15 19:35:28 2009
From: preining at logic.at (Norbert Preining)
Date: Mon, 15 Jun 2009 19:35:28 +0200
Subject: [Dev-luatex] Sorry,
	could not find required X include and library files
In-Reply-To: <alpine.LNX.1.10.0906151803030.10660@pcl321.mppmu.mpg.de>
References: <4A2758EF.3050806@gust.org.pl> <4A276D19.9000505@elvenkind.com>
	<20090604093938.GC19353@gamma.logic.tuwien.ac.at>
	<alpine.LNX.1.10.0906151803030.10660@pcl321.mppmu.mpg.de>
Message-ID: <20090615173528.GE2372@gamma.logic.tuwien.ac.at>

On Mo, 15 Jun 2009, Peter Breitenlohner wrote:
> I have just updated the option handling in TL svn (r13767) as follows:
> 
> with '--disable-mf' and with neither '--with/without-mf-x-toolkit' nor
> '--with/without-x', without is assumed in both cases.

As usual, big thanks!

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
TODBER (n.)
One whose idea of a good time is to stand behind his front hedge and
give surly nods to people he doesn't know.
			--- Douglas Adams, The Meaning of Liff

From root at www.metatex.org  Tue Jun 16 12:28:59 2009
From: root at www.metatex.org (Cron Daemon)
Date: Tue, 16 Jun 2009 12:28:59 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090616102900.01DE0788001@www.metatex.org>

------------------------------------------------------------------------
r2503 | oneiros | 2009-06-16 00:13:38 +0200 (Tue, 16 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c

rm unusued variable

------------------------------------------------------------------------
r2504 | oneiros | 2009-06-16 00:15:04 +0200 (Tue, 16 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/align.c
   M /trunk/source/texk/web2c/luatexdir/tex/align.h
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.h
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c

indent

------------------------------------------------------------------------

From root at www.metatex.org  Tue Jun 16 16:27:19 2009
From: root at www.metatex.org (Cron Daemon)
Date: Tue, 16 Jun 2009 16:27:19 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090616142719.93898788001@www.metatex.org>

------------------------------------------------------------------------
r2505 | taco | 2009-06-16 14:30:20 +0200 (Tue, 16 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/aclocal.m4
   M /trunk/source/texk/web2c/configure
   M /trunk/source/texk/web2c/doc/Makefile.in
   M /trunk/source/texk/web2c/lib/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/man/Makefile.in
   M /trunk/source/texk/web2c/web2c/Makefile.in
   M /trunk/source/texk/web2c/web2c/aclocal.m4
   M /trunk/source/texk/web2c/web2c/configure

introduce pdfgen.[ch] (and autoreconf)

------------------------------------------------------------------------
r2506 | taco | 2009-06-16 14:31:17 +0200 (Tue, 16 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c

svn keywords  work better without typos

------------------------------------------------------------------------
r2507 | taco | 2009-06-16 14:42:45 +0200 (Tue, 16 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   D /trunk/source/texk/web2c/luatexdir/tex/texpdf.c

get rid of texpdf.c (code moved to pdfgen.c)

------------------------------------------------------------------------

From root at www.metatex.org  Tue Jun 16 22:27:51 2009
From: root at www.metatex.org (Cron Daemon)
Date: Tue, 16 Jun 2009 22:27:51 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090616202751.A7F42788001@www.metatex.org>

------------------------------------------------------------------------
r2508 | taco | 2009-06-16 16:30:18 +0200 (Tue, 16 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h

move more pdf generation functions and variables to C

------------------------------------------------------------------------
r2509 | taco | 2009-06-16 17:01:47 +0200 (Tue, 16 Jun 2009) | 6 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/writet3.c
   M /trunk/source/texk/web2c/luatexdir/font/writettf.c
   M /trunk/source/texk/web2c/luatexdir/font/writetype2.c
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc
   M /trunk/source/texk/web2c/luatexdir/image/writejbig2.c
   M /trunk/source/texk/web2c/luatexdir/image/writejpg.c
   M /trunk/source/texk/web2c/luatexdir/image/writepng.c
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/ptexmac.h
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.h

Move the functions pdf_room (from web) and pdf_puts, pdf_printf (from utils.c) 
   to pdfgen.c and (re)move the corresponding definitions from ptexmac.h to pdfgen.h.
Also rename some CPP #defines: 
   pdfroom() => pdf_room(), pdfout() => pdf_out(), pdf_offset() => pdf_offset


------------------------------------------------------------------------
r2510 | taco | 2009-06-16 17:32:11 +0200 (Tue, 16 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pagetree.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h

move the rest of the pdf output-specific bits of section 32b to C,
and rename function remove_last_space() to pdf_remove_last_space()

------------------------------------------------------------------------
r2511 | taco | 2009-06-16 18:25:44 +0200 (Tue, 16 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/vfpacket.c
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h

and now the rest of the pdf stuff in 32c is also in C.
The function literal() is renamed to pdf_literal()

------------------------------------------------------------------------

From root at www.metatex.org  Wed Jun 17 12:28:53 2009
From: root at www.metatex.org (Cron Daemon)
Date: Wed, 17 Jun 2009 12:28:53 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090617102853.4750B1E8C2CB@www.metatex.org>

------------------------------------------------------------------------
r2512 | oneiros | 2009-06-17 00:39:28 +0200 (Wed, 17 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c

fix some warnings: warning: cast from pointer to integer of different size, warning: ?\226?\128?\152j?\226?\128?\153 may be used uninitialized in this function

------------------------------------------------------------------------
r2513 | oneiros | 2009-06-17 00:50:23 +0200 (Wed, 17 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/utils/avl.c
   M /trunk/source/texk/web2c/luatexdir/utils/avl.h
   M /trunk/source/texk/web2c/luatexdir/utils/synctex.c
   M /trunk/source/texk/web2c/luatexdir/utils/synctex.h

make sure that "indent *" doesn't change imported files

------------------------------------------------------------------------
r2514 | taco | 2009-06-17 09:40:42 +0200 (Wed, 17 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   A /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdftables.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h

introduce pdftables.[ch] that will hold the code from section 32d.

------------------------------------------------------------------------

From root at www.metatex.org  Thu Jun 18 16:27:33 2009
From: root at www.metatex.org (Cron Daemon)
Date: Thu, 18 Jun 2009 16:27:33 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090618142733.4FB121E8C2B1@www.metatex.org>

------------------------------------------------------------------------
r2515 | taco | 2009-06-18 13:16:54 +0200 (Thu, 18 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h

A missing assignment prevented resources from being written to the pdf

------------------------------------------------------------------------
r2516 | taco | 2009-06-18 13:19:10 +0200 (Thu, 18 Jun 2009) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.pdf
   M /trunk/source/texk/web2c/luatexdir/font/vfovf.c
   M /trunk/source/texk/web2c/luatexdir/font/vfpacket.c
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/tex/math.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.h
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.c

move core string processing to C (and clean up some adhoc definitions)

------------------------------------------------------------------------
r2517 | taco | 2009-06-18 15:10:46 +0200 (Thu, 18 Jun 2009) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-env.tex
   M /trunk/manual/luatexref-t.pdf

also full interaction for subsubsections

------------------------------------------------------------------------
r2518 | taco | 2009-06-18 15:11:41 +0200 (Thu, 18 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.h

indent

------------------------------------------------------------------------
r2519 | taco | 2009-06-18 15:12:34 +0200 (Thu, 18 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c

take shorter argument names

------------------------------------------------------------------------
r2520 | taco | 2009-06-18 15:13:57 +0200 (Thu, 18 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/texfont.h
   M /trunk/source/texk/web2c/luatexdir/font/writefont.c
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/nodes.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.h
   M /trunk/source/texk/web2c/luatexdir/ptexmac.h
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.c

convert lots of pdf generation code to C. 
The C code in pdftables.c is still to be split in multiple files

------------------------------------------------------------------------

From root at www.metatex.org  Fri Jun 19 12:28:53 2009
From: root at www.metatex.org (Cron Daemon)
Date: Fri, 19 Jun 2009 12:28:53 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090619102853.2706F1E8C2AC@www.metatex.org>

------------------------------------------------------------------------
r2521 | hhenkel | 2009-06-18 23:54:20 +0200 (Thu, 18 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c

this object should not go into object stream

------------------------------------------------------------------------
r2522 | hhenkel | 2009-06-19 00:34:25 +0200 (Fri, 19 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c

simplify pdf_print_bp(), replace exp10_arr[] by ten_pow[]

------------------------------------------------------------------------
r2523 | hhenkel | 2009-06-19 00:38:44 +0200 (Fri, 19 Jun 2009) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.tex

ooops, it's TeX, not C.

------------------------------------------------------------------------
r2524 | hhenkel | 2009-06-19 00:53:19 +0200 (Fri, 19 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c

simplify pdf_print_mag_bp()

------------------------------------------------------------------------
r2525 | oneiros | 2009-06-19 00:57:42 +0200 (Fri, 19 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c

rm unused variable

------------------------------------------------------------------------
r2526 | oneiros | 2009-06-19 01:00:42 +0200 (Fri, 19 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/writefont.c

rm leftover debug statement?

------------------------------------------------------------------------

From yuleopen at gmail.com  Fri Jun 19 15:38:45 2009
From: yuleopen at gmail.com (Yue Wang)
Date: Fri, 19 Jun 2009 21:38:45 +0800
Subject: [Dev-luatex] encoding code issue
Message-ID: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>

hi Taco:


- when I change something in fontforge/Unicode/*, and run build.sh
--make, it will recompile many luatex stuffs. That is not necessary.
please fix that if you can.

- cjk.c can be removed completely. Chinese TTF/OTF Fonts are arranged
in unicode order (maybe with other encoding charmap provided). So no
need to do font re-encoding.  (I think Japanese fonts and Korean fonts
do too)

- source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/backtrns.c
is not needed, please remove that.

- maybe it is not necessary to extend ctype to utype: in ConTeXt we
have char-def.lua which gives very detailed information. After
browsing the source code I think there is almost no dependency on
unicode range for isxxxx and tolower/toupper.  Most are for conversion
of file names on local filesystem and so on. after removing
utype.[ch], only two APIs ishexdigit and iscombinedchar are missing.
but this two is very easy to implement. e.g. hexdigit = 0-9, a-f.

- unialt.c is only needed for autohint.c. since hinting have nothing
to do with typesetting, perhaps these two files can be gone too...

After removing these files I ended up building a 3.9M luatex  on Mac OS X.
Maybe Linux binary can be even smaller.

of course, the above thoughts have not been throughly tested.


Yue Wang

From yuleopen at gmail.com  Fri Jun 19 16:09:05 2009
From: yuleopen at gmail.com (Yue Wang)
Date: Fri, 19 Jun 2009 22:09:05 +0800
Subject: [Dev-luatex] encoding code issue
In-Reply-To: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>
References: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>
Message-ID: <68bfdc900906190709t564675a1tfa6dcaf3f3ba4619@mail.gmail.com>

After copy the stripped down luatex binary into context tree and test
a few documents,
I am quite happy with my change.

btw, taco, some text blocks are placed in the wrong places in the pdf
using the unchanged version. known issue?


On Fri, Jun 19, 2009 at 9:38 PM, Yue Wang<yuleopen at gmail.com> wrote:
> hi Taco:
>
>
> - when I change something in fontforge/Unicode/*, and run build.sh
> --make, it will recompile many luatex stuffs. That is not necessary.
> please fix that if you can.
>
> - cjk.c can be removed completely. Chinese TTF/OTF Fonts are arranged
> in unicode order (maybe with other encoding charmap provided). So no
> need to do font re-encoding. ?(I think Japanese fonts and Korean fonts
> do too)
>
> - source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/backtrns.c
> is not needed, please remove that.
>
> - maybe it is not necessary to extend ctype to utype: in ConTeXt we
> have char-def.lua which gives very detailed information. After
> browsing the source code I think there is almost no dependency on
> unicode range for isxxxx and tolower/toupper. ?Most are for conversion
> of file names on local filesystem and so on. after removing
> utype.[ch], only two APIs ishexdigit and iscombinedchar are missing.
> but this two is very easy to implement. e.g. hexdigit = 0-9, a-f.
>
> - unialt.c is only needed for autohint.c. since hinting have nothing
> to do with typesetting, perhaps these two files can be gone too...
>
> After removing these files I ended up building a 3.9M luatex ?on Mac OS X.
> Maybe Linux binary can be even smaller.
>
> of course, the above thoughts have not been throughly tested.
>
>
> Yue Wang
>

From root at www.metatex.org  Fri Jun 19 16:27:18 2009
From: root at www.metatex.org (Cron Daemon)
Date: Fri, 19 Jun 2009 16:27:18 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090619142718.2B0211E8C2B1@www.metatex.org>

------------------------------------------------------------------------
r2527 | taco | 2009-06-19 12:24:40 +0200 (Fri, 19 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c

pdf output cosmetics

------------------------------------------------------------------------
r2528 | taco | 2009-06-19 12:25:18 +0200 (Fri, 19 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c

fix placement after pdfliteral

------------------------------------------------------------------------
r2529 | taco | 2009-06-19 13:47:39 +0200 (Fri, 19 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c

fix horizontal direction reverse width calculations

------------------------------------------------------------------------
r2530 | taco | 2009-06-19 15:01:26 +0200 (Fri, 19 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.h

move pool_to_unichar() to C

------------------------------------------------------------------------
r2531 | taco | 2009-06-19 15:02:09 +0200 (Fri, 19 Jun 2009) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.pdf
   M /trunk/manual/luatexref-t.tex
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.web

implement the optional pdfobj argument for pdf.obj() and pdf.immediateobj()

------------------------------------------------------------------------
r2532 | taco | 2009-06-19 15:30:41 +0200 (Fri, 19 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.h

move dumping and undumping of pdftex data to C

------------------------------------------------------------------------
r2533 | taco | 2009-06-19 15:58:01 +0200 (Fri, 19 Jun 2009) | 4 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   A /trunk/source/texk/web2c/luatexdir/tex/directions.c
   A /trunk/source/texk/web2c/luatexdir/tex/directions.h
   M /trunk/source/texk/web2c/luatexdir/tex/postlinebreak.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c

Add tex/directions.[ch]. The header mimics likewise definitions in the
web that cannot go away just yet (web2c accepts only explicit literals
as case labels)

------------------------------------------------------------------------
r2534 | taco | 2009-06-19 16:12:13 +0200 (Fri, 19 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/luafontforge.am
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/Makefile.in
   D /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/backtrns.c
   D /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/dump.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/inc/chardata.h

drop backtrans.c and dump.c from the fontforge/Unicode directory

------------------------------------------------------------------------

From taco at elvenkind.com  Fri Jun 19 16:25:25 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 19 Jun 2009 16:25:25 +0200
Subject: [Dev-luatex] encoding code issue
In-Reply-To: <68bfdc900906190709t564675a1tfa6dcaf3f3ba4619@mail.gmail.com>
References: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>
	<68bfdc900906190709t564675a1tfa6dcaf3f3ba4619@mail.gmail.com>
Message-ID: <4A3B9FD5.9070406@elvenkind.com>



Yue Wang wrote:
> After copy the stripped down luatex binary into context tree and test
> a few documents,
> I am quite happy with my change.

more on those changes later

> btw, taco, some text blocks are placed in the wrong places in the pdf
> using the unchanged version. known issue?

that should have been fixed by #2529. If not, can you send me a test
file please?

Best wishes,
Taco

From taco at elvenkind.com  Fri Jun 19 17:16:04 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 19 Jun 2009 17:16:04 +0200
Subject: [Dev-luatex] encoding code issue
In-Reply-To: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>
References: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>
Message-ID: <4A3BABB4.3090302@elvenkind.com>


Hi Yue Wang,

Yue Wang wrote:
> hi Taco:
> 
> - when I change something in fontforge/Unicode/*, and run build.sh
> --make, it will recompile many luatex stuffs. That is not necessary.
> please fix that if you can.

Sorry, I can't fix that (at least not right now). The dependencies are
auto-generated and luatex's C library as a whole depends on libff.a.

> - cjk.c can be removed completely. Chinese TTF/OTF Fonts are arranged
> in unicode order (maybe with other encoding charmap provided). So no
> need to do font re-encoding.  (I think Japanese fonts and Korean fonts
> do too)

I have not actually removed the source code (just in case there is
a problem discovered later) but I have completely hidden it from the
compiler so that it is no longer compiled in the binary.

So, Yanrui Li (and maybe for you as well, just to verify I did not mess
up anything): if you want to run your tests, you only have to grab the
current trunk and recompile. Probably the most important thing to test
is whether searching in Acroread still works as it should.

> - source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/backtrns.c
> is not needed, please remove that.

Done. I also removed the dump.c file that is used to generate some of
these support data files.

> - maybe it is not necessary to extend ctype to utype: in ConTeXt we
> have char-def.lua which gives very detailed information. 

I have decided to keep that code: at some time in the future I want
to expose the fontforge Unicode library to the lua scripting language.
The current unicode library (slunicode) is minimalistic, already
outdated, and hard to keep up-to-date, so it makes sense to switch
to the much cleaner version from Fontforge at some point (not too
soon though, it has a rather low priority).

> - unialt.c is only needed for autohint.c. since hinting have nothing
> to do with typesetting, perhaps these two files can be gone too...

Autohint.c (and tocff.c) is really needed: for some odd legacy
fonts, I generate a CFF font on the fly.

But unialt.c was is used only for the FindBlues() function, and for
that, the test for unicode alternates was definately overkill, so
unialt.c is gone now.

> After removing these files I ended up building a 3.9M luatex  on Mac OS X.
> Maybe Linux binary can be even smaller.

The size of my cross-compiled windows binary dropped by some 750K
thanks to all this. I can't easily check linux binary sizes because
I always compile with debugging symbols on and optimization off
(except for releases).

> of course, the above thoughts have not been throughly tested.

Best wishes, thanks for the digging up the information,

Taco

From taco at elvenkind.com  Fri Jun 19 17:19:56 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 19 Jun 2009 17:19:56 +0200
Subject: [Dev-luatex] encoding code issue
In-Reply-To: <4A3BABB4.3090302@elvenkind.com>
References: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>
	<4A3BABB4.3090302@elvenkind.com>
Message-ID: <4A3BAC9C.7010804@elvenkind.com>



Taco Hoekwater wrote:
> 
>             if you want to run your tests, you only have to grab the
> current trunk and recompile. Probably the most important thing to test
> is whether searching in Acroread still works as it should.

Just in case, for those of you that you use context: don't forget to
empty the font cache first. All this stuff only applies to the
initial font loading stage.

Best wishes,
Taco


From yuleopen at gmail.com  Fri Jun 19 18:20:35 2009
From: yuleopen at gmail.com (Yue Wang)
Date: Sat, 20 Jun 2009 00:20:35 +0800
Subject: [Dev-luatex] encoding code issue
In-Reply-To: <4A3BABB4.3090302@elvenkind.com>
References: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>
	<4A3BABB4.3090302@elvenkind.com>
Message-ID: <68bfdc900906190920o260b5bd9o30199a5038db2901@mail.gmail.com>

> I have decided to keep that code: at some time in the future I want
> to expose the fontforge Unicode library to the lua scripting language.
> The current unicode library (slunicode) is minimalistic, already
> outdated, and hard to keep up-to-date, so it makes sense to switch
> to the much cleaner version from Fontforge at some point (not too
> soon though, it has a rather low priority).
>

OK. I understand. but can you put tolower into #ifdef too?
tolower is only needed for macbinary.c for a filename related call.
It is not needed to be in full unicode range.

From root at www.metatex.org  Fri Jun 19 22:27:16 2009
From: root at www.metatex.org (Cron Daemon)
Date: Fri, 19 Jun 2009 22:27:16 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090619202716.BAEAC1E8C3AA@www.metatex.org>

------------------------------------------------------------------------
r2535 | taco | 2009-06-19 16:23:31 +0200 (Fri, 19 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/luafontforge.am
   D /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/unialt.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/autohint.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/inc/chardata.h

Disable alternate processing in FindBlues() and drop the now unneeded unialt.c

------------------------------------------------------------------------
r2536 | taco | 2009-06-19 16:54:41 +0200 (Fri, 19 Jun 2009) | 4 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/cjk.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/gwwiconv.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/ucharmap.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/parsettf.c

Put all the arrays and code for CJK->Unicode recoding behind the define FROM_CJK_ICONV
(which is undefined)


------------------------------------------------------------------------
r2537 | taco | 2009-06-19 19:00:20 +0200 (Fri, 19 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/parsettf.c

speed up ttf loading 

------------------------------------------------------------------------
r2538 | taco | 2009-06-19 20:18:38 +0200 (Fri, 19 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/psread.c

some things in ps char reading can be skipped
(point catagorisation, path reversal, hint guessing)

------------------------------------------------------------------------
r2539 | oneiros | 2009-06-19 22:04:58 +0200 (Fri, 19 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/autohint.c

unused variables

------------------------------------------------------------------------

From yuleopen at gmail.com  Sat Jun 20 02:32:32 2009
From: yuleopen at gmail.com (Yue Wang)
Date: Sat, 20 Jun 2009 08:32:32 +0800
Subject: [Dev-luatex] encoding code issue
In-Reply-To: <68bfdc900906190920o260b5bd9o30199a5038db2901@mail.gmail.com>
References: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>
	<4A3BABB4.3090302@elvenkind.com>
	<68bfdc900906190920o260b5bd9o30199a5038db2901@mail.gmail.com>
Message-ID: <68bfdc900906191732p4dba0d3dw320de15c77542a64@mail.gmail.com>

Hi, Taco:

On Sat, Jun 20, 2009 at 12:20 AM, Yue Wang<yuleopen at gmail.com> wrote:
>> I have decided to keep that code: at some time in the future I want
>> to expose the fontforge Unicode library to the lua scripting language.
>> The current unicode library (slunicode) is minimalistic, already
>> outdated, and hard to keep up-to-date, so it makes sense to switch
>> to the much cleaner version from Fontforge at some point (not too
>> soon though, it has a rather low priority).
>>
>
> OK. I understand. but can you put tolower into #ifdef too?
> tolower is only needed for macbinary.c for a filename related call.
> It is not needed to be in full unicode range.
>

here is the patch.

Index: source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/utype.c
===================================================================
--- source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/utype.c	(revision
2540)
+++ source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/utype.c	(working
copy)
@@ -1,5 +1,6 @@
 #include "utype.h"

+#if 0
 const unsigned short ____tolower[]= { 0,
   0x0000, 0x0001, 0x0002, 0x0003, 0x0004, 0x0005, 0x0006, 0x0007,
   0x0008, 0x0009, 0x000a, 0x000b, 0x000c, 0x000d, 0x000e, 0x000f,
@@ -8195,7 +8196,6 @@
   0x0000, 0xfff9, 0xfffa, 0xfffb, 0xfffc, 0xfffd, 0x0000, 0x0000
 };

-#if 0
 const unsigned short ____toupper[] = { 0,
   0x0000, 0x0001, 0x0002, 0x0003, 0x0004, 0x0005, 0x0006, 0x0007,
   0x0008, 0x0009, 0x000a, 0x000b, 0x000c, 0x000d, 0x000e, 0x000f,
Index: source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/macbinary.c
===================================================================
--- source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/macbinary.c	(revision
2540)
+++ source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/macbinary.c	(working
copy)
@@ -1155,7 +1155,7 @@
     spt = strrchr(buffer,'/')+1;
     for ( pt=spt; *pt; ++pt )
 	if ( isupper( *pt ))
-	    *pt = tolower( *pt );
+	    *pt =  *pt - 'A' + 'a';
     dpt = strchr(spt,'.');
     if ( dpt==NULL ) dpt = spt+strlen(spt);
     if ( dpt-spt>8 || strlen(dpt)>4 ) {
Index: source/texk/web2c/luatexdir/luafontloader/fontforge/inc/utype.h
===================================================================
--- source/texk/web2c/luatexdir/luafontloader/fontforge/inc/utype.h	(revision
2540)
+++ source/texk/web2c/luatexdir/luafontloader/fontforge/inc/utype.h	(working
copy)
@@ -47,14 +47,14 @@
 #define ____TOUCHING	0x100000
 #define ____COMBININGPOSMASK	0x1fff00

+#if 0
 extern const unsigned short ____tolower[];
-#if 0
 extern const unsigned short ____toupper[];
 #endif
 extern const unsigned int  ____utype[];

+#if 0
 #define tolower(ch) (____tolower[(ch)+1])
-#if 0
 #define toupper(ch) (____toupper[(ch)+1])
 #endif
 #define islower(ch) (____utype[(ch)+1]&____L)



(and personally I think ____utype can be gone too...
such unicode library can be very easy to be implement in pure Lua way.)

Yue Wang

From yuleopen at gmail.com  Sat Jun 20 05:21:50 2009
From: yuleopen at gmail.com (Yue Wang)
Date: Sat, 20 Jun 2009 11:21:50 +0800
Subject: [Dev-luatex] encoding code issue
In-Reply-To: <4A3BAC9C.7010804@elvenkind.com>
References: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>
	<4A3BABB4.3090302@elvenkind.com> <4A3BAC9C.7010804@elvenkind.com>
Message-ID: <68bfdc900906192021p47a5bfdaqbdbaea30933d1f8a@mail.gmail.com>

Hi, Taco:

With more extensive test on Chinese and Korean fonts (40 or so fonts)
by Li Yanrui, Wang Longming,  and me, we encountered no font
loading/embedding problem.
PDFs can still copy and paste correctly.

So this is a quite good change.

No idea on Japanese fonts (I don't speak Japanese).
But KozMinPr6N-Regular.otf (The only Japanese fonts Li Yanrui have) works.
I think Japanese users on dev-luatex list can tell more about this change.

Yue Wang


On Fri, Jun 19, 2009 at 11:19 PM, Taco Hoekwater<taco at elvenkind.com> wrote:
>
>
> Taco Hoekwater wrote:
>>
>> ? ? ? ? ? ? if you want to run your tests, you only have to grab the
>> current trunk and recompile. Probably the most important thing to test
>> is whether searching in Acroread still works as it should.
>
> Just in case, for those of you that you use context: don't forget to
> empty the font cache first. All this stuff only applies to the
> initial font loading stage.
>
> Best wishes,
> Taco
>
>

From taco at elvenkind.com  Sat Jun 20 09:15:10 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 20 Jun 2009 09:15:10 +0200
Subject: [Dev-luatex] encoding code issue
In-Reply-To: <68bfdc900906191732p4dba0d3dw320de15c77542a64@mail.gmail.com>
References: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>	
	<4A3BABB4.3090302@elvenkind.com>	
	<68bfdc900906190920o260b5bd9o30199a5038db2901@mail.gmail.com>
	<68bfdc900906191732p4dba0d3dw320de15c77542a64@mail.gmail.com>
Message-ID: <4A3C8C7E.7090903@elvenkind.com>

Yue Wang wrote:
>>>
>> OK. I understand. but can you put tolower into #ifdef too?
>> tolower is only needed for macbinary.c for a filename related call.

It is also used by the strmatch() function collection in Unicode/char.c,
which themselves are used in various places all over the source.

I have applied the patch for now (after checking all actual usages
of those functions to make sure they do not need unicode) but I hope
you see why this gets problematic? I will have to revert it back at the
first instance of actual unicode strings that need to compared.

Best wishes,
Taco

From yuleopen at gmail.com  Sat Jun 20 09:49:30 2009
From: yuleopen at gmail.com (Yue Wang)
Date: Sat, 20 Jun 2009 15:49:30 +0800
Subject: [Dev-luatex] encoding code issue
In-Reply-To: <4A3C8C7E.7090903@elvenkind.com>
References: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>
	<4A3BABB4.3090302@elvenkind.com>
	<68bfdc900906190920o260b5bd9o30199a5038db2901@mail.gmail.com>
	<68bfdc900906191732p4dba0d3dw320de15c77542a64@mail.gmail.com>
	<4A3C8C7E.7090903@elvenkind.com>
Message-ID: <68bfdc900906200049p2a32bd47g36106df571bbbf0c@mail.gmail.com>

On Sat, Jun 20, 2009 at 3:15 PM, Taco Hoekwater<taco at elvenkind.com> wrote:
> Yue Wang wrote:
>>>>
>>> OK. I understand. but can you put tolower into #ifdef too?
>>> tolower is only needed for macbinary.c for a filename related call.
>
> It is also used by the strmatch() function collection in Unicode/char.c,
> which themselves are used in various places all over the source.
>
> I have applied the patch for now (after checking all actual usages
> of those functions to make sure they do not need unicode) but I hope
> you see why this gets problematic? I will have to revert it back at the
> first instance of actual unicode strings that need to compared.
>

well, that's ok.
200K size can be ignored since now 500G hard drive is pretty cheap...


> Best wishes,
> Taco
>

From khaledhosny at eglug.org  Sat Jun 20 10:38:55 2009
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sat, 20 Jun 2009 11:38:55 +0300
Subject: [Dev-luatex] encoding code issue
In-Reply-To: <4A3C8C7E.7090903@elvenkind.com>
References: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>
	<4A3BABB4.3090302@elvenkind.com>
	<68bfdc900906190920o260b5bd9o30199a5038db2901@mail.gmail.com>
	<68bfdc900906191732p4dba0d3dw320de15c77542a64@mail.gmail.com>
	<4A3C8C7E.7090903@elvenkind.com>
Message-ID: <20090620083854.GA28053@khaled-laptop>

On Sat, Jun 20, 2009 at 09:15:10AM +0200, Taco Hoekwater wrote:
> Yue Wang wrote:
>>>>
>>> OK. I understand. but can you put tolower into #ifdef too?
>>> tolower is only needed for macbinary.c for a filename related call.
>
> It is also used by the strmatch() function collection in Unicode/char.c,
> which themselves are used in various places all over the source.
>
> I have applied the patch for now (after checking all actual usages
> of those functions to make sure they do not need unicode) but I hope
> you see why this gets problematic? I will have to revert it back at the
> first instance of actual unicode strings that need to compared.

SVN revision 2541 doesn't even work for me, I get a FontForge error
whenever I run luatex, even with no files at all:

FontForge does not support your encoding (UTF-8), it will pretend the
local encoding is latin1
Internal Error: I can't figure out your version of iconv(). I need a
name for the UCS-4 encoding and I can't find one. Reconfigure
--without-iconv. Bye.


Regards,
 Khaled


-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090620/c1ea0a04/attachment-0001.bin>

From yuleopen at gmail.com  Sat Jun 20 10:56:37 2009
From: yuleopen at gmail.com (Yue Wang)
Date: Sat, 20 Jun 2009 16:56:37 +0800
Subject: [Dev-luatex] encoding code issue
In-Reply-To: <20090620083854.GA28053@khaled-laptop>
References: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>
	<4A3BABB4.3090302@elvenkind.com>
	<68bfdc900906190920o260b5bd9o30199a5038db2901@mail.gmail.com>
	<68bfdc900906191732p4dba0d3dw320de15c77542a64@mail.gmail.com>
	<4A3C8C7E.7090903@elvenkind.com>
	<20090620083854.GA28053@khaled-laptop>
Message-ID: <68bfdc900906200156ta7e7f75qeada631545867d91@mail.gmail.com>

that's because Taco's version of string match is buggy.

On Sat, Jun 20, 2009 at 4:38 PM, Khaled Hosny<khaledhosny at eglug.org> wrote:
> On Sat, Jun 20, 2009 at 09:15:10AM +0200, Taco Hoekwater wrote:
>> Yue Wang wrote:
>>>>>
>>>> OK. I understand. but can you put tolower into #ifdef too?
>>>> tolower is only needed for macbinary.c for a filename related call.
>>
>> It is also used by the strmatch() function collection in Unicode/char.c,
>> which themselves are used in various places all over the source.
>>
>> I have applied the patch for now (after checking all actual usages
>> of those functions to make sure they do not need unicode) but I hope
>> you see why this gets problematic? I will have to revert it back at the
>> first instance of actual unicode strings that need to compared.
>
> SVN revision 2541 doesn't even work for me, I get a FontForge error
> whenever I run luatex, even with no files at all:
>
> FontForge does not support your encoding (UTF-8), it will pretend the
> local encoding is latin1
> Internal Error: I can't figure out your version of iconv(). I need a
> name for the UCS-4 encoding and I can't find one. Reconfigure
> --without-iconv. Bye.
>
>
> Regards,
> ?Khaled
>
>
> --
> ?Khaled Hosny
> ?Arabic localiser and member of Arabeyes.org team
> ?Free font developer
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.9 (GNU/Linux)
>
> iEYEARECAAYFAko8oB4ACgkQRoqITGOuyPJ63wCeKogYEqRwy04Vl0dOCSpmXWBB
> Re8AoInlrCUQjBMEDVvZaBhoatasoCZe
> =+3x1
> -----END PGP SIGNATURE-----
>
>

From yuleopen at gmail.com  Sat Jun 20 11:04:16 2009
From: yuleopen at gmail.com (Yue Wang)
Date: Sat, 20 Jun 2009 17:04:16 +0800
Subject: [Dev-luatex] encoding code issue
In-Reply-To: <68bfdc900906200156ta7e7f75qeada631545867d91@mail.gmail.com>
References: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>
	<4A3BABB4.3090302@elvenkind.com>
	<68bfdc900906190920o260b5bd9o30199a5038db2901@mail.gmail.com>
	<68bfdc900906191732p4dba0d3dw320de15c77542a64@mail.gmail.com>
	<4A3C8C7E.7090903@elvenkind.com>
	<20090620083854.GA28053@khaled-laptop>
	<68bfdc900906200156ta7e7f75qeada631545867d91@mail.gmail.com>
Message-ID: <68bfdc900906200204v8f6e5fkab988b51cc1fdfb@mail.gmail.com>

no, I find out that my version of tolower is buggy...
lower case can not be lower case again.
for macbinary.c it's ok, but not for strmatch.

On Sat, Jun 20, 2009 at 4:56 PM, Yue Wang<yuleopen at gmail.com> wrote:
> that's because Taco's version of string match is buggy.
>
> On Sat, Jun 20, 2009 at 4:38 PM, Khaled Hosny<khaledhosny at eglug.org> wrote:
>> On Sat, Jun 20, 2009 at 09:15:10AM +0200, Taco Hoekwater wrote:
>>> Yue Wang wrote:
>>>>>>
>>>>> OK. I understand. but can you put tolower into #ifdef too?
>>>>> tolower is only needed for macbinary.c for a filename related call.
>>>
>>> It is also used by the strmatch() function collection in Unicode/char.c,
>>> which themselves are used in various places all over the source.
>>>
>>> I have applied the patch for now (after checking all actual usages
>>> of those functions to make sure they do not need unicode) but I hope
>>> you see why this gets problematic? I will have to revert it back at the
>>> first instance of actual unicode strings that need to compared.
>>
>> SVN revision 2541 doesn't even work for me, I get a FontForge error
>> whenever I run luatex, even with no files at all:
>>
>> FontForge does not support your encoding (UTF-8), it will pretend the
>> local encoding is latin1
>> Internal Error: I can't figure out your version of iconv(). I need a
>> name for the UCS-4 encoding and I can't find one. Reconfigure
>> --without-iconv. Bye.
>>
>>
>> Regards,
>> ?Khaled
>>
>>
>> --
>> ?Khaled Hosny
>> ?Arabic localiser and member of Arabeyes.org team
>> ?Free font developer
>>
>> -----BEGIN PGP SIGNATURE-----
>> Version: GnuPG v1.4.9 (GNU/Linux)
>>
>> iEYEARECAAYFAko8oB4ACgkQRoqITGOuyPJ63wCeKogYEqRwy04Vl0dOCSpmXWBB
>> Re8AoInlrCUQjBMEDVvZaBhoatasoCZe
>> =+3x1
>> -----END PGP SIGNATURE-----
>>
>>
>

From taco at elvenkind.com  Sat Jun 20 11:14:02 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 20 Jun 2009 11:14:02 +0200
Subject: [Dev-luatex] encoding code issue
In-Reply-To: <68bfdc900906200204v8f6e5fkab988b51cc1fdfb@mail.gmail.com>
References: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>	
	<4A3BABB4.3090302@elvenkind.com>	
	<68bfdc900906190920o260b5bd9o30199a5038db2901@mail.gmail.com>	
	<68bfdc900906191732p4dba0d3dw320de15c77542a64@mail.gmail.com>	
	<4A3C8C7E.7090903@elvenkind.com>	
	<20090620083854.GA28053@khaled-laptop>	
	<68bfdc900906200156ta7e7f75qeada631545867d91@mail.gmail.com>
	<68bfdc900906200204v8f6e5fkab988b51cc1fdfb@mail.gmail.com>
Message-ID: <4A3CA85A.9060305@elvenkind.com>

Yue Wang wrote:
> no, I find out that my version of tolower is buggy...
> lower case can not be lower case again.
> for macbinary.c it's ok, but not for strmatch.
> 
> On Sat, Jun 20, 2009 at 4:56 PM, Yue Wang<yuleopen at gmail.com> wrote:
>> that's because Taco's version of string match is buggy.
>>
>> On Sat, Jun 20, 2009 at 4:38 PM, Khaled Hosny<khaledhosny at eglug.org> wrote:
>>> SVN revision 2541 doesn't even work for me, I get a FontForge error
>>> whenever I run luatex, even with no files at all:

#2542 simply reverts #2451.

Best wishes,
Taco


From yuleopen at gmail.com  Sat Jun 20 11:47:02 2009
From: yuleopen at gmail.com (Yue Wang)
Date: Sat, 20 Jun 2009 17:47:02 +0800
Subject: [Dev-luatex] encoding code issue
In-Reply-To: <4A3CA85A.9060305@elvenkind.com>
References: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>
	<4A3BABB4.3090302@elvenkind.com>
	<68bfdc900906190920o260b5bd9o30199a5038db2901@mail.gmail.com>
	<68bfdc900906191732p4dba0d3dw320de15c77542a64@mail.gmail.com>
	<4A3C8C7E.7090903@elvenkind.com>
	<20090620083854.GA28053@khaled-laptop>
	<68bfdc900906200156ta7e7f75qeada631545867d91@mail.gmail.com>
	<68bfdc900906200204v8f6e5fkab988b51cc1fdfb@mail.gmail.com>
	<4A3CA85A.9060305@elvenkind.com>
Message-ID: <68bfdc900906200247p57c66390t23e5726435184ec@mail.gmail.com>

Hi, Taco and Khaled


>
> #2542 simply reverts #2451.

first of all, you left two typos there, so it will simply not work:

what I said is *pt =  *pt - 'A' + 'a'; // to lower
however, you write it like that:

#define tolower(ch) (ch+'A'-'a')

it is a "toupper" statement.


moreover,  the statement I left in macbinary.c is safe since there is
a "isupper" to do the test. however, it's totally wrong  for you to
put the same stuff to utype.h. utype.h should check whether it is in
the [A-Z] range or not.


So this is not because my patch sucks, but because you wrote the wrong
statement... Here is the patch for 2451:

Index: source/texk/web2c/luatexdir/luafontloader/fontforge/inc/utype.h

===================================================================
--- source/texk/web2c/luatexdir/luafontloader/fontforge/inc/utype.h	(revision
2541)
+++ source/texk/web2c/luatexdir/luafontloader/fontforge/inc/utype.h	(working
copy)
@@ -58,7 +58,7 @@
 #define toupper(ch) (____toupper[(ch)+1])
 #else
 /* ASCII style */
-#define tolower(ch) (ch+'A'-'a')
+#define tolower(ch)  ((ch >= 'A' && ch <= 'Z') ? ch + 32: ch)
 #endif
 #define islower(ch) (____utype[(ch)+1]&____L)
 #define isupper(ch) (____utype[(ch)+1]&____U)

can do all the trick.

>
> Best wishes,
> Taco
>
>

Yue Wang

From taco at elvenkind.com  Sat Jun 20 12:00:59 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 20 Jun 2009 12:00:59 +0200
Subject: [Dev-luatex] encoding code issue
In-Reply-To: <68bfdc900906200247p57c66390t23e5726435184ec@mail.gmail.com>
References: <68bfdc900906190638i61b635b1h4959dabba55ed7a4@mail.gmail.com>	
	<4A3BABB4.3090302@elvenkind.com>	
	<68bfdc900906190920o260b5bd9o30199a5038db2901@mail.gmail.com>	
	<68bfdc900906191732p4dba0d3dw320de15c77542a64@mail.gmail.com>	
	<4A3C8C7E.7090903@elvenkind.com>	
	<20090620083854.GA28053@khaled-laptop>	
	<68bfdc900906200156ta7e7f75qeada631545867d91@mail.gmail.com>	
	<68bfdc900906200204v8f6e5fkab988b51cc1fdfb@mail.gmail.com>	
	<4A3CA85A.9060305@elvenkind.com>
	<68bfdc900906200247p57c66390t23e5726435184ec@mail.gmail.com>
Message-ID: <4A3CB35B.8040901@elvenkind.com>

Yue Wang wrote:
> Hi, Taco and Khaled
> 
> 
>> #2542 simply reverts #2451.
> 
> first of all, you left two typos there, so it will simply not work:

Yes, I know I messed up your patch and that it was not your fault, but
nevertheless I changed my mind and now prefer to keep using the unicode
version of tolower().

The reason is this: any imports I make from newer versions of fontforge
(and that is likely) will assume the unicode version of tolower to be
present. Using a different definition could result in bugs that are
very hard to find.

Best wishes,
Taco





From root at www.metatex.org  Sat Jun 20 12:28:43 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sat, 20 Jun 2009 12:28:43 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090620102843.19EAD1E8C3AA@www.metatex.org>

------------------------------------------------------------------------
r2540 | hhenkel | 2009-06-19 22:52:49 +0200 (Fri, 19 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c

add assert() to better guard agains the bug fixed in r2521
+ cosmetics

------------------------------------------------------------------------
r2541 | taco | 2009-06-20 09:07:25 +0200 (Sat, 20 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/char.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/ustring.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/utype.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/macbinary.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/inc/utype.h

remove the ____tolower array and redefine tolower() back to its ASCII form

------------------------------------------------------------------------
r2542 | taco | 2009-06-20 11:09:35 +0200 (Sat, 20 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/char.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/ustring.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/Unicode/utype.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/macbinary.c
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/inc/utype.h

revert 2541

------------------------------------------------------------------------
r2543 | taco | 2009-06-20 11:50:05 +0200 (Sat, 20 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/aclocal.m4
   M /trunk/source/texk/web2c/configure
   M /trunk/source/texk/web2c/doc/Makefile.in
   M /trunk/source/texk/web2c/lib/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/pdf/pagetree.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pagetree.h
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfaction.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfaction.h
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.h
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfcolorstack.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfcolorstack.h
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.h
   A /trunk/source/texk/web2c/luatexdir/pdf/pdflink.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdflink.h
   A /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.h
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfliteral.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfliteral.h
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.h
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.h
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfsaverestore.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfsaverestore.h
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfsetmatrix.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfsetmatrix.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.h
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.h
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/man/Makefile.in
   M /trunk/source/texk/web2c/web2c/Makefile.in
   M /trunk/source/texk/web2c/web2c/aclocal.m4
   M /trunk/source/texk/web2c/web2c/configure

Here is the promised split of pdftables.[ch]

------------------------------------------------------------------------

From root at www.metatex.org  Sat Jun 20 16:27:12 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sat, 20 Jun 2009 16:27:12 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090620142712.A8E841E8C3AA@www.metatex.org>

------------------------------------------------------------------------
r2544 | oneiros | 2009-06-20 12:32:56 +0200 (Sat, 20 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfaction.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsaverestore.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsetmatrix.c

svn keywords

------------------------------------------------------------------------
r2545 | oneiros | 2009-06-20 12:33:49 +0200 (Sat, 20 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfaction.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfcolorstack.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflink.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfliteral.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsaverestore.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsetmatrix.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.c

indent

------------------------------------------------------------------------
r2546 | taco | 2009-06-20 14:50:51 +0200 (Sat, 20 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/vfovf.c
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfcolorstack.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfcolorstack.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsaverestore.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsaverestore.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsetmatrix.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsetmatrix.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.h
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.h

redistributed the pdf-related functions in utils.c, and removed
a few unneeded string helpers

------------------------------------------------------------------------
r2547 | taco | 2009-06-20 15:00:59 +0200 (Sat, 20 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writepng.c
   M /trunk/source/texk/web2c/luatexdir/lua/limglib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/utils/writezip.c

remove a few unneeded interface functions (replaced by commands.h)

------------------------------------------------------------------------
r2548 | taco | 2009-06-20 15:11:27 +0200 (Sat, 20 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.web

two more superfluous functions removed

------------------------------------------------------------------------
r2549 | taco | 2009-06-20 15:13:32 +0200 (Sat, 20 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   A /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdffont.h
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h

add two more sets of pdf function sources: pdffont.[ch] and pdfshipout.[ch]

------------------------------------------------------------------------

From root at www.metatex.org  Sat Jun 20 22:27:15 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sat, 20 Jun 2009 22:27:15 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090620202715.58F661E8C3AA@www.metatex.org>

------------------------------------------------------------------------
r2550 | taco | 2009-06-20 16:30:54 +0200 (Sat, 20 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/vfovf.c
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c

move the functions from section 32e to pdffont.c

------------------------------------------------------------------------
r2551 | taco | 2009-06-20 16:32:47 +0200 (Sat, 20 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/luatexfont.h

forgot to fix the header declaration of pdf_check_vf

------------------------------------------------------------------------

From root at www.metatex.org  Sun Jun 21 12:28:57 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sun, 21 Jun 2009 12:28:57 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090621102857.A1D391E8C3AA@www.metatex.org>

------------------------------------------------------------------------
r2552 | oneiros | 2009-06-21 01:18:52 +0200 (Sun, 21 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsaverestore.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsetmatrix.c

svn keywords

------------------------------------------------------------------------
r2553 | taco | 2009-06-21 09:56:30 +0200 (Sun, 21 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/commands.h

fix a bug in the type codes for the package filter 

------------------------------------------------------------------------
r2554 | taco | 2009-06-21 09:58:02 +0200 (Sun, 21 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/source/texk/web2c/luatexdir/commands.h

bugfix #2553 from trunk

------------------------------------------------------------------------
r2555 | taco | 2009-06-21 11:03:10 +0200 (Sun, 21 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/writefont.c

pdf_font_attr is sometimes 0 instead of the null string, and it makes 
sense to test that as well

------------------------------------------------------------------------

From root at www.metatex.org  Sun Jun 21 16:27:16 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sun, 21 Jun 2009 16:27:16 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090621142716.B6AAA1E8C3AA@www.metatex.org>

------------------------------------------------------------------------
r2556 | taco | 2009-06-21 12:24:47 +0200 (Sun, 21 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.h

reinstate the append_string() function (really needed)

------------------------------------------------------------------------
r2557 | taco | 2009-06-21 12:25:22 +0200 (Sun, 21 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c

C cosmetics

------------------------------------------------------------------------
r2558 | taco | 2009-06-21 12:39:37 +0200 (Sun, 21 Jun 2009) | 4 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.h

* move the code from 32f to pdfshipout.c and the thread output 
routines to pdfthread.c
* restore use of append_string in the web code

------------------------------------------------------------------------
r2559 | taco | 2009-06-21 14:25:55 +0200 (Sun, 21 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.defines

a bunch of these definitions was not needed anymore

------------------------------------------------------------------------
r2560 | taco | 2009-06-21 15:38:20 +0200 (Sun, 21 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.h

create and extract a function called scan_pdfoutline()

------------------------------------------------------------------------
r2561 | taco | 2009-06-21 15:40:28 +0200 (Sun, 21 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfaction.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c

give the low-level pdf output routines char *'s as arguments
instead of str_numbers

------------------------------------------------------------------------
r2562 | taco | 2009-06-21 15:56:27 +0200 (Sun, 21 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.h

create and extract scan_pdfdest()

------------------------------------------------------------------------
r2563 | taco | 2009-06-21 15:57:41 +0200 (Sun, 21 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfaction.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c

indent

------------------------------------------------------------------------

From root at www.metatex.org  Sun Jun 21 22:27:14 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sun, 21 Jun 2009 22:27:14 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090621202714.42C7E1E8C3AA@www.metatex.org>

------------------------------------------------------------------------
r2564 | taco | 2009-06-21 16:19:41 +0200 (Sun, 21 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.h

extract scan_thread_id, scan_action, outline_dist_coun, and
new_annot_whatsit

------------------------------------------------------------------------
r2565 | taco | 2009-06-21 16:42:04 +0200 (Sun, 21 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.h

extract scan_pdf_box_spec, scan_al_rule. and scan_image

------------------------------------------------------------------------
r2566 | taco | 2009-06-21 16:42:20 +0200 (Sun, 21 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.h

indent

------------------------------------------------------------------------
r2567 | taco | 2009-06-21 20:16:09 +0200 (Sun, 21 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   A /trunk/source/texk/web2c/luatexdir/dvi
   A /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   A /trunk/source/texk/web2c/luatexdir/dvi/dvigen.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h

prepare a set of initial files to hold section 31 (couldnt resist)

------------------------------------------------------------------------

From root at www.metatex.org  Mon Jun 22 12:28:34 2009
From: root at www.metatex.org (Cron Daemon)
Date: Mon, 22 Jun 2009 12:28:34 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090622102834.93CED1E8C3AA@www.metatex.org>

------------------------------------------------------------------------
r2568 | taco | 2009-06-22 12:15:05 +0200 (Mon, 22 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/commands.h
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c

remove obsolete primitives: \pdfoptionalwaysusepdfpagebox \pdfoptionpdfinclusionerrorlevel \pdfforcepagebox

------------------------------------------------------------------------

From root at www.metatex.org  Mon Jun 22 16:27:16 2009
From: root at www.metatex.org (Cron Daemon)
Date: Mon, 22 Jun 2009 16:27:16 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090622142716.7A9531E8C3AA@www.metatex.org>

------------------------------------------------------------------------
r2569 | taco | 2009-06-22 12:29:21 +0200 (Mon, 22 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c

read_image arguments can now be char *s

------------------------------------------------------------------------

From root at www.metatex.org  Tue Jun 23 12:28:55 2009
From: root at www.metatex.org (Cron Daemon)
Date: Tue, 23 Jun 2009 12:28:55 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090623102855.AAA781E8C3AA@www.metatex.org>

------------------------------------------------------------------------
r2570 | taco | 2009-06-22 22:28:13 +0200 (Mon, 22 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.h
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.h

Do dvi output in C

------------------------------------------------------------------------
r2571 | taco | 2009-06-22 22:31:13 +0200 (Mon, 22 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c

remove a small warning, + indent

------------------------------------------------------------------------
r2572 | taco | 2009-06-23 09:02:19 +0200 (Tue, 23 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.h
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c
   M /trunk/source/texk/web2c/luatexdir/tokens.h

convert write_out() (including \write18) and out_what() to C 

------------------------------------------------------------------------
r2573 | taco | 2009-06-23 09:23:33 +0200 (Tue, 23 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines

fix duplication of dvi_buf_size

------------------------------------------------------------------------
r2574 | taco | 2009-06-23 10:07:47 +0200 (Tue, 23 Jun 2009) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.tex

add the "name" key van latelua

------------------------------------------------------------------------
r2575 | taco | 2009-06-23 10:28:19 +0200 (Tue, 23 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/aclocal.m4
   M /trunk/source/texk/web2c/configure
   M /trunk/source/texk/web2c/doc/Makefile.in
   M /trunk/source/texk/web2c/lib/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   A /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/man/Makefile.in
   M /trunk/source/texk/web2c/web2c/Makefile.in
   M /trunk/source/texk/web2c/web2c/aclocal.m4
   M /trunk/source/texk/web2c/web2c/configure

introduce pdftypes.h to hold the typedefs needed for the pdf backend

------------------------------------------------------------------------

From root at www.metatex.org  Tue Jun 23 16:27:17 2009
From: root at www.metatex.org (Cron Daemon)
Date: Tue, 23 Jun 2009 16:27:17 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090623142717.45B691E8C3AA@www.metatex.org>

------------------------------------------------------------------------
r2576 | taco | 2009-06-23 12:55:50 +0200 (Tue, 23 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.h

add a header loading guard + indent

------------------------------------------------------------------------
r2577 | taco | 2009-06-23 12:56:38 +0200 (Tue, 23 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/aclocal.m4
   M /trunk/source/texk/web2c/configure
   M /trunk/source/texk/web2c/doc/Makefile.in
   M /trunk/source/texk/web2c/lib/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   A /trunk/source/texk/web2c/luatexdir/tex/printing.c
   A /trunk/source/texk/web2c/luatexdir/tex/printing.h
   M /trunk/source/texk/web2c/man/Makefile.in
   M /trunk/source/texk/web2c/web2c/Makefile.in
   M /trunk/source/texk/web2c/web2c/aclocal.m4
   M /trunk/source/texk/web2c/web2c/configure

prepare a set of C files for printing

------------------------------------------------------------------------
r2578 | taco | 2009-06-23 16:01:10 +0200 (Tue, 23 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.h

dvi_buf_size has to be of type integer, otherwise fetching from configuration fails

------------------------------------------------------------------------
r2579 | taco | 2009-06-23 16:12:23 +0200 (Tue, 23 Jun 2009) | 30 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/luatexfont.h
   M /trunk/source/texk/web2c/luatexdir/font/texfont.h
   M /trunk/source/texk/web2c/luatexdir/font/tounicode.c
   M /trunk/source/texk/web2c/luatexdir/font/vfpacket.c
   M /trunk/source/texk/web2c/luatexdir/font/writeenc.c
   M /trunk/source/texk/web2c/luatexdir/font/writefont.c
   M /trunk/source/texk/web2c/luatexdir/font/writet3.c
   M /trunk/source/texk/web2c/luatexdir/font/writettf.c
   M /trunk/source/texk/web2c/luatexdir/font/writetype2.c
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.h
   M /trunk/source/texk/web2c/luatexdir/image/writejbig2.c
   M /trunk/source/texk/web2c/luatexdir/image/writejbig2.h
   M /trunk/source/texk/web2c/luatexdir/image/writejpg.c
   M /trunk/source/texk/web2c/luatexdir/image/writejpg.h
   M /trunk/source/texk/web2c/luatexdir/image/writepng.c
   M /trunk/source/texk/web2c/luatexdir/image/writepng.h
   M /trunk/source/texk/web2c/luatexdir/lua/limglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luanode.c
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.h
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pagetree.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pagetree.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfaction.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfaction.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfcolorstack.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfcolorstack.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfliteral.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfliteral.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsaverestore.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsaverestore.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsetmatrix.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsetmatrix.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.h
   M /trunk/source/texk/web2c/luatexdir/utils/writezip.c

Here is a massive patch that does nearly nothing.

It adds the type definition for a structure called  
pdf_output_file. Currently it contains only the FILE * 
of the output file, but soon this will be filled in
with more of the currently still global variables
related to pdf writing.

The patch also adds a pointer to such a structure to 
all the functions that write to the PDF output (or so I hope).

There is a new global variable 'static_pdf' (in pdfgen.c),
which contains the reference to the sole object of the 
pdf_output_file type. There is still a need for such
a static variable because there are hard to reach pdf 
writing functions (esp. in limglib.c, lpdflib.c, and 
pdftoepdf.cc's read_pdf_info() function).

The suggested entry point is the check_pdfminorversion() 
function, as that creates the global structure if it does 
not exist yet.

The only other function that explicitly test the variable
for existance is remove_pdffile(), everything else just
assumes a non-NULL argument.

Oh yeah: this patch also shifts a few minor things
around, like moving do_late_lua() to pdfshipout.c.


------------------------------------------------------------------------

From root at www.metatex.org  Tue Jun 23 22:27:18 2009
From: root at www.metatex.org (Cron Daemon)
Date: Tue, 23 Jun 2009 22:27:18 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090623202718.9BF8F1E8C3AA@www.metatex.org>

------------------------------------------------------------------------
r2580 | taco | 2009-06-23 17:55:52 +0200 (Tue, 23 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/luatexfont.h
   M /trunk/source/texk/web2c/luatexdir/font/tounicode.c
   M /trunk/source/texk/web2c/luatexdir/font/writefont.c
   M /trunk/source/texk/web2c/luatexdir/font/writet3.c
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.h
   M /trunk/source/texk/web2c/luatexdir/image/writejpg.c
   M /trunk/source/texk/web2c/luatexdir/image/writejpg.h
   M /trunk/source/texk/web2c/luatexdir/image/writepng.c
   M /trunk/source/texk/web2c/luatexdir/image/writepng.h
   M /trunk/source/texk/web2c/luatexdir/lua/limglib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h

move (some of) the relevant fixed_xxxx variables to the structure

------------------------------------------------------------------------

From khaledhosny at eglug.org  Wed Jun 24 05:40:45 2009
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Wed, 24 Jun 2009 06:40:45 +0300
Subject: [Dev-luatex] Wrong default value for \Umathradicalrule ?
Message-ID: <20090624034045.GA12247@khaled-laptop>


Per LuaTeX manual, \Umathradicalrule is equivalent to OpenType
RadicalRuleThickness but the comment in page 111 doesn't seem right to
me; RadicalRuleThickness, from its name, is the thickness radical rule
and thus it should default to default_rule_thickness as TeX82 does and
as recommended in OpenType MATH specification too.

In short, \Umathradicalrule should be the same as, say,
\Umathoverbarrule but it isn't:

\the\Umathradicalrule\textstyle : \the\Umathoverbarrule\textstyle
\bye

Regards,
 Khaled


-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090624/6cd7aa35/attachment.bin>

From taco at elvenkind.com  Wed Jun 24 09:39:55 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 24 Jun 2009 09:39:55 +0200
Subject: [Dev-luatex] Wrong default value for \Umathradicalrule ?
In-Reply-To: <20090624034045.GA12247@khaled-laptop>
References: <20090624034045.GA12247@khaled-laptop>
Message-ID: <4A41D84B.20305@elvenkind.com>


Hi Khaled,

Khaled Hosny wrote:
> Per LuaTeX manual, \Umathradicalrule is equivalent to OpenType
> RadicalRuleThickness but the comment in page 111 doesn't seem right to
> me; RadicalRuleThickness, from its name, is the thickness radical rule
> and thus it should default to default_rule_thickness as TeX82 does and

The comment is correct. TeX82 does not do what you think it does.
>From the texbook, rule 11 in Appendix G:

  "Note that the font designer specifies the thickness of the
   [radical] rule by making it the height of the radical character;
   the baseline of the character should be precisely at the bottom of
   the rule."

Best wishes,
Taco


From root at www.metatex.org  Wed Jun 24 12:28:47 2009
From: root at www.metatex.org (Cron Daemon)
Date: Wed, 24 Jun 2009 12:28:47 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090624102847.BFD4D1E8C3AA@www.metatex.org>

------------------------------------------------------------------------
r2581 | oneiros | 2009-06-24 10:29:29 +0200 (Wed, 24 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c

init some variables to silence the compiler

------------------------------------------------------------------------
r2582 | oneiros | 2009-06-24 10:29:55 +0200 (Wed, 24 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.h

indent

------------------------------------------------------------------------
r2583 | taco | 2009-06-24 11:37:19 +0200 (Wed, 24 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/writettf.c
   M /trunk/source/texk/web2c/luatexdir/font/writetype2.c
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writepng.c
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luanode.c
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h

move the pdf buffers into the structure, and fix various initialization problems

------------------------------------------------------------------------

From root at www.metatex.org  Wed Jun 24 16:25:10 2009
From: root at www.metatex.org (Cron Daemon)
Date: Wed, 24 Jun 2009 16:25:10 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090624143005.602601E8C3AA@www.metatex.org>

svn: PROPFIND request failed on '/svn/luatex'
svn: PROPFIND of '/svn/luatex': could not connect to server (http://foundry.supelec.fr)

From khaledhosny at eglug.org  Wed Jun 24 17:49:32 2009
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Wed, 24 Jun 2009 18:49:32 +0300
Subject: [Dev-luatex] Wrong default value for \Umathradicalrule ?
In-Reply-To: <4A41D84B.20305@elvenkind.com>
References: <20090624034045.GA12247@khaled-laptop>
	<4A41D84B.20305@elvenkind.com>
Message-ID: <20090624154932.GA14193@khaled-laptop>

On Wed, Jun 24, 2009 at 09:39:55AM +0200, Taco Hoekwater wrote:
> 
> Hi Khaled,
> 
> Khaled Hosny wrote:
> > Per LuaTeX manual, \Umathradicalrule is equivalent to OpenType
> > RadicalRuleThickness but the comment in page 111 doesn't seem right to
> > me; RadicalRuleThickness, from its name, is the thickness radical rule
> > and thus it should default to default_rule_thickness as TeX82 does and
> 
> The comment is correct. TeX82 does not do what you think it does.
> >From the texbook, rule 11 in Appendix G:
> 
>   "Note that the font designer specifies the thickness of the
>    [radical] rule by making it the height of the radical character;
>    the baseline of the character should be precisely at the bottom of
>    the rule."

I read that part of TeXbook and I can hardly understand anything, so
I'll not pretend that I understand anything and will trust you on this
:)

I'm just wondering whet \Umathradicalrule returns such so big value
"16383.99998pt" compared to "0.39998pt" for \Umathoverbarrule, it can't
be that big. There must be something wronge, either in the code or in my
understanding of what this value does.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090624/caf9782b/attachment.bin>

From taco at elvenkind.com  Wed Jun 24 17:53:45 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 24 Jun 2009 17:53:45 +0200
Subject: [Dev-luatex] Wrong default value for \Umathradicalrule ?
In-Reply-To: <20090624154932.GA14193@khaled-laptop>
References: <20090624034045.GA12247@khaled-laptop>
	<4A41D84B.20305@elvenkind.com>
	<20090624154932.GA14193@khaled-laptop>
Message-ID: <4A424C09.8020005@elvenkind.com>



Khaled Hosny wrote:
> 
> I'm just wondering whet \Umathradicalrule returns such so big value
> "16383.99998pt" compared to "0.39998pt" for \Umathoverbarrule, it can't
> be that big. There must be something wronge, either in the code or in my
> understanding of what this value does.

Ah. That is the magical value for "parameter not set" (i.e.: use the
tex82 radical char height instead of this explicit size), and that is
indeed not documented.

Best wishes,
Taco

From khaledhosny at eglug.org  Wed Jun 24 18:09:05 2009
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Wed, 24 Jun 2009 19:09:05 +0300
Subject: [Dev-luatex] Wrong default value for \Umathradicalrule ?
In-Reply-To: <4A424C09.8020005@elvenkind.com>
References: <20090624034045.GA12247@khaled-laptop>
	<4A41D84B.20305@elvenkind.com>
	<20090624154932.GA14193@khaled-laptop>
	<4A424C09.8020005@elvenkind.com>
Message-ID: <20090624160905.GA16342@khaled-laptop>

On Wed, Jun 24, 2009 at 05:53:45PM +0200, Taco Hoekwater wrote:
> 
> 
> Khaled Hosny wrote:
> > 
> > I'm just wondering whet \Umathradicalrule returns such so big value
> > "16383.99998pt" compared to "0.39998pt" for \Umathoverbarrule, it can't
> > be that big. There must be something wronge, either in the code or in my
> > understanding of what this value does.
> 
> Ah. That is the magical value for "parameter not set" (i.e.: use the
> tex82 radical char height instead of this explicit size), and that is
> indeed not documented.

That explains it, thanks.

Regards,
 Khaled


-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090624/8f8b85e7/attachment.bin>

From khaledhosny at eglug.org  Wed Jun 24 22:18:31 2009
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Wed, 24 Jun 2009 23:18:31 +0300
Subject: [Dev-luatex] Typo in the manual?
Message-ID: <20090624201831.GA487@khaled-laptop>

In page 110, the second row of the table, there is no
MinimumDisplayOperatorHeight in the MATH specification, but there is
DisplayOperatorMinHeight. Is that a typo?

Regards,
 Khaled


-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090624/a35fb089/attachment.bin>

From root at www.metatex.org  Wed Jun 24 22:25:10 2009
From: root at www.metatex.org (Cron Daemon)
Date: Wed, 24 Jun 2009 22:25:10 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090624203006.0C4641E8C3F2@www.metatex.org>

svn: PROPFIND request failed on '/svn/luatex'
svn: PROPFIND of '/svn/luatex': could not connect to server (http://foundry.supelec.fr)

From pragma at wxs.nl  Wed Jun 24 22:48:55 2009
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 24 Jun 2009 22:48:55 +0200
Subject: [Dev-luatex] Typo in the manual?
In-Reply-To: <20090624201831.GA487@khaled-laptop>
References: <20090624201831.GA487@khaled-laptop>
Message-ID: <4A429137.6040307@wxs.nl>

Khaled Hosny wrote:
> In page 110, the second row of the table, there is no
> MinimumDisplayOperatorHeight in the MATH specification, but there is
> DisplayOperatorMinHeight. Is that a typo?

afaik it's DisplayOperatorMinHeight

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From khaledhosny at eglug.org  Wed Jun 24 23:58:28 2009
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 25 Jun 2009 00:58:28 +0300
Subject: [Dev-luatex] Typo in the manual?
In-Reply-To: <4A429137.6040307@wxs.nl>
References: <20090624201831.GA487@khaled-laptop> <4A429137.6040307@wxs.nl>
Message-ID: <20090624215828.GB487@khaled-laptop>

On Wed, Jun 24, 2009 at 10:48:55PM +0200, Hans Hagen wrote:
> Khaled Hosny wrote:
>> In page 110, the second row of the table, there is no
>> MinimumDisplayOperatorHeight in the MATH specification, but there is
>> DisplayOperatorMinHeight. Is that a typo?
>
> afaik it's DisplayOperatorMinHeight

Sorry, reading what I wrote I see that it is confusing. I meant that the
manual says MinimumDisplayOperatorHeight but MATH specification says
DisplayOperatorMinHeight.

Regards,
 Khaled


-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090625/defe2af5/attachment.bin>

From khaledhosny at eglug.org  Thu Jun 25 02:05:39 2009
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 25 Jun 2009 03:05:39 +0300
Subject: [Dev-luatex] Typo in the manual?
In-Reply-To: <20090624201831.GA487@khaled-laptop>
References: <20090624201831.GA487@khaled-laptop>
Message-ID: <20090625000539.GA12673@khaled-laptop>

Another typo, limitbelowvgap and limitbelowbgap is used in two places,
but there isn't such parameter, I believe it should be limitdownvgap and
limitdownbgap.

On Wed, Jun 24, 2009 at 11:18:31PM +0300, Khaled Hosny wrote:
> In page 110, the second row of the table, there is no
> MinimumDisplayOperatorHeight in the MATH specification, but there is
> DisplayOperatorMinHeight. Is that a typo?
> 
> Regards,
>  Khaled
> 
> 
> -- 
>  Khaled Hosny
>  Arabic localiser and member of Arabeyes.org team
>  Free font developer

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20090625/616dccf0/attachment.bin>

From taco at elvenkind.com  Thu Jun 25 09:11:23 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 25 Jun 2009 09:11:23 +0200
Subject: [Dev-luatex] Typo in the manual?
In-Reply-To: <20090625000539.GA12673@khaled-laptop>
References: <20090624201831.GA487@khaled-laptop>
	<20090625000539.GA12673@khaled-laptop>
Message-ID: <4A43231B.6090403@elvenkind.com>

Khaled Hosny wrote:
> Another typo, limitbelowvgap and limitbelowbgap is used in two places,
> but there isn't such parameter, I believe it should be limitdownvgap and
> limitdownbgap.

As well as limitdownkern, yes. But those names were an oversight,
and I will rename all three to 'below' in 0.40.6 (later today).

Thanks for paying close attention.

Best wishes,
Taco

From root at www.metatex.org  Thu Jun 25 12:28:44 2009
From: root at www.metatex.org (Cron Daemon)
Date: Thu, 25 Jun 2009 12:28:44 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090625102844.8C92B1E8C3FC@www.metatex.org>

------------------------------------------------------------------------
r2584 | hhenkel | 2009-06-25 08:28:12 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.tex

typo

------------------------------------------------------------------------
r2585 | taco | 2009-06-25 08:59:21 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/luatexfont.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c

fix a crash at the end of the run (bad function header declaration)

------------------------------------------------------------------------
r2586 | taco | 2009-06-25 09:00:18 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/ltexiolib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luatoken.c
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/luatexextra.in
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.h
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.h

move the basic printing routines to C, and get rid of xchr[]

------------------------------------------------------------------------
r2587 | taco | 2009-06-25 09:20:49 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.pdf
   M /trunk/manual/luatexref-t.tex
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/tex/math.c

rename the math limitdown parameters to limitbelow

------------------------------------------------------------------------
r2588 | taco | 2009-06-25 09:22:57 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c

I can't use luatex_svnversion like this, because it unearths a bug in web2c

------------------------------------------------------------------------
r2589 | taco | 2009-06-25 11:02:38 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/mplibdir/mp.w
   M /trunk/source/texk/web2c/mplibdir/psout.w

metapost 1.204

------------------------------------------------------------------------
r2590 | taco | 2009-06-25 11:03:34 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lang/texlang.c

hotfix for hyphenation exceptions wityh utf-8 chars in them

------------------------------------------------------------------------
r2591 | taco | 2009-06-25 11:10:55 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/mapfile.c
   M /trunk/source/texk/web2c/luatexdir/font/writet3.c
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflink.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflink.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.h
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.h

move some more stuff to the PDF structure 

------------------------------------------------------------------------
r2592 | taco | 2009-06-25 11:17:59 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/manual/luatexref-t.tex

merge manual fix 2574 from trunk

------------------------------------------------------------------------
r2593 | taco | 2009-06-25 11:20:27 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/manual/luatexref-t.tex

small typo (2583 from trunk)

------------------------------------------------------------------------
r2594 | taco | 2009-06-25 11:24:57 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/manual/luatexref-t.tex
   M /branches/0.40.x/source/texk/web2c/luatexdir/luatex.web
   M /branches/0.40.x/source/texk/web2c/luatexdir/tex/math.c

rename limitdown parameters to limitbelow (trunk 2587)

------------------------------------------------------------------------
r2595 | taco | 2009-06-25 11:26:17 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/source/texk/web2c/mplibdir/mp.w
   M /branches/0.40.x/source/texk/web2c/mplibdir/psout.w

metapost 1.204

------------------------------------------------------------------------
r2596 | taco | 2009-06-25 11:26:59 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/source/texk/web2c/luatexdir/lang/texlang.c

hotfix for utf8 hyphenation exceptions (trunk 2590)

------------------------------------------------------------------------
r2597 | taco | 2009-06-25 11:47:46 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/manual/luatexref-t.tex
   M /branches/0.40.x/source/texk/web2c/luatexdir/NEWS
   M /branches/0.40.x/source/texk/web2c/luatexdir/luatex.web

update NEWS and bump the version number

------------------------------------------------------------------------
r2598 | taco | 2009-06-25 11:48:53 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/NEWS

new NEWS from 0.40.x

------------------------------------------------------------------------

From taco at elvenkind.com  Thu Jun 25 14:55:55 2009
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 25 Jun 2009 14:55:55 +0200
Subject: [Dev-luatex] Luatex beta 0.40.6
Message-ID: <4A4373DB.1060004@elvenkind.com>

Hi,

I have just uploaded luatex 0.40.6 to the foundry server,
and have committed the source code to texlive.

What's new:

* Fix two string vs. toks bugs in the lua node interface:
  whatsit,annot and whatsit,startlink data assignments were
  made directly as strings instead of being converted to tokens.

* Sometimes pdf.print() could be used before the proper structures
  were initialized.

* There was a bug in the type codes for the lua package filter
  callback: wrong extra info was passed to lua for the alignment
  and vsplit cases.

* The math parameters \Umathlimitdownvgap, \Umathlimitdownbgap,
  and \Umathlimitdownkern have been renamed to \Umathlimitbelowbgap,
  \Umathlimitbelowvgap, and \Umathlimitbelowkern to be more
  consistent with the other parameter names.

* The embedded MPlib is now 1.204.

* Handling of UTF-8 hyphenation exceptions has been fixed.

* There were a number of typos in the manual.


The archives can be downloaded from supelec as usual:

        http://foundry.supelec.fr/gf/project/luatex/

You could also check out the sources via anonymous svn:

  svn co http://foundry.supelec.fr/svn/luatex/tags/beta-0.40.6

Bugs and feature requests can be added to the issue tracker at

       http://tracker.luatex.org


Have fun,
Taco


From root at www.metatex.org  Thu Jun 25 16:30:02 2009
From: root at www.metatex.org (Cron Daemon)
Date: Thu, 25 Jun 2009 16:30:02 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090625143002.946391E8C3FF@www.metatex.org>

------------------------------------------------------------------------
r2599 | taco | 2009-06-25 12:35:26 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/source/Makefile.in
   M /branches/0.40.x/source/aclocal.m4
   M /branches/0.40.x/source/build-aux/config.guess
   M /branches/0.40.x/source/build-aux/config.sub
   M /branches/0.40.x/source/configure
   M /branches/0.40.x/source/libs/README
   M /branches/0.40.x/source/libs/configure
   M /branches/0.40.x/source/libs/libpng/ChangeLog
   M /branches/0.40.x/source/libs/libpng/Makefile.am
   M /branches/0.40.x/source/libs/libpng/Makefile.in
   M /branches/0.40.x/source/libs/libpng/aclocal.m4
   M /branches/0.40.x/source/libs/libpng/configure
   M /branches/0.40.x/source/libs/libpng/configure.ac
   M /branches/0.40.x/source/libs/libpng/libpng-1.2.37/png.c
   M /branches/0.40.x/source/m4/kpse-common.m4
   M /branches/0.40.x/source/m4/kpse-fontconfig-flags.m4
   M /branches/0.40.x/source/m4/kpse-freetype2-flags.m4
   M /branches/0.40.x/source/m4/kpse-setup.m4
   A /branches/0.40.x/source/m4/kpse-warnings.m4
   M /branches/0.40.x/source/texk/README
   M /branches/0.40.x/source/texk/configure
   M /branches/0.40.x/source/texk/kpathsea/ChangeLog
   M /branches/0.40.x/source/texk/kpathsea/Makefile.am
   M /branches/0.40.x/source/texk/kpathsea/Makefile.in
   M /branches/0.40.x/source/texk/kpathsea/ac/web2c.ac
   M /branches/0.40.x/source/texk/kpathsea/aclocal.m4
   M /branches/0.40.x/source/texk/kpathsea/c-auto.in
   M /branches/0.40.x/source/texk/kpathsea/c-proto.h
   D /branches/0.40.x/source/texk/kpathsea/c-vararg.h
   M /branches/0.40.x/source/texk/kpathsea/concatn.c
   M /branches/0.40.x/source/texk/kpathsea/concatn.h
   M /branches/0.40.x/source/texk/kpathsea/configure
   M /branches/0.40.x/source/texk/kpathsea/configure.ac
   M /branches/0.40.x/source/texk/kpathsea/doc/Makefile.in
   M /branches/0.40.x/source/texk/kpathsea/doc/kpathsea.info
   M /branches/0.40.x/source/texk/kpathsea/getopt.c
   M /branches/0.40.x/source/texk/kpathsea/kpathsea.c
   M /branches/0.40.x/source/texk/kpathsea/man/Makefile.in
   M /branches/0.40.x/source/texk/kpathsea/mingw32.c
   M /branches/0.40.x/source/texk/kpathsea/tex-file.c
   M /branches/0.40.x/source/texk/kpathsea/tex-file.h
   M /branches/0.40.x/source/texk/kpathsea/tex-glyph.c
   M /branches/0.40.x/source/texk/kpathsea/texmf.cnf
   M /branches/0.40.x/source/texk/web2c/ChangeLog
   M /branches/0.40.x/source/texk/web2c/Makefile.in
   M /branches/0.40.x/source/texk/web2c/aclocal.m4
   M /branches/0.40.x/source/texk/web2c/c-auto.in
   M /branches/0.40.x/source/texk/web2c/config.h
   M /branches/0.40.x/source/texk/web2c/configure
   M /branches/0.40.x/source/texk/web2c/configure.ac
   M /branches/0.40.x/source/texk/web2c/cpascal.h
   M /branches/0.40.x/source/texk/web2c/ctangleboot.c
   M /branches/0.40.x/source/texk/web2c/ctiedir/ChangeLog
   M /branches/0.40.x/source/texk/web2c/ctiedir/ctie-k.ch
   M /branches/0.40.x/source/texk/web2c/cwebboot.c
   M /branches/0.40.x/source/texk/web2c/cwebdir/comm-w2c.ch
   M /branches/0.40.x/source/texk/web2c/cwebdir/ctang-w2c.ch
   M /branches/0.40.x/source/texk/web2c/cwebdir/cweav-w2c.ch
   M /branches/0.40.x/source/texk/web2c/doc/Makefile.in
   M /branches/0.40.x/source/texk/web2c/lib/ChangeLog
   M /branches/0.40.x/source/texk/web2c/lib/Makefile.am
   M /branches/0.40.x/source/texk/web2c/lib/Makefile.in
   M /branches/0.40.x/source/texk/web2c/lib/basechsuffix.c
   M /branches/0.40.x/source/texk/web2c/lib/chartostring.c
   M /branches/0.40.x/source/texk/web2c/lib/coredump.c
   M /branches/0.40.x/source/texk/web2c/lib/eofeoln.c
   M /branches/0.40.x/source/texk/web2c/lib/fprintreal.c
   M /branches/0.40.x/source/texk/web2c/lib/input2int.c
   M /branches/0.40.x/source/texk/web2c/lib/inputint.c
   M /branches/0.40.x/source/texk/web2c/lib/main.c
   M /branches/0.40.x/source/texk/web2c/lib/openclose.c
   M /branches/0.40.x/source/texk/web2c/lib/printversion.c
   M /branches/0.40.x/source/texk/web2c/lib/texmfmp.c
   M /branches/0.40.x/source/texk/web2c/lib/uexit.c
   M /branches/0.40.x/source/texk/web2c/lib/usage.c
   M /branches/0.40.x/source/texk/web2c/lib/win32main.c
   M /branches/0.40.x/source/texk/web2c/lib/zround.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/font/writet1.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/image/epdf.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua/luatex.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/utils/avlstuff.c
   M /branches/0.40.x/source/texk/web2c/man/Makefile.in
   M /branches/0.40.x/source/texk/web2c/mplibdir/ChangeLog
   M /branches/0.40.x/source/texk/web2c/mplibdir/mptrap.test
   M /branches/0.40.x/source/texk/web2c/texmfmp.h
   M /branches/0.40.x/source/texk/web2c/tiedir/ChangeLog
   M /branches/0.40.x/source/texk/web2c/tiedir/tie-w2c.ch
   M /branches/0.40.x/source/texk/web2c/web2c/ChangeLog
   M /branches/0.40.x/source/texk/web2c/web2c/Makefile.am
   M /branches/0.40.x/source/texk/web2c/web2c/Makefile.in
   M /branches/0.40.x/source/texk/web2c/web2c/aclocal.m4
   M /branches/0.40.x/source/texk/web2c/web2c/coerce.h
   M /branches/0.40.x/source/texk/web2c/web2c/configure
   M /branches/0.40.x/source/texk/web2c/web2c/fixwrites.c
   M /branches/0.40.x/source/texk/web2c/web2c/kps.c
   M /branches/0.40.x/source/texk/web2c/web2c/main.c
   M /branches/0.40.x/source/texk/web2c/web2c/native/kpathsea/c-auto.in
   M /branches/0.40.x/source/texk/web2c/web2c/splitup.c
   M /branches/0.40.x/source/texk/web2c/web2c/web2c-lexer.c
   M /branches/0.40.x/source/texk/web2c/web2c/web2c-lexer.l
   M /branches/0.40.x/source/texk/web2c/web2c/web2c-parser.c
   M /branches/0.40.x/source/texk/web2c/web2c/web2c-parser.y
   M /branches/0.40.x/source/texk/web2c/web2c/web2c.h
   M /branches/0.40.x/source/utils/README
   M /branches/0.40.x/source/utils/configure

new kpathsea and web2c lib from texlive

------------------------------------------------------------------------
r2600 | taco | 2009-06-25 12:37:31 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/manual/luatexref-t.pdf

compiled version of the 0.40.6 manual

------------------------------------------------------------------------
r2601 | taco | 2009-06-25 12:38:31 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   A /tags/beta-0.40.6 (from /branches/0.40.x:2600)

new tag

------------------------------------------------------------------------
r2602 | taco | 2009-06-25 12:47:05 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   A /branches/0.40.x/source/texk/web2c/cwebdir/ChangeLog
   A /branches/0.40.x/source/texk/web2c/lib/lib.h

oops, forgot to add a few files

------------------------------------------------------------------------
r2603 | taco | 2009-06-25 12:48:32 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   A /tags/beta-0.40.6/source/texk/web2c/cwebdir/ChangeLog
   A /tags/beta-0.40.6/source/texk/web2c/lib/lib.h

same missing files as in branches/0.40.x

------------------------------------------------------------------------
r2604 | taco | 2009-06-25 13:00:27 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   D /tags/beta-0.40.6/source/texk/web2c/web2c/native/config.h

I also missed the fact that this file (web2c/web2c/native/config.h) absolutely has to be deleted

------------------------------------------------------------------------
r2605 | taco | 2009-06-25 13:00:47 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   D /branches/0.40.x/source/texk/web2c/web2c/native/config.h

drop extra config.h

------------------------------------------------------------------------
r2606 | oneiros | 2009-06-25 14:12:45 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.h

export missing function

------------------------------------------------------------------------
r2607 | oneiros | 2009-06-25 14:14:10 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pagetree.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfaction.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflink.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflink.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfliteral.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.h

indent

------------------------------------------------------------------------
r2608 | taco | 2009-06-25 14:37:05 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /tags/beta-0.40.6/source/texk/web2c/lib/lib.h

and lib/lib.h needs a patch for mingw32

------------------------------------------------------------------------
r2609 | taco | 2009-06-25 14:38:24 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/source/texk/web2c/lib/lib.h

lib/lib.h fix from tags-0.40.6

------------------------------------------------------------------------
r2610 | taco | 2009-06-25 15:44:44 +0200 (Thu, 25 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/Makefile.in
   M /trunk/source/aclocal.m4
   M /trunk/source/build-aux/config.guess
   M /trunk/source/build-aux/config.sub
   M /trunk/source/configure
   M /trunk/source/libs/README
   M /trunk/source/libs/configure
   M /trunk/source/libs/libpng/ChangeLog
   M /trunk/source/libs/libpng/Makefile.am
   M /trunk/source/libs/libpng/Makefile.in
   M /trunk/source/libs/libpng/aclocal.m4
   M /trunk/source/libs/libpng/configure
   M /trunk/source/libs/libpng/configure.ac
   M /trunk/source/libs/libpng/libpng-1.2.37/png.c
   M /trunk/source/m4/kpse-common.m4
   M /trunk/source/m4/kpse-fontconfig-flags.m4
   M /trunk/source/m4/kpse-freetype2-flags.m4
   M /trunk/source/m4/kpse-setup.m4
   A /trunk/source/m4/kpse-warnings.m4 (from /branches/0.40.x/source/m4/kpse-warnings.m4:2599)
   M /trunk/source/texk/README
   M /trunk/source/texk/configure
   M /trunk/source/texk/kpathsea/ChangeLog
   M /trunk/source/texk/kpathsea/Makefile.am
   M /trunk/source/texk/kpathsea/Makefile.in
   M /trunk/source/texk/kpathsea/ac/web2c.ac
   M /trunk/source/texk/kpathsea/aclocal.m4
   M /trunk/source/texk/kpathsea/c-auto.in
   M /trunk/source/texk/kpathsea/c-proto.h
   D /trunk/source/texk/kpathsea/c-vararg.h
   M /trunk/source/texk/kpathsea/concatn.c
   M /trunk/source/texk/kpathsea/concatn.h
   M /trunk/source/texk/kpathsea/configure
   M /trunk/source/texk/kpathsea/configure.ac
   M /trunk/source/texk/kpathsea/doc/Makefile.in
   M /trunk/source/texk/kpathsea/doc/kpathsea.info
   M /trunk/source/texk/kpathsea/getopt.c
   M /trunk/source/texk/kpathsea/kpathsea.c
   M /trunk/source/texk/kpathsea/man/Makefile.in
   M /trunk/source/texk/kpathsea/mingw32.c
   M /trunk/source/texk/kpathsea/tex-file.c
   M /trunk/source/texk/kpathsea/tex-file.h
   M /trunk/source/texk/kpathsea/tex-glyph.c
   M /trunk/source/texk/kpathsea/texmf.cnf
   M /trunk/source/texk/web2c/ChangeLog
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/aclocal.m4
   M /trunk/source/texk/web2c/c-auto.in
   M /trunk/source/texk/web2c/config.h
   M /trunk/source/texk/web2c/configure
   M /trunk/source/texk/web2c/configure.ac
   M /trunk/source/texk/web2c/cpascal.h
   M /trunk/source/texk/web2c/ctangleboot.c
   M /trunk/source/texk/web2c/ctiedir/ChangeLog
   M /trunk/source/texk/web2c/ctiedir/ctie-k.ch
   M /trunk/source/texk/web2c/cwebboot.c
   A /trunk/source/texk/web2c/cwebdir/ChangeLog (from /branches/0.40.x/source/texk/web2c/cwebdir/ChangeLog:2602)
   M /trunk/source/texk/web2c/cwebdir/comm-w2c.ch
   M /trunk/source/texk/web2c/cwebdir/ctang-w2c.ch
   M /trunk/source/texk/web2c/cwebdir/cweav-w2c.ch
   M /trunk/source/texk/web2c/doc/Makefile.in
   M /trunk/source/texk/web2c/lib/ChangeLog
   M /trunk/source/texk/web2c/lib/Makefile.am
   M /trunk/source/texk/web2c/lib/Makefile.in
   M /trunk/source/texk/web2c/lib/basechsuffix.c
   M /trunk/source/texk/web2c/lib/chartostring.c
   M /trunk/source/texk/web2c/lib/coredump.c
   M /trunk/source/texk/web2c/lib/eofeoln.c
   M /trunk/source/texk/web2c/lib/fprintreal.c
   M /trunk/source/texk/web2c/lib/input2int.c
   M /trunk/source/texk/web2c/lib/inputint.c
   A /trunk/source/texk/web2c/lib/lib.h (from /branches/0.40.x/source/texk/web2c/lib/lib.h:2602)
   M /trunk/source/texk/web2c/lib/main.c
   M /trunk/source/texk/web2c/lib/openclose.c
   M /trunk/source/texk/web2c/lib/printversion.c
   M /trunk/source/texk/web2c/lib/texmfmp.c
   M /trunk/source/texk/web2c/lib/uexit.c
   M /trunk/source/texk/web2c/lib/usage.c
   M /trunk/source/texk/web2c/lib/win32main.c
   M /trunk/source/texk/web2c/lib/zround.c
   M /trunk/source/texk/web2c/luatexdir/font/mapfile.c
   M /trunk/source/texk/web2c/luatexdir/font/writeenc.c
   M /trunk/source/texk/web2c/luatexdir/font/writet1.c
   M /trunk/source/texk/web2c/luatexdir/font/writettf.c
   M /trunk/source/texk/web2c/luatexdir/hyphen.h
   M /trunk/source/texk/web2c/luatexdir/image/epdf.c
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.h
   M /trunk/source/texk/web2c/luatexdir/image/writejbig2.c
   M /trunk/source/texk/web2c/luatexdir/lang/hyphen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pagetree.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfcolorstack.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfcolorstack.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsetmatrix.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsetmatrix.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/utils/avlstuff.c
   M /trunk/source/texk/web2c/luatexdir/utils/avlstuff.h
   M /trunk/source/texk/web2c/man/Makefile.in
   M /trunk/source/texk/web2c/mplibdir/ChangeLog
   M /trunk/source/texk/web2c/mplibdir/mptrap.test
   M /trunk/source/texk/web2c/texmfmp.h
   M /trunk/source/texk/web2c/tiedir/ChangeLog
   M /trunk/source/texk/web2c/tiedir/tie-w2c.ch
   M /trunk/source/texk/web2c/web2c/ChangeLog
   M /trunk/source/texk/web2c/web2c/Makefile.am
   M /trunk/source/texk/web2c/web2c/Makefile.in
   M /trunk/source/texk/web2c/web2c/aclocal.m4
   M /trunk/source/texk/web2c/web2c/coerce.h
   M /trunk/source/texk/web2c/web2c/configure
   M /trunk/source/texk/web2c/web2c/fixwrites.c
   M /trunk/source/texk/web2c/web2c/kps.c
   M /trunk/source/texk/web2c/web2c/main.c
   D /trunk/source/texk/web2c/web2c/native/config.h
   M /trunk/source/texk/web2c/web2c/native/kpathsea/c-auto.in
   M /trunk/source/texk/web2c/web2c/splitup.c
   M /trunk/source/texk/web2c/web2c/web2c-lexer.c
   M /trunk/source/texk/web2c/web2c/web2c-lexer.l
   M /trunk/source/texk/web2c/web2c/web2c-parser.c
   M /trunk/source/texk/web2c/web2c/web2c-parser.y
   M /trunk/source/texk/web2c/web2c/web2c.h
   M /trunk/source/utils/README
   M /trunk/source/utils/configure

merge new files from texlive and add a few function prototypes 
(all voids)

------------------------------------------------------------------------
r2611 | taco | 2009-06-25 15:56:47 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/aclocal.m4
   M /trunk/source/texk/web2c/configure
   M /trunk/source/texk/web2c/doc/Makefile.in
   M /trunk/source/texk/web2c/lib/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   D /trunk/source/texk/web2c/luatexdir/utils/writezip.c
   M /trunk/source/texk/web2c/man/Makefile.in
   M /trunk/source/texk/web2c/web2c/Makefile.in
   M /trunk/source/texk/web2c/web2c/aclocal.m4
   M /trunk/source/texk/web2c/web2c/configure

get rid of writezip.c (empty)

------------------------------------------------------------------------

From root at www.metatex.org  Thu Jun 25 22:27:27 2009
From: root at www.metatex.org (Cron Daemon)
Date: Thu, 25 Jun 2009 22:27:27 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090625202727.7E32C1E8C3FF@www.metatex.org>

------------------------------------------------------------------------
r2612 | taco | 2009-06-25 16:43:30 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.pdf
   M /trunk/manual/luatexref-t.tex
   M /trunk/source/texk/web2c/luatexdir/lua/ltexlib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.web

allow write access of the internal token list parameters

------------------------------------------------------------------------
r2613 | taco | 2009-06-25 16:53:50 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h

move pdf_page_group_val into the structure

------------------------------------------------------------------------
r2614 | taco | 2009-06-25 17:02:43 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.h

put pdf_resname_prefix in the structure (and convert to char *)

------------------------------------------------------------------------
r2615 | taco | 2009-06-25 18:21:12 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.h
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.c

put pdf_mem in the structure

------------------------------------------------------------------------
r2616 | hhenkel | 2009-06-25 20:23:41 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/image.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.h

replace 1-line functions by macros

------------------------------------------------------------------------
r2617 | hhenkel | 2009-06-25 21:12:01 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.defines

remove a few function definitions

------------------------------------------------------------------------
r2618 | hhenkel | 2009-06-25 21:39:13 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.h

new structure scaled_whd; make variable alt_rule local

------------------------------------------------------------------------
r2619 | hhenkel | 2009-06-25 22:02:09 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c

use alt_rule

------------------------------------------------------------------------

From root at www.metatex.org  Fri Jun 26 12:29:29 2009
From: root at www.metatex.org (Cron Daemon)
Date: Fri, 26 Jun 2009 12:29:29 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090626102929.1B46C1E8C3FF@www.metatex.org>

------------------------------------------------------------------------
r2620 | hhenkel | 2009-06-25 22:29:20 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c

bug: img_depth(img) was never dumped/undumped

------------------------------------------------------------------------
r2621 | hhenkel | 2009-06-25 22:45:04 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c

followup to r2620: it's img_xsize(idict) & img_ysize(idict), cf. pdftex

------------------------------------------------------------------------
r2622 | hhenkel | 2009-06-25 23:04:23 +0200 (Thu, 25 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c

make array persistent (removes also warning)

------------------------------------------------------------------------
r2623 | hhenkel | 2009-06-26 00:30:04 +0200 (Fri, 26 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   M /trunk/source/texk/web2c/luatexdir/font/vfpacket.c
   M /trunk/source/texk/web2c/luatexdir/image/image.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.h
   M /trunk/source/texk/web2c/luatexdir/lua/limglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfliteral.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h

clean up scaledpos pos related stuff

------------------------------------------------------------------------
r2624 | taco | 2009-06-26 08:24:13 +0200 (Fri, 26 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/luatoken.c

tokenlist_to_cstring should return a zero-length string for 
an empty token list, not  NULL

------------------------------------------------------------------------
r2625 | taco | 2009-06-26 08:31:54 +0200 (Fri, 26 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/aclocal.m4
   M /trunk/source/texk/web2c/configure
   M /trunk/source/texk/web2c/doc/Makefile.in
   M /trunk/source/texk/web2c/lib/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   A /trunk/source/texk/web2c/luatexdir/tex/errors.c
   A /trunk/source/texk/web2c/luatexdir/tex/errors.h
   M /trunk/source/texk/web2c/man/Makefile.in
   M /trunk/source/texk/web2c/web2c/Makefile.in
   M /trunk/source/texk/web2c/web2c/aclocal.m4
   M /trunk/source/texk/web2c/web2c/configure

prepare the source file set tex/errors.[ch]

------------------------------------------------------------------------
r2626 | taco | 2009-06-26 09:34:19 +0200 (Fri, 26 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.h

use more entries for Name tree leaves (32 vs 6)

------------------------------------------------------------------------
r2627 | oneiros | 2009-06-26 09:49:11 +0200 (Fri, 26 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.h

indent

------------------------------------------------------------------------
r2628 | oneiros | 2009-06-26 09:52:42 +0200 (Fri, 26 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/luatexfont.h
   M /trunk/source/texk/web2c/luatexdir/font/mapfile.c
   M /trunk/source/texk/web2c/luatexdir/font/tounicode.c
   M /trunk/source/texk/web2c/luatexdir/font/writeenc.c
   M /trunk/source/texk/web2c/luatexdir/font/writefont.c
   M /trunk/source/texk/web2c/luatexdir/font/writet3.c
   M /trunk/source/texk/web2c/luatexdir/font/writetype2.c
   M /trunk/source/texk/web2c/luatexdir/tex/directions.c
   M /trunk/source/texk/web2c/luatexdir/tex/errors.c
   M /trunk/source/texk/web2c/luatexdir/tex/math.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.h
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.c

indent

------------------------------------------------------------------------
r2629 | taco | 2009-06-26 10:28:42 +0200 (Fri, 26 Jun 2009) | 9 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.h

This is a small patch that makes wide font output character
arrays use hex encoded strings instead of quoted ascii strings. 

Since the encoded strings are actually glyph indices in the 
font, it is very likely that the first byte is \000, and so 
using four hex bytes instead of a combination '\000X' potentially 
saves some small amount of size but also, and more importantly, 
it makes the actual (uncompressed) pdf output look less confusing.

------------------------------------------------------------------------
r2630 | oneiros | 2009-06-26 10:33:47 +0200 (Fri, 26 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c

rm unused variable

------------------------------------------------------------------------
r2631 | oneiros | 2009-06-26 10:45:06 +0200 (Fri, 26 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.h

export out_img (needed by out_image)

------------------------------------------------------------------------
r2632 | taco | 2009-06-26 11:18:51 +0200 (Fri, 26 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/ltexiolib.c

texio printing can be simplified by using the char * print functions
instead of the str_number based ones 

------------------------------------------------------------------------
r2633 | taco | 2009-06-26 11:20:21 +0200 (Fri, 26 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c

fix a silly mistake in the string printing (using uninitiaziled memory)

------------------------------------------------------------------------

From root at www.metatex.org  Fri Jun 26 16:27:26 2009
From: root at www.metatex.org (Cron Daemon)
Date: Fri, 26 Jun 2009 16:27:26 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090626142726.893FE1E8C3FF@www.metatex.org>

------------------------------------------------------------------------
r2634 | taco | 2009-06-26 14:42:55 +0200 (Fri, 26 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua51/lcoco.c
   M /trunk/source/texk/web2c/luatexdir/lua51/lcoco.h

disable coco on linux powerpc (because it crashes)

------------------------------------------------------------------------
r2635 | taco | 2009-06-26 14:44:32 +0200 (Fri, 26 Jun 2009) | 2 lines
Changed paths:
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua51/lcoco.c
   M /branches/0.40.x/source/texk/web2c/luatexdir/lua51/lcoco.h

the coco disabling patch from trunk

------------------------------------------------------------------------
r2636 | taco | 2009-06-26 15:28:50 +0200 (Fri, 26 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c

note to self: when you add stuff to a structure, you should not
assume that the field(s) will automatically be zero

------------------------------------------------------------------------

From nvitacolonna at gmail.com  Fri Jun 26 20:12:57 2009
From: nvitacolonna at gmail.com (Nicola)
Date: Fri, 26 Jun 2009 20:12:57 +0200
Subject: [Dev-luatex] How to build LuaTeX format files?
Message-ID: <nvitacolonna-CC7F47.20125726062009@news.gmane.org>

Hi,
sorry for the silly question, but... how do you generate the desired 
formats after installing luatex? I've tried with

luatex -ini luatex.ini dump

and I get

This is LuaTeX, Version beta-0.40.6-2009062619 (Web2C 2009) (INITEX)
(/usr/local/texlive/2008/texmf-dist/tex/plain/config/luatex.ini
(/usr/local/texlive/2008/texmf-dist/tex/plain/config/etex.ini
(/usr/local/texlive/2008/texmf-dist/tex/plain/etex/etex.src

! e-TeX  fatal error: this file can be processed only in extended mode;
  did you perhaps forget the asterisk?

luatex -ini lualatex.ini

This is LuaTeX, Version beta-0.40.6-2009062619 (Web2C 2009) (INITEX)
(/usr/local/texlive/2008/texmf-dist/tex/latex/latexconfig/lualatex.ini
(/usr/local/texlive/2008/texmf-config/tex/generic/config/pdftexconfig.tex
! Undefined control sequence.
l.3 \pdfoutput
              =1
? 

With fmtutil I had no more luck... Help?

Regards,
Nicola

PS for Taco: I think that adding the needed commands to the INSTALL file 
would help a lot (also for MetaPost) people like me, who are neither 
beginners nor tex live gurus.


From mpg at elzevir.fr  Fri Jun 26 21:36:49 2009
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Fri, 26 Jun 2009 21:36:49 +0200
Subject: [Dev-luatex] How to build LuaTeX format files?
In-Reply-To: <nvitacolonna-CC7F47.20125726062009@news.gmane.org>
References: <nvitacolonna-CC7F47.20125726062009@news.gmane.org>
Message-ID: <4A452351.4050004@elzevir.fr>

Nicola a ?crit :
> luatex -ini luatex.ini dump
> 
> and I get
> 
> This is LuaTeX, Version beta-0.40.6-2009062619 (Web2C 2009) (INITEX)
> (/usr/local/texlive/2008/texmf-dist/tex/plain/config/luatex.ini
> (/usr/local/texlive/2008/texmf-dist/tex/plain/config/etex.ini
> (/usr/local/texlive/2008/texmf-dist/tex/plain/etex/etex.src
> 
> ! e-TeX  fatal error: this file can be processed only in extended mode;
>   did you perhaps forget the asterisk?
> 
Porbably your luatex.ini is too old. Try to update using tlmgr or grab it from
TL svn.

m

From nvitacolonna at gmail.com  Sat Jun 27 00:02:34 2009
From: nvitacolonna at gmail.com (Nicola)
Date: Sat, 27 Jun 2009 00:02:34 +0200
Subject: [Dev-luatex] How to build LuaTeX format files?
References: <nvitacolonna-CC7F47.20125726062009@news.gmane.org>
	<4A452351.4050004@elzevir.fr>
Message-ID: <nvitacolonna-F01FA1.00023427062009@news.gmane.org>

In article <4A452351.4050004 at elzevir.fr>,
 Manuel P??gouri??-Gonnard <mpg at elzevir.fr> 
 wrote:

> Nicola a ??crit :
> > luatex -ini luatex.ini dump
> > 
> > and I get
> > 
> > This is LuaTeX, Version beta-0.40.6-2009062619 (Web2C 2009) (INITEX)
> > (/usr/local/texlive/2008/texmf-dist/tex/plain/config/luatex.ini
> > (/usr/local/texlive/2008/texmf-dist/tex/plain/config/etex.ini
> > (/usr/local/texlive/2008/texmf-dist/tex/plain/etex/etex.src
> > 
> > ! e-TeX  fatal error: this file can be processed only in extended mode;
> >   did you perhaps forget the asterisk?
> > 
> Porbably your luatex.ini is too old. Try to update using tlmgr or grab it from
> TL svn.

Yeah, sudo tlmgr update --all indeed did the trick.

Thank you,
Nicola


From root at www.metatex.org  Sat Jun 27 12:28:57 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sat, 27 Jun 2009 12:28:57 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090627102858.03CA5788001@www.metatex.org>

------------------------------------------------------------------------
r2637 | hhenkel | 2009-06-27 12:09:48 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/image.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.h

shuffle form and image stuff around

------------------------------------------------------------------------

From root at www.metatex.org  Sat Jun 27 16:27:32 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sat, 27 Jun 2009 16:27:32 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090627142732.CE37E788002@www.metatex.org>

------------------------------------------------------------------------
r2638 | oneiros | 2009-06-27 12:30:07 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luafontloader/fontforge/fontforge/tottfaat.c

add a default label to handle all enum values so the compiler is happy

------------------------------------------------------------------------
r2639 | hhenkel | 2009-06-27 13:23:21 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/vfpacket.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.c

integrate pdfstructure *pstruct into pdf_output_file

------------------------------------------------------------------------
r2640 | hhenkel | 2009-06-27 13:29:44 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfrule.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfrule.h

empty files

------------------------------------------------------------------------
r2641 | hhenkel | 2009-06-27 13:33:32 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfrule.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfrule.h

rule code (but not used yet)

------------------------------------------------------------------------
r2642 | oneiros | 2009-06-27 13:35:54 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfrule.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfrule.h

svn:keywords

------------------------------------------------------------------------
r2643 | oneiros | 2009-06-27 13:37:02 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c

statement with no effect :-)

------------------------------------------------------------------------
r2644 | hhenkel | 2009-06-27 13:53:17 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.h

simplify out_img() interface

------------------------------------------------------------------------
r2645 | oneiros | 2009-06-27 14:01:54 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfrule.c

indent

------------------------------------------------------------------------
r2646 | hhenkel | 2009-06-27 14:11:27 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.h
   M /trunk/source/texk/web2c/luatexdir/lua/limglib.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfimage.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c

remove out_image() macro

------------------------------------------------------------------------
r2647 | hhenkel | 2009-06-27 14:51:13 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.h

simpler form function interfaces

------------------------------------------------------------------------
r2648 | hhenkel | 2009-06-27 15:07:54 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c

use scaled_whd

------------------------------------------------------------------------
r2649 | hhenkel | 2009-06-27 15:15:34 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfglyph.c
   A /trunk/source/texk/web2c/luatexdir/pdf/pdfglyph.h

empty pdfglyph.[ch]

------------------------------------------------------------------------
r2650 | hhenkel | 2009-06-27 15:18:15 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfglyph.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfglyph.h

some pdfglyph stuff

------------------------------------------------------------------------
r2651 | oneiros | 2009-06-27 15:30:07 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfglyph.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfglyph.h

svn:keywords

------------------------------------------------------------------------
r2652 | hhenkel | 2009-06-27 15:43:38 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c

cosmetics

------------------------------------------------------------------------

From root at www.metatex.org  Sat Jun 27 22:27:27 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sat, 27 Jun 2009 22:27:27 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090627202727.7A16B788001@www.metatex.org>

------------------------------------------------------------------------
r2653 | taco | 2009-06-27 16:30:05 +0200 (Sat, 27 Jun 2009) | 4 lines
Changed paths:
   M /trunk/manual/luatexref-t.pdf
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.c
   M /trunk/source/texk/web2c/luatexdir/font/vfovf.c
   M /trunk/source/texk/web2c/luatexdir/font/vfpacket.c
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc
   M /trunk/source/texk/web2c/luatexdir/image/writejbig2.c
   M /trunk/source/texk/web2c/luatexdir/image/writejpg.c
   M /trunk/source/texk/web2c/luatexdir/image/writejpg.h
   M /trunk/source/texk/web2c/luatexdir/image/writepng.c
   M /trunk/source/texk/web2c/luatexdir/lang/hnjalloc.c
   M /trunk/source/texk/web2c/luatexdir/lang/hnjalloc.h
   M /trunk/source/texk/web2c/luatexdir/lang/hyphen.c
   M /trunk/source/texk/web2c/luatexdir/lua/llualib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luanode.c
   M /trunk/source/texk/web2c/luatexdir/lua/luastuff.c
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/ocp/ocplist.c
   M /trunk/source/texk/web2c/luatexdir/ocp/runocp.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflink.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfliteral.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/tex/align.c
   M /trunk/source/texk/web2c/luatexdir/tex/errors.c
   M /trunk/source/texk/web2c/luatexdir/tex/errors.h
   M /trunk/source/texk/web2c/luatexdir/tex/filename.c
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.c
   M /trunk/source/texk/web2c/luatexdir/tex/linebreak.c
   M /trunk/source/texk/web2c/luatexdir/tex/math.c
   M /trunk/source/texk/web2c/luatexdir/tex/mlist.c
   M /trunk/source/texk/web2c/luatexdir/tex/postlinebreak.c
   M /trunk/source/texk/web2c/luatexdir/tex/primitive.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.h
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.h

* move pascal error handling functions to C and switch to using char *'s 
instead of str_numbers where appropriate. 
* also ran indent on most everything

------------------------------------------------------------------------
r2654 | taco | 2009-06-27 16:38:00 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfglyph.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.h
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h

merge pdfrule.[ch] and pdfglyph.[ch] into the code

------------------------------------------------------------------------
r2655 | taco | 2009-06-27 16:53:09 +0200 (Sat, 27 Jun 2009) | 6 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.h

tfm_lookup(): remove the remnants of an old pascal sanity check that 
was no longer actually used. (The remnants of the check caused segfaults 
now that it was converted to C, because strcmp() does not like NULL 
arguments.)


------------------------------------------------------------------------
r2656 | taco | 2009-06-27 16:55:37 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfrule.c

add lround() macro

------------------------------------------------------------------------
r2657 | taco | 2009-06-27 17:28:42 +0200 (Sat, 27 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   A /trunk/source/texk/web2c/luatexdir/tex/texfileio.c
   A /trunk/source/texk/web2c/luatexdir/tex/texfileio.h

a new set of source files for the file input/output operations 
from pascal

------------------------------------------------------------------------
r2658 | taco | 2009-06-27 17:49:37 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h

pdf_last_byte is actually an integer, so the eight_bits typedef is not needed here

------------------------------------------------------------------------
r2659 | taco | 2009-06-27 17:52:14 +0200 (Sat, 27 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.h
   M /trunk/source/texk/web2c/luatexdir/font/luafont.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.h
   M /trunk/source/texk/web2c/luatexdir/font/vfovf.c
   M /trunk/source/texk/web2c/luatexdir/font/vfpacket.c
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.c

remove the type real_eight_bits, and make eight_bits be
a proper 8-bit type again (unsigned char)

------------------------------------------------------------------------

From root at www.metatex.org  Sun Jun 28 12:29:15 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sun, 28 Jun 2009 12:29:15 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090628102915.45885788001@www.metatex.org>

------------------------------------------------------------------------
r2660 | taco | 2009-06-27 23:39:31 +0200 (Sat, 27 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/tex/errors.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.h
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.c
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.h

Move the basic file I/O to C

------------------------------------------------------------------------
r2661 | taco | 2009-06-28 08:35:16 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.c

fix the init_terminal loop in the case where explicit input is needed

------------------------------------------------------------------------
r2662 | taco | 2009-06-28 08:40:19 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.ch

reword the wrong format version message

------------------------------------------------------------------------
r2663 | taco | 2009-06-28 08:46:33 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   A /trunk/source/texk/web2c/luatexdir/tex/arithmetic.c
   A /trunk/source/texk/web2c/luatexdir/tex/arithmetic.h

new set of C and header for 'Arithmetic with scaled dimensions'

------------------------------------------------------------------------
r2664 | taco | 2009-06-28 11:37:54 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c

fix --version output

------------------------------------------------------------------------
r2665 | taco | 2009-06-28 11:42:14 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.h
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/nodes.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/tex/align.c
   M /trunk/source/texk/web2c/luatexdir/tex/arithmetic.c
   M /trunk/source/texk/web2c/luatexdir/tex/arithmetic.h

move the arithmetic functions to C

------------------------------------------------------------------------
r2666 | taco | 2009-06-28 12:12:41 +0200 (Sun, 28 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   A /trunk/source/texk/web2c/luatexdir/tex/memoryword.c
   A /trunk/source/texk/web2c/luatexdir/tex/memoryword.h

memoryword.[ch], containing the relevant bits of section 8
and texmfmem.h

------------------------------------------------------------------------

From root at www.metatex.org  Sun Jun 28 16:27:29 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sun, 28 Jun 2009 16:27:29 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090628142729.5DAA6788001@www.metatex.org>

------------------------------------------------------------------------
r2667 | taco | 2009-06-28 13:16:42 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c

missing comma

------------------------------------------------------------------------
r2668 | taco | 2009-06-28 13:56:41 +0200 (Sun, 28 Jun 2009) | 6 lines
Changed paths:
   M /trunk/manual/luatexref-t.pdf
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltexlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltokenlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luanode.c
   M /trunk/source/texk/web2c/luatexdir/lua/luatoken.c
   M /trunk/source/texk/web2c/luatexdir/nodes.h
   M /trunk/source/texk/web2c/luatexdir/ocp/ocp.c
   M /trunk/source/texk/web2c/luatexdir/ocp/ocplist.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfcolorstack.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfliteral.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfsetmatrix.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/luatexdir/tex/align.c
   M /trunk/source/texk/web2c/luatexdir/tex/filename.c
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.c
   M /trunk/source/texk/web2c/luatexdir/tex/math.c
   M /trunk/source/texk/web2c/luatexdir/tex/primitive.c
   M /trunk/source/texk/web2c/luatexdir/tex/texdeffont.c
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c
   M /trunk/source/texk/web2c/luatexdir/tokens.h

This patch adds tokens.h into ptexlib.h, so that explicit 
loading is no longer needed. To make this workable, it also
redefines the 'info' and 'link' macros to 'token_link' and
'token_info', which is why so many files are affected.


------------------------------------------------------------------------
r2669 | taco | 2009-06-28 14:04:46 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   A /trunk/source/texk/web2c/luatexdir/tex/textoken.h (from /trunk/source/texk/web2c/luatexdir/tokens.h:2668)
   D /trunk/source/texk/web2c/luatexdir/tokens.h

rename tokens.h to tex/textoken.h

------------------------------------------------------------------------
r2670 | taco | 2009-06-28 15:34:34 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.h

convert the token memory allocation code from section 9 to C

------------------------------------------------------------------------
r2671 | taco | 2009-06-28 15:48:46 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.h

create a separate initialization function for token list memory

------------------------------------------------------------------------

From nvitacolonna at gmail.com  Sun Jun 28 21:05:38 2009
From: nvitacolonna at gmail.com (Nicola)
Date: Sun, 28 Jun 2009 21:05:38 +0200
Subject: [Dev-luatex] Minimal example of using mplib in luatex
Message-ID: <nvitacolonna-948E0B.21053728062009@news.gmane.org>

Hi,
can someone show me a minimal example of how to embed a MetaPost figure 
into a (La)TeX document using LuaTeX (along the lines of embedded 
MetaPost code in ConTeXt)? Provided that that's the goal of mplib, of 
course... I'm using the latest LuaTeX as of today (0.40.6 beta). This is 
where I've got so far:

\documentclass{article}
\usepackage[english,italian]{babel}
\begin{document}
\directlua{
local mplib = require('mplib') 
local mp = mplib.new ({ ini_version = false, mem_name = 'plain' }) 
if mp then 
   local l = mp:execute([[ 
      beginfig(1); 
         fill fullcircle scaled 20; 
      endfig; 
   ]]) 
   if l and l.fig then 
      print (l.fig[1]:postscript()) 
   end 
   mp:finish(); 
end
}

\end{document}

This compiles successfully (with pdflualatex), but it does not generate 
any output figure. How do I generate an output figure and/or how do I 
include it into the document?

Besides, is it possible to use mplib with Lua (not LuaTeX)? If so, how?

Thanks,
Nicola


From elie.roux at telecom-bretagne.eu  Sun Jun 28 22:02:06 2009
From: elie.roux at telecom-bretagne.eu (Elie Roux)
Date: Sun, 28 Jun 2009 23:02:06 +0300
Subject: [Dev-luatex] Minimal example of using mplib in luatex
In-Reply-To: <nvitacolonna-948E0B.21053728062009@news.gmane.org>
References: <nvitacolonna-948E0B.21053728062009@news.gmane.org>
Message-ID: <4A47CC3E.9030109@telecom-bretagne.eu>

Nicola a ?crit :
> Hi,
> can someone show me a minimal example of how to embed a MetaPost figure 
> into a (La)TeX document using LuaTeX (along the lines of embedded 
> MetaPost code in ConTeXt)? 

Hi,

you should take a look at luamplib 
(http://tug.ctan.org/tex-archive/macros/luatex/generic/luamplib/).

Thank you,
-- 
Elie

From nvitacolonna at gmail.com  Sun Jun 28 22:08:29 2009
From: nvitacolonna at gmail.com (Nicola)
Date: Sun, 28 Jun 2009 22:08:29 +0200
Subject: [Dev-luatex] Minimal example of using mplib in luatex
References: <nvitacolonna-948E0B.21053728062009@news.gmane.org>
	<4A47CC3E.9030109@telecom-bretagne.eu>
Message-ID: <nvitacolonna-5FCE4B.22082928062009@news.gmane.org>

In article <4A47CC3E.9030109 at telecom-bretagne.eu>,
 Elie Roux 
 <elie.roux at telecom-bretagne.eu> wrote:

> Nicola a ??crit :
> > Hi,
> > can someone show me a minimal example of how to embed a MetaPost figure 
> > into a (La)TeX document using LuaTeX (along the lines of embedded 
> > MetaPost code in ConTeXt)? 
> 
> Hi,
> 
> you should take a look at luamplib 
> (http://tug.ctan.org/tex-archive/macros/luatex/generic/luamplib/).

Thanks, that looks exactly like what I was after.

Regards,
Nicola


From root at www.metatex.org  Sun Jun 28 22:27:26 2009
From: root at www.metatex.org (Cron Daemon)
Date: Sun, 28 Jun 2009 22:27:26 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090628202726.2C7BB788001@www.metatex.org>

------------------------------------------------------------------------
r2672 | hhenkel | 2009-06-28 18:36:25 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c

rename scaled_whd members w, h, d to wd, ht, dp for clarity

------------------------------------------------------------------------
r2673 | hhenkel | 2009-06-28 19:14:15 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.h
   M /trunk/source/texk/web2c/luatexdir/font/texfont.c
   M /trunk/source/texk/web2c/luatexdir/font/texfont.h
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c

replace charinfo_short by scaled_whd

------------------------------------------------------------------------
r2674 | hhenkel | 2009-06-28 19:35:46 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.h
   M /trunk/source/texk/web2c/luatexdir/font/vfpacket.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/utils/synctex.c

rule_wd, rule_ht, rule_dp --> rule.wd, rule.ht, rule.dp

------------------------------------------------------------------------
r2675 | oneiros | 2009-06-28 20:12:59 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/align.c
   M /trunk/source/texk/web2c/luatexdir/tex/arithmetic.c
   M /trunk/source/texk/web2c/luatexdir/tex/arithmetic.h
   M /trunk/source/texk/web2c/luatexdir/tex/errors.c
   M /trunk/source/texk/web2c/luatexdir/tex/errors.h
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.c
   M /trunk/source/texk/web2c/luatexdir/tex/math.c
   M /trunk/source/texk/web2c/luatexdir/tex/memoryword.c
   M /trunk/source/texk/web2c/luatexdir/tex/memoryword.h
   M /trunk/source/texk/web2c/luatexdir/tex/mlist.c
   M /trunk/source/texk/web2c/luatexdir/tex/primitive.c
   M /trunk/source/texk/web2c/luatexdir/tex/printing.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.c
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.h
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.h

indent

------------------------------------------------------------------------
r2676 | oneiros | 2009-06-28 20:17:09 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.h

indent

------------------------------------------------------------------------
r2677 | oneiros | 2009-06-28 20:18:21 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/lua/ltexlib.c
   M /trunk/source/texk/web2c/luatexdir/lua/luanode.c
   M /trunk/source/texk/web2c/luatexdir/lua/luatoken.c

indent

------------------------------------------------------------------------
r2678 | oneiros | 2009-06-28 20:20:15 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c

indent

------------------------------------------------------------------------
r2679 | oneiros | 2009-06-28 20:21:26 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/commands.h
   M /trunk/source/texk/web2c/luatexdir/nodes.h

indent

------------------------------------------------------------------------
r2680 | hhenkel | 2009-06-28 20:38:05 +0200 (Sun, 28 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfglyph.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfglyph.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfpage.h

a try to partition stuff into pdfglyph.[ch] and pdfpage.[ch]

------------------------------------------------------------------------

From root at www.metatex.org  Mon Jun 29 12:28:54 2009
From: root at www.metatex.org (Cron Daemon)
Date: Mon, 29 Jun 2009 12:28:54 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090629102854.19AFA788001@www.metatex.org>

------------------------------------------------------------------------
r2681 | taco | 2009-06-29 08:57:11 +0200 (Mon, 29 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/Makefile.in
   M /trunk/source/texk/web2c/luatexdir/am/libluatex.am
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   A /trunk/source/texk/web2c/luatexdir/tex/nesting.c
   A /trunk/source/texk/web2c/luatexdir/tex/nesting.h

The file nesting.[ch] are for the semantic nest

------------------------------------------------------------------------

From root at www.metatex.org  Mon Jun 29 16:27:30 2009
From: root at www.metatex.org (Cron Daemon)
Date: Mon, 29 Jun 2009 16:27:30 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090629142730.6ED2D788001@www.metatex.org>

------------------------------------------------------------------------
r2682 | taco | 2009-06-29 13:51:48 +0200 (Mon, 29 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/commands.h
   M /trunk/source/texk/web2c/luatexdir/lua/limglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lnodelib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/tex/nesting.c
   M /trunk/source/texk/web2c/luatexdir/tex/nesting.h

Move section 16 to C (semantic nest)

------------------------------------------------------------------------
r2683 | taco | 2009-06-29 14:28:52 +0200 (Mon, 29 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/nesting.h

forgotten declaration

------------------------------------------------------------------------
r2684 | taco | 2009-06-29 15:01:53 +0200 (Mon, 29 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/font/luatexfont.h
   M /trunk/source/texk/web2c/luatexdir/font/tounicode.c
   M /trunk/source/texk/web2c/luatexdir/font/writefont.c
   M /trunk/source/texk/web2c/luatexdir/font/writet3.c
   M /trunk/source/texk/web2c/luatexdir/font/writetype2.c
   M /trunk/source/texk/web2c/luatexdir/image/epdf.c
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/image/writejbig2.c
   M /trunk/source/texk/web2c/luatexdir/image/writepng.c
   M /trunk/source/texk/web2c/luatexdir/lua/limglib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lpdflib.c
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pagetree.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pagetree.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfaction.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfglyph.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflink.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflink.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.h
   M /trunk/source/texk/web2c/luatexdir/utils/avlstuff.c
   M /trunk/source/texk/web2c/luatexdir/utils/avlstuff.h

Merge obj_tab and head_tab into the pdfstructure (needs testing) 

------------------------------------------------------------------------
r2685 | taco | 2009-06-29 15:28:40 +0200 (Mon, 29 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c

apparently the initial obj_tab allocation was off by one

------------------------------------------------------------------------
r2686 | taco | 2009-06-29 16:09:37 +0200 (Mon, 29 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/texfileio.c

lua_a_open_in needs its own private variable

------------------------------------------------------------------------
r2687 | taco | 2009-06-29 16:10:20 +0200 (Mon, 29 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c

reinstate the update_terminal() commands after printing of the 
closing brace of a page that has been shipped out

------------------------------------------------------------------------

From root at www.metatex.org  Mon Jun 29 22:27:30 2009
From: root at www.metatex.org (Cron Daemon)
Date: Mon, 29 Jun 2009 22:27:30 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090629202731.02CCB788002@www.metatex.org>

------------------------------------------------------------------------
r2688 | taco | 2009-06-29 16:20:01 +0200 (Mon, 29 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c

simplify initialization of image and image_dict structures

------------------------------------------------------------------------
r2689 | taco | 2009-06-29 16:52:32 +0200 (Mon, 29 Jun 2009) | 3 lines
Changed paths:
   M /trunk/manual/luatexref-t.pdf
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h

put the array of object avl trees in the pdfstructure,
and clean up the comparison function

------------------------------------------------------------------------
r2690 | taco | 2009-06-29 16:57:58 +0200 (Mon, 29 Jun 2009) | 2 lines
Changed paths:
   M /trunk/manual

add two ignores

------------------------------------------------------------------------
r2691 | taco | 2009-06-29 17:04:37 +0200 (Mon, 29 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/pdftoepdf.cc

get rid of typecase warnings from the C++ compiler

------------------------------------------------------------------------
r2692 | taco | 2009-06-29 17:05:31 +0200 (Mon, 29 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c

make the global ff into a normal local (in three functions)

------------------------------------------------------------------------
r2693 | taco | 2009-06-29 17:40:43 +0200 (Mon, 29 Jun 2009) | 3 lines
Changed paths:
   M /trunk/manual/luatexref-t.pdf
   M /trunk/source/texk/web2c/luatexdir/dvi/dvigen.c
   M /trunk/source/texk/web2c/luatexdir/font/tfmofm.c
   M /trunk/source/texk/web2c/luatexdir/font/vfovf.c
   M /trunk/source/texk/web2c/luatexdir/font/vfpacket.c
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/image/writeimg.c
   M /trunk/source/texk/web2c/luatexdir/lua/limglib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pagetree.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfaction.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfannot.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfdest.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdffont.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflink.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflink.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdflistout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfobj.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfoutline.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfthread.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfxform.h
   M /trunk/source/texk/web2c/luatexdir/tex/arithmetic.c
   M /trunk/source/texk/web2c/luatexdir/tex/arithmetic.h
   M /trunk/source/texk/web2c/luatexdir/tex/linebreak.c
   M /trunk/source/texk/web2c/luatexdir/tex/math.c
   M /trunk/source/texk/web2c/luatexdir/tex/nesting.h
   M /trunk/source/texk/web2c/luatexdir/tex/texnodes.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c

move pdf_error, pdf_warning, and check_pdfoutput to pdfgen.c,
and change the arguments to char *'s

------------------------------------------------------------------------

From root at www.metatex.org  Tue Jun 30 12:29:18 2009
From: root at www.metatex.org (Cron Daemon)
Date: Tue, 30 Jun 2009 12:29:18 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090630102918.7DD16788001@www.metatex.org>

------------------------------------------------------------------------
r2694 | taco | 2009-06-30 09:01:33 +0200 (Tue, 30 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.ch
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/tex/errors.c
   M /trunk/source/texk/web2c/luatexdir/tex/errors.h
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.c
   M /trunk/source/texk/web2c/luatexdir/tex/inputstack.h
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.h

split up section 23 over inputstack.c and errors.c

------------------------------------------------------------------------
r2695 | taco | 2009-06-30 11:45:34 +0200 (Tue, 30 Jun 2009) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.pdf
   M /trunk/source/texk/web2c/luatexdir/font/writet1.c
   M /trunk/source/texk/web2c/luatexdir/image/epdf.c
   M /trunk/source/texk/web2c/luatexdir/image/epdf.h
   M /trunk/source/texk/web2c/luatexdir/utils/avlstuff.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c

kpathsea/c-proto.h is empty nowadays, no reason to include it

------------------------------------------------------------------------

From root at www.metatex.org  Tue Jun 30 16:27:33 2009
From: root at www.metatex.org (Cron Daemon)
Date: Tue, 30 Jun 2009 16:27:33 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090630142733.80144788001@www.metatex.org>

------------------------------------------------------------------------
r2696 | taco | 2009-06-30 12:25:23 +0200 (Tue, 30 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/ptexmac.h
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.h

last_ptr_index can be a localized variable

------------------------------------------------------------------------
r2697 | taco | 2009-06-30 12:25:57 +0200 (Tue, 30 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c

remove a few unneeded external dependancies

------------------------------------------------------------------------
r2698 | taco | 2009-06-30 14:48:25 +0200 (Tue, 30 Jun 2009) | 6 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.c
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.h
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.h

move u2s() and qbuffer_to_unichar() from textoken.c to stringpool.c, 
rename them to uni2str() and str2uni(), sanitize the arguments,
and simplify pool_to_unichar(). 
Also adds string_to_toks() to textoken.c, which does not need the 
string pool to go from char * to tokenlist

------------------------------------------------------------------------
r2699 | taco | 2009-06-30 14:49:33 +0200 (Tue, 30 Jun 2009) | 3 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h

remove the unused functions escapename() and escapestring(),
and change getcreationdate to not the string pool.

------------------------------------------------------------------------
r2700 | taco | 2009-06-30 15:40:50 +0200 (Tue, 30 Jun 2009) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.pdf
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.h

put the job_id_string in the pdfstructure

------------------------------------------------------------------------
r2701 | taco | 2009-06-30 16:00:17 +0200 (Tue, 30 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/lua/lstatslib.c
   M /trunk/source/texk/web2c/luatexdir/luatex.defines
   M /trunk/source/texk/web2c/luatexdir/luatex.web
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.c
   M /trunk/source/texk/web2c/luatexdir/utils/utils.h

convert pdftex_banner to a C string

------------------------------------------------------------------------

From root at www.metatex.org  Tue Jun 30 22:27:33 2009
From: root at www.metatex.org (Cron Daemon)
Date: Tue, 30 Jun 2009 22:27:33 +0200 (CEST)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20090630202733.A5F26788001@www.metatex.org>

------------------------------------------------------------------------
r2702 | oneiros | 2009-06-30 16:17:52 +0200 (Tue, 30 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/luatex.web

rm unused variable

------------------------------------------------------------------------
r2703 | taco | 2009-06-30 16:37:13 +0200 (Tue, 30 Jun 2009) | 4 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/image/writepng.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h

put a compress_level object in the pdf backend structure
(because this is never reset, \pdfcompresslevel is now effectively
fixed)

------------------------------------------------------------------------
r2704 | taco | 2009-06-30 16:52:13 +0200 (Tue, 30 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.h
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfshipout.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftables.c
   M /trunk/source/texk/web2c/luatexdir/pdf/pdftypes.h

Give the pdf output structure a file_name

------------------------------------------------------------------------
r2705 | taco | 2009-06-30 17:00:42 +0200 (Tue, 30 Jun 2009) | 2 lines
Changed paths:
   M /trunk/manual/luatexref-t.pdf
   M /trunk/source/texk/web2c/luatexdir/tex/stringpool.h

utf8 encoding length calculation was off by one item

------------------------------------------------------------------------
r2706 | taco | 2009-06-30 17:25:00 +0200 (Tue, 30 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/pdf/pdfgen.c

remove some of the complexity in write_zip

------------------------------------------------------------------------
r2707 | taco | 2009-06-30 19:30:26 +0200 (Tue, 30 Jun 2009) | 2 lines
Changed paths:
   M /trunk/source/texk/web2c/luatexdir/ptexlib.h
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.c
   M /trunk/source/texk/web2c/luatexdir/tex/textoken.h

move some stuff from ptexlib.h to textoken.h

------------------------------------------------------------------------

