From root at www.metatex.org  Mon Dec  1 12:29:54 2008
From: root at www.metatex.org (Cron Daemon)
Date: Mon,  1 Dec 2008 12:29:54 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081201112954.BF9871E8C3F6@www.metatex.org>

------------------------------------------------------------------------
r1595 | taco | 2008-12-01 10:27:14 +0100 (Mon, 01 Dec 2008) | 2 lines
Changed paths:
   A /branches

start branches

------------------------------------------------------------------------
r1596 | taco | 2008-12-01 10:28:04 +0100 (Mon, 01 Dec 2008) | 2 lines
Changed paths:
   A /branches/0.30 (from /trunk:1595)

create a branch for the 0.30.XX releases

------------------------------------------------------------------------
r1597 | taco | 2008-12-01 10:32:07 +0100 (Mon, 01 Dec 2008) | 2 lines
Changed paths:
   A /branches/math (from /trunk:1596)

create a branch for toying with the new ff+math 

------------------------------------------------------------------------

From preining at logic.at  Mon Dec  1 18:12:08 2008
From: preining at logic.at (Norbert Preining)
Date: Mon, 1 Dec 2008 18:12:08 +0100
Subject: [Dev-luatex] [dev-context] new context and luatex packages for
	Debian
In-Reply-To: <E1L6q7i-0001T7-Vh@approx.mit.edu>
References: <20081128115320.GB7700@gandalf.dynalias.org>
	<E1L6q7i-0001T7-Vh@approx.mit.edu>
Message-ID: <20081201171208.GM28712@gamma.logic.tuwien.ac.at>

Hi Sanjoy,

thanks for testing.

On So, 30 Nov 2008, Sanjoy Mahajan wrote:
> The new context passed my usual tests: compiling a couple of 100+-page
> books with math and physics equations and figures.  It didn't pass a new

That is *really* great. In fact, as stated, if you don't mind me having
it on my computer (but I guarantee that I will not use it for anything
but testing context) I would be happy to have a big fat test document.
You already sent me one, that is one of those I test before uploading.

> ========== start test.tex ===============
> \usetypescript[palatino] [ec] 
> \definetypeface [palatino] [mm] [math] [euler] [euler] [rscale=1.03] 
> \setupbodyfont[palatino,11pt] 
> 
> \starttext
> \startformula
> c^2 = a^2 + b^2.
> \stopformula
> \stoptext
> ========== end test.tex ===============
> 
> This test also did not work with my previous context installation (the

Strange. I am running it here on my laptop and it comes out fine, Debian
packages:
context        2008.10.31-1 
lmodern        1.010x-5

> worked with an older set of context minimals a month or so ago.  So I
> suspect a problem in my font map files (I'm using lmodern 1.010x-5).

Pity that -recorder cannot be passed to texexec so that it records *all*
loaded files. This is the best way to find interfering files.

Maybe texexec has something similar?

> I couldn't find luatex in Debian/experimental.  I tried two methods to

It hasn't been compiled for x86 till now, I uploaded amd64 binaries.

Thanks a lot for all your tests, much appreciated.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SOLENT (adj.)
Descriptive of the state of serene self-knowledge reached through
drink.
			--- Douglas Adams, The Meaning of Liff

From taco at elvenkind.com  Mon Dec  1 18:39:32 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 01 Dec 2008 18:39:32 +0100
Subject: [Dev-luatex] [dev-context] new context and luatex packages for
	Debian
In-Reply-To: <20081201171208.GM28712@gamma.logic.tuwien.ac.at>
References: <20081128115320.GB7700@gandalf.dynalias.org>	<E1L6q7i-0001T7-Vh@approx.mit.edu>
	<20081201171208.GM28712@gamma.logic.tuwien.ac.at>
Message-ID: <49342154.2020202@elvenkind.com>

Norbert Preining wrote:
> Pity that -recorder cannot be passed to texexec so that it records *all*
> loaded files. This is the best way to find interfering files.
> 
> Maybe texexec has something similar?

texexec --passon='-recorder' (but it doesn't list ruby files)

Best wishes,
Taco

From sanjoy at MIT.EDU  Mon Dec  1 18:46:30 2008
From: sanjoy at MIT.EDU (Sanjoy Mahajan)
Date: Mon, 01 Dec 2008 12:46:30 -0500
Subject: [Dev-luatex] [dev-context] new context and luatex packages for
	Debian
In-Reply-To: Your message of "Mon, 01 Dec 2008 18:12:08 +0100."
	<20081201171208.GM28712@gamma.logic.tuwien.ac.at>
	(sfid-20081201_121550_645635_F73AA3F7) 
Message-ID: <E1L7Cqs-0002X7-9G@approx.mit.edu>

> In fact, as stated, if you don't mind me having it on my computer (but
> I guarantee that I will not use it for anything but testing context) I
> would be happy to have a big fat test document.  You already sent me
> one, that is one of those I test before uploading.

One of my two tests is a slightly newer version of the mathematics
textbook that I sent you.  I can send you the newer math textbook if
that's useful.  Now that the Euler problem is fixed (see below), I'll
probably use Euler for the equations, so you'll have a test suite using
Palatino and Euler.

The other test is the physics textbook ("Art of Approximation").  The
physics textbook uses two Python scripts that I wrote plus mercurial.
If you don't mind testing Python as a side effect of testing the Debian
packages, I can send you a version of the physics textbook that still
uses Python but doesn't depend on mercurial (or I can send you the
vanilla version with all those deps).

> Strange. I am running it here on my laptop and it comes out fine, Debian
> packages:
> context        2008.10.31-1 
> lmodern        1.010x-5
> 
> > worked with an older set of context minimals a month or so ago.  So I
> > suspect a problem in my font map files (I'm using lmodern 1.010x-5).
> 
> Pity that -recorder cannot be passed to texexec so that it records *all*
> loaded files. This is the best way to find interfering files.

that suggestion solved the problem.  You can pass -recorder as follows:

  texexec --passon=-recorder test.tex

pdftex then gets the -recorder option, and test.fls will have the magic info.

I did so and looked for any loaded files that begin with /home/sanjoy.
And found the culprit:

  INPUT /home/sanjoy/texmf/tex/context/math-eul.tex

So I had an interfering version of math-eul.tex.  When I deleted it, the
test file compiled fine.  Sorry for the noise.

-Sanjoy

`Until lions have their historians, tales of the hunt shall always
 glorify the hunters.'  --African Proverb

From preining at logic.at  Mon Dec  1 19:17:55 2008
From: preining at logic.at (Norbert Preining)
Date: Mon, 1 Dec 2008 19:17:55 +0100
Subject: [Dev-luatex] [dev-context] new context and luatex packages for
	Debian
In-Reply-To: <E1L7Cqs-0002X7-9G@approx.mit.edu>
References: <20081201171208.GM28712@gamma.logic.tuwien.ac.at>
	<E1L7Cqs-0002X7-9G@approx.mit.edu>
Message-ID: <20081201181755.GB10855@gamma.logic.tuwien.ac.at>

Hi Sanjoy,

On Mo, 01 Dez 2008, Sanjoy Mahajan wrote:
> One of my two tests is a slightly newer version of the mathematics
> textbook that I sent you.  I can send you the newer math textbook if
> that's useful.  Now that the Euler problem is fixed (see below), I'll
> probably use Euler for the equations, so you'll have a test suite using
> Palatino and Euler.

Great!!!

> The other test is the physics textbook ("Art of Approximation").  The
> physics textbook uses two Python scripts that I wrote plus mercurial.
> If you don't mind testing Python as a side effect of testing the Debian
> packages, I can send you a version of the physics textbook that still
> uses Python but doesn't depend on mercurial (or I can send you the
> vanilla version with all those deps).

I have mercurial 1.0.1-5.1 installed, but I guess you were talking about
access to the mercurial repository you are using.

In any case I am happy with *any* test docuemnt, and I don't mind
testing python on the way ;-)

>   texexec --passon=-recorder test.tex

Yup, I have also seen Taco's email. That is good, the most important
option in life ;-)

> So I had an interfering version of math-eul.tex.  When I deleted it, the
> test file compiled fine.  Sorry for the noise.

Good to hear it resolved, and what is coming from you is never noise,
you *do* real testing, while others complain without testing and trying
to fix it themselves. Please continue with that noise!

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
FORSINAIN (n. archaic)
The right of the lord of the manor to molest dwarves on their
birthdays.
			--- Douglas Adams, The Meaning of Liff

From preining at logic.at  Mon Dec  1 19:23:42 2008
From: preining at logic.at (Norbert Preining)
Date: Mon, 1 Dec 2008 19:23:42 +0100
Subject: [Dev-luatex] [dev-context] new context and luatex packages for
	Debian
In-Reply-To: <49342154.2020202@elvenkind.com>
References: <20081128115320.GB7700@gandalf.dynalias.org>
	<E1L6q7i-0001T7-Vh@approx.mit.edu>
	<20081201171208.GM28712@gamma.logic.tuwien.ac.at>
	<49342154.2020202@elvenkind.com>
Message-ID: <20081201182342.GE10855@gamma.logic.tuwien.ac.at>

On Mo, 01 Dez 2008, Taco Hoekwater wrote:
> texexec --passon='-recorder' (but it doesn't list ruby files)

Great to hear, thanks.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
What the hell, he thought, you're only young once, and
threw himself out of the window. That would at least keep
the element of surprise on his side.
                 --- Ford outwitting a Vogon with a rocket launcher by going
                 --- into another certain death situation.
                 --- Douglas Adams, The Hitchhikers Guide to the Galaxy

From root at www.metatex.org  Mon Dec  1 22:26:17 2008
From: root at www.metatex.org (Cron Daemon)
Date: Mon,  1 Dec 2008 22:26:17 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081201212617.A7A3B1E8C3F6@www.metatex.org>

------------------------------------------------------------------------
r1598 | taco | 2008-12-01 18:00:01 +0100 (Mon, 01 Dec 2008) | 2 lines
Changed paths:
   D /branches/math/src/libs/luafontforge/fontforge

drop the old fontforge

------------------------------------------------------------------------
r1599 | taco | 2008-12-01 18:04:43 +0100 (Mon, 01 Dec 2008) | 2 lines
Changed paths:
   A /branches/math/src/libs/luafontforge/fontforge
   A /branches/math/src/libs/luafontforge/fontforge/AUTHORS
   A /branches/math/src/libs/luafontforge/fontforge/INSTALL
   A /branches/math/src/libs/luafontforge/fontforge/LICENSE
   A /branches/math/src/libs/luafontforge/fontforge/Makefile.dynamic.in
   A /branches/math/src/libs/luafontforge/fontforge/Makefile.in
   A /branches/math/src/libs/luafontforge/fontforge/Makefile.static.in
   A /branches/math/src/libs/luafontforge/fontforge/Packaging
   A /branches/math/src/libs/luafontforge/fontforge/Packaging/fontforge.desktop
   A /branches/math/src/libs/luafontforge/fontforge/Packaging/fontforge.png
   A /branches/math/src/libs/luafontforge/fontforge/Packaging/fontforge.xml
   A /branches/math/src/libs/luafontforge/fontforge/README-MS.html
   A /branches/math/src/libs/luafontforge/fontforge/README-Mac.html
   A /branches/math/src/libs/luafontforge/fontforge/README-Unix.html
   A /branches/math/src/libs/luafontforge/fontforge/README-unix
   A /branches/math/src/libs/luafontforge/fontforge/Unicode
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/.libs
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/ArabicForms.c
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/Makefile.dynamic.in
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/Makefile.in
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/Makefile.static.in
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/alphabet.c
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/backtrns.c
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/char.c
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/cjk.c
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/combiners.h
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/descrip.mms
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/dump.c
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/gwwiconv.c
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/gwwintl.c
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/makebuildtables.c
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/makeutype.c
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/memory.c
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/ucharmap.c
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/unialt.c
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/usprintf.c
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/ustring.c
   A /branches/math/src/libs/luafontforge/fontforge/Unicode/utype.c
   A /branches/math/src/libs/luafontforge/fontforge/VERSION
   A /branches/math/src/libs/luafontforge/fontforge/aclocal.m4
   A /branches/math/src/libs/luafontforge/fontforge/config.guess
   A /branches/math/src/libs/luafontforge/fontforge/config.sub
   A /branches/math/src/libs/luafontforge/fontforge/configure
   A /branches/math/src/libs/luafontforge/fontforge/configure-options
   A /branches/math/src/libs/luafontforge/fontforge/configure.dynamic
   A /branches/math/src/libs/luafontforge/fontforge/configure.dynamic.in
   A /branches/math/src/libs/luafontforge/fontforge/configure.in
   A /branches/math/src/libs/luafontforge/fontforge/configure.static
   A /branches/math/src/libs/luafontforge/fontforge/configure.static.in
   A /branches/math/src/libs/luafontforge/fontforge/descrip.mms
   A /branches/math/src/libs/luafontforge/fontforge/fontforge
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/FontForge-MenuShortCuts.pot.orig
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/FontForge-MenuShortCuts.pot.rej
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/MacFontForgeApp.zip
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/Makefile.dynamic.in
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/Makefile.in
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/Makefile.static.in
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/PfEd.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/acorn2sfd.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/alignment.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/anchorsaway.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/asmfpst.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/autohint.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/autosave.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/autotrace.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/autowidth.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/autowidth.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/autowidthdlg.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/basedlg.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/baseviews.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/bdfinfo.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/bezctx_ff.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/bezctx_ff.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/bitmapchar.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/bitmapcontrol.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/bitmapcontrol.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/bitmapdlg.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/bitmapview.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/bvedit.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/charinfo.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/charview.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/clipnoui.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/clipui.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/combinations.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/configure-pfaedit.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/contextchain.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/crctab.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cursors.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvaddpoints.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvdebug.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvdgloss.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvexport.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvexportdlg.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvfreehand.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvgetinfo.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvgridfit.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvhand.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvhints.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvimages.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvimportdlg.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvknife.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvpalettes.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvpointer.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvruler.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvshapes.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvstroke.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvtranstools.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/cvundoes.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/descrip.mms
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/diffstubs.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/displayfonts.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/dumpbdf.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/dumppfa.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/edgelist.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/edgelist2.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/effects.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/effectsui.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/encoding.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/encoding.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/encodingui.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/exelibstamp.pre
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/featurefile.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fffreetype.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/ffpython.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fontforge.1
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fontforgevw.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fontimage.1
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fontimage.pe
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fontinfo.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fontlint.1
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fontlint.pe
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fontview.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fontviewbase.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/freetype.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/freetypeui.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fvcomposit.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fvfonts.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fvfontsdlg.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fvimportbdf.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fvmetrics.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fvmetrics.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/fvmetricsdlg.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/glyphcomp.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/gotodlg.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/groups.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/groups.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/groupsdlg.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/histograms.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/http.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/ikarus.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/images.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/import.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/kernclass.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/langfreq.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/layer2layer.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/lff.opt
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/libffstamp.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/libstamp.pre
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/lookups.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/lookups.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/lookupui.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/macbinary.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/macenc.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/macencui.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/math.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/mathconstants.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/metricsview.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/mm.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/mm.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/mmdlg.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/namelist.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/nonlineartrans.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/nonlineartrans.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/nonlineartransui.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/noprefs.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/nouiutil.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/nowakowskittfinstr.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/nowakowskittfinstr.c.orig
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/ofl.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/ofl.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/oflib.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/openfontdlg.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/othersubrs.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/palmfonts.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/parsepdf.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/parsepfa.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/parsettf.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/parsettfatt.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/parsettfbmf.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/parsettfvar.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pfaedit.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pfaeditui.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/.xvpics
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/.xvpics/colorwheel.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/colorwheel.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editclear.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editclearback.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopy.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopyfg2bg.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopylayer2layer.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopylbearing.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopylookupdata.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopyrbearing.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopyref.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopyvwidth.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopywidth.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcut.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editfind.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editjoin.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editmerge.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editpaste.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editpasteafter.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editpasteinto.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editredo.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editrmundoes.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editrplref.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editsameas.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editselect.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editundo.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/editunlink.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementaddextrema.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementalign.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementanticlock.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementautotrace.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementbdfinfo.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementbitmapsavail.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementbuildaccent.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementbuildcomposit.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementclockwise.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementcomparefonts.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementcomparelayers.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementcorrectdir.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementexpandstroke.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementfindprobs.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementfontinfo.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementgetinfo.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementglyphinfo.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementhbaselines.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementinterpolatefonts.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementmathinfo.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementmergefonts.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementorder.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementotherinfo.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementregenbitmaps.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementremovebitmaps.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementrenameglyph.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementround.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementshowdep.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementsimplify.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementstyles.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementtilepath.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementtilepattern.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementtransform.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementvalidate.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementvbaselines.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/fileclose.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/fileexecute.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/fileexport.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/filegenerate.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/filegeneratefamily.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/fileimport.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/filemergefeature.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/filenew.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/fileopen.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/fileprefs.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/fileprint.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/filequit.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/filerecent.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/filerevert.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/filerevertbackup.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/filerevertglyph.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/filesave.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/filesaveall.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/filesaveas.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/helpabout.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/helphelp.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/helpindex.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintsadddstem.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintsaddhstem.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintsaddvstem.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintsautohint.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintscleardstems.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintsclearhstems.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintsclearvstems.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintsdontautohint.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintsreviewhints.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/menuempty.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/metricscenter.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/metricssetlbearing.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/metricssetrbearing.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/metricssetvwidth.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/metricssetwidth.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/overlapexclude.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/overlapfindinter.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/overlapintersection.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/overlaprm.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointsG2curve.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointsaddanchor.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointscorner.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointscurve.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointshvcurve.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointsmakearc.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointsmakeline.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointsnamecontour.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointsspironext.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointsspiroprev.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointstangent.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/python.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/styleschangeweight.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/styleschangexheight.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/stylesextendcondense.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/stylesinline.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/stylesitalic.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/stylesoblique.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/stylesoutline.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/stylesshadow.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/stylessmallcaps.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/stylessubsuper.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/styleswireframe.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/transformfliphor.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/transformflipvert.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/transformrotate180.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/transformrotateccw.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/transformrotatecw.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/transformskew.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewbiggersize.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewfindinfont.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewfit.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewformer.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewgoto.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewinsertafter.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewinsertbefore.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewnext.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewnextdef.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewpalettes.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewprev.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewprevdef.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewreplace.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewsmallersize.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewzoomin.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewzoomout.png
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/plugins.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/plugins.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/potmstitle.patch
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pottitle.patch
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/prefs.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/print.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/print.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/problems.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/psfont.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/psread.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pua.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/python.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/pythonui.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/savefont.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/savefont.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/savefontdlg.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/scriptfuncs.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/scripting.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/scripting.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/scriptingdlg.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/scstyles.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/scstyles.c.orig
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/scstylesui.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/sd.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/search.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/search.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/searchview.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/sfd.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/sfd1.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/sfd1.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/sfddiff.1
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/sfddiff.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/sfddiff.pe
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/sflayout.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/sflayoutP.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/sftextfield.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/sftextfieldP.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/showatt.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/simplifydlg.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/spiro.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/splashimage.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/splinechar.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/splinefill.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/splinefont.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/splinefont.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/splineorder2.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/splineoverlap.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/splinerefigure.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/splinesave.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/splinesaveafm.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/splinestroke.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/splineutil.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/splineutil2.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/stamp.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/stamper.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/start.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/startnoui.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/startui.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/statemachine.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/stemdb.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/stemdb.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/svg.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/threaddummy.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/tilepath.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/tottf.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/tottfaat.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/tottfgpos.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/tottfvar.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/transform.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/ttf.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/ttfinstrs.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/ttfinstrs.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/ttfinstrsui.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/ttfspecial.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/ufo.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/uiinterface.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/uiutil.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/unicoderange.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/unicoderange.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/utf8.pot
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/utils.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/views.h
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/windowmenu.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/winfonts.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/xlib.opt
   A /branches/math/src/libs/luafontforge/fontforge/fontforge/zapfnomen.c
   A /branches/math/src/libs/luafontforge/fontforge/fontforge.pc.in
   A /branches/math/src/libs/luafontforge/fontforge/gdraw
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/.libs
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/Makefile.dynamic.in
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/Makefile.in
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/Makefile.static.in
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/choosericons.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/colorP.h
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/ctlvalues.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/descrip.mms
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/drawboxborder.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/fontP.h
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gaskdlg.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gbuttons.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gchardlg.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gcolor.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gcontainer.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gdraw.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gdrawP.h
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gdrawable.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gdrawbuildchars.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gdrawerror.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gdrawgimage.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gdrawtxt.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gdrawtxtinit.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gdrawwacomdriver.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/genkeysym.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gfilechooser.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gfiledlg.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/ggadgetP.h
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/ggadgets.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/ggroupbox.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/ghvbox.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gimagebmpP.h
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gimageclut.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gimagecvt.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gimagepsdraw.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gimagewriteeps.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gimagexdraw.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gkeysym.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/glist.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gmatrixedit.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gmenu.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gprogress.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gpsdraw.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gpsdrawP.h
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gpstxtinit.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gradio.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gresource.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gresourceP.h
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gresourceimage.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/growcol.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gsavefiledlg.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gscrollbar.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gspacer.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gtabset.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gtextfield.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gtextinfo.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gwidgetP.h
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gwidgets.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gxcdraw.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gxcdrawP.h
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gxdraw.c
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/gxdrawP.h
   A /branches/math/src/libs/luafontforge/fontforge/gdraw/xkeysyms_unicode.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils
   A /branches/math/src/libs/luafontforge/fontforge/gutils/.libs
   A /branches/math/src/libs/luafontforge/fontforge/gutils/Makefile.dynamic.in
   A /branches/math/src/libs/luafontforge/fontforge/gutils/Makefile.in
   A /branches/math/src/libs/luafontforge/fontforge/gutils/Makefile.static.in
   A /branches/math/src/libs/luafontforge/fontforge/gutils/descrip.mms
   A /branches/math/src/libs/luafontforge/fontforge/gutils/divisors.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/dynamic.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/fsys.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gcol.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimage.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimagebmpP.h
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimageread.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimagereadbmp.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimagereadgif.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimagereadjpeg.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimagereadpng.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimagereadras.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimagereadrgb.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimagereadtiff.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimagereadxbm.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimagereadxpm.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimagewritebmp.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimagewritegimage.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimagewritejpeg.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimagewritepng.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimagewritexbm.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gimagewritexpm.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gio.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gioP.h
   A /branches/math/src/libs/luafontforge/fontforge/gutils/giofile.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gioftp.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gioftpP.h
   A /branches/math/src/libs/luafontforge/fontforge/gutils/giofuncP.h
   A /branches/math/src/libs/luafontforge/fontforge/gutils/giohosts.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/giomime.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/giothread.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/giotrans.c
   A /branches/math/src/libs/luafontforge/fontforge/gutils/gwwintl.c
   A /branches/math/src/libs/luafontforge/fontforge/inc
   A /branches/math/src/libs/luafontforge/fontforge/inc/basics.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/chardata.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/charset.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/config.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/config.h.in
   A /branches/math/src/libs/luafontforge/fontforge/inc/config.h_vms
   A /branches/math/src/libs/luafontforge/fontforge/inc/descrip.mms
   A /branches/math/src/libs/luafontforge/fontforge/inc/dynamic.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/fileutil.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/gdraw.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/gfile.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/ggadget.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/gicons.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/gimage.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/gio.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/gkeysym.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/gprogress.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/gresource.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/gwidget.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/gwwiconv.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/intl.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/ustring.h
   A /branches/math/src/libs/luafontforge/fontforge/inc/utype.h
   A /branches/math/src/libs/luafontforge/fontforge/install-sh
   A /branches/math/src/libs/luafontforge/fontforge/libs
   A /branches/math/src/libs/luafontforge/fontforge/ltmain.sh
   A /branches/math/src/libs/luafontforge/fontforge/plugins
   A /branches/math/src/libs/luafontforge/fontforge/plugins/ANALYZE_MAP.COM
   A /branches/math/src/libs/luafontforge/fontforge/plugins/Makefile.in
   A /branches/math/src/libs/luafontforge/fontforge/plugins/descrip.mms
   A /branches/math/src/libs/luafontforge/fontforge/plugins/gb12345.c
   A /branches/math/src/libs/luafontforge/fontforge/po
   A /branches/math/src/libs/luafontforge/fontforge/po/Makefile.in
   A /branches/math/src/libs/luafontforge/fontforge/po/de.po
   A /branches/math/src/libs/luafontforge/fontforge/po/el.po
   A /branches/math/src/libs/luafontforge/fontforge/po/en_GB.po
   A /branches/math/src/libs/luafontforge/fontforge/po/es.po
   A /branches/math/src/libs/luafontforge/fontforge/po/fr.po
   A /branches/math/src/libs/luafontforge/fontforge/po/it.po
   A /branches/math/src/libs/luafontforge/fontforge/po/ja.po
   A /branches/math/src/libs/luafontforge/fontforge/po/mackeys
   A /branches/math/src/libs/luafontforge/fontforge/po/mackeys/en.po
   A /branches/math/src/libs/luafontforge/fontforge/po/mal.po
   A /branches/math/src/libs/luafontforge/fontforge/po/pl.po
   A /branches/math/src/libs/luafontforge/fontforge/po/ru.po
   A /branches/math/src/libs/luafontforge/fontforge/po/vi.po
   A /branches/math/src/libs/luafontforge/fontforge/po/zh_CN.po
   A /branches/math/src/libs/luafontforge/fontforge/po/zh_TW.po
   A /branches/math/src/libs/luafontforge/fontforge/pycontrib
   A /branches/math/src/libs/luafontforge/fontforge/pycontrib/excepthook.py
   A /branches/math/src/libs/luafontforge/fontforge/pyhook
   A /branches/math/src/libs/luafontforge/fontforge/pyhook/README
   A /branches/math/src/libs/luafontforge/fontforge/pyhook/fontforgepyhook.c
   A /branches/math/src/libs/luafontforge/fontforge/pyhook/loadfontforge.h
   A /branches/math/src/libs/luafontforge/fontforge/pyhook/psMatpyhook.c
   A /branches/math/src/libs/luafontforge/fontforge/pyhook/setup.py.in
   A /branches/math/src/libs/luafontforge/fontforge/systemspecific.in

And here is the new fontforge codebase (20081117)

------------------------------------------------------------------------
r1600 | taco | 2008-12-01 18:06:22 +0100 (Mon, 01 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/Makefile
   M /branches/math/src/libs/luafontforge/src/ffdummies.c
   M /branches/math/src/libs/luafontforge/src/luafflib.c
   M /branches/math/src/texk/web2c/luatexdir/luatexlib.mk

a bunch of quickfixes to get the binary to compile again

------------------------------------------------------------------------

From root at www.metatex.org  Tue Dec  2 16:24:41 2008
From: root at www.metatex.org (Cron Daemon)
Date: Tue,  2 Dec 2008 16:24:41 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081202152441.612051E8C3F6@www.metatex.org>

------------------------------------------------------------------------
r1601 | taco | 2008-12-02 15:27:47 +0100 (Tue, 02 Dec 2008) | 3 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/lookups.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/parsettf.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/splinefont.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/splinefont.h
   M /branches/math/src/libs/luafontforge/fontforge/inc/config.h.in
   M /branches/math/src/libs/luafontforge/src/ffdummies.c
   M /branches/math/src/libs/luafontforge/src/luafflib.c

this brings the functionality of the new ff code in line with the old ff code
(except for a few splinefont fields that have gone away in the new ff )

------------------------------------------------------------------------

From root at www.metatex.org  Tue Dec  2 22:24:38 2008
From: root at www.metatex.org (Cron Daemon)
Date: Tue,  2 Dec 2008 22:24:38 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081202212438.880A31E8C3F6@www.metatex.org>

------------------------------------------------------------------------
r1602 | taco | 2008-12-02 17:28:26 +0100 (Tue, 02 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/build.sh
   M /branches/math/build.sh.cross
   M /branches/math/build.sh.linux
   M /branches/math/build.sh.ppc
   M /branches/math/src/libs/luafontforge/fontforge/configure
   M /branches/math/src/libs/luafontforge/fontforge/configure.dynamic.in
   M /branches/math/src/libs/luafontforge/fontforge/configure.in
   M /branches/math/src/libs/luafontforge/fontforge/configure.static.in
   M /branches/math/src/libs/luafontforge/fontforge/inc/config.h.in
   M /branches/math/src/texk/web2c/luatexdir/luatexlib.mk

build and configuration changes (striving toward a working crosscompile)

------------------------------------------------------------------------

From root at www.metatex.org  Wed Dec  3 12:25:41 2008
From: root at www.metatex.org (Cron Daemon)
Date: Wed,  3 Dec 2008 12:25:41 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081203112541.30F1C1E8C29B@www.metatex.org>

------------------------------------------------------------------------
r1603 | taco | 2008-12-03 09:52:50 +0100 (Wed, 03 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/Unicode/Makefile.dynamic.in
   M /branches/math/src/libs/luafontforge/fontforge/Unicode/Makefile.in
   M /branches/math/src/libs/luafontforge/fontforge/Unicode/Makefile.static.in
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/Makefile.dynamic.in
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/Makefile.in
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/Makefile.static.in
   M /branches/math/src/libs/luafontforge/fontforge/gutils/Makefile.dynamic.in
   M /branches/math/src/libs/luafontforge/fontforge/gutils/Makefile.in
   M /branches/math/src/libs/luafontforge/fontforge/gutils/Makefile.static.in
   D /branches/math/src/libs/luafontforge/fontforge/inc/config.h

fix config.h handling

------------------------------------------------------------------------
r1604 | taco | 2008-12-03 11:22:49 +0100 (Wed, 03 Dec 2008) | 7 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/autosave.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/autotrace.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/cvexport.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/dumppfa.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/http.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/noprefs.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/plugins.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/print.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/sfd.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/splinefont.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/start.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/startnoui.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/ufo.c
   M /branches/math/src/libs/luafontforge/fontforge/gutils/fsys.c
   M /branches/math/src/libs/luafontforge/fontforge/gutils/gio.c
   M /branches/math/src/libs/luafontforge/fontforge/gutils/giofile.c
   M /branches/math/src/libs/luafontforge/fontforge/gutils/gioftp.c
   M /branches/math/src/libs/luafontforge/fontforge/gutils/giohosts.c
   M /branches/math/src/libs/luafontforge/fontforge/gutils/giomime.c
   M /branches/math/src/libs/luafontforge/fontforge/gutils/giothread.c
   M /branches/math/src/libs/luafontforge/fontforge/gutils/giotrans.c
   M /branches/math/src/libs/luafontforge/fontforge/po/Makefile.in
   M /branches/math/src/libs/luafontforge/src/ffdummies.c

* fix crosscompilation to win32
* disable printing
* disable autotrace / metafont fonts
* disable network access / url handling
* suppress use of random() and srandom()
* fix handling of NODYNAMIC and NOPLUGIN

------------------------------------------------------------------------
r1605 | taco | 2008-12-03 12:08:56 +0100 (Wed, 03 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/parsettf.c

fix pfminfo handling

------------------------------------------------------------------------

From root at www.metatex.org  Wed Dec  3 22:24:36 2008
From: root at www.metatex.org (Cron Daemon)
Date: Wed,  3 Dec 2008 22:24:36 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081203212436.C04031E8C29E@www.metatex.org>

------------------------------------------------------------------------
r1606 | taco | 2008-12-03 17:39:35 +0100 (Wed, 03 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/Makefile
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/splinefont.h
   M /branches/math/src/libs/luafontforge/fontforge/inc/config.h.in
   M /branches/math/src/libs/luafontforge/fontforge/po/Makefile.in
   M /branches/math/src/libs/luafontforge/src/luafflib.c

export the new splinefont fields to lua (mostly done)

------------------------------------------------------------------------
r1607 | taco | 2008-12-03 17:42:43 +0100 (Wed, 03 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/src/luafflib.c

not nice to use the internal internal

------------------------------------------------------------------------

From taco at elvenkind.com  Thu Dec  4 13:29:09 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 04 Dec 2008 13:29:09 +0100
Subject: [Dev-luatex] Help with fonts needed
Message-ID: <4937CD15.70004@elvenkind.com>

Hi all,

The next big release of luatex will be about (opentype) math. One of
the prerequisites of that is the ability to handle the opentype math
features, and that means updating the embedded fontforge code. This
is what I am currentlu working on.

While updating the fontforge.to_table() code, I noticed that there
where still some todo items in the source and it would be nice
if these could be resolved as well. If have written tentative code
for those now, but I do not have the fonts to go with the code so
it is not at all unlikely that there are crash-level bugs and/or
misconceptions.

In order to make luatex even better, I need your help finding good
examples of each of the following font types:

* Apple dfont collections
* AAT fonts in all forms
* Apple Multiple Master (AAT "fvar")
* Adobe's Type1-based Multiple Master
* Fonts specifying baseline settings (OT "BASE" | AAT "bsln" )
* Fonts specifying justification data (OT "JST" | AAT "just")

Please drop me a line if you can help out with any of these...

Best wishes,
Taco

From mojca.miklavec.lists at gmail.com  Thu Dec  4 14:11:37 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Thu, 4 Dec 2008 14:11:37 +0100
Subject: [Dev-luatex] Help with fonts needed
In-Reply-To: <4937CD15.70004@elvenkind.com>
References: <4937CD15.70004@elvenkind.com>
Message-ID: <6faad9f00812040511y3ee3074fi32b18d0461a14466@mail.gmail.com>

Hello Taco,

I left you a zip file with some Apple fonts at /home/mojca/fonts at metatex.org.

(It's still copying, but it should be there in < 5 minutes.)

Mojca


On Thu, Dec 4, 2008 at 1:29 PM, Taco Hoekwater <taco at elvenkind.com> wrote:
> Hi all,
>
> The next big release of luatex will be about (opentype) math. One of
> the prerequisites of that is the ability to handle the opentype math
> features, and that means updating the embedded fontforge code. This
> is what I am currentlu working on.
>
> While updating the fontforge.to_table() code, I noticed that there
> where still some todo items in the source and it would be nice
> if these could be resolved as well. If have written tentative code
> for those now, but I do not have the fonts to go with the code so
> it is not at all unlikely that there are crash-level bugs and/or
> misconceptions.
>
> In order to make luatex even better, I need your help finding good
> examples of each of the following font types:
>
> * Apple dfont collections
> * AAT fonts in all forms
> * Apple Multiple Master (AAT "fvar")
> * Adobe's Type1-based Multiple Master
> * Fonts specifying baseline settings (OT "BASE" | AAT "bsln" )
> * Fonts specifying justification data (OT "JST" | AAT "just")
>
> Please drop me a line if you can help out with any of these...
>
> Best wishes,
> Taco
> _______________________________________________
> dev-luatex mailing list
> dev-luatex at ntg.nl
> http://www.ntg.nl/mailman/listinfo/dev-luatex
>

From yannis.haralambous at telecom-bretagne.eu  Thu Dec  4 14:13:04 2008
From: yannis.haralambous at telecom-bretagne.eu (Yannis Haralambous)
Date: Thu, 4 Dec 2008 14:13:04 +0100
Subject: [Dev-luatex] Help with fonts needed
In-Reply-To: <4937CD15.70004@elvenkind.com>
References: <4937CD15.70004@elvenkind.com>
Message-ID: <4086E00F-63E9-4987-B5B0-7D1592719B70@telecom-bretagne.eu>

Here is the Skia font (the only AAT fvar font I know of)
<http://web.me.com/yharalambous/filechute/Skia.dfont>

Le 4 d?c. 08 ? 13:29, Taco Hoekwater a ?crit :

> * Apple dfont collections
> * AAT fonts in all forms
> * Apple Multiple Master (AAT "fvar")
> * Adobe's Type1-based Multiple Master
> * Fonts specifying baseline settings (OT "BASE" | AAT "bsln" )
> * Fonts specifying justification data (OT "JST" | AAT "just")

--
+
-----------------------------------------------------------------------+
| Yannis Haralambous, Ph.D.      yannis.haralambous at telecom- 
bretagne.eu |
| Directeur d'?tudes                      http://omega.enstb.org/ 
yannis |
|                                             Tel. +33  
(0)2.29.00.14.27 |
|                                             Fax  +33  
(0)2.29.00.12.82 |
| D?partement  
Informatique                                              |
| TELECOM  
Bretagne                                                      |
| Technop?le de Brest Iroise, CS 83818, 29238 Brest CEDEX 3,  
France     |
| Coordonn?es Google-Earth : 48?21'31.57"N  
4?34'16.76"W                 |
+ 
-----------------------------------------------------------------------+
                             ...pour distinguer l'ext?rieur d'un  
aquarium,
                                            mieux vaut n'?tre pas  
poisson

                            ...the ball I threw while playing in the  
park
                                           has not yet reached the  
ground

               Es gab eine Zeit, wo ich nur ungern ?ber Schubert  
sprechen,
            nur N?chtens den B?umen und Sternen von ihm vorerz?hlen  
m?gen.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081204/af4c1d7c/attachment.html 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Yannis Haralambous.vcf
Type: text/directory
Size: 508 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081204/af4c1d7c/attachment.bin 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081204/af4c1d7c/attachment-0001.html 

From root at www.metatex.org  Thu Dec  4 16:24:38 2008
From: root at www.metatex.org (Cron Daemon)
Date: Thu,  4 Dec 2008 16:24:38 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081204152438.EB3451E8C2A7@www.metatex.org>

------------------------------------------------------------------------
r1608 | oneiros | 2008-12-04 13:31:14 +0100 (Thu, 04 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/Unicode/usprintf.c

init some variables

------------------------------------------------------------------------
r1609 | oneiros | 2008-12-04 13:49:53 +0100 (Thu, 04 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/autohint.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/bitmapchar.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/cvexport.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/cvundoes.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/dumppfa.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/encoding.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/featurefile.c

fix wrong comments, init variables

------------------------------------------------------------------------
r1610 | taco | 2008-12-04 15:51:13 +0100 (Thu, 04 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/fvfonts.c

fix crash on Apple MM fonts

------------------------------------------------------------------------

From khaledhosny at eglug.org  Thu Dec  4 18:05:14 2008
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 4 Dec 2008 19:05:14 +0200
Subject: [Dev-luatex] Help with fonts needed
In-Reply-To: <4937CD15.70004@elvenkind.com>
References: <4937CD15.70004@elvenkind.com>
Message-ID: <a5a1faa10812040905v27b0921maf7286b1b575d821@mail.gmail.com>

On Thu, Dec 4, 2008 at 2:29 PM, Taco Hoekwater <taco at elvenkind.com> wrote:

> * Fonts specifying justification data (OT "JST" | AAT "just")

Apple's Geeza Pro font has  AAT "just" table, though I don't think
fontforge currently supports "JST" or "just" tables, it simply ignores
them.


-- 
  Khaled

From taco at elvenkind.com  Thu Dec  4 18:19:07 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 04 Dec 2008 18:19:07 +0100
Subject: [Dev-luatex] Help with fonts needed
In-Reply-To: <a5a1faa10812040905v27b0921maf7286b1b575d821@mail.gmail.com>
References: <4937CD15.70004@elvenkind.com>
	<a5a1faa10812040905v27b0921maf7286b1b575d821@mail.gmail.com>
Message-ID: <4938110B.9050304@elvenkind.com>

Khaled Hosny wrote:
> On Thu, Dec 4, 2008 at 2:29 PM, Taco Hoekwater <taco at elvenkind.com> wrote:
> 
>> * Fonts specifying justification data (OT "JST" | AAT "just")
> 
> Apple's Geeza Pro font has  AAT "just" table, though I don't think
> fontforge currently supports "JST" or "just" tables, it simply ignores
> them.

It is lucky that I am a programmer, then :-)



From yannis.haralambous at telecom-bretagne.eu  Thu Dec  4 18:41:01 2008
From: yannis.haralambous at telecom-bretagne.eu (Yannis Haralambous)
Date: Thu, 4 Dec 2008 18:41:01 +0100
Subject: [Dev-luatex] Navees GX font
Message-ID: <8B794615-BAE8-4929-B954-0EB042BD5282@telecom-bretagne.eu>

Here is the Navees font, an Arabic Quickdraw GX font produced by SIL
<http://web.me.com/yharalambous/filechute/navees.zip>

--
+
-----------------------------------------------------------------------+
| Yannis Haralambous, Ph.D.      yannis.haralambous at telecom- 
bretagne.eu |
| Directeur d'?tudes                      http://omega.enstb.org/ 
yannis |
|                                             Tel. +33  
(0)2.29.00.14.27 |
|                                             Fax  +33  
(0)2.29.00.12.82 |
| D?partement  
Informatique                                              |
| TELECOM  
Bretagne                                                      |
| Technop?le de Brest Iroise, CS 83818, 29238 Brest CEDEX 3,  
France     |
| Coordonn?es Google-Earth : 48?21'31.57"N  
4?34'16.76"W                 |
+ 
-----------------------------------------------------------------------+
                             ...pour distinguer l'ext?rieur d'un  
aquarium,
                                            mieux vaut n'?tre pas  
poisson

                            ...the ball I threw while playing in the  
park
                                           has not yet reached the  
ground

               Es gab eine Zeit, wo ich nur ungern ?ber Schubert  
sprechen,
            nur N?chtens den B?umen und Sternen von ihm vorerz?hlen  
m?gen.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081204/5f212e0d/attachment.html 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Yannis Haralambous.vcf
Type: text/directory
Size: 508 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081204/5f212e0d/attachment.bin 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081204/5f212e0d/attachment-0001.html 

From khaledhosny at eglug.org  Thu Dec  4 19:15:07 2008
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 4 Dec 2008 20:15:07 +0200
Subject: [Dev-luatex] Help with fonts needed
In-Reply-To: <4938110B.9050304@elvenkind.com>
References: <4937CD15.70004@elvenkind.com>
	<a5a1faa10812040905v27b0921maf7286b1b575d821@mail.gmail.com>
	<4938110B.9050304@elvenkind.com>
Message-ID: <a5a1faa10812041015k6ecfb3a4sc622d2650f28fe15@mail.gmail.com>

On Thu, Dec 4, 2008 at 7:19 PM, Taco Hoekwater <taco at elvenkind.com> wrote:
> Khaled Hosny wrote:
>>
>> On Thu, Dec 4, 2008 at 2:29 PM, Taco Hoekwater <taco at elvenkind.com> wrote:
>>
>>> * Fonts specifying justification data (OT "JST" | AAT "just")
>>
>> Apple's Geeza Pro font has  AAT "just" table, though I don't think
>> fontforge currently supports "JST" or "just" tables, it simply ignores
>> them.
>
> It is lucky that I am a programmer, then :-)

Sorry, I meant no offense, I was just stating what I've found trying
to edit those tables in fontforge, knowing that such functionality in
luatex is handled by fontforge's code.


-- 
  Khaled

From taco at elvenkind.com  Thu Dec  4 19:27:56 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 04 Dec 2008 19:27:56 +0100
Subject: [Dev-luatex] Help with fonts needed
In-Reply-To: <a5a1faa10812041015k6ecfb3a4sc622d2650f28fe15@mail.gmail.com>
References: <4937CD15.70004@elvenkind.com>	
	<a5a1faa10812040905v27b0921maf7286b1b575d821@mail.gmail.com>	
	<4938110B.9050304@elvenkind.com>
	<a5a1faa10812041015k6ecfb3a4sc622d2650f28fe15@mail.gmail.com>
Message-ID: <4938212C.5050006@elvenkind.com>

Khaled Hosny wrote:
> On Thu, Dec 4, 2008 at 7:19 PM, Taco Hoekwater <taco at elvenkind.com> wrote:
>> Khaled Hosny wrote:
>>> On Thu, Dec 4, 2008 at 2:29 PM, Taco Hoekwater <taco at elvenkind.com> wrote:
>>>
>>>> * Fonts specifying justification data (OT "JST" | AAT "just")
>>> Apple's Geeza Pro font has  AAT "just" table, though I don't think
>>> fontforge currently supports "JST" or "just" tables, it simply ignores
>>> them.
>> It is lucky that I am a programmer, then :-)
> 
> Sorry, I meant no offense, I was just stating what I've found trying
> to edit those tables in fontforge, knowing that such functionality in
> luatex is handled by fontforge's code.

No offense taken, and thank you for the font suggestion.

Best wishes,
Taco

From root at www.metatex.org  Thu Dec  4 22:24:41 2008
From: root at www.metatex.org (Cron Daemon)
Date: Thu,  4 Dec 2008 22:24:41 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081204212441.7D48D1E8C2A7@www.metatex.org>

------------------------------------------------------------------------
r1611 | taco | 2008-12-04 16:18:06 +0100 (Thu, 04 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/lookups.c

suppress the 'userfriendly' lookup names

------------------------------------------------------------------------
r1612 | taco | 2008-12-04 16:19:16 +0100 (Thu, 04 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/src/luafflib.c

add dumping of aat features, mm info, and baseline info

------------------------------------------------------------------------
r1613 | taco | 2008-12-04 16:59:18 +0100 (Thu, 04 Dec 2008) | 3 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/macbinary.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/splinefont.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/splinefont.h

Make the macbinary containers (bin,hqx,dfont) behave as 
font collections when called via fontforge.info.

------------------------------------------------------------------------

From root at www.metatex.org  Fri Dec  5 22:28:12 2008
From: root at www.metatex.org (Cron Daemon)
Date: Fri,  5 Dec 2008 22:28:12 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081205212812.0976F788001@www.metatex.org>

------------------------------------------------------------------------
r1626 | taco | 2008-12-05 16:29:50 +0100 (Fri, 05 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/manual/luatexref-t.pdf
   M /branches/math/manual/luatexref-t.tex

document new ff table output (this is good enough for now)

------------------------------------------------------------------------
r1627 | taco | 2008-12-05 16:31:19 +0100 (Fri, 05 Dec 2008) | 2 lines
Changed paths:
   A /tags/beta-0.31.0 (from /branches/math:1626)

a beta tag

------------------------------------------------------------------------

From taco at elvenkind.com  Fri Dec  5 17:21:33 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 05 Dec 2008 17:21:33 +0100
Subject: [Dev-luatex] Luatex beta 0.31.0
Message-ID: <4939550D.6000007@elvenkind.com>

Hi all,

I have just uploaded the archives for luatex 0.31.0.

This is just an intermediate release so that some testing can be
done on the updated fontforge embedding.

* There are new fields being generated by fontforge.to_table(),
  and one or two old ones have been removed. These fields are /
  will be documented in the manual, but very briefly:

  - MATH table and associated information are now exported
    (the main reason for the new fontforge code)
  - Baseline data is now exported
    (perhaps usable in lua code)
  - Multiple Master / Glyph variation data is now exported
    (but useless, for now)
  - Mac Feature (AAT) information is now exported
    (perhaps usable in lua code)
  - If (lookup) names were saved via the PfED table, these
    will the exported instead of the default, generated names.
    (as requested by Yannis)

* dfont is now treated as an archive format just like ttc
  when it comes to fontforge.info(). NOTE: that does not mean you
  can actually use them, because the  backend doesn't know
  yet how to embed dfont fonts in the PDF, that is on the
  TODO list for the next big beta (0.40.0).

* The executables are a lot larger than before. That is because
  much more of fontforge is included than before. Likely this
  will stay this way, because this makes upgrading the ff code
  much easier, and it means that luatex/FF potentially
  understands more font formats (after upgrading the backend,
  of course)

The archives (just binaries this time) can be downloaded from
supelec as usual:

       http://foundry.supelec.fr/projects/luatex/


If you need the sources, please check out via anonymous svn:

 svn co svn://scm.foundry.supelec.fr/svn/luatex/tags/beta-0.31.0


Bugs and feature requests can be added to the issue tracker at

       http://tracker.luatex.org

Have fun,
Taco


_______________________________________________
dev-luatex mailing list
dev-luatex at ntg.nl
http://www.ntg.nl/mailman/listinfo/dev-luatex

From root at www.metatex.org  Fri Dec  5 12:25:38 2008
From: root at www.metatex.org (Cron Daemon)
Date: Fri,  5 Dec 2008 12:25:38 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081205112538.417E0788001@www.metatex.org>

------------------------------------------------------------------------
r1614 | taco | 2008-12-05 09:37:24 +0100 (Fri, 05 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/parsettf.c
   M /branches/math/src/libs/luafontforge/src/luafflib.c

better do the bb calculation in the backend

------------------------------------------------------------------------
r1615 | taco | 2008-12-05 09:54:52 +0100 (Fri, 05 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/lookups.c
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/parsettfatt.c

simplified some more lookup name strings

------------------------------------------------------------------------
r1616 | taco | 2008-12-05 09:56:08 +0100 (Fri, 05 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/src/luafflib.c

suppress dumping of is_extended_shape if it is not interesting

------------------------------------------------------------------------
r1617 | taco | 2008-12-05 09:58:49 +0100 (Fri, 05 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/src/luafflib.c

altuni cleanup

------------------------------------------------------------------------
r1618 | taco | 2008-12-05 10:16:50 +0100 (Fri, 05 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/parsettfatt.c

simplify a trailing " subtable" in a lookup name

------------------------------------------------------------------------
r1619 | taco | 2008-12-05 10:17:18 +0100 (Fri, 05 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/lookups.c

dump a mac feature tag in a lookup name correctly

------------------------------------------------------------------------
r1620 | taco | 2008-12-05 10:18:08 +0100 (Fri, 05 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/src/luafflib.c

if the glyph lsidebearing == boundingbox[1], don't bother to dump it

------------------------------------------------------------------------
r1621 | taco | 2008-12-05 11:17:46 +0100 (Fri, 05 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/src/luafflib.c

create a list of to-be-saved tables (including JUST)

------------------------------------------------------------------------
r1622 | taco | 2008-12-05 11:26:11 +0100 (Fri, 05 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/parsettf.c

prevent a crash for non-understood ttf encodings

------------------------------------------------------------------------

From taco at elvenkind.com  Fri Dec  5 11:34:00 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Fri, 05 Dec 2008 11:34:00 +0100
Subject: [Dev-luatex] Navees GX font
In-Reply-To: <8B794615-BAE8-4929-B954-0EB042BD5282@telecom-bretagne.eu>
References: <8B794615-BAE8-4929-B954-0EB042BD5282@telecom-bretagne.eu>
Message-ID: <49390398.9090606@elvenkind.com>


Hi Yannis,

Yannis Haralambous wrote:
> Here is the Navees font, an Arabic Quickdraw GX font produced by SIL
> <http://web.me.com/yharalambous/filechute/navees.zip>

This font crashes fontforge, and fixing it is beyond my knowledge.
It seems the problem is that fontforge doesn't understand the Apple-
specific encoding used by the font, and I have no idea how to
make it do so. You'll have to ask George Williams if you really
want to be able to open the font.

Best wishes,
Taco

From mojca.miklavec.lists at gmail.com  Sat Dec  6 15:59:13 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Sat, 6 Dec 2008 15:59:13 +0100
Subject: [Dev-luatex] Luatex beta 0.31.0
In-Reply-To: <4939550D.6000007@elvenkind.com>
References: <4939550D.6000007@elvenkind.com>
Message-ID: <6faad9f00812060659k1c3f4859pcfb20a64e57139b4@mail.gmail.com>

On Fri, Dec 5, 2008 at 5:21 PM, Taco Hoekwater wrote:
> Hi all,
>
> I have just uploaded the archives for luatex 0.31.0.

Hello Taco,

After all that negging about supporting solaris, here are some more
reports from Mac OS X:

g++ -o luatex luatexini.o luatex0.o luatex1.o luatex2.o luatex3.o
luatexextra.o luatex-pool.o ../../libs/md5/md5.o
../../libs/slnunicode/slnunico.o ../../libs/luazip/src/luazip.o
../../libs/luafilesystem/src/lfs.o ../../libs/luapeg/lpeg.o
../../libs/luamd5/md5lib.o ../../libs/luamd5/md5.o
../../libs/luazlib/lgzip.o ../../libs/luazlib/lzlib.o mpdir/lmplib.o
luatexdir/libpdf.a ../../libs/libpng/libpng.a ../../libs/zlib/libz.a
../../libs/xpdf/xpdf/libxpdf.a ../../libs/xpdf/goo/libGoo.a
../../libs/xpdf/fofi/libfofi.a
../../libs/obsdcompat/libopenbsd-compat.a ../../libs/lua51/liblua.a
../../libs/zziplib/zzip/libzzip.a ../../libs/luasocket/src/socket.a
../../libs/luafontforge/libff.a mpdir/.libs/libmplib.a lib/lib.a
../kpathsea/.libs/libkpathsea.a -lm
/usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: Undefined symbols:
_libintl_gettext
_FSCloseFork
_FSCreateFileUnicode
_FSCreateFork
_FSGetResourceForkName
_FSOpenFork
_FSPathMakeRef
_FSSetForkSize
_FSWriteFork
collect2: ld returned 1 exit status
make: *** [luatex] Error 1

Mojca

From root at www.metatex.org  Fri Dec  5 16:24:37 2008
From: root at www.metatex.org (Cron Daemon)
Date: Fri,  5 Dec 2008 16:24:37 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081205152437.1379D788001@www.metatex.org>

------------------------------------------------------------------------
r1623 | taco | 2008-12-05 16:05:21 +0100 (Fri, 05 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/src/luafflib.c

small corrections

------------------------------------------------------------------------
r1624 | taco | 2008-12-05 16:05:49 +0100 (Fri, 05 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/texk/web2c/luatexdir/luatex.web

bump the version number

------------------------------------------------------------------------
r1625 | taco | 2008-12-05 16:06:08 +0100 (Fri, 05 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/manual/luatexref-t.tex

updated manual (partially)

------------------------------------------------------------------------

From khaledhosny at eglug.org  Sat Dec  6 19:32:35 2008
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sat, 6 Dec 2008 20:32:35 +0200
Subject: [Dev-luatex] Navees GX font
In-Reply-To: <49390398.9090606@elvenkind.com>
References: <8B794615-BAE8-4929-B954-0EB042BD5282@telecom-bretagne.eu>
	<49390398.9090606@elvenkind.com>
Message-ID: <20081206183235.GA25220@khaled-laptop>

On Fri, Dec 05, 2008 at 11:34:00AM +0100, Taco Hoekwater wrote:
> 
> Hi Yannis,
> 
> Yannis Haralambous wrote:
> > Here is the Navees font, an Arabic Quickdraw GX font produced by SIL
> > <http://web.me.com/yharalambous/filechute/navees.zip>
> 
> This font crashes fontforge, and fixing it is beyond my knowledge.
> It seems the problem is that fontforge doesn't understand the Apple-
> specific encoding used by the font, and I have no idea how to
> make it do so. You'll have to ask George Williams if you really
> want to be able to open the font.

I can open it with Fontforge (using the latest CVS snapshot).
Regards,


-- 
 Khaled Hosny
 Arabic localizer and member of Arabeyes.org team
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
Url : http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081206/fe9a9bb8/attachment.bin 

From yuleopen at gmail.com  Sun Dec  7 07:55:06 2008
From: yuleopen at gmail.com (Yue Wang)
Date: Sun, 7 Dec 2008 06:55:06 +0000
Subject: [Dev-luatex] Luatex beta 0.31.0
In-Reply-To: <4939550D.6000007@elvenkind.com>
References: <4939550D.6000007@elvenkind.com>
Message-ID: <68bfdc900812062255g247c3fe1y193059a71d6741c5@mail.gmail.com>

Hi, Taco :


[yue at localhost ~]$ cd beta-0.31.0/
[yue at localhost ~/beta-0.31.0]$ ./build.sh
... lots of information  ...
checking spiroentrypoints.h usability... no
checking spiroentrypoints.h presence... no
checking for spiroentrypoints.h... no
checking for xmlParseFile in -lxml2... yes
checking langinfo.h usability... yes
checking langinfo.h presence... yes
checking for langinfo.h... yes
checking ieeefp.h usability... yes
checking ieeefp.h presence... yes
checking for ieeefp.h... yes
checking for stdint.h... (cached) yes
checking fontconfig/fontconfig.h usability... no
checking fontconfig/fontconfig.h presence... no
checking for fontconfig/fontconfig.h... no
../../../../src/libs/luafontforge/fontforge/configure: 24004: Syntax
error: Bad fd number

[yue at localhost ~]$ uname -a
FreeBSD localhost 8.0-CURRENT FreeBSD 8.0-CURRENT #3: Tue Nov 11
16:54:35 UTC 2008     root at localhost:/usr/obj/usr/src/sys/KERNEL  i386
[yue at localhost ~]$

Yue Wang


On Fri, Dec 5, 2008 at 4:21 PM, Taco Hoekwater <taco at elvenkind.com> wrote:
> Hi all,
>
> I have just uploaded the archives for luatex 0.31.0.
>
> This is just an intermediate release so that some testing can be
> done on the updated fontforge embedding.
>
> * There are new fields being generated by fontforge.to_table(),
>  and one or two old ones have been removed. These fields are /
>  will be documented in the manual, but very briefly:
>
>  - MATH table and associated information are now exported
>    (the main reason for the new fontforge code)
>  - Baseline data is now exported
>    (perhaps usable in lua code)
>  - Multiple Master / Glyph variation data is now exported
>    (but useless, for now)
>  - Mac Feature (AAT) information is now exported
>    (perhaps usable in lua code)
>  - If (lookup) names were saved via the PfED table, these
>    will the exported instead of the default, generated names.
>    (as requested by Yannis)
>
> * dfont is now treated as an archive format just like ttc
>  when it comes to fontforge.info(). NOTE: that does not mean you
>  can actually use them, because the  backend doesn't know
>  yet how to embed dfont fonts in the PDF, that is on the
>  TODO list for the next big beta (0.40.0).
>
> * The executables are a lot larger than before. That is because
>  much more of fontforge is included than before. Likely this
>  will stay this way, because this makes upgrading the ff code
>  much easier, and it means that luatex/FF potentially
>  understands more font formats (after upgrading the backend,
>  of course)
>
> The archives (just binaries this time) can be downloaded from
> supelec as usual:
>
>       http://foundry.supelec.fr/projects/luatex/
>
>
> If you need the sources, please check out via anonymous svn:
>
>  svn co svn://scm.foundry.supelec.fr/svn/luatex/tags/beta-0.31.0
>
>
> Bugs and feature requests can be added to the issue tracker at
>
>       http://tracker.luatex.org
>
> Have fun,
> Taco
>
>
> _______________________________________________
> dev-luatex mailing list
> dev-luatex at ntg.nl
> http://www.ntg.nl/mailman/listinfo/dev-luatex
> _______________________________________________
> dev-luatex mailing list
> dev-luatex at ntg.nl
> http://www.ntg.nl/mailman/listinfo/dev-luatex
>

From taco at elvenkind.com  Sun Dec  7 10:59:24 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 07 Dec 2008 10:59:24 +0100
Subject: [Dev-luatex] Luatex beta 0.31.0
In-Reply-To: <68bfdc900812062255g247c3fe1y193059a71d6741c5@mail.gmail.com>
References: <4939550D.6000007@elvenkind.com>
	<68bfdc900812062255g247c3fe1y193059a71d6741c5@mail.gmail.com>
Message-ID: <493B9E7C.10207@elvenkind.com>

Yue Wang wrote:
> Hi, Taco :
> 
> 
> [yue at localhost ~]$ cd beta-0.31.0/
> [yue at localhost ~/beta-0.31.0]$ ./build.sh
> ... lots of information  ...
> checking spiroentrypoints.h usability... no
> checking spiroentrypoints.h presence... no
> checking for spiroentrypoints.h... no
> checking for xmlParseFile in -lxml2... yes
> checking langinfo.h usability... yes
> checking langinfo.h presence... yes
> checking for langinfo.h... yes
> checking ieeefp.h usability... yes
> checking ieeefp.h presence... yes
> checking for ieeefp.h... yes
> checking for stdint.h... (cached) yes
> checking fontconfig/fontconfig.h usability... no
> checking fontconfig/fontconfig.h presence... no
> checking for fontconfig/fontconfig.h... no
> ../../../../src/libs/luafontforge/fontforge/configure: 24004: Syntax
> error: Bad fd number

Can you please post what is on line 24004 and its surroundings?

Best wisses,
Taco


From taco at elvenkind.com  Sun Dec  7 11:08:18 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 07 Dec 2008 11:08:18 +0100
Subject: [Dev-luatex] Luatex beta 0.31.0
In-Reply-To: <6faad9f00812060659k1c3f4859pcfb20a64e57139b4@mail.gmail.com>
References: <4939550D.6000007@elvenkind.com>
	<6faad9f00812060659k1c3f4859pcfb20a64e57139b4@mail.gmail.com>
Message-ID: <493BA092.7000700@elvenkind.com>

Mojca Miklavec wrote:
> On Fri, Dec 5, 2008 at 5:21 PM, Taco Hoekwater wrote:
>> Hi all,
>>
>> I have just uploaded the archives for luatex 0.31.0.
> 
> Hello Taco,
> 
> After all that negging about supporting solaris, here are some more
> reports from Mac OS X:



> g++ -o luatex luatexini.o luatex0.o luatex1.o luatex2.o luatex3.o
> luatexextra.o luatex-pool.o ../../libs/md5/md5.o
> ../../libs/slnunicode/slnunico.o ../../libs/luazip/src/luazip.o
> ../../libs/luafilesystem/src/lfs.o ../../libs/luapeg/lpeg.o
> ../../libs/luamd5/md5lib.o ../../libs/luamd5/md5.o
> ../../libs/luazlib/lgzip.o ../../libs/luazlib/lzlib.o mpdir/lmplib.o
> luatexdir/libpdf.a ../../libs/libpng/libpng.a ../../libs/zlib/libz.a
> ../../libs/xpdf/xpdf/libxpdf.a ../../libs/xpdf/goo/libGoo.a
> ../../libs/xpdf/fofi/libfofi.a
> ../../libs/obsdcompat/libopenbsd-compat.a ../../libs/lua51/liblua.a
> ../../libs/zziplib/zzip/libzzip.a ../../libs/luasocket/src/socket.a
> ../../libs/luafontforge/libff.a mpdir/.libs/libmplib.a lib/lib.a
> ../kpathsea/.libs/libkpathsea.a -lm
> /usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: Undefined symbols:
> _libintl_gettext

This one is simple to fix, I forgot to suppress libintl (gettext) in
fontforge's configuration. There are two lines containing

    #undef HAVE_LIBINTL_H

inside src/libs/luafontforge/fontforge/inc/config.h.in (one is enough
really, the other one is a fluke)

If you put those in C comment tags (like the _HAS_LONGLONG is already)
then this error will go away, I am sure.

> _FSCloseFork
> _FSCreateFileUnicode
> _FSCreateFork
> _FSGetResourceForkName
> _FSOpenFork
> _FSPathMakeRef
> _FSSetForkSize
> _FSWriteFork

These are a bit trickier, they probably need an extra linked library.
It is caused by the fontforge code for reading Mac fonts, and that of
course has a if define(__MAC) in the C source, which is why it works
fine on unix/win where the filesystems simpler.

Can you send me the generated Makefiles in the fontforge subdirectory?

Best wishes,
Taco

From taco at elvenkind.com  Sun Dec  7 11:12:36 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 07 Dec 2008 11:12:36 +0100
Subject: [Dev-luatex] Navees GX font
In-Reply-To: <20081206183235.GA25220@khaled-laptop>
References: <8B794615-BAE8-4929-B954-0EB042BD5282@telecom-bretagne.eu>
	<49390398.9090606@elvenkind.com>
	<20081206183235.GA25220@khaled-laptop>
Message-ID: <493BA194.4060600@elvenkind.com>

Khaled Hosny wrote:
> On Fri, Dec 05, 2008 at 11:34:00AM +0100, Taco Hoekwater wrote:
>> Hi Yannis,
>>
>> Yannis Haralambous wrote:
>>> Here is the Navees font, an Arabic Quickdraw GX font produced by SIL
>>> <http://web.me.com/yharalambous/filechute/navees.zip>
>> This font crashes fontforge, and fixing it is beyond my knowledge.
>> It seems the problem is that fontforge doesn't understand the Apple-
>> specific encoding used by the font, and I have no idea how to
>> make it do so. You'll have to ask George Williams if you really
>> want to be able to open the font.
> 
> I can open it with Fontforge (using the latest CVS snapshot).

Yes, you can with latest luatex also, I sent a patch to fontforge-devel
to suppress the crash. That does not make the font usable though,
because it is now treated a symbolic font (no unicode mapping info).

Best wishes,
Taco



From root at www.metatex.org  Sun Dec  7 16:24:44 2008
From: root at www.metatex.org (Cron Daemon)
Date: Sun,  7 Dec 2008 16:24:44 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081207152444.C8E77788001@www.metatex.org>

------------------------------------------------------------------------
r1628 | oneiros | 2008-12-07 15:29:09 +0100 (Sun, 07 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/ttfspecial.c

init some variables

------------------------------------------------------------------------
r1629 | oneiros | 2008-12-07 15:46:28 +0100 (Sun, 07 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/tottf.c

init some more variables

------------------------------------------------------------------------

From texworld at laposte.net  Sun Dec  7 17:49:21 2008
From: texworld at laposte.net (TeXWorld)
Date: Sun, 07 Dec 2008 17:49:21 +0100
Subject: [Dev-luatex] Modify PDF file attributes
Message-ID: <493BFE91.5070507@laposte.net>

Hello,

I use the \pdfinfo primitive to manage meta datas in pdf files when I 
use pdflatex.

However, I'd like to manage :

-printing option : authorized or not

-pages extracting : authorized or not

-protection...

How can I do this ?

I heard that it was possible to do this with old versions of pdftex but 
these kinds of features were removed from it because it
didn't work very well.

I would like to know if these features will appear again and, why not, 
in LuaTeX ?



Thanks a lot.

From pragma at wxs.nl  Sun Dec  7 18:52:01 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Sun, 07 Dec 2008 18:52:01 +0100
Subject: [Dev-luatex] Modify PDF file attributes
In-Reply-To: <493BFE91.5070507@laposte.net>
References: <493BFE91.5070507@laposte.net>
Message-ID: <493C0D41.2050107@wxs.nl>

TeXWorld wrote:
> Hello,
> 
> I use the \pdfinfo primitive to manage meta datas in pdf files when I 
> use pdflatex.
> 
> However, I'd like to manage :
> 
> -printing option : authorized or not
> 
> -pages extracting : authorized or not
> 
> -protection...
> 
> How can I do this ?
> 
> I heard that it was possible to do this with old versions of pdftex but 
> these kinds of features were removed from it because it
> didn't work very well.
> 
> I would like to know if these features will appear again and, why not, 
> in LuaTeX ?

optimizations are best done after the document is created and not on the 
fly (ghostscript can do it)

the code was removed because it was too much interwoven an 
unmaintainable; also, such features have to be under complete user 
control if only because other features (\pdfobj etc) might demand such 
control; when the luatex backend code is redone (2009/2010)we might 
provide hooks for users (macro packages) to implement such features

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From khaledhosny at eglug.org  Sun Dec  7 22:14:18 2008
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sun, 7 Dec 2008 23:14:18 +0200
Subject: [Dev-luatex] Differences between PDF and DVI
Message-ID: <20081207211418.GA4293@khaled-laptop>

When compiling the attached file with lualatex, the dvi output is OK,
but with pdflualatex the page is shifted to the right. 
Any ideas?

Regards,

-- 
 Khaled Hosny
 Arabic localizer and member of Arabeyes.org team
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.tex
Type: text/x-tex
Size: 542 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081207/cf50f079/attachment.bin 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
Url : http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081207/cf50f079/attachment-0001.bin 

From khaledhosny at eglug.org  Sun Dec  7 22:16:26 2008
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sun, 7 Dec 2008 23:16:26 +0200
Subject: [Dev-luatex] Differences between PDF and DVI
In-Reply-To: <20081207211418.GA4293@khaled-laptop>
References: <20081207211418.GA4293@khaled-laptop>
Message-ID: <20081207211626.GB4293@khaled-laptop>

Forgot to say that I'm using luatex 0.30.1 (the debian package)

On Sun, Dec 07, 2008 at 11:14:18PM +0200, Khaled Hosny wrote:
> When compiling the attached file with lualatex, the dvi output is OK,
> but with pdflualatex the page is shifted to the right. 
> Any ideas?
> 
> Regards,
> 
> -- 
>  Khaled Hosny
>  Arabic localizer and member of Arabeyes.org team



-- 
 Khaled Hosny
 Arabic localizer and member of Arabeyes.org team
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
Url : http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081207/125f79c6/attachment.bin 

From texworld at laposte.net  Sun Dec  7 20:27:32 2008
From: texworld at laposte.net (TeXWorld)
Date: Sun, 07 Dec 2008 20:27:32 +0100
Subject: [Dev-luatex] Modify PDF file attributes
In-Reply-To: <493C0D41.2050107@wxs.nl>
References: <493BFE91.5070507@laposte.net> <493C0D41.2050107@wxs.nl>
Message-ID: <493C23A4.6070201@laposte.net>

Hans Hagen a ?crit :
>
> TeXWorld wrote:
>> Hello,
>>
>> I use the \pdfinfo primitive to manage meta datas in pdf files when I 
>> use pdflatex.
>>
>> However, I'd like to manage :
>>
>> -printing option : authorized or not
>>
>> -pages extracting : authorized or not
>>
>> -protection...
>>
>> How can I do this ?
>>
>> I heard that it was possible to do this with old versions of pdftex 
>> but these kinds of features were removed from it because it
>> didn't work very well.
>>
>> I would like to know if these features will appear again and, why 
>> not, in LuaTeX ?
>
> optimizations are best done after the document is created and not on 
> the fly (ghostscript can do it)
>
> the code was removed because it was too much interwoven an 
> unmaintainable; also, such features have to be under complete user 
> control if only because other features (\pdfobj etc) might demand such 
> control; when the luatex backend code is redone (2009/2010)we might 
> provide hooks for users (macro packages) to implement such features
>
> Hans
>
Yes it would be cool to allow packages like hyperref for example (or 
others) to set printing options ...

Thank you for answering fast.



Jack

From pragma at wxs.nl  Mon Dec  8 08:22:51 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 08 Dec 2008 08:22:51 +0100
Subject: [Dev-luatex] Differences between PDF and DVI
In-Reply-To: <20081207211626.GB4293@khaled-laptop>
References: <20081207211418.GA4293@khaled-laptop>
	<20081207211626.GB4293@khaled-laptop>
Message-ID: <493CCB4B.8010101@wxs.nl>

Khaled Hosny wrote:
> Forgot to say that I'm using luatex 0.30.1 (the debian package)
> 
> On Sun, Dec 07, 2008 at 11:14:18PM +0200, Khaled Hosny wrote:
>> When compiling the attached file with lualatex, the dvi output is OK,
>> but with pdflualatex the page is shifted to the right. 
>> Any ideas?

if you use plain tex (or so) then you need to set the pdf page offsets 
(tex by design has some 1 in offsets and backends need to compensate that)

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From taco at elvenkind.com  Mon Dec  8 09:53:56 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 08 Dec 2008 09:53:56 +0100
Subject: [Dev-luatex] Luatex beta 0.31.0
In-Reply-To: <68bfdc900812062255g247c3fe1y193059a71d6741c5@mail.gmail.com>
References: <4939550D.6000007@elvenkind.com>
	<68bfdc900812062255g247c3fe1y193059a71d6741c5@mail.gmail.com>
Message-ID: <493CE0A4.2080404@elvenkind.com>


Him

I responded to Yue Wang by email already, but maybe someone else has an
idea.

Yue Wang wrote:
> ../../../../src/libs/luafontforge/fontforge/configure: 24004: Syntax
> error: Bad fd number

That line has a "fi" only, which makes absolutely no sense whatsoever.
Maybe the script is too complex? I am baffled.

The surrounding lines are:

23999-        gww_haspango="done"
24000-    break
24001-      fi
24002-    done
24003-  fi
24004:fi
24005-if test "$gww_haspango" = "yes" ; then
24006- CFLAGS="$CFLAGS `pkg-config --cflags pangoxft`"
24007:fi
24008-if test "$gww_haspango" = "yes" -a "$gww_hascairo" = "yes" ; then
24009-  if pkg-config --libs pangocairo >& /dev/null ; then

Best wishes,
Taco

From olli at sopos.org  Mon Dec  8 11:09:21 2008
From: olli at sopos.org (Oliver Heins)
Date: Mon, 8 Dec 2008 11:09:21 +0100 (CET)
Subject: [Dev-luatex] hook for inserts
Message-ID: <4308.olli@sopos.org.1228730961.squirrel@mail.cryptix.de>

Hello,

I want to take a look at inserts to decide whether they should appear on
the current page or not, but I don't find the appropriate callback.

TIA,
 olli


From taco at elvenkind.com  Mon Dec  8 11:25:41 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 08 Dec 2008 11:25:41 +0100
Subject: [Dev-luatex] hook for inserts
In-Reply-To: <4308.olli@sopos.org.1228730961.squirrel@mail.cryptix.de>
References: <4308.olli@sopos.org.1228730961.squirrel@mail.cryptix.de>
Message-ID: <493CF625.2080705@elvenkind.com>



Oliver Heins wrote:
> Hello,
> 
> I want to take a look at inserts to decide whether they should appear on
> the current page or not, but I don't find the appropriate callback.

You can try to use the 'buildpage_filter' callback and the
tex.lists node list pointers. But be warned, this part of luatex
is not fully developed yet: if you remove an item from the
tex.lists.contrib_head pointer you may end up crashing luatex
(this is because luatex has already decide what node it will use
to break the page before calling the buildpage_filter)

Best wishes,
Taco

From root at www.metatex.org  Mon Dec  8 12:25:35 2008
From: root at www.metatex.org (Cron Daemon)
Date: Mon,  8 Dec 2008 12:25:35 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081208112535.65690788001@www.metatex.org>

------------------------------------------------------------------------
r1630 | taco | 2008-12-08 09:55:28 +0100 (Mon, 08 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/lua51/Makefile
   M /branches/math/src/libs/luafontforge/Makefile
   M /branches/math/src/libs/luafontforge/fontforge/inc/config.h.in
   M /branches/math/src/libs/luasocket/src/Makefile
   M /branches/math/src/texk/web2c/configure
   M /branches/math/src/texk/web2c/configure.in
   M /branches/math/src/texk/web2c/luatexdir/Makefile.in
   M /branches/math/src/texk/web2c/luatexdir/image/epdf.h
   M /branches/math/src/texk/web2c/luatexdir/luatex.mk

build patches from Vladimir

------------------------------------------------------------------------
r1631 | taco | 2008-12-08 10:29:23 +0100 (Mon, 08 Dec 2008) | 3 lines
Changed paths:
   M /branches/math/build.sh.cross
   M /branches/math/src/texk/web2c/configure
   M /branches/math/src/texk/web2c/configure.in

* make SOCKETHACK automatic for win32 crosscompilation, based on Vladimir's idea
* attempt to fix MacOSX link problem

------------------------------------------------------------------------

From taco at elvenkind.com  Mon Dec  8 13:01:15 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 08 Dec 2008 13:01:15 +0100
Subject: [Dev-luatex] Luatex beta 0.31.0
In-Reply-To: <68bfdc900812080359xd1cd668q484e97e7d5bfa739@mail.gmail.com>
References: <4939550D.6000007@elvenkind.com>	
	<68bfdc900812062255g247c3fe1y193059a71d6741c5@mail.gmail.com>	
	<493B9E7C.10207@elvenkind.com>	
	<68bfdc900812071059w27978029o92f491eabb0667f8@mail.gmail.com>	
	<493CF275.1040306@elvenkind.com>
	<68bfdc900812080359xd1cd668q484e97e7d5bfa739@mail.gmail.com>
Message-ID: <493D0C8B.2030707@elvenkind.com>

Yue Wang wrote:
> Hi, Taco:
> 
> Your patch works great!
> Now LuaTeX compiles fine on my system.

Surprised, but happy. :-)



From yuleopen at gmail.com  Mon Dec  8 12:59:49 2008
From: yuleopen at gmail.com (Yue Wang)
Date: Mon, 8 Dec 2008 11:59:49 +0000
Subject: [Dev-luatex] Luatex beta 0.31.0
In-Reply-To: <493CF275.1040306@elvenkind.com>
References: <4939550D.6000007@elvenkind.com>
	<68bfdc900812062255g247c3fe1y193059a71d6741c5@mail.gmail.com>
	<493B9E7C.10207@elvenkind.com>
	<68bfdc900812071059w27978029o92f491eabb0667f8@mail.gmail.com>
	<493CF275.1040306@elvenkind.com>
Message-ID: <68bfdc900812080359xd1cd668q484e97e7d5bfa739@mail.gmail.com>

Hi, Taco:



Your patch works great!
Now LuaTeX compiles fine on my system.


Yue Wang


On Mon, Dec 8, 2008 at 10:09 AM, Taco Hoekwater <taco at elvenkind.com> wrote:
> Hi,
>
> Yue Wang wrote:
>> Hi, Taco:
>>
>> I have already mailed you that file (too big for attachment).
>> Thanks.
>
> Can you try with the attached replacement of fontforge's configure
> script? I've tried to remove the lines around the offending one.
>
> Good luck,
> Taco
>
>
>

From yuleopen at gmail.com  Mon Dec  8 13:18:17 2008
From: yuleopen at gmail.com (Yue Wang)
Date: Mon, 8 Dec 2008 12:18:17 +0000
Subject: [Dev-luatex] Luatex beta 0.31.0
In-Reply-To: <493D0C8B.2030707@elvenkind.com>
References: <4939550D.6000007@elvenkind.com>
	<68bfdc900812062255g247c3fe1y193059a71d6741c5@mail.gmail.com>
	<493B9E7C.10207@elvenkind.com>
	<68bfdc900812071059w27978029o92f491eabb0667f8@mail.gmail.com>
	<493CF275.1040306@elvenkind.com>
	<68bfdc900812080359xd1cd668q484e97e7d5bfa739@mail.gmail.com>
	<493D0C8B.2030707@elvenkind.com>
Message-ID: <68bfdc900812080418o12fd62c2x1a10556961a3219d@mail.gmail.com>

Hi, Taco:

On Mon, Dec 8, 2008 at 12:01 PM, Taco Hoekwater <taco at elvenkind.com> wrote:
> Yue Wang wrote:
>>
>> Hi, Taco:
>>
>> Your patch works great!
>> Now LuaTeX compiles fine on my system.
>
> Surprised, but happy. :-)
>

Thanks for solving this problem. Congratulations:)
How did you fix it? just use a newer version of autotools?

well, the executable grows much larger now (6.8M stripped vs. 3.8 stripped)
There is only 1.3M to catch up XeTeX's size ^_^
(well, luigi said : "it's new. it's powerful. it's luatex.", and I
think we can also add "it's big" before "it's new")

I will mail it to Mojca now to commit it to the minimals repository.

Yue Wang

From taco at elvenkind.com  Mon Dec  8 14:11:18 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 08 Dec 2008 14:11:18 +0100
Subject: [Dev-luatex] Luatex beta 0.31.0
In-Reply-To: <68bfdc900812080418o12fd62c2x1a10556961a3219d@mail.gmail.com>
References: <4939550D.6000007@elvenkind.com>	
	<68bfdc900812062255g247c3fe1y193059a71d6741c5@mail.gmail.com>	
	<493B9E7C.10207@elvenkind.com>	
	<68bfdc900812071059w27978029o92f491eabb0667f8@mail.gmail.com>	
	<493CF275.1040306@elvenkind.com>	
	<68bfdc900812080359xd1cd668q484e97e7d5bfa739@mail.gmail.com>	
	<493D0C8B.2030707@elvenkind.com>
	<68bfdc900812080418o12fd62c2x1a10556961a3219d@mail.gmail.com>
Message-ID: <493D1CF6.2000401@elvenkind.com>



Yue Wang wrote:
> Hi, Taco:
> 
> On Mon, Dec 8, 2008 at 12:01 PM, Taco Hoekwater <taco at elvenkind.com> wrote:
>> Yue Wang wrote:
>>> Hi, Taco:
>>>
>>> Your patch works great!
>>> Now LuaTeX compiles fine on my system.
>> Surprised, but happy. :-)
>>
> 
> Thanks for solving this problem. Congratulations:)
> How did you fix it? just use a newer version of autotools?

I removed a few checks in configure.in that are not needed for use in
luatex, and then I had to regenerate configure with my newer autotools
installation.  I do not understand which of those two actions actually
fixed it.

> well, the executable grows much larger now (6.8M stripped vs. 3.8 stripped)
> There is only 1.3M to catch up XeTeX's size ^_^
> (well, luigi said : "it's new. it's powerful. it's luatex.", and I
> think we can also add "it's big" before "it's new")

Some two megabytes of the executable is static data from fontforge's
Unicode library. In the previous version, I was able to cut that down
to a quarter of its size by removing unnecessary data and dropping
some of the CJK legacy encodings. Perhaps I will do that again when
we reach the beta-release stage for 0.40. But perhaps not, because
it makes importing new fontforge releases harder, and we could use
a proper embedded Unicode handling library anyway.

Best wishes,
Taco


From hartmut_henkel at gmx.de  Mon Dec  8 14:41:40 2008
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Mon, 08 Dec 2008 14:41:40 +0100
Subject: [Dev-luatex] Differences between PDF and DVI
In-Reply-To: <493CCB4B.8010101@wxs.nl>
References: <20081207211418.GA4293@khaled-laptop>
	<20081207211626.GB4293@khaled-laptop> <493CCB4B.8010101@wxs.nl>
Message-ID: <20081208134140.37070@gmx.net>


-------- Original-Nachricht --------
> Datum: Mon, 08 Dec 2008 08:22:51 +0100
> Von: Hans Hagen <pragma at wxs.nl>
> An: Khaled Hosny <khaledhosny at eglug.org>
> CC: luatex development list <dev-luatex at ntg.nl>
> Betreff: Re: [Dev-luatex] Differences between PDF and DVI

> Khaled Hosny wrote:
> > Forgot to say that I'm using luatex 0.30.1 (the debian package)
> > 
> > On Sun, Dec 07, 2008 at 11:14:18PM +0200, Khaled Hosny wrote:
> >> When compiling the attached file with lualatex, the dvi output is OK,
> >> but with pdflualatex the page is shifted to the right. 
> >> Any ideas?
> 
> if you use plain tex (or so) then you need to set the pdf page offsets 
> (tex by design has some 1 in offsets and backends need to compensate that)

it's some error (or at least inconsistency between DVI and PDF output)
in handling \pagerightoffset. The margin in RL mode should not be affected
by \hoffset, but it is, differently for DVI and PDF. Needs digging into etex...

Regards, Hartmut

Regards, Hartmut 

-- 
Psssst! Schon vom neuen GMX MultiMessenger geh?rt? Der kann`s mit allen: http://www.gmx.net/de/go/multimessenger

From olli at sopos.org  Mon Dec  8 15:52:14 2008
From: olli at sopos.org (Oliver Heins)
Date: Mon, 8 Dec 2008 15:52:14 +0100 (CET)
Subject: [Dev-luatex] hook for inserts
In-Reply-To: <493CF625.2080705@elvenkind.com>
References: <4308.olli@sopos.org.1228730961.squirrel@mail.cryptix.de>
	<493CF625.2080705@elvenkind.com>
Message-ID: <3812.olli@sopos.org.1228747934.squirrel@mail.cryptix.de>

Hi Taco,

[I accidentially sent you this mail per pm first; here's a copy to the list.]

thanks for your quick answer.

Taco Hoekwater wrote:
>
> Oliver Heins wrote:
>>
>> I want to take a look at inserts to decide whether they should appear on
>> the current page or not, but I don't find the appropriate callback.
>
> You can try to use the 'buildpage_filter' callback and the
> tex.lists node list pointers.

It looks that I can't find all the of the inserts.  In the attached sample
file, I have only access to the first two of five.

Another question: Is there any iterator for a circular list?
node.traverse ends up running in a circle (I guess that's why it's called
a circular list :-).  To prevent this, i indexed a table with the value of
the next-field and check if this has already been seen.

> But be warned, this part of luatex
> is not fully developed yet: if you remove an item from the
> tex.lists.contrib_head pointer you may end up crashing luatex
> (this is because luatex has already decide what node it will use
> to break the page before calling the buildpage_filter)

Uuuh, that sounds dangerous.  Perhaps I am on the wrong track.

Best regards,
 olli
-------------- next part --------------
A non-text attachment was scrubbed...
Name: testlua2.tex
Type: application/x-tex
Size: 2934 bytes
Desc: not available
Url : http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081208/667e9815/attachment.tex 

From oliver.buerschaper at mpq.mpg.de  Mon Dec  8 15:51:13 2008
From: oliver.buerschaper at mpq.mpg.de (Oliver Buerschaper)
Date: Mon, 8 Dec 2008 15:51:13 +0100
Subject: [Dev-luatex] [dev-context] Luatex beta 0.31.0
In-Reply-To: <4939550D.6000007@elvenkind.com>
References: <4939550D.6000007@elvenkind.com>
Message-ID: <36D65ACD-09AF-488B-A8EB-A76613160869@mpq.mpg.de>

Hi Taco,

may I ask a completely uninformed question? I'm wondering whether it's  
also possible to access the glyphs' path data from within LuaTeX (and/ 
or MetaPost) ...

Best,
Oliver



> Hi all,
>
> I have just uploaded the archives for luatex 0.31.0.
>
> This is just an intermediate release so that some testing can be
> done on the updated fontforge embedding.
>
> * There are new fields being generated by fontforge.to_table(),
>  and one or two old ones have been removed. These fields are /
>  will be documented in the manual, but very briefly:
>
>  - MATH table and associated information are now exported
>    (the main reason for the new fontforge code)
>  - Baseline data is now exported
>    (perhaps usable in lua code)
>  - Multiple Master / Glyph variation data is now exported
>    (but useless, for now)
>  - Mac Feature (AAT) information is now exported
>    (perhaps usable in lua code)
>  - If (lookup) names were saved via the PfED table, these
>    will the exported instead of the default, generated names.
>    (as requested by Yannis)
>
> * dfont is now treated as an archive format just like ttc
>  when it comes to fontforge.info(). NOTE: that does not mean you
>  can actually use them, because the  backend doesn't know
>  yet how to embed dfont fonts in the PDF, that is on the
>  TODO list for the next big beta (0.40.0).
>
> * The executables are a lot larger than before. That is because
>  much more of fontforge is included than before. Likely this
>  will stay this way, because this makes upgrading the ff code
>  much easier, and it means that luatex/FF potentially
>  understands more font formats (after upgrading the backend,
>  of course)
>
> The archives (just binaries this time) can be downloaded from
> supelec as usual:
>
>       http://foundry.supelec.fr/projects/luatex/
>
>
> If you need the sources, please check out via anonymous svn:
>
> svn co svn://scm.foundry.supelec.fr/svn/luatex/tags/beta-0.31.0
>
>
> Bugs and feature requests can be added to the issue tracker at
>
>       http://tracker.luatex.org
>
> Have fun,
> Taco

From root at www.metatex.org  Mon Dec  8 16:24:44 2008
From: root at www.metatex.org (Cron Daemon)
Date: Mon,  8 Dec 2008 16:24:44 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081208152444.450A9788001@www.metatex.org>

------------------------------------------------------------------------
r1632 | taco | 2008-12-08 13:39:09 +0100 (Mon, 08 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/configure
   M /branches/math/src/libs/luafontforge/fontforge/configure.in

fix a weird compilation problem on FreeBSD

------------------------------------------------------------------------
r1633 | taco | 2008-12-08 14:14:25 +0100 (Mon, 08 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/inc/config.h.in

we don't need scripting (saved 300k)

------------------------------------------------------------------------
r1634 | taco | 2008-12-08 15:26:25 +0100 (Mon, 08 Dec 2008) | 3 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/src/luafflib.c

there is a difference in the internal format of the lookup list between the old and the new ff:
Now the subtables are part of their parent, instead of listed separately.

------------------------------------------------------------------------
r1635 | taco | 2008-12-08 15:31:52 +0100 (Mon, 08 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/src/luafflib.c

the OT version of 'just' is JSTF, not JUST. Also save LINO

------------------------------------------------------------------------

From khaledhosny at eglug.org  Mon Dec  8 16:31:32 2008
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Mon, 8 Dec 2008 17:31:32 +0200
Subject: [Dev-luatex] Differences between PDF and DVI
In-Reply-To: <493CCB4B.8010101@wxs.nl>
References: <20081207211418.GA4293@khaled-laptop>
	<20081207211626.GB4293@khaled-laptop> <493CCB4B.8010101@wxs.nl>
Message-ID: <20081208153045.GA7251@khaled-laptop>

On Mon, Dec 08, 2008 at 08:22:51AM +0100, Hans Hagen wrote:
> Khaled Hosny wrote:
>> Forgot to say that I'm using luatex 0.30.1 (the debian package)
>>
>> On Sun, Dec 07, 2008 at 11:14:18PM +0200, Khaled Hosny wrote:
>>> When compiling the attached file with lualatex, the dvi output is OK,
>>> but with pdflualatex the page is shifted to the right. Any ideas?
>
> if you use plain tex (or so) then you need to set the pdf page offsets  
> (tex by design has some 1 in offsets and backends need to compensate 
> that)

I can't reproduce this with plain tex, only with latex in RTL mode, LTR
mode is OK.

Regards,

-- 
 Khaled Hosny
 Arabic localizer and member of Arabeyes.org team
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
Url : http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081208/49c96602/attachment.bin 

From taco at elvenkind.com  Mon Dec  8 16:33:23 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 08 Dec 2008 16:33:23 +0100
Subject: [Dev-luatex] hook for inserts
In-Reply-To: <3812.olli@sopos.org.1228747934.squirrel@mail.cryptix.de>
References: <4308.olli@sopos.org.1228730961.squirrel@mail.cryptix.de>	<493CF625.2080705@elvenkind.com>
	<3812.olli@sopos.org.1228747934.squirrel@mail.cryptix.de>
Message-ID: <493D3E43.80906@elvenkind.com>



Oliver Heins wrote:
>> But be warned, this part of luatex
>> is not fully developed yet: if you remove an item from the
>> tex.lists.contrib_head pointer you may end up crashing luatex
>> (this is because luatex has already decide what node it will use
>> to break the page before calling the buildpage_filter)
> 
> Uuuh, that sounds dangerous.  Perhaps I am on the wrong track.

Sorry, this bit of the code is just a mess right now, and
I have no time to look into it immediately. Looks like you
will have to wait until next year.

Best wishes,
Taco

From taco at elvenkind.com  Mon Dec  8 16:35:40 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 08 Dec 2008 16:35:40 +0100
Subject: [Dev-luatex] Differences between PDF and DVI
In-Reply-To: <20081208153045.GA7251@khaled-laptop>
References: <20081207211418.GA4293@khaled-laptop>	<20081207211626.GB4293@khaled-laptop>
	<493CCB4B.8010101@wxs.nl> <20081208153045.GA7251@khaled-laptop>
Message-ID: <493D3ECC.1030906@elvenkind.com>



Khaled Hosny wrote:
> On Mon, Dec 08, 2008 at 08:22:51AM +0100, Hans Hagen wrote:
>> Khaled Hosny wrote:
>>> Forgot to say that I'm using luatex 0.30.1 (the debian package)
>>>
>>> On Sun, Dec 07, 2008 at 11:14:18PM +0200, Khaled Hosny wrote:
>>>> When compiling the attached file with lualatex, the dvi output is OK,
>>>> but with pdflualatex the page is shifted to the right. Any ideas?
>> if you use plain tex (or so) then you need to set the pdf page offsets  
>> (tex by design has some 1 in offsets and backends need to compensate 
>> that)
> 
> I can't reproduce this with plain tex, only with latex in RTL mode, LTR
> mode is OK.

If it is just a shift of (I assume) an inch or so and it only happens
in latex, than I cannot help. That sounds suspiciously like a macro
error and if not, I will need a much more low-level test file than
a generic "pdflualatex" document (I don't use latex myself).

Best wishes,
Taco


From taco at elvenkind.com  Mon Dec  8 16:40:10 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 08 Dec 2008 16:40:10 +0100
Subject: [Dev-luatex] [dev-context] Luatex beta 0.31.0
In-Reply-To: <36D65ACD-09AF-488B-A8EB-A76613160869@mpq.mpg.de>
References: <4939550D.6000007@elvenkind.com>
	<36D65ACD-09AF-488B-A8EB-A76613160869@mpq.mpg.de>
Message-ID: <493D3FDA.3020701@elvenkind.com>



Oliver Buerschaper wrote:
> Hi Taco,
> 
> may I ask a completely uninformed question? I'm wondering whether it's
> also possible to access the glyphs' path data from within LuaTeX (and/or
> MetaPost) ...

Not now. But that would be cool to have, so maybe someday.

Best wishes,
Taco

From hartmut_henkel at gmx.de  Mon Dec  8 16:45:38 2008
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Mon, 08 Dec 2008 16:45:38 +0100
Subject: [Dev-luatex] Differences between PDF and DVI
In-Reply-To: <493D3ECC.1030906@elvenkind.com>
References: <20081207211418.GA4293@khaled-laptop>
	<20081207211626.GB4293@khaled-laptop>	<493CCB4B.8010101@wxs.nl>
	<20081208153045.GA7251@khaled-laptop> <493D3ECC.1030906@elvenkind.com>
Message-ID: <20081208154538.45870@gmx.net>

> > I can't reproduce this with plain tex, only with latex in RTL mode, LTR
> > mode is OK.
> 
> If it is just a shift of (I assume) an inch or so and it only happens
> in latex, than I cannot help. That sounds suspiciously like a macro
> error and if not, I will need a much more low-level test file than
> a generic "pdflualatex" document (I don't use latex myself).

it can be reproduced in plain pdfluatex/luatex, i'll make test files.

Regards, Hartmut
-- 
Psssst! Schon vom neuen GMX MultiMessenger geh?rt? Der kann`s mit allen: http://www.gmx.net/de/go/multimessenger

From hartmut_henkel at gmx.de  Tue Dec  9 00:12:09 2008
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Tue, 9 Dec 2008 00:12:09 +0100 (CET)
Subject: [Dev-luatex] Differences between PDF and DVI
In-Reply-To: <493D3ECC.1030906@elvenkind.com>
References: <20081207211418.GA4293@khaled-laptop>
	<20081207211626.GB4293@khaled-laptop> <493CCB4B.8010101@wxs.nl>
	<20081208153045.GA7251@khaled-laptop>
	<493D3ECC.1030906@elvenkind.com>
Message-ID: <alpine.DEB.1.00.0812090006400.13088@hahepc1.hahe>

On Mon, 8 Dec 2008, Taco Hoekwater wrote:

> If it is just a shift of (I assume) an inch or so and it only happens
> in latex, than I cannot help. That sounds suspiciously like a macro
> error and if not, I will need a much more low-level test file than a
> generic "pdflualatex" document (I don't use latex myself).

here is some test file for luatex & pdfluatex:


\pdfpagewidth=210mm \pdfpageheight=297mm
\hsize=\pdfpagewidth \advance\hsize by -2in
\vsize=\pdfpageheight \advance\vsize by -2in
\hoffset=0in \voffset=0in
\pagerightoffset=1in

\pagedir TRT\bodydir TRT\pardir TRT\textdir TRT

\hrule width\hsize height 1mm

\beginsection Hello world

Hi there.
\bye


When you change \hoffset, the whole RL text moves in the DVI case, but
not in the PDF case. Also there seems to be some inconsistent magic if
\pagerightoffset=0pt. I have no idea how it should look like.

Regards, Hartmut

From vvv at vsu.ru  Tue Dec  9 05:58:00 2008
From: vvv at vsu.ru (Vladimir Volovich)
Date: Mon, 08 Dec 2008 20:58:00 -0800
Subject: [Dev-luatex] Luatex beta 0.31.0
In-Reply-To: <493BA092.7000700@elvenkind.com> (Taco Hoekwater's message of
	"Sun\, 07 Dec 2008 11\:08\:18 +0100")
References: <4939550D.6000007@elvenkind.com>
	<6faad9f00812060659k1c3f4859pcfb20a64e57139b4@mail.gmail.com>
	<493BA092.7000700@elvenkind.com>
Message-ID: <87myf66j3b.fsf@external.prs-office.com>

"TH" == Taco Hoekwater writes:

 >> /usr/libexec/gcc/i686-apple-darwin8/4.0.1/ld: Undefined
 >> symbols: _libintl_gettext

 TH> This one is simple to fix, I forgot to suppress libintl (gettext)
 TH> in fontforge's configuration. There are two lines containing

 TH>     #undef HAVE_LIBINTL_H

 TH> inside src/libs/luafontforge/fontforge/inc/config.h.in (one is
 TH> enough really, the other one is a fluke)

 TH> If you put those in C comment tags (like the _HAS_LONGLONG is
 TH> already) then this error will go away, I am sure.

maybe it fixed apple-darwin, but it broke sparc-solaris. :(

here is why:

* on solaris, there IS /usr/include/libintl.h, so HAVE_LIBINTL_H
  would've been normally defined. but hardwiring "#undef HAVE_LIBINTL_H"
  fools the libs/luafontforge/fontforge/inc/intl.h to believe that there
  is no libintl.h in the system, and it executes the branch
  "#if !defined( HAVE_LIBINTL_H )" which has:

# define bindtextdomain(domain,dir)
# define bind_textdomain_codeset(domain,enc)
# define textdomain(domain)
# define dgettext(domain,str)	(str)

* then, many fontforge headers have #include <locale.h> which is fine,
  but on solaris, /usr/include/locale.h contains #include <libintl.h>
  and so /usr/include/libintl.h gets included, but, because of the
  above #define's made in libs/luafontforge/fontforge/inc/intl.h, it
  causes havoc, because /usr/include/libintl.h has

extern char *dgettext(const char *, const char *);
extern char *textdomain(const char *);
extern char *bindtextdomain(const char *, const char *);

which, because of those #define's, get pre-processed to

extern char * ( const char * );
extern char *;
extern char *;

* comparing libs/luafontforge/fontforge/inc/intl.h in texlive
  repository and in the "math" branch of luatex, i see that texlive
  has "#if ! defined(__sun__) && ! defined(__sun)" ... "#endif"
  around the above #define's (see the attached patch)

  while this does not look like a right fix (the problem seems to be
  caused by fooling intl.h by "#undef HAVE_LIBINTL_H" above), it seems
  to fix the build process.

  this was somehow lost during recent upgrade of fontforge in luatex.

  is it possible to fix the problem upstream (in fontforge) so it
  won't re-appear again after another update of fontforge in luatex?

Best,
v.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: luatex-intl.diff
Type: text/x-diff
Size: 504 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081208/489a29af/attachment.bin>

From taco at elvenkind.com  Tue Dec  9 08:33:41 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 09 Dec 2008 08:33:41 +0100
Subject: [Dev-luatex] Luatex beta 0.31.0
In-Reply-To: <87myf66j3b.fsf@external.prs-office.com>
References: <4939550D.6000007@elvenkind.com>	<6faad9f00812060659k1c3f4859pcfb20a64e57139b4@mail.gmail.com>	<493BA092.7000700@elvenkind.com>
	<87myf66j3b.fsf@external.prs-office.com>
Message-ID: <493E1F55.9070205@elvenkind.com>

Vladimir Volovich wrote:
> 
>   while this does not look like a right fix (the problem seems to be
>   caused by fooling intl.h by "#undef HAVE_LIBINTL_H" above), it seems
>   to fix the build process.
> 
>   this was somehow lost during recent upgrade of fontforge in luatex.
> 
>   is it possible to fix the problem upstream (in fontforge) so it
>   won't re-appear again after another update of fontforge in luatex?

I've reinstated that fix (in trunk). I'll send a message to
fontforge-devel once everything seems to work.

Best wishes,
Taco





From taco at elvenkind.com  Tue Dec  9 10:26:43 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 09 Dec 2008 10:26:43 +0100
Subject: [Dev-luatex] Differences between PDF and DVI
In-Reply-To: <alpine.DEB.1.00.0812090006400.13088@hahepc1.hahe>
References: <20081207211418.GA4293@khaled-laptop>
	<20081207211626.GB4293@khaled-laptop> <493CCB4B.8010101@wxs.nl>
	<20081208153045.GA7251@khaled-laptop>
	<493D3ECC.1030906@elvenkind.com>
	<alpine.DEB.1.00.0812090006400.13088@hahepc1.hahe>
Message-ID: <493E39D3.3000601@elvenkind.com>


Hi,

Hartmut Henkel wrote:
> 
> 
> When you change \hoffset, the whole RL text moves in the DVI case, but
> not in the PDF case. 

In dvi mode there is a big difference between the actual dvi location
(dvi_h, moves r2l or l2r depending on text direction) and where tex
thinks the dvi location is (cur_h, always moves e2l). dvi output is
quite convoluted. In pdf mode, output is much more straightforward.

I think that it would be better to listen to \pagerightoffset in
both cases, but that is open for discussion.

> Also there seems to be some inconsistent magic if
> \pagerightoffset=0pt. 

In that case, it defaults to 1inch (pdf) or 2inch (dvi). Yes, that is
a mess (see below). I can easily make the pdf do what the dvi does, but
which behaviour is right?

> I have no idea how it should look like.

Me neither. And internally there are some more variables involved:

  \pdfhorigin
  \pdfvorigin
  \pdfbottomoffset

Ok, \pdfbottomoffset can probably be ignored because luatex at the
moment doesn't do top-to-bottom scripts.  But what about those origin
things?


Initex defaults:

\pdfpagewidth 0pt
\pdfpageheight 0pt
\pdfbottomoffset 0pt
\pdfrightoffset 0pt
\hoffset 0pt
\voffset 0pt
\pdfhorigin 1in
\pdfvorigin 1in

Here is the current logic (in DVI):

cur_page_width    = (\pdfpagewidth > 0
                      ? \pdfpagewidth
                      : \wd255 +2*(\hoffset + 1in))
cur_right_offset  = (\pdfrightoffset != 0
                      ? \pdfrightoffset
                      : 2in )
cur_h             = \hoffset
<dvi_h_loc>       = (\pagedir TLT
                     ? cur_h
                     : cur_page_width-cur_right_offset - cur_h )


And in PDF, it looks like this:

cur_page_width    = (\pdfpagewidth > 0
                      ? \pdfpagewidth
                      : \wd255 +2*(\hoffset + \pdfhorigin))
cur_right_offset  = (\pdfrightoffset != 0
                      ? \pdfrightoffset
                      : 1in )
cur_h             = (\pagedir TLT
                      ? \hoffset + \pdfhorigin;
                      : cur_page_width-cur_right_offset )
<pdf_h_loc>       =  cur_h


Best wishes,
Taco


From taco at elvenkind.com  Tue Dec  9 11:43:23 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 09 Dec 2008 11:43:23 +0100
Subject: [Dev-luatex] Luatex beta 0.31.1
In-Reply-To: <4939550D.6000007@elvenkind.com>
References: <4939550D.6000007@elvenkind.com>
Message-ID: <493E4BCB.4000007@elvenkind.com>



Hi,

I have just uploaded luatex 0.31.1, hopefully fixing a bunch
of compilation errors on various platforms, but with no other
visible changes.


The archives (just binaries this time, hopefully there will be a
source package later) can be downloaded from supelec as usual:

        http://foundry.supelec.fr/projects/luatex/


If you need the sources, please check out via anonymous svn:

  svn co svn://scm.foundry.supelec.fr/svn/luatex/tags/beta-0.31.1


Bugs and feature requests can be added to the issue tracker at

       http://tracker.luatex.org

Have fun,
Taco


From root at www.metatex.org  Tue Dec  9 12:29:18 2008
From: root at www.metatex.org (Cron Daemon)
Date: Tue,  9 Dec 2008 12:29:18 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081209112918.E8DEE1E8C2A7@www.metatex.org>

------------------------------------------------------------------------
r1640 | taco | 2008-12-08 23:40:07 +0100 (Mon, 08 Dec 2008) | 3 lines
Changed paths:
   M /trunk/src/texk/web2c/configure
   M /trunk/src/texk/web2c/configure.in

dont use LIBS for the darwin system librarires problem as that didnt work.
Instead, piggyback on SOCKETHACK for now

------------------------------------------------------------------------
r1641 | taco | 2008-12-09 08:05:00 +0100 (Tue, 09 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/libs/luafontforge/fontforge/inc/intl.h

fix solaris issue with libintl.h

------------------------------------------------------------------------
r1642 | taco | 2008-12-09 10:56:53 +0100 (Tue, 09 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/luatex.web

bump the version once more

------------------------------------------------------------------------
r1643 | taco | 2008-12-09 10:58:24 +0100 (Tue, 09 Dec 2008) | 2 lines
Changed paths:
   A /tags/beta-0.31.1 (from /trunk:1642)

new beta tag

------------------------------------------------------------------------

From root at www.metatex.org  Tue Dec  9 16:24:59 2008
From: root at www.metatex.org (Cron Daemon)
Date: Tue,  9 Dec 2008 16:24:59 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081209152459.7BABA1E8C2A7@www.metatex.org>

------------------------------------------------------------------------
r1644 | taco | 2008-12-09 14:31:51 +0100 (Tue, 09 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/libs/luafontforge/fontforge/fontforge/macbinary.c
   M /trunk/src/texk/web2c/configure
   M /trunk/src/texk/web2c/configure.in

forget about carbon

------------------------------------------------------------------------
r1645 | taco | 2008-12-09 14:44:47 +0100 (Tue, 09 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/libs/luafontforge/fontforge/fontforge/Makefile.dynamic.in
   M /trunk/src/libs/luafontforge/fontforge/fontforge/Makefile.in
   M /trunk/src/libs/luafontforge/fontforge/fontforge/Makefile.static.in

include XCFLAGS in _CFLAGS for crosscompilation and other overrides

------------------------------------------------------------------------
r1646 | taco | 2008-12-09 15:05:50 +0100 (Tue, 09 Dec 2008) | 2 lines
Changed paths:
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/Makefile.dynamic.in
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/Makefile.in
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/Makefile.static.in
   M /branches/math/src/libs/luafontforge/fontforge/fontforge/macbinary.c
   M /branches/math/src/libs/luafontforge/fontforge/inc/intl.h
   M /branches/math/src/texk/web2c/configure
   M /branches/math/src/texk/web2c/configure.in
   M /branches/math/src/texk/web2c/luatexdir/luatex.web

merge trunk fixes 1640-6145

------------------------------------------------------------------------
r1647 | taco | 2008-12-09 15:58:42 +0100 (Tue, 09 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/libs/luafontforge/src/luafflib.c

revert to previous output format

------------------------------------------------------------------------

From taco at elvenkind.com  Wed Dec 10 10:49:29 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 10 Dec 2008 10:49:29 +0100
Subject: [Dev-luatex]  Luatex beta 0.31.2
In-Reply-To: <4939550D.6000007@elvenkind.com>
References: <4939550D.6000007@elvenkind.com>
Message-ID: <493F90A9.7090903@elvenkind.com>



Hi,

I have just uploaded luatex 0.31.2, in the ongoing attempt to
fix build troubles.

* I have now received succesful build reports from

  * linux on i386
  * mingw32 (that is built by me)
  * freebsd on i386
  * solaris on sparc
  * osx (intel & ppc)

  so it seems the source should be more or less ok now.

Besides fixing building issues, this release has

  * A small fix for a crash that could happen when using
    external OCPs.

  * A fix in the format of fontforge.to_table output.
    (In 0.31.1 <font>.lookups was near-empty; the lookups
    were accidentally output as part of the gpos table).

The archives (just binaries this time, hopefully there will be a
source package later) can be downloaded from supelec as usual:

        http://foundry.supelec.fr/projects/luatex/

If you need the sources, please check out via anonymous svn:

  svn co svn://scm.foundry.supelec.fr/svn/luatex/tags/beta-0.31.2

Bugs and feature requests can be added to the issue tracker at

       http://tracker.luatex.org

Have fun,
Taco


From root at www.metatex.org  Wed Dec 10 12:29:11 2008
From: root at www.metatex.org (Cron Daemon)
Date: Wed, 10 Dec 2008 12:29:11 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081210112912.0F530788001@www.metatex.org>

------------------------------------------------------------------------
r1648 | taco | 2008-12-10 09:39:27 +0100 (Wed, 10 Dec 2008) | 3 lines
Changed paths:
   D /trunk/src/libs/luafontforge/fontforge/Packaging
   D /trunk/src/libs/luafontforge/fontforge/plugins/ANALYZE_MAP.COM
   M /trunk/src/libs/luafontforge/fontforge/plugins/Makefile.in
   D /trunk/src/libs/luafontforge/fontforge/plugins/descrip.mms
   D /trunk/src/libs/luafontforge/fontforge/plugins/gb12345.c
   M /trunk/src/libs/luafontforge/fontforge/po/Makefile.in
   D /trunk/src/libs/luafontforge/fontforge/po/de.po
   D /trunk/src/libs/luafontforge/fontforge/po/el.po
   D /trunk/src/libs/luafontforge/fontforge/po/en_GB.po
   D /trunk/src/libs/luafontforge/fontforge/po/es.po
   D /trunk/src/libs/luafontforge/fontforge/po/fr.po
   D /trunk/src/libs/luafontforge/fontforge/po/it.po
   D /trunk/src/libs/luafontforge/fontforge/po/ja.po
   D /trunk/src/libs/luafontforge/fontforge/po/mackeys
   D /trunk/src/libs/luafontforge/fontforge/po/mal.po
   D /trunk/src/libs/luafontforge/fontforge/po/pl.po
   D /trunk/src/libs/luafontforge/fontforge/po/ru.po
   D /trunk/src/libs/luafontforge/fontforge/po/vi.po
   D /trunk/src/libs/luafontforge/fontforge/po/zh_CN.po
   D /trunk/src/libs/luafontforge/fontforge/po/zh_TW.po
   D /trunk/src/libs/luafontforge/fontforge/pycontrib
   D /trunk/src/libs/luafontforge/fontforge/pyhook

get rid of the fontforge source directories that luatex 
does not use at all

------------------------------------------------------------------------
r1649 | taco | 2008-12-10 09:45:52 +0100 (Wed, 10 Dec 2008) | 3 lines
Changed paths:
   D /trunk/src/libs/luafontforge/fontforge/gdraw/.libs
   D /trunk/src/libs/luafontforge/fontforge/gdraw/Makefile.dynamic.in
   M /trunk/src/libs/luafontforge/fontforge/gdraw/Makefile.in
   D /trunk/src/libs/luafontforge/fontforge/gdraw/Makefile.static.in
   D /trunk/src/libs/luafontforge/fontforge/gdraw/choosericons.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/colorP.h
   D /trunk/src/libs/luafontforge/fontforge/gdraw/ctlvalues.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/descrip.mms
   D /trunk/src/libs/luafontforge/fontforge/gdraw/drawboxborder.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/fontP.h
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gaskdlg.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gbuttons.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gchardlg.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gcolor.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gcontainer.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gdraw.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gdrawP.h
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gdrawable.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gdrawbuildchars.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gdrawerror.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gdrawgimage.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gdrawtxt.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gdrawtxtinit.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gdrawwacomdriver.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/genkeysym.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gfilechooser.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gfiledlg.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/ggadgetP.h
   D /trunk/src/libs/luafontforge/fontforge/gdraw/ggadgets.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/ggroupbox.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/ghvbox.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gimagebmpP.h
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gimageclut.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gimagecvt.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gimagepsdraw.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gimagewriteeps.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gimagexdraw.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gkeysym.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/glist.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gmatrixedit.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gmenu.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gprogress.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gpsdraw.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gpsdrawP.h
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gpstxtinit.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gradio.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gresource.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gresourceP.h
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gresourceimage.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/growcol.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gsavefiledlg.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gscrollbar.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gspacer.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gtabset.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gtextfield.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gtextinfo.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gwidgetP.h
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gwidgets.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gxcdraw.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gxcdrawP.h
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gxdraw.c
   D /trunk/src/libs/luafontforge/fontforge/gdraw/gxdrawP.h
   D /trunk/src/libs/luafontforge/fontforge/gdraw/xkeysyms_unicode.c
   M /trunk/src/libs/luafontforge/fontforge/po/Makefile.in

get rid of the fontforge source directories that luatex 
does not use at all: gdraw

------------------------------------------------------------------------
r1650 | taco | 2008-12-10 09:47:22 +0100 (Wed, 10 Dec 2008) | 2 lines
Changed paths:
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/colorwheel.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editclear.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editclearback.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopy.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopyfg2bg.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopylayer2layer.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopylbearing.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopylookupdata.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopyrbearing.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopyref.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopyvwidth.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcopywidth.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editcut.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editfind.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editjoin.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editmerge.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editpaste.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editpasteafter.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editpasteinto.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editredo.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editrmundoes.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editrplref.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editsameas.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editselect.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editundo.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/editunlink.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementaddextrema.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementalign.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementanticlock.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementautotrace.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementbdfinfo.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementbitmapsavail.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementbuildaccent.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementbuildcomposit.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementclockwise.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementcomparefonts.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementcomparelayers.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementcorrectdir.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementexpandstroke.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementfindprobs.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementfontinfo.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementgetinfo.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementglyphinfo.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementhbaselines.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementinterpolatefonts.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementmathinfo.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementmergefonts.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementorder.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementotherinfo.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementregenbitmaps.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementremovebitmaps.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementrenameglyph.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementround.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementshowdep.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementsimplify.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementstyles.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementtilepath.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementtilepattern.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementtransform.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementvalidate.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/elementvbaselines.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/fileclose.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/fileexecute.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/fileexport.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/filegenerate.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/filegeneratefamily.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/fileimport.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/filemergefeature.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/filenew.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/fileopen.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/fileprefs.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/fileprint.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/filequit.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/filerecent.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/filerevert.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/filerevertbackup.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/filerevertglyph.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/filesave.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/filesaveall.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/filesaveas.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/helpabout.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/helphelp.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/helpindex.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintsadddstem.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintsaddhstem.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintsaddvstem.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintsautohint.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintscleardstems.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintsclearhstems.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintsclearvstems.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintsdontautohint.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/hintsreviewhints.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/menuempty.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/metricscenter.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/metricssetlbearing.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/metricssetrbearing.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/metricssetvwidth.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/metricssetwidth.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/overlapexclude.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/overlapfindinter.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/overlapintersection.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/overlaprm.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointsG2curve.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointsaddanchor.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointscorner.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointscurve.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointshvcurve.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointsmakearc.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointsmakeline.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointsnamecontour.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointsspironext.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointsspiroprev.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/pointstangent.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/python.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/styleschangeweight.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/styleschangexheight.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/stylesextendcondense.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/stylesinline.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/stylesitalic.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/stylesoblique.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/stylesoutline.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/stylesshadow.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/stylessmallcaps.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/stylessubsuper.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/styleswireframe.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/transformfliphor.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/transformflipvert.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/transformrotate180.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/transformrotateccw.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/transformrotatecw.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/transformskew.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewbiggersize.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewfindinfont.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewfit.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewformer.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewgoto.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewinsertafter.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewinsertbefore.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewnext.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewnextdef.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewpalettes.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewprev.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewprevdef.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewreplace.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewsmallersize.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewzoomin.png
   D /trunk/src/libs/luafontforge/fontforge/fontforge/pixmaps/viewzoomout.png

luatex does not need the gui pix either

------------------------------------------------------------------------
r1651 | taco | 2008-12-10 10:05:22 +0100 (Wed, 10 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/lua/luatex.c

fix a crash when using external ocp's before kpathsea is initialized

------------------------------------------------------------------------
r1652 | taco | 2008-12-10 10:07:03 +0100 (Wed, 10 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/luatex.web

bump the version for a new test release

------------------------------------------------------------------------
r1653 | taco | 2008-12-10 10:07:57 +0100 (Wed, 10 Dec 2008) | 2 lines
Changed paths:
   A /tags/beta-0.31.2 (from /trunk:1652)

new tag

------------------------------------------------------------------------
r1654 | taco | 2008-12-10 11:28:56 +0100 (Wed, 10 Dec 2008) | 2 lines
Changed paths:
   M /tags/beta-0.31.2/src/libs/luafontforge/fontforge/po/Makefile.in
   A /tags/beta-0.31.2/src/libs/luafontforge/fontforge/po/mackeys
   A /tags/beta-0.31.2/src/libs/luafontforge/fontforge/po/mackeys/Makefile.in

ihope this works

------------------------------------------------------------------------

From yannis.haralambous at telecom-bretagne.eu  Wed Dec 10 12:31:24 2008
From: yannis.haralambous at telecom-bretagne.eu (Yannis Haralambous)
Date: Wed, 10 Dec 2008 12:31:24 +0100
Subject: [Dev-luatex] beta-0.31.2 not compiling under MacOS X
Message-ID: <6F5770E3-FED0-473B-9EF0-2DA20833921D@telecom-bretagne.eu>

When I do a check out on beta-0.31.2 and try to compile the branch  
branches/math, I get the following error:

/bin/sh ../libtool --mode=link g++ -o luatex  luatexini.o luatex0.o  
luatex1.o luatex2.o luatex3.o luatexextra.o luatex-pool.o   luatexdir/ 
libpdf.a ../../libs/libpng/libpng.a ../../libs/zlib/libz.a ../../libs/ 
xpdf/xpdf/libxpdf.a ../../libs/xpdf/goo/libGoo.a ../../libs/xpdf/fofi/ 
libfofi.a ../../libs/md5/md5.o ../../libs/obsdcompat/libopenbsd- 
compat.a ../../libs/lua51/liblua.a ../../libs/slnunicode/ 
slnunico.o  ../../libs/luazip/src/luazip.o ../../libs/zziplib/zzip/ 
libzzip.a ../../libs/luafilesystem/src/lfs.o ../../libs/luasocket/src/ 
socket.a ../../libs/luapeg/lpeg.o ../../libs/luamd5/md5lib.o ../../ 
libs/luamd5/md5.o  ../../libs/luazlib/lgzip.o ../../libs/luazlib/ 
lzlib.o ../../libs/luafontforge/libff.a mpdir/lmplib.o mpdir/.libs/ 
libmplib.a   lib/lib.a ../kpathsea/libkpathsea.la -lm
g++ -o luatex luatexini.o luatex0.o luatex1.o luatex2.o luatex3.o  
luatexextra.o luatex-pool.o ../../libs/md5/md5.o ../../libs/slnunicode/ 
slnunico.o ../../libs/luazip/src/luazip.o ../../libs/luafilesystem/src/ 
lfs.o ../../libs/luapeg/lpeg.o ../../libs/luamd5/md5lib.o ../../libs/ 
luamd5/md5.o ../../libs/luazlib/lgzip.o ../../libs/luazlib/lzlib.o  
mpdir/lmplib.o  luatexdir/libpdf.a ../../libs/libpng/libpng.a ../../ 
libs/zlib/libz.a ../../libs/xpdf/xpdf/libxpdf.a ../../libs/xpdf/goo/ 
libGoo.a ../../libs/xpdf/fofi/libfofi.a ../../libs/obsdcompat/ 
libopenbsd-compat.a ../../libs/lua51/liblua.a ../../libs/zziplib/zzip/ 
libzzip.a ../../libs/luasocket/src/socket.a ../../libs/luafontforge/ 
libff.a mpdir/.libs/libmplib.a lib/lib.a ../kpathsea/.libs/ 
libkpathsea.a -lm
Undefined symbols:
   "_FSCreateFileUnicode", referenced from:
       _DumpMacBinaryHeader in libff.a(macbinary.o)
   "_FSCreateFork", referenced from:
       _DumpMacBinaryHeader in libff.a(macbinary.o)
   "_FSCloseFork", referenced from:
       _DumpMacBinaryHeader in libff.a(macbinary.o)
   "_FSSetForkSize", referenced from:
       _DumpMacBinaryHeader in libff.a(macbinary.o)
   "_FSGetResourceForkName", referenced from:
       _DumpMacBinaryHeader in libff.a(macbinary.o)
   "_FSPathMakeRef", referenced from:
       _DumpMacBinaryHeader in libff.a(macbinary.o)
       _DumpMacBinaryHeader in libff.a(macbinary.o)
   "_FSWriteFork", referenced from:
       _DumpMacBinaryHeader in libff.a(macbinary.o)
   "_FSOpenFork", referenced from:
       _DumpMacBinaryHeader in libff.a(macbinary.o)
ld: symbol(s) not found
collect2: ld returned 1 exit status
make: *** [luatex] Error 1

Anyone knows how to circumvent this?


--
+ 
-----------------------------------------------------------------------+
| Yannis Haralambous, Ph.D.      yannis.haralambous at telecom- 
bretagne.eu |
| Directeur d'?tudes                      http://omega.enstb.org/ 
yannis |
|                                             Tel. +33  
(0)2.29.00.14.27 |
|                                             Fax  +33  
(0)2.29.00.12.82 |
| D?partement  
Informatique                                              |
| TELECOM  
Bretagne                                                      |
| Technop?le de Brest Iroise, CS 83818, 29238 Brest CEDEX 3,  
France     |
| Coordonn?es Google-Earth : 48?21'31.57"N  
4?34'16.76"W                 |
+ 
-----------------------------------------------------------------------+
                             ...pour distinguer l'ext?rieur d'un  
aquarium,
                                            mieux vaut n'?tre pas  
poisson

                            ...the ball I threw while playing in the  
park
                                           has not yet reached the  
ground

               Es gab eine Zeit, wo ich nur ungern ?ber Schubert  
sprechen,
            nur N?chtens den B?umen und Sternen von ihm vorerz?hlen  
m?gen.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081210/35bc9078/attachment-0002.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Yannis Haralambous.vcf
Type: text/directory
Size: 508 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081210/35bc9078/attachment-0001.bin>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081210/35bc9078/attachment-0003.html>

From mojca.miklavec.lists at gmail.com  Wed Dec 10 12:54:34 2008
From: mojca.miklavec.lists at gmail.com (Mojca Miklavec)
Date: Wed, 10 Dec 2008 12:54:34 +0100
Subject: [Dev-luatex] beta-0.31.2 not compiling under MacOS X
In-Reply-To: <6F5770E3-FED0-473B-9EF0-2DA20833921D@telecom-bretagne.eu>
References: <6F5770E3-FED0-473B-9EF0-2DA20833921D@telecom-bretagne.eu>
Message-ID: <6faad9f00812100354l3f6d2406vc2a6dac835c4fde1@mail.gmail.com>

2008/12/10 Yannis Haralambous wrote:
> When I do a check out on beta-0.31.2 and try to compile the
> branch branches/math, I get the following error:

Don't try to compile branches/math, but rather tags/beta-0.31.2

I think that branches/math has not been synchronised yet. Trunk and
tags/beta-0.31.2 should work though.

Mojca

From taco at elvenkind.com  Wed Dec 10 13:03:13 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 10 Dec 2008 13:03:13 +0100
Subject: [Dev-luatex] beta-0.31.2 not compiling under MacOS X
In-Reply-To: <6F5770E3-FED0-473B-9EF0-2DA20833921D@telecom-bretagne.eu>
References: <6F5770E3-FED0-473B-9EF0-2DA20833921D@telecom-bretagne.eu>
Message-ID: <493FB001.9090100@elvenkind.com>

Yannis Haralambous wrote:
> When I do a check out on beta-0.31.2 and try to compile the 
> branch branches/math, I get the following error:

Why? You should be compiling the beta you just checked out
(tags/beta-0.31.2)

Best wishes,
Taco



From yannis.haralambous at telecom-bretagne.eu  Wed Dec 10 13:23:46 2008
From: yannis.haralambous at telecom-bretagne.eu (Yannis Haralambous)
Date: Wed, 10 Dec 2008 13:23:46 +0100
Subject: [Dev-luatex] beta-0.31.2 not compiling under MacOS X
In-Reply-To: <6faad9f00812100354l3f6d2406vc2a6dac835c4fde1@mail.gmail.com>
References: <6F5770E3-FED0-473B-9EF0-2DA20833921D@telecom-bretagne.eu>
	<6faad9f00812100354l3f6d2406vc2a6dac835c4fde1@mail.gmail.com>
Message-ID: <F3E14DA5-5097-4B96-9A63-B9493AF98498@telecom-bretagne.eu>

It works!! And now I can see the data from the PfEd table, thank you  
very much Taco!

Le 10 d?c. 08 ? 12:54, Mojca Miklavec a ?crit :

> Don't try to compile branches/math, but rather tags/beta-0.31.2
>
> I think that branches/math has not been synchronised yet. Trunk and
> tags/beta-0.31.2 should work though.

--
+ 
-----------------------------------------------------------------------+
| Yannis Haralambous, Ph.D.      yannis.haralambous at telecom- 
bretagne.eu |
| Directeur d'?tudes                      http://omega.enstb.org/ 
yannis |
|                                             Tel. +33  
(0)2.29.00.14.27 |
|                                             Fax  +33  
(0)2.29.00.12.82 |
| D?partement  
Informatique                                              |
| TELECOM  
Bretagne                                                      |
| Technop?le de Brest Iroise, CS 83818, 29238 Brest CEDEX 3,  
France     |
| Coordonn?es Google-Earth : 48?21'31.57"N  
4?34'16.76"W                 |
+ 
-----------------------------------------------------------------------+
                             ...pour distinguer l'ext?rieur d'un  
aquarium,
                                            mieux vaut n'?tre pas  
poisson

                            ...the ball I threw while playing in the  
park
                                           has not yet reached the  
ground

               Es gab eine Zeit, wo ich nur ungern ?ber Schubert  
sprechen,
            nur N?chtens den B?umen und Sternen von ihm vorerz?hlen  
m?gen.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081210/6ec9d7ae/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Yannis Haralambous.vcf
Type: text/directory
Size: 508 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081210/6ec9d7ae/attachment.bin>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081210/6ec9d7ae/attachment-0001.html>

From taco at elvenkind.com  Wed Dec 10 14:38:45 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Wed, 10 Dec 2008 14:38:45 +0100
Subject: [Dev-luatex] beta-0.31.2 not compiling under MacOS X
In-Reply-To: <6faad9f00812100354l3f6d2406vc2a6dac835c4fde1@mail.gmail.com>
References: <6F5770E3-FED0-473B-9EF0-2DA20833921D@telecom-bretagne.eu>
	<6faad9f00812100354l3f6d2406vc2a6dac835c4fde1@mail.gmail.com>
Message-ID: <493FC665.1050808@elvenkind.com>



Mojca Miklavec wrote:
> 2008/12/10 Yannis Haralambous wrote:
>> When I do a check out on beta-0.31.2 and try to compile the
>> branch branches/math, I get the following error:
> 
> Don't try to compile branches/math, but rather tags/beta-0.31.2
> 
> I think that branches/math has not been synchronised yet. Trunk and
> tags/beta-0.31.2 should work though.

To avoid further confusion, I have trashed branches/math. Development
takes place in trunk, and tags/XXX are released version snapshots.

Best wishes,
Taco

From root at www.metatex.org  Wed Dec 10 16:25:09 2008
From: root at www.metatex.org (Cron Daemon)
Date: Wed, 10 Dec 2008 16:25:09 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081210152509.38F4D1E8C2AC@www.metatex.org>

------------------------------------------------------------------------
r1655 | taco | 2008-12-10 13:47:19 +0100 (Wed, 10 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/libs/luafontforge/fontforge/po/Makefile.in
   A /trunk/src/libs/luafontforge/fontforge/po/mackeys (from /tags/beta-0.31.2/src/libs/luafontforge/fontforge/po/mackeys:1654)
   R /trunk/src/libs/luafontforge/fontforge/po/mackeys/Makefile.in (from /tags/beta-0.31.2/src/libs/luafontforge/fontforge/po/mackeys/Makefile.in:1654)

fix  #1654 from beta-0.31.2

------------------------------------------------------------------------
r1656 | taco | 2008-12-10 14:23:52 +0100 (Wed, 10 Dec 2008) | 2 lines
Changed paths:
   D /branches/math

drop the branches/math because it causes confusion

------------------------------------------------------------------------

From khaledhosny at eglug.org  Wed Dec 10 17:58:00 2008
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Wed, 10 Dec 2008 18:58:00 +0200
Subject: [Dev-luatex] Luatex beta 0.31.2
In-Reply-To: <493F90A9.7090903@elvenkind.com>
References: <4939550D.6000007@elvenkind.com> <493F90A9.7090903@elvenkind.com>
Message-ID: <20081210165800.GA6208@khaled-laptop>

On Wed, Dec 10, 2008 at 10:49:29AM +0100, Taco Hoekwater wrote:
> 
>   * A small fix for a crash that could happen when using
>     external OCPs.

Thanks for the fix. Another issue, with external OCPs, luatex easily
exceeds maximum open files limit on linux an segfaults. A 20 pages
ConTeXt file has around 3000 /tmp/__aleph__{in,out}* open files. I had
to increase the max. limit to get around this.

Regards,


-- 
 Khaled Hosny
 Arabic localizer and member of Arabeyes.org team
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081210/78c61373/attachment-0001.bin>

From pragma at wxs.nl  Wed Dec 10 19:47:25 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 10 Dec 2008 19:47:25 +0100
Subject: [Dev-luatex] Luatex beta 0.31.2
In-Reply-To: <20081210165800.GA6208@khaled-laptop>
References: <4939550D.6000007@elvenkind.com> <493F90A9.7090903@elvenkind.com>
	<20081210165800.GA6208@khaled-laptop>
Message-ID: <49400EBD.3080107@wxs.nl>

Khaled Hosny wrote:
> On Wed, Dec 10, 2008 at 10:49:29AM +0100, Taco Hoekwater wrote:
>>   * A small fix for a crash that could happen when using
>>     external OCPs.
> 
> Thanks for the fix. Another issue, with external OCPs, luatex easily
> exceeds maximum open files limit on linux an segfaults. A 20 pages
> ConTeXt file has around 3000 /tmp/__aleph__{in,out}* open files. I had
> to increase the max. limit to get around this.

hm, why so many open files?


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From taco at elvenkind.com  Thu Dec 11 10:30:25 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 11 Dec 2008 10:30:25 +0100
Subject: [Dev-luatex] Luatex beta 0.31.2
In-Reply-To: <20081210165800.GA6208@khaled-laptop>
References: <4939550D.6000007@elvenkind.com> <493F90A9.7090903@elvenkind.com>
	<20081210165800.GA6208@khaled-laptop>
Message-ID: <4940DDB1.30209@elvenkind.com>



Khaled Hosny wrote:
> On Wed, Dec 10, 2008 at 10:49:29AM +0100, Taco Hoekwater wrote:
>>   * A small fix for a crash that could happen when using
>>     external OCPs.
> 
> Thanks for the fix. Another issue, with external OCPs, luatex easily
> exceeds maximum open files limit on linux an segfaults. A 20 pages
> ConTeXt file has around 3000 /tmp/__aleph__{in,out}* open files. I had
> to increase the max. limit to get around this.

There was a missing fclose() in run_external_ocp. Fixed in SVN.

Best wishes,
Taco

From root at www.metatex.org  Thu Dec 11 12:26:15 2008
From: root at www.metatex.org (Cron Daemon)
Date: Thu, 11 Dec 2008 12:26:15 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081211112615.8A8D81E8C2AC@www.metatex.org>

------------------------------------------------------------------------
r1657 | taco | 2008-12-11 10:15:21 +0100 (Thu, 11 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/lua/luatex.c

close the file that is outputted by an external ocp.

------------------------------------------------------------------------
r1658 | taco | 2008-12-11 10:16:03 +0100 (Thu, 11 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/libs/luafontforge/src/luafflib.c

Undo the locale settings done by FF's InitSimpleStuff()

------------------------------------------------------------------------

From root at www.metatex.org  Thu Dec 11 16:24:55 2008
From: root at www.metatex.org (Cron Daemon)
Date: Thu, 11 Dec 2008 16:24:55 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081211152455.526BD1E8C2AC@www.metatex.org>

------------------------------------------------------------------------
r1659 | taco | 2008-12-11 13:37:57 +0100 (Thu, 11 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/luatex.web

fix a typo in an error message

------------------------------------------------------------------------
r1660 | taco | 2008-12-11 15:53:54 +0100 (Thu, 11 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/libs/luafontforge/src/luafflib.c

improve error message(s) for fonts that fail to load

------------------------------------------------------------------------

From root at www.metatex.org  Thu Dec 11 22:24:55 2008
From: root at www.metatex.org (Cron Daemon)
Date: Thu, 11 Dec 2008 22:24:55 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081211212455.42E8C788001@www.metatex.org>

------------------------------------------------------------------------
r1661 | taco | 2008-12-11 16:37:43 +0100 (Thu, 11 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/mpdir/mp.w
   M /trunk/src/texk/web2c/mpdir/mpost.w
   M /trunk/src/texk/web2c/mpdir/mpxout.w
   M /trunk/src/texk/web2c/mpdir/psout.w

new metapost release (1.101)

------------------------------------------------------------------------
r1662 | taco | 2008-12-11 16:48:42 +0100 (Thu, 11 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/libs/luafontforge/fontforge/Makefile.dynamic.in
   M /trunk/src/libs/luafontforge/fontforge/Makefile.in
   M /trunk/src/libs/luafontforge/fontforge/Makefile.static.in
   M /trunk/src/libs/luafontforge/fontforge/configure
   M /trunk/src/libs/luafontforge/fontforge/configure.dynamic
   M /trunk/src/libs/luafontforge/fontforge/configure.dynamic.in
   M /trunk/src/libs/luafontforge/fontforge/configure.in
   M /trunk/src/libs/luafontforge/fontforge/configure.static
   M /trunk/src/libs/luafontforge/fontforge/configure.static.in
   D /trunk/src/libs/luafontforge/fontforge/po/Makefile.in
   D /trunk/src/libs/luafontforge/fontforge/po/mackeys

get rid of all mention of po files 

------------------------------------------------------------------------
r1663 | taco | 2008-12-11 16:58:57 +0100 (Thu, 11 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/mpdir/psout.w

fix a few sprintf warnings

------------------------------------------------------------------------

From hartmut_henkel at gmx.de  Fri Dec 12 09:32:29 2008
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Fri, 12 Dec 2008 09:32:29 +0100 (CET)
Subject: [Dev-luatex] Differences between PDF and DVI
In-Reply-To: <493E39D3.3000601@elvenkind.com>
References: <20081207211418.GA4293@khaled-laptop>
	<20081207211626.GB4293@khaled-laptop> <493CCB4B.8010101@wxs.nl>
	<20081208153045.GA7251@khaled-laptop>
	<493D3ECC.1030906@elvenkind.com>
	<alpine.DEB.1.00.0812090006400.13088@hahepc1.hahe>
	<493E39D3.3000601@elvenkind.com>
Message-ID: <alpine.DEB.1.00.0812120924520.3567@hahepc1.hahe>

On Tue, 9 Dec 2008, Taco Hoekwater wrote:
> Hartmut Henkel wrote:
> > When you change \hoffset, the whole RL text moves in the DVI case, but
> > not in the PDF case.
>
> In dvi mode there is a big difference between the actual dvi location
> (dvi_h, moves r2l or l2r depending on text direction) and where tex
> thinks the dvi location is (cur_h, always moves e2l). dvi output is
> quite convoluted. In pdf mode, output is much more straightforward.
>
> I think that it would be better to listen to \pagerightoffset in
> both cases, but that is open for discussion.
>
> > Also there seems to be some inconsistent magic if
> > \pagerightoffset=0pt.
>
> In that case, it defaults to 1inch (pdf) or 2inch (dvi). Yes, that is
> a mess (see below). I can easily make the pdf do what the dvi does, but
> which behaviour is right?
>
> > I have no idea how it should look like.
>
> Me neither. And internally there are some more variables involved:
>
>   \pdfhorigin
>   \pdfvorigin
>   \pdfbottomoffset
>
> Ok, \pdfbottomoffset can probably be ignored because luatex at the
> moment doesn't do top-to-bottom scripts.  But what about those origin
> things?
>
>
> Initex defaults:
>
> \pdfpagewidth 0pt
> \pdfpageheight 0pt
> \pdfbottomoffset 0pt
> \pdfrightoffset 0pt
> \hoffset 0pt
> \voffset 0pt
> \pdfhorigin 1in
> \pdfvorigin 1in
>
> Here is the current logic (in DVI):
>
> cur_page_width    = (\pdfpagewidth > 0
>                       ? \pdfpagewidth
>                       : \wd255 +2*(\hoffset + 1in))
> cur_right_offset  = (\pdfrightoffset != 0
>                       ? \pdfrightoffset
>                       : 2in )
> cur_h             = \hoffset
> <dvi_h_loc>       = (\pagedir TLT
>                      ? cur_h
>                      : cur_page_width-cur_right_offset - cur_h )
>
>
> And in PDF, it looks like this:
>
> cur_page_width    = (\pdfpagewidth > 0
>                       ? \pdfpagewidth
>                       : \wd255 +2*(\hoffset + \pdfhorigin))
> cur_right_offset  = (\pdfrightoffset != 0
>                       ? \pdfrightoffset
>                       : 1in )
> cur_h             = (\pagedir TLT
>                       ? \hoffset + \pdfhorigin;
>                       : cur_page_width-cur_right_offset )
> <pdf_h_loc>       =  cur_h

regarding \pdfhorigin and \pdfvorigin, it just appeared (under the
shower :-) that these both should move _all_ stuff on the page
consistently and therefore _independently_ from the direction mode. They
are purely paper oriented parameters and only in use for PDF. So i guess
that these two can be factored out, and with 1in default PDF should look
like DVI. No idea about the others.

Regards, Hartmut

From root at www.metatex.org  Mon Dec 15 12:26:16 2008
From: root at www.metatex.org (Cron Daemon)
Date: Mon, 15 Dec 2008 12:26:16 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081215112616.2A3C0788001@www.metatex.org>

------------------------------------------------------------------------
r1664 | hhenkel | 2008-12-14 23:09:19 +0100 (Sun, 14 Dec 2008) | 4 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/luatex.web

fix rule in a vlist in dir__RT mode in PDF
(other *R* modes may still be wrong)


------------------------------------------------------------------------
r1665 | taco | 2008-12-15 11:06:41 +0100 (Mon, 15 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/libs/luafontforge/fontforge/fontforge/parsettfatt.c

prevent an out of bounds error for fonts containing incorrect bsln values

------------------------------------------------------------------------
r1666 | taco | 2008-12-15 11:07:13 +0100 (Mon, 15 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/libs/luafontforge/fontforge/fontforge/macenc.c

suppress "Neither arg is UCS4" (bug #000020)

------------------------------------------------------------------------
r1667 | taco | 2008-12-15 11:17:57 +0100 (Mon, 15 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/libs/luafontforge/fontforge/Unicode/gwwiconv.c
   M /trunk/src/libs/luafontforge/src/ffdummies.c

If the built-in conv complains, make it do so via the ui, not straight to stderr

------------------------------------------------------------------------
r1668 | taco | 2008-12-15 11:32:43 +0100 (Mon, 15 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/libs/luafontforge/src/luafflib.c

fix handling of the second argument to fontforge.open()

------------------------------------------------------------------------

From root at www.metatex.org  Mon Dec 15 16:24:52 2008
From: root at www.metatex.org (Cron Daemon)
Date: Mon, 15 Dec 2008 16:24:52 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081215152452.C4C8C788001@www.metatex.org>

------------------------------------------------------------------------
r1669 | oneiros | 2008-12-15 13:54:10 +0100 (Mon, 15 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/lua/ltexlib.c

fix warning: implicit declaration of function ?\226?\128?\152make_token_table?\226?\128?\153

------------------------------------------------------------------------
r1670 | taco | 2008-12-15 15:45:40 +0100 (Mon, 15 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/tex/texnodes.c

suppress a compiler warning

------------------------------------------------------------------------
r1671 | taco | 2008-12-15 15:46:21 +0100 (Mon, 15 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/nodes.h

middle_noad is not really a noad, but it is a node constant

------------------------------------------------------------------------

From root at www.metatex.org  Wed Dec 17 22:24:57 2008
From: root at www.metatex.org (Cron Daemon)
Date: Wed, 17 Dec 2008 22:24:57 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081217212457.281A0788001@www.metatex.org>

------------------------------------------------------------------------
r1672 | taco | 2008-12-17 16:57:29 +0100 (Wed, 17 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/commands.h

extended with many more parameters from the pascal web 

------------------------------------------------------------------------
r1673 | taco | 2008-12-17 16:59:26 +0100 (Wed, 17 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/nodes.h

add an enumeration for the glue special subtypes

------------------------------------------------------------------------
r1674 | taco | 2008-12-17 17:00:40 +0100 (Wed, 17 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/Makefile.in
   M /trunk/src/texk/web2c/luatexdir/depend.mk
   M /trunk/src/texk/web2c/luatexdir/luatex.defines
   M /trunk/src/texk/web2c/luatexdir/luatex.web
   M /trunk/src/texk/web2c/luatexdir/ptexlib.h
   A /trunk/src/texk/web2c/luatexdir/tex/math.c
   A /trunk/src/texk/web2c/luatexdir/tex/mlist.c
   A /trunk/src/texk/web2c/luatexdir/texmath.h

convert the math subroutines from pascal to C

------------------------------------------------------------------------

From root at www.metatex.org  Thu Dec 18 16:25:18 2008
From: root at www.metatex.org (Cron Daemon)
Date: Thu, 18 Dec 2008 16:25:18 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081218152518.16491788002@www.metatex.org>

------------------------------------------------------------------------
r1675 | oneiros | 2008-12-18 13:43:26 +0100 (Thu, 18 Dec 2008) | 2 lines
Changed paths:
   M /vendor/libpng/current/ANNOUNCE
   M /vendor/libpng/current/CHANGES
   M /vendor/libpng/current/INSTALL
   M /vendor/libpng/current/KNOWNBUG
   M /vendor/libpng/current/LICENSE
   M /vendor/libpng/current/README
   M /vendor/libpng/current/Y2KINFO
   M /vendor/libpng/current/configure
   M /vendor/libpng/current/example.c
   D /vendor/libpng/current/libpng-1.2.33.txt
   A /vendor/libpng/current/libpng-1.2.34.txt (from /vendor/libpng/current/libpng-1.2.33.txt:1674)
   M /vendor/libpng/current/libpng.3
   M /vendor/libpng/current/libpngpf.3
   M /vendor/libpng/current/png.5
   M /vendor/libpng/current/png.c
   M /vendor/libpng/current/png.h
   M /vendor/libpng/current/pngconf.h
   M /vendor/libpng/current/pngerror.c
   M /vendor/libpng/current/pngget.c
   M /vendor/libpng/current/pngread.c
   M /vendor/libpng/current/pngrio.c
   M /vendor/libpng/current/pngrtran.c
   M /vendor/libpng/current/pngrutil.c
   M /vendor/libpng/current/pngset.c
   M /vendor/libpng/current/pngtest.c
   M /vendor/libpng/current/pngtrans.c
   M /vendor/libpng/current/pngwrite.c
   M /vendor/libpng/current/pngwtran.c
   M /vendor/libpng/current/pngwutil.c
   M /vendor/libpng/current/scripts/CMakeLists.txt
   M /vendor/libpng/current/scripts/libpng-config-head.in
   M /vendor/libpng/current/scripts/libpng.pc.in
   M /vendor/libpng/current/scripts/makefile.32sunu
   M /vendor/libpng/current/scripts/makefile.64sunu
   M /vendor/libpng/current/scripts/makefile.aix
   M /vendor/libpng/current/scripts/makefile.beos
   M /vendor/libpng/current/scripts/makefile.cygwin
   M /vendor/libpng/current/scripts/makefile.darwin
   M /vendor/libpng/current/scripts/makefile.dec
   M /vendor/libpng/current/scripts/makefile.elf
   M /vendor/libpng/current/scripts/makefile.gcmmx
   M /vendor/libpng/current/scripts/makefile.hp64
   M /vendor/libpng/current/scripts/makefile.hpgcc
   M /vendor/libpng/current/scripts/makefile.hpux
   M /vendor/libpng/current/scripts/makefile.linux
   M /vendor/libpng/current/scripts/makefile.mingw
   M /vendor/libpng/current/scripts/makefile.ne12bsd
   M /vendor/libpng/current/scripts/makefile.netbsd
   M /vendor/libpng/current/scripts/makefile.nommx
   M /vendor/libpng/current/scripts/makefile.openbsd
   M /vendor/libpng/current/scripts/makefile.sco
   M /vendor/libpng/current/scripts/makefile.sggcc
   M /vendor/libpng/current/scripts/makefile.sgi
   M /vendor/libpng/current/scripts/makefile.so9
   M /vendor/libpng/current/scripts/makefile.solaris
   M /vendor/libpng/current/scripts/makefile.solaris-x86
   M /vendor/libpng/current/scripts/pngos2.def
   M /vendor/libpng/current/scripts/pngw32.def

import libpng 1.2.34

------------------------------------------------------------------------
r1676 | oneiros | 2008-12-18 13:44:27 +0100 (Thu, 18 Dec 2008) | 2 lines
Changed paths:
   A /vendor/libpng/1.2.34 (from /vendor/libpng/current:1675)

libpng 1.2.34

------------------------------------------------------------------------
r1677 | taco | 2008-12-18 13:49:44 +0100 (Thu, 18 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/NEWS

updated NEWS

------------------------------------------------------------------------
r1678 | oneiros | 2008-12-18 14:08:11 +0100 (Thu, 18 Dec 2008) | 11 lines
Changed paths:
   M /trunk/src/libs/libpng
   M /trunk/src/libs/libpng/ANNOUNCE
   M /trunk/src/libs/libpng/CHANGES
   M /trunk/src/libs/libpng/INSTALL
   M /trunk/src/libs/libpng/KNOWNBUG
   M /trunk/src/libs/libpng/LICENSE
   M /trunk/src/libs/libpng/README
   M /trunk/src/libs/libpng/Y2KINFO
   M /trunk/src/libs/libpng/example.c
   D /trunk/src/libs/libpng/libpng-1.2.33.txt
   A /trunk/src/libs/libpng/libpng-1.2.34.txt (from /vendor/libpng/current/libpng-1.2.34.txt:1675)
   M /trunk/src/libs/libpng/libpng.3
   M /trunk/src/libs/libpng/libpngpf.3
   M /trunk/src/libs/libpng/png.5
   M /trunk/src/libs/libpng/png.c
   M /trunk/src/libs/libpng/png.h
   M /trunk/src/libs/libpng/pngconf.h
   M /trunk/src/libs/libpng/pngerror.c
   M /trunk/src/libs/libpng/pngget.c
   M /trunk/src/libs/libpng/pngread.c
   M /trunk/src/libs/libpng/pngrio.c
   M /trunk/src/libs/libpng/pngrtran.c
   M /trunk/src/libs/libpng/pngrutil.c
   M /trunk/src/libs/libpng/pngset.c
   M /trunk/src/libs/libpng/pngtest.c
   M /trunk/src/libs/libpng/pngtrans.c
   M /trunk/src/libs/libpng/pngwrite.c
   M /trunk/src/libs/libpng/pngwtran.c
   M /trunk/src/libs/libpng/pngwutil.c

import libpng 1.2.34:

Merged revisions 1675 via svnmerge from 
http://scm.foundry.supelec.fr/svn/luatex/vendor/libpng/current

........
  r1675 | oneiros | 2008-12-18 13:43:26 +0100 (Do, 18 Dez 2008) | 2 lines
  
  import libpng 1.2.34
........

------------------------------------------------------------------------
r1679 | taco | 2008-12-18 14:43:24 +0100 (Thu, 18 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/libs/lua51/liolib.c
   M /trunk/src/libs/lua51/lstrlib.c
   M /trunk/src/texk/web2c/luatexdir/font/luafont.c
   M /trunk/src/texk/web2c/luatexdir/font/subfont.c
   M /trunk/src/texk/web2c/luatexdir/font/vfovf.c
   M /trunk/src/texk/web2c/luatexdir/font/writefont.c
   M /trunk/src/texk/web2c/luatexdir/font/writetype2.c
   M /trunk/src/texk/web2c/luatexdir/lang/texlang.c
   M /trunk/src/texk/web2c/luatexdir/mathcodes.c
   M /trunk/src/texk/web2c/luatexdir/tex/textoken.c

Fix 'comparison of signed and unsigned'

------------------------------------------------------------------------

From root at www.metatex.org  Fri Dec 19 12:26:36 2008
From: root at www.metatex.org (Cron Daemon)
Date: Fri, 19 Dec 2008 12:26:36 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081219112636.5B0C8788001@www.metatex.org>

------------------------------------------------------------------------
r1680 | taco | 2008-12-19 09:39:29 +0100 (Fri, 19 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/libs/luafontforge/fontforge/gutils/fsys.c

fix win32 directory test

------------------------------------------------------------------------
r1681 | taco | 2008-12-19 10:23:00 +0100 (Fri, 19 Dec 2008) | 3 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/lang/texlang.c

add 'static' versions of the unicode functions 
(side-effect of an experiment)

------------------------------------------------------------------------

From root at www.metatex.org  Fri Dec 19 16:25:54 2008
From: root at www.metatex.org (Cron Daemon)
Date: Fri, 19 Dec 2008 16:25:54 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081219152554.81D19788001@www.metatex.org>

------------------------------------------------------------------------
r1682 | taco | 2008-12-19 15:02:58 +0100 (Fri, 19 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/lua/lnodelib.c

has_attributes: nil test is done by luaL_touserdata() also

------------------------------------------------------------------------
r1683 | taco | 2008-12-19 16:00:04 +0100 (Fri, 19 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/lua/lnodelib.c

attempt to streamline various node metatable functions

------------------------------------------------------------------------
r1684 | taco | 2008-12-19 16:01:13 +0100 (Fri, 19 Dec 2008) | 2 lines
Changed paths:
   A /trunk/src/libs/luaprofiler
   A /trunk/src/libs/luaprofiler/Makefile
   A /trunk/src/libs/luaprofiler/clocks.c
   A /trunk/src/libs/luaprofiler/clocks.h
   A /trunk/src/libs/luaprofiler/core_profiler.c
   A /trunk/src/libs/luaprofiler/core_profiler.h
   A /trunk/src/libs/luaprofiler/function_meter.c
   A /trunk/src/libs/luaprofiler/function_meter.h
   A /trunk/src/libs/luaprofiler/lua50_profiler.c
   A /trunk/src/libs/luaprofiler/luaprofiler.h
   A /trunk/src/libs/luaprofiler/stack.c
   A /trunk/src/libs/luaprofiler/stack.h
   M /trunk/src/texk/web2c/luatexdir/lua/luastuff.c
   M /trunk/src/texk/web2c/luatexdir/luatex-api.h
   M /trunk/src/texk/web2c/luatexdir/luatexlib.mk

Import lua profiler

------------------------------------------------------------------------

From khaledhosny at eglug.org  Sun Dec 21 19:02:39 2008
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sun, 21 Dec 2008 20:02:39 +0200
Subject: [Dev-luatex] Luatex beta 0.31.2
In-Reply-To: <4940DDB1.30209@elvenkind.com>
References: <4939550D.6000007@elvenkind.com> <493F90A9.7090903@elvenkind.com>
	<20081210165800.GA6208@khaled-laptop>
	<4940DDB1.30209@elvenkind.com>
Message-ID: <20081221180239.GA9190@khaled-laptop>

On Thu, Dec 11, 2008 at 10:30:25AM +0100, Taco Hoekwater wrote:
> 
> 
> Khaled Hosny wrote:
> > On Wed, Dec 10, 2008 at 10:49:29AM +0100, Taco Hoekwater wrote:
> >>   * A small fix for a crash that could happen when using
> >>     external OCPs.
> > 
> > Thanks for the fix. Another issue, with external OCPs, luatex easily
> > exceeds maximum open files limit on linux an segfaults. A 20 pages
> > ConTeXt file has around 3000 /tmp/__aleph__{in,out}* open files. I had
> > to increase the max. limit to get around this.
> 
> There was a missing fclose() in run_external_ocp. Fixed in SVN.

This actually fixes half the issue, luatex were keeping to open
instants of each output file and one of each input file, now it keeps
one of each. It turned out that each input and output file is opened
twice because mkstemp() opens the newly created file and returns a file
descriptor. The attached patch, almost copied from Omega's omegabis.c
file, takes care of this.

Regards,


-- 
 Khaled Hosny
 Arabic localizer and member of Arabeyes.org team
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mkstemp.diff
Type: text/x-diff
Size: 1580 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081221/66414d57/attachment.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: Digital signature
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081221/66414d57/attachment-0001.bin>

From taco at elvenkind.com  Mon Dec 22 10:52:42 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 22 Dec 2008 10:52:42 +0100
Subject: [Dev-luatex] Luatex beta 0.31.2
In-Reply-To: <20081221180239.GA9190@khaled-laptop>
References: <4939550D.6000007@elvenkind.com> <493F90A9.7090903@elvenkind.com>
	<20081210165800.GA6208@khaled-laptop>
	<4940DDB1.30209@elvenkind.com>
	<20081221180239.GA9190@khaled-laptop>
Message-ID: <494F636A.5040208@elvenkind.com>



Khaled Hosny wrote:
> 
> This actually fixes half the issue, luatex were keeping to open
> instants of each output file and one of each input file, now it keeps
> one of each. It turned out that each input and output file is opened
> twice because mkstemp() opens the newly created file and returns a file
> descriptor. The attached patch, almost copied from Omega's omegabis.c
> file, takes care of this.

Thanks, applied.

Best wishes,
Taco

From root at www.metatex.org  Mon Dec 22 12:26:27 2008
From: root at www.metatex.org (Cron Daemon)
Date: Mon, 22 Dec 2008 12:26:27 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081222112627.8EA081E8C2A0@www.metatex.org>

------------------------------------------------------------------------
r1685 | taco | 2008-12-22 10:36:37 +0100 (Mon, 22 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/lua/luatex.c

patch for open files realted to external ocps, from Khaled Hosny

------------------------------------------------------------------------

From martin at oneiros.de  Mon Dec 22 19:52:37 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Mon, 22 Dec 2008 19:52:37 +0100
Subject: [Dev-luatex] build.linux.sh --parallel on MP is broken
Message-ID: <68c491a60812221052u57573630s9e9b1fb438b578a8@mail.gmail.com>

/bin/sh ./libtool --tag=CC   --mode=compile gcc -DHAVE_CONFIG_H -I.
-I../../../../src/texk/web2c/mpdir    -I. -I../..
-I../../../../src/texk/kpathsea/.. -I../../../../src/texk/kpathsea
-I../../../../src/libs/lua51 -g -Wall -O2 -Wno-write-strings -MT
tfmin.lo -MD -MP -MF .deps/tfmin.Tpo -c -o tfmin.lo tfmin.c
 gcc -DHAVE_CONFIG_H -I. -I../../../../src/texk/web2c/mpdir -I.
-I../.. -I../../../../src/texk/kpathsea/..
-I../../../../src/texk/kpathsea -I../../../../src/libs/lua51 -g -Wall
-O2 -Wno-write-strings -MT tfmin.lo -MD -MP -MF .deps/tfmin.Tpo -c
tfmin.c -o tfmin.o
../../../../src/texk/web2c/mpdir/tfmin.w:50:19: error: mplib.h: No
such file or directory
../../../../src/texk/web2c/mpdir/tfmin.w:51:19: error: mpmp.h: No such
file or directory
../../../../src/texk/web2c/mpdir/tfmin.w:59: error: expected '=', ',',
';', 'asm' or '__attribute__' before 'mp_read_font_info'
make[1]: *** [tfmin.lo] Fehler 1

...

make[1]: Leaving directory
`/home/ms/tex/pdftex/luatex/trunk/build/libs/luaprofiler'
g++ -o luatex  luatexini.o luatex0.o luatex1.o luatex2.o luatex3.o
luatexextra.o luatex-pool.o   luatexdir/libpdf.a
../../libs/libpng/libpng.a ../../libs/zlib/libz.a
../../libs/xpdf/xpdf/libxpdf.a ../../libs/xpdf/goo/libGoo.a
../../libs/xpdf/fofi/libfofi.a ../../libs/md5/md5.o
../../libs/obsdcompat/libopenbsd-compat.a ../../libs/lua51/liblua.a
../../libs/slnunicode/slnunico.o  ../../libs/luazip/src/luazip.o
../../libs/zziplib/zzip/libzzip.a ../../libs/luafilesystem/src/lfs.o
../../libs/luasocket/src/socket.a ../../libs/luapeg/lpeg.o
../../libs/luamd5/md5lib.o ../../libs/luamd5/md5.o
../../libs/luazlib/lgzip.o ../../libs/luazlib/lzlib.o
../../libs/luafontforge/libff.a ../../libs/luaprofiler/libprofiler.a
mpdir/lmplib.o mpdir/.libs/libmplib.a   lib/lib.a
../kpathsea/.libs/libkpathsea.a -lm   -nodefaultlibs -Wl,-Bstatic
-lstdc++ -Wl,-Bdynamic -lm -lgcc_eh -lgcc -lc -lgcc_eh -lgcc
g++: mpdir/.libs/libmplib.a: Datei oder Verzeichnis nicht gefunden
make: *** [luatex] Fehler 1
------------------
This is on amd64 with 2 cores.

Best
   Martin

From root at www.metatex.org  Tue Dec 23 12:26:21 2008
From: root at www.metatex.org (Cron Daemon)
Date: Tue, 23 Dec 2008 12:26:21 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081223112621.BA9D71E8C2A0@www.metatex.org>

------------------------------------------------------------------------
r1686 | hhenkel | 2008-12-22 23:18:52 +0100 (Mon, 22 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/luatex.mk

tie --> luatex-all.web

------------------------------------------------------------------------

From taco at elvenkind.com  Tue Dec 23 17:36:15 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 23 Dec 2008 17:36:15 +0100
Subject: [Dev-luatex] build.linux.sh --parallel on MP is broken
In-Reply-To: <68c491a60812221052u57573630s9e9b1fb438b578a8@mail.gmail.com>
References: <68c491a60812221052u57573630s9e9b1fb438b578a8@mail.gmail.com>
Message-ID: <4951137F.4080702@elvenkind.com>


Hi Martin,

What do you think is better from a maintenance pov: disabling the
job server temporarily, or explicitly adding the dependancies to
the Makefile(.in) ?

Cheers,
Taco

From martin at oneiros.de  Tue Dec 23 17:39:31 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Tue, 23 Dec 2008 17:39:31 +0100
Subject: [Dev-luatex] build.linux.sh --parallel on MP is broken
In-Reply-To: <4951137F.4080702@elvenkind.com>
References: <68c491a60812221052u57573630s9e9b1fb438b578a8@mail.gmail.com>
	<4951137F.4080702@elvenkind.com>
Message-ID: <68c491a60812230839g12945286t4018bd878f0bd296@mail.gmail.com>

2008/12/23 Taco Hoekwater <taco at elvenkind.com>:
> What do you think is better from a maintenance pov: disabling the
> job server temporarily, or explicitly adding the dependancies to
> the Makefile(.in) ?

Making --parallel work. :-) We seem to need gnu-make anyway.
Btw: I can't reproduce it on my other (newer) machine, so this may be
related to an older version of gcc/make/... :-{

Best
   Martin

From taco at elvenkind.com  Tue Dec 23 18:45:06 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 23 Dec 2008 18:45:06 +0100
Subject: [Dev-luatex] build.linux.sh --parallel on MP is broken
In-Reply-To: <68c491a60812230839g12945286t4018bd878f0bd296@mail.gmail.com>
References: <68c491a60812221052u57573630s9e9b1fb438b578a8@mail.gmail.com>	<4951137F.4080702@elvenkind.com>
	<68c491a60812230839g12945286t4018bd878f0bd296@mail.gmail.com>
Message-ID: <495123A2.2040006@elvenkind.com>

Martin Schr?der wrote:
> 2008/12/23 Taco Hoekwater <taco at elvenkind.com>:
>> What do you think is better from a maintenance pov: disabling the
>> job server temporarily, or explicitly adding the dependancies to
>> the Makefile(.in) ?
> 
> Making --parallel work. :-) We seem to need gnu-make anyway.
> Btw: I can't reproduce it on my other (newer) machine, so this may be
> related to an older version of gcc/make/... :-{

I had not seen it until now either. I'll ignore this then.

Best wishes,
Taco

From root at www.metatex.org  Wed Dec 24 16:24:57 2008
From: root at www.metatex.org (Cron Daemon)
Date: Wed, 24 Dec 2008 16:24:57 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081224152457.862241E8C2A0@www.metatex.org>

------------------------------------------------------------------------
r1687 | taco | 2008-12-24 12:09:56 +0100 (Wed, 24 Dec 2008) | 9 lines
Changed paths:
   M /trunk/src/texk/web2c/mpdir/mp.w
   M /trunk/src/texk/web2c/mpdir/mpost.w
   M /trunk/src/texk/web2c/mpdir/mpxout.w
   M /trunk/src/texk/web2c/mpdir/psout.w
   M /trunk/src/texk/web2c/mpdir/tfmin.w

new mplib (1.102 + line realloc fix)
-- This line, and those below, will be ignored--

M    mpdir/psout.w
M    mpdir/mp.w
M    mpdir/tfmin.w
M    mpdir/mpxout.w
M    mpdir/mpost.w

------------------------------------------------------------------------

From vafa at live.com.au  Wed Dec 24 13:09:13 2008
From: vafa at live.com.au (=?utf-8?B?2YjZgdinINiu2YTbjNmC24zYjCBWYWZhIEtoYWxpZ2hp?=)
Date: Wed, 24 Dec 2008 22:39:13 +1030
Subject: [Dev-luatex] Modifying the LuaTeX Engine
Message-ID: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>


Now it has
been some time that I have been studying the TeX-e-Parsi engine and have
studied the changes that they have done in the actual TeX engine.

TeX-e-Parsi is a localised version of TeX which has perfect bidirectional
support and I hope that we can make these changes in the LuaTeX engine so we
have perfect bidirectional support.

TeX-e-Parsi adds about 100 Prmitive commands to the Original TeX primitive
commands. I think we would not need all of these 100 commands but we will
need the commands that have something to do with the directions.

These extra 100 commands are:

\LtoR, \RtoL, \accfactor, \activefont, \aftereverydisplay, \autoLRdirset,
\autofontset, \autoLRset, \basefont, \billions, \everysemidisplay,
\everysemimath, \everysemipar, \fonttwin, \hboxR, \ifLtoR, \ifRtoL,
\ifautoLRdir, \ifautofont,

\ifjoinable, \iflatin, \ifleftvbox, \ifcase, \ifonesof, \iftensof,
\ifhundredsof, \ifthousands, \ifmillions, \ifbillions, \ifprehundreds,
\ifprethousands, \ifpremillions, \ifprebillions, \ifsetlatin, \ifsetsemitic,
\ifsetrawprinting, \ifsemiticchar, \ifsplited,

\inputR, \jattrib, \lastcharjoinable, \lastcharunjoinable, \latin, \lcode,
\leftvbox, \curboxdir, \curdirection, \curLRswch, \curspeech, \maketwin,
\manLRset, \midruleinit, \midrulespec, \millions, \openinR, \openoutR,
\rawprinting, \eqprinting,

\rightvbox, \leftinput, \semiaccent, \semiaccentdown, \retainaccentchar,
\semichar, \semichardef, \semiday, \semifam, \dblfont, \semifont,
\semihalign, \semimonth, \semispaceskip, \semitic, \semixspaceskip,
\semiyear, \thousands,

\twinfont, \vboxjustification, \LRshowswitch, \LRmiscswitch, \eqwrite,
\letlatinname, \letsemiticname, \leteqname, \eqchar, \eqcharif,
\letnoteqname, \letnoteqchar, \letnoteqcharif, \endspecial, \beginspecial


I am attaching the actual change file (tex.ch) with this email. 
would wou think that we could possibly define these new primitives in the
LuaTeX engine? if you do that, then there will be no problem at all with
bidirectional typesetting and LuaTeX will have most complete bidirectional
algorithm for typesetting in TeX.

Please feel free to comment about the commands.


Thanks



 I trust my family jewels only to Linux


_________________________________________________________________
Net yourself a bargain. Find great deals on eBay.
http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Frover%2Eebay%2Ecom%2Frover%2F1%2F705%2D10129%2D5668%2D323%2F4%3Fid%3D10&_t=763807330&_r=hotmailTAGLINES&_m=EXT
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081224/8f62b337/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tex.ch.tar.gz
Type: application/x-gzip
Size: 89239 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081224/8f62b337/attachment-0001.gz>

From taco at elvenkind.com  Thu Dec 25 09:10:28 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Thu, 25 Dec 2008 09:10:28 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
Message-ID: <49533FF4.2060102@elvenkind.com>

??? ?????? Vafa Khalighi wrote:
> 
> 
> Now it has
> been some time that I have been studying the TeX-e-Parsi engine and have
> studied the changes that they have done in the actual TeX engine.
> 
> TeX-e-Parsi is a localised version of TeX which has perfect bidirectional
> support and I hope that we can make these changes in the LuaTeX engine so we
> have perfect bidirectional support.

The Omega code where the direction support in luatex comes from is
already much more advanced than eTeX's \beginR ... \beginL stuff,
so can you please explain why and how TeX-e-Parsi is better?

> TeX-e-Parsi adds about 100 Prmitive commands to the Original TeX primitive
> commands. I think we would not need all of these 100 commands but we will
> need the commands that have something to do with the directions.

Due to lack of comments in the tex.ch file I cannot even ascertain
which of the 100 commands deal with directions. Before I can say
anything more about this--let alone incorporate some stuff--I need
to read user (and preferably also developer-targeted) documentation.


Best wishes,
Taco


From pragma at wxs.nl  Thu Dec 25 11:45:28 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Thu, 25 Dec 2008 11:45:28 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
Message-ID: <49536448.3080909@wxs.nl>

??? ?????? Vafa Khalighi wrote:

> These extra 100 commands are:
> 
> \LtoR, \RtoL, \accfactor, \activefont, \aftereverydisplay, \autoLRdirset,
> \autofontset, \autoLRset, \basefont, \billions, \everysemidisplay,
> \everysemimath, \everysemipar, \fonttwin, \hboxR, \ifLtoR, \ifRtoL,
> \ifautoLRdir, \ifautofont,
> 
> \ifjoinable, \iflatin, \ifleftvbox, \ifcase, \ifonesof, \iftensof,
> \ifhundredsof, \ifthousands, \ifmillions, \ifbillions, \ifprehundreds,
> \ifprethousands, \ifpremillions, \ifprebillions, \ifsetlatin, \ifsetsemitic,
> \ifsetrawprinting, \ifsemiticchar, \ifsplited,
> 
> \inputR, \jattrib, \lastcharjoinable, \lastcharunjoinable, \latin, \lcode,
> \leftvbox, \curboxdir, \curdirection, \curLRswch, \curspeech, \maketwin,
> \manLRset, \midruleinit, \midrulespec, \millions, \openinR, \openoutR,
> \rawprinting, \eqprinting,
> 
> \rightvbox, \leftinput, \semiaccent, \semiaccentdown, \retainaccentchar,
> \semichar, \semichardef, \semiday, \semifam, \dblfont, \semifont,
> \semihalign, \semimonth, \semispaceskip, \semitic, \semixspaceskip,
> \semiyear, \thousands,
> 
> \twinfont, \vboxjustification, \LRshowswitch, \LRmiscswitch, \eqwrite,
> \letlatinname, \letsemiticname, \leteqname, \eqchar, \eqcharif,
> \letnoteqname, \letnoteqchar, \letnoteqcharif, \endspecial, \beginspecial
> 
> 
> Please feel free to comment about the commands.

i can imagine that some of the commands make sense in etex which has 
only a simplified rl mechanism bu even then it's hard to imagine the use 
of \ifhundredsof cum suis;

keep in mind that in luatex one has more control over things already and 
  can easily write conversion and test macros using lua calls; also, 
once we start tuning the engine for specific languages / scripts we end 
up with some extra 100 * 100 commands (i.e hardcoding functionality that 
macros can do already)

i can imagine that some of the box related commands make sense but as 
taco mentioned, more details are needed then

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From vafa at live.com.au  Thu Dec 25 12:03:03 2008
From: vafa at live.com.au (=?utf-8?B?2YjZgdinINiu2YTbjNmC24zYjCBWYWZhIEtoYWxpZ2hp?=)
Date: Thu, 25 Dec 2008 21:33:03 +1030
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <49536448.3080909@wxs.nl>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl>  
Message-ID: <BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>














Dear, Taco and Hans

Thanks for your answer.

TeX-e-Parsi is better
than omega because it was written a long time ago (15 years ago) and
since then, the developer (Yazdipur) has modified and corrected the
code. So firstly I think it does not have any bugs or if it has, it has
a very small number of bugs comparing to Omega. Secondly TeX-e-Parsi
have been used by the Iranians for the whole period and still people
continue to use it and they are very happy with it since it is not
buggy at all. I believe TeX-e-Parsi is much more advanced than Omega
and it defines a set of new primitives to support LTR and RTL
typesetting fully in addition to changing some of TeX codes. It also
provides the \eqprimitive primitive so that we can define TeX primitive
commands to the appropriate Persian/Arabic names and that can be done
for any other language. So a user who does not speak English, does not
need to learn TeX's English primitive to write macros, he just can use
his language version of the primitives and at the same time the
original TeX commands will work.

Let me tell you that
unfortunately the manual is written in Persian and that does not say
anything about the actual engine, it is just Parsi LaTeX user manual.
If you intend to look at this seriously, I will be more than happy to
translate the comments in the tex.ch to English (Since the comments are
written in Persian and TeX-e-Parsi is 8 bit, you will see some strange
characters when Persian comments are present)


Just let me, if you need me to write the comments in English.

Thanks

 I trust my family jewels only to Linux
_________________________________________________________________
Time for change? Find your ideal job with SEEK.
http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Fninemsn%2Eseek%2Ecom%2Eau%2F%3Ftracking%3Dsk%3Atl%3Ask%3Anine%3A0%3Ahottag%3Achange&_t=757263783&_r=SEEK_tagline&_m=EXT
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081225/a103b96f/attachment.html>

From pragma at wxs.nl  Thu Dec 25 12:52:10 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Thu, 25 Dec 2008 12:52:10 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>	<49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
Message-ID: <495373EA.3070002@wxs.nl>

??? ?????? Vafa Khalighi wrote:
> Dear, Taco and Hans
> 
> Thanks for your answer.
> 
> TeX-e-Parsi is better than omega because it was written a long time ago 
> (15 years ago) and since then, the developer (Yazdipur) has modified and 
> corrected the code. So firstly I think it does not have any bugs or if 
> it has, it has a very small number of bugs comparing to Omega. Secondly 
> TeX-e-Parsi have been used by the Iranians for the whole period and 
> still people continue to use it and they are very happy with it since it 
> is not buggy at all. I believe TeX-e-Parsi is much more advanced than 
> Omega and it defines a set of new primitives to support LTR and RTL 
> typesetting fully in addition to changing some of TeX codes. It also 

you should keep in mind that luatex is not omega; it has parts of omega 
but the starting point is pdftex; many parts have been rewritten and 
therefore it's not trivial to add other multi directional code (the etex 
rl code has been removed)

can you make an overview of what e-parsi provides that is not available 
in omega rl mode? (forget about the bugs in old omega, actually it was 
aleph code that was incorporated because it was a bit less bugged)

> provides the \eqprimitive primitive so that we can define TeX primitive 
> commands to the appropriate Persian/Arabic names and that can be done 
> for any other language. So a user who does not speak English, does not 
> need to learn TeX's English primitive to write macros, he just can use 
> his language version of the primitives and at the same time the original 
> TeX commands will work.

since luatex is utf8 inside-out it can deal with such macro names as 
well (actually, there is a preliminary persian user interface for 
context mkiv, for more info consult the context list; actually, it's 
advance arabic typesetting that drives much of luatexs development)

> Let me tell you that unfortunately the manual is written in Persian and 
> that does not say anything about the actual engine, it is just Parsi 
> LaTeX user manual. If you intend to look at this seriously, I will be 
> more than happy to translate the comments in the tex.ch to English 
> (Since the comments are written in Persian and TeX-e-Parsi is 8 bit, you 
> will see some strange characters when Persian comments are present)

i think that a list of (new) primitive and a short description of what 
they do is a good start

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From =?utf-8?B?SWRyaXMgU2FtYXdpIEhhbWlkINin2K/YsdmK2LMg2LPZhdin2YjZiiDYrQ==?=  Fri Dec 26 02:03:44 2008
From: =?utf-8?B?SWRyaXMgU2FtYXdpIEhhbWlkINin2K/YsdmK2LMg2LPZhdin2YjZiiDYrQ==?= (=?utf-8?B?SWRyaXMgU2FtYXdpIEhhbWlkINin2K/YsdmK2LMg2LPZhdin2YjZiiDYrQ==?=)
Date: Thu, 25 Dec 2008 18:03:44 -0700
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl> <BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
Message-ID: <op.umqvwin4fkrasx@your-b27fb1c401>

Dear Vafa,
Salaam

On Thu, 25 Dec 2008 04:03:03 -0700, ??? ?????? Vafa Khalighi  
<vafa at live.com.au> wrote:

> TeX-e-Parsi is better
> than omega because it was written a long time ago (15 years ago) and
> since then, the developer (Yazdipur) has modified and corrected the
> code.

Hmm, not sure if this is completely correct: See below.

I'm just curious: Did Yazdipur try to communicate with the Omega  
developers and offer patches etc?

Another question: TeX-e-Parsi was originally closed source, I think: What  
is the status of the source code?

> So firstly I think it does not have any bugs or if it has, it has
> a very small number of bugs comparing to Omega.

I think the same is true of luatex in this regard.

> Secondly TeX-e-Parsi
> have been used by the Iranians for the whole period and still people
> continue to use it and they are very happy with it since it is not
> buggy at all.

Have you tested the bidi in luatex and compared it with that of  
TeX-e-Parsi? It is already much better than etex's.

According to Behdad Esfahbod and Roozbeh Pournader,

http://www.tug.org/TUGboat/Articles/tb23-1/farsitex.pdf

TeX-e-Parsi has not been developed since 1996. I know that there has been  
development of Omega since then, including a new bidi model -- with new  
primitives -- that replaced the one in pre-1996 Omega. Looking at the  
primitive list you provided, I don't think TeX-e-Parsi builds on the  
later, improved Omega model.

A better approach might be to

1. Make an exhaustive test suite that compares bidi behavior in luatex  
with that of TeX-e-Parsi. You don't need to use any arabic-script, just  
latin modern samples;

2. Identify the diffferences between the two and determine which -- if  
either -- has the saner behavior for each case;

3. Make specific feature/debugging requests and -- if possible -- point to  
areas where TeX-e-Parsi code may be useful in implementing the features  
you want.

I did such a suite when we were testing bidi a couple of years back --  
comparing aleph with luatex and looking for bugs. IIRC the remaining area  
where luatex needs work is in its handling of verbatim, but I need to go  
back to my test files and check.

> I believe TeX-e-Parsi is much more advanced than Omega
> and it defines a set of new primitives to support LTR and RTL
> typesetting fully in addition to changing some of TeX codes.

As I mentioned above, I think the last Omega primitives are newer than  
TeX-e-Parsi's. But a related issue: Are those primitives based on the  
unicode bidi algorithm? There is also an ongoing implementation of the  
algorithm in the MKIV inteface to luatex. Again, the best thing may be to  
identify missing features and bugs, then the developers can identify the  
best approach to implementing/fixing things. That may or may not involve  
using TeX-e-Parsi code.

????
Idris

-- 
Professor Idris Samawi Hamid, Editor-in-Chief
International Journal of Shi`i Studies
Department of Philosophy
Colorado State University
Fort Collins, CO 80523

From vafa at live.com.au  Fri Dec 26 03:53:00 2008
From: vafa at live.com.au (=?utf-8?B?2YjZgdinINiu2YTbjNmC24zYjCBWYWZhIEtoYWxpZ2hp?=)
Date: Fri, 26 Dec 2008 13:23:00 +1030
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <op.umqvwin4fkrasx@your-b27fb1c401>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl> <BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401>
Message-ID: <BLU117-W2686BBD2C87A40EC37883C89EB0@phx.gbl>


> I'm just curious: Did Yazdipur try to communicate with the Omega  
> developers and offer patches etc?

I
do not think so, It seems that he has got no interest in the Unicode
world and he is a big fan of Knuth's TeX engine only and does not want
to write codes for PDFTeX, XeTeX and LuaTeX.



> Another question: TeX-e-Parsi was originally closed source, I think: What  
> is the status of the source code?

Yes, it was closed but it has been open source since a few years back.


> Have you tested the bidi in luatex and compared it with that of  
> TeX-e-Parsi? It is already much better than etex's.


Yes, I did and I still think TeX-e-Parsi's bidirectional algorithm is more powerful than LuaTeX's.


> According to Behdad Esfahbod and Roozbeh Pournader,
> 
> http://www.tug.org/TUGboat/Articles/tb23-1/farsitex.pdf
> 
> TeX-e-Parsi has not been developed since 1996. I know that there has been  
> development of Omega since then, including a new bidi model -- with new  
> primitives -- that replaced the one in pre-1996 Omega. Looking at the  
> primitive list you provided, I don't think TeX-e-Parsi builds on the  
> later, improved Omega model.

The
Behdad's paper was written in 2002 and in that time TeX-e-Parsi was a
commercial software and so I think Behdad would  have the chance to
look at the source code and he just said something which was not really
true. If you look at the biginning of tex.ch, in the version section,
we have "% Version 3.019 reorganizing \pTeX changes  (1384/12/26)".
1384 is the year of latest development, if you add 621 to 1384 (1384 is
the Iranian year), you will get 2005. In fact it is the end of 205 and
we can say 2006. So as you can see TeX-e-Parsi's latest development
happened recently. As I said Yazdipour has faith only in Donald Knuth
and his work and no interest in other TeX engines, that is what I have
heard. Donald Knuth himself congratulated him for writing the
TeX-e-Parsi's engine.



> 
> 1. Make an exhaustive test suite that compares bidi behavior in luatex  
> with that of TeX-e-Parsi. You don't need to use any arabic-script, just  
> latin modern samples;


I
absolutely agree. But Let's have a test file. I write that test file
with TeX-e-Parsi and you write the test file with LuaTeX and then we
compare the results. If you can send a sample/test file so then I can
typeset in with TeX-e-Parsi.


> 2. Identify the diffferences between the two and determine which -- if  
> either -- has the saner behavior for each case;

Agree.
It might turns out that TeX-e-Parsi is powerful in some areas and
LuaTeX in other areas. So we just can look at the powerful areas of
bidirectional typesetting. 

> 3. Make specific feature/debugging requests and -- if possible -- point to  
> areas where TeX-e-Parsi code may be useful in implementing the features  
> you want.

No Problem.


> As I mentioned above, I think the last Omega primitives are newer than  
> TeX-e-Parsi's. But a related issue: Are those primitives based on the  
> unicode bidi algorithm? There is also an ongoing implementation of the  
> algorithm in the MKIV inteface to luatex. Again, the best thing may be to  
> identify missing features and bugs, then the developers can identify the  
> best approach to implementing/fixing things. That may or may not involve  
> using TeX-e-Parsi code.


Agree.

_________________________________________________________________
Time for change? Find your ideal job with SEEK.
http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Fninemsn%2Eseek%2Ecom%2Eau%2F%3Ftracking%3Dsk%3Atl%3Ask%3Anine%3A0%3Ahottag%3Achange&_t=757263783&_r=SEEK_tagline&_m=EXT
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081226/be8573c0/attachment-0001.html>

From =?utf-8?B?SWRyaXMgU2FtYXdpIEhhbWlkINin2K/YsdmK2LMg2LPZhdin2YjZiiDYrQ==?=  Fri Dec 26 04:31:58 2008
From: =?utf-8?B?SWRyaXMgU2FtYXdpIEhhbWlkINin2K/YsdmK2LMg2LPZhdin2YjZiiDYrQ==?= (=?utf-8?B?SWRyaXMgU2FtYXdpIEhhbWlkINin2K/YsdmK2LMg2LPZhdin2YjZiiDYrQ==?=)
Date: Thu, 25 Dec 2008 20:31:58 -0700
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W2686BBD2C87A40EC37883C89EB0@phx.gbl>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl> <BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401>
	<BLU117-W2686BBD2C87A40EC37883C89EB0@phx.gbl>
Message-ID: <op.umq2rkuxfkrasx@your-b27fb1c401>

On Thu, 25 Dec 2008 19:53:00 -0700, ??? ?????? Vafa Khalighi  
<vafa at live.com.au> wrote:

>
>> I'm just curious: Did Yazdipur try to communicate with the Omega
>> developers and offer patches etc?
>
> I
> do not think so, It seems that he has got no interest in the Unicode
> world and he is a big fan of Knuth's TeX engine only and does not want
> to write codes for PDFTeX, XeTeX and LuaTeX.

Hmm, if that is true then it is not very promising...

>> Have you tested the bidi in luatex and compared it with that of
>> TeX-e-Parsi? It is already much better than etex's.
>
>
> Yes, I did and I still think TeX-e-Parsi's bidirectional algorithm is  
> more powerful than LuaTeX's.

Ok, but how do you qualitatively and/or quantitatively justify that?

> As I said Yazdipour has faith only in Donald Knuth
> and his work and no interest in other TeX engines, that is what I have
> heard. Donald Knuth himself congratulated him for writing the
> TeX-e-Parsi's engine.

Again, I think that Yazdipour's approach here is anachronistic -- with all  
due respect. But if this is indeed the case, then this tells me that there  
is no Omega code in TeX-e-Parsi at all. So in effect you are asking that  
luatex ditch the entire bidi model it has and replace it with  
TeX-e-Parsi's. Then we have to hook that in to pdf output and many other  
things. Given the stability and polish of the bidi engine as it stands I  
am not sure this is wise at the moment

>> 1. Make an exhaustive test suite that compares bidi behavior in luatex
>> with that of TeX-e-Parsi. You don't need to use any arabic-script, just
>> latin modern samples;
>
>
> I
> absolutely agree. But Let's have a test file. I write that test file
> with TeX-e-Parsi and you write the test file with LuaTeX and then we
> compare the results. If you can send a sample/test file so then I can
> typeset in with TeX-e-Parsi.

Hmm: You should create and run your test file -- which should contain a  
variety of individual torture tests -- with both luatex and TeX-e-Parsi.  
Compare the pdf's and identify the differences. Write a report and submit  
it to Hans, Taco, and me.

I have attached two test files from almost exactly one year ago. You can  
modify these to your liking and see what happens. But I suspect you'll  
want to create your own tests from scratch.

The apparent verbatim bug is there, on the first page of global_rl2.pdf,  
but other than that bidi is quite solid.

Taco: Interestingly, running the file today results in a bug, but a year  
ago it showed up in the last two lines whereas now it only shows up in the  
last line on page 1.

>> 2. Identify the diffferences between the two and determine which -- if
>> either -- has the saner behavior for each case;
>
> Agree.
> It might turns out that TeX-e-Parsi is powerful in some areas and
> LuaTeX in other areas. So we just can look at the powerful areas of
> bidirectional typesetting.

exactly.

Best wishes
Idris

-- 
Professor Idris Samawi Hamid, Editor-in-Chief
International Journal of Shi`i Studies
Department of Philosophy
Colorado State University
Fort Collins, CO 80523
-------------- next part --------------
A non-text attachment was scrubbed...
Name: global_rl2.tex
Type: application/x-tex
Size: 3485 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081225/8224a859/attachment.tex>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: global_lr2.tex
Type: application/x-tex
Size: 3263 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081225/8224a859/attachment-0001.tex>

From pragma at wxs.nl  Fri Dec 26 12:10:42 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 26 Dec 2008 12:10:42 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W2686BBD2C87A40EC37883C89EB0@phx.gbl>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>	<49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>	<op.umqvwin4fkrasx@your-b27fb1c401>
	<BLU117-W2686BBD2C87A40EC37883C89EB0@phx.gbl>
Message-ID: <4954BBB2.2020605@wxs.nl>

??? ?????? Vafa Khalighi wrote:
>  > I'm just curious: Did Yazdipur try to communicate with the Omega
>  > developers and offer patches etc?
> 
> I do not think so, It seems that he has got no interest in the Unicode 
> world and he is a big fan of Knuth's TeX engine only and does not want 
> to write codes for PDFTeX, XeTeX and LuaTeX.

in that case it's a lost case since we all move on to unicode now; no 
more 8 bit fonts and ugly hacke sto do what unicode does already; also, 
i don't expect much new font technology to surface in the tex community 
(best convert what is already there to open type)

(btw, in official tex distributions pdf(e)tex is the official engine now)

> Yes, I did and I still think TeX-e-Parsi's bidirectional algorithm is 
> more powerful than LuaTeX's.

luatex has layered bidi support:

- omega primitives (maybe extended in the future)
- node list processing using lua

especially the second case permits us to go beyond what is hard coded in 
the tex engine which will never be complete for everyone

> happened recently. As I said Yazdipour has faith only in Donald Knuth 
> and his work and no interest in other TeX engines, that is what I have 
> heard. Donald Knuth himself congratulated him for writing the 
> TeX-e-Parsi's engine.

but Don also mentions pdftex as a development in the spirit of what he 
envisioned ... users taking tex and adapting it to their own needs; keep 
in mind that he uses a tex with frozen functionality because it enables 
him to write his books over a live-span

> I absolutely agree. But Let's have a test file. I write that test file 
> with TeX-e-Parsi and you write the test file with LuaTeX and then we 
> compare the results. If you can send a sample/test file so then I can 
> typeset in with TeX-e-Parsi.

sounds ok to me; but then also discuss limitations and needs for 
improvement

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Fri Dec 26 12:15:01 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 26 Dec 2008 12:15:01 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <op.umq2rkuxfkrasx@your-b27fb1c401>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>	<49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>	<op.umqvwin4fkrasx@your-b27fb1c401>	<BLU117-W2686BBD2C87A40EC37883C89EB0@phx.gbl>
	<op.umq2rkuxfkrasx@your-b27fb1c401>
Message-ID: <4954BCB5.9000709@wxs.nl>

Idris Samawi Hamid ????? ????? ???? wrote:

> Again, I think that Yazdipour's approach here is anachronistic -- with 
> all due respect. But if this is indeed the case, then this tells me that 
> there is no Omega code in TeX-e-Parsi at all. So in effect you are 
> asking that luatex ditch the entire bidi model it has and replace it 
> with TeX-e-Parsi's. Then we have to hook that in to pdf output and many 
> other things. Given the stability and polish of the bidi engine as it 
> stands I am not sure this is wise at the moment

indeed. the multi direction engine will stay, but it might be improved 
(for instance we will carry around more info in nodes esp par related 
issues demand this);

on the other hand, the omega approach using otp filtering is no longer 
that relevant (nor are omega fonts) so hose bits and pieces of the code 
are still there but kind of obsolete

maye e-parsi has some interesting concepts that we can add, but it can 
never replace fundamental mechanisms, only extend them

> The apparent verbatim bug is there, on the first page of global_rl2.pdf, 
> but other than that bidi is quite solid.

verbatim is mostly a macro package issue (i'll deal with in mkiv)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From hartmut_henkel at gmx.de  Fri Dec 26 13:25:46 2008
From: hartmut_henkel at gmx.de (Hartmut Henkel)
Date: Fri, 26 Dec 2008 13:25:46 +0100 (CET)
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <op.umq2rkuxfkrasx@your-b27fb1c401>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401>
	<BLU117-W2686BBD2C87A40EC37883C89EB0@phx.gbl>
	<op.umq2rkuxfkrasx@your-b27fb1c401>
Message-ID: <alpine.DEB.1.00.0812261317320.4084@hahepc1.hahe>

On Thu, 25 Dec 2008, Idris Samawi Hamid ????? ????? ???? wrote:

> I have attached two test files from almost exactly one year ago.

just a tiny remark: maybe it would be practical if we could stick to
plain TeX for such test files, as this can exercise the primitives
directly, may produce more compact/generic/primitive PDF code, and there
is no need then to think whether what we see are effects of ConTeXt or
"the engine".

Regards, Hartmut

From pragma at wxs.nl  Fri Dec 26 12:33:13 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 26 Dec 2008 12:33:13 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <alpine.DEB.1.00.0812261317320.4084@hahepc1.hahe>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>	<49536448.3080909@wxs.nl>	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>	<op.umqvwin4fkrasx@your-b27fb1c401>	<BLU117-W2686BBD2C87A40EC37883C89EB0@phx.gbl>	<op.umq2rkuxfkrasx@your-b27fb1c401>
	<alpine.DEB.1.00.0812261317320.4084@hahepc1.hahe>
Message-ID: <4954C0F9.9000902@wxs.nl>

Hartmut Henkel wrote:
> On Thu, 25 Dec 2008, Idris Samawi Hamid ????? ????? ???? wrote:
> 
>> I have attached two test files from almost exactly one year ago.
> 
> just a tiny remark: maybe it would be practical if we could stick to
> plain TeX for such test files, as this can exercise the primitives
> directly, may produce more compact/generic/primitive PDF code, and there
> is no need then to think whether what we see are effects of ConTeXt or
> "the engine".

true for some aspects as luatex expects the macro package to implement bidi

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From yannis.haralambous at telecom-bretagne.eu  Fri Dec 26 12:54:10 2008
From: yannis.haralambous at telecom-bretagne.eu (Yannis Haralambous)
Date: Fri, 26 Dec 2008 12:54:10 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <op.umqvwin4fkrasx@your-b27fb1c401>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401>
Message-ID: <A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>

Le 26 d?c. 08 ? 02:03, Idris Samawi Hamid ????? ?????  
???? a ?crit :

> As I mentioned above, I think the last Omega primitives are newer  
> than TeX-e-Parsi's. But a related issue: Are those primitives based  
> on the unicode bidi algorithm?


Implementing Unicode bidi will mean keeping track of the  
(directionality of the) first character of every horizontal list so  
that calculations of embedding levels can be done. Omega has never  
done that, and it couldn't do it because OTPs use buffers which are  
most of the time smaller than the whole paragraph. Is TeX-e-Parsi  
doing it?

Furthermore you all talk about LTR and RTL, but what about vertical  
typesetting, in the Chinese or in the Mongolian way? Obviously TeX-e- 
Parsi doesn't care about that.

--
+ 
-----------------------------------------------------------------------+
| Yannis Haralambous, Ph.D.      yannis.haralambous at telecom- 
bretagne.eu |
| Directeur d'?tudes                      http://omega.enstb.org/ 
yannis |
|                                             Tel. +33  
(0)2.29.00.14.27 |
|                                             Fax  +33  
(0)2.29.00.12.82 |
| D?partement  
Informatique                                              |
| TELECOM  
Bretagne                                                      |
| Technop?le de Brest Iroise, CS 83818, 29238 Brest CEDEX 3,  
France     |
| Coordonn?es Google-Earth : 48?21'31.57"N  
4?34'16.76"W                 |
+ 
-----------------------------------------------------------------------+
                             ...pour distinguer l'ext?rieur d'un  
aquarium,
                                            mieux vaut n'?tre pas  
poisson

                            ...the ball I threw while playing in the  
park
                                           has not yet reached the  
ground

               Es gab eine Zeit, wo ich nur ungern ?ber Schubert  
sprechen,
            nur N?chtens den B?umen und Sternen von ihm vorerz?hlen  
m?gen.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081226/6823687b/attachment-0002.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Yannis Haralambous.vcf
Type: text/directory
Size: 508 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081226/6823687b/attachment-0001.bin>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081226/6823687b/attachment-0003.html>

From vafa at live.com.au  Fri Dec 26 14:13:35 2008
From: vafa at live.com.au (=?utf-8?B?2YjZgdinINiu2YTbjNmC24zYjCBWYWZhIEtoYWxpZ2hp?=)
Date: Fri, 26 Dec 2008 23:43:35 +1030
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl> <BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401> 
	<A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>
Message-ID: <BLU117-W154F9662B13C4AB48A76D489EB0@phx.gbl>





Implementing Unicode bidi will mean keeping track of the (directionality of the) first character of every horizontal list so that calculations of embedding levels can be done. Omega has never done that, and it couldn't do it because OTPs use buffers which are most of the time smaller than the whole paragraph. Is TeX-e-Parsi doing it?

I do not think so.

Furthermore you all talk about LTR and RTL, but what about vertical typesetting, in the Chinese or in the Mongolian way? Obviously TeX-e-Parsi doesn't care about that.
 Yes, TeX-e-Parsi does not care about vertical typesetting but if we
achieve a perfect algorithm for LTR and RTL, then we will be able to do
the same for vertical typesetting.
_________________________________________________________________
Holiday cheer from Messenger. Download free emoticons today!
http://livelife.ninemsn.com.au/article.aspx?id=669758 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081226/fffcf6a9/attachment.html>

From m.bana at ucl.ac.uk  Fri Dec 26 15:54:07 2008
From: m.bana at ucl.ac.uk (Mohamed Bana)
Date: Fri, 26 Dec 2008 14:54:07 +0000
Subject: [Dev-luatex] LuaTeX and ANT (Ant is not TeX)
Message-ID: <4954F00F.9070205@ucl.ac.uk>

heys guys,

why precisely was Lua chosen as the implementation language?/  ANT (ant 
is not TeX)/, see http://ant.berlios.de/ was registered: 2005-Nov-23 
10:38.  as far as i'm aware, dynamic languages are generally much slower 
than those that are statically typed.

and i'm not trolling, i just want to know why.  please share your thoughts.

mohamed

From martin at oneiros.de  Fri Dec 26 16:02:53 2008
From: martin at oneiros.de (=?ISO-8859-1?Q?Martin_Schr=F6der?=)
Date: Fri, 26 Dec 2008 16:02:53 +0100
Subject: [Dev-luatex] LuaTeX and ANT (Ant is not TeX)
In-Reply-To: <4954F00F.9070205@ucl.ac.uk>
References: <4954F00F.9070205@ucl.ac.uk>
Message-ID: <68c491a60812260702y77cb56a0gea78813fe3303acf@mail.gmail.com>

2008/12/26 Mohamed Bana <m.bana at ucl.ac.uk>:
> why precisely was Lua chosen as the implementation language?/  ANT (ant is

Lua is not the implementation language of luaTeX; check your facts.
luaTeX started as pdfTeX + lua; ant is a typesetting engine written in
OCaml, which is a completely different approach.

> far as i'm aware, dynamic languages are generally much slower than those
> that are statically typed.

FUD. :-)

> and i'm not trolling, i just want to know why.  please share your thoughts.

Please check your facts.

Best
   Martin

From pragma at wxs.nl  Fri Dec 26 16:44:01 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 26 Dec 2008 16:44:01 +0100
Subject: [Dev-luatex] LuaTeX and ANT (Ant is not TeX)
In-Reply-To: <4954F00F.9070205@ucl.ac.uk>
References: <4954F00F.9070205@ucl.ac.uk>
Message-ID: <4954FBC1.4060409@wxs.nl>

Mohamed Bana wrote:
> heys guys,
> 
> why precisely was Lua chosen as the implementation language?/  ANT (ant 

it's an extension language but indeed one can write extensions to tex in 
it

> is not TeX)/, see http://ant.berlios.de/ was registered: 2005-Nov-23 

i must admit that i never looked into ant

> 10:38.  as far as i'm aware, dynamic languages are generally much slower 
> than those that are statically typed.

so what ... at least users can extend now without the need to recompile

> and i'm not trolling, i just want to know why.  please share your thoughts.

short answer: because like lua and because it's meant as as embedable 
language

we have been publishing for several years about luatex so there should 
be googleable resources (tug, ntg, dante, gust, conference proceedings, 
luatex mail archive, context list mail archive, etc)

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From vafa at live.com.au  Fri Dec 26 16:52:37 2008
From: vafa at live.com.au (=?utf-8?B?2YjZgdinINiu2YTbjNmC24zYjCBWYWZhIEtoYWxpZ2hp?=)
Date: Sat, 27 Dec 2008 02:22:37 +1030
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl> <BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401> 
	<A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>
Message-ID: <BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>


I have produced some sample files with TeX-e-Parsi. You can have a look at them at http://parsilatex.org/parsitex/

Please let me know if you were looking for a different kind of output.

In my next email, I will be explaining TeX-e-Parsi changes.

_________________________________________________________________
Holiday cheer from Messenger. Download free emoticons today!
http://livelife.ninemsn.com.au/article.aspx?id=669758 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081227/c494c722/attachment.html>

From yuleopen at gmail.com  Fri Dec 26 17:39:26 2008
From: yuleopen at gmail.com (Yue Wang)
Date: Sat, 27 Dec 2008 00:39:26 +0800
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401>
	<A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>
	<BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>
Message-ID: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>

Well, I think we should also incorporate some ptex features?
like http://www.tug.org/TUGboat/Articles/tb11-3/tb29hamano.pdf

On Fri, Dec 26, 2008 at 11:52 PM, ??? ?????? Vafa Khalighi
<vafa at live.com.au> wrote:
> I have produced some sample files with TeX-e-Parsi. You can have a look at
> them at http://parsilatex.org/parsitex/
>
> Please let me know if you were looking for a different kind of output.
>
> In my next email, I will be explaining TeX-e-Parsi changes.
>
> ________________________________
> Download free emoticons today! Holiday cheer from Messenger.
> _______________________________________________
> dev-luatex mailing list
> dev-luatex at ntg.nl
> http://www.ntg.nl/mailman/listinfo/dev-luatex
>
>

From yuleopen at gmail.com  Fri Dec 26 17:39:59 2008
From: yuleopen at gmail.com (Yue Wang)
Date: Sat, 27 Dec 2008 00:39:59 +0800
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401>
	<A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>
Message-ID: <68bfdc900812260839g28cf2b35t5772ef37c2a02ec8@mail.gmail.com>

well, knuth tex+cjk macro and xetex + macro support vertical
typesetting. but will be very messy:(
see http://gezhu.googlecode.com/files/demo-xelatex-071106.pdf for examples.

Yue Wang

2008/12/26 Yannis Haralambous <yannis.haralambous at telecom-bretagne.eu>:
> Le 26 d?c. 08 ? 02:03, Idris Samawi Hamid ????? ????? ???? a ?crit :
>
> As I mentioned above, I think the last Omega primitives are newer than
> TeX-e-Parsi's. But a related issue: Are those primitives based on the
> unicode bidi algorithm?
>
> Implementing Unicode bidi will mean keeping track of the (directionality of
> the) first character of every horizontal list so that calculations of
> embedding levels can be done. Omega has never done that, and it couldn't do
> it because OTPs use buffers which are most of the time smaller than the
> whole paragraph. Is TeX-e-Parsi doing it?
> Furthermore you all talk about LTR and RTL, but what about vertical
> typesetting, in the Chinese or in the Mongolian way? Obviously TeX-e-Parsi
> doesn't care about that.
>
> --
> +-----------------------------------------------------------------------+
> | Yannis Haralambous, Ph.D.      yannis.haralambous at telecom-bretagne.eu |
> | Directeur d'?tudes                      http://omega.enstb.org/yannis |
> |                                             Tel. +33 (0)2.29.00.14.27 |
> |                                             Fax  +33 (0)2.29.00.12.82 |
> | D?partement Informatique                                              |
> | TELECOM Bretagne                                                      |
> | Technop?le de Brest Iroise, CS 83818, 29238 Brest CEDEX 3, France     |
> | Coordonn?es Google-Earth : 48?21'31.57"N 4?34'16.76"W                 |
> +-----------------------------------------------------------------------+
>                             ...pour distinguer l'ext?rieur d'un aquarium,
>                                            mieux vaut n'?tre pas poisson
>                            ...the ball I threw while playing in the park
>                                           has not yet reached the ground
>               Es gab eine Zeit, wo ich nur ungern ?ber Schubert sprechen,
>            nur N?chtens den B?umen und Sternen von ihm vorerz?hlen m?gen.
>
>
>
> _______________________________________________
> dev-luatex mailing list
> dev-luatex at ntg.nl
> http://www.ntg.nl/mailman/listinfo/dev-luatex
>
>

From vafa at live.com.au  Fri Dec 26 17:51:12 2008
From: vafa at live.com.au (=?utf-8?B?2YjZgdinINiu2YTbjNmC24zYjCBWYWZhIEtoYWxpZ2hp?=)
Date: Sat, 27 Dec 2008 03:21:12 +1030
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <op.umr14rghfkrasx@your-b27fb1c401>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl> <BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401>
	<A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>
	<BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl> 
	<op.umr14rghfkrasx@your-b27fb1c401>
Message-ID: <BLU117-W1FCFC94A7A341D7C8EEE389EB0@phx.gbl>



> Can you do these in luatex as well? 

Yes, but please give me some time. Let me first produce the document which explains TeX-e-Parsi's changes.

At first glance: From the pdf's I do  
> not see anything that Omega could not do with ease 8 years ago. See the  
> attached from a journal done in luatex.


The
fact is, " I did not typeset them, those files just were some sample
files already being there." Yes, the output you have sent looks super
good. I think this is not a good way of comparing outputs. We should
have

a sample complex bidirectional text which contain
everything in it (boxes, LTR and RTL texts, poems, colors, diagrams,
footnotes and ...) and then compare the produced outputs. Please also
note that I am using LaTeX not context.
_________________________________________________________________
Time for change? Find your ideal job with SEEK.
http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Fninemsn%2Eseek%2Ecom%2Eau%2F%3Ftracking%3Dsk%3Atl%3Ask%3Anine%3A0%3Ahottag%3Achange&_t=757263783&_r=SEEK_tagline&_m=EXT
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081227/f8ddbc7a/attachment-0001.html>

From =?utf-8?B?SWRyaXMgU2FtYXdpIEhhbWlkINin2K/YsdmK2LMg2LPZhdin2YjZiiDYrQ==?=  Fri Dec 26 17:56:23 2008
From: =?utf-8?B?SWRyaXMgU2FtYXdpIEhhbWlkINin2K/YsdmK2LMg2LPZhdin2YjZiiDYrQ==?= (=?utf-8?B?SWRyaXMgU2FtYXdpIEhhbWlkINin2K/YsdmK2LMg2LPZhdin2YjZiiDYrQ==?=)
Date: Fri, 26 Dec 2008 09:56:23 -0700
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W1FCFC94A7A341D7C8EEE389EB0@phx.gbl>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl> <BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401>
	<A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>
	<BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>
	<op.umr14rghfkrasx@your-b27fb1c401>
	<BLU117-W1FCFC94A7A341D7C8EEE389EB0@phx.gbl>
Message-ID: <op.umr3z9vzfkrasx@your-b27fb1c401>

On Fri, 26 Dec 2008 09:47:15 -0700, ??? ?????? Vafa Khalighi
<vafa at live.com.au> wrote:

> We should have
> a sample complex bidirectional text which contain everything in it  
> (boxes, LTR and RTL texts, poems, colors, diagrams, footnotes and ...)  
> and then compare the produced outputs.

Of course

> Please also note that I am using LaTeX not context.

As Hartmut points out, our tests at the end of the day need to be done
with primitives alone.

??
Idris

-- 
Professor Idris Samawi Hamid, Editor-in-Chief
International Journal of Shi`i Studies
Department of Philosophy
Colorado State University
Fort Collins, CO 80523

From elie.roux at telecom-bretagne.eu  Fri Dec 26 18:02:28 2008
From: elie.roux at telecom-bretagne.eu (Elie Roux)
Date: Fri, 26 Dec 2008 18:02:28 +0100
Subject: [Dev-luatex] OTF engine in LuaTeX
Message-ID: <49550E24.8030507@telecom-bretagne.eu>

Hello,

I have a small experience in TeX (I wrote a plain TeX style for 
gregorian chant, http://home.gna.org/gregorio), and I am very interested 
in LuaTeX and all the features it will bring to the TeX world. For 
example LuaTeX allowed me to correct some very annoying bugs that 
happened sometimes in my style, and that couldn't be corrected in plain 
TeX. So thank you for you great job!

It happens that I have some time now, and during next month. So I would 
be interested in helping you, especially for OTF integration in LuaTeX. 
For now I'm using the code present here 
http://luatex.bluwiki.com/go/Use_a_TrueType_font to deal with OTF, but 
it's not really satisfying (no ligatures for example). So if it is 
possible to help with an OTF engine like in XeTeX, I would be very happy 
to start it, or continue it. Please tell me how I should proceed!

Thank you in advance,
-- 
Elie

From =?utf-8?B?SWRyaXMgU2FtYXdpIEhhbWlkINin2K/YsdmK2LMg2LPZhdin2YjZiiDYrQ==?=  Fri Dec 26 18:08:36 2008
From: =?utf-8?B?SWRyaXMgU2FtYXdpIEhhbWlkINin2K/YsdmK2LMg2LPZhdin2YjZiiDYrQ==?= (=?utf-8?B?SWRyaXMgU2FtYXdpIEhhbWlkINin2K/YsdmK2LMg2LPZhdin2YjZiiDYrQ==?=)
Date: Fri, 26 Dec 2008 10:08:36 -0700
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <alpine.DEB.1.00.0812261317320.4084@hahepc1.hahe>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl> <BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401>
	<BLU117-W2686BBD2C87A40EC37883C89EB0@phx.gbl>
	<op.umq2rkuxfkrasx@your-b27fb1c401>
	<alpine.DEB.1.00.0812261317320.4084@hahepc1.hahe>
Message-ID: <op.umr4kml2fkrasx@your-b27fb1c401>

On Fri, 26 Dec 2008 05:25:46 -0700, Hartmut Henkel <hartmut_henkel at gmx.de>  
wrote:

> On Thu, 25 Dec 2008, Idris Samawi Hamid ????? ????? ???? wrote:
>
>> I have attached two test files from almost exactly one year ago.
>
> just a tiny remark: maybe it would be practical if we could stick to
> plain TeX for such test files, as this can exercise the primitives
> directly, may produce more compact/generic/primitive PDF code, and there
> is no need then to think whether what we see are effects of ConTeXt or
> "the engine".

Sure, just that this was all I had at the moment, and no time at all to  
develop new files (I did suggest to Vafa to start from scratch)

:-)

Best wishes
Idris

-- 
Professor Idris Samawi Hamid, Editor-in-Chief
International Journal of Shi`i Studies
Department of Philosophy
Colorado State University
Fort Collins, CO 80523

From yuleopen at gmail.com  Fri Dec 26 18:06:09 2008
From: yuleopen at gmail.com (Yue Wang)
Date: Sat, 27 Dec 2008 01:06:09 +0800
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W1FCFC94A7A341D7C8EEE389EB0@phx.gbl>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401>
	<A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>
	<BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>
	<op.umr14rghfkrasx@your-b27fb1c401>
	<BLU117-W1FCFC94A7A341D7C8EEE389EB0@phx.gbl>
Message-ID: <68bfdc900812260906t4d9d520cxddca5136c244ba88@mail.gmail.com>

Hi,


>> Can you do these in luatex as well?
>
> Yes, but please give me some time. Let me first produce the document which
> explains TeX-e-Parsi's changes.
>
> At first glance: From the pdf's I do

In fact I do not see something special. can you please explain the
kind of things your engines can do and LuaTeX cannot do. Show examples
and explain. In this way can developers (like Taco and Hans) to design
these features in ConTeXt or LuaTeX.


>Furthermore you all talk about LTR and RTL, but what about vertical typesetting, in the Chinese or in >the Mongolian way? Obviously TeX-e-Parsi doesn't care about that.

It's true. and I think Omega did not handle that well either.
Moreover, XeTeX also has some problems.
There are some very trivial problems in the footnote of a vertical
typesetted paragraph and underlining a vertical typesetted word.

So I think maybe we should incorporate some code from pTeX since pTeX
can handle these cases quite well inasmuch as it is tested by Japanese
users for years. (or design these algorithms).

Yue Wang

From chemoelectric at chemoelectric.org  Fri Dec 26 19:04:46 2008
From: chemoelectric at chemoelectric.org (Barry Schwartz)
Date: Fri, 26 Dec 2008 12:04:46 -0600
Subject: [Dev-luatex] LuaTeX and ANT (Ant is not TeX)
In-Reply-To: <4954F00F.9070205@ucl.ac.uk>
References: <4954F00F.9070205@ucl.ac.uk>
Message-ID: <20081226180446.GA30534@crud.crud.mn.org>

Mohamed Bana <m.bana at ucl.ac.uk> skribis:
> why precisely was Lua chosen as the implementation language?/  ANT (ant is 
> not TeX)/, see http://ant.berlios.de/ was registered: 2005-Nov-23 10:38.  
> as far as i'm aware, dynamic languages are generally much slower than those 
> that are statically typed.

Ant may be written in OCaml but the author himself pointed out
recently that ant wasn't written for speed and isn't fast. It's
designed, like luaTeX, to be easy to modify and extend (as long as you
know OCaml and can recompile). It did include a scripting language
before luaTeX :) but not a full-featured one.


From yannis.haralambous at telecom-bretagne.eu  Fri Dec 26 19:53:56 2008
From: yannis.haralambous at telecom-bretagne.eu (Yannis Haralambous)
Date: Fri, 26 Dec 2008 19:53:56 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401>
	<A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>
	<BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>
Message-ID: <0219794A-26D4-48A9-915B-39D44A3ED880@telecom-bretagne.eu>

Le 26 d?c. 08 ? 16:52, ??? ?????? Vafa Khalighi a ?crit :

> Please let me know if you were looking for a different kind of output.


It would be nice to have curved keshided...

--
+
-----------------------------------------------------------------------+
| Yannis Haralambous, Ph.D.      yannis.haralambous at telecom- 
bretagne.eu |
| Directeur d'?tudes                      http://omega.enstb.org/ 
yannis |
|                                             Tel. +33  
(0)2.29.00.14.27 |
|                                             Fax  +33  
(0)2.29.00.12.82 |
| D?partement  
Informatique                                              |
| TELECOM  
Bretagne                                                      |
| Technop?le de Brest Iroise, CS 83818, 29238 Brest CEDEX 3,  
France     |
| Coordonn?es Google-Earth : 48?21'31.57"N  
4?34'16.76"W                 |
+ 
-----------------------------------------------------------------------+
                             ...pour distinguer l'ext?rieur d'un  
aquarium,
                                            mieux vaut n'?tre pas  
poisson

                            ...the ball I threw while playing in the  
park
                                           has not yet reached the  
ground

               Es gab eine Zeit, wo ich nur ungern ?ber Schubert  
sprechen,
            nur N?chtens den B?umen und Sternen von ihm vorerz?hlen  
m?gen.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081226/3747fce1/attachment-0002.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Yannis Haralambous.vcf
Type: text/directory
Size: 508 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081226/3747fce1/attachment-0001.bin>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081226/3747fce1/attachment-0003.html>

From pragma at wxs.nl  Fri Dec 26 23:53:40 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 26 Dec 2008 23:53:40 +0100
Subject: [Dev-luatex] OTF engine in LuaTeX
In-Reply-To: <49550E24.8030507@telecom-bretagne.eu>
References: <49550E24.8030507@telecom-bretagne.eu>
Message-ID: <49556074.8080100@wxs.nl>

Elie Roux wrote:
> Hello,
> 
> I have a small experience in TeX (I wrote a plain TeX style for 
> gregorian chant, http://home.gna.org/gregorio), and I am very interested 
> in LuaTeX and all the features it will bring to the TeX world. For 
> example LuaTeX allowed me to correct some very annoying bugs that 
> happened sometimes in my style, and that couldn't be corrected in plain 
> TeX. So thank you for you great job!
> 
> It happens that I have some time now, and during next month. So I would 
> be interested in helping you, especially for OTF integration in LuaTeX. 
> For now I'm using the code present here 
> http://luatex.bluwiki.com/go/Use_a_TrueType_font to deal with OTF, but 
> it's not really satisfying (no ligatures for example). So if it is 
> possible to help with an OTF engine like in XeTeX, I would be very happy 
> to start it, or continue it. Please tell me how I should proceed!

there will be no built in otf engine or any engine

(context comes with one written in lua; at some point i will make a 
spin-off for plain tex that then also can be used elsewhere)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Fri Dec 26 23:58:03 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Fri, 26 Dec 2008 23:58:03 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <op.umr3z9vzfkrasx@your-b27fb1c401>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>	<49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>	<op.umqvwin4fkrasx@your-b27fb1c401>	<A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>	<BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>	<op.umr14rghfkrasx@your-b27fb1c401>	<BLU117-W1FCFC94A7A341D7C8EEE389EB0@phx.gbl>
	<op.umr3z9vzfkrasx@your-b27fb1c401>
Message-ID: <4955617B.1070305@wxs.nl>

Idris Samawi Hamid ????? ????? ???? wrote:
> On Fri, 26 Dec 2008 09:47:15 -0700, ??? ?????? Vafa Khalighi
> <vafa at live.com.au> wrote:
> 
>> We should have
>> a sample complex bidirectional text which contain everything in it 
>> (boxes, LTR and RTL texts, poems, colors, diagrams, footnotes and ...) 
>> and then compare the produced outputs.
> 
> Of course
> 
>> Please also note that I am using LaTeX not context.
> 
> As Hartmut points out, our tests at the end of the day need to be done
> with primitives alone.

it depends what you test; primitive behaviour or typesetting; you can 
only show real typeset text when you use some kind of high level wrapper 
(load fonts, deal with language aspects); tex itself is just machinery; 
it's like a car: we can compare wheels and engines but it's the car that 
has to bring you from a to b


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From reinhard.kotucha at web.de  Sat Dec 27 04:52:06 2008
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sat, 27 Dec 2008 04:52:06 +0100
Subject: [Dev-luatex] LuaTeX and ANT (Ant is not TeX)
In-Reply-To: <4954FBC1.4060409@wxs.nl>
References: <4954F00F.9070205@ucl.ac.uk>
	<4954FBC1.4060409@wxs.nl>
Message-ID: <18773.42598.595359.784937@zaphod.ms25.net>

Hans Hagen writes:
 > Mohamed Bana wrote:

 > > and i'm not trolling, i just want to know why.  please share your
 > > thoughts.
 > 
 > [...] it's meant as as embedable language

Hans,
you missed the most important point: Though Lua is a very modern and
extremely powerful programming language with very interesting
concepts, the main advantage is that it's easy to learn.

Whether Lua is designed for embedded systems or not is quite
unimportant to end-users.  Otherwise you could consider GNU guile, a
Scheme engine, too.

Nothing against Scheme (or OCaml, Lisp, Perl, INTERCAL, Whitespace...),
but for casual TeX users there is nothing better than Lua.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha			              Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover	                      mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From pragma at wxs.nl  Sat Dec 27 10:55:10 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Sat, 27 Dec 2008 10:55:10 +0100
Subject: [Dev-luatex] LuaTeX and ANT (Ant is not TeX)
In-Reply-To: <18773.42598.595359.784937@zaphod.ms25.net>
References: <4954F00F.9070205@ucl.ac.uk>	<4954FBC1.4060409@wxs.nl>
	<18773.42598.595359.784937@zaphod.ms25.net>
Message-ID: <4955FB7E.7080405@wxs.nl>

Reinhard Kotucha wrote:
> Hans Hagen writes:
>  > Mohamed Bana wrote:
> 
>  > > and i'm not trolling, i just want to know why.  please share your
>  > > thoughts.
>  > 
>  > [...] it's meant as as embedable language
> 
> Hans,
> you missed the most important point: Though Lua is a very modern and
> extremely powerful programming language with very interesting
> concepts, the main advantage is that it's easy to learn.
> 
> Whether Lua is designed for embedded systems or not is quite
> unimportant to end-users.  Otherwise you could consider GNU guile, a
> Scheme engine, too.

ah, i didn't mean for 'embedded systems', but as a language to embed 
i.e. use as interface to something bigger; 'extension language' is a 
better term

> Nothing against Scheme (or OCaml, Lisp, Perl, INTERCAL, Whitespace...),
> but for casual TeX users there is nothing better than Lua.

sure, and there ar emore reasons, like 'not being bloated by large 
libraries', rather stable, interesting small, easy to master the whole 
language, etc

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From elie.roux at telecom-bretagne.eu  Sat Dec 27 11:14:57 2008
From: elie.roux at telecom-bretagne.eu (Elie Roux)
Date: Sat, 27 Dec 2008 11:14:57 +0100
Subject: [Dev-luatex] OTF engine in LuaTeX
In-Reply-To: <49556074.8080100@wxs.nl>
References: <49550E24.8030507@telecom-bretagne.eu> <49556074.8080100@wxs.nl>
Message-ID: <49560021.9000701@telecom-bretagne.eu>

Hans Hagen a ?crit :
> there will be no built in otf engine or any engine
>
> (context comes with one written in lua; at some point i will make a 
> spin-off for plain tex that then also can be used elsewhere)

Ok... I still want to help with OTF support, whatever the solution, so 
if you need any help, just ask me.
-- 
Elie

From vafa at live.com.au  Sat Dec 27 16:01:23 2008
From: vafa at live.com.au (=?utf-8?B?2YjZgdinINiu2YTbjNmC24zYjCBWYWZhIEtoYWxpZ2hp?=)
Date: Sun, 28 Dec 2008 01:31:23 +1030
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl> <BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401>
	<A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>
	<BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl> 
	<68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
Message-ID: <BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>


I have written a small doc explaining some of the main primitives. You
can find it at http://parsilatex.org/parsitex/primitives.pdf

As you can see in TeX-e-Parsi we can have automatic direction change.
_________________________________________________________________
Messenger's gift to you! Download free emoticons today!
http://livelife.ninemsn.com.au/article.aspx?id=669758 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081228/8d17c345/attachment.html>

From listas at tex-tipografia.com  Sat Dec 27 17:20:30 2008
From: listas at tex-tipografia.com (Javier Bezos)
Date: Sat, 27 Dec 2008 17:20:30 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl><49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl><op.umqvwin4fkrasx@your-b27fb1c401><A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu><BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>
	<68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>
Message-ID: <E2B46A9A592441509FEC63DFF79E9270@PC1>


> As you can see in TeX-e-Parsi we can have automatic direction change.

The fact automatic direction change is hardcoded is a serious
drawback, and not and advantage, imo. There are many subtle
points in bidi typesetting which can be addressed only in a
programmable environment, like that provided by luatex. Even
with otps, which are very limited as compared with luatex, I
managed to implement a preliminary automatic direction change
(in fact, an automatic script change, including direction).

Javier
-----------------------------------
http://www.tex-tipografia.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081227/e53a0a0f/attachment.html>

From vafa at live.com.au  Sat Dec 27 17:35:29 2008
From: vafa at live.com.au (=?utf-8?B?2YjZgdinINiu2YTbjNmC24zYjCBWYWZhIEtoYWxpZ2hp?=)
Date: Sun, 28 Dec 2008 03:05:29 +1030
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <E2B46A9A592441509FEC63DFF79E9270@PC1>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl><49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl><op.umqvwin4fkrasx@your-b27fb1c401><A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu><BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>
	<68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl> 
	<E2B46A9A592441509FEC63DFF79E9270@PC1>
Message-ID: <BLU117-W54959EFC60576344151E9689E80@phx.gbl>



The fact automatic direction change is hardcoded is a 
serious
drawback, and not and advantage, imo. There are many subtle
points in bidi typesetting which 
can be addressed only in a
programmable environment, like that provided by luatex. Even
with otps, which are very limited as compared with 
luatex, I
managed to implement a preliminary automatic 
direction change
(in fact, an automatic script 
change, including direction).



I believe the automatic direction change is the main advantage otherwise typesetting with TeX is unnatural and useless.
 
_________________________________________________________________
Holiday cheer from Messenger. Download free emoticons today!
http://livelife.ninemsn.com.au/article.aspx?id=669758 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081228/419afcf1/attachment.html>

From yannis.haralambous at telecom-bretagne.eu  Sat Dec 27 19:56:15 2008
From: yannis.haralambous at telecom-bretagne.eu (Yannis Haralambous)
Date: Sat, 27 Dec 2008 19:56:15 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W54959EFC60576344151E9689E80@phx.gbl>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl><49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl><op.umqvwin4fkrasx@your-b27fb1c401><A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu><BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>
	<68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>
	<E2B46A9A592441509FEC63DFF79E9270@PC1>
	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>
Message-ID: <81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>

"automatic direction change" is actually what we call "bidi  
algorithm". Unicode provides special characters for explicitly  
changing direction when the automatic direction change is not  
sufficient. OTPs cannot do it because they give up on every token  
which is not a character with specific catcodes.

Le 27 d?c. 08 ? 17:35, ??? ?????? Vafa Khalighi a ?crit :

>
> The fact automatic direction change is hardcoded is a serious
> drawback, and not and advantage, imo. There are many subtle
> points in bidi typesetting which can be addressed only in a
> programmable environment, like that provided by luatex. Even
> with otps, which are very limited as compared with luatex, I
> managed to implement a preliminary automatic direction change
> (in fact, an automatic script change, including direction).
>
>
>
> I believe the automatic direction change is the main advantage  
> otherwise typesetting with TeX is unnatural and useless.
>
>
> Download free emoticons today! Holiday cheer from Messenger.  
> _______________________________________________
> dev-luatex mailing list
> dev-luatex at ntg.nl
> http://www.ntg.nl/mailman/listinfo/dev-luatex

--
+ 
-----------------------------------------------------------------------+
| Yannis Haralambous, Ph.D.      yannis.haralambous at telecom- 
bretagne.eu |
| Directeur d'?tudes                      http://omega.enstb.org/ 
yannis |
|                                             Tel. +33  
(0)2.29.00.14.27 |
|                                             Fax  +33  
(0)2.29.00.12.82 |
| D?partement  
Informatique                                              |
| TELECOM  
Bretagne                                                      |
| Technop?le de Brest Iroise, CS 83818, 29238 Brest CEDEX 3,  
France     |
| Coordonn?es Google-Earth : 48?21'31.57"N  
4?34'16.76"W                 |
+ 
-----------------------------------------------------------------------+
                             ...pour distinguer l'ext?rieur d'un  
aquarium,
                                            mieux vaut n'?tre pas  
poisson

                            ...the ball I threw while playing in the  
park
                                           has not yet reached the  
ground

               Es gab eine Zeit, wo ich nur ungern ?ber Schubert  
sprechen,
            nur N?chtens den B?umen und Sternen von ihm vorerz?hlen  
m?gen.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081227/7808c940/attachment-0002.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Yannis Haralambous.vcf
Type: text/directory
Size: 508 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081227/7808c940/attachment-0001.bin>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081227/7808c940/attachment-0003.html>

From vafa at live.com.au  Sat Dec 27 20:09:17 2008
From: vafa at live.com.au (=?utf-8?B?2YjZgdinINiu2YTbjNmC24zYjCBWYWZhIEtoYWxpZ2hp?=)
Date: Sun, 28 Dec 2008 05:39:17 +1030
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl><49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl><op.umqvwin4fkrasx@your-b27fb1c401><A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu><BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>
	<68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>
	<E2B46A9A592441509FEC63DFF79E9270@PC1>
	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>
	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>
Message-ID: <BLU117-W9054814B52C8A83DE714289E80@phx.gbl>


I had tried my best to show another approach which I think is more advanced, it is bug free and takes care of everything and at the same time can be modeled for vertical texts as well.

If you think that the current bidirectional algorithm of LuaTeX is just fine, then this will be my last email.

_________________________________________________________________
Time for change? Find your ideal job with SEEK.
http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Fninemsn%2Eseek%2Ecom%2Eau%2F%3Ftracking%3Dsk%3Atl%3Ask%3Anine%3A0%3Ahottag%3Achange&_t=757263783&_r=SEEK_tagline&_m=EXT
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081228/34a5edf9/attachment.html>

From yannis.haralambous at telecom-bretagne.eu  Sat Dec 27 20:19:59 2008
From: yannis.haralambous at telecom-bretagne.eu (Yannis Haralambous)
Date: Sat, 27 Dec 2008 20:19:59 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W9054814B52C8A83DE714289E80@phx.gbl>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl><49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl><op.umqvwin4fkrasx@your-b27fb1c401><A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu><BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>
	<68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>
	<E2B46A9A592441509FEC63DFF79E9270@PC1>
	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>
	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>
	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>
Message-ID: <0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>

You say "it takes care of everything" as if all problems of Arabic  
typography have been solved. They are not! It would be interesting to  
find out what exactly your system does more than (a) Omega and (b)  
luatex.

And I don't really see what the issue is: are we talking for or  
against the bidirectional algorithm? or is it for or against your  
system's typesetting features?

In the first case, then I think the issue is clear: every current  
Arabic system must be bidi-compliant. In the second case, I would like  
to know more about your system, so please do not disappear.

Le 27 d?c. 08 ? 20:09, ??? ?????? Vafa Khalighi a ?crit :

> I had tried my best to show another approach which I think is more  
> advanced, it is bug free and takes care of everything and at the  
> same time can be modeled for vertical texts as well.
>
> If you think that the current bidirectional algorithm of LuaTeX is  
> just fine, then this will be my last email.
>
> Find your ideal job with SEEK Time for change?  
> _______________________________________________
> dev-luatex mailing list
> dev-luatex at ntg.nl
> http://www.ntg.nl/mailman/listinfo/dev-luatex

--
+ 
-----------------------------------------------------------------------+
| Yannis Haralambous, Ph.D.      yannis.haralambous at telecom- 
bretagne.eu |
| Directeur d'?tudes                      http://omega.enstb.org/ 
yannis |
|                                             Tel. +33  
(0)2.29.00.14.27 |
|                                             Fax  +33  
(0)2.29.00.12.82 |
| D?partement  
Informatique                                              |
| TELECOM  
Bretagne                                                      |
| Technop?le de Brest Iroise, CS 83818, 29238 Brest CEDEX 3,  
France     |
| Coordonn?es Google-Earth : 48?21'31.57"N  
4?34'16.76"W                 |
+ 
-----------------------------------------------------------------------+
                             ...pour distinguer l'ext?rieur d'un  
aquarium,
                                            mieux vaut n'?tre pas  
poisson

                            ...the ball I threw while playing in the  
park
                                           has not yet reached the  
ground

               Es gab eine Zeit, wo ich nur ungern ?ber Schubert  
sprechen,
            nur N?chtens den B?umen und Sternen von ihm vorerz?hlen  
m?gen.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081227/33f8d492/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Yannis Haralambous.vcf
Type: text/directory
Size: 508 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081227/33f8d492/attachment.bin>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081227/33f8d492/attachment-0001.html>

From preining at logic.at  Sat Dec 27 20:20:05 2008
From: preining at logic.at (Norbert Preining)
Date: Sat, 27 Dec 2008 20:20:05 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W9054814B52C8A83DE714289E80@phx.gbl>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>
	<E2B46A9A592441509FEC63DFF79E9270@PC1>
	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>
	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>
	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>
Message-ID: <20081227192005.GC20666@gamma.logic.tuwien.ac.at>

On So, 28 Dez 2008, ??? ?????? Vafa Khalighi wrote:
> If you think that the current bidirectional algorithm of LuaTeX is just fine, then this will be my last email.

It seems that you are not open for discussion. Taco, Hans, et al have
asked you for explanations why you believe your approach is better, but
you missed to provide facts.

That is life, those who are doing the programming work have the rights
to make decisions, and without good arguments from other sides they will
do what they think best.

And since there are quite a lot working with Arabic texts here on the
list and it seems nobody chimed in with you, it seems that you are
having an even smaller ground.

Anyway, if you come back with good arguments I am sure Taco and Hans and
Idris and whoever will take it up.

Enjoy

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
SCRONKEY (n.)
Something that hits the window as a result of a violent sneeze.
			--- Douglas Adams, The Meaning of Liff

From listas at tex-tipografia.com  Sat Dec 27 20:16:00 2008
From: listas at tex-tipografia.com (Javier Bezos)
Date: Sat, 27 Dec 2008 20:16:00 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl><49536448.3080909@wxs.nl><BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl><op.umqvwin4fkrasx@your-b27fb1c401><A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu><BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl><68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com><BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>
	<E2B46A9A592441509FEC63DFF79E9270@PC1>
	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>
Message-ID: <CF4CF15913BF4964AAEA1EA2916DA2EE@PC1>

>> The fact automatic direction change is hardcoded is a serious
>> drawback, and not and advantage, imo. There are many subtle
>> points in bidi typesetting which can be addressed only in a

> I believe the automatic direction change is the main advantage
> otherwise typesetting with TeX is unnatural and useless.

Of course, but it shouldn't be _hardcoded_ in the TeX engine, but
programmed at a higher level (ie, tex macros, lua, etc.) so that
we can control its behaviour.

Javier
-----------------------------
http://www.tex-tipografia.com

From vafa at live.com.au  Sat Dec 27 20:32:49 2008
From: vafa at live.com.au (=?utf-8?B?2YjZgdinINiu2YTbjNmC24zYjCBWYWZhIEtoYWxpZ2hp?=)
Date: Sun, 28 Dec 2008 06:02:49 +1030
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl><49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl><op.umqvwin4fkrasx@your-b27fb1c401><A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu><BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>
	<68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>
	<E2B46A9A592441509FEC63DFF79E9270@PC1>
	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>
	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>
	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>
	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>
Message-ID: <BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>




You say "it takes care of everything" as if all problems of Arabic typography have been solved. They are not! It would be interesting to find out what exactly your system does more than (a) Omega and (b) luatex.


TeX-e-Parsi is not my system. And yes, I am here so that we can discuss the strength of each of these systems and eventually we can come up with a conclusion. When I said "it takes care of everything", Iwas talking about the left and right directions.

And I don't really see what the issue is: are we talking for or against the bidirectional algorithm? or is it for or against your system's typesetting features?
In the first case, then I think the issue is clear: every current Arabic system must be bidi-compliant. In the second case, I would like to know more about your system, so please do not disappear.


I believe there is no issue. We are taking for better bidirectional algorithm. I am not talking for my system, as I said before that is not my system. I will not disappear and will talk more about TeX-e-Parsi;s features.

I just felt that you guys think the current bidirectional algorithm of LuaTeX is fine and have no interest to study other systems.




_________________________________________________________________
Time for change? Find your ideal job with SEEK.
http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Fninemsn%2Eseek%2Ecom%2Eau%2F%3Ftracking%3Dsk%3Atl%3Ask%3Anine%3A0%3Ahottag%3Achange&_t=757263783&_r=SEEK_tagline&_m=EXT
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081228/2d37b65b/attachment-0001.html>

From vafa at live.com.au  Sat Dec 27 20:43:49 2008
From: vafa at live.com.au (=?utf-8?B?2YjZgdinINiu2YTbjNmC24zYjCBWYWZhIEtoYWxpZ2hp?=)
Date: Sun, 28 Dec 2008 06:13:49 +1030
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <20081227192005.GC20666@gamma.logic.tuwien.ac.at>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>
	<E2B46A9A592441509FEC63DFF79E9270@PC1>
	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>
	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>
	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>
	<20081227192005.GC20666@gamma.logic.tuwien.ac.at>
Message-ID: <BLU117-W3686A2C0B39E592671A64A89E80@phx.gbl>



> It seems that you are not open for discussion. Taco, Hans, et al have
> asked you for explanations why you believe your approach is better, but
> you missed to provide facts.

I am open to discussions, and I think Hans said " a short description of the primitives is a good start" and I tried my first attempt by sending that doc explaining some of the primitives.

> That is life, those who are doing the programming work have the rights
> to make decisions, and without good arguments from other sides they will
> do what they think best.


True.


> And since there are quite a lot working with Arabic texts here on the
> list and it seems nobody chimed in with you, it seems that you are
> having an even smaller ground.

They still do not know much about the system that I am talking about. But I do not understand your purpose by saying that? Are you saying that it was a mistake that I decided to discuss about bidirectional algorithm? or you are putting me down and trying to tell me "get lost"? ok, if you wish so, I do then.

> Anyway, if you come back with good arguments I am sure Taco and Hans and
> Idris and whoever will take it up.

I have not finished yet and I have not gone thorough all of the features of TeX-e-Parsi, so I do not know what are your points?

_________________________________________________________________
Holiday cheer from Messenger. Download free emoticons today!
http://livelife.ninemsn.com.au/article.aspx?id=669758 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081228/8aa11642/attachment.html>

From preining at logic.at  Sat Dec 27 20:45:29 2008
From: preining at logic.at (Norbert Preining)
Date: Sat, 27 Dec 2008 20:45:29 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>
	<E2B46A9A592441509FEC63DFF79E9270@PC1>
	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>
	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>
	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>
	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>
	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>
Message-ID: <20081227194529.GA22687@gamma.logic.tuwien.ac.at>

On So, 28 Dez 2008, ??? ?????? Vafa Khalighi wrote:
> I just felt that you guys think the current bidirectional algorithm of LuaTeX is fine and have no interest to study other systems.

Because the bidi algo of luatex is more advanced, it can do arbitrary
rotation text/char/page directions, not simply left-right-left.
Finished. That is needed for Chinese, Japanese, Mongolian to name a few.

Best wishes

Norbert

-------------------------------------------------------------------------------
Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
Debian Developer <preining at debian.org>                         Debian TeX Group
gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
-------------------------------------------------------------------------------
GRIMSBY (n.)
A lump of something gristly and foultasting concealed in a mouthful of
stew or pie. Grimsbies are sometimes merely the result of careless
cookery, but more often they are placed there deliberately by
Freemasons. Grimbies can be purchased in bulk from any respectable
Masonic butcher on giving him the secret Masonic handbag. One is then
placed correct masonic method of dealing with it. If the guest is not
a Mason, the host may find it entertaining to watch how he handles the
obnoxious object. It may be (a) manfully swallowed, invariably
bringing tears to the eyes. (b) chewed with resolution for up to
twenty minutes before eventually resorting to method (a) (c) choked on
fatally. The Masonic handshake is easily recognised by another Mason
incidentally, for by it a used grimsby is passed from hand to
hand. The secret Masonic method for dealing with a grimsby is as
follows : remove it carefully with the silver tongs provided, using
the left hand. Cross the room to your host, hopping on one leg, and
ram the grimsby firmly up his nose, shouting, 'Take that, you smug
Masonic bastard.'
			--- Douglas Adams, The Meaning of Liff

From pragma at wxs.nl  Sat Dec 27 22:10:45 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Sat, 27 Dec 2008 22:10:45 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W3686A2C0B39E592671A64A89E80@phx.gbl>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>	<E2B46A9A592441509FEC63DFF79E9270@PC1>	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>	<20081227192005.GC20666@gamma.logic.tuwien.ac.at>
	<BLU117-W3686A2C0B39E592671A64A89E80@phx.gbl>
Message-ID: <495699D5.9040501@wxs.nl>

??? ?????? Vafa Khalighi wrote:
> 
>  > It seems that you are not open for discussion. Taco, Hans, et al have
>  > asked you for explanations why you believe your approach is better, but
>  > you missed to provide facts.
> 
> I am open to discussions, and I think Hans said " a short description of 
> the primitives is a good start" and I tried my first attempt by sending 
> that doc explaining some of the primitives.

you have to give us some time to study things so there will be no quick 
answer (apart from the fact that it's a bit holiday season here)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From root at www.metatex.org  Sat Dec 27 22:25:00 2008
From: root at www.metatex.org (Cron Daemon)
Date: Sat, 27 Dec 2008 22:25:00 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081227212500.12D901E8C2AC@www.metatex.org>

------------------------------------------------------------------------
r1688 | hhenkel | 2008-12-27 20:37:24 +0100 (Sat, 27 Dec 2008) | 9 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/luatex.web

changes in the PDF backend:
* polarity of macros pdf_dvicmd_up and pdf_dvicmd_down changed for convenience.
* macro pdf_dvicmd_h completed.
* macro pdf_dvicmd_v added. 
* @<(\pdfTeX) Output a rule in an hlist@> rewritten.
* @<(\pdfTeX) Output a rule in a vlist...@> rewritten.
* vertical kerns in L** and R** modes repaired.
* vrules, hrules, and vertical kerns tested in all 8 page directions.

------------------------------------------------------------------------
r1689 | oneiros | 2008-12-27 21:26:11 +0100 (Sat, 27 Dec 2008) | 2 lines
Changed paths:
   M /trunk/build.sh.linux

log the output of configure & make

------------------------------------------------------------------------

From vafa at live.com.au  Sat Dec 27 11:08:57 2008
From: vafa at live.com.au (=?utf-8?B?2YjZgdinINiu2YTbjNmC24zYjCBWYWZhIEtoYWxpZ2hp?=)
Date: Sat, 27 Dec 2008 20:38:57 +1030
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl> <BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401>
	<A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>
	<BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl> 
	<68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
Message-ID: <BLU117-W46C4CA7A2FEA28AAB9F2A289E80@phx.gbl>


I have attached a document which explains the main changes which needs to be done.

_________________________________________________________________
Time for change? Find your ideal job with SEEK.
http://a.ninemsn.com.au/b.aspx?URL=http%3A%2F%2Fninemsn%2Eseek%2Ecom%2Eau%2F%3Ftracking%3Dsk%3Atl%3Ask%3Anine%3A0%3Ahottag%3Achange&_t=757263783&_r=SEEK_tagline&_m=EXT
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081227/f2a49a69/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.pdf
Type: application/pdf
Size: 43085 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081227/f2a49a69/attachment-0001.pdf>

From yuleopen at gmail.com  Sun Dec 28 09:12:10 2008
From: yuleopen at gmail.com (Yue Wang)
Date: Sun, 28 Dec 2008 16:12:10 +0800
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <20081227194529.GA22687@gamma.logic.tuwien.ac.at>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>
	<E2B46A9A592441509FEC63DFF79E9270@PC1>
	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>
	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>
	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>
	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>
	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>
	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>
Message-ID: <68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>

Hi, Norbert:

Can you show me an example of vertical typesetting in LuaTeX?
you can use Latin Modern Mono fonts as example. Thanks

Yue Wang

On Sun, Dec 28, 2008 at 3:45 AM, Norbert Preining <preining at logic.at> wrote:
> On So, 28 Dez 2008, ??? ?????? Vafa Khalighi wrote:
>> I just felt that you guys think the current bidirectional algorithm of LuaTeX is fine and have no interest to study other systems.
>
> Because the bidi algo of luatex is more advanced, it can do arbitrary
> rotation text/char/page directions, not simply left-right-left.
> Finished. That is needed for Chinese, Japanese, Mongolian to name a few.
>
> Best wishes
>
> Norbert
>
> -------------------------------------------------------------------------------
> Dr. Norbert Preining <preining at logic.at>        Vienna University of Technology
> Debian Developer <preining at debian.org>                         Debian TeX Group
> gpg DSA: 0x09C5B094      fp: 14DF 2E6C 0307 BE6D AD76  A9C0 D2BF 4AA3 09C5 B094
> -------------------------------------------------------------------------------
> GRIMSBY (n.)
> A lump of something gristly and foultasting concealed in a mouthful of
> stew or pie. Grimsbies are sometimes merely the result of careless
> cookery, but more often they are placed there deliberately by
> Freemasons. Grimbies can be purchased in bulk from any respectable
> Masonic butcher on giving him the secret Masonic handbag. One is then
> placed correct masonic method of dealing with it. If the guest is not
> a Mason, the host may find it entertaining to watch how he handles the
> obnoxious object. It may be (a) manfully swallowed, invariably
> bringing tears to the eyes. (b) chewed with resolution for up to
> twenty minutes before eventually resorting to method (a) (c) choked on
> fatally. The Masonic handshake is easily recognised by another Mason
> incidentally, for by it a used grimsby is passed from hand to
> hand. The secret Masonic method for dealing with a grimsby is as
> follows : remove it carefully with the silver tongs provided, using
> the left hand. Cross the room to your host, hopping on one leg, and
> ram the grimsby firmly up his nose, shouting, 'Take that, you smug
> Masonic bastard.'
>                        --- Douglas Adams, The Meaning of Liff
> _______________________________________________
> dev-luatex mailing list
> dev-luatex at ntg.nl
> http://www.ntg.nl/mailman/listinfo/dev-luatex
>

From taco at elvenkind.com  Sun Dec 28 10:04:54 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 28 Dec 2008 10:04:54 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>	<49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>	<op.umqvwin4fkrasx@your-b27fb1c401>	<A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>	<BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>
	<68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>
Message-ID: <49574136.1080401@elvenkind.com>

Hi,


??? ?????? Vafa Khalighi wrote:
>   I have written a small doc explaining some of the main primitives. You 
> can find it at http://parsilatex.org/parsitex/primitives.pdf

I've read that document and browsed through tex.ch a bit, and here
are my thoughts so far:


On direction changes
--------------------

If I understand the document correctly, it appears that the automatic
switch works in one of two ways:

A you use a special 8-bit font with the upper half persian and the
   lower half latin. This case confines the input to an 8-bit encoding
   table, something like Microsoft page 1256.

B or you can use two fonts; a full 8-bit arabic and an 8-bit latin
   or symbolic font, and then your font switch triggers the direction
   change.

And you can always go back to explicit \begin[LR] \end[LR] commands,
whenever you so desire. I hope I got that right.

Method A can easily be implemented using lua input filtering in such
a way that it is transparent to the luatex user (it should use Unicode
characters and a Unicode-enabled font, of course). Doing that would
not be hard at all and does not require engine changes.

Method B is absolutely unsuitable for luatex because it assumes
that there is only duality in scripts, instead of multiplicity.
For the same reason, a number of the new primitives is unsuited
for luatex (\semichar, \semispaceskip, \everysemi<>, etc.).


On localization
---------------

It is interesting that TeX-e-Parsi can read primitives and keywords
in Persian, and report errors in Persian as well. In Luatex, it is
possible to \let any utf-8 sequence to a primitive, but the
localization of keywords and error messages is something that we
definately can/should look into.


Other stuff
-----------

I can deduce that there are some accent extensions in TeX-e-Parsi,
can you explain a bit about how that works?

Reading the rest of the document, I am a bit curious what \lcode is.
It seems related to wordstring detection?


As far as I can see, the other typesetting-related primitives are
already provided by luatex via Aleph via Omega, and usually in a more
generic fashion.

For example, TeX-e-Parsi has

    \curboxdir           % read
    \rightvbox \leftvbox % write

Luatex has

     \the\boxdir          % read
     \boxdir <DIR>        % write

If you feel something is currently missing from luatex in this regard
than you have to be explicit about that, I may well have overlooked
something.


Best wishes,
Taco





From jfine at pytex.org  Sun Dec 28 10:21:14 2008
From: jfine at pytex.org (Jonathan Fine)
Date: Sun, 28 Dec 2008 09:21:14 +0000
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>	<E2B46A9A592441509FEC63DFF79E9270@PC1>	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>
	<68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>
Message-ID: <4957450A.7010503@pytex.org>

Hi

Just a reminder, which is probably not necessary.  In The TeX Boook, 
Donald Knuth wrote (page 226):
===
The author hopes that such extensions will not be made very often, 
because he doesn't want incompatible pseudo-TeX systems to proliferate; 
yet he realizes that certain special books deserve special treatment.
===

I'm encouraged, that a dialog is taking place.

-- 

Jonathan

From taco at elvenkind.com  Sun Dec 28 10:34:32 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 28 Dec 2008 10:34:32 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>	<E2B46A9A592441509FEC63DFF79E9270@PC1>	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>
	<68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>
Message-ID: <49574828.2080007@elvenkind.com>

Yue Wang wrote:
> Hi, Norbert:
> 
> Can you show me an example of vertical typesetting in LuaTeX?
> you can use Latin Modern Mono fonts as example. Thanks

I would welcome some test files as well. I had no test files
when I did the Aleph merge, so the PDF output almost certainly
doesn't do the right thing.

Best wishes,
Taco

From taco at elvenkind.com  Sun Dec 28 10:46:20 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sun, 28 Dec 2008 10:46:20 +0100
Subject: [Dev-luatex] OTF engine in LuaTeX
In-Reply-To: <49560021.9000701@telecom-bretagne.eu>
References: <49550E24.8030507@telecom-bretagne.eu> <49556074.8080100@wxs.nl>
	<49560021.9000701@telecom-bretagne.eu>
Message-ID: <49574AEC.2080601@elvenkind.com>

Elie Roux wrote:
> Hans Hagen a ?crit :
>> there will be no built in otf engine or any engine
>>
>> (context comes with one written in lua; at some point i will make a 
>> spin-off for plain tex that then also can be used elsewhere)
> 
> Ok... I still want to help with OTF support, whatever the solution, so 
> if you need any help, just ask me.

It makes sense to start with that generalization of the otf processing
sooner rather than later, so maybe Elie could start studying the
context font-related lua files?

Best wishes,
Taco

From pragma at wxs.nl  Sun Dec 28 11:06:24 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Sun, 28 Dec 2008 11:06:24 +0100
Subject: [Dev-luatex] OTF engine in LuaTeX
In-Reply-To: <49574AEC.2080601@elvenkind.com>
References: <49550E24.8030507@telecom-bretagne.eu>
	<49556074.8080100@wxs.nl>	<49560021.9000701@telecom-bretagne.eu>
	<49574AEC.2080601@elvenkind.com>
Message-ID: <49574FA0.5060803@wxs.nl>

Taco Hoekwater wrote:
> Elie Roux wrote:
>> Hans Hagen a ?crit :
>>> there will be no built in otf engine or any engine
>>>
>>> (context comes with one written in lua; at some point i will make a 
>>> spin-off for plain tex that then also can be used elsewhere)
>>
>> Ok... I still want to help with OTF support, whatever the solution, so 
>> if you need any help, just ask me.
> 
> It makes sense to start with that generalization of the otf processing
> sooner rather than later, so maybe Elie could start studying the
> context font-related lua files?

best wait a month or so, till we have the math table done as well; i 
might change a few things in the process; once we have math going, i 
expect the font related data structures (in mkiv as well ad luatex 
itself) to be quite stable

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From yannis.haralambous at telecom-bretagne.eu  Sun Dec 28 11:38:00 2008
From: yannis.haralambous at telecom-bretagne.eu (Yannis Haralambous)
Date: Sun, 28 Dec 2008 11:38:00 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W46C4CA7A2FEA28AAB9F2A289E80@phx.gbl>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401>
	<A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>
	<BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>
	<68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<BLU117-W46C4CA7A2FEA28AAB9F2A289E80@phx.gbl>
Message-ID: <C83A0A68-A2E7-478E-A4E4-92C6A0739C20@telecom-bretagne.eu>

I see a command called \ifjoinable, there is no explanation but I  
guess that you are hardcoding "joignable" and "non-joignable"  
characters. This is a bad approach since some characters can be  
joignable or non-joignable depending on their semantics. So you should  
certainly not hardcode this property. The advantage of OTPs (and hence  
also of the lua approach) over XeTeX is that the "rules" can be  
redefined at any moment to suit particular needs.

Le 27 d?c. 08 ? 11:08, ??? ?????? Vafa Khalighi a ?crit :

> <test.pdf>

--
+ 
-----------------------------------------------------------------------+
| Yannis Haralambous, Ph.D.      yannis.haralambous at telecom- 
bretagne.eu |
| Directeur d'?tudes                      http://omega.enstb.org/ 
yannis |
|                                             Tel. +33  
(0)2.29.00.14.27 |
|                                             Fax  +33  
(0)2.29.00.12.82 |
| D?partement  
Informatique                                              |
| TELECOM  
Bretagne                                                      |
| Technop?le de Brest Iroise, CS 83818, 29238 Brest CEDEX 3,  
France     |
| Coordonn?es Google-Earth : 48?21'31.57"N  
4?34'16.76"W                 |
+ 
-----------------------------------------------------------------------+
                             ...pour distinguer l'ext?rieur d'un  
aquarium,
                                            mieux vaut n'?tre pas  
poisson

                            ...the ball I threw while playing in the  
park
                                           has not yet reached the  
ground

               Es gab eine Zeit, wo ich nur ungern ?ber Schubert  
sprechen,
            nur N?chtens den B?umen und Sternen von ihm vorerz?hlen  
m?gen.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081228/32acc94b/attachment-0002.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Yannis Haralambous.vcf
Type: text/directory
Size: 508 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081228/32acc94b/attachment-0001.bin>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081228/32acc94b/attachment-0003.html>

From yannis.haralambous at telecom-bretagne.eu  Sun Dec 28 11:45:07 2008
From: yannis.haralambous at telecom-bretagne.eu (Yannis Haralambous)
Date: Sun, 28 Dec 2008 11:45:07 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <BLU117-W46C4CA7A2FEA28AAB9F2A289E80@phx.gbl>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401>
	<A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>
	<BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>
	<68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<BLU117-W46C4CA7A2FEA28AAB9F2A289E80@phx.gbl>
Message-ID: <E45D7329-FDA0-4C3B-B893-37BE76AFF2AF@telecom-bretagne.eu>

I read "If we have \autoLRdirset, then characters 0 to 127 as LTR  
characters and characters
128 to 255 as RTL characters, will be assumed and based on this the  
direction of the
typesetting will be determined."

First of all, both LTR and RTL characters are far more than 128.

And secondly, there are many characters which are neither LTR nor RTL  
(like the period, exclamation mark, delimiters, etc.). Are you using  
two different periods, two different exclamation marks, etc.? That was  
the Apple approach during the Worldscript era.

Unicode bidi algorithm has be designed to take all these issues into  
account.

Le 27 d?c. 08 ? 11:08, ??? ?????? Vafa Khalighi a ?crit :

> <test.pdf>

--
+ 
-----------------------------------------------------------------------+
| Yannis Haralambous, Ph.D.      yannis.haralambous at telecom- 
bretagne.eu |
| Directeur d'?tudes                      http://omega.enstb.org/ 
yannis |
|                                             Tel. +33  
(0)2.29.00.14.27 |
|                                             Fax  +33  
(0)2.29.00.12.82 |
| D?partement  
Informatique                                              |
| TELECOM  
Bretagne                                                      |
| Technop?le de Brest Iroise, CS 83818, 29238 Brest CEDEX 3,  
France     |
| Coordonn?es Google-Earth : 48?21'31.57"N  
4?34'16.76"W                 |
+ 
-----------------------------------------------------------------------+
                             ...pour distinguer l'ext?rieur d'un  
aquarium,
                                            mieux vaut n'?tre pas  
poisson

                            ...the ball I threw while playing in the  
park
                                           has not yet reached the  
ground

               Es gab eine Zeit, wo ich nur ungern ?ber Schubert  
sprechen,
            nur N?chtens den B?umen und Sternen von ihm vorerz?hlen  
m?gen.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081228/91db679e/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Yannis Haralambous.vcf
Type: text/directory
Size: 508 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081228/91db679e/attachment.bin>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081228/91db679e/attachment-0001.html>

From dak at gnu.org  Sun Dec 28 12:57:17 2008
From: dak at gnu.org (David Kastrup)
Date: Sun, 28 Dec 2008 12:57:17 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <4957450A.7010503@pytex.org> (Jonathan Fine's message of "Sun, 28
	Dec 2008 09:21:14 +0000")
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>
	<E2B46A9A592441509FEC63DFF79E9270@PC1>
	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>
	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>
	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>
	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>
	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>
	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>
	<68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>
	<4957450A.7010503@pytex.org>
Message-ID: <857i5kpl5u.fsf@lola.goethe.zz>

Jonathan Fine <jfine at pytex.org> writes:

> Just a reminder, which is probably not necessary.  In The TeX Boook,
> Donald Knuth wrote (page 226):
> ===
> The author hopes that such extensions will not be made very often,
> because he doesn't want incompatible pseudo-TeX systems to
> proliferate; yet he realizes that certain special books deserve
> special treatment.
> ===

As far as I understand, LuaTeX is a secular institution with regard to
the worship of Knuth and his word.  Knuth has taken TeX development to a
radical halt in order not to interfere with further developments.  One
has to keep in mind that TeX was designed to meet the requirements of
"The Art of Computer Programming" and then some.  The category of
"certain special books" has been taken much further with unmodified TeX
engines than Knuth ever thought reasonable.

I think there is much less "proliferation" than he, as a hacker with
little qualms to adapt a tool with available source to his needs, would
have expected.

> I'm encouraged, that a dialog is taking place.

Knuth set an example by molding a tool for his job at hand.  I don't
think we are doing his example justice by jumping through a load of
hoops for the sake of bending the unmodified tool into doing jobs it is
not suitable for.

If a toolmaker shows us how to create a perfect screwdriver, do we show
our admiration by using it for driving nails into the wall?

Knuth had been quite reluctant to extend TeX from 7 bits to 8 bits and
allow multiple hyphenation patterns.  Seeing how this has encouraged
people into trying to hang onto the old code at whatever cost, I
understand why he had resisted this for so long.  Maybe it really was a
mistake.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From jfine at pytex.org  Sun Dec 28 13:51:02 2008
From: jfine at pytex.org (Jonathan Fine)
Date: Sun, 28 Dec 2008 12:51:02 +0000
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <857i5kpl5u.fsf@lola.goethe.zz>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>	<E2B46A9A592441509FEC63DFF79E9270@PC1>	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>	<68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>	<4957450A.7010503@pytex.org>
	<857i5kpl5u.fsf@lola.goethe.zz>
Message-ID: <49577636.6050807@pytex.org>

David Kastrup wrote:

> As far as I understand, LuaTeX is a secular institution with regard to
> the worship of Knuth and his word. 

What?  I'm confident that all of us have a great respect and admiration 
for Donald Knuth and his work, and that none of us worship him.

In particular, it is accepted and public knowledge that he has made 
mistakes in writing TeX.

I'd like to stop this particular discussion here, because it is off-topic.

-- 
Jonathan

From pragma at wxs.nl  Sun Dec 28 17:24:44 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Sun, 28 Dec 2008 17:24:44 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <49577636.6050807@pytex.org>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>	<E2B46A9A592441509FEC63DFF79E9270@PC1>	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>	<68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>	<4957450A.7010503@pytex.org>	<857i5kpl5u.fsf@lola.goethe.zz>
	<49577636.6050807@pytex.org>
Message-ID: <4957A84C.5060301@wxs.nl>

Jonathan Fine wrote:
> David Kastrup wrote:
> 
>> As far as I understand, LuaTeX is a secular institution with regard to
>> the worship of Knuth and his word. 
> 
> What?  I'm confident that all of us have a great respect and admiration 
> for Donald Knuth and his work, and that none of us worship him.
> 
> In particular, it is accepted and public knowledge that he has made 
> mistakes in writing TeX.
> 
> I'd like to stop this particular discussion here, because it is off-topic.

well, you made a remark and david's responded, so the discussion is now 
two mails long

anyhow, if it's so off topic (and david's mail was quite on-the-topic 
that you started), then why did you made your remark in the first place; 
next time keep it in your draft' box

but we can indeed stop here

Hans



-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From jfine at pytex.org  Sun Dec 28 19:41:49 2008
From: jfine at pytex.org (Jonathan Fine)
Date: Sun, 28 Dec 2008 18:41:49 +0000
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <4957A84C.5060301@wxs.nl>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>	<E2B46A9A592441509FEC63DFF79E9270@PC1>	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>	<68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>	<4957450A.7010503@pytex.org>	<857i5kpl5u.fsf@lola.goethe.zz>
	<49577636.6050807@pytex.org> <4957A84C.5060301@wxs.nl>
Message-ID: <4957C86D.6070803@pytex.org>

Hans Hagen wrote:

> well, you made a remark and david's responded, so the discussion is now 
> two mails long
> 
> anyhow, if it's so off topic (and david's mail was quite on-the-topic 
> that you started), then why did you made your remark in the first place; 

To answer your question, briefly.

In my view, my remark (on proliferation of pseudo-TeXs) was relevant and 
David's remark (on worship of Donald Knuth) was not.

> but we can indeed stop here

Having answered your question, I'm happy for this discussion to end.

-- 
Jonathan

From root at www.metatex.org  Sun Dec 28 22:24:58 2008
From: root at www.metatex.org (Cron Daemon)
Date: Sun, 28 Dec 2008 22:24:58 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081228212458.093751E8C2B1@www.metatex.org>

------------------------------------------------------------------------
r1690 | oneiros | 2008-12-28 20:07:12 +0100 (Sun, 28 Dec 2008) | 3 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/tex/math.c

fix some problems with cstrings and texstrings
svn:keywords

------------------------------------------------------------------------
r1691 | oneiros | 2008-12-28 20:10:53 +0100 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/tex/math.c

indent

------------------------------------------------------------------------
r1692 | taco | 2008-12-28 20:26:13 +0100 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/tex/math.c

use tconfusion(char *) instead of confusion(str_number)

------------------------------------------------------------------------
r1693 | oneiros | 2008-12-28 20:37:59 +0100 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/tex/mlist.c

svn:keywords

------------------------------------------------------------------------
r1694 | oneiros | 2008-12-28 21:53:16 +0100 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/tex/math.c
   M /trunk/src/texk/web2c/luatexdir/tex/mlist.c
   M /trunk/src/texk/web2c/luatexdir/tex/postlinebreak.c
   M /trunk/src/texk/web2c/luatexdir/tex/texnodes.c
   M /trunk/src/texk/web2c/luatexdir/tex/textoken.c

indent

------------------------------------------------------------------------
r1695 | oneiros | 2008-12-28 21:59:01 +0100 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/commands.h
   M /trunk/src/texk/web2c/luatexdir/hyphen.h
   M /trunk/src/texk/web2c/luatexdir/texmath.h

svn:keywords

------------------------------------------------------------------------
r1696 | oneiros | 2008-12-28 22:02:34 +0100 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/lang/hyphen.c

svn:keywords

------------------------------------------------------------------------

From chemoelectric at chemoelectric.org  Sun Dec 28 23:11:02 2008
From: chemoelectric at chemoelectric.org (Barry Schwartz)
Date: Sun, 28 Dec 2008 16:11:02 -0600
Subject: [Dev-luatex] OTF engine in LuaTeX
In-Reply-To: <49574AEC.2080601@elvenkind.com>
References: <49550E24.8030507@telecom-bretagne.eu> <49556074.8080100@wxs.nl>
	<49560021.9000701@telecom-bretagne.eu>
	<49574AEC.2080601@elvenkind.com>
Message-ID: <20081228221102.GA23990@crud.crud.mn.org>

Taco Hoekwater <taco at elvenkind.com> skribis:
> Elie Roux wrote:
>> Hans Hagen a ?crit :
>>> there will be no built in otf engine or any engine
>>>
>>> (context comes with one written in lua; at some point i will make a 
>>> spin-off for plain tex that then also can be used elsewhere)
>> Ok... I still want to help with OTF support, whatever the solution, so if 
>> you need any help, just ask me.
>
> It makes sense to start with that generalization of the otf processing
> sooner rather than later, so maybe Elie could start studying the
> context font-related lua files?

It's probably a good idea to have many eyes looking at that code,
because there seems to be a tendency to implement feature support
incorrectly (including myself when I first started dealing with
OpenType features in my hobby work). A common effect that I have seen
with both Ant and HarfBuzz is for ligatures to be applied before
small-caps-substitution.

It is important to keep in mind that features are not ordered; they
are simply sets of lookup indexes. What you do is compute the union of
all the lookups of the selected features, and then do the lookups in
the order they appear in the lookup table.

It concerns me a little that LuaTeX should be able to handle ligatures
but not line-breaks in the middle of ligatures, because
ligature-lookups in OpenType are handled just like any other
substitution lookup. They don't require any special code different
from that of other lookup types; from my point of view, LuaTeX
shouldn't have to know anything about ligatures, just how to select
and execute lookups.

I studied the mkiv code several weeks ago but never in enough depth to
see what was going on in there. Also I don't know much at all about
OpenType support for non-LGC scripts.


From pragma at wxs.nl  Mon Dec 29 01:11:37 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 29 Dec 2008 01:11:37 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <4957C86D.6070803@pytex.org>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>	<E2B46A9A592441509FEC63DFF79E9270@PC1>	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>	<68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>	<4957450A.7010503@pytex.org>	<857i5kpl5u.fsf@lola.goethe.zz>	<49577636.6050807@pytex.org>
	<4957A84C.5060301@wxs.nl> <4957C86D.6070803@pytex.org>
Message-ID: <495815B9.1070702@wxs.nl>

Jonathan Fine wrote:
> Hans Hagen wrote:
> 
>> well, you made a remark and david's responded, so the discussion is 
>> now two mails long
>>
>> anyhow, if it's so off topic (and david's mail was quite on-the-topic 
>> that you started), then why did you made your remark in the first place; 
> 
> To answer your question, briefly.
> 
> In my view, my remark (on proliferation of pseudo-TeXs) was relevant and 
> David's remark (on worship of Donald Knuth) was not.

well, one way of reading davids remark is

"there are folks out there who try to reason and talk on behalf of Don 
Knuth without knowing his real opinions"

actually i've heard Don say (at an ntg QA session long ago) that he was 
surprised that there were no more fundamental extensions like pdftex (at 
that time upcoming); also, there is a difference between (say) 2^4 
fundamental different tex variants and 2^32 confusingly slightly 
unsimilar ones

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From pragma at wxs.nl  Mon Dec 29 01:19:06 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 29 Dec 2008 01:19:06 +0100
Subject: [Dev-luatex] OTF engine in LuaTeX
In-Reply-To: <20081228221102.GA23990@crud.crud.mn.org>
References: <49550E24.8030507@telecom-bretagne.eu>
	<49556074.8080100@wxs.nl>	<49560021.9000701@telecom-bretagne.eu>	<49574AEC.2080601@elvenkind.com>
	<20081228221102.GA23990@crud.crud.mn.org>
Message-ID: <4958177A.2090404@wxs.nl>

Barry Schwartz wrote:

> It's probably a good idea to have many eyes looking at that code,
> because there seems to be a tendency to implement feature support
> incorrectly (including myself when I first started dealing with
> OpenType features in my hobby work). A common effect that I have seen
> with both Ant and HarfBuzz is for ligatures to be applied before
> small-caps-substitution.

well, one reason for doing it in lua is that there can be several 
solutions and i'm pretty sure that there will be; the code used in 
context mkiv can be a starting point (it will have hooks and such) but i 
know the tex community good enough to know that different solutions will 
pop up; also, since ms and adobe and whoever seem to interpret things 
differently we might end up with even more variants (apart from the need 
to deal with buggy fonts)

(btw, so far i made three variants just to get an idea of open type and 
curently i'm making a new one)

one thing that would help is simple test fonts (like the ones that idris 
makes, so that's one area where help is needed)

> It is important to keep in mind that features are not ordered; they
> are simply sets of lookup indexes. What you do is compute the union of
> all the lookups of the selected features, and then do the lookups in
> the order they appear in the lookup table.

indeed

> It concerns me a little that LuaTeX should be able to handle ligatures
> but not line-breaks in the middle of ligatures, because
> ligature-lookups in OpenType are handled just like any other
> substitution lookup. They don't require any special code different
> from that of other lookup types; from my point of view, LuaTeX
> shouldn't have to know anything about ligatures, just how to select
> and execute lookups.

not even that, you just (re)construct node lists and manipulate glyph 
nodes (which can have lig info)

> I studied the mkiv code several weeks ago but never in enough depth to
> see what was going on in there. Also I don't know much at all about
> OpenType support for non-LGC scripts.

i expect to have more final code sometime in januari

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From chemoelectric at chemoelectric.org  Mon Dec 29 01:53:35 2008
From: chemoelectric at chemoelectric.org (Barry Schwartz)
Date: Sun, 28 Dec 2008 18:53:35 -0600
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <495815B9.1070702@wxs.nl>
References: <0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>
	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>
	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>
	<68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>
	<4957450A.7010503@pytex.org> <857i5kpl5u.fsf@lola.goethe.zz>
	<49577636.6050807@pytex.org> <4957A84C.5060301@wxs.nl>
	<4957C86D.6070803@pytex.org> <495815B9.1070702@wxs.nl>
Message-ID: <20081229005335.GA6063@crud.crud.mn.org>

Hans Hagen <pragma at wxs.nl> skribis:
> actually i've heard Don say (at an ntg QA session long ago) that he was 
> surprised that there were no more fundamental extensions like pdftex (at 
> that time upcoming)

TeX was written in Pascal instead of C, and so there didn't end up
being IconTeX in the 1980s instead of LuaTeX in the 2000s. :)

C ended up being what Pascal had been expected to become, circa 1980.


From chemoelectric at chemoelectric.org  Mon Dec 29 05:17:01 2008
From: chemoelectric at chemoelectric.org (Barry Schwartz)
Date: Sun, 28 Dec 2008 22:17:01 -0600
Subject: [Dev-luatex] OTF engine in LuaTeX
In-Reply-To: <4958177A.2090404@wxs.nl>
References: <49550E24.8030507@telecom-bretagne.eu> <49556074.8080100@wxs.nl>
	<49560021.9000701@telecom-bretagne.eu>
	<49574AEC.2080601@elvenkind.com>
	<20081228221102.GA23990@crud.crud.mn.org> <4958177A.2090404@wxs.nl>
Message-ID: <20081229041701.GA595@crud.crud.mn.org>

Hans Hagen <pragma at wxs.nl> skribis:
> not even that, you just (re)construct node lists and manipulate glyph nodes 
> (which can have lig info)

I just get concerned when I see reference to stuff like ligature info,
because in general, and speaking in part as an amateur font designer,
it seems difficult to stray from just strictly following the algorithm
(an algorithm that is treated oddly casually in the spec). For
example, once you throw in contextual alternates and contextual
ligatures, you have two or more lookup tables to go through, with any
number of single, multiple, and ligature substitutions, which have to
be performed in order. Just throwing in 'dlig' along with 'liga', or
even just one of them, is likely to get you two or more lookups to go
through, with arbitrary substitutions performed in-between. In
general, how can one know what the result will be without just going
through lookup lists or equivalent data structures?

I'd like to know if there are some shortcuts safely applicable to the
general case, but I've failed completely to come up with any and after
a while stopped trying. :)

I've moved on to wonder how best to handle chaining contextual
substitutions that look at glyphs in more than one word at a
time.



From pragma at wxs.nl  Mon Dec 29 11:49:32 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Mon, 29 Dec 2008 11:49:32 +0100
Subject: [Dev-luatex] OTF engine in LuaTeX
In-Reply-To: <20081229041701.GA595@crud.crud.mn.org>
References: <49550E24.8030507@telecom-bretagne.eu> <49556074.8080100@wxs.nl>
	<49560021.9000701@telecom-bretagne.eu>
	<49574AEC.2080601@elvenkind.com>
	<20081228221102.GA23990@crud.crud.mn.org> <4958177A.2090404@wxs.nl>
	<20081229041701.GA595@crud.crud.mn.org>
Message-ID: <4958AB3C.3030800@wxs.nl>

Barry Schwartz wrote:
> Hans Hagen <pragma at wxs.nl> skribis:
>> not even that, you just (re)construct node lists and manipulate glyph nodes 
>> (which can have lig info)
> 
> I just get concerned when I see reference to stuff like ligature info,
> because in general, and speaking in part as an amateur font designer,
> it seems difficult to stray from just strictly following the algorithm
> (an algorithm that is treated oddly casually in the spec). For
> example, once you throw in contextual alternates and contextual
> ligatures, you have two or more lookup tables to go through, with any
> number of single, multiple, and ligature substitutions, which have to
> be performed in order. Just throwing in 'dlig' along with 'liga', or
> even just one of them, is likely to get you two or more lookups to go
> through, with arbitrary substitutions performed in-between. In
> general, how can one know what the result will be without just going
> through lookup lists or equivalent data structures?

one cannot, which is why i think that fonts will have bugs and since 
font vendors have no update program (bug fixes) one is then stuck with 
this problem

add to that the fact that when something works in the designers 
favourite program (which isthen seen as standard) changes are low that 
it will be fixed; but the same is true for features in general: when 
(say) indesign 2 does not support something (thereby hiding bugs in 
fonts) but version 3 does ... what is the standard? the indesign defaults?

ligatures are kin dof manageable but think of frac and friends: often 
implemented partially so unpredictable for global usage; it assumes that 
one 'selects a piece of text in a gui and applies that feature'; a tex 
macro package can deal with that better by providing some mechanism that 
is clever enough to see if something is in the font or not

> I've moved on to wonder how best to handle chaining contextual
> substitutions that look at glyphs in more than one word at a
> time.

always tricky .. crossing word boundaries (what is a boundary? space? 
small kern?) and it also concerns line breaks (which might alter things)

we're experimenting with alternative arabic typesetting, using info 
stored in features but applying different algorithms

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From root at www.metatex.org  Mon Dec 29 12:29:17 2008
From: root at www.metatex.org (Cron Daemon)
Date: Mon, 29 Dec 2008 12:29:17 +0100 (CET)
Subject: [Dev-luatex] Cron <luatex@vz3>
	/var/www/luatex.org/www/bin/luatex-svn
Message-ID: <20081229112917.A2A531E8C2B1@www.metatex.org>

------------------------------------------------------------------------
r1697 | oneiros | 2008-12-28 22:09:06 +0100 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/commands.h
   M /trunk/src/texk/web2c/luatexdir/luatex-api.h
   M /trunk/src/texk/web2c/luatexdir/nodes.h
   M /trunk/src/texk/web2c/luatexdir/ptexlib.h
   M /trunk/src/texk/web2c/luatexdir/texmath.h
   M /trunk/src/texk/web2c/luatexdir/tokens.h

indent

------------------------------------------------------------------------
r1698 | hhenkel | 2008-12-28 22:38:00 +0100 (Sun, 28 Dec 2008) | 4 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/luatex.web

Preset \pagerightoffset and \pagebottomoffset to 1in in iniLuaTeX
(reasonable default, and allows to set these parameters to 0pt without 
surprises). Correct page offset movements in DVI case. Things may change.

------------------------------------------------------------------------
r1699 | hhenkel | 2008-12-28 23:50:58 +0100 (Sun, 28 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/luatex.web

DVI: make \pagerightoffset and \pagebottomoffset work with \mag

------------------------------------------------------------------------
r1700 | hhenkel | 2008-12-29 00:02:58 +0100 (Mon, 29 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/luatex.web

no need for cur_right_offset and cur_bottom_offset variables.

------------------------------------------------------------------------
r1701 | hhenkel | 2008-12-29 00:26:49 +0100 (Mon, 29 Dec 2008) | 2 lines
Changed paths:
   M /trunk/src/texk/web2c/luatexdir/luatex.web

DVI: simplify initial page offset movement.

------------------------------------------------------------------------
r1702 | taco | 2008-12-29 09:28:00 +0100 (Mon, 29 Dec 2008) | 2 lines
Changed paths:
   A /tags/beta-0.31.3 (from /tags/beta-0.31.2:1701)

new tag

------------------------------------------------------------------------
r1703 | taco | 2008-12-29 09:35:41 +0100 (Mon, 29 Dec 2008) | 2 lines
Changed paths:
   M /tags/beta-0.31.3/src/libs/luafontforge/fontforge/Makefile.dynamic.in
   M /tags/beta-0.31.3/src/libs/luafontforge/fontforge/Makefile.in
   M /tags/beta-0.31.3/src/libs/luafontforge/fontforge/Makefile.static.in
   M /tags/beta-0.31.3/src/libs/luafontforge/fontforge/Unicode/gwwiconv.c
   M /tags/beta-0.31.3/src/libs/luafontforge/fontforge/configure
   M /tags/beta-0.31.3/src/libs/luafontforge/fontforge/configure.dynamic
   M /tags/beta-0.31.3/src/libs/luafontforge/fontforge/configure.dynamic.in
   M /tags/beta-0.31.3/src/libs/luafontforge/fontforge/configure.in
   M /tags/beta-0.31.3/src/libs/luafontforge/fontforge/configure.static
   M /tags/beta-0.31.3/src/libs/luafontforge/fontforge/configure.static.in
   M /tags/beta-0.31.3/src/libs/luafontforge/fontforge/fontforge/macenc.c
   M /tags/beta-0.31.3/src/libs/luafontforge/fontforge/fontforge/parsettfatt.c
   D /tags/beta-0.31.3/src/libs/luafontforge/fontforge/po/Makefile.in
   D /tags/beta-0.31.3/src/libs/luafontforge/fontforge/po/mackeys
   M /tags/beta-0.31.3/src/libs/luafontforge/src/ffdummies.c
   M /tags/beta-0.31.3/src/libs/luafontforge/src/luafflib.c
   M /tags/beta-0.31.3/src/texk/web2c/luatexdir/lua/ltexlib.c
   M /tags/beta-0.31.3/src/texk/web2c/luatexdir/luatex.web
   M /tags/beta-0.31.3/src/texk/web2c/luatexdir/tex/texnodes.c
   M /tags/beta-0.31.3/src/texk/web2c/mpdir/mp.w
   M /tags/beta-0.31.3/src/texk/web2c/mpdir/mpost.w
   M /tags/beta-0.31.3/src/texk/web2c/mpdir/mpxout.w
   M /tags/beta-0.31.3/src/texk/web2c/mpdir/psout.w

merge 1657-1670 from truk

------------------------------------------------------------------------
r1704 | taco | 2008-12-29 09:37:55 +0100 (Mon, 29 Dec 2008) | 2 lines
Changed paths:
   M /tags/beta-0.31.3/src/texk/web2c/luatexdir/lua/luatex.c

 merge 1657 and 1685 (external ocps)

------------------------------------------------------------------------
r1705 | taco | 2008-12-29 09:40:49 +0100 (Mon, 29 Dec 2008) | 2 lines
Changed paths:
   M /tags/beta-0.31.3/src/libs/libpng
   M /tags/beta-0.31.3/src/libs/libpng/ANNOUNCE
   M /tags/beta-0.31.3/src/libs/libpng/CHANGES
   M /tags/beta-0.31.3/src/libs/libpng/INSTALL
   M /tags/beta-0.31.3/src/libs/libpng/KNOWNBUG
   M /tags/beta-0.31.3/src/libs/libpng/LICENSE
   M /tags/beta-0.31.3/src/libs/libpng/README
   M /tags/beta-0.31.3/src/libs/libpng/Y2KINFO
   M /tags/beta-0.31.3/src/libs/libpng/example.c
   D /tags/beta-0.31.3/src/libs/libpng/libpng-1.2.33.txt
   A /tags/beta-0.31.3/src/libs/libpng/libpng-1.2.34.txt (from /trunk/src/libs/libpng/libpng-1.2.34.txt:1678)
   M /tags/beta-0.31.3/src/libs/libpng/libpng.3
   M /tags/beta-0.31.3/src/libs/libpng/libpngpf.3
   M /tags/beta-0.31.3/src/libs/libpng/png.5
   M /tags/beta-0.31.3/src/libs/libpng/png.c
   M /tags/beta-0.31.3/src/libs/libpng/png.h
   M /tags/beta-0.31.3/src/libs/libpng/pngconf.h
   M /tags/beta-0.31.3/src/libs/libpng/pngerror.c
   M /tags/beta-0.31.3/src/libs/libpng/pngget.c
   M /tags/beta-0.31.3/src/libs/libpng/pngread.c
   M /tags/beta-0.31.3/src/libs/libpng/pngrio.c
   M /tags/beta-0.31.3/src/libs/libpng/pngrtran.c
   M /tags/beta-0.31.3/src/libs/libpng/pngrutil.c
   M /tags/beta-0.31.3/src/libs/libpng/pngset.c
   M /tags/beta-0.31.3/src/libs/libpng/pngtest.c
   M /tags/beta-0.31.3/src/libs/libpng/pngtrans.c
   M /tags/beta-0.31.3/src/libs/libpng/pngwrite.c
   M /tags/beta-0.31.3/src/libs/libpng/pngwtran.c
   M /tags/beta-0.31.3/src/libs/libpng/pngwutil.c
   M /tags/beta-0.31.3/src/texk/web2c/luatexdir/NEWS

#1667 (README) and #1680 (libpng)

------------------------------------------------------------------------
r1706 | taco | 2008-12-29 09:41:32 +0100 (Mon, 29 Dec 2008) | 2 lines
Changed paths:
   M /tags/beta-0.31.3/src/libs/luafontforge/fontforge/gutils/fsys.c

#1680 (win32 GFileIsDir)

------------------------------------------------------------------------
r1707 | taco | 2008-12-29 09:42:28 +0100 (Mon, 29 Dec 2008) | 2 lines
Changed paths:
   M /tags/beta-0.31.3/src/texk/web2c/mpdir/mp.w
   M /tags/beta-0.31.3/src/texk/web2c/mpdir/mpost.w
   M /tags/beta-0.31.3/src/texk/web2c/mpdir/mpxout.w
   M /tags/beta-0.31.3/src/texk/web2c/mpdir/psout.w
   M /tags/beta-0.31.3/src/texk/web2c/mpdir/tfmin.w

#1687 (mpost 1.102)

------------------------------------------------------------------------
r1708 | taco | 2008-12-29 09:45:02 +0100 (Mon, 29 Dec 2008) | 2 lines
Changed paths:
   M /tags/beta-0.31.3/src/texk/web2c/luatexdir/luatex.web

bump the version number

------------------------------------------------------------------------
r1709 | taco | 2008-12-29 11:31:16 +0100 (Mon, 29 Dec 2008) | 5 lines
Changed paths:
   M /tags/beta-0.31.3/src/texk/web2c/luatexdir/NEWS

Update the readme
-This line, and those below, will be ignored--

M    beta-0.31.3/src/texk/web2c/luatexdir/NEWS

------------------------------------------------------------------------
r1710 | taco | 2008-12-29 11:55:49 +0100 (Mon, 29 Dec 2008) | 2 lines
Changed paths:
   M /tags/beta-0.31.3/src/texk/web2c/luatexdir/ptexlib.h
   M /tags/beta-0.31.3/src/texk/web2c/luatexdir/utils.c

implement rint() for MSVC (from Akira)

------------------------------------------------------------------------

From taco at elvenkind.com  Mon Dec 29 17:42:32 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Mon, 29 Dec 2008 17:42:32 +0100
Subject: [Dev-luatex] Luatex beta 0.31.3
In-Reply-To: <4939550D.6000007@elvenkind.com>
References: <4939550D.6000007@elvenkind.com>
Message-ID: <4958FDF8.8020107@elvenkind.com>



Hi,

I have just uploaded luatex 0.31.3. This release has a bunch of
updates from the development trunk. It is intended as a bug
release for 0.31.2 only, there are no new features.

  * Closing of files opened by \externalocp.

  * Fix for a locale-related bug that make PDF generation fail
    with a "Parsing CFF Dict failed" message when including
    opentype fonts.

  * The included metapost is now version 1.102.

  * PDF rules in vertical modes in RL direction where output
    in the wrong direction

  * Fix for a crash on Apple fonts that contain a 'bsln' table.

  * The handling of the second argument to fontforge.open() was
    broken

  * The included libpng is now 1.2.34

  * Handling of ttc files on Windows was broken


The archives (just binaries this time, hopefully there will be a
source package later) can be downloaded from supelec as usual:

        http://foundry.supelec.fr/projects/luatex/

If you need the sources, please check out via anonymous svn:

  svn co svn://scm.foundry.supelec.fr/svn/luatex/tags/beta-0.31.3

Bugs and feature requests can be added to the issue tracker at

       http://tracker.luatex.org

Have fun,
Taco



From jfine at pytex.org  Mon Dec 29 18:54:31 2008
From: jfine at pytex.org (Jonathan Fine)
Date: Mon, 29 Dec 2008 17:54:31 +0000
Subject: [Dev-luatex] Modifying the LuaTeX Engine - OT: Don Knuth
In-Reply-To: <495815B9.1070702@wxs.nl>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>	<E2B46A9A592441509FEC63DFF79E9270@PC1>	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>	<68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>	<4957450A.7010503@pytex.org>	<857i5kpl5u.fsf@lola.goethe.zz>	<49577636.6050807@pytex.org>
	<4957A84C.5060301@wxs.nl> <4957C86D.6070803@pytex.org>
	<495815B9.1070702@wxs.nl>
Message-ID: <49590ED7.1020503@pytex.org>

Hans Hagen wrote:

> well, one way of reading davids remark is
> 
> "there are folks out there who try to reason and talk on behalf of Don 
> Knuth without knowing his real opinions"

Yes.  That's why I quoted Don Knuth (and gave a reference, and did not 
mix in my own view).

In October this year David Kastrup posted to comp.text.tex
===
I mean, Knuth himself talks all the time about "TeX" and actually uses
pdfTeX most of the time.
===
http://groups.google.co.uk/group/comp.text.tex/browse_thread/thread/5b6a876b33dd3de3/d0db6ec209c3e823?hl=en#d0db6ec209c3e823

I asked him how he knew that, and he did not reply.  This seems to me be 
be an example of the 'lazy (mis)-representation' of Don Knuth that your 
paraphrase of David criticizes.

David:  Please tell me (off list if you wish), how you know that Knuth 
uses pdfTeX most of the time.

> actually i've heard Don say (at an ntg QA session long ago) that he was 
> surprised that there were no more fundamental extensions like pdftex (at 
> that time upcoming); also, there is a difference between (say) 2^4 
> fundamental different tex variants and 2^32 confusingly slightly 
> unsimilar ones

Hans:  I'm looking at the transcripts (in Digital Typography) and I 
think you're referring to the CS TUG session (pages 617-8) and not the 
NTG session.

Hans:  Your comment has two parts, separated by an 'also'.  Just to 
clarify, the first part is your paraphrase of Don Knuth and the second 
part (so far as I can tell) comes just from you, and not at all from Don 
Knuth.

No need for anyone to reply to this (except David K, off-list if he wishes).

-- 
Jonathan

From dak at gnu.org  Mon Dec 29 19:10:53 2008
From: dak at gnu.org (David Kastrup)
Date: Mon, 29 Dec 2008 19:10:53 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <4957C86D.6070803@pytex.org> (Jonathan Fine's message of "Sun, 28
	Dec 2008 18:41:49 +0000")
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>
	<E2B46A9A592441509FEC63DFF79E9270@PC1>
	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>
	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>
	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>
	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>
	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>
	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>
	<68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>
	<4957450A.7010503@pytex.org> <857i5kpl5u.fsf@lola.goethe.zz>
	<49577636.6050807@pytex.org> <4957A84C.5060301@wxs.nl>
	<4957C86D.6070803@pytex.org>
Message-ID: <85vdt2onrm.fsf@lola.goethe.zz>

Jonathan Fine <jfine at pytex.org> writes:

> Hans Hagen wrote:
>
>> well, you made a remark and david's responded, so the discussion is
>> now two mails long
>>
>> anyhow, if it's so off topic (and david's mail was quite
>> on-the-topic that you started), then why did you made your remark in
>> the first place; 
>
> To answer your question, briefly.
>
> In my view, my remark (on proliferation of pseudo-TeXs) was relevant

How so?  We are on the LuaTeX developer list.  It is quite useless to
argue about the prudence of its existence either way.

> and David's remark (on worship of Donald Knuth) was not.

You quoted Knuth as a reverence on changing/extending TeX.  And we just
have heard on this list

    > I'm just curious: Did Yazdipur try to communicate with the Omega
    > developers and offer patches etc?

    I do not think so, It seems that he has got no interest in the
    Unicode world and he is a big fan of Knuth's TeX engine only and
    does not want to write codes for PDFTeX, XeTeX and LuaTeX.

So yes, I do think that it is quite on-topic for the problem at hand to
point out that it is taking veneration too far when one tries using only
an 8-bit-font capable TeX with only built-in L-R typesetting
capabilities in this manner.

If there is one thing Knuth's example should teach people is that for
best results, you use the best-suited system and if there is none that
can in a reasonable way do the job, you build the best-suited system
yourself.

And that's what LuaTeX is growing into.  Now the style in which this
happens is different from Knuth's: he designed and later coded the whole
thing in its WEB incarnation (strictly speaking, the second generation)
on paper, and basically hacked it into the computer in one piece during
a month of work.

In contrast, LuaTeX development is filling in some of the blanks while
development is going on: there has not been a "we want to typeset this
particular document, and now plan everything necessary for this document
before starting to code" phase.  And for a much more general-purpose
system, I find this approach reasonable, even though it may cost a few
dead ends.

> Having answered your question, I'm happy for this discussion to end.

Same here.

-- 
David Kastrup, Kriemhildstr. 15, 44793 Bochum

From zhichu.chen at gmail.com  Tue Dec 30 05:09:31 2008
From: zhichu.chen at gmail.com (Zhichu Chen)
Date: Tue, 30 Dec 2008 12:09:31 +0800
Subject: [Dev-luatex] Luatex beta 0.31.3
In-Reply-To: <4958FDF8.8020107@elvenkind.com>
References: <4939550D.6000007@elvenkind.com> <4958FDF8.8020107@elvenkind.com>
Message-ID: <769ba7780812292009sfdfdb9k9ba3096a17e8afff@mail.gmail.com>

Hi Taco,

I downloaded the code and compiled it on my Leopard 10.5.5 with gcc
4.0.1 from Xcode,
and I got a lot of, almost every one of, objects that have no symbols:
=================================================================
ranlib: file: ../.libs/libfontforge.a(autotrace.o) has no symbols
ranlib: file: ../.libs/libfontforge.a(bezctx_ff.o) has no symbols
ranlib: file: ../.libs/libfontforge.a(http.o) has no symbols
ranlib: file: ../.libs/libfontforge.a(plugins.o) has no symbols
ranlib: file: ../.libs/libfontforge.a(print.o) has no symbols
ranlib: file: ../.libs/libfontforge.a(utils.o) has no symbols
ranlib ../.libs/libfontforge.a
ranlib: file: ../.libs/libfontforge.a(autotrace.o) has no symbols
ranlib: file: ../.libs/libfontforge.a(bezctx_ff.o) has no symbols
ranlib: file: ../.libs/libfontforge.a(http.o) has no symbols
ranlib: file: ../.libs/libfontforge.a(plugins.o) has no symbols
ranlib: file: ../.libs/libfontforge.a(print.o) has no symbols
ranlib: file: ../.libs/libfontforge.a(utils.o) has no symbols
creating ../libfontforge.la
(cd ../.libs && rm -f libfontforge.la && ln -s ../libfontforge.la
libfontforge.la)
sh -c "ar cru libff.a fontforge/fontforge/*.o fontforge/gutils/*.o
fontforge/Unicode/*.o ffdummies.o luafflib.o"
ranlib: file: libff.a(autotrace.o) has no symbols
ranlib: file: libff.a(bezctx_ff.o) has no symbols
ranlib: file: libff.a(http.o) has no symbols
ranlib: file: libff.a(plugins.o) has no symbols
ranlib: file: libff.a(print.o) has no symbols
ranlib: file: libff.a(utils.o) has no symbols
ranlib: file: libff.a(gimagereadgif.o) has no symbols
ranlib: file: libff.a(gimagereadjpeg.o) has no symbols
ranlib: file: libff.a(gimagereadpng.o) has no symbols
ranlib: file: libff.a(gimagereadtiff.o) has no symbols
ranlib: file: libff.a(gimagewritejpeg.o) has no symbols
ranlib: file: libff.a(gimagewritepng.o) has no symbols
ranlib: file: libff.a(gio.o) has no symbols
ranlib: file: libff.a(giofile.o) has no symbols
ranlib: file: libff.a(gioftp.o) has no symbols
ranlib: file: libff.a(giohosts.o) has no symbols
ranlib: file: libff.a(giothread.o) has no symbols
ranlib: file: libff.a(giotrans.o) has no symbols
ranlib libff.a
ranlib: file: libff.a(autotrace.o) has no symbols
ranlib: file: libff.a(bezctx_ff.o) has no symbols
ranlib: file: libff.a(http.o) has no symbols
ranlib: file: libff.a(plugins.o) has no symbols
ranlib: file: libff.a(print.o) has no symbols
ranlib: file: libff.a(utils.o) has no symbols
ranlib: file: libff.a(gimagereadgif.o) has no symbols
ranlib: file: libff.a(gimagereadjpeg.o) has no symbols
ranlib: file: libff.a(gimagereadpng.o) has no symbols
ranlib: file: libff.a(gimagereadtiff.o) has no symbols
ranlib: file: libff.a(gimagewritejpeg.o) has no symbols
ranlib: file: libff.a(gimagewritepng.o) has no symbols
ranlib: file: libff.a(gio.o) has no symbols
ranlib: file: libff.a(giofile.o) has no symbols
ranlib: file: libff.a(gioftp.o) has no symbols
ranlib: file: libff.a(giohosts.o) has no symbols
ranlib: file: libff.a(giothread.o) has no symbols
ranlib: file: libff.a(giotrans.o) has no symbols
=================================================================

I am a little scared. Would there be any potential risks or something?

On Tue, Dec 30, 2008 at 12:42 AM, Taco Hoekwater <taco at elvenkind.com> wrote:
>
>
> Hi,
>
> I have just uploaded luatex 0.31.3. This release has a bunch of
> updates from the development trunk. It is intended as a bug
> release for 0.31.2 only, there are no new features.
>
>  * Closing of files opened by \externalocp.
>
>  * Fix for a locale-related bug that make PDF generation fail
>    with a "Parsing CFF Dict failed" message when including
>    opentype fonts.
>
>  * The included metapost is now version 1.102.
>
>  * PDF rules in vertical modes in RL direction where output
>    in the wrong direction
>
>  * Fix for a crash on Apple fonts that contain a 'bsln' table.
>
>  * The handling of the second argument to fontforge.open() was
>    broken
>
>  * The included libpng is now 1.2.34
>
>  * Handling of ttc files on Windows was broken
>
>
> The archives (just binaries this time, hopefully there will be a
> source package later) can be downloaded from supelec as usual:
>
>        http://foundry.supelec.fr/projects/luatex/
>
> If you need the sources, please check out via anonymous svn:
>
>  svn co svn://scm.foundry.supelec.fr/svn/luatex/tags/beta-0.31.3
>
> Bugs and feature requests can be added to the issue tracker at
>
>       http://tracker.luatex.org
>
> Have fun,
> Taco
>
>
> _______________________________________________
> dev-luatex mailing list
> dev-luatex at ntg.nl
> http://www.ntg.nl/mailman/listinfo/dev-luatex
>



-- 
Best Regards
Chen
----------------------------------------------------------------

          Zhi-chu Chen | Shanghai Synchrotron Radiation Facility
         No. 2019 | Jialuo Rd. | Jiading | Shanghai | P.R. China
             tel: 086 21 5955 3405 | zhichu.chen.googlepages.com
                                               | www.sinap.ac.cn
----------------------------------------------------------------

From taco at elvenkind.com  Tue Dec 30 09:05:15 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 30 Dec 2008 09:05:15 +0100
Subject: [Dev-luatex] Luatex beta 0.31.3
In-Reply-To: <769ba7780812292009sfdfdb9k9ba3096a17e8afff@mail.gmail.com>
References: <4939550D.6000007@elvenkind.com> <4958FDF8.8020107@elvenkind.com>
	<769ba7780812292009sfdfdb9k9ba3096a17e8afff@mail.gmail.com>
Message-ID: <4959D63B.9060800@elvenkind.com>

Zhichu Chen wrote:
> Hi Taco,
> 
> I downloaded the code and compiled it on my Leopard 10.5.5 with gcc
> 4.0.1 from Xcode, and I got a lot of, almost every one of, 

Not even close to all of them, don't worry :)

It is a small error on my side (every object file should define at
least one symbol according to the C specification).

I'll fix this for the next release, but it is a completely harmless
warning message/error. Nothing is wrong with your executable.

Best wishes,
Taco

From pragma at wxs.nl  Tue Dec 30 09:28:38 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Tue, 30 Dec 2008 09:28:38 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine - OT: Don Knuth
In-Reply-To: <49590ED7.1020503@pytex.org>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>	<E2B46A9A592441509FEC63DFF79E9270@PC1>	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>	<68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>	<4957450A.7010503@pytex.org>	<857i5kpl5u.fsf@lola.goethe.zz>	<49577636.6050807@pytex.org>	<4957A84C.5060301@wxs.nl>
	<4957C86D.6070803@pytex.org>	<495815B9.1070702@wxs.nl>
	<49590ED7.1020503@pytex.org>
Message-ID: <4959DBB6.9080901@wxs.nl>

Jonathan Fine wrote:

>> actually i've heard Don say (at an ntg QA session long ago) that he 
>> was surprised that there were no more fundamental extensions like 
>> pdftex (at that time upcoming); also, there is a difference between 
>> (say) 2^4 fundamental different tex variants and 2^32 confusingly 
>> slightly unsimilar ones
> 
> Hans:  I'm looking at the transcripts (in Digital Typography) and I 
> think you're referring to the CS TUG session (pages 617-8) and not the 
> NTG session.

Huh? I was at that ntg session in Amsterdam which is an 10 hour drive 
from Czech. Ok, I might be making things up and creating my own truth 
but somehow my I stored that remark in my memory (as usual at such a QA 
session someone asks "what do you think of developments like etex, 
omega, next generation tex etc" and i think it was related to such a 
question. But anyhow, I don't want to put answers in someone's mouth so 
if you're so sure that I'm wrong, forget about it.

> Hans:  Your comment has two parts, separated by an 'also'.  Just to 
> clarify, the first part is your paraphrase of Don Knuth and the second 
> part (so far as I can tell) comes just from you, and not at all from Don 
> Knuth.

Sure, I could have used a . instead of a. I was refering to your quote 
of "pseudo-TeX systems to proliferate" and I get the feeling that etex, 
omega, pdftex, luatex don't fall into this category ... all have been 
presented at meetings, discussed, even with Don being present and never 
have I heard him say/write 'please quit the development of your pseudo 
tex' or 'hey, you may not use tex as part of its name'.

And this is what David meant (I think): let Don talk for himself and 
don't start a religion (by interpreting and putting things in someones 
mouth, like: we should use dvi because that is what Don wants (who 
says?) or stick to tex (because Don wrote it and sticks to it for clear 
reasons that everyone understands), while actually Don is way more open 
minded than some of his followers can grasp).

> No need for anyone to reply to this (except David K, off-list if he 
> wishes).

Well, no need for *you* to reply for this (after all you're now 
continuing a discussion that you yourself quit), but david might have 
another go at it -)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From arthur.reutenauer at normalesup.org  Tue Dec 30 17:06:34 2008
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Tue, 30 Dec 2008 17:06:34 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <49577636.6050807@pytex.org>
References: <BLU117-W54959EFC60576344151E9689E80@phx.gbl>
	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>
	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>
	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>
	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>
	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>
	<68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>
	<4957450A.7010503@pytex.org> <857i5kpl5u.fsf@lola.goethe.zz>
	<49577636.6050807@pytex.org>
Message-ID: <20081230160634.GZ18156@phare.normalesup.org>

> What?  I'm confident that all of us have a great respect and admiration for 
> Donald Knuth and his work, and that none of us worship him.

  Just out of interest, how do you know this?  I, myself, indulge in daily
practice of libations and creed in honor of His achievements.  I consider using
TeX a commitment whose extent can only be truly expressed by observing the
appropriate forms and rites.

  I encourage you, and all other users of TeX and similar programs to do the
same.  This is, in His words, what Knuth asked of us.  For myself, when I use
TeX, I mean to honor the program that Donald Knuth wrote for us.  To do
otherwise is against the spirit if not the letter of Knuth's wishes.

  Obviously, I don't expect that everyone's faith be as strong as mine, but I
am confident that TeX believers will, in time, find a suitable manner for
expressing their reverence.  And of course, where it comes to celebrations, I
trust that all of us enjoy the occasional naked dance around the bonfire at
BachoTeX, during Walpurgis Night (und raubt man uns den alten Brauch, / dein
Licht, wer kann es rauben?).

	Arthur

-- 
  Tutto nel mondo ? burla!

From arthur.reutenauer at normalesup.org  Tue Dec 30 17:08:08 2008
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Tue, 30 Dec 2008 17:08:08 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<BLU117-W874CC8E0A44A71D8408A789E80@phx.gbl>
	<E2B46A9A592441509FEC63DFF79E9270@PC1>
	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>
	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>
	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>
	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>
	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>
	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>
	<68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>
Message-ID: <20081230160808.GA18156@phare.normalesup.org>

> Can you show me an example of vertical typesetting in LuaTeX?

  Try the attached file.  It demonstrates vertical typesetting with LuaTeX in
three steps; unfortunately it only works in DVI mode for the moment
because the PDF output is completely buggy, I discussed with Taco about
that.

  1. At first, you simply need to switch to vertical directions, using the
primitives inherited from Omega.  Here I used LTL as the general direction: the
first letter indicates the first edge of the page is at the left (lines of text
move globally from left to right); 'T' means the second edge of the page is at
the top (inside a single line, text moves from the top downwards).  The last
letter defines the notion of "top" for individual letters, I chose left, more
or less randomly.  It has some influence, as we will see later, but not as much
as the first two letters.

  Then you can set English text vertically, with the columns running from left
to right.  It's akward to use OpenType fonts in DVI mode, so I simply used
Computer Modern Typewriter, stacking the letters on top of each other.  Of
course it's weird to set English text vertically without rotating the letters,
but it is possible.  There is a problem, though, because the text looks
completely clumsy: the reason is the font's metrics are not designed for
vertical typesetting, so you need to change them.  The way metrics work in
Omega's directional model is that width runs along the direction of the line,
here top-to-bottom; hence a glyph's width, in that example, is actually the sum
of its height and its depth in the original font designed for horizontal
typesetting. Its height and depth, in turn, need to be chosen so that their sum
is equal to the horizontal width, and I think it's a good choice to make them
equal to each other, so that each glyph is centered on the vertical base line.

  2. On the second page I demonstrate a first way to do that, with Lua code:
you can use the define_font callback to redefine width, height and depth for
each glyph in the font, and LuaTeX will use these new metrics.

  Note that the vertical width should, actually, be a little bit more than
horizontal height + horizontal depth, because these dimensions are not meant to
blend well with stacks of letters, unlike the horizontal width: the former are
really more like the dimensions of a bounding box, whereas the latter is the
distance by which you should advance the line of text in order for the text not
to look to crowded.  Thus, I cheated a bit, by stretching the vertical width by
30% (chosen, again, at random by trial and error).

  But that's still not enough: as you can see, letters with descender, like 'g'
in the first line, sticks into the next letter.  That's because it has a
horizontal depth, and its origin is thus too low with respect to its enclosing
box: we need to raise those letters by their horizontal depth.

  3.  We could do this by editing the font and modify every glyph so that it
sits on the baseline, but we can do better by using virtual fonts.  In LuaTeX,
there are two ways to use virtual fonts: you can use a .vf file, or you can
define it with Lua commands in the font data.  Unfortunately, the latter
doesn't work in DVI mode because your Lua code is lost once the DVI file is
produced, and your DVI reader / driver doesn't know how to create the font, so
we have to stick to the traditional method and produce a .vf file.  I wrote a
small script to that effect which you will find in the attached zip, but the
.vf and .tfm files are also attached anyway.  Now the text looks quite nice, in
my opinion.  It's still hard to read, but that's of course because English is
not supposed to be typeset that way.

  The (figurative) bottom line of all this is that you need to typeset vertical
text with fonts that have vertical metrics.  Once the problems with PDF mode
are fixed, I can try and do that with Chinese or Japanese fonts; I expect it
would be quite straightforward.

	Arthur
-------------- next part --------------
A non-text attachment was scrubbed...
Name: luatex-vertical.zip
Type: application/x-zip-compressed
Size: 13420 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081230/84680ef6/attachment.zip>

From arthur.reutenauer at normalesup.org  Tue Dec 30 17:13:49 2008
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Tue, 30 Dec 2008 17:13:49 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <68bfdc900812260906t4d9d520cxddca5136c244ba88@mail.gmail.com>
References: <BLU117-W4819788C4EA55AA0BCCA0789ED0@phx.gbl>
	<49536448.3080909@wxs.nl>
	<BLU117-W4594FFD0F56BAF5C9883DE89EA0@phx.gbl>
	<op.umqvwin4fkrasx@your-b27fb1c401>
	<A04249DB-3532-4DAA-B684-6E60F1DE769F@telecom-bretagne.eu>
	<BLU117-W325513B850B9AE1F01E70089EB0@phx.gbl>
	<op.umr14rghfkrasx@your-b27fb1c401>
	<BLU117-W1FCFC94A7A341D7C8EEE389EB0@phx.gbl>
	<68bfdc900812260906t4d9d520cxddca5136c244ba88@mail.gmail.com>
Message-ID: <20081230161349.GB18156@phare.normalesup.org>

>>Furthermore you all talk about LTR and RTL, but what about vertical typesetting, in the Chinese or in >the Mongolian way? Obviously TeX-e-Parsi doesn't care about that.
> 
> It's true. and I think Omega did not handle that well either.

  Actually, Omega did a reasonable job, the bottleneck was that no
conforming font was available.  The examples I sent in my other mail use
exclusively Omega features, apart for the part where I play with the
font callback (the 2nd step in my file).

  I did experiments with Manju in Omega half a dozen years ago, using
Oliver Corff's MonTeX / ManjuTeX system as a starting point.  I wrote
OTP, I modified the Type 1 fonts and the metrics and it worked fine, but
the files have long been lost.

	Arthur

From yuleopen at gmail.com  Tue Dec 30 18:57:58 2008
From: yuleopen at gmail.com (Yue Wang)
Date: Tue, 30 Dec 2008 17:57:58 +0000
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <20081230160808.GA18156@phare.normalesup.org>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<E2B46A9A592441509FEC63DFF79E9270@PC1>
	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>
	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>
	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>
	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>
	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>
	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>
	<68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>
	<20081230160808.GA18156@phare.normalesup.org>
Message-ID: <68bfdc900812300957jb270131ka2da975802c1e2bb@mail.gmail.com>

Hi:

WOW! This is very impressive! Thanks for your work.

 So I think we can add vertical CJK typesetting feature to LuaTeX/MKIV
next year?

[Wolfgang is busy writing the wishlist for cjk typesetting, so i think
he will be very interested in experimenting your results]

Yue Wang

On Tue, Dec 30, 2008 at 4:08 PM, Arthur Reutenauer
<arthur.reutenauer at normalesup.org> wrote:
>> Can you show me an example of vertical typesetting in LuaTeX?
>
>  Try the attached file.  It demonstrates vertical typesetting with LuaTeX in
> three steps; unfortunately it only works in DVI mode for the moment
> because the PDF output is completely buggy, I discussed with Taco about
> that.
>
>  1. At first, you simply need to switch to vertical directions, using the
> primitives inherited from Omega.  Here I used LTL as the general direction: the
> first letter indicates the first edge of the page is at the left (lines of text
> move globally from left to right); 'T' means the second edge of the page is at
> the top (inside a single line, text moves from the top downwards).  The last
> letter defines the notion of "top" for individual letters, I chose left, more
> or less randomly.  It has some influence, as we will see later, but not as much
> as the first two letters.
>
>  Then you can set English text vertically, with the columns running from left
> to right.  It's akward to use OpenType fonts in DVI mode, so I simply used
> Computer Modern Typewriter, stacking the letters on top of each other.  Of
> course it's weird to set English text vertically without rotating the letters,
> but it is possible.  There is a problem, though, because the text looks
> completely clumsy: the reason is the font's metrics are not designed for
> vertical typesetting, so you need to change them.  The way metrics work in
> Omega's directional model is that width runs along the direction of the line,
> here top-to-bottom; hence a glyph's width, in that example, is actually the sum
> of its height and its depth in the original font designed for horizontal
> typesetting. Its height and depth, in turn, need to be chosen so that their sum
> is equal to the horizontal width, and I think it's a good choice to make them
> equal to each other, so that each glyph is centered on the vertical base line.
>
>  2. On the second page I demonstrate a first way to do that, with Lua code:
> you can use the define_font callback to redefine width, height and depth for
> each glyph in the font, and LuaTeX will use these new metrics.
>
>  Note that the vertical width should, actually, be a little bit more than
> horizontal height + horizontal depth, because these dimensions are not meant to
> blend well with stacks of letters, unlike the horizontal width: the former are
> really more like the dimensions of a bounding box, whereas the latter is the
> distance by which you should advance the line of text in order for the text not
> to look to crowded.  Thus, I cheated a bit, by stretching the vertical width by
> 30% (chosen, again, at random by trial and error).
>
>  But that's still not enough: as you can see, letters with descender, like 'g'
> in the first line, sticks into the next letter.  That's because it has a
> horizontal depth, and its origin is thus too low with respect to its enclosing
> box: we need to raise those letters by their horizontal depth.
>
>  3.  We could do this by editing the font and modify every glyph so that it
> sits on the baseline, but we can do better by using virtual fonts.  In LuaTeX,
> there are two ways to use virtual fonts: you can use a .vf file, or you can
> define it with Lua commands in the font data.  Unfortunately, the latter
> doesn't work in DVI mode because your Lua code is lost once the DVI file is
> produced, and your DVI reader / driver doesn't know how to create the font, so
> we have to stick to the traditional method and produce a .vf file.  I wrote a
> small script to that effect which you will find in the attached zip, but the
> .vf and .tfm files are also attached anyway.  Now the text looks quite nice, in
> my opinion.  It's still hard to read, but that's of course because English is
> not supposed to be typeset that way.
>
>  The (figurative) bottom line of all this is that you need to typeset vertical
> text with fonts that have vertical metrics.  Once the problems with PDF mode
> are fixed, I can try and do that with Chinese or Japanese fonts; I expect it
> would be quite straightforward.
>
>        Arthur
>

From jfine at pytex.org  Tue Dec 30 19:50:51 2008
From: jfine at pytex.org (Jonathan Fine)
Date: Tue, 30 Dec 2008 18:50:51 +0000
Subject: [Dev-luatex] Q: Can LuaTeX produce xdv?
Message-ID: <495A6D8B.6050601@pytex.org>

As subject.  xdv is the eXtended DVi format used by XeTeX.

I did a search on the mailing list archive and nothing came up.
      http://www.mail-archive.com/search?l=dev-luatex%40ntg.nl&q=xdv

Jonathan

From taco at elvenkind.com  Tue Dec 30 19:56:17 2008
From: taco at elvenkind.com (Taco Hoekwater)
Date: Tue, 30 Dec 2008 19:56:17 +0100
Subject: [Dev-luatex] Q: Can LuaTeX produce xdv?
In-Reply-To: <495A6D8B.6050601@pytex.org>
References: <495A6D8B.6050601@pytex.org>
Message-ID: <495A6ED1.9060909@elvenkind.com>

Jonathan Fine wrote:
> As subject.  xdv is the eXtended DVi format used by XeTeX.

No, it cannot. Perhaps it should, but that needs a volunteer.

Best wishes,
Taco



From pragma at wxs.nl  Wed Dec 31 00:32:09 2008
From: pragma at wxs.nl (Hans Hagen)
Date: Wed, 31 Dec 2008 00:32:09 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <68bfdc900812300957jb270131ka2da975802c1e2bb@mail.gmail.com>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>	<E2B46A9A592441509FEC63DFF79E9270@PC1>	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>	<68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>	<20081230160808.GA18156@phare.normalesup.org>
	<68bfdc900812300957jb270131ka2da975802c1e2bb@mail.gmail.com>
Message-ID: <495AAF79.9050305@wxs.nl>

Yue Wang wrote:
> Hi:
> 
> WOW! This is very impressive! Thanks for your work.
> 
>  So I think we can add vertical CJK typesetting feature to LuaTeX/MKIV
> next year?

it all depends a bit on integration in the output routine/pagebody 
builder, but it should be doable (more a topic for the context list then)

> [Wolfgang is busy writing the wishlist for cjk typesetting, so i think
> he will be very interested in experimenting your results]

ok, just add it to the analysis and we can discuss if next year

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
      tel: 038 477 53 69 | fax: 038 477 53 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From yannis.haralambous at telecom-bretagne.eu  Tue Dec 30 20:06:57 2008
From: yannis.haralambous at telecom-bretagne.eu (Yannis Haralambous)
Date: Tue, 30 Dec 2008 20:06:57 +0100
Subject: [Dev-luatex] Modifying the LuaTeX Engine
In-Reply-To: <68bfdc900812300957jb270131ka2da975802c1e2bb@mail.gmail.com>
References: <68bfdc900812260839p474af7e6oedf6ee3603eb010@mail.gmail.com>
	<E2B46A9A592441509FEC63DFF79E9270@PC1>
	<BLU117-W54959EFC60576344151E9689E80@phx.gbl>
	<81B8DF0B-5F8D-424B-990C-A1E851684ED4@telecom-bretagne.eu>
	<BLU117-W9054814B52C8A83DE714289E80@phx.gbl>
	<0D0AF7FB-BF5E-439C-AD3D-C9067C2EEDF3@telecom-bretagne.eu>
	<BLU117-W332B4A58DDEB9338677CE89E80@phx.gbl>
	<20081227194529.GA22687@gamma.logic.tuwien.ac.at>
	<68bfdc900812280012t6bb9fd86ve5e8bba8851bc7d0@mail.gmail.com>
	<20081230160808.GA18156@phare.normalesup.org>
	<68bfdc900812300957jb270131ka2da975802c1e2bb@mail.gmail.com>
Message-ID: <429E7A03-3D06-49A0-9C76-14ECBD7E500E@telecom-bretagne.eu>

Since you are interested in vertical typesetting by Omega, here are  
ten pages from a book published in Greece: the translation of 90 haiku  
poems. The name of the author is written in Japanese with furigana.

The book is: <http://www.bibliopolio.gr/????????-????????-p-95636.html?osCsid=6971e3a0dbd790ac 
8014e83491cf4c11> (ISBN 960-7360-60-5)

Le 30 d?c. 08 ? 18:57, Yue Wang a ?crit :

> Hi:
>
> WOW! This is very impressive! Thanks for your work.
>
> So I think we can add vertical CJK typesetting feature to LuaTeX/MKIV
> next year?
>
> [Wolfgang is busy writing the wishlist for cjk typesetting, so i think
> he will be very interested in experimenting your results]
>
> Yue Wang
>
> On Tue, Dec 30, 2008 at 4:08 PM, Arthur Reutenauer
> <arthur.reutenauer at normalesup.org> wrote:
>>> Can you show me an example of vertical typesetting in LuaTeX?
>>
>> Try the attached file.  It demonstrates vertical typesetting with  
>> LuaTeX in
>> three steps; unfortunately it only works in DVI mode for the moment
>> because the PDF output is completely buggy, I discussed with Taco  
>> about
>> that.
>>
>> 1. At first, you simply need to switch to vertical directions,  
>> using the
>> primitives inherited from Omega.  Here I used LTL as the general  
>> direction: the
>> first letter indicates the first edge of the page is at the left  
>> (lines of text
>> move globally from left to right); 'T' means the second edge of the  
>> page is at
>> the top (inside a single line, text moves from the top downwards).   
>> The last
>> letter defines the notion of "top" for individual letters, I chose  
>> left, more
>> or less randomly.  It has some influence, as we will see later, but  
>> not as much
>> as the first two letters.
>>
>> Then you can set English text vertically, with the columns running  
>> from left
>> to right.  It's akward to use OpenType fonts in DVI mode, so I  
>> simply used
>> Computer Modern Typewriter, stacking the letters on top of each  
>> other.  Of
>> course it's weird to set English text vertically without rotating  
>> the letters,
>> but it is possible.  There is a problem, though, because the text  
>> looks
>> completely clumsy: the reason is the font's metrics are not  
>> designed for
>> vertical typesetting, so you need to change them.  The way metrics  
>> work in
>> Omega's directional model is that width runs along the direction of  
>> the line,
>> here top-to-bottom; hence a glyph's width, in that example, is  
>> actually the sum
>> of its height and its depth in the original font designed for  
>> horizontal
>> typesetting. Its height and depth, in turn, need to be chosen so  
>> that their sum
>> is equal to the horizontal width, and I think it's a good choice to  
>> make them
>> equal to each other, so that each glyph is centered on the vertical  
>> base line.
>>
>> 2. On the second page I demonstrate a first way to do that, with  
>> Lua code:
>> you can use the define_font callback to redefine width, height and  
>> depth for
>> each glyph in the font, and LuaTeX will use these new metrics.
>>
>> Note that the vertical width should, actually, be a little bit more  
>> than
>> horizontal height + horizontal depth, because these dimensions are  
>> not meant to
>> blend well with stacks of letters, unlike the horizontal width: the  
>> former are
>> really more like the dimensions of a bounding box, whereas the  
>> latter is the
>> distance by which you should advance the line of text in order for  
>> the text not
>> to look to crowded.  Thus, I cheated a bit, by stretching the  
>> vertical width by
>> 30% (chosen, again, at random by trial and error).
>>
>> But that's still not enough: as you can see, letters with  
>> descender, like 'g'
>> in the first line, sticks into the next letter.  That's because it  
>> has a
>> horizontal depth, and its origin is thus too low with respect to  
>> its enclosing
>> box: we need to raise those letters by their horizontal depth.
>>
>> 3.  We could do this by editing the font and modify every glyph so  
>> that it
>> sits on the baseline, but we can do better by using virtual fonts.   
>> In LuaTeX,
>> there are two ways to use virtual fonts: you can use a .vf file, or  
>> you can
>> define it with Lua commands in the font data.  Unfortunately, the  
>> latter
>> doesn't work in DVI mode because your Lua code is lost once the DVI  
>> file is
>> produced, and your DVI reader / driver doesn't know how to create  
>> the font, so
>> we have to stick to the traditional method and produce a .vf file.   
>> I wrote a
>> small script to that effect which you will find in the attached  
>> zip, but the
>> .vf and .tfm files are also attached anyway.  Now the text looks  
>> quite nice, in
>> my opinion.  It's still hard to read, but that's of course because  
>> English is
>> not supposed to be typeset that way.
>>
>> The (figurative) bottom line of all this is that you need to  
>> typeset vertical
>> text with fonts that have vertical metrics.  Once the problems with  
>> PDF mode
>> are fixed, I can try and do that with Chinese or Japanese fonts; I  
>> expect it
>> would be quite straightforward.
>>
>>       Arthur
>>
> _______________________________________________
> dev-luatex mailing list
> dev-luatex at ntg.nl
> http://www.ntg.nl/mailman/listinfo/dev-luatex
>

--
+ 
-----------------------------------------------------------------------+
| Yannis Haralambous, Ph.D.      yannis.haralambous at telecom- 
bretagne.eu |
| Directeur d'?tudes                      http://omega.enstb.org/ 
yannis |
|                                             Tel. +33  
(0)2.29.00.14.27 |
|                                             Fax  +33  
(0)2.29.00.12.82 |
| D?partement  
Informatique                                              |
| TELECOM  
Bretagne                                                      |
| Technop?le de Brest Iroise, CS 83818, 29238 Brest CEDEX 3,  
France     |
| Coordonn?es Google-Earth : 48?21'31.57"N  
4?34'16.76"W                 |
+ 
-----------------------------------------------------------------------+
                             ...pour distinguer l'ext?rieur d'un  
aquarium,
                                            mieux vaut n'?tre pas  
poisson

                            ...the ball I threw while playing in the  
park
                                           has not yet reached the  
ground

               Es gab eine Zeit, wo ich nur ungern ?ber Schubert  
sprechen,
            nur N?chtens den B?umen und Sternen von ihm vorerz?hlen  
m?gen.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081230/feca0a8f/attachment-0003.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: haiku.pdf
Type: application/pdf
Size: 119393 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081230/feca0a8f/attachment-0001.pdf>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081230/feca0a8f/attachment-0004.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Yannis Haralambous.vcf
Type: text/directory
Size: 508 bytes
Desc: not available
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081230/feca0a8f/attachment-0001.bin>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.ntg.nl/mailman/private/dev-luatex/attachments/20081230/feca0a8f/attachment-0005.html>

