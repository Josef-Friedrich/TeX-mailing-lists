From vafa at users.berlios.de  Fri Apr  2 14:04:12 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Fri, 2 Apr 2010 23:04:12 +1100
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100402113402.GA5163@khaled-laptop>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
	 <20100401041739.GA5632@khaled-laptop>
	 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
	 <20100401220536.GB12550@khaled-laptop>
	 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
	 <20100402055502.GA3562@khaled-laptop> <4BB5B9EA.5030201@elzevir.fr>
	 <20100402113402.GA5163@khaled-laptop>
Message-ID: <x2vb5215f01004020504h36c6afc3gdbbd485e6dbdabde@mail.gmail.com>

>
> It doesn't work for me, and the users I care about, otherwise I would
> have been using it and not bothering myself with luatex, why I need to
> keep saying this?
>
>
What is the problem with current status of bidi that does not work for you
and the users that you care about? I am always have been open to new ideas,
if there is any issue, it is always good to shout so we can make bidi
package more bug-free.

As I said before, xetex has isuue with specials in rl, other than that,
there is nothing that luatex in terms of bidirectional typesetting can do
but xetex+bidi package can not.


-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100402/364cb6f5/attachment.html>

From vafa at users.berlios.de  Sun Apr  4 12:39:19 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sun, 4 Apr 2010 20:39:19 +1000
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100404103658.GD2850@khaled-laptop>
References: <20100401220536.GB12550@khaled-laptop>
	 <20100402055502.GA3562@khaled-laptop> <4BB5B9EA.5030201@elzevir.fr>
	 <20100402113402.GA5163@khaled-laptop> <4BB5DD0E.5000801@elzevir.fr>
	 <20100402122340.GA6035@khaled-laptop>
	 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
	 <20100402161439.GA12450@khaled-laptop>
	 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
	 <20100404103658.GD2850@khaled-laptop>
Message-ID: <s2jb5215f01004040339u740aa455p8e17cb0d88a50ff8@mail.gmail.com>

>
> \documentclass{article}
>
> \begin{document}
> \begin{tabular}{ l c r }
>  1 & 2 & 3 \\
>  4 & 5 & 6 \\
>  7 & 8 & 9 \\
> \end{tabular}
>
> \bgroup
> \luatexmathdir TRT
> \begin{tabular}{ l c r }
>  1 & 2 & 3 \\
>  4 & 5 & 6 \\
>  7 & 8 & 9 \\
> \end{tabular}
> \egroup
> \end{document}
>
>
>
No that is a bad approach. Because you are doing RTL maths, you are assuming
everyone is doing RTL maths which is absolutely wrong. What about someone is
doing RTL tabular but LTR maths (i.e. Persian users)?

-- 
Best wishes,
Vafa Khalighi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100404/c99e81b8/attachment.html>

From khaledhosny at eglug.org  Sun Apr  4 12:23:11 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sun, 4 Apr 2010 12:23:11 +0200
Subject: [lltx] [fontspec] selecting font features has no effect?
In-Reply-To: <4BB74AA5.7050709@elzevir.fr>
References: <20100330134241.GB3788@khaled-laptop>
 <y2p803fcee31003301907l3269fcdcjdeda943d88507df4@mail.gmail.com>
 <20100401215901.GA12550@khaled-laptop>
 <h2g803fcee31004011855z6f12c27cx4e8021b02da2d8bc@mail.gmail.com>
 <4BB66DFE.4000103@gmail.com>
 <20100402225651.GA12242@khaled-laptop>
 <4BB680AF.1080004@gmail.com>
 <20100403002131.GA13167@khaled-laptop>
 <4BB690BB.4090104@gmail.com>
 <4BB74AA5.7050709@elzevir.fr>
Message-ID: <20100404102311.GC2850@khaled-laptop>

On Sat, Apr 03, 2010 at 04:03:17PM +0200, Manuel P?gouri?-Gonnard wrote:
> Georg A. Duffner a ?crit :
> > But the version of luatextra+luatexbase+luaextra that?s provided as a
> > dowlnoad by Manuel seems to be buggy. A version previous to that of 3/30
> > didn?t break these things. Perhaps this can be clarified in the
> > corresponding thread.
> > 
> Can someone please provide a (minimal, if possible) example using only free
> fonts that works with TL's luatextra and breaks with the new version, so that I
> can investigate?

I don't have that specific combination, but from what I see, replacing
arno pro with any opentype font would suffice.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From mpg at elzevir.fr  Fri Apr  2 14:03:26 2010
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Fri, 02 Apr 2010 14:03:26 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100402113402.GA5163@khaled-laptop>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com> <20100401041739.GA5632@khaled-laptop> <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com> <20100401220536.GB12550@khaled-laptop> <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com> <20100402055502.GA3562@khaled-laptop> <4BB5B9EA.5030201@elzevir.fr> <20100402113402.GA5163@khaled-laptop>
Message-ID: <4BB5DD0E.5000801@elzevir.fr>

Khaled Hosny a ?crit :
> That 'is' in 'main idea behind luatex is' was meant to be 'was', and I
> can't but agree with you here, what is the biggest advantage of luatex
> wasn't the point I was trying to make.
> 
I agree it's beside the point.

> Great things were written in assembly too (and I know at least one
> modern OS written completely in it), it is not about the possibility,
> it is about in what time and what degree of complexity one can do
> things. So, basically what you are saying is that tex is Turing
> complete, a fact I don't find very interesting by itself.
> 
No, I'm not saying that. Brainfuck is Turing complete, but I wouldn't argue that
brainfuck is usable. The point with TeX is, we have an existing non-trivial and
mostly working codebase, we should use it when possible, and have to interact
with it anyway.

>  I for example don't know any major tex package actively
> maintained by anyone other than the original developer unless it was
> just rewritten, and there must be a reason for this.
> 
You have a point here. OTOH, when the original author is willing to cooperate
with us on porting his code to LuaTeX, this is not a problem. (And is this case,
Vafa is clearly willing to cooperate, he even agrees with you on doing part of
the package in pure Lua).

> Yes and no, yes I strongly dislike programing in tex macros, or,
> precisely, I plainly hate it, no I never said "it's written in TeX, it
> can't be good, it should be rewritten in Lua", but rather "it is written
> in tex, so I'l never be able to hack it, so I'd rather rewrite it in
> lua"; I'm not into the position of telling anyone what to do, I'm rather
> talking about what can I do. The original question was if I'm interested
> in bidi package or not, and my answer was literally "*I*'m not
> interested in bidi package since *I* feel it is too overloaded by
> legacies of TeX macros for *me* to manage", emphasis added.
> 
Ok, thanks for clarifying your position. Now I can only agree with you, of
course no one is willing to force you to write or maintain code in a language
you hate (or even dislike).

But then again, Vafa could work on the TeX part on you on the Lua part.

> No, I need not to understand tex macros, well nothing more than the very
> superficial understanding, the rest I simply ignore and I think I'm
> doing fine so far.
> 
Well, it depends on what you are doing. I mean, for the example of
luaotfload+fontspec (which is IMO a great example of how we should be doing
things), you didn't need much TeX for luaotfload, but there still are some
non-trivial macros in fontspec, which are need to interface both with the user
and with existing code (including the LaTeX kernel).

>> I see it as a big advantage of bidi, from a user's point of view (and users are
>> more important than programmers), since it means things "just work". Taking care
>> of this require time and usually quite a lot of user feedback, which is of great
>> value. Again, this value would probably be lost by rewriting form scratch. This
>> is why it is almost always a bad idea to rewrite things from scratch, from a
>> software engineering point of view. (And, mind you, saying "I don't understand
>> why things are done this way, it looks too complicated to me, and it's not
>> written in my favourite language, so I'll just rewrite it" is a common mistake
>> of young software developers.) (You may argue that some engineering paradigms
>> such as extreme programming suggest frequent rewrite from scratch, but they
>> require to do it in a way that accumulated experience doesn't get lost in the
>> process.)
> 
> It doesn't work for me, and the users I care about, otherwise I would
> have been using it and not bothering myself with luatex, why I need to
> keep saying this?
> 
Is the macro/bidi part the problem, or is XeTeX the problem? If XeTeX is the
problem, maybe part of the macros in bidi could be re-used.

> So? I'm not learning tex macros and I'm not writing any code in it, and
> if I need certain functionality I'll write it in lua, I don't see why I
> need to justify this.
> 
You don't need to justify, I'm just trying to make sure that valuable experience
and code is not lost.

> I'm not interested in diplomacy, it is hard enough for me to communicate
> in English, so I'd rather keep things simple and go strait forward to
> the point.
> 
I disagree here, since I think it's important to preserve good relationships
with other authors when possible, but I won't try to make you change your mind.

Manuel.



-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Thu Apr  8 14:19:30 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 8 Apr 2010 14:19:30 +0200
Subject: [lltx] [luaotfload] Footnotes
In-Reply-To: <4BBDA8C8.9070407@gmail.com>
References: <4BBC4AD6.2080305@gmail.com>
 <20100407095509.GA3437@khaled-laptop>
 <4BBCF447.2050603@gmail.com>
 <20100407231624.GA5067@khaled-laptop>
 <4BBDA8C8.9070407@gmail.com>
Message-ID: <20100408121930.GB29952@khaled-laptop>

On Thu, Apr 08, 2010 at 11:58:32AM +0200, Georg A. Duffner wrote:
> Am 2010-04-08 01:16, schrieb Khaled Hosny:
> >On Wed, Apr 07, 2010 at 11:08:23PM +0200, Georg A. Duffner wrote:
> >>Am 2010-04-07 11:55, schrieb Khaled Hosny:
> >>>On Wed, Apr 07, 2010 at 11:05:26AM +0200, Georg A. Duffner wrote:
> >>>>There seems to be a problem with footnotes when using luaotfload.
> >>>>The footnotemark in the text is rendered smaller but not
> >>>>superscript.
> >>>>
> >>>>Example:
> >>>>
> >>>>\documentclass{article}
> >>>>\usepackage{luaotfload}
> >>>>\begin{document}
> >>>>Text\footnote{footnote text}
> >>>>\end{document}
> >>>>
> >>>>The error:
> >>>>! Math error: parameter \Umathquad\displaystyle is not set.
> >>>>\@ensuredmath #1->$\relax #1$
> >>>>
> >>>>l.8 Text\footnote{
> >>>>                   footnote text}
> >>>>Sorry, but I can't typeset math unless various parameters have
> >>>>been set. This is normally done by loading special math fonts
> >>>>into the math family slots. Your font set is lacking at least
> >>>>the parameter mentioned earlier.
> >>>
> >>>Most likely this is because you've a TTF version of CM math fonts that
> >>>luaotfload is trying to load, and it is lacking such parameters. If you
> >>>are running debian, do you've either ttf-lyx or latex-xft-fonts packages
> >>>installed?
> >>>
> >>
> >>
> >>Well, you are partly right. This minimal example is using CM TTF
> >>fonts (and I have ttf-lyx installed, but not latex-xft-fonts). But
> >>the following examples are showing the same error (see attached
> >>logfile of #1):
> >>
> >>1. using ?libertine? package with an adapted fd-file (see attachment)
> >>
> >>\documentclass{article}
> >>\usepackage[EU2]{fontenc}
> >>\usepackage{luaotfload}
> >>\usepackage{libertine}
> >>\begin{document}
> >>Text\footnote{footnote text}
> >>\end{document}
> >>
> >>2. using Linux Libertine OTF with fontspec
> >>
> >>\documentclass{article}
> >>\usepackage{fontspec}
> >>\setmainfont{Linux Libertine O}
> >>\begin{document}
> >>Text\footnote{footnote text}
> >>\end{document}
> >
> >Luaotfload doesn't change default latex fonts, what happens is that your
> >document requests one of CM math fonts, say cmmi10, which have the
> >necessary font parameters in the tfm file, but luaotfload finds the ttf
> >version you have and so loads it through the opentype font loader which
> >will not load any tfm files and thus the required font parameters will
> >not be set, resulting in the \Umathquad error you get.
> >
> >A quick solution is to uninstall the ttf-lyx package then update you
> >luaotfload font database, and every thing will be back to normal.
> 
> Thank you, that fixed it.
> 
> >Now, having several different fonts with the same font name is reciby
> >for troubles, and I don't consider this a luaoftload bug per se (you ask
> >for a font named "cmmi10" and you get one), but since this going to
> >affect many users (me included!), we need to find a better way to handle
> >this.
> 
> Yes, font management is definitely a problem on linux systems when
> you try to stay with the distribution?s packages. On Debian systems,
> if you install texlive from the repos and want to use the same fonts
> in other apps, you have to install several packages, which probably
> ship different versions. This gets even worse if you install vanilla
> texlive and update regularly. I have been trying to keep my system
> ?clean? by not installing font-packages if texlive contains the
> fonts and instead putting a symlink to tex-fonts into my system?s
> fonts folder. Thus luaotfload and xetex do find two copies of some
> fonts, but they are in fact the same file. For me personally this
> works, but I think, something more generic would be good.

One solution to this specific issue is to make the old font definition
syntax load only TFM fonts, and make loading system fonts only through
the extended syntax, so:

\font\tenrm=ec-lmr10 at 10pt

or the extended:

\font\tenrm=file:ec-lmr10 at 10pt

Will not consult font names database, so old code that expects TFM fonts
will continue to work as expected, while:

\font\tenrm={name:Latin Modern Roman} at 10pt

Would be required to load system (or texmf) fonts by name. What do
others think about this?

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From arthur.reutenauer at normalesup.org  Sat Apr  3 00:45:09 2010
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Sat, 3 Apr 2010 00:45:09 +0200
Subject: [lltx] Proposed: LuaLaTeX minimals
In-Reply-To: <4BB61F93.1070305@elzevir.fr>
References: <l2xfe8d59da1004020307k56851796va96170fc7fa6caf5@mail.gmail.com> <20100402163105.GD12450@khaled-laptop> <4BB61F93.1070305@elzevir.fr>
Message-ID: <20100402224509.GT24723@phare.normalesup.org>

> The French TeX users group, GUTenberg, would probably be willing to host it.
> Arthur, wdyt?

  Definitely; that's exactly the kind of things we can do.

	Arthur


-- 
To unsubscribe, reply using "remove me" as the subject.


From luigi.scarso at gmail.com  Fri Apr  2 12:07:10 2010
From: luigi.scarso at gmail.com (luigi scarso)
Date: Fri, 2 Apr 2010 12:07:10 +0200
Subject: [lltx] Proposed: LuaLaTeX minimals
Message-ID: <l2xfe8d59da1004020307k56851796va96170fc7fa6caf5@mail.gmail.com>

I suppose we all know context minimals.
I find it a good way to test luatex + context.

Until now, to test luaLatex by my own, I download a context minimals
insert somewhere a latex/base/* branch and integrate with missing files.
It's not  so difficult  --- only annoying.

It's should be nice to have a sort of luaLaTeX minimals .

-- 
luigi


-- 
To unsubscribe, reply using "remove me" as the subject.


From vafakh84 at gmail.com  Fri Apr  2 14:29:24 2010
From: vafakh84 at gmail.com (Vafa Khalighi)
Date: Fri, 2 Apr 2010 23:29:24 +1100
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100402113402.GA5163@khaled-laptop>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
	 <20100401041739.GA5632@khaled-laptop>
	 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
	 <20100401220536.GB12550@khaled-laptop>
	 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
	 <20100402055502.GA3562@khaled-laptop> <4BB5B9EA.5030201@elzevir.fr>
	 <20100402113402.GA5163@khaled-laptop>
Message-ID: <w2nb5215f01004020529x99f0d339q89919e68b73bb701@mail.gmail.com>

> It doesn't work for me, and the users I care about, otherwise I would
> have been using it and not bothering myself with luatex, why I need to
> keep saying this?
>
>
What is the problem with current status of bidi that does not work for you
and the users that you care about? I am always have been open to new ideas,
if there is any issue, it is always good to shout so we can make bidi
package more bug-free.

As I said before, xetex has isuue with specials in rl, other than that,
there is nothing that luatex in terms of bidirectional typesetting can do
but xetex+bidi package can not.



-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100402/ffe8f08a/attachment.html>

From khaledhosny at eglug.org  Fri Apr  2 00:05:36 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 2 Apr 2010 00:05:36 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
 <20100401041739.GA5632@khaled-laptop>
 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
Message-ID: <20100401220536.GB12550@khaled-laptop>

On Thu, Apr 01, 2010 at 03:20:20PM +1100, Vafa Khalighi wrote:
> Thanks Khaled.
> 
> Would you like to put this into bidi or you are planning to make a seperate
> package?
> 
> In any case, can I use your code in bidi package?

My plan is to have a package for supporting major text writing
directions (rtl, ltr, vertical etc.), but I'm not interested in bidi
package since I feel it is too overloaded by legacies of TeX macros for
me to manage (and I really hate latex packages duplicating code of other
packages). But you are free to use the code the way you like, just be
aware that it too experimental and not guaranteed to always work.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From dcnieho at gmail.com  Fri Apr  2 03:55:13 2010
From: dcnieho at gmail.com (Diederick C. Niehorster)
Date: Fri, 2 Apr 2010 09:55:13 +0800
Subject: [lltx] [fontspec] selecting font features has no effect?
In-Reply-To: <20100401215901.GA12550@khaled-laptop>
References: <214339f0-77d0-492a-a63b-4b5cd14b051b@k36g2000prb.googlegroups.com>
	 <D1E777B8-8777-4DE1-8D2D-E764B70BAF26@gmail.com>
	 <803fcee31003300449i5bd2b885rfbb8c630b79faf63@mail.gmail.com>
	 <eba574421003300503h552fc4baof74d13eaa9ebf804@mail.gmail.com>
	 <803fcee31003300515v1ff83334uf1d99e9e018a9314@mail.gmail.com>
	 <20100330134241.GB3788@khaled-laptop>
	 <y2p803fcee31003301907l3269fcdcjdeda943d88507df4@mail.gmail.com>
	 <20100401215901.GA12550@khaled-laptop>
Message-ID: <h2g803fcee31004011855z6f12c27cx4e8021b02da2d8bc@mail.gmail.com>

On Fri, Apr 2, 2010 at 5:59 AM, Khaled Hosny <khaledhosny at eglug.org> wrote:
> On Wed, Mar 31, 2010 at 10:07:08AM +0800, Diederick C. Niehorster wrote:
>> \setmainfont[Ligatures=TeX]{Arno Pro} - works
>> \setmainfont[Ligatures=TeX]{Arno Pro Italic} - font not found
>> \setmainfont[Ligatures=TeX]{Adobe Caslon Pro} - compare to nil error
>
> I believe that the two issues are now fixed.

Hi Khaled,

Thanks!
I'm about to leave the country for a few days, I'll check it out when I'm back.

Best,
Dee


-- 
To unsubscribe, reply using "remove me" as the subject.


From vafa at users.berlios.de  Sat Apr  3 12:27:23 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sat, 3 Apr 2010 21:27:23 +1100
Subject: [lltx] Proposed: LuaLaTeX minimals
In-Reply-To: <4BB717CD.10506@gmx.de>
References: <l2xfe8d59da1004020307k56851796va96170fc7fa6caf5@mail.gmail.com>
	 <20100402163105.GD12450@khaled-laptop> <4BB717CD.10506@gmx.de>
Message-ID: <u2nb5215f01004030327m1f46b98au1b6aa00081c59f0@mail.gmail.com>

>
> That?s a great thing and I?d love to have this kind of package. But one
> question: Would it contain updated binaries, too? I would do a lot more
> of testing and playing around with luaLaTeX, but as the TL binaries of
> luaTeX are outdated, I don?t want to mess my system by building luatex
> myself. I?d feel much more comfortable using a texlive package for this ?
>
>
I think you can always get the latest luatex binary by:

rsync -av rsync://
contextgarden.net/minimals/current/bin/luatex/linux/bin/luatex
/usr/local/texlive/2009/bin/i386-linux/


-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100403/9d6081ca/attachment.html>

From vafa at users.berlios.de  Sat Apr  3 03:25:44 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sat, 3 Apr 2010 12:25:44 +1100
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100402161439.GA12450@khaled-laptop>
References: <20100401041739.GA5632@khaled-laptop>
	 <20100401220536.GB12550@khaled-laptop>
	 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
	 <20100402055502.GA3562@khaled-laptop> <4BB5B9EA.5030201@elzevir.fr>
	 <20100402113402.GA5163@khaled-laptop> <4BB5DD0E.5000801@elzevir.fr>
	 <20100402122340.GA6035@khaled-laptop>
	 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
	 <20100402161439.GA12450@khaled-laptop>
Message-ID: <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>

>
> It can, but is it really needed (i.e. I can switch the whole package
> layout in very few lines of tex code in luatex, with tex-xet it needs
> hundreds of package specific macro redefinitions, one definitely can do
> the later with luatex too.)
>
>
You are only looking at bidi implementation from one side and that is just
using mainly RTL. Yes, if one wants to use mainly RTL, there is not much to
do because you have got \pagedir TRT to use. But I am afraid that is just a
narrow perspective, you have got also to consider other users who use RTL
partially, i.e. they mainly use LTR, but typeset some RTL text, then
\pagedir TRT does not make sense at all and they have got to typeset (just
as an example) tabular RTL sometimes. The bidi implementation needs to suit
everyone, and not just a group of people and this has unfortunately some
costs and that is definitely going to be macro programming for many
packages. You think bidi implementation is easy, but it is not. It is the
most complex and sophisticated matter in TeX, both logically and
technically.



-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100403/fa9efb8e/attachment.html>

From dcnieho at gmail.com  Thu Apr  1 09:57:39 2010
From: dcnieho at gmail.com (Diederick C. Niehorster)
Date: Thu, 1 Apr 2010 15:57:39 +0800
Subject: [lltx] Re: [fontspec] selecting font features has no effect?
In-Reply-To: <20100401043019.GA6737@khaled-laptop>
References: <803fcee31003300449i5bd2b885rfbb8c630b79faf63@mail.gmail.com>
	 <20100330125211.GD2934@khaled-laptop>
	 <4BB20CD2.6030507@telecom-bretagne.eu>
	 <c90bffcf-d9fe-4994-bb6c-8bbf27ee586e@k17g2000yqb.googlegroups.com>
	 <w2u803fcee31003301910za7d4b7b8r2764bff07383b7bf@mail.gmail.com>
	 <20100331090130.GC2417@khaled-laptop>
	 <w2n803fcee31003310219if83f4b56jbd63fd5bdfaa51bb@mail.gmail.com>
	 <20100331174107.GB3657@khaled-laptop>
	 <s2j803fcee31003311722nfb939366g1ad931e3c6db7c2d@mail.gmail.com>
	 <20100401043019.GA6737@khaled-laptop>
Message-ID: <p2k803fcee31004010057j4588d576v12bba9708146b2db@mail.gmail.com>

On Thu, Apr 1, 2010 at 12:30 PM, Khaled Hosny <khaledhosny at eglug.org> wrote:
>
> Here, I get tex ligatures with arno pro and other fonts too, seems some
> thing wrong specific to your install.
>

Hmm, interesting. I seem to be having multiple weird issues with my
setup. I wont have time to play with luatex much more for the coming
weeks, so I guess I'll just update by the time I'm back and then try
again!

Thanks and let me know if i can test anything on a clean (no cygwin)
windows installation.

Best,
Dee


-- 
To unsubscribe, reply using "remove me" as the subject.


From vafa at users.berlios.de  Sun Apr  4 14:07:10 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sun, 4 Apr 2010 22:07:10 +1000
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100404115930.GA29417@khaled-laptop>
References: <4BB5DD0E.5000801@elzevir.fr>
	 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
	 <20100402161439.GA12450@khaled-laptop>
	 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
	 <j2sb5215f01004021830w2c8e38ebu2b5522006986da93@mail.gmail.com>
	 <20100404104544.GE2850@khaled-laptop>
	 <k2gb5215f01004040350kf91c94aerd353307d2116d0d5@mail.gmail.com>
	 <20100404114101.GF2850@khaled-laptop>
	 <v2kb5215f01004040447l821e5acdmdb6cc65c142163f5@mail.gmail.com>
	 <20100404115930.GA29417@khaled-laptop>
Message-ID: <t2kb5215f01004040507n455a295dybc27e37b8bf34733@mail.gmail.com>

>
> What works for me should work for other users, if not, then they are
> using the wrong package.



No, you can not expect evveryone to think like you. I guess that would not
be really fair.


> Simply documenting the fact that right and left
> is to be treated start/end is a lot easier than writing a 1000 lines of
> obscure code that I can't really test all use cases of it; the less code
> the less bugs.
>

Maybe easier, but it would be full of mistakes and ignoring RTL
typographical conventions. Proper bidi implementation is not easy, this is
something I said in the first place, doing things consistently costs time,
energy and testing.


>
>
> Then it is a Persian not a general bidi issue, a Persian specific
> package would do that, and I was talking about real technical books
> typeset in the most prestigious print houses in the Arabic world (both
> contemporary or as old as beginnings of the last century).
>
>
>
Persian is a vital part of RTL. Any RTL implementation, should respect all
RTL scripts. Let's not ignore the fact that Persian and Persians have had a
lot of influence on science, and the language. Khawarazmi (a Persian
mathematician) was the father of algebra, the word algorithm is the
latinisation of his name, something that enabeled Knuth to make TeX.



-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100404/dec27379/attachment.html>

From vafa at users.berlios.de  Sun Apr  4 13:59:32 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sun, 4 Apr 2010 21:59:32 +1000
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <l2xb5215f01004040451vecbc63cdy3d826cfc2399cbdf@mail.gmail.com>
References: <20100402055502.GA3562@khaled-laptop> <4BB5DD0E.5000801@elzevir.fr>
	 <20100402122340.GA6035@khaled-laptop>
	 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
	 <20100402161439.GA12450@khaled-laptop>
	 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
	 <20100404103658.GD2850@khaled-laptop>
	 <s2jb5215f01004040339u740aa455p8e17cb0d88a50ff8@mail.gmail.com>
	 <20100404114601.GG2850@khaled-laptop>
	 <l2xb5215f01004040451vecbc63cdy3d826cfc2399cbdf@mail.gmail.com>
Message-ID: <z2tb5215f01004040459q9b60a712sa14bb78006b616a1@mail.gmail.com>

The bidi package for xetex does not just provide \autoffotnoterule, in
addition it provides:

\rightfootnoterule, \leftfootnoterule and \textwidthfootnoterule

So if you are going to develop a package for bidi typesetting, from a
developer perspective, you should implement all of these without
questioning, because you are writing for bidi users with a variety of
tastes; you can not just see yourself.

-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100404/506daaa0/attachment.html>

From khaledhosny at eglug.org  Mon Apr 26 16:42:58 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Mon, 26 Apr 2010 16:42:58 +0200
Subject: [lltx] luaotfload cache file location
In-Reply-To: <4BD41C69.1010306@elzevir.fr>
References: <4BC06DBA.3000404@elzevir.fr>
 <20100410222102.GA2374@khaled-laptop>
 <4BD41C69.1010306@elzevir.fr>
Message-ID: <20100426144258.GB3394@khaled-laptop>

On Sun, Apr 25, 2010 at 12:41:45PM +0200, Manuel P?gouri?-Gonnard wrote:
> Hi,
> 
> I just realise I didn't reply yet. Sorry for the delay.
> 
> Le 11/04/2010 00:21, Khaled Hosny a ?crit :
> >>TEXMVAR/luatex-cache/latex/names
> >>
> >>I don't understand why "latex", since luaotfload is a generic package. Also, I
> >>feel like the "names" component is vague and doesn't add any information.
> >
> >It doesn't need to make sense, the path is used internally and should
> >not concern the user (as they weren't concerned about the path of cached
> >PK fonts), but your both points are valid and a better suggestion is
> >welcomed (we used 'latex' as opposed to 'context', and plain 'names'
> >because I was thinking it is a font only cache, so it wasn't ambiguous.)
> >
> You're right, the name is internal. However, making more sense
> couldn't hurt IMO. I'd suggest
> 
> TEXMVAR/luatex/generic/luaotfload/
> 
> following the standard TDS layout: program/type/package.

If no one is objecting, I'm OK with it.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
Subscription settings: http://groups.google.com/group/lualatex-dev/subscribe?hl=en


From khaledhosny at eglug.org  Fri Apr  9 09:09:23 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 9 Apr 2010 09:09:23 +0200
Subject: [lltx] [luaotfload] Footnotes
In-Reply-To: <2D4509D0-A9CE-4571-A71E-01D02DAAA3F8@gmail.com>
References: <4BBC4AD6.2080305@gmail.com>
 <20100407095509.GA3437@khaled-laptop>
 <4BBCF447.2050603@gmail.com>
 <20100407231624.GA5067@khaled-laptop>
 <4BBDA8C8.9070407@gmail.com>
 <20100408121930.GB29952@khaled-laptop>
 <20100408170745.GA32215@khaled-laptop>
 <2D4509D0-A9CE-4571-A71E-01D02DAAA3F8@gmail.com>
Message-ID: <20100409070923.GA2201@khaled-laptop>

On Fri, Apr 09, 2010 at 10:09:47AM +0930, Will Robertson wrote:
> On 09/04/2010, at 2:37 AM, Khaled Hosny wrote:
> 
> >> One solution to this specific issue is to make the old font definition
> >> syntax load only TFM fonts, and make loading system fonts only through
> >> the extended syntax, so:
> >> 
> >> \font\tenrm=ec-lmr10 at 10pt
> >> 
> >> or the extended:
> >> 
> >> \font\tenrm=file:ec-lmr10 at 10pt
> >> 
> >> Will not consult font names database, so old code that expects TFM fonts
> >> will continue to work as expected, while:
> >> 
> >> \font\tenrm={name:Latin Modern Roman} at 10pt
> >> 
> >> Would be required to load system (or texmf) fonts by name. What do
> >> others think about this?
> > 
> > Will, what do you think? As this would need a bit of work at fontspec,
> > If it is OK, we (you :) can switch to the explicit "name:" and "file:"
> > syntax right away (bot are already supported), later we can restrict
> > old syntax to filename only lookup so things don't break.
> 
> 
> If it can be abstracted inside fontspec, I think this is a good solution.
> Let's implement it and try it out.
> 
> The following defaults will happen, I think:
> 
> \fontspec{Latin Modern Roman} % <- name
> \fontspec{ec-lmr10}           % <- name
ec-lmr10 is a tfm file, but anyway the name mechanism falls back to
filename if no font is found (but going directly to filename search is
faster).

> \fontspec{ec-lmr10.otf}       % <- file (from the extension)
> \fontspec[Path]{ec-lmr10}     % <- file
> 
> ([Path] is the same as [ExternalLocation].)
> 
> This is the same as currently happens, so I can't see any problems.

OK, once the change is made in fontspec, I'll change luaotfload
defaults.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From g.duffner at gmail.com  Wed Apr  7 11:05:26 2010
From: g.duffner at gmail.com (Georg A. Duffner)
Date: Wed, 07 Apr 2010 11:05:26 +0200
Subject: [lltx] [luaotfload] Footnotes
Message-ID: <4BBC4AD6.2080305@gmail.com>

There seems to be a problem with footnotes when using luaotfload. The 
footnotemark in the text is rendered smaller but not superscript.

Example:

\documentclass{article}
\usepackage{luaotfload}
\begin{document}
Text\footnote{footnote text}
\end{document}

The error:
! Math error: parameter \Umathquad\displaystyle is not set.
\@ensuredmath #1->$\relax #1$

l.8 Text\footnote{
                   footnote text}
Sorry, but I can't typeset math unless various parameters have
been set. This is normally done by loading special math fonts
into the math family slots. Your font set is lacking at least
the parameter mentioned earlier.

Best regards
Georg


-- 
To unsubscribe, reply using "remove me" as the subject.


From vafa at users.berlios.de  Sun Apr  4 13:47:22 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sun, 4 Apr 2010 21:47:22 +1000
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100404114101.GF2850@khaled-laptop>
References: <4BB5B9EA.5030201@elzevir.fr> <4BB5DD0E.5000801@elzevir.fr>
	 <20100402122340.GA6035@khaled-laptop>
	 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
	 <20100402161439.GA12450@khaled-laptop>
	 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
	 <j2sb5215f01004021830w2c8e38ebu2b5522006986da93@mail.gmail.com>
	 <20100404104544.GE2850@khaled-laptop>
	 <k2gb5215f01004040350kf91c94aerd353307d2116d0d5@mail.gmail.com>
	 <20100404114101.GF2850@khaled-laptop>
Message-ID: <v2kb5215f01004040447l821e5acdmdb6cc65c142163f5@mail.gmail.com>

>
> Well, I don't think fixing bugs in my *head* is that easy.
>

I did not mean that you fix that in your head, but that needs to get fixed
in the package.


>
>
> I still have a very valid reasons for my ill doings, I want to keep
> things as simple as it can, and make sharing code between rtl and ltr
> documents more easy, so I simply consider right and left here as
> misnomers of start and end, this makes it more logical. If I were to
> write a tabular package myself, I would then use the neutral start/end
> nomenclature.
>


We are not talking about "me" here. If we were so, things would be heaps
easier.


>
>
>
> To me, swapping the meaning of r and l is a misfeature (like the
> automatic footnote thing that I never seen in a real world book;
> footnotes in Arabic books are aligned to right no mutter what the actual
> footnote text it.)
>
>
I have seen a lot of the textbooks with automatic footnoterule. I am talking
about academic typography and academic textbooks not about a novel. In
Persian RTL typography, autofootnoterule is a must.


-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100404/7eff49fe/attachment.html>

From khaledhosny at eglug.org  Sun Apr  4 12:36:58 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sun, 4 Apr 2010 12:36:58 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
References: <20100401220536.GB12550@khaled-laptop>
 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
 <20100402055502.GA3562@khaled-laptop>
 <4BB5B9EA.5030201@elzevir.fr>
 <20100402113402.GA5163@khaled-laptop>
 <4BB5DD0E.5000801@elzevir.fr>
 <20100402122340.GA6035@khaled-laptop>
 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
 <20100402161439.GA12450@khaled-laptop>
 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
Message-ID: <20100404103658.GD2850@khaled-laptop>

On Sat, Apr 03, 2010 at 12:25:44PM +1100, Vafa Khalighi wrote:
> 
> 
>     It can, but is it really needed (i.e. I can switch the whole package
>     layout in very few lines of tex code in luatex, with tex-xet it needs
>     hundreds of package specific macro redefinitions, one definitely can do
>     the later with luatex too.)
> 
> 
> 
> You are only looking at bidi implementation from one side and that is just
> using mainly RTL. Yes, if one wants to use mainly RTL, there is not much to do
> because you have got \pagedir TRT to use. But I am afraid that is just a narrow
> perspective, you have got also to consider other users who use RTL partially,
> i.e. they mainly use LTR, but typeset some RTL text, then \pagedir TRT does not
> make sense at all and they have got to typeset (just as an example) tabular RTL
> sometimes. The bidi implementation needs to suit everyone, and not just a group
> of people and this has unfortunately some costs and that is definitely going to
> be macro programming for many packages. You think bidi implementation is easy,
> but it is not. It is the most complex and sophisticated matter in TeX, both
> logically and technically.

\documentclass{article}

\begin{document}
\begin{tabular}{ l c r }
  1 & 2 & 3 \\
  4 & 5 & 6 \\
  7 & 8 & 9 \\
\end{tabular}

\bgroup
\luatexmathdir TRT
\begin{tabular}{ l c r }
  1 & 2 & 3 \\
  4 & 5 & 6 \\
  7 & 8 & 9 \\
\end{tabular}
\egroup
\end{document}


-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Sun Apr  4 13:41:01 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sun, 4 Apr 2010 13:41:01 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <k2gb5215f01004040350kf91c94aerd353307d2116d0d5@mail.gmail.com>
References: <4BB5B9EA.5030201@elzevir.fr>
 <20100402113402.GA5163@khaled-laptop>
 <4BB5DD0E.5000801@elzevir.fr>
 <20100402122340.GA6035@khaled-laptop>
 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
 <20100402161439.GA12450@khaled-laptop>
 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
 <j2sb5215f01004021830w2c8e38ebu2b5522006986da93@mail.gmail.com>
 <20100404104544.GE2850@khaled-laptop>
 <k2gb5215f01004040350kf91c94aerd353307d2116d0d5@mail.gmail.com>
Message-ID: <20100404114101.GF2850@khaled-laptop>

On Sun, Apr 04, 2010 at 08:50:26PM +1000, Vafa Khalighi wrote:
> 
> 
>     I simply swap the meaning of r and l in my head, which means less code
>     to write, and I get all table package to work without any effort, also
>     if I've code to generate tables (or if I copy tables from rtl to ltr
>     parts of the document) I get the same expected result without altering
>     my tables, try:
> 
>     \documentclass{article}
> 
>     \begin{document}
>     \begin{tabular}{ l c r }
>     ?aa & 2 & ggg \\
>     ?bcd & 5 & cd \\
>     ?e & 8 & f \\
>     \end{tabular}
> 
>     \bgroup
>     \luatexmathdir TRT
>     \begin{tabular}{ l c r }
>     ?aa & 2 & ggg \\
>     ?bcd & 5 & cd \\
>     ?e & 8 & f \\
>     \end{tabular}
> 
>     \egroup
>     \end{document}
> 
>     The cells will be aligned as expected, though in the second table right
>     is actually left etc.
> 
> 
> 
> No, this is clearly a bug and you have got to fix that. 

Well, I don't think fixing bugs in my *head* is that easy.

> Things are supposed to
> work in the general way, if "r" stands for right alignment, whether you are
> doing RTL or LTR it should mean the same thing, you can not just consider
> yourself and ignore the rest of people.

I still have a very valid reasons for my ill doings, I want to keep
things as simple as it can, and make sharing code between rtl and ltr
documents more easy, so I simply consider right and left here as
misnomers of start and end, this makes it more logical. If I were to
write a tabular package myself, I would then use the neutral start/end
nomenclature.

> If you want to do proper bidi implementation as done in bidi package, you have
> got to deal with these. Of course tabular is a very small example.

To me, swapping the meaning of r and l is a misfeature (like the
automatic footnote thing that I never seen in a real world book;
footnotes in Arabic books are aligned to right no mutter what the actual
footnote text it.)

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Sat Apr  3 00:56:52 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sat, 3 Apr 2010 00:56:52 +0200
Subject: [lltx] [fontspec] selecting font features has no effect?
In-Reply-To: <4BB66DFE.4000103@gmail.com>
References: <214339f0-77d0-492a-a63b-4b5cd14b051b@k36g2000prb.googlegroups.com>
 <D1E777B8-8777-4DE1-8D2D-E764B70BAF26@gmail.com>
 <803fcee31003300449i5bd2b885rfbb8c630b79faf63@mail.gmail.com>
 <eba574421003300503h552fc4baof74d13eaa9ebf804@mail.gmail.com>
 <803fcee31003300515v1ff83334uf1d99e9e018a9314@mail.gmail.com>
 <20100330134241.GB3788@khaled-laptop>
 <y2p803fcee31003301907l3269fcdcjdeda943d88507df4@mail.gmail.com>
 <20100401215901.GA12550@khaled-laptop>
 <h2g803fcee31004011855z6f12c27cx4e8021b02da2d8bc@mail.gmail.com>
 <4BB66DFE.4000103@gmail.com>
Message-ID: <20100402225651.GA12242@khaled-laptop>

On Sat, Apr 03, 2010 at 12:21:50AM +0200, Georg A. Duffner wrote:
> Am 2010-04-02 03:55, schrieb Diederick C. Niehorster:
> >On Fri, Apr 2, 2010 at 5:59 AM, Khaled Hosny<khaledhosny at eglug.org>  wrote:
> >>On Wed, Mar 31, 2010 at 10:07:08AM +0800, Diederick C. Niehorster wrote:
> >>>\setmainfont[Ligatures=TeX]{Arno Pro} - works
> >>>\setmainfont[Ligatures=TeX]{Arno Pro Italic} - font not found
> >>>\setmainfont[Ligatures=TeX]{Adobe Caslon Pro} - compare to nil error
> >>I believe that the two issues are now fixed.
> >Hi Khaled,
> >
> >Thanks!
> >I'm about to leave the country for a few days, I'll check it out when I'm back.
> >
> >Best,
> >Dee
> >
> >
> Weird?since the latest update to fontspec, I don?t get ligatures any
> more (neither TeX nor Common) with fontspec. Plain TeX and LaTeX
> with eu2 encoding without fontspec do work as expected.
> 
> ?? example ??
> 
> \documentclass[11pt]{article}
> 
> \usepackage{fontspec}
> 
> \setmainfont[Ligatures=TeX]{Linux Libertine O}
> 
> \begin{document}
> 
> fi--fl
> 
> \end{document}

Works fine here.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


From g.duffner at gmail.com  Thu Apr  8 11:58:32 2010
From: g.duffner at gmail.com (Georg A. Duffner)
Date: Thu, 08 Apr 2010 11:58:32 +0200
Subject: [lltx] [luaotfload] Footnotes
In-Reply-To: <20100407231624.GA5067@khaled-laptop>
References: <4BBC4AD6.2080305@gmail.com> <20100407095509.GA3437@khaled-laptop> <4BBCF447.2050603@gmail.com> <20100407231624.GA5067@khaled-laptop>
Message-ID: <4BBDA8C8.9070407@gmail.com>

Am 2010-04-08 01:16, schrieb Khaled Hosny:
> On Wed, Apr 07, 2010 at 11:08:23PM +0200, Georg A. Duffner wrote:
>> Am 2010-04-07 11:55, schrieb Khaled Hosny:
>>> On Wed, Apr 07, 2010 at 11:05:26AM +0200, Georg A. Duffner wrote:
>>>> There seems to be a problem with footnotes when using luaotfload.
>>>> The footnotemark in the text is rendered smaller but not
>>>> superscript.
>>>>
>>>> Example:
>>>>
>>>> \documentclass{article}
>>>> \usepackage{luaotfload}
>>>> \begin{document}
>>>> Text\footnote{footnote text}
>>>> \end{document}
>>>>
>>>> The error:
>>>> ! Math error: parameter \Umathquad\displaystyle is not set.
>>>> \@ensuredmath #1->$\relax #1$
>>>>
>>>> l.8 Text\footnote{
>>>>                    footnote text}
>>>> Sorry, but I can't typeset math unless various parameters have
>>>> been set. This is normally done by loading special math fonts
>>>> into the math family slots. Your font set is lacking at least
>>>> the parameter mentioned earlier.
>>>
>>> Most likely this is because you've a TTF version of CM math fonts that
>>> luaotfload is trying to load, and it is lacking such parameters. If you
>>> are running debian, do you've either ttf-lyx or latex-xft-fonts packages
>>> installed?
>>>
>>
>>
>> Well, you are partly right. This minimal example is using CM TTF
>> fonts (and I have ttf-lyx installed, but not latex-xft-fonts). But
>> the following examples are showing the same error (see attached
>> logfile of #1):
>>
>> 1. using ?libertine? package with an adapted fd-file (see attachment)
>>
>> \documentclass{article}
>> \usepackage[EU2]{fontenc}
>> \usepackage{luaotfload}
>> \usepackage{libertine}
>> \begin{document}
>> Text\footnote{footnote text}
>> \end{document}
>>
>> 2. using Linux Libertine OTF with fontspec
>>
>> \documentclass{article}
>> \usepackage{fontspec}
>> \setmainfont{Linux Libertine O}
>> \begin{document}
>> Text\footnote{footnote text}
>> \end{document}
>
> Luaotfload doesn't change default latex fonts, what happens is that your
> document requests one of CM math fonts, say cmmi10, which have the
> necessary font parameters in the tfm file, but luaotfload finds the ttf
> version you have and so loads it through the opentype font loader which
> will not load any tfm files and thus the required font parameters will
> not be set, resulting in the \Umathquad error you get.
>
> A quick solution is to uninstall the ttf-lyx package then update you
> luaotfload font database, and every thing will be back to normal.

Thank you, that fixed it.

> Now, having several different fonts with the same font name is reciby
> for troubles, and I don't consider this a luaoftload bug per se (you ask
> for a font named "cmmi10" and you get one), but since this going to
> affect many users (me included!), we need to find a better way to handle
> this.

Yes, font management is definitely a problem on linux systems when you 
try to stay with the distribution?s packages. On Debian systems, if you 
install texlive from the repos and want to use the same fonts in other 
apps, you have to install several packages, which probably ship 
different versions. This gets even worse if you install vanilla texlive 
and update regularly. I have been trying to keep my system ?clean? by 
not installing font-packages if texlive contains the fonts and instead 
putting a symlink to tex-fonts into my system?s fonts folder. Thus 
luaotfload and xetex do find two copies of some fonts, but they are in 
fact the same file. For me personally this works, but I think, something 
more generic would be good.

Best regards
Georg


-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Fri Apr  2 18:19:11 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 2 Apr 2010 18:19:11 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <t2pfe8d59da1004020247p8e703a8aw5f5f926cabda383d@mail.gmail.com>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
 <20100401041739.GA5632@khaled-laptop>
 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
 <20100401220536.GB12550@khaled-laptop>
 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
 <20100402055502.GA3562@khaled-laptop>
 <4BB5B9EA.5030201@elzevir.fr>
 <t2pfe8d59da1004020247p8e703a8aw5f5f926cabda383d@mail.gmail.com>
Message-ID: <20100402161911.GB12450@khaled-laptop>

On Fri, Apr 02, 2010 at 11:47:35AM +0200, luigi scarso wrote:
> On Fri, Apr 2, 2010 at 11:33 AM, Manuel P?gouri?-Gonnard <mpg at elzevir.fr> wrote:
> >
> > Khaled Hosny a ?crit :
> >> Any one who wrote or maintained a reasonably complex tex macro code
> >> knows it is pain to write, pain to understand and pain to maintain, the
> >> main idea behind luatex is to give tex a sane programming language which
> >> we all know tex mcros isn't.
> >>
> 
> > By the way, concerning the advantages/disavantages of LuaTeX, it's worth noting
> > that LuaTeX's overall complexity is bigger that other engines, since you need to
> > understand /both/ TeX and Lua languages in order to be a good LuaTeX programmer.
> > (Though maybe you don't need to be as good with TeX as previously, you just
> > can't ignore TeX rules for lexical analysis (catcodes etc) and development.)
> 
> Typographical programming is an obscure subject,unlike other
> traditionals programming areas.
> LuaTex offers
> 1) a macro language for typesetting (TeX)
> 2) a procedural/object_oriented language for parsing, searching, extending (Lua)
> 3) a graphical language for draw (MetaPost)
> 
> 1) & 2) can be used to write macro or typeset, but I prefear 1) for typesetting,
> a 1) layer plus 2) layer for macros;
> 3)  is a sort of jolly.

Essentially the same here, I'm fine with using tex macros for
typesetting, I even find it a very powerful feature of tex, but using it
to string manipulation or implementing algorithms etc. is something I'd
never do in my right mind. Tex macro as an interface layer is fine too,
but I'd rather strip it to the most minimum required.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Thu Apr  1 23:59:02 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 1 Apr 2010 23:59:02 +0200
Subject: [lltx] [fontspec] selecting font features has no effect?
In-Reply-To: <y2p803fcee31003301907l3269fcdcjdeda943d88507df4@mail.gmail.com>
References: <214339f0-77d0-492a-a63b-4b5cd14b051b@k36g2000prb.googlegroups.com>
 <D1E777B8-8777-4DE1-8D2D-E764B70BAF26@gmail.com>
 <803fcee31003300449i5bd2b885rfbb8c630b79faf63@mail.gmail.com>
 <eba574421003300503h552fc4baof74d13eaa9ebf804@mail.gmail.com>
 <803fcee31003300515v1ff83334uf1d99e9e018a9314@mail.gmail.com>
 <20100330134241.GB3788@khaled-laptop>
 <y2p803fcee31003301907l3269fcdcjdeda943d88507df4@mail.gmail.com>
Message-ID: <20100401215901.GA12550@khaled-laptop>

On Wed, Mar 31, 2010 at 10:07:08AM +0800, Diederick C. Niehorster wrote:
> \setmainfont[Ligatures=TeX]{Arno Pro} - works
> \setmainfont[Ligatures=TeX]{Arno Pro Italic} - font not found
> \setmainfont[Ligatures=TeX]{Adobe Caslon Pro} - compare to nil error

I believe that the two issues are now fixed.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Sat Apr  3 02:21:31 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sat, 3 Apr 2010 02:21:31 +0200
Subject: [lltx] [fontspec] selecting font features has no effect?
In-Reply-To: <4BB680AF.1080004@gmail.com>
References: <803fcee31003300449i5bd2b885rfbb8c630b79faf63@mail.gmail.com>
 <eba574421003300503h552fc4baof74d13eaa9ebf804@mail.gmail.com>
 <803fcee31003300515v1ff83334uf1d99e9e018a9314@mail.gmail.com>
 <20100330134241.GB3788@khaled-laptop>
 <y2p803fcee31003301907l3269fcdcjdeda943d88507df4@mail.gmail.com>
 <20100401215901.GA12550@khaled-laptop>
 <h2g803fcee31004011855z6f12c27cx4e8021b02da2d8bc@mail.gmail.com>
 <4BB66DFE.4000103@gmail.com>
 <20100402225651.GA12242@khaled-laptop>
 <4BB680AF.1080004@gmail.com>
Message-ID: <20100403002131.GA13167@khaled-laptop>

On Sat, Apr 03, 2010 at 01:41:35AM +0200, Georg A. Duffner wrote:
> Am 2010-04-03 00:56, schrieb Khaled Hosny:
> >On Sat, Apr 03, 2010 at 12:21:50AM +0200, Georg A. Duffner wrote:
> >>Am 2010-04-02 03:55, schrieb Diederick C. Niehorster:
> >>>On Fri, Apr 2, 2010 at 5:59 AM, Khaled Hosny<khaledhosny at eglug.org>   wrote:
> >>>>On Wed, Mar 31, 2010 at 10:07:08AM +0800, Diederick C. Niehorster wrote:
> >>>>>\setmainfont[Ligatures=TeX]{Arno Pro} - works
> >>>>>\setmainfont[Ligatures=TeX]{Arno Pro Italic} - font not found
> >>>>>\setmainfont[Ligatures=TeX]{Adobe Caslon Pro} - compare to nil error
> >>>>I believe that the two issues are now fixed.
> >>>Hi Khaled,
> >>>
> >>>Thanks!
> >>>I'm about to leave the country for a few days, I'll check it out when I'm back.
> >>>
> >>>Best,
> >>>Dee
> >>>
> >>>
> >>Weird?since the latest update to fontspec, I don?t get ligatures any
> >>more (neither TeX nor Common) with fontspec. Plain TeX and LaTeX
> >>with eu2 encoding without fontspec do work as expected.
> >>
> >>?? example ??
> >>
> >>\documentclass[11pt]{article}
> >>
> >>\usepackage{fontspec}
> >>
> >>\setmainfont[Ligatures=TeX]{Linux Libertine O}
> >>
> >>\begin{document}
> >>
> >>fi--fl
> >>
> >>\end{document}
> >
> >Works fine here.
> >
> >Regards,
> >  Khaled
> >
> This seems to be a problem with luatextra. After reinstalling the
> current version from texlive, the ligatures were set correctly.
> Before I had installed the version from Manuel?s tug-repository.

Aha, that would explain Diederick's issue too, since I've always used
texlives luatextra and only installed luaextra in my local texmf tree
(we should kill this luatextra name, it is very confusing!).

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Sun Apr  4 13:46:01 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sun, 4 Apr 2010 13:46:01 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <s2jb5215f01004040339u740aa455p8e17cb0d88a50ff8@mail.gmail.com>
References: <20100402055502.GA3562@khaled-laptop>
 <4BB5B9EA.5030201@elzevir.fr>
 <20100402113402.GA5163@khaled-laptop>
 <4BB5DD0E.5000801@elzevir.fr>
 <20100402122340.GA6035@khaled-laptop>
 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
 <20100402161439.GA12450@khaled-laptop>
 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
 <20100404103658.GD2850@khaled-laptop>
 <s2jb5215f01004040339u740aa455p8e17cb0d88a50ff8@mail.gmail.com>
Message-ID: <20100404114601.GG2850@khaled-laptop>

On Sun, Apr 04, 2010 at 08:39:19PM +1000, Vafa Khalighi wrote:
> 
> 
>     \documentclass{article}
> 
>     \begin{document}
>     \begin{tabular}{ l c r }
>     ?1 & 2 & 3 \\
>     ?4 & 5 & 6 \\
>     ?7 & 8 & 9 \\
>     \end{tabular}
> 
>     \bgroup
>     \luatexmathdir TRT
>     \begin{tabular}{ l c r }
>     ?1 & 2 & 3 \\
>     ?4 & 5 & 6 \\
>     ?7 & 8 & 9 \\
>     \end{tabular}
>     \egroup
>     \end{document}
> 
> 
> 
> 
> No that is a bad approach. Because you are doing RTL maths, you are assuming
> everyone is doing RTL maths which is absolutely wrong. What about someone is
> doing RTL tabular but LTR maths (i.e. Persian users)?

It is latex's tabular that is broken here, for an unknown idiotic reason
they are typesetting tabular material in math mode, so the natural
\textdir switch will not work.


-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From vafa at users.berlios.de  Sun Apr  4 14:23:37 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sun, 4 Apr 2010 22:23:37 +1000
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100404121939.GA29601@khaled-laptop>
References: <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
	 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
	 <j2sb5215f01004021830w2c8e38ebu2b5522006986da93@mail.gmail.com>
	 <20100404104544.GE2850@khaled-laptop>
	 <k2gb5215f01004040350kf91c94aerd353307d2116d0d5@mail.gmail.com>
	 <20100404114101.GF2850@khaled-laptop>
	 <v2kb5215f01004040447l821e5acdmdb6cc65c142163f5@mail.gmail.com>
	 <20100404115930.GA29417@khaled-laptop>
	 <t2kb5215f01004040507n455a295dybc27e37b8bf34733@mail.gmail.com>
	 <20100404121939.GA29601@khaled-laptop>
Message-ID: <j2gb5215f01004040523z657132f1g8a417288b298760d@mail.gmail.com>

>
> I'm not ignoring Persian, I'm saying certain typographic conventions is
> the business of other packages, not a bidi package (consider for example
> how French babel implements French specific typographic conventions.)
>
>
>
Yes, but \autofootnoterule will be related to bidi, since it has to do with
RTL/LTR and it is not actually very easy to do. Something like Kashida will
be of course out of bidi for sure. But there are things that related to bidi
and sparating them from bidi does not make much sense, I think. In addition
when you say bidi, you just do not mean Arabic, you mean every single script
which is written RTL. and bidi is not just RTL, it is about both RTL and LTR
together.



-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100404/7d33afc0/attachment.html>

From wspr81 at gmail.com  Sat Apr  3 04:04:26 2010
From: wspr81 at gmail.com (Will Robertson)
Date: Sat, 3 Apr 2010 12:34:26 +1030
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <z2xb5215f01004021858w82c90ac9i733cd26a48fe5780@mail.gmail.com>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com> <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com> <20100401220536.GB12550@khaled-laptop> <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com> <20100402055502.GA3562@khaled-laptop> <4BB5B9EA.5030201@elzevir.fr> <t2pfe8d59da1004020247p8e703a8aw5f5f926cabda383d@mail.gmail.com> <20100402161911.GB12450@khaled-laptop> <k2rb5215f01004021838v8f7bd894sd592b9f54fd6bd9b@mail.gmail.com> <FBAD5D62-98BF-45D9-B67D-A9EFC9C682D9@gmail.com> <z2xb5215f01004021858w82c90ac9i733cd26a48fe5780@mail.gmail.com>
Message-ID: <3B0436CD-9C5E-4A20-A847-9D1E4FD4EA9C@gmail.com>

On 03/04/2010, at 12:28 PM, Vafa Khalighi wrote:

> The trick I've performed here is to maintain a list the ht+dp of footnotes inserted and the resolved direction of that footnote.  Then in the output routine, from the ht+dp of the footins box and this list of mine, I can figure out what the direction of the first footnote in this page is, and which footnotes are actually put in this page, and update my list.

Thanks, I think that makes sense to me.
This only works for insertions, right?
For general detection of odd/even page typesetting, the two-run aux file method is still the only reliable way.

-- Will



-- 
To unsubscribe, reply using "remove me" as the subject.


From mpg at elzevir.fr  Sat Apr 10 14:23:22 2010
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Sat, 10 Apr 2010 14:23:22 +0200
Subject: [lltx] luaotfload cache file location
Message-ID: <4BC06DBA.3000404@elzevir.fr>

Hi,

Concerning the location of luaotfload's cache file:

TEXMVAR/luatex-cache/latex/names

I don't understand why "latex", since luaotfload is a generic package. Also, I
feel like the "names" component is vague and doesn't add any information.

Unrelated remark: luaotfload is more convenient than XeTeX on one point: you
don't need to change your fontconfig configuration in order for luaotfload to
find the fonts in your texmf trees (which is quite unconvenient when you
frequently switch between various versions of tex live). Thanks!

Manuel.




-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Thu Apr  8 15:17:47 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 8 Apr 2010 15:17:47 +0200
Subject: [lltx] [luaotfload] Footnotes
In-Reply-To: <o2keba574421004080535y5b0de268waa384b29ebef5c51@mail.gmail.com>
References: <4BBC4AD6.2080305@gmail.com>
 <20100407095509.GA3437@khaled-laptop>
 <4BBCF447.2050603@gmail.com>
 <20100407231624.GA5067@khaled-laptop>
 <4BBDA8C8.9070407@gmail.com>
 <20100408121930.GB29952@khaled-laptop>
 <o2keba574421004080535y5b0de268waa384b29ebef5c51@mail.gmail.com>
Message-ID: <20100408131747.GA30762@khaled-laptop>

On Thu, Apr 08, 2010 at 03:35:23PM +0300, ?lie Roux wrote:
> 2010/4/8 Khaled Hosny <khaledhosny at eglug.org>:
> >
> > What do others think about this?
> 
> I think it should be doable to load an otf by its filename if it's
> reachable by kpathsea... for example
> \font\myfont=LinLibertine_Re-4.4.1.otf should work... otherwise the
> solution seems ok!

This works already.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From g.duffner at gmail.com  Sat Apr  3 02:50:03 2010
From: g.duffner at gmail.com (Georg A. Duffner)
Date: Sat, 03 Apr 2010 02:50:03 +0200
Subject: [lltx] [fontspec] selecting font features has no effect?
In-Reply-To: <20100403002131.GA13167@khaled-laptop>
References: <803fcee31003300449i5bd2b885rfbb8c630b79faf63@mail.gmail.com> <eba574421003300503h552fc4baof74d13eaa9ebf804@mail.gmail.com> <803fcee31003300515v1ff83334uf1d99e9e018a9314@mail.gmail.com> <20100330134241.GB3788@khaled-laptop> <y2p803fcee31003301907l3269fcdcjdeda943d88507df4@mail.gmail.com> <20100401215901.GA12550@khaled-laptop> <h2g803fcee31004011855z6f12c27cx4e8021b02da2d8bc@mail.gmail.com> <4BB66DFE.4000103@gmail.com> <20100402225651.GA12242@khaled-laptop> <4BB680AF.1080004@gmail.com> <20100403002131.GA13167@khaled-laptop>
Message-ID: <4BB690BB.4090104@gmail.com>

Am 2010-04-03 02:21, schrieb Khaled Hosny:
> On Sat, Apr 03, 2010 at 01:41:35AM +0200, Georg A. Duffner wrote:
>> Am 2010-04-03 00:56, schrieb Khaled Hosny:
>>> On Sat, Apr 03, 2010 at 12:21:50AM +0200, Georg A. Duffner wrote:
>>>> Am 2010-04-02 03:55, schrieb Diederick C. Niehorster:
>>>>> On Fri, Apr 2, 2010 at 5:59 AM, Khaled Hosny<khaledhosny at eglug.org>    wrote:
>>>>>> On Wed, Mar 31, 2010 at 10:07:08AM +0800, Diederick C. Niehorster wrote:
>>>>>>> \setmainfont[Ligatures=TeX]{Arno Pro} - works
>>>>>>> \setmainfont[Ligatures=TeX]{Arno Pro Italic} - font not found
>>>>>>> \setmainfont[Ligatures=TeX]{Adobe Caslon Pro} - compare to nil error
>>>>>> I believe that the two issues are now fixed.
>>>>> Hi Khaled,
>>>>>
>>>>> Thanks!
>>>>> I'm about to leave the country for a few days, I'll check it out when I'm back.
>>>>>
>>>>> Best,
>>>>> Dee
>>>>>
>>>>>
>>>> Weird?since the latest update to fontspec, I don?t get ligatures any
>>>> more (neither TeX nor Common) with fontspec. Plain TeX and LaTeX
>>>> with eu2 encoding without fontspec do work as expected.
>>>>
>>>> ?? example ??
>>>>
>>>> \documentclass[11pt]{article}
>>>>
>>>> \usepackage{fontspec}
>>>>
>>>> \setmainfont[Ligatures=TeX]{Linux Libertine O}
>>>>
>>>> \begin{document}
>>>>
>>>> fi--fl
>>>>
>>>> \end{document}
>>>
>>> Works fine here.
>>>
>>> Regards,
>>>   Khaled
>>>
>> This seems to be a problem with luatextra. After reinstalling the
>> current version from texlive, the ligatures were set correctly.
>> Before I had installed the version from Manuel?s tug-repository.
>
> Aha, that would explain Diederick's issue too, since I've always used
> texlives luatextra and only installed luaextra in my local texmf tree
> (we should kill this luatextra name, it is very confusing!).
>
> Regards,
>   Khaled
>
I haven?t really understood the reasoning behind the splitting and 
renaming of things in regard of luatextra, so i wouldn?t oppose to it. 
But the version of luatextra+luatexbase+luaextra that?s provided as a 
dowlnoad by Manuel seems to be buggy. A version previous to that of 3/30 
didn?t break these things. Perhaps this can be clarified in the 
corresponding thread.

Regards
Georg


-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Thu Apr  1 06:17:40 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 1 Apr 2010 06:17:40 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
Message-ID: <20100401041739.GA5632@khaled-laptop>

On Wed, Mar 31, 2010 at 04:20:49PM -0700, Vafa Khalighi wrote:
> I have been working on extending the bidi package for lualatex and I
> have been pretty happy with the result. I like to divide this into two
> categories:
> 
> 1- unicode bidi algorithm done purely in Lua
> 
> 2- bidi TeX, e.g. paragraphs, tabular, headers and footers and etc
> 
> I have been working on the second category. Is there anyone who would
> like to help with the first category so we can upload next version of
> bidi package to CTAN whichit supports both luatex and xetex? and I
> think having one single package is better than having several packages
> one for xetex and the other for luatex.

http://github.com/khaledhosny/luadirections

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From g.duffner at gmail.com  Sat Apr  3 01:41:35 2010
From: g.duffner at gmail.com (Georg A. Duffner)
Date: Sat, 03 Apr 2010 01:41:35 +0200
Subject: [lltx] [fontspec] selecting font features has no effect?
In-Reply-To: <20100402225651.GA12242@khaled-laptop>
References: <214339f0-77d0-492a-a63b-4b5cd14b051b@k36g2000prb.googlegroups.com> <D1E777B8-8777-4DE1-8D2D-E764B70BAF26@gmail.com> <803fcee31003300449i5bd2b885rfbb8c630b79faf63@mail.gmail.com> <eba574421003300503h552fc4baof74d13eaa9ebf804@mail.gmail.com> <803fcee31003300515v1ff83334uf1d99e9e018a9314@mail.gmail.com> <20100330134241.GB3788@khaled-laptop> <y2p803fcee31003301907l3269fcdcjdeda943d88507df4@mail.gmail.com> <20100401215901.GA12550@khaled-laptop> <h2g803fcee31004011855z6f12c27cx4e8021b02da2d8bc@mail.gmail.com> <4BB66DFE.4000103@gmail.com> <20100402225651.GA12242@khaled-laptop>
Message-ID: <4BB680AF.1080004@gmail.com>

Am 2010-04-03 00:56, schrieb Khaled Hosny:
> On Sat, Apr 03, 2010 at 12:21:50AM +0200, Georg A. Duffner wrote:
>> Am 2010-04-02 03:55, schrieb Diederick C. Niehorster:
>>> On Fri, Apr 2, 2010 at 5:59 AM, Khaled Hosny<khaledhosny at eglug.org>   wrote:
>>>> On Wed, Mar 31, 2010 at 10:07:08AM +0800, Diederick C. Niehorster wrote:
>>>>> \setmainfont[Ligatures=TeX]{Arno Pro} - works
>>>>> \setmainfont[Ligatures=TeX]{Arno Pro Italic} - font not found
>>>>> \setmainfont[Ligatures=TeX]{Adobe Caslon Pro} - compare to nil error
>>>> I believe that the two issues are now fixed.
>>> Hi Khaled,
>>>
>>> Thanks!
>>> I'm about to leave the country for a few days, I'll check it out when I'm back.
>>>
>>> Best,
>>> Dee
>>>
>>>
>> Weird?since the latest update to fontspec, I don?t get ligatures any
>> more (neither TeX nor Common) with fontspec. Plain TeX and LaTeX
>> with eu2 encoding without fontspec do work as expected.
>>
>> ?? example ??
>>
>> \documentclass[11pt]{article}
>>
>> \usepackage{fontspec}
>>
>> \setmainfont[Ligatures=TeX]{Linux Libertine O}
>>
>> \begin{document}
>>
>> fi--fl
>>
>> \end{document}
>
> Works fine here.
>
> Regards,
>   Khaled
>
This seems to be a problem with luatextra. After reinstalling the 
current version from texlive, the ligatures were set correctly. Before I 
had installed the version from Manuel?s tug-repository.

Best regards
Georg


-- 
To unsubscribe, reply using "remove me" as the subject.


From wspr81 at gmail.com  Tue Apr 27 01:32:04 2010
From: wspr81 at gmail.com (Will Robertson)
Date: Tue, 27 Apr 2010 09:02:04 +0930
Subject: [lltx] luaotfload cache file location
In-Reply-To: <20100426144258.GB3394@khaled-laptop>
References: <4BC06DBA.3000404@elzevir.fr> <20100410222102.GA2374@khaled-laptop> <4BD41C69.1010306@elzevir.fr> <20100426144258.GB3394@khaled-laptop>
Message-ID: <4A0BC393-0287-42FB-A8C0-B72C28FEDF27@gmail.com>

On 27/04/2010, at 12:12 AM, Khaled Hosny wrote:

>> TEXMVAR/luatex/generic/luaotfload/
>> 
>> following the standard TDS layout: program/type/package.
> 
> If no one is objecting, I'm OK with it.

Looks sensible to me.
Consider this a non-objection :)

-- Will

P.S.  My crazy teaching workload is almost complete for the semester so I should be slightly more visible in the near future. Sorry for the slow progress ... -- I feel like I keep saying that :) 

-- 
Subscription settings: http://groups.google.com/group/lualatex-dev/subscribe?hl=en


From khaledhosny at eglug.org  Fri Apr  2 18:35:58 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 2 Apr 2010 18:35:58 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <y2qb5215f01004020512o55cc0913g12440d4044bffa66@mail.gmail.com>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
 <20100401041739.GA5632@khaled-laptop>
 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
 <20100401220536.GB12550@khaled-laptop>
 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
 <20100402055502.GA3562@khaled-laptop>
 <4BB5B9EA.5030201@elzevir.fr>
 <20100402113402.GA5163@khaled-laptop>
 <x2vb5215f01004020504h36c6afc3gdbbd485e6dbdabde@mail.gmail.com>
 <y2qb5215f01004020512o55cc0913g12440d4044bffa66@mail.gmail.com>
Message-ID: <20100402163558.GE12450@khaled-laptop>

On Fri, Apr 02, 2010 at 11:12:45PM +1100, Vafa Khalighi wrote:
> 
> Just to let you know, I talked to taco about implementing unicode bidirectional
> algorithm and taco said it is better that I wait untill luatex 0.70 is
> released.
> 
> "As I have written on the dev-luatex mailing list in the past, we are not
> quite happy with our inherited direction code from Aleph (Omega). See
> for example these tracker items :
> 
> ?http://tracker.luatex.org/view.php?id=306
> ?http://tracker.luatex.org/view.php?id=301
> ?http://tracker.luatex.org/view.php?id=232
> 
> The Aleph subsystem is more flexible than the \beginL/R from pdftex,
> but nevertheless it has a number of oddities that are hard to work with.
> 
> You'll see that the trackers above are marked for version 0.70 (that
> will be fall 2010) so the changes resulting from them will be too late
> for this year's texlive. It appears unavoidable that direction support
> luatex in 0.70 will be backward incompatible with 0.60.
> 
> Because of this, it may be counterproductive to spend much of your time
> on implementing the unicode bidi algorithm in lua right now. My advice
> would be to use active characters for text direction switches, and stick
> to macro-based solutions for paragraph, math and page body setups. Just
> so you won't have to redo lots of lua code next year."

Thanks for sharing this.

I knew about the expected rewrite, but I got bored of waiting, I got
around this by abstracting the Unicode algorithm implementation from the
node list processing, so the former will not much be affected by changes
in luatex, while the later is much less code right now and I don't mind
re-writing it as we goes, that is part of the fun.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Sun Apr  4 12:45:45 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sun, 4 Apr 2010 12:45:45 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <j2sb5215f01004021830w2c8e38ebu2b5522006986da93@mail.gmail.com>
References: <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
 <20100402055502.GA3562@khaled-laptop>
 <4BB5B9EA.5030201@elzevir.fr>
 <20100402113402.GA5163@khaled-laptop>
 <4BB5DD0E.5000801@elzevir.fr>
 <20100402122340.GA6035@khaled-laptop>
 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
 <20100402161439.GA12450@khaled-laptop>
 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
 <j2sb5215f01004021830w2c8e38ebu2b5522006986da93@mail.gmail.com>
Message-ID: <20100404104544.GE2850@khaled-laptop>

On Sat, Apr 03, 2010 at 12:30:44PM +1100, Vafa Khalighi wrote:
> 
> 
> On Sat, Apr 3, 2010 at 12:25 PM, Vafa Khalighi <vafa at users.berlios.de> wrote:
> 
> 
> 
> 
>         It can, but is it really needed (i.e. I can switch the whole package
>         layout in very few lines of tex code in luatex, with tex-xet it needs
>         hundreds of package specific macro redefinitions, one definitely can do
>         the later with luatex too.)
> 
> 
> 
>     You are only looking at bidi implementation from one side and that is just
>     using mainly RTL. Yes, if one wants to use mainly RTL, there is not much to
>     do because you have got \pagedir TRT to use. But I am afraid that is just a
>     narrow perspective, you have got also to consider other users who use RTL
>     partially, i.e. they mainly use LTR, but typeset some RTL text, then \
>     pagedir TRT does not make sense at all and they have got to typeset (just
>     as an example) tabular RTL sometimes. The bidi implementation needs to suit
>     everyone, and not just a group of people and this has unfortunately some
>     costs and that is definitely going to be macro programming for many
>     packages. You think bidi implementation is easy, but it is not. It is the
>     most complex and sophisticated matter in TeX, both logically and
>     technically.
> 
> 
> 
> 
> 
> Even if one uses RTL mainly, there is considerable amount of macro programming
> to do. Why? consider an example, say tabular again, if you typeset tabular,
> then the place of "r" and "l" alignment interchanges which is a bug, so you
> have got to come and fix that. There is no single tabular package so you have
> got to fix that for every single tabular package because they use different
> implementations and the implementation of package x is not compatible with
> implementation of package y. Furthur, \pagedir TRT does not make tabular RTL in
> latex, which I sent you the solution before.

I simply swap the meaning of r and l in my head, which means less code
to write, and I get all table package to work without any effort, also
if I've code to generate tables (or if I copy tables from rtl to ltr
parts of the document) I get the same expected result without altering
my tables, try:

\documentclass{article}

\begin{document}
\begin{tabular}{ l c r }
  aa & 2 & ggg \\
  bcd & 5 & cd \\
  e & 8 & f \\
\end{tabular}

\bgroup
\luatexmathdir TRT
\begin{tabular}{ l c r }
  aa & 2 & ggg \\
  bcd & 5 & cd \\
  e & 8 & f \\
\end{tabular}

\egroup
\end{document}

The cells will be aligned as expected, though in the second table right
is actually left etc.

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Sat Apr  3 00:58:13 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sat, 3 Apr 2010 00:58:13 +0200
Subject: [lltx] Proposed: LuaLaTeX minimals
In-Reply-To: <20100402224509.GT24723@phare.normalesup.org>
References: <l2xfe8d59da1004020307k56851796va96170fc7fa6caf5@mail.gmail.com>
 <20100402163105.GD12450@khaled-laptop>
 <4BB61F93.1070305@elzevir.fr>
 <20100402224509.GT24723@phare.normalesup.org>
Message-ID: <20100402225813.GB12242@khaled-laptop>

On Sat, Apr 03, 2010 at 12:45:09AM +0200, Arthur Reutenauer wrote:
> > The French TeX users group, GUTenberg, would probably be willing to host it.
> > Arthur, wdyt?
> 
>   Definitely; that's exactly the kind of things we can do.

If it isn't of much trouble, I may be able to work on it.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Fri Apr  2 16:03:50 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 2 Apr 2010 16:03:50 +0200
Subject: [lltx] Re: luamicrotype?
In-Reply-To: <20100226083153.GB6311@khaled-laptop>
References: <eba574421002220403v85ec38fhd7b09c432ec6b92f@mail.gmail.com>
 <4B842431.6010307@gmx.net>
 <4B842E29.8030608@telecom-bretagne.eu>
 <20100226083153.GB6311@khaled-laptop>
Message-ID: <20100402140350.GA9623@khaled-laptop>

On Fri, Feb 26, 2010 at 10:31:53AM +0200, Khaled Hosny wrote:
> On Tue, Feb 23, 2010 at 09:36:09PM +0200, Elie Roux wrote:
> > Hello Robert,
> > 
> > thank you for your answer!
> > 
> > >You seem to be steering towards reinventing the wheel here (and
> > >the axis, too).
> 
> Well, I confess, I've an ulterior motive; I want to get ride of as
> legacy TeX macro code as possible, and to me microtype is nothing but a
> pile of code written in a weired macro language that I'll never be able
> to comprehend. So why tie ourselves with legacies, where all what we
> need, to get microtype support in fontspec, is few tens of lines written
> in an elegant, easy to understand programming language? (most of the
> needed work is already done in luaotfload).

As I found this misquotes some where on the web, I didn't mean to say we
would rewrite the *whole microtype package* in few tens of lines of
code, but I meant to say luaotfload already have expansion and
protrusion code, and what is messing is an interface to it, we don't
need to rewrite microtype as we already have a substitute.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Sun Apr  4 14:12:41 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sun, 4 Apr 2010 14:12:41 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <z2tb5215f01004040459q9b60a712sa14bb78006b616a1@mail.gmail.com>
References: <4BB5DD0E.5000801@elzevir.fr>
 <20100402122340.GA6035@khaled-laptop>
 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
 <20100402161439.GA12450@khaled-laptop>
 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
 <20100404103658.GD2850@khaled-laptop>
 <s2jb5215f01004040339u740aa455p8e17cb0d88a50ff8@mail.gmail.com>
 <20100404114601.GG2850@khaled-laptop>
 <l2xb5215f01004040451vecbc63cdy3d826cfc2399cbdf@mail.gmail.com>
 <z2tb5215f01004040459q9b60a712sa14bb78006b616a1@mail.gmail.com>
Message-ID: <20100404121240.GB29509@khaled-laptop>

On Sun, Apr 04, 2010 at 09:59:32PM +1000, Vafa Khalighi wrote:
> The bidi package for xetex does not just provide \autoffotnoterule, in addition
> it provides:
> 
> \rightfootnoterule, \leftfootnoterule and \textwidthfootnoterule
> 
> So if you are going to develop a package for bidi typesetting, from a developer
> perspective, you should implement all of these without questioning, because you
> are writing for bidi users with a variety of tastes; you can not just see
> yourself.

I don't see anything bidi specific here, and it definitely qualify for
its own package.

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From vafa at users.berlios.de  Thu Apr  1 06:20:20 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Thu, 1 Apr 2010 15:20:20 +1100
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100401041739.GA5632@khaled-laptop>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
	 <20100401041739.GA5632@khaled-laptop>
Message-ID: <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>

Thanks Khaled.

Would you like to put this into bidi or you are planning to make a seperate
package?

In any case, can I use your code in bidi package?


-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100401/c44330c5/attachment.html>

From Arno.Trautmann at gmx.de  Sat Apr  3 12:26:21 2010
From: Arno.Trautmann at gmx.de (Arno Trautmann)
Date: Sat, 03 Apr 2010 12:26:21 +0200
Subject: [lltx] Proposed: LuaLaTeX minimals
In-Reply-To: <20100402163105.GD12450@khaled-laptop>
References: <l2xfe8d59da1004020307k56851796va96170fc7fa6caf5@mail.gmail.com> <20100402163105.GD12450@khaled-laptop>
Message-ID: <4BB717CD.10506@gmx.de>

Khaled Hosny wrote:
> On Fri, Apr 02, 2010 at 12:07:10PM +0200, luigi scarso wrote:
>> I suppose we all know context minimals.
>> I find it a good way to test luatex + context.
>>
>> Until now, to test luaLatex by my own, I download a context minimals
>> insert somewhere a latex/base/* branch and integrate with missing files.
>> It's not  so difficult  --- only annoying.
>>
>> It's should be nice to have a sort of luaLaTeX minimals .
> 
> I was thinking in this too, but in different way; having a lualatex
> texlive repository with additional packages or updated versions than
> those in texlive, so one can install texlive (this can be any scheme)
> and updated lualatex packages from our repo, but I don't know enough
> about tlmgr and its package repositories to do it myself (nor do I know
> where to host it).

That?s a great thing and I?d love to have this kind of package. But one
question: Would it contain updated binaries, too? I would do a lot more
of testing and playing around with luaLaTeX, but as the TL binaries of
luaTeX are outdated, I don?t want to mess my system by building luatex
myself. I?d feel much more comfortable using a texlive package for this ?

cheers
Arno

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 262 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100403/e6fe68b5/attachment.bin>

From khaledhosny at eglug.org  Sun Apr 11 00:21:02 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sun, 11 Apr 2010 00:21:02 +0200
Subject: [lltx] luaotfload cache file location
In-Reply-To: <4BC06DBA.3000404@elzevir.fr>
References: <4BC06DBA.3000404@elzevir.fr>
Message-ID: <20100410222102.GA2374@khaled-laptop>

On Sat, Apr 10, 2010 at 02:23:22PM +0200, Manuel P?gouri?-Gonnard wrote:
> Hi,
> 
> Concerning the location of luaotfload's cache file:
> 
> TEXMVAR/luatex-cache/latex/names
> 
> I don't understand why "latex", since luaotfload is a generic package. Also, I
> feel like the "names" component is vague and doesn't add any information.

It doesn't need to make sense, the path is used internally and should
not concern the user (as they weren't concerned about the path of cached
PK fonts), but your both points are valid and a better suggestion is
welcomed (we used 'latex' as opposed to 'context', and plain 'names'
because I was thinking it is a font only cache, so it wasn't ambiguous.)

> Unrelated remark: luaotfload is more convenient than XeTeX on one point: you
> don't need to change your fontconfig configuration in order for luaotfload to
> find the fonts in your texmf trees (which is quite unconvenient when you
> frequently switch between various versions of tex live). Thanks!

We simply use kpathsea, so whatever it find we see.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Fri Apr  2 18:27:16 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 2 Apr 2010 18:27:16 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <x2vb5215f01004020504h36c6afc3gdbbd485e6dbdabde@mail.gmail.com>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
 <20100401041739.GA5632@khaled-laptop>
 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
 <20100401220536.GB12550@khaled-laptop>
 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
 <20100402055502.GA3562@khaled-laptop>
 <4BB5B9EA.5030201@elzevir.fr>
 <20100402113402.GA5163@khaled-laptop>
 <x2vb5215f01004020504h36c6afc3gdbbd485e6dbdabde@mail.gmail.com>
Message-ID: <20100402162716.GC12450@khaled-laptop>

On Fri, Apr 02, 2010 at 11:04:12PM +1100, Vafa Khalighi wrote:
> 
> 
>     It doesn't work for me, and the users I care about, otherwise I would
>     have been using it and not bothering myself with luatex, why I need to
>     keep saying this?
> 
> 
> 
> What is the problem with current status of bidi that does not work for you and
> the users that you care about? I am always have been open to new ideas, if
> there is any issue, it is always good to shout so we can make bidi package more
> bug-free.
> 
> As I said before, xetex has isuue with specials in rl, other than that, there
> is nothing that luatex in terms of bidirectional typesetting can do but
> xetex+bidi package can not.

Specials is a big deal, having documents with broken links, annotations
etc. is a no no for me, and I mainly do interactive not print documents.
The other main issue is the need to explicitly support every package,
so if some package I need is not yet supported by bidi, then I'm left
alone in the cold. Lastly, supporting implicit bidi (AKA Unicode bidi
algorithm is very crucial, since part of my need is to typeset documents
written in other markup languages (e.g. DocBook) and converted on the
fly to tex, so I can't manually mark RTL runs of text (except by
manually post-processing it, which is not an option). There are other
limitations of xetex unrelated to bidi, but that is another issue.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From arthur.reutenauer at normalesup.org  Fri Apr  2 02:45:44 2010
From: arthur.reutenauer at normalesup.org (Arthur Reutenauer)
Date: Fri, 2 Apr 2010 02:45:44 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com> <20100401041739.GA5632@khaled-laptop> <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com> <20100401220536.GB12550@khaled-laptop> <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
Message-ID: <20100402004544.GA24723@phare.normalesup.org>

> Thanks. Just to answer your insulting email:

  Insulting, really?  I see nothing in Khaled's message that could
qualify as such.  Please try and avoid such personal attacks on a
technical mailing-list.

	Arthur



-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Sun Apr  4 14:19:39 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sun, 4 Apr 2010 14:19:39 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <t2kb5215f01004040507n455a295dybc27e37b8bf34733@mail.gmail.com>
References: <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
 <20100402161439.GA12450@khaled-laptop>
 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
 <j2sb5215f01004021830w2c8e38ebu2b5522006986da93@mail.gmail.com>
 <20100404104544.GE2850@khaled-laptop>
 <k2gb5215f01004040350kf91c94aerd353307d2116d0d5@mail.gmail.com>
 <20100404114101.GF2850@khaled-laptop>
 <v2kb5215f01004040447l821e5acdmdb6cc65c142163f5@mail.gmail.com>
 <20100404115930.GA29417@khaled-laptop>
 <t2kb5215f01004040507n455a295dybc27e37b8bf34733@mail.gmail.com>
Message-ID: <20100404121939.GA29601@khaled-laptop>

On Sun, Apr 04, 2010 at 10:07:10PM +1000, Vafa Khalighi wrote:
>     Then it is a Persian not a general bidi issue, a Persian specific
>     package would do that, and I was talking about real technical books
>     typeset in the most prestigious print houses in the Arabic world (both
>     contemporary or as old as beginnings of the last century).
> 
> Persian is a vital part of RTL. Any RTL implementation, should respect all RTL
> scripts.

I'm not ignoring Persian, I'm saying certain typographic conventions is
the business of other packages, not a bidi package (consider for example
how French babel implements French specific typographic conventions.)

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From mpg at elzevir.fr  Sat Apr 10 19:40:52 2010
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Sat, 10 Apr 2010 19:40:52 +0200
Subject: [lltx] luaotfload cache file location
In-Reply-To: <A8F2DA07-3780-4156-89FC-63FF01F23226@gmail.com>
References: <4BC06DBA.3000404@elzevir.fr> <A8F2DA07-3780-4156-89FC-63FF01F23226@gmail.com>
Message-ID: <4BC0B824.3050207@elzevir.fr>

Will Robertson a ?crit :
> This reminds me. For the next version of fontspec I want to be more explicit
> about exact steps that users need to follow about loading fonts in XeTeX with
> fc-cache under both Linux and Windows. (And obviously analogous instructions
> for LuaTeX such as required.) As I understand things, it's not entirely
> automatic and there isn't a good central repository of instructions for doing
> this.
> 
Yeah, it would be great to have complete end-to-end instructions in the fontspec
manual!

> Only problem is, I've only ever used XeTeX on Mac so I'm kinda unfamiliar
> with the whole process on other platforms. Would I be able to commission some
> words from, er, someone :) on how to do this?
> 
Sure. I can provide and/or test instructions for Linux (and maybe Windows if
no-one else is willing/able to).

Manuel.



-- 
To unsubscribe, reply using "remove me" as the subject.


From wspr81 at gmail.com  Sat Apr 10 19:09:36 2010
From: wspr81 at gmail.com (Will Robertson)
Date: Sun, 11 Apr 2010 02:39:36 +0930
Subject: [lltx] luaotfload cache file location
In-Reply-To: <4BC06DBA.3000404@elzevir.fr>
References: <4BC06DBA.3000404@elzevir.fr>
Message-ID: <A8F2DA07-3780-4156-89FC-63FF01F23226@gmail.com>

On 10/04/2010, at 9:53 PM, Manuel P?gouri?-Gonnard wrote:

> Unrelated remark: luaotfload is more convenient than XeTeX on one point: you
> don't need to change your fontconfig configuration in order for luaotfload to
> find the fonts in your texmf trees (which is quite unconvenient when you
> frequently switch between various versions of tex live).


This reminds me.
For the next version of fontspec I want to be more explicit about exact steps that users need to follow about loading fonts in XeTeX with fc-cache under both Linux and Windows. (And obviously analogous instructions for LuaTeX such as required.) As I understand things, it's not entirely automatic and there isn't a good central repository of instructions for doing this.

Only problem is, I've only ever used XeTeX on Mac so I'm kinda unfamiliar with the whole process on other platforms. Would I be able to commission some words from, er, someone :) on how to do this?

Many thanks,
-- Will




From vafa at users.berlios.de  Sun Apr  4 13:51:06 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sun, 4 Apr 2010 21:51:06 +1000
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100404114601.GG2850@khaled-laptop>
References: <20100402055502.GA3562@khaled-laptop>
	 <20100402113402.GA5163@khaled-laptop> <4BB5DD0E.5000801@elzevir.fr>
	 <20100402122340.GA6035@khaled-laptop>
	 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
	 <20100402161439.GA12450@khaled-laptop>
	 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
	 <20100404103658.GD2850@khaled-laptop>
	 <s2jb5215f01004040339u740aa455p8e17cb0d88a50ff8@mail.gmail.com>
	 <20100404114601.GG2850@khaled-laptop>
Message-ID: <l2xb5215f01004040451vecbc63cdy3d826cfc2399cbdf@mail.gmail.com>

>
> It is latex's tabular that is broken here, for an unknown idiotic reason
>

No, latex tabular is not broken at all.

-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100404/8140325c/attachment.html>

From vafa at users.berlios.de  Sun Apr  4 12:50:26 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sun, 4 Apr 2010 20:50:26 +1000
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100404104544.GE2850@khaled-laptop>
References: <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
	 <4BB5B9EA.5030201@elzevir.fr> <20100402113402.GA5163@khaled-laptop>
	 <4BB5DD0E.5000801@elzevir.fr> <20100402122340.GA6035@khaled-laptop>
	 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
	 <20100402161439.GA12450@khaled-laptop>
	 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
	 <j2sb5215f01004021830w2c8e38ebu2b5522006986da93@mail.gmail.com>
	 <20100404104544.GE2850@khaled-laptop>
Message-ID: <k2gb5215f01004040350kf91c94aerd353307d2116d0d5@mail.gmail.com>

>
> I simply swap the meaning of r and l in my head, which means less code
> to write, and I get all table package to work without any effort, also
> if I've code to generate tables (or if I copy tables from rtl to ltr
> parts of the document) I get the same expected result without altering
> my tables, try:
>
> \documentclass{article}
>
> \begin{document}
> \begin{tabular}{ l c r }
>   aa & 2 & ggg \\
>  bcd & 5 & cd \\
>   e & 8 & f \\
> \end{tabular}
>
> \bgroup
> \luatexmathdir TRT
> \begin{tabular}{ l c r }
>   aa & 2 & ggg \\
>  bcd & 5 & cd \\
>   e & 8 & f \\
> \end{tabular}
>
> \egroup
> \end{document}
>
> The cells will be aligned as expected, though in the second table right
> is actually left etc.
>
>
No, this is clearly a bug and you have got to fix that. Things are supposed
to work in the general way, if "r" stands for right alignment, whether you
are doing RTL or LTR it should mean the same thing, you can not just
consider yourself and ignore the rest of people. Also it looks really funny
to say "I simply swap the meaning of r and l in my head".

If you want to do proper bidi implementation as done in bidi package, you
have got to deal with these. Of course tabular is a very small example.

-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100404/ab723876/attachment.html>

From luigi.scarso at gmail.com  Sat Apr  3 15:23:10 2010
From: luigi.scarso at gmail.com (luigi scarso)
Date: Sat, 3 Apr 2010 15:23:10 +0200
Subject: [lltx] Proposed: LuaLaTeX minimals
In-Reply-To: <u2nb5215f01004030327m1f46b98au1b6aa00081c59f0@mail.gmail.com>
References: <l2xfe8d59da1004020307k56851796va96170fc7fa6caf5@mail.gmail.com>
	 <20100402163105.GD12450@khaled-laptop> <4BB717CD.10506@gmx.de>
	 <u2nb5215f01004030327m1f46b98au1b6aa00081c59f0@mail.gmail.com>
Message-ID: <q2zfe8d59da1004030623ncf4bc253w3180820fe30f0bfe@mail.gmail.com>

On Sat, Apr 3, 2010 at 12:27 PM, Vafa Khalighi <vafa at users.berlios.de> wrote:
> I think you can always get the latest luatex binary by:
>
> rsync -av
> rsync://contextgarden.net/minimals/current/bin/luatex/linux/bin/luatex
> /usr/local/texlive/2009/bin/i386-linux/
Yes ,my idea is a sort of bash/batch script that does all work.
We can assume a sort of power user,
I mean one who knows how to setup a texlive, use tlmgr, rsync
eventually build luatex , install fonts etc.
The great thing of context minimals (for a linux user as me) is
. setup
and the new minimals is ready to go.
I have more than one minimals  and they live without conflicts ---
disk space is not more a problem today.
Sometimes a new minimals is broken, but it's not a problem --I always
have the last one ok
or sometimes I make some nasty things --- but then erase all and
reinstall is a matter of 20 minutes.
It's ok for testing.
-- 
luigi


-- 
To unsubscribe, reply using "remove me" as the subject.


From vafa at users.berlios.de  Sun Apr  4 13:50:19 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sun, 4 Apr 2010 21:50:19 +1000
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100404114601.GG2850@khaled-laptop>
References: <20100402055502.GA3562@khaled-laptop>
	 <20100402113402.GA5163@khaled-laptop> <4BB5DD0E.5000801@elzevir.fr>
	 <20100402122340.GA6035@khaled-laptop>
	 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
	 <20100402161439.GA12450@khaled-laptop>
	 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
	 <20100404103658.GD2850@khaled-laptop>
	 <s2jb5215f01004040339u740aa455p8e17cb0d88a50ff8@mail.gmail.com>
	 <20100404114601.GG2850@khaled-laptop>
Message-ID: <q2mb5215f01004040450qb5e2deacjbb1537db8ac0e5f5@mail.gmail.com>

>
> It is latex's tabular that is broken here, for an unknown idiotic reason
> they are typesetting tabular material in math mode, so the natural
> \textdir switch will not work.
>
>
>
I do not think so. Look back at the patch that I sent you before and in
fact, it works so.

\def\@array[#1]#2{%
  \if #1t\vtop \else \if#1b\vbox \else \vcenter \fi\fi
  \bgroup
  \setbox\@arstrutbox\hbox{%
    \vrule \@height\arraystretch\ht\strutbox
           \@depth\arraystretch \dp\strutbox
           \@width\z@}%
  \@mkpream{#2}%
  \edef\@preamble{%
    \ialign \noexpand\@halignto
      \bgroup \@arstrut \@preamble \tabskip\z at skip \cr}%
  \let\@startpbox\@@startpbox \let\@endpbox\@@endpbox
  \let\tabularnewline\\%
    \let\par\@empty
    \let\@sharp##%
    \set at typeset@protect
    \lineskip\z at skip\baselineskip\z at skip
    \ifhmode \@preamerr\z@ \@@par\fi
  \if at rl\@text at dir{TRT}\fi
    \@preamble}

assuming of course, you have enabled \pagedir TRT \pardir TRT \bodydir TRT
\textdir TRT .

-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100404/f116f252/attachment.html>

From vafa at users.berlios.de  Sat Apr  3 03:30:44 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sat, 3 Apr 2010 12:30:44 +1100
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
References: <20100401041739.GA5632@khaled-laptop>
	 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
	 <20100402055502.GA3562@khaled-laptop> <4BB5B9EA.5030201@elzevir.fr>
	 <20100402113402.GA5163@khaled-laptop> <4BB5DD0E.5000801@elzevir.fr>
	 <20100402122340.GA6035@khaled-laptop>
	 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
	 <20100402161439.GA12450@khaled-laptop>
	 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
Message-ID: <j2sb5215f01004021830w2c8e38ebu2b5522006986da93@mail.gmail.com>

On Sat, Apr 3, 2010 at 12:25 PM, Vafa Khalighi <vafa at users.berlios.de>wrote:

>
>
>> It can, but is it really needed (i.e. I can switch the whole package
>> layout in very few lines of tex code in luatex, with tex-xet it needs
>> hundreds of package specific macro redefinitions, one definitely can do
>> the later with luatex too.)
>>
>>
> You are only looking at bidi implementation from one side and that is just
> using mainly RTL. Yes, if one wants to use mainly RTL, there is not much to
> do because you have got \pagedir TRT to use. But I am afraid that is just a
> narrow perspective, you have got also to consider other users who use RTL
> partially, i.e. they mainly use LTR, but typeset some RTL text, then
> \pagedir TRT does not make sense at all and they have got to typeset (just
> as an example) tabular RTL sometimes. The bidi implementation needs to suit
> everyone, and not just a group of people and this has unfortunately some
> costs and that is definitely going to be macro programming for many
> packages. You think bidi implementation is easy, but it is not. It is the
> most complex and sophisticated matter in TeX, both logically and
> technically.
>
>
>
>
Even if one uses RTL mainly, there is considerable amount of macro
programming to do. Why? consider an example, say tabular again, if you
typeset tabular, then the place of "r" and "l" alignment interchanges which
is a bug, so you have got to come and fix that. There is no single tabular
package so you have got to fix that for every single tabular package because
they use different implementations and the implementation of package x is
not compatible with implementation of package y. Furthur, \pagedir TRT does
not make tabular RTL in latex, which I sent you the solution before.


-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100403/7c605d88/attachment.html>

From vafa at users.berlios.de  Fri Apr  2 02:37:45 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Fri, 2 Apr 2010 11:37:45 +1100
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100401220536.GB12550@khaled-laptop>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
	 <20100401041739.GA5632@khaled-laptop>
	 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
	 <20100401220536.GB12550@khaled-laptop>
Message-ID: <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>

Thanks. Just to answer your insulting email:

1- Tex macro programming is not a disadvantage, it actually is an art to do
macro programming.
2- bidi is not overloaded by TeX macros.
3- bidi does not copy codes from other packages verbatim.

It is always good to have respect for others and their work.


-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100402/401157db/attachment.html>

From mpg at elzevir.fr  Fri Apr  2 18:47:15 2010
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Fri, 02 Apr 2010 18:47:15 +0200
Subject: [lltx] Proposed: LuaLaTeX minimals
In-Reply-To: <20100402163105.GD12450@khaled-laptop>
References: <l2xfe8d59da1004020307k56851796va96170fc7fa6caf5@mail.gmail.com> <20100402163105.GD12450@khaled-laptop>
Message-ID: <4BB61F93.1070305@elzevir.fr>

Khaled Hosny a ?crit :
> On Fri, Apr 02, 2010 at 12:07:10PM +0200, luigi scarso wrote:
>> I suppose we all know context minimals.
>> I find it a good way to test luatex + context.
>>
>> Until now, to test luaLatex by my own, I download a context minimals
>> insert somewhere a latex/base/* branch and integrate with missing files.
>> It's not  so difficult  --- only annoying.
>>
>> It's should be nice to have a sort of luaLaTeX minimals .
> 
> I was thinking in this too, but in different way; having a lualatex
> texlive repository with additional packages or updated versions than
> those in texlive, so one can install texlive (this can be any scheme)
> and updated lualatex packages from our repo,

This is precisely what I was about to reply!

> but I don't know enough
> about tlmgr and its package repositories to do it myself

I could help here, if you're not too much in a hurry (unfortunately I can't
reliably allocate a lot of time to this right now).

> (nor do I know
> where to host it).
> 
The French TeX users group, GUTenberg, would probably be willing to host it.
Arthur, wdyt?

Manuel.


-- 
To unsubscribe, reply using "remove me" as the subject.


From Arno.Trautmann at gmx.de  Sun Apr  4 20:01:52 2010
From: Arno.Trautmann at gmx.de (Arno Trautmann)
Date: Sun, 04 Apr 2010 20:01:52 +0200
Subject: [lltx] Proposed: LuaLaTeX minimals
In-Reply-To: <u2nb5215f01004030327m1f46b98au1b6aa00081c59f0@mail.gmail.com>
References: <l2xfe8d59da1004020307k56851796va96170fc7fa6caf5@mail.gmail.com>	 <20100402163105.GD12450@khaled-laptop> <4BB717CD.10506@gmx.de> <u2nb5215f01004030327m1f46b98au1b6aa00081c59f0@mail.gmail.com>
Message-ID: <4BB8D410.4070304@gmx.de>

Vafa Khalighi wrote:
>>
>> That?s a great thing and I?d love to have this kind of package. But one
>> question: Would it contain updated binaries, too? I would do a lot more
>> of testing and playing around with luaLaTeX, but as the TL binaries of
>> luaTeX are outdated, I don?t want to mess my system by building luatex
>> myself. I?d feel much more comfortable using a texlive package for this ?
>>
> I think you can always get the latest luatex binary by:
> 
> rsync -av rsync://
> contextgarden.net/minimals/current/bin/luatex/linux/bin/luatex
> /usr/local/texlive/2009/bin/i386-linux/

Thanks, I didn?t know it was that easy ?
Although this gives me now 0.52 instead of 0.60 which I was hoping for
today ;)
But maybe this will be updated in the next days.

cheers
Arno

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 262 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100404/527a02b4/attachment.bin>

From khaledhosny at eglug.org  Thu Apr  1 06:30:19 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 1 Apr 2010 06:30:19 +0200
Subject: [lltx] Re: [fontspec] selecting font features has no effect?
In-Reply-To: <s2j803fcee31003311722nfb939366g1ad931e3c6db7c2d@mail.gmail.com>
References: <803fcee31003300449i5bd2b885rfbb8c630b79faf63@mail.gmail.com>
 <eba574421003300503h552fc4baof74d13eaa9ebf804@mail.gmail.com>
 <20100330125211.GD2934@khaled-laptop>
 <4BB20CD2.6030507@telecom-bretagne.eu>
 <c90bffcf-d9fe-4994-bb6c-8bbf27ee586e@k17g2000yqb.googlegroups.com>
 <w2u803fcee31003301910za7d4b7b8r2764bff07383b7bf@mail.gmail.com>
 <20100331090130.GC2417@khaled-laptop>
 <w2n803fcee31003310219if83f4b56jbd63fd5bdfaa51bb@mail.gmail.com>
 <20100331174107.GB3657@khaled-laptop>
 <s2j803fcee31003311722nfb939366g1ad931e3c6db7c2d@mail.gmail.com>
Message-ID: <20100401043019.GA6737@khaled-laptop>

On Thu, Apr 01, 2010 at 08:22:17AM +0800, Diederick C. Niehorster wrote:
> Hi Khaled,
> 
> On Thu, Apr 1, 2010 at 1:41 AM, Khaled Hosny <khaledhosny at eglug.org> wrote:
> > Fontspec sets mode=node by default, now I need to see why it fails with
> > this particular font.
> 
> Note that calling other fonts through fontspec also kills the
> ligatures (tried TeX Gyre Heros), so it might not be specific to the
> font.

Here, I get tex ligatures with arno pro and other fonts too, seems some
thing wrong specific to your install.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From dcnieho at gmail.com  Thu Apr  1 02:22:17 2010
From: dcnieho at gmail.com (Diederick C. Niehorster)
Date: Thu, 1 Apr 2010 08:22:17 +0800
Subject: [lltx] Re: [fontspec] selecting font features has no effect?
In-Reply-To: <20100331174107.GB3657@khaled-laptop>
References: <214339f0-77d0-492a-a63b-4b5cd14b051b@k36g2000prb.googlegroups.com>
	 <803fcee31003300449i5bd2b885rfbb8c630b79faf63@mail.gmail.com>
	 <eba574421003300503h552fc4baof74d13eaa9ebf804@mail.gmail.com>
	 <20100330125211.GD2934@khaled-laptop>
	 <4BB20CD2.6030507@telecom-bretagne.eu>
	 <c90bffcf-d9fe-4994-bb6c-8bbf27ee586e@k17g2000yqb.googlegroups.com>
	 <w2u803fcee31003301910za7d4b7b8r2764bff07383b7bf@mail.gmail.com>
	 <20100331090130.GC2417@khaled-laptop>
	 <w2n803fcee31003310219if83f4b56jbd63fd5bdfaa51bb@mail.gmail.com>
	 <20100331174107.GB3657@khaled-laptop>
Message-ID: <s2j803fcee31003311722nfb939366g1ad931e3c6db7c2d@mail.gmail.com>

Hi Khaled,

On Thu, Apr 1, 2010 at 1:41 AM, Khaled Hosny <khaledhosny at eglug.org> wrote:
> Fontspec sets mode=node by default, now I need to see why it fails with
> this particular font.

Note that calling other fonts through fontspec also kills the
ligatures (tried TeX Gyre Heros), so it might not be specific to the
font.

Best,
Dee


-- 
To unsubscribe, reply using "remove me" as the subject.


From vafakh84 at gmail.com  Thu Apr  1 01:20:49 2010
From: vafakh84 at gmail.com (Vafa Khalighi)
Date: Wed, 31 Mar 2010 16:20:49 -0700 (PDT)
Subject: [lltx] bidi package extended for LuaLaTeX
Message-ID: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>

I have been working on extending the bidi package for lualatex and I
have been pretty happy with the result. I like to divide this into two
categories:

1- unicode bidi algorithm done purely in Lua

2- bidi TeX, e.g. paragraphs, tabular, headers and footers and etc

I have been working on the second category. Is there anyone who would
like to help with the first category so we can upload next version of
bidi package to CTAN whichit supports both luatex and xetex? and I
think having one single package is better than having several packages
one for xetex and the other for luatex.


-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Fri Apr  2 14:23:40 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 2 Apr 2010 14:23:40 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <4BB5DD0E.5000801@elzevir.fr>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
 <20100401041739.GA5632@khaled-laptop>
 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
 <20100401220536.GB12550@khaled-laptop>
 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
 <20100402055502.GA3562@khaled-laptop>
 <4BB5B9EA.5030201@elzevir.fr>
 <20100402113402.GA5163@khaled-laptop>
 <4BB5DD0E.5000801@elzevir.fr>
Message-ID: <20100402122340.GA6035@khaled-laptop>

On Fri, Apr 02, 2010 at 02:03:26PM +0200, Manuel P?gouri?-Gonnard wrote:
> Khaled Hosny a ?crit :
> > It doesn't work for me, and the users I care about, otherwise I would
> > have been using it and not bothering myself with luatex, why I need to
> > keep saying this?
> > 
> Is the macro/bidi part the problem, or is XeTeX the problem? If XeTeX is the
> problem, maybe part of the macros in bidi could be re-used.

The macros are written specifically to deal (and work around
limitations) of tex-xet, IMO there is not much to share.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From elie.roux at telecom-bretagne.eu  Tue Apr 27 09:17:37 2010
From: elie.roux at telecom-bretagne.eu (=?UTF-8?Q?=C3=89lie_Roux?=)
Date: Tue, 27 Apr 2010 10:17:37 +0300
Subject: [lltx] luaotfload cache file location
In-Reply-To: <4A0BC393-0287-42FB-A8C0-B72C28FEDF27@gmail.com>
References: <4BC06DBA.3000404@elzevir.fr> <20100410222102.GA2374@khaled-laptop>
	 <4BD41C69.1010306@elzevir.fr> <20100426144258.GB3394@khaled-laptop>
	 <4A0BC393-0287-42FB-A8C0-B72C28FEDF27@gmail.com>
Message-ID: <y2oeba574421004270017w989585d0r2319a8e572d26b9e@mail.gmail.com>

2010/4/27 Will Robertson <wspr81 at gmail.com>:
>
> Looks sensible to me.
> Consider this a non-objection :)

No objection on my side neither.

Thank you,
-- 
Elie


-- 
Subscription settings: http://groups.google.com/group/lualatex-dev/subscribe?hl=en


From khaledhosny at eglug.org  Sun Apr  4 13:59:31 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sun, 4 Apr 2010 13:59:31 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <v2kb5215f01004040447l821e5acdmdb6cc65c142163f5@mail.gmail.com>
References: <4BB5DD0E.5000801@elzevir.fr>
 <20100402122340.GA6035@khaled-laptop>
 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
 <20100402161439.GA12450@khaled-laptop>
 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
 <j2sb5215f01004021830w2c8e38ebu2b5522006986da93@mail.gmail.com>
 <20100404104544.GE2850@khaled-laptop>
 <k2gb5215f01004040350kf91c94aerd353307d2116d0d5@mail.gmail.com>
 <20100404114101.GF2850@khaled-laptop>
 <v2kb5215f01004040447l821e5acdmdb6cc65c142163f5@mail.gmail.com>
Message-ID: <20100404115930.GA29417@khaled-laptop>

On Sun, Apr 04, 2010 at 09:47:22PM +1000, Vafa Khalighi wrote:
> 
>     Well, I don't think fixing bugs in my *head* is that easy.
> 
> I did not mean that you fix that in your head, but that needs to get fixed in
> the package.

There is no package, I'm just saying what I simply did in the past.

>     I still have a very valid reasons for my ill doings, I want to keep
>     things as simple as it can, and make sharing code between rtl and ltr
>     documents more easy, so I simply consider right and left here as
>     misnomers of start and end, this makes it more logical. If I were to
>     write a tabular package myself, I would then use the neutral start/end
>     nomenclature.
> 
> We are not talking about "me" here. If we were so, things would be heaps
> easier.

What works for me should work for other users, if not, then they are
using the wrong package. Simply documenting the fact that right and left
is to be treated start/end is a lot easier than writing a 1000 lines of
obscure code that I can't really test all use cases of it; the less code
the less bugs.

>     To me, swapping the meaning of r and l is a misfeature (like the
>     automatic footnote thing that I never seen in a real world book;
>     footnotes in Arabic books are aligned to right no mutter what the actual
>     footnote text it.)
> 
> I have seen a lot of the textbooks with automatic footnoterule. I am talking
> about academic typography and academic textbooks not about a novel. In Persian
> RTL typography, autofootnoterule is a must.

Then it is a Persian not a general bidi issue, a Persian specific
package would do that, and I was talking about real technical books
typeset in the most prestigious print houses in the Arabic world (both
contemporary or as old as beginnings of the last century).

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Thu Apr  8 01:16:24 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 8 Apr 2010 01:16:24 +0200
Subject: [lltx] [luaotfload] Footnotes
In-Reply-To: <4BBCF447.2050603@gmail.com>
References: <4BBC4AD6.2080305@gmail.com>
 <20100407095509.GA3437@khaled-laptop>
 <4BBCF447.2050603@gmail.com>
Message-ID: <20100407231624.GA5067@khaled-laptop>

On Wed, Apr 07, 2010 at 11:08:23PM +0200, Georg A. Duffner wrote:
> Am 2010-04-07 11:55, schrieb Khaled Hosny:
> >On Wed, Apr 07, 2010 at 11:05:26AM +0200, Georg A. Duffner wrote:
> >>There seems to be a problem with footnotes when using luaotfload.
> >>The footnotemark in the text is rendered smaller but not
> >>superscript.
> >>
> >>Example:
> >>
> >>\documentclass{article}
> >>\usepackage{luaotfload}
> >>\begin{document}
> >>Text\footnote{footnote text}
> >>\end{document}
> >>
> >>The error:
> >>! Math error: parameter \Umathquad\displaystyle is not set.
> >>\@ensuredmath #1->$\relax #1$
> >>
> >>l.8 Text\footnote{
> >>                   footnote text}
> >>Sorry, but I can't typeset math unless various parameters have
> >>been set. This is normally done by loading special math fonts
> >>into the math family slots. Your font set is lacking at least
> >>the parameter mentioned earlier.
> >
> >Most likely this is because you've a TTF version of CM math fonts that
> >luaotfload is trying to load, and it is lacking such parameters. If you
> >are running debian, do you've either ttf-lyx or latex-xft-fonts packages
> >installed?
> >
> 
> 
> Well, you are partly right. This minimal example is using CM TTF
> fonts (and I have ttf-lyx installed, but not latex-xft-fonts). But
> the following examples are showing the same error (see attached
> logfile of #1):
> 
> 1. using ?libertine? package with an adapted fd-file (see attachment)
> 
> \documentclass{article}
> \usepackage[EU2]{fontenc}
> \usepackage{luaotfload}
> \usepackage{libertine}
> \begin{document}
> Text\footnote{footnote text}
> \end{document}
> 
> 2. using Linux Libertine OTF with fontspec
> 
> \documentclass{article}
> \usepackage{fontspec}
> \setmainfont{Linux Libertine O}
> \begin{document}
> Text\footnote{footnote text}
> \end{document}

Luaotfload doesn't change default latex fonts, what happens is that your
document requests one of CM math fonts, say cmmi10, which have the
necessary font parameters in the tfm file, but luaotfload finds the ttf
version you have and so loads it through the opentype font loader which
will not load any tfm files and thus the required font parameters will
not be set, resulting in the \Umathquad error you get.

A quick solution is to uninstall the ttf-lyx package then update you
luaotfload font database, and every thing will be back to normal.

Now, having several different fonts with the same font name is reciby
for troubles, and I don't consider this a luaoftload bug per se (you ask
for a font named "cmmi10" and you get one), but since this going to
affect many users (me included!), we need to find a better way to handle
this.

> What I don?t understand: \textsuperscript sometimes does work and
> sometimes it doesn?t. The following sequences behave differently
> when inserted in the above examples:
> 
> a) Text\textsuperscript{a}\footnote{footnote text}\textsuperscript{2}
> ? ?a? small on baseline, ?1? (footnote mark) small on baseline, ?2?
> superscript
> 
> b) Text\textsuperscript{a}\textsuperscript{2}
> ? ?a? small on baseline, ?2? small on baseline
> 
> c) Text\textsuperscript{a\textsuperscript{2}}
> ? ?a? superscript, ?2? supersuperscript, no error.

Here I get the expected output, most probably what you get is related to
the math issue.

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From vafa at users.berlios.de  Fri Apr  2 14:26:12 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Fri, 2 Apr 2010 23:26:12 +1100
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100402122340.GA6035@khaled-laptop>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
	 <20100401041739.GA5632@khaled-laptop>
	 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
	 <20100401220536.GB12550@khaled-laptop>
	 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
	 <20100402055502.GA3562@khaled-laptop> <4BB5B9EA.5030201@elzevir.fr>
	 <20100402113402.GA5163@khaled-laptop> <4BB5DD0E.5000801@elzevir.fr>
	 <20100402122340.GA6035@khaled-laptop>
Message-ID: <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>

If XeTeX is the

> > problem, maybe part of the macros in bidi could be re-used.
>
> The macros are written specifically to deal (and work around
> limitations) of tex-xet, IMO there is not much to share.
>

I do not think so. at least about 80 percent of bidi macros can be reused
for luatex with some adaptations.

-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100402/ab019691/attachment.html>

From g.duffner at gmail.com  Sat Apr  3 00:21:50 2010
From: g.duffner at gmail.com (Georg A. Duffner)
Date: Sat, 03 Apr 2010 00:21:50 +0200
Subject: [lltx] [fontspec] selecting font features has no effect?
In-Reply-To: <h2g803fcee31004011855z6f12c27cx4e8021b02da2d8bc@mail.gmail.com>
References: <214339f0-77d0-492a-a63b-4b5cd14b051b@k36g2000prb.googlegroups.com>	 <D1E777B8-8777-4DE1-8D2D-E764B70BAF26@gmail.com>	 <803fcee31003300449i5bd2b885rfbb8c630b79faf63@mail.gmail.com>	 <eba574421003300503h552fc4baof74d13eaa9ebf804@mail.gmail.com>	 <803fcee31003300515v1ff83334uf1d99e9e018a9314@mail.gmail.com>	 <20100330134241.GB3788@khaled-laptop>	 <y2p803fcee31003301907l3269fcdcjdeda943d88507df4@mail.gmail.com>	 <20100401215901.GA12550@khaled-laptop> <h2g803fcee31004011855z6f12c27cx4e8021b02da2d8bc@mail.gmail.com>
Message-ID: <4BB66DFE.4000103@gmail.com>

Am 2010-04-02 03:55, schrieb Diederick C. Niehorster:
> On Fri, Apr 2, 2010 at 5:59 AM, Khaled Hosny<khaledhosny at eglug.org>  wrote:
>    
>> On Wed, Mar 31, 2010 at 10:07:08AM +0800, Diederick C. Niehorster wrote:
>>      
>>> \setmainfont[Ligatures=TeX]{Arno Pro} - works
>>> \setmainfont[Ligatures=TeX]{Arno Pro Italic} - font not found
>>> \setmainfont[Ligatures=TeX]{Adobe Caslon Pro} - compare to nil error
>>>        
>> I believe that the two issues are now fixed.
>>      
> Hi Khaled,
>
> Thanks!
> I'm about to leave the country for a few days, I'll check it out when I'm back.
>
> Best,
> Dee
>
>
>    
Weird?since the latest update to fontspec, I don?t get ligatures any 
more (neither TeX nor Common) with fontspec. Plain TeX and LaTeX with 
eu2 encoding without fontspec do work as expected.

?? example ??

\documentclass[11pt]{article}

\usepackage{fontspec}

\setmainfont[Ligatures=TeX]{Linux Libertine O}

\begin{document}

fi--fl

\end{document}


?????????


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.pdf
Type: application/pdf
Size: 3367 bytes
Desc: not available
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100403/2ab06675/attachment.pdf>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.log
Type: text/x-log
Size: 121948 bytes
Desc: not available
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100403/2ab06675/attachment.bin>

From khaledhosny at eglug.org  Fri Apr  2 18:14:39 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 2 Apr 2010 18:14:39 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
References: <20100401041739.GA5632@khaled-laptop>
 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
 <20100401220536.GB12550@khaled-laptop>
 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
 <20100402055502.GA3562@khaled-laptop>
 <4BB5B9EA.5030201@elzevir.fr>
 <20100402113402.GA5163@khaled-laptop>
 <4BB5DD0E.5000801@elzevir.fr>
 <20100402122340.GA6035@khaled-laptop>
 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
Message-ID: <20100402161439.GA12450@khaled-laptop>

On Fri, Apr 02, 2010 at 11:26:12PM +1100, Vafa Khalighi wrote:
> If XeTeX is the
> 
>     > problem, maybe part of the macros in bidi could be re-used.
> 
>     The macros are written specifically to deal (and work around
>     limitations) of tex-xet, IMO there is not much to share.
> 
> 
> I do not think so. at least about 80 percent of bidi macros can be reused for
> luatex with some adaptations.

It can, but is it really needed (i.e. I can switch the whole package
layout in very few lines of tex code in luatex, with tex-xet it needs
hundreds of package specific macro redefinitions, one definitely can do
the later with luatex too.)

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From vafa at users.berlios.de  Sun Apr  4 14:14:02 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sun, 4 Apr 2010 22:14:02 +1000
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100404121046.GA29509@khaled-laptop>
References: <20100402113402.GA5163@khaled-laptop>
	 <20100402122340.GA6035@khaled-laptop>
	 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
	 <20100402161439.GA12450@khaled-laptop>
	 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
	 <20100404103658.GD2850@khaled-laptop>
	 <s2jb5215f01004040339u740aa455p8e17cb0d88a50ff8@mail.gmail.com>
	 <20100404114601.GG2850@khaled-laptop>
	 <q2mb5215f01004040450qb5e2deacjbb1537db8ac0e5f5@mail.gmail.com>
	 <20100404121046.GA29509@khaled-laptop>
Message-ID: <k2kb5215f01004040514x9d23a75en595d92f5d7d2c60a@mail.gmail.com>

>
> That kind if things I really really really hate, now there are at least
> 8 packages which define \@array, which definition of those bidi is
> overriding?
>
>
>
The one in latex kernel, array package, arydshln package, stabular package,
tabls package, tabulary package and ...

But each does a different implementation of \@array.

-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100404/2b1d9fba/attachment.html>

From khaledhosny at eglug.org  Fri Apr  2 07:55:03 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 2 Apr 2010 07:55:03 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
 <20100401041739.GA5632@khaled-laptop>
 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
 <20100401220536.GB12550@khaled-laptop>
 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
Message-ID: <20100402055502.GA3562@khaled-laptop>

On Fri, Apr 02, 2010 at 11:37:45AM +1100, Vafa Khalighi wrote:
> Thanks. Just to answer your insulting email:
> 
> 1- Tex macro programming is not a disadvantage, it actually is an art to do
> macro programming.

Any one who wrote or maintained a reasonably complex tex macro code
knows it is pain to write, pain to understand and pain to maintain, the
main idea behind luatex is to give tex a sane programming language which
we all know tex mcros isn't.

> 2- bidi is not overloaded by TeX macros.

It is, more than 7000 lines of tex macro to implement such basic thing
as reversing document layout is a bit overload to me, and one still
needs to mark rtl or ltr runs explicitly.

> 3- bidi does not copy codes from other packages verbatim.

It does, or what all those *-bidi.def files, with thousands of lines
redefining internal macros of other packages then?

> It is always good to have respect for others and their work.

I were not aware that criticizing the shortcomings of tex macros (that
everyone knows and admit) and old engines is not showing respect for
others work. If bidi, xetex and programming in tex was so good, I would
have saved my self the trouble and just used xetex.


-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From vafa at users.berlios.de  Sun Apr  4 14:09:31 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sun, 4 Apr 2010 22:09:31 +1000
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <t2kb5215f01004040507n455a295dybc27e37b8bf34733@mail.gmail.com>
References: <4BB5DD0E.5000801@elzevir.fr>
	 <20100402161439.GA12450@khaled-laptop>
	 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
	 <j2sb5215f01004021830w2c8e38ebu2b5522006986da93@mail.gmail.com>
	 <20100404104544.GE2850@khaled-laptop>
	 <k2gb5215f01004040350kf91c94aerd353307d2116d0d5@mail.gmail.com>
	 <20100404114101.GF2850@khaled-laptop>
	 <v2kb5215f01004040447l821e5acdmdb6cc65c142163f5@mail.gmail.com>
	 <20100404115930.GA29417@khaled-laptop>
	 <t2kb5215f01004040507n455a295dybc27e37b8bf34733@mail.gmail.com>
Message-ID: <o2wb5215f01004040509q1addf712x65c3e47ad2594f14@mail.gmail.com>

I suggest to end this discussion on the list because it will be boring for
others. I am sure this discussion can go on and on. If you want, you can
discuss it with me off the list.


-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100404/7ebd5b54/attachment.html>

From elie.roux at telecom-bretagne.eu  Thu Apr  8 14:35:23 2010
From: elie.roux at telecom-bretagne.eu (=?UTF-8?Q?=C3=89lie_Roux?=)
Date: Thu, 8 Apr 2010 15:35:23 +0300
Subject: [lltx] [luaotfload] Footnotes
In-Reply-To: <20100408121930.GB29952@khaled-laptop>
References: <4BBC4AD6.2080305@gmail.com> <20100407095509.GA3437@khaled-laptop>
	 <4BBCF447.2050603@gmail.com> <20100407231624.GA5067@khaled-laptop>
	 <4BBDA8C8.9070407@gmail.com> <20100408121930.GB29952@khaled-laptop>
Message-ID: <o2keba574421004080535y5b0de268waa384b29ebef5c51@mail.gmail.com>

2010/4/8 Khaled Hosny <khaledhosny at eglug.org>:
>
> What do others think about this?

I think it should be doable to load an otf by its filename if it's
reachable by kpathsea... for example
\font\myfont=LinLibertine_Re-4.4.1.otf should work... otherwise the
solution seems ok!

Thank you,
-- 
Elie


-- 
To unsubscribe, reply using "remove me" as the subject.


From vafa at users.berlios.de  Sat Apr  3 12:14:13 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sat, 3 Apr 2010 21:14:13 +1100
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <3B0436CD-9C5E-4A20-A847-9D1E4FD4EA9C@gmail.com>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
	 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
	 <20100402055502.GA3562@khaled-laptop> <4BB5B9EA.5030201@elzevir.fr>
	 <t2pfe8d59da1004020247p8e703a8aw5f5f926cabda383d@mail.gmail.com>
	 <20100402161911.GB12450@khaled-laptop>
	 <k2rb5215f01004021838v8f7bd894sd592b9f54fd6bd9b@mail.gmail.com>
	 <FBAD5D62-98BF-45D9-B67D-A9EFC9C682D9@gmail.com>
	 <z2xb5215f01004021858w82c90ac9i733cd26a48fe5780@mail.gmail.com>
	 <3B0436CD-9C5E-4A20-A847-9D1E4FD4EA9C@gmail.com>
Message-ID: <k2qb5215f01004030314o6570334dh4361911a1a85bd16@mail.gmail.com>

> Thanks, I think that makes sense to me.
> This only works for insertions, right?
> For general detection of odd/even page typesetting, the two-run aux file
> method is still the only reliable way.
>
>
I think, you could do the same thing for general detection of odd/even page
typesetting with some adaptations but I have got to admit that I have not
tried that.


-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100403/87885e39/attachment.html>

From khaledhosny at eglug.org  Sun Apr  4 14:10:46 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sun, 4 Apr 2010 14:10:46 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <q2mb5215f01004040450qb5e2deacjbb1537db8ac0e5f5@mail.gmail.com>
References: <20100402113402.GA5163@khaled-laptop>
 <4BB5DD0E.5000801@elzevir.fr>
 <20100402122340.GA6035@khaled-laptop>
 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
 <20100402161439.GA12450@khaled-laptop>
 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
 <20100404103658.GD2850@khaled-laptop>
 <s2jb5215f01004040339u740aa455p8e17cb0d88a50ff8@mail.gmail.com>
 <20100404114601.GG2850@khaled-laptop>
 <q2mb5215f01004040450qb5e2deacjbb1537db8ac0e5f5@mail.gmail.com>
Message-ID: <20100404121046.GA29509@khaled-laptop>

On Sun, Apr 04, 2010 at 09:50:19PM +1000, Vafa Khalighi wrote:
> 
> 
>     It is latex's tabular that is broken here, for an unknown idiotic reason
>     they are typesetting tabular material in math mode, so the natural
>     \textdir switch will not work.
> 
> 
> 
> 
> I do not think so. Look back at the patch that I sent you before and in fact,
> it works so.
> 
> 
> \def\@array[#1]#2{%
> 
> ??\if #1t\vtop \else \if#1b\vbox \else \vcenter \fi\fi
> ??\bgroup
> ??\setbox\@arstrutbox\hbox{%
> ????\vrule \@height\arraystretch\ht\strutbox
> 
> ???????????\@depth\arraystretch \dp\strutbox
> ???????????\@width\z@}%
> ??\@mkpream{#2}%
> ??\edef\@preamble{%
> 
> ????\ialign \noexpand\@halignto
> ??????\bgroup \@arstrut \@preamble \tabskip\z at skip \cr}%
> ??\let\@startpbox\@@startpbox \let\@endpbox\@@endpbox
> 
> ??\let\tabularnewline\\%
> ????\let\par\@empty
> ????\let\@sharp##%
> ????\set at typeset@protect
> 
> ????\lineskip\z at skip\baselineskip\z at skip
> ????\ifhmode \@preamerr\z@ \@@par\fi
> ??\if at rl\@text at dir{TRT}\fi
> 
> ????\@preamble}
> 
> assuming of course, you have enabled \pagedir TRT \pardir TRT \bodydir TRT \
> textdir TRT .

That kind if things I really really really hate, now there are at least
8 packages which define \@array, which definition of those bidi is
overriding?


-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From luigi.scarso at gmail.com  Fri Apr  2 11:47:35 2010
From: luigi.scarso at gmail.com (luigi scarso)
Date: Fri, 2 Apr 2010 11:47:35 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <4BB5B9EA.5030201@elzevir.fr>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
	 <20100401041739.GA5632@khaled-laptop>
	 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
	 <20100401220536.GB12550@khaled-laptop>
	 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
	 <20100402055502.GA3562@khaled-laptop> <4BB5B9EA.5030201@elzevir.fr>
Message-ID: <t2pfe8d59da1004020247p8e703a8aw5f5f926cabda383d@mail.gmail.com>

On Fri, Apr 2, 2010 at 11:33 AM, Manuel P?gouri?-Gonnard <mpg at elzevir.fr> wrote:
>
> Khaled Hosny a ?crit :
>> Any one who wrote or maintained a reasonably complex tex macro code
>> knows it is pain to write, pain to understand and pain to maintain, the
>> main idea behind luatex is to give tex a sane programming language which
>> we all know tex mcros isn't.
>>

> By the way, concerning the advantages/disavantages of LuaTeX, it's worth noting
> that LuaTeX's overall complexity is bigger that other engines, since you need to
> understand /both/ TeX and Lua languages in order to be a good LuaTeX programmer.
> (Though maybe you don't need to be as good with TeX as previously, you just
> can't ignore TeX rules for lexical analysis (catcodes etc) and development.)

Typographical programming is an obscure subject,unlike other
traditionals programming areas.
LuaTex offers
1) a macro language for typesetting (TeX)
2) a procedural/object_oriented language for parsing, searching, extending (Lua)
3) a graphical language for draw (MetaPost)

1) & 2) can be used to write macro or typeset, but I prefear 1) for typesetting,
a 1) layer plus 2) layer for macros;
3)  is a sort of jolly.

It's not enough: the engine is pretty useless without a format, and there is not
a unique way to make a format
ConTeXt-mkiv is an example, luaLaTeX will be another example, metatex
another one --- they depends on what one needs to do .


-- 
luigi


From khaledhosny at eglug.org  Fri Apr  2 13:34:02 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 2 Apr 2010 13:34:02 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <4BB5B9EA.5030201@elzevir.fr>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
 <20100401041739.GA5632@khaled-laptop>
 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
 <20100401220536.GB12550@khaled-laptop>
 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
 <20100402055502.GA3562@khaled-laptop>
 <4BB5B9EA.5030201@elzevir.fr>
Message-ID: <20100402113402.GA5163@khaled-laptop>

On Fri, Apr 02, 2010 at 11:33:30AM +0200, Manuel P?gouri?-Gonnard wrote:
> [quotations re-ordered]
> 
> Khaled Hosny a ?crit :
> > On Fri, Apr 02, 2010 at 11:37:45AM +1100, Vafa Khalighi wrote:
> >> 1- Tex macro programming is not a disadvantage, it actually is an art to do
> >> macro programming.
> > 
> > Any one who wrote or maintained a reasonably complex tex macro code
> > knows it is pain to write, pain to understand and pain to maintain, the
> > main idea behind luatex is to give tex a sane programming language which
> > we all know tex mcros isn't.
> > 
> I tend to disagree with this restrictive vision of LuaTeX. To me, the biggest
> advantage of LuaTeX over all other engines is to open up some internals of TeX.
> I would have called the project OpenTeX :-) Having a saner programming language
> is only the second-biggest advantage to me. (And of course, native support for
> Unicode, including math, is also a enormous advantage over pdfTeX.)

That 'is' in 'main idea behind luatex is' was meant to be 'was', and I
can't but agree with you here, what is the biggest advantage of luatex
wasn't the point I was trying to make.

> By the way, I agree with you that in general Lua is a "better" programming
> language than TeX (which wasn't precisely designed as a programming language
> btw), but:
> - Great things have been done and successfully maintained with TeX. It's a
> tricky language, but a lot of tricks are now pretty standard, if you take the
> time to read and study code of experienced TeX programmers before starting
> writing your own (which is a good idea in any language btw).

Great things were written in assembly too (and I know at least one
modern OS written completely in it), it is not about the possibility,
it is about in what time and what degree of complexity one can do
things. So, basically what you are saying is that tex is Turing
complete, a fact I don't find very interesting by itself.

> - Most experienced programmers agree that the quality of a code depends much
> more on the skills of its author than the language it is written in.

True, but again there are languages that force writing ugly code on you,
and from my experience almost all complex tex macro that I see are ugly
and unreadable, I for example don't know any major tex package actively
maintained by anyone other than the original developer unless it was
just rewritten, and there must be a reason for this.

> Therefore, I quite strongly disagree with your habit of saying "it's written in
> TeX, it can't be good, it should be rewritten in Lua". (Ok, I'm quite quick at
> calling it an habit, it's only the second occurrence, the first being microtype.)

Yes and no, yes I strongly dislike programing in tex macros, or,
precisely, I plainly hate it, no I never said "it's written in TeX, it
can't be good, it should be rewritten in Lua", but rather "it is written
in tex, so I'l never be able to hack it, so I'd rather rewrite it in
lua"; I'm not into the position of telling anyone what to do, I'm rather
talking about what can I do. The original question was if I'm interested
in bidi package or not, and my answer was literally "*I*'m not
interested in bidi package since *I* feel it is too overloaded by
legacies of TeX macros for *me* to manage", emphasis added.

> By the way, concerning the advantages/disavantages of LuaTeX, it's worth noting
> that LuaTeX's overall complexity is bigger that other engines, since you need to
> understand /both/ TeX and Lua languages in order to be a good LuaTeX programmer.
> (Though maybe you don't need to be as good with TeX as previously, you just
> can't ignore TeX rules for lexical analysis (catcodes etc) and development.)

No, I need not to understand tex macros, well nothing more than the very
superficial understanding, the rest I simply ignore and I think I'm
doing fine so far.

> >> 2- bidi is not overloaded by TeX macros.
> > 
> > It is, more than 7000 lines of tex macro to implement such basic thing
> > as reversing document layout is a bit overload to me, and one still
> > needs to mark rtl or ltr runs explicitly.
> > 
> Here you're basically telling Vafa that what he did is very basic but that he
> nevertheless used a lot of code to do it. Maybe you're thinking that it's TeX's
> fault, not Vafa's, but maybe you're implying that Vafa is a bad programmer (I
> hope the first option is correct).

Surely it is the limitation of tex macros and tex-xet bidirectional
extension, what this discussion is all about.

> >> 3- bidi does not copy codes from other packages verbatim.
> > 
> > It does, or what all those *-bidi.def files, with thousands of lines
> > redefining internal macros of other packages then?
> > 
> It's not copied verbatim (unless we have different definitions of verbatim), the

"Verbatim" was not my word, it is Vafa's, what I said was "and I really
hate latex packages duplicating code of other packages", which is what
the redefined, rtl-aware internal macros is all about.

> whole point is to modify the macros, in order to insert bidi instructions where
> they are needed. It implies copying some of the code, and writing in TeX, yes,
> but what else do you want to do?

Use luatex, plain and simple, you get a vastly advanced bidirectional
typesetting support for free and 99% of the "redefined" macros will go
away, without writing a single line in lua (most of the remaining 1% can
be implemented in lua).

> It may displease you, but that's the way things go in the LaTeX world. Most
> packages don't anticipate future developments and don't provide hooks for other
> packages, so that big fundamental packages such as bidi, tex4ht, hyperref and
> others need to redefine other package's internals in order to get the job done.
> (Ideally a lot of this should be in the kernel, but it is not and you have to
> make things work anyway.) At first glance, the way bidi does this is the most
> correct way to do it.

But then you are walking on a field of mines, and since many of the
redefined packages are in active development, things can break any time
(and it does), I know it is a "standard" latex practice, but that want
make me feel positive about it (but it doesn't matter, latex is flawed
in so many ways anyway).

> I see it as a big advantage of bidi, from a user's point of view (and users are
> more important than programmers), since it means things "just work". Taking care
> of this require time and usually quite a lot of user feedback, which is of great
> value. Again, this value would probably be lost by rewriting form scratch. This
> is why it is almost always a bad idea to rewrite things from scratch, from a
> software engineering point of view. (And, mind you, saying "I don't understand
> why things are done this way, it looks too complicated to me, and it's not
> written in my favourite language, so I'll just rewrite it" is a common mistake
> of young software developers.) (You may argue that some engineering paradigms
> such as extreme programming suggest frequent rewrite from scratch, but they
> require to do it in a way that accumulated experience doesn't get lost in the
> process.)

It doesn't work for me, and the users I care about, otherwise I would
have been using it and not bothering myself with luatex, why I need to
keep saying this?

So? I'm not learning tex macros and I'm not writing any code in it, and
if I need certain functionality I'll write it in lua, I don't see why I
need to justify this.

> > I were not aware that criticizing the shortcomings of tex macros (that
> > everyone knows and admit) and old engines is not showing respect for
> > others work. If bidi, xetex and programming in tex was so good, I would
> > have saved my self the trouble and just used xetex.
> > 
> See, you're again implying that bidi is no so good...

It is, for my own needs.

> Well, to sum up: from a technical point of view, I'm against rewriting from
> scratch without a good reason. In general, I think it's best, when something for
> XeTeX already exists, to write a "compatibility layer" (such as luaotfload), and
> then reuse existing macros (such as fontspec). Don't forget that user interface
> and interaction with other packages always take much more lines of code than one
> would think (and, unfortunately for you, most of it has to be done in TeX).

You are free to take the position you like, but if it is me who is to
write the code, I think you already know my position.

> >From a personnal point of view:
> 
> > On Fri, Apr 02, 2010 at 11:37:45AM +1100, Vafa Khalighi wrote:
> >> Thanks. Just to answer your insulting email:
> 
> I wouldn't call it insulting, but I nevertheless find it offending, and I think
> you (Khaled) should try to be more diplomatic in the way you write things,
> especially when it comes to the value of other's work. (From a technical point
> of view, I think you're underestimating it as I explained, but even if Vafa's
> work actually wasn't valuable, a little bit of diplomacy never hurts.)

I'm not interested in diplomacy, it is hard enough for me to communicate
in English, so I'd rather keep things simple and go strait forward to
the point.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From khaledhosny at eglug.org  Thu Apr  8 19:07:45 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Thu, 8 Apr 2010 19:07:45 +0200
Subject: [lltx] [luaotfload] Footnotes
In-Reply-To: <20100408121930.GB29952@khaled-laptop>
References: <4BBC4AD6.2080305@gmail.com>
 <20100407095509.GA3437@khaled-laptop>
 <4BBCF447.2050603@gmail.com>
 <20100407231624.GA5067@khaled-laptop>
 <4BBDA8C8.9070407@gmail.com>
 <20100408121930.GB29952@khaled-laptop>
Message-ID: <20100408170745.GA32215@khaled-laptop>

On Thu, Apr 08, 2010 at 02:19:30PM +0200, Khaled Hosny wrote:
> One solution to this specific issue is to make the old font definition
> syntax load only TFM fonts, and make loading system fonts only through
> the extended syntax, so:
> 
> \font\tenrm=ec-lmr10 at 10pt
> 
> or the extended:
> 
> \font\tenrm=file:ec-lmr10 at 10pt
> 
> Will not consult font names database, so old code that expects TFM fonts
> will continue to work as expected, while:
> 
> \font\tenrm={name:Latin Modern Roman} at 10pt
> 
> Would be required to load system (or texmf) fonts by name. What do
> others think about this?

Will, what do you think? As this would need a bit of work at fontspec,
If it is OK, we (you :) can switch to the explicit "name:" and "file:"
syntax right away (bot are already supported), later we can restrict
old syntax to filename only lookup so things don't break.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From vafa at users.berlios.de  Sun Apr  4 14:15:32 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sun, 4 Apr 2010 22:15:32 +1000
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100404121240.GB29509@khaled-laptop>
References: <4BB5DD0E.5000801@elzevir.fr>
	 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
	 <20100402161439.GA12450@khaled-laptop>
	 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
	 <20100404103658.GD2850@khaled-laptop>
	 <s2jb5215f01004040339u740aa455p8e17cb0d88a50ff8@mail.gmail.com>
	 <20100404114601.GG2850@khaled-laptop>
	 <l2xb5215f01004040451vecbc63cdy3d826cfc2399cbdf@mail.gmail.com>
	 <z2tb5215f01004040459q9b60a712sa14bb78006b616a1@mail.gmail.com>
	 <20100404121240.GB29509@khaled-laptop>
Message-ID: <u2kb5215f01004040515o33a9b04ax4631b6e9bd8e396@mail.gmail.com>

> I don't see anything bidi specific here, and it definitely qualify for
> its own package.
>
>
In fact it is. Implementing footnotes from bidi perspective, is a bidi
matter. and it needs to be done by bidi.

-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100404/e07c7606/attachment.html>

From vafa at users.berlios.de  Sat Apr  3 03:58:01 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sat, 3 Apr 2010 12:58:01 +1100
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <FBAD5D62-98BF-45D9-B67D-A9EFC9C682D9@gmail.com>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
	 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
	 <20100401220536.GB12550@khaled-laptop>
	 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
	 <20100402055502.GA3562@khaled-laptop> <4BB5B9EA.5030201@elzevir.fr>
	 <t2pfe8d59da1004020247p8e703a8aw5f5f926cabda383d@mail.gmail.com>
	 <20100402161911.GB12450@khaled-laptop>
	 <k2rb5215f01004021838v8f7bd894sd592b9f54fd6bd9b@mail.gmail.com>
	 <FBAD5D62-98BF-45D9-B67D-A9EFC9C682D9@gmail.com>
Message-ID: <z2xb5215f01004021858w82c90ac9i733cd26a48fe5780@mail.gmail.com>

>
> How does bidi do this? Is it a rewrite of the output routine?
>
>
The trick I've performed here is to maintain a list the ht+dp of footnotes
inserted and the resolved direction of that footnote.  Then in the output
routine, from the ht+dp of the footins box and this list of mine, I can
figure out what the direction of the first footnote in this page is, and
which footnotes are actually put in this page, and update my list.

-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100403/004e72ed/attachment.html>

From wspr81 at gmail.com  Fri Apr  9 02:39:47 2010
From: wspr81 at gmail.com (Will Robertson)
Date: Fri, 9 Apr 2010 10:09:47 +0930
Subject: [lltx] [luaotfload] Footnotes
In-Reply-To: <20100408170745.GA32215@khaled-laptop>
References: <4BBC4AD6.2080305@gmail.com> <20100407095509.GA3437@khaled-laptop> <4BBCF447.2050603@gmail.com> <20100407231624.GA5067@khaled-laptop> <4BBDA8C8.9070407@gmail.com> <20100408121930.GB29952@khaled-laptop> <20100408170745.GA32215@khaled-laptop>
Message-ID: <2D4509D0-A9CE-4571-A71E-01D02DAAA3F8@gmail.com>

On 09/04/2010, at 2:37 AM, Khaled Hosny wrote:

>> One solution to this specific issue is to make the old font definition
>> syntax load only TFM fonts, and make loading system fonts only through
>> the extended syntax, so:
>> 
>> \font\tenrm=ec-lmr10 at 10pt
>> 
>> or the extended:
>> 
>> \font\tenrm=file:ec-lmr10 at 10pt
>> 
>> Will not consult font names database, so old code that expects TFM fonts
>> will continue to work as expected, while:
>> 
>> \font\tenrm={name:Latin Modern Roman} at 10pt
>> 
>> Would be required to load system (or texmf) fonts by name. What do
>> others think about this?
> 
> Will, what do you think? As this would need a bit of work at fontspec,
> If it is OK, we (you :) can switch to the explicit "name:" and "file:"
> syntax right away (bot are already supported), later we can restrict
> old syntax to filename only lookup so things don't break.


If it can be abstracted inside fontspec, I think this is a good solution.
Let's implement it and try it out.

The following defaults will happen, I think:

\fontspec{Latin Modern Roman} % <- name
\fontspec{ec-lmr10}           % <- name
\fontspec{ec-lmr10.otf}       % <- file (from the extension)
\fontspec[Path]{ec-lmr10}     % <- file

([Path] is the same as [ExternalLocation].)

This is the same as currently happens, so I can't see any problems.

-- Will



-- 
To unsubscribe, reply using "remove me" as the subject.


From g.duffner at gmail.com  Tue Apr  6 08:52:04 2010
From: g.duffner at gmail.com (Georg A. Duffner)
Date: Tue, 06 Apr 2010 08:52:04 +0200
Subject: [lltx] [fontspec] selecting font features has no effect?
In-Reply-To: <4BB74AA5.7050709@elzevir.fr>
References: <803fcee31003300449i5bd2b885rfbb8c630b79faf63@mail.gmail.com> <eba574421003300503h552fc4baof74d13eaa9ebf804@mail.gmail.com> <803fcee31003300515v1ff83334uf1d99e9e018a9314@mail.gmail.com> <20100330134241.GB3788@khaled-laptop> <y2p803fcee31003301907l3269fcdcjdeda943d88507df4@mail.gmail.com> <20100401215901.GA12550@khaled-laptop> <h2g803fcee31004011855z6f12c27cx4e8021b02da2d8bc@mail.gmail.com> <4BB66DFE.4000103@gmail.com> <20100402225651.GA12242@khaled-laptop> <4BB680AF.1080004@gmail.com> <20100403002131.GA13167@khaled-laptop> <4BB690BB.4090104@gmail.com> <4BB74AA5.7050709@elzevir.fr>
Message-ID: <4BBADA14.6060400@gmail.com>

Am 2010-04-03 16:03, schrieb Manuel P?gouri?-Gonnard:
> Georg A. Duffner a ?crit :
>> But the version of luatextra+luatexbase+luaextra that?s provided as a
>> dowlnoad by Manuel seems to be buggy. A version previous to that of 3/30
>> didn?t break these things. Perhaps this can be clarified in the
>> corresponding thread.
>>
> Can someone please provide a (minimal, if possible) example using only free
> fonts that works with TL's luatextra and breaks with the new version, so that I
> can investigate?

Here you are:

\documentclass[12pt]{article}
\usepackage{fontspec}
\setmainfont[Ligatures=TeX]{Linux Libertine O}
\begin{document}
``fi fl ffi--ffl---ff!`''
\end{document}

Regards
Georg


-- 
To unsubscribe, reply using "remove me" as the subject.


From luigi.scarso at gmail.com  Sun Apr  4 22:07:20 2010
From: luigi.scarso at gmail.com (luigi scarso)
Date: Sun, 4 Apr 2010 22:07:20 +0200
Subject: [lltx] Proposed: LuaLaTeX minimals
In-Reply-To: <4BB8D410.4070304@gmx.de>
References: <l2xfe8d59da1004020307k56851796va96170fc7fa6caf5@mail.gmail.com>
	 <20100402163105.GD12450@khaled-laptop> <4BB717CD.10506@gmx.de>
	 <u2nb5215f01004030327m1f46b98au1b6aa00081c59f0@mail.gmail.com>
	 <4BB8D410.4070304@gmx.de>
Message-ID: <z2gfe8d59da1004041307rbdea9811sad64e94c2897137b@mail.gmail.com>

On Sun, Apr 4, 2010 at 8:01 PM, Arno Trautmann <Arno.Trautmann at gmx.de> wrote:
> Although this gives me now 0.52 instead of 0.60 which I was hoping for
> today ;)
> But maybe this will be updated in the next days.
yes usually one/two day.
Anyway you can always download latest luatex from www.luatex.org



-- 
luigi


-- 
To unsubscribe, reply using "remove me" as the subject.


From g.duffner at gmail.com  Wed Apr  7 23:08:23 2010
From: g.duffner at gmail.com (Georg A. Duffner)
Date: Wed, 07 Apr 2010 23:08:23 +0200
Subject: [lltx] [luaotfload] Footnotes
In-Reply-To: <20100407095509.GA3437@khaled-laptop>
References: <4BBC4AD6.2080305@gmail.com> <20100407095509.GA3437@khaled-laptop>
Message-ID: <4BBCF447.2050603@gmail.com>

Am 2010-04-07 11:55, schrieb Khaled Hosny:
> On Wed, Apr 07, 2010 at 11:05:26AM +0200, Georg A. Duffner wrote:
>> There seems to be a problem with footnotes when using luaotfload.
>> The footnotemark in the text is rendered smaller but not
>> superscript.
>>
>> Example:
>>
>> \documentclass{article}
>> \usepackage{luaotfload}
>> \begin{document}
>> Text\footnote{footnote text}
>> \end{document}
>>
>> The error:
>> ! Math error: parameter \Umathquad\displaystyle is not set.
>> \@ensuredmath #1->$\relax #1$
>>
>> l.8 Text\footnote{
>>                    footnote text}
>> Sorry, but I can't typeset math unless various parameters have
>> been set. This is normally done by loading special math fonts
>> into the math family slots. Your font set is lacking at least
>> the parameter mentioned earlier.
>
> Most likely this is because you've a TTF version of CM math fonts that
> luaotfload is trying to load, and it is lacking such parameters. If you
> are running debian, do you've either ttf-lyx or latex-xft-fonts packages
> installed?
>


Well, you are partly right. This minimal example is using CM TTF fonts 
(and I have ttf-lyx installed, but not latex-xft-fonts). But the 
following examples are showing the same error (see attached logfile of #1):

1. using ?libertine? package with an adapted fd-file (see attachment)

\documentclass{article}
\usepackage[EU2]{fontenc}
\usepackage{luaotfload}
\usepackage{libertine}
\begin{document}
Text\footnote{footnote text}
\end{document}

2. using Linux Libertine OTF with fontspec

\documentclass{article}
\usepackage{fontspec}
\setmainfont{Linux Libertine O}
\begin{document}
Text\footnote{footnote text}
\end{document}

What I don?t understand: \textsuperscript sometimes does work and 
sometimes it doesn?t. The following sequences behave differently when 
inserted in the above examples:

a) Text\textsuperscript{a}\footnote{footnote text}\textsuperscript{2}
? ?a? small on baseline, ?1? (footnote mark) small on baseline, ?2? 
superscript

b) Text\textsuperscript{a}\textsuperscript{2}
? ?a? small on baseline, ?2? small on baseline

c) Text\textsuperscript{a\textsuperscript{2}}
? ?a? superscript, ?2? supersuperscript, no error.


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: eu2fxl.fd
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100407/8c2cceea/attachment.pl>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: footnote.log
Type: text/x-log
Size: 15756 bytes
Desc: not available
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100407/8c2cceea/attachment.bin>

From wspr81 at gmail.com  Sat Apr  3 03:48:39 2010
From: wspr81 at gmail.com (Will Robertson)
Date: Sat, 3 Apr 2010 12:18:39 +1030
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <k2rb5215f01004021838v8f7bd894sd592b9f54fd6bd9b@mail.gmail.com>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com> <20100401041739.GA5632@khaled-laptop> <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com> <20100401220536.GB12550@khaled-laptop> <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com> <20100402055502.GA3562@khaled-laptop> <4BB5B9EA.5030201@elzevir.fr> <t2pfe8d59da1004020247p8e703a8aw5f5f926cabda383d@mail.gmail.com> <20100402161911.GB12450@khaled-laptop> <k2rb5215f01004021838v8f7bd894sd592b9f54fd6bd9b@mail.gmail.com>
Message-ID: <FBAD5D62-98BF-45D9-B67D-A9EFC9C682D9@gmail.com>

On 03/04/2010, at 12:08 PM, Vafa Khalighi wrote:

> bidi implements this and  you always get the correct footnote rule, there is no way that you get the wrong footnote rule. and this only requires one run of latex. but there are similar packages which are disappointed of doing this and requires two run of latex and they use a very bad approach and that is writing to .aux.

How does bidi do this? Is it a rewrite of the output routine?

-- Will



-- 
To unsubscribe, reply using "remove me" as the subject.


From vafa at users.berlios.de  Sat Apr  3 03:45:39 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sat, 3 Apr 2010 12:45:39 +1100
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100402162716.GC12450@khaled-laptop>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
	 <20100401041739.GA5632@khaled-laptop>
	 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
	 <20100401220536.GB12550@khaled-laptop>
	 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
	 <20100402055502.GA3562@khaled-laptop> <4BB5B9EA.5030201@elzevir.fr>
	 <20100402113402.GA5163@khaled-laptop>
	 <x2vb5215f01004020504h36c6afc3gdbbd485e6dbdabde@mail.gmail.com>
	 <20100402162716.GC12450@khaled-laptop>
Message-ID: <y2rb5215f01004021845t31feca36xd00a750219715104@mail.gmail.com>

>
> Specials is a big deal, having documents with broken links, annotations
> etc. is a no no for me, and I mainly do interactive not print documents.
>


specials to a great extent are fixed in bidi. More than that, is not
possible with macro programming.



> The other main issue is the need to explicitly support every package,
> so if some package I need is not yet supported by bidi, then I'm left
> alone in the cold. Lastly,



No, because firstly bidi supports most commonly-used packages and secondly
if there is a package that it does not support, you can look at a similar
adaptation of bidi and thirdly, you can ask me to support that specific
package.




-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100403/5eda4875/attachment.html>

From mpg at elzevir.fr  Fri Apr  2 11:33:30 2010
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Fri, 02 Apr 2010 11:33:30 +0200
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100402055502.GA3562@khaled-laptop>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com> <20100401041739.GA5632@khaled-laptop> <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com> <20100401220536.GB12550@khaled-laptop> <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com> <20100402055502.GA3562@khaled-laptop>
Message-ID: <4BB5B9EA.5030201@elzevir.fr>

[quotations re-ordered]

Khaled Hosny a ?crit :
> On Fri, Apr 02, 2010 at 11:37:45AM +1100, Vafa Khalighi wrote:
>> 1- Tex macro programming is not a disadvantage, it actually is an art to do
>> macro programming.
> 
> Any one who wrote or maintained a reasonably complex tex macro code
> knows it is pain to write, pain to understand and pain to maintain, the
> main idea behind luatex is to give tex a sane programming language which
> we all know tex mcros isn't.
> 
I tend to disagree with this restrictive vision of LuaTeX. To me, the biggest
advantage of LuaTeX over all other engines is to open up some internals of TeX.
I would have called the project OpenTeX :-) Having a saner programming language
is only the second-biggest advantage to me. (And of course, native support for
Unicode, including math, is also a enormous advantage over pdfTeX.)

By the way, I agree with you that in general Lua is a "better" programming
language than TeX (which wasn't precisely designed as a programming language
btw), but:
- Great things have been done and successfully maintained with TeX. It's a
tricky language, but a lot of tricks are now pretty standard, if you take the
time to read and study code of experienced TeX programmers before starting
writing your own (which is a good idea in any language btw).
- Most experienced programmers agree that the quality of a code depends much
more on the skills of its author than the language it is written in.

Therefore, I quite strongly disagree with your habit of saying "it's written in
TeX, it can't be good, it should be rewritten in Lua". (Ok, I'm quite quick at
calling it an habit, it's only the second occurrence, the first being microtype.)

By the way, concerning the advantages/disavantages of LuaTeX, it's worth noting
that LuaTeX's overall complexity is bigger that other engines, since you need to
understand /both/ TeX and Lua languages in order to be a good LuaTeX programmer.
(Though maybe you don't need to be as good with TeX as previously, you just
can't ignore TeX rules for lexical analysis (catcodes etc) and development.)

>> 2- bidi is not overloaded by TeX macros.
> 
> It is, more than 7000 lines of tex macro to implement such basic thing
> as reversing document layout is a bit overload to me, and one still
> needs to mark rtl or ltr runs explicitly.
> 
Here you're basically telling Vafa that what he did is very basic but that he
nevertheless used a lot of code to do it. Maybe you're thinking that it's TeX's
fault, not Vafa's, but maybe you're implying that Vafa is a bad programmer (I
hope the first option is correct).

>> 3- bidi does not copy codes from other packages verbatim.
> 
> It does, or what all those *-bidi.def files, with thousands of lines
> redefining internal macros of other packages then?
> 
It's not copied verbatim (unless we have different definitions of verbatim), the
whole point is to modify the macros, in order to insert bidi instructions where
they are needed. It implies copying some of the code, and writing in TeX, yes,
but what else do you want to do?

It may displease you, but that's the way things go in the LaTeX world. Most
packages don't anticipate future developments and don't provide hooks for other
packages, so that big fundamental packages such as bidi, tex4ht, hyperref and
others need to redefine other package's internals in order to get the job done.
(Ideally a lot of this should be in the kernel, but it is not and you have to
make things work anyway.) At first glance, the way bidi does this is the most
correct way to do it.

I see it as a big advantage of bidi, from a user's point of view (and users are
more important than programmers), since it means things "just work". Taking care
of this require time and usually quite a lot of user feedback, which is of great
value. Again, this value would probably be lost by rewriting form scratch. This
is why it is almost always a bad idea to rewrite things from scratch, from a
software engineering point of view. (And, mind you, saying "I don't understand
why things are done this way, it looks too complicated to me, and it's not
written in my favourite language, so I'll just rewrite it" is a common mistake
of young software developers.) (You may argue that some engineering paradigms
such as extreme programming suggest frequent rewrite from scratch, but they
require to do it in a way that accumulated experience doesn't get lost in the
process.)

> I were not aware that criticizing the shortcomings of tex macros (that
> everyone knows and admit) and old engines is not showing respect for
> others work. If bidi, xetex and programming in tex was so good, I would
> have saved my self the trouble and just used xetex.
> 
See, you're again implying that bidi is no so good...


Well, to sum up: from a technical point of view, I'm against rewriting from
scratch without a good reason. In general, I think it's best, when something for
XeTeX already exists, to write a "compatibility layer" (such as luaotfload), and
then reuse existing macros (such as fontspec). Don't forget that user interface
and interaction with other packages always take much more lines of code than one
would think (and, unfortunately for you, most of it has to be done in TeX).

Now, from a personnal point of view:

> On Fri, Apr 02, 2010 at 11:37:45AM +1100, Vafa Khalighi wrote:
>> Thanks. Just to answer your insulting email:

I wouldn't call it insulting, but I nevertheless find it offending, and I think
you (Khaled) should try to be more diplomatic in the way you write things,
especially when it comes to the value of other's work. (From a technical point
of view, I think you're underestimating it as I explained, but even if Vafa's
work actually wasn't valuable, a little bit of diplomacy never hurts.)

Manuel.



-- 
To unsubscribe, reply using "remove me" as the subject.


From mpg at elzevir.fr  Sun Apr 25 12:41:45 2010
From: mpg at elzevir.fr (=?ISO-8859-1?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Sun, 25 Apr 2010 12:41:45 +0200
Subject: [lltx] luaotfload cache file location
In-Reply-To: <20100410222102.GA2374@khaled-laptop>
References: <4BC06DBA.3000404@elzevir.fr> <20100410222102.GA2374@khaled-laptop>
Message-ID: <4BD41C69.1010306@elzevir.fr>

Hi,

I just realise I didn't reply yet. Sorry for the delay.

Le 11/04/2010 00:21, Khaled Hosny a ?crit :
>> TEXMVAR/luatex-cache/latex/names
>>
>> I don't understand why "latex", since luaotfload is a generic package. Also, I
>> feel like the "names" component is vague and doesn't add any information.
>
> It doesn't need to make sense, the path is used internally and should
> not concern the user (as they weren't concerned about the path of cached
> PK fonts), but your both points are valid and a better suggestion is
> welcomed (we used 'latex' as opposed to 'context', and plain 'names'
> because I was thinking it is a font only cache, so it wasn't ambiguous.)
>
You're right, the name is internal. However, making more sense couldn't hurt 
IMO. I'd suggest

TEXMVAR/luatex/generic/luaotfload/

following the standard TDS layout: program/type/package.

Manuel.


-- 
Subscription settings: http://groups.google.com/group/lualatex-dev/subscribe?hl=en


From mpg at elzevir.fr  Sat Apr  3 16:03:17 2010
From: mpg at elzevir.fr (=?windows-1252?Q?Manuel_P=E9gouri=E9-Gonnard?=)
Date: Sat, 03 Apr 2010 16:03:17 +0200
Subject: [lltx] [fontspec] selecting font features has no effect?
In-Reply-To: <4BB690BB.4090104@gmail.com>
References: <803fcee31003300449i5bd2b885rfbb8c630b79faf63@mail.gmail.com> <eba574421003300503h552fc4baof74d13eaa9ebf804@mail.gmail.com> <803fcee31003300515v1ff83334uf1d99e9e018a9314@mail.gmail.com> <20100330134241.GB3788@khaled-laptop> <y2p803fcee31003301907l3269fcdcjdeda943d88507df4@mail.gmail.com> <20100401215901.GA12550@khaled-laptop> <h2g803fcee31004011855z6f12c27cx4e8021b02da2d8bc@mail.gmail.com> <4BB66DFE.4000103@gmail.com> <20100402225651.GA12242@khaled-laptop> <4BB680AF.1080004@gmail.com> <20100403002131.GA13167@khaled-laptop> <4BB690BB.4090104@gmail.com>
Message-ID: <4BB74AA5.7050709@elzevir.fr>

Georg A. Duffner a ?crit :
> But the version of luatextra+luatexbase+luaextra that?s provided as a
> dowlnoad by Manuel seems to be buggy. A version previous to that of 3/30
> didn?t break these things. Perhaps this can be clarified in the
> corresponding thread.
> 
Can someone please provide a (minimal, if possible) example using only free
fonts that works with TL's luatextra and breaks with the new version, so that I
can investigate?

Thanks,
Manuel.


-- 
To unsubscribe, reply using "remove me" as the subject.


From vafa at users.berlios.de  Sat Apr  3 03:38:53 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sat, 3 Apr 2010 12:38:53 +1100
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <20100402161911.GB12450@khaled-laptop>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
	 <20100401041739.GA5632@khaled-laptop>
	 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
	 <20100401220536.GB12550@khaled-laptop>
	 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
	 <20100402055502.GA3562@khaled-laptop> <4BB5B9EA.5030201@elzevir.fr>
	 <t2pfe8d59da1004020247p8e703a8aw5f5f926cabda383d@mail.gmail.com>
	 <20100402161911.GB12450@khaled-laptop>
Message-ID: <k2rb5215f01004021838v8f7bd894sd592b9f54fd6bd9b@mail.gmail.com>

>
> Essentially the same here, I'm fine with using tex macros for
> typesetting, I even find it a very powerful feature of tex, but using it
> to string manipulation or implementing algorithms etc. is something I'd
> never do in my right mind. Tex macro as an interface layer is fine too,
> but I'd rather strip it to the most minimum required.
>
>
We all know page breaking in TeX in unpredicted and any algorithm that has
to deal with page breaking is hard to implement even in lua, right? now,
 bidi has a feature that has to do with page breaking and it is automatic
footnote rule. If the first footnote in a page is RTL, the footnote rule is
on right hand side, no matter what other footnotes on that specific page are
and if the first footnote in a page is LTR, the footnote rule on that
specfic page is on the left hand side, no matter what other footnotes on
that page are. bidi implements this and  you always get the correct footnote
rule, there is no way that you get the wrong footnote rule. and this only
requires one run of latex. but there are similar packages which are
disappointed of doing this and requires two run of latex and they use a very
bad approach and that is writing to .aux. bidi implementation of automatic
footnote rule is a good example of how complex algorithms can be done by TeX
macros. If interested, look at footnote-bidi.def for implementation.

-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100403/51c481f3/attachment.html>

From khaledhosny at eglug.org  Wed Apr  7 11:55:09 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Wed, 7 Apr 2010 11:55:09 +0200
Subject: [lltx] [luaotfload] Footnotes
In-Reply-To: <4BBC4AD6.2080305@gmail.com>
References: <4BBC4AD6.2080305@gmail.com>
Message-ID: <20100407095509.GA3437@khaled-laptop>

On Wed, Apr 07, 2010 at 11:05:26AM +0200, Georg A. Duffner wrote:
> There seems to be a problem with footnotes when using luaotfload.
> The footnotemark in the text is rendered smaller but not
> superscript.
> 
> Example:
> 
> \documentclass{article}
> \usepackage{luaotfload}
> \begin{document}
> Text\footnote{footnote text}
> \end{document}
> 
> The error:
> ! Math error: parameter \Umathquad\displaystyle is not set.
> \@ensuredmath #1->$\relax #1$
> 
> l.8 Text\footnote{
>                   footnote text}
> Sorry, but I can't typeset math unless various parameters have
> been set. This is normally done by loading special math fonts
> into the math family slots. Your font set is lacking at least
> the parameter mentioned earlier.

Most likely this is because you've a TTF version of CM math fonts that
luaotfload is trying to load, and it is lacking such parameters. If you
are running debian, do you've either ttf-lyx or latex-xft-fonts packages
installed?

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From vafa at users.berlios.de  Sun Apr  4 13:05:00 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Sun, 4 Apr 2010 21:05:00 +1000
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <k2gb5215f01004040350kf91c94aerd353307d2116d0d5@mail.gmail.com>
References: <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
	 <20100402113402.GA5163@khaled-laptop> <4BB5DD0E.5000801@elzevir.fr>
	 <20100402122340.GA6035@khaled-laptop>
	 <i2lb5215f01004020526j53435cf4wec7de88210e2610e@mail.gmail.com>
	 <20100402161439.GA12450@khaled-laptop>
	 <t2tb5215f01004021825jbb127107t9002a7662d0de2e5@mail.gmail.com>
	 <j2sb5215f01004021830w2c8e38ebu2b5522006986da93@mail.gmail.com>
	 <20100404104544.GE2850@khaled-laptop>
	 <k2gb5215f01004040350kf91c94aerd353307d2116d0d5@mail.gmail.com>
Message-ID: <i2lb5215f01004040405m344ba6b3z97043353a7778b67@mail.gmail.com>

Now, hopefully, you can see why bidi is more than 7000 of TeX macros, for a
small thing such as tabular, you have got to do too many macro programming.
Yes, bidi implementation sounds easy but in practice it is the most
complicated and frustrating kind of macro programming. The hardest part is
that you should be doing things carefully and clearly so that it meets the
needs of every single bidi user.

But this is luatex, bidi implementation in xetex is much worser and harder
for xetex where you only have \beginL, \endL, \beginR and \endR but plenty
of things to fix. Making tabular in luatex, is super-easy but making it RTL
in xetex is a pain, especially when you notice that you are the only one
doing this and you know just more than anybody else. Again, this is just
tabular, a small fraction of what you have got to fix. There are heaps of
other things to fix.


-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100404/98a38af1/attachment.html>

From khaledhosny at eglug.org  Fri Apr  2 18:31:05 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Fri, 2 Apr 2010 18:31:05 +0200
Subject: [lltx] Proposed: LuaLaTeX minimals
In-Reply-To: <l2xfe8d59da1004020307k56851796va96170fc7fa6caf5@mail.gmail.com>
References: <l2xfe8d59da1004020307k56851796va96170fc7fa6caf5@mail.gmail.com>
Message-ID: <20100402163105.GD12450@khaled-laptop>

On Fri, Apr 02, 2010 at 12:07:10PM +0200, luigi scarso wrote:
> I suppose we all know context minimals.
> I find it a good way to test luatex + context.
> 
> Until now, to test luaLatex by my own, I download a context minimals
> insert somewhere a latex/base/* branch and integrate with missing files.
> It's not  so difficult  --- only annoying.
> 
> It's should be nice to have a sort of luaLaTeX minimals .

I was thinking in this too, but in different way; having a lualatex
texlive repository with additional packages or updated versions than
those in texlive, so one can install texlive (this can be any scheme)
and updated lualatex packages from our repo, but I don't know enough
about tlmgr and its package repositories to do it myself (nor do I know
where to host it).

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
To unsubscribe, reply using "remove me" as the subject.


From vafa at users.berlios.de  Fri Apr  2 14:12:45 2010
From: vafa at users.berlios.de (Vafa Khalighi)
Date: Fri, 2 Apr 2010 23:12:45 +1100
Subject: [lltx] bidi package extended for LuaLaTeX
In-Reply-To: <x2vb5215f01004020504h36c6afc3gdbbd485e6dbdabde@mail.gmail.com>
References: <fb103648-8085-47a2-9877-372e1ad74e48@x12g2000yqx.googlegroups.com>
	 <20100401041739.GA5632@khaled-laptop>
	 <i2qb5215f01003312120taf6d147zc958930c9622ede5@mail.gmail.com>
	 <20100401220536.GB12550@khaled-laptop>
	 <k2ub5215f01004011737y3d9abe43y86f178e8b34fc766@mail.gmail.com>
	 <20100402055502.GA3562@khaled-laptop> <4BB5B9EA.5030201@elzevir.fr>
	 <20100402113402.GA5163@khaled-laptop>
	 <x2vb5215f01004020504h36c6afc3gdbbd485e6dbdabde@mail.gmail.com>
Message-ID: <y2qb5215f01004020512o55cc0913g12440d4044bffa66@mail.gmail.com>

Just to let you know, I talked to taco about implementing unicode
bidirectional algorithm and taco said it is better that I wait untill luatex
0.70 is released.

"As I have written on the dev-luatex mailing list in the past, we are not
quite happy with our inherited direction code from Aleph (Omega). See
for example these tracker items :

 http://tracker.luatex.org/view.php?id=306
 http://tracker.luatex.org/view.php?id=301
 http://tracker.luatex.org/view.php?id=232

The Aleph subsystem is more flexible than the \beginL/R from pdftex,
but nevertheless it has a number of oddities that are hard to work with.

You'll see that the trackers above are marked for version 0.70 (that
will be fall 2010) so the changes resulting from them will be too late
for this year's texlive. It appears unavoidable that direction support
luatex in 0.70 will be backward incompatible with 0.60.

Because of this, it may be counterproductive to spend much of your time
on implementing the unicode bidi algorithm in lua right now. My advice
would be to use active characters for text direction switches, and stick
to macro-based solutions for paragraph, math and page body setups. Just
so you won't have to redo lots of lua code next year."

-- 
Best wishes,
Vafa Khalighi


-- 
To unsubscribe, reply using "remove me" as the subject.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20100402/62048339/attachment.html>

From khaledhosny at eglug.org  Tue Apr 27 12:44:38 2010
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Tue, 27 Apr 2010 12:44:38 +0200
Subject: [lltx] luaotfload cache file location
In-Reply-To: <y2oeba574421004270017w989585d0r2319a8e572d26b9e@mail.gmail.com>
References: <4BC06DBA.3000404@elzevir.fr>
 <20100410222102.GA2374@khaled-laptop>
 <4BD41C69.1010306@elzevir.fr>
 <20100426144258.GB3394@khaled-laptop>
 <4A0BC393-0287-42FB-A8C0-B72C28FEDF27@gmail.com>
 <y2oeba574421004270017w989585d0r2319a8e572d26b9e@mail.gmail.com>
Message-ID: <20100427104438.GA2419@khaled-laptop>

On Tue, Apr 27, 2010 at 10:17:37AM +0300, ?lie Roux wrote:
> 2010/4/27 Will Robertson <wspr81 at gmail.com>:
> >
> > Looks sensible to me.
> > Consider this a non-objection :)
> 
> No objection on my side neither.

OK, done.

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer


-- 
Subscription settings: http://groups.google.com/group/lualatex-dev/subscribe?hl=en


