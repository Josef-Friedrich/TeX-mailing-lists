From texworld at laposte.net  Sat Jan  1 22:03:37 2011
From: texworld at laposte.net (TeXWorld)
Date: Sat, 01 Jan 2011 22:03:37 +0100
Subject: [lltx] rand feature in fontspec / microtype
In-Reply-To: <67BBDE3B-7A74-4A29-8D83-EBFAE315FE96@gundla.ch>
References: <4D1DB904.7070307@gmx.de>
 <EBC70BB8-44F2-4CAF-B991-B7144B5AC092@gundla.ch> <4D1DC3BD.7080300@gmx.de>
 <67BBDE3B-7A74-4A29-8D83-EBFAE315FE96@gundla.ch>
Message-ID: <4D1F96A9.6050605@laposte.net>

Le 31/12/2010 13:05, Patrick Gundlach a ?crit :
>
> Am 31.12.2010 um 12:51 schrieb Arno Trautmann:
>
>> Patrick Gundlach wrote:
>>>> Something quite different: What are the reasons that there is no support
>>>> f?r microtype in fontspec so far?
>>> The microtype package (beta version) and fontspec seem to work fine together.
>> Which version?
> 2.5 beta-04
>
> http://xetex.tk/mediawiki/index.php/Microtype_package_(preliminary_version)
>
>
> \documentclass[10pt]{article}
> \usepackage[english]{babel}
> \usepackage{fontspec}
> \usepackage{microtype}
> \usepackage{blindtext}
>
> \begin{document}
> \begin{minipage}{3.7cm}
> \blindtext
> \end{minipage}
> \end{document}
>
> Patrick
>
Hello,

Do you know where a roadmap of the microtype package can be found.
Robert Schlicht seems to pay attention to the evolutions of luatex, 
xetex and fontspec.
I'd like to know when spacing and tracking features will be available.


From patrick at gundla.ch  Sun Jan  2 08:58:08 2011
From: patrick at gundla.ch (Patrick Gundlach)
Date: Sun, 2 Jan 2011 08:58:08 +0100
Subject: [lltx] rand feature in fontspec / microtype
In-Reply-To: <4D1F96A9.6050605@laposte.net>
References: <4D1DB904.7070307@gmx.de>
 <EBC70BB8-44F2-4CAF-B991-B7144B5AC092@gundla.ch> <4D1DC3BD.7080300@gmx.de>
 <67BBDE3B-7A74-4A29-8D83-EBFAE315FE96@gundla.ch>
 <4D1F96A9.6050605@laposte.net>
Message-ID: <FE330E49-9DEE-4F22-A0E3-AB6E3FD70AAB@gundla.ch>


> Do you know where a roadmap of the microtype package can be found.

Not that I am aware of.

Patrick


From texworld at laposte.net  Sat Jan  8 20:57:07 2011
From: texworld at laposte.net (TeXWorld)
Date: Sat, 08 Jan 2011 20:57:07 +0100
Subject: [lltx] Little problem with the Modern Monotype Std Extended italic
	and fontspec
Message-ID: <4D28C193.9010603@laposte.net>

Hello,

I'd like to report a little problem with fontspec and LuaLaTeX.
The following code works fine with XeLaTeX but with LuaLaTeX, the second 
paragraph of the second column stays in roman whereas it should be in 
italic :


\documentclass[12pt]{article}

\usepackage{fontspec,lipsum,multicol}

\usepackage[left=1cm,right=1cm,top=1cm,bottom=1cm]{geometry}

\pagestyle{empty}

\begin{document}

\begin{multicols}{2}

\lipsum[1]

\textit{\lipsum[1]}

\columnbreak

\fontspec{ModernMTStd-Extended}

\lipsum[1]

\textit{\lipsum[1]}

\end{multicols}

\end{document}



I use TL2010 up to date with TLContrib on Windows Seven : LuaTeX v0.65



Jack


From khaledhosny at eglug.org  Sat Jan  8 22:12:40 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Sat, 8 Jan 2011 23:12:40 +0200
Subject: [lltx] Little problem with the Modern Monotype Std Extended
 italic and fontspec
In-Reply-To: <4D28C193.9010603@laposte.net>
References: <4D28C193.9010603@laposte.net>
Message-ID: <20110108211240.GA5856@khaled-laptop>

On Sat, Jan 08, 2011 at 08:57:07PM +0100, TeXWorld wrote:
> Hello,
> 
> I'd like to report a little problem with fontspec and LuaLaTeX.
> The following code works fine with XeLaTeX but with LuaLaTeX, the
> second paragraph of the second column stays in roman whereas it
> should be in italic :
> 
> 
> \documentclass[12pt]{article}
> 
> \usepackage{fontspec,lipsum,multicol}
> 
> \usepackage[left=1cm,right=1cm,top=1cm,bottom=1cm]{geometry}
> 
> \pagestyle{empty}
> 
> \begin{document}
> 
> \begin{multicols}{2}
> 
> \lipsum[1]
> 
> \textit{\lipsum[1]}
> 
> \columnbreak
> 
> \fontspec{ModernMTStd-Extended}
> 
> \lipsum[1]
> 
> \textit{\lipsum[1]}
> 
> \end{multicols}
> 
> \end{document}
> 
> 
> 
> I use TL2010 up to date with TLContrib on Windows Seven : LuaTeX v0.65

Could you please test with luatex 0.60 and see if it makes any
difference?

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer

From texworld at laposte.net  Sun Jan  9 09:43:43 2011
From: texworld at laposte.net (TeXWorld)
Date: Sun, 09 Jan 2011 09:43:43 +0100
Subject: [lltx] Little problem with the Modern Monotype Std Extended
 italic and fontspec
In-Reply-To: <20110108211240.GA5856@khaled-laptop>
References: <4D28C193.9010603@laposte.net>
 <20110108211240.GA5856@khaled-laptop>
Message-ID: <4D29753F.4090704@laposte.net>

Le 08/01/2011 22:12, Khaled Hosny a ?crit :
> On Sat, Jan 08, 2011 at 08:57:07PM +0100, TeXWorld wrote:
>> Hello,
>>
>> I'd like to report a little problem with fontspec and LuaLaTeX.
>> The following code works fine with XeLaTeX but with LuaLaTeX, the
>> second paragraph of the second column stays in roman whereas it
>> should be in italic :
>>
>>
>> \documentclass[12pt]{article}
>>
>> \usepackage{fontspec,lipsum,multicol}
>>
>> \usepackage[left=1cm,right=1cm,top=1cm,bottom=1cm]{geometry}
>>
>> \pagestyle{empty}
>>
>> \begin{document}
>>
>> \begin{multicols}{2}
>>
>> \lipsum[1]
>>
>> \textit{\lipsum[1]}
>>
>> \columnbreak
>>
>> \fontspec{ModernMTStd-Extended}
>>
>> \lipsum[1]
>>
>> \textit{\lipsum[1]}
>>
>> \end{multicols}
>>
>> \end{document}
>>
>>
>>
>> I use TL2010 up to date with TLContrib on Windows Seven : LuaTeX v0.65
> Could you please test with luatex 0.60 and see if it makes any
> difference?
>
> Regards,
>   Khaled
>

Hello Khaled,

No it doesn't make any with 0.60.0 (rev 3588)


From oinos at web.de  Mon Jan 10 18:19:44 2011
From: oinos at web.de (=?ISO-8859-1?Q?Pablo_Rodr=EDguez?=)
Date: Mon, 10 Jan 2011 18:19:44 +0100
Subject: [lltx] bug in LuaLaTeX
Message-ID: <4D2B3FB0.8020201@web.de>

Hi there,

I experience a weird bug in LuaLaTeX with this minimal document:

\documentclass{minimal}
\usepackage{fontspec}
\begin{document}
Hi, this is my document.
\end{document}

that gives me the following error:

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!
! This is a LaTeX bug: check coding!
!
! Command `\lua_shipout_x:n' not yet defined!
!
! See the LaTeX3 documentation for further information.
! For immediate help type H <return>.
!...............................................

l.68 \cs_generate_variant:Nn \lua_shipout_x:n
                                               { x }
?

I'm using TL 2010 and I updated it today (I use luatex and metapost from 
TLContrib).

I'm experiencing the bug since the latest TL update.

I'd really appreciate it, if you could fix it.

Thanks for your help,


Pablo
-- 
http://www.ousia.tk

From khaledhosny at eglug.org  Mon Jan 10 18:51:07 2011
From: khaledhosny at eglug.org (Khaled Hosny)
Date: Mon, 10 Jan 2011 19:51:07 +0200
Subject: [lltx] bug in LuaLaTeX
In-Reply-To: <4D2B3FB0.8020201@web.de>
References: <4D2B3FB0.8020201@web.de>
Message-ID: <20110110175107.GA12028@khaled-laptop>

On Mon, Jan 10, 2011 at 06:19:44PM +0100, Pablo Rodr?guez wrote:
> Hi there,
> 
> I experience a weird bug in LuaLaTeX with this minimal document:
> 
> \documentclass{minimal}
> \usepackage{fontspec}
> \begin{document}
> Hi, this is my document.
> \end{document}
> 
> that gives me the following error:
> 
> !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
> !
> ! This is a LaTeX bug: check coding!
> !
> ! Command `\lua_shipout_x:n' not yet defined!
> !
> ! See the LaTeX3 documentation for further information.
> ! For immediate help type H <return>.
> !...............................................
> 
> l.68 \cs_generate_variant:Nn \lua_shipout_x:n
>                                               { x }
> ?
> 
> I'm using TL 2010 and I updated it today (I use luatex and metapost
> from TLContrib).
> 
> I'm experiencing the bug since the latest TL update.
> 
> I'd really appreciate it, if you could fix it.

Looks like a known latex3 bug that is already fixed and the fix is in
its way into CTAN.

Next time, please forward latex3 bugs to latex3 developers (note the
reference to latex3 in the error message) as I don't think many of them
are reading this list.

Regards,
 Khaled

-- 
 Khaled Hosny
 Arabic localiser and member of Arabeyes.org team
 Free font developer

From Arno.Trautmann at gmx.de  Fri Jan 14 20:07:21 2011
From: Arno.Trautmann at gmx.de (Arno Trautmann)
Date: Fri, 14 Jan 2011 20:07:21 +0100
Subject: [lltx] rand feature in fontspec / microtype
In-Reply-To: <4D1DD724.4020905@elzevir.fr>
References: <4D1DB904.7070307@gmx.de>
 <EBC70BB8-44F2-4CAF-B991-B7144B5AC092@gundla.ch> <4D1DC3BD.7080300@gmx.de>
 <67BBDE3B-7A74-4A29-8D83-EBFAE315FE96@gundla.ch> <4D1DCDDB.9070701@gmx.de>
 <4D1DD724.4020905@elzevir.fr>
Message-ID: <4D309EE9.8040804@gmx.de>

Hi all!

Manuel P?gouri?-Gonnard wrote:
> Le 31/12/2010 13:34, Arno Trautmann a ?crit :
>> Why are such things not on TLcontrib? :(
>> That would make testing so much easier ?
>>
> You should probably suggest it to microtype's author, maybe he didn't think
> about it, or doesn't have time to get familiar with tlcrontib but would
> appreciate someone else doing the job, etc.

Indeed he did not know about TLContrib (he doesn't use TeXlive). But now
he uploaded the latest version successfully and a first test on my
machine was fine.

cheers
Arno

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 262 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20110114/1102f7a6/attachment.bin>

From Damien.Robert__sent01 at normalesup.org  Fri Jan 21 17:08:23 2011
From: Damien.Robert__sent01 at normalesup.org (Damien Robert)
Date: Fri, 21 Jan 2011 17:08:23 +0100
Subject: [lltx] luacolor bug
In-Reply-To: <20101211190147.GA8418@oberdiek.my-fqdn.de>
References: <20101210210214.GA6629@phare.normalesup.org>
 <4D03A9E3.6000603@elzevir.fr> <20101211190147.GA8418@oberdiek.my-fqdn.de>
Message-ID: <20110121160823.GA26019@phare.normalesup.org>

>From Heiko Oberdiek, the Sat 11 Dec 2010 at 20:01:48 (+0100):
> > > luacolor breaks the Tex Ligatures. [...]
> I have already read it and have started experimenting, but no time
> to finish. At least it seems to work, if luacolor is loaded
> before fontspec.

Hi again, and thanks a lot for the answers by the way.

I have found a new case where luacolor break Tex Ligatures (and microtyping
I think), even if it is loaded before fontspec:

\documentclass{minimal}
\usepackage{luacolor}                                                         
\usepackage{fontspec}                                                         
\usepackage{xcolor}
\defaultfontfeatures{Ligatures=TeX}                                           
\setmainfont{Latin Modern Roman}                                              
\begin{document}                                                              
Foo--Bar---Foo                                                                
\end{document}                                                                

Using \let\newattribute\newluatexattribute
before luacolor does not work.

The funny thing is that a workaround is to load xcolor before fontspec
(this is funny because I would have though it would require to be loaded
before luacolor).

From heiko.oberdiek at googlemail.com  Fri Jan 21 18:23:57 2011
From: heiko.oberdiek at googlemail.com (Heiko Oberdiek)
Date: Fri, 21 Jan 2011 18:23:57 +0100
Subject: [lltx] luacolor bug
In-Reply-To: <20110121160823.GA26019@phare.normalesup.org>
References: <20101210210214.GA6629@phare.normalesup.org>
 <4D03A9E3.6000603@elzevir.fr>
 <20101211190147.GA8418@oberdiek.my-fqdn.de>
 <20110121160823.GA26019@phare.normalesup.org>
Message-ID: <20110121172357.GA17479@oberdiek.my-fqdn.de>

On Fri, Jan 21, 2011 at 05:08:23PM +0100, Damien Robert wrote:

> >From Heiko Oberdiek, the Sat 11 Dec 2010 at 20:01:48 (+0100):
> > > > luacolor breaks the Tex Ligatures. [...]
> > I have already read it and have started experimenting, but no time
> > to finish. At least it seems to work, if luacolor is loaded
> > before fontspec.
> 
> Hi again, and thanks a lot for the answers by the way.
> 
> I have found a new case where luacolor break Tex Ligatures (and microtyping
> I think), even if it is loaded before fontspec:

It is fixed in the new version, however the new version isn't
released yet (probably end of month).

Yours sincerely
  Heiko Oberdiek

From wspr81 at gmail.com  Sat Jan 29 05:04:15 2011
From: wspr81 at gmail.com (Will Robertson)
Date: Sat, 29 Jan 2011 14:34:15 +1030
Subject: [lltx] quietening lualatex console output
Message-ID: <D44C50FD-4118-4B3C-8157-EEE3EBE2A798@gmail.com>

Hi,

When I run a unicode-math document with LuaLaTeX, here's the console output I get purely related to loading the various Lua stuff:

(/usr/local/texlive/2010/texmf-dist/tex/luatex/luaotfload/luaotfload.sty
(/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase.sty
(/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase-compat.sty
)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase-loader.sty
(/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase.loader.lua
))
(/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase-regs.sty)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase-attr.sty
(/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/attr.lua))
(/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase-cctb.sty
(/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/cctb.lua))
(/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase-mcb.sty
(/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase-modutils.s
ty
(/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/modutils.lua))
(/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/mcb.lua)))
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-string.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-lpeg.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-boolean.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-number.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-math.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-table.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-aux.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-io.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-os.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-file.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-md5.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-dir.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-unicode.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-utils.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-dimen.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-url.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-set.lua)
(/usr/local/texlive/2010/texmf-dist/tex/luatex/luaotfload/luaotfload.lua)(using
 cache: /Users/will/Library/texlive/2010/texmf-var/luatex-cache/generic)
Module luatexbase-mcb info: inserting 'luaotfload.pre_linebreak_filter'
(luatexbase-mcb)            at position 1 in 'pre_linebreak_filter'
Module luatexbase-mcb info: inserting 'luaotfload.hpack_filter'
(luatexbase-mcb)            at position 1 in 'hpack_filter'
Module luatexbase-mcb info: resetting callback 'define_font'
Module luatexbase-mcb info: inserting 'luaotfload.define_font'
(luatexbase-mcb)            at position 1 in 'define_font'
Module luatexbase-mcb info: inserting 'luaotfload.find_vf_file'
(luatexbase-mcb)            at position 1 in 'find_vf_file'
)


Is there any way to make this quieter? (Can lua files be loaded from lua without being printed in the console output?)

I'm working on making the output from loading expl3 smaller as well (if Frank and Joseph will go for it) by concatenating all the individual .sty files into one big expl3.sty.

Cheers,
-- Will



From taco at elvenkind.com  Sat Jan 29 10:33:06 2011
From: taco at elvenkind.com (Taco Hoekwater)
Date: Sat, 29 Jan 2011 10:33:06 +0100
Subject: [lltx] quietening lualatex console output
In-Reply-To: <D44C50FD-4118-4B3C-8157-EEE3EBE2A798@gmail.com>
References: <D44C50FD-4118-4B3C-8157-EEE3EBE2A798@gmail.com>
Message-ID: <4D43DED2.2040206@elvenkind.com>

On 01/29/2011 05:04 AM, Will Robertson wrote:
>
>
> Is there any way to make this quieter? (Can lua files be loaded from
> lua without being printed in the console output?)

Yes, by using loadfile() instead of require().

Something like this:

_LOADED = _LOADED or {}
function silentrequire (file)
    if _LOADED[file] == nil then
      local fname = kpse.find_file(file .. ".lua")
      if fname then
        local data = loadfile(fname)
        if data then
          _LOADED[file] = true
          data() -- run the chunk
        end
      end
    end
end

From st_philipp at yahoo.de  Sat Jan 29 10:58:09 2011
From: st_philipp at yahoo.de (Philipp Stephani)
Date: Sat, 29 Jan 2011 10:58:09 +0100
Subject: [lltx] quietening lualatex console output
In-Reply-To: <D44C50FD-4118-4B3C-8157-EEE3EBE2A798@gmail.com>
References: <D44C50FD-4118-4B3C-8157-EEE3EBE2A798@gmail.com>
Message-ID: <91D1551F-72CF-4830-96EF-00A482F55766@yahoo.de>


Am 29.01.2011 um 05:04 schrieb Will Robertson:

> Hi,
> 
> When I run a unicode-math document with LuaLaTeX, here's the console output I get purely related to loading the various Lua stuff:
> 
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luaotfload/luaotfload.sty
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase.sty
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase-compat.sty
> )
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase-loader.sty
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase.loader.lua
> ))
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase-regs.sty)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase-attr.sty
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/attr.lua))
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase-cctb.sty
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/cctb.lua))
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase-mcb.sty
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/luatexbase-modutils.s
> ty
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/modutils.lua))
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luatexbase/mcb.lua)))
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-string.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-lpeg.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-boolean.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-number.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-math.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-table.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-aux.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-io.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-os.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-file.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-md5.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-dir.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-unicode.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-utils.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-dimen.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-url.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/lualibs/lualibs-set.lua)
> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luaotfload/luaotfload.lua)(using
> cache: /Users/will/Library/texlive/2010/texmf-var/luatex-cache/generic)
> Module luatexbase-mcb info: inserting 'luaotfload.pre_linebreak_filter'
> (luatexbase-mcb)            at position 1 in 'pre_linebreak_filter'
> Module luatexbase-mcb info: inserting 'luaotfload.hpack_filter'
> (luatexbase-mcb)            at position 1 in 'hpack_filter'
> Module luatexbase-mcb info: resetting callback 'define_font'
> Module luatexbase-mcb info: inserting 'luaotfload.define_font'
> (luatexbase-mcb)            at position 1 in 'define_font'
> Module luatexbase-mcb info: inserting 'luaotfload.find_vf_file'
> (luatexbase-mcb)            at position 1 in 'find_vf_file'
> )
> 
> 
> Is there any way to make this quieter? (Can lua files be loaded from lua without being printed in the console output?)

I think LuaTeX should aim for more sane output in general, similar to other non-TeX compilers. That means:
- No printing of page numbers (already possible), file names (suggested in http://tracker.luatex.org/view.php?id=535) and similar nonsense. People who are interested in which files are loaded can use the filename recorder.
- All messages use file:line:message style, even those that come from \write or Lua print() or texio.write()
- \scrollmode (i.e. no user interaction) by default
- Primitives or Lua functions for printing errors, warnings and informational messages
- Getting rid of \errhelp
- Messages are never broken across lines; every message is exactly one line; newline chars in messages are converted to spaces
- No continuation of messages
- No log file
- Error messages go to stderr
- No banner
I don't think this has to be configurable. The current mess probably needs to stay for compatibility reasons, but a command line option --sane-output could be added that switches output to the sensible style GCC and most other compiler use.

Another thing @Will: did you ever consider building a "LaTeX 2.2" format that is essentially LaTeX 2e with expl3 and the xpackages (and, for XeTeX and LuaTeX, fontspec) preloaded? That should not break anything, but it would make expl3 more attractive and reduce compilation times. Also, expl3 should probably move to the latex-base collection of TeX Live since it is nowadays required by important packages such as fontspec and siunitx.

From wspr81 at gmail.com  Sat Jan 29 11:22:03 2011
From: wspr81 at gmail.com (Will Robertson)
Date: Sat, 29 Jan 2011 20:52:03 +1030
Subject: [lltx] quietening lualatex console output
In-Reply-To: <91D1551F-72CF-4830-96EF-00A482F55766@yahoo.de>
References: <D44C50FD-4118-4B3C-8157-EEE3EBE2A798@gmail.com>
 <91D1551F-72CF-4830-96EF-00A482F55766@yahoo.de>
Message-ID: <6F1CC3F2-C5F1-4A59-9FA8-6B50D28F142B@GMAIL.COM>

Hi,

I agree on the saner output by default but...

On 29/01/2011, at 8:28 PM, Philipp Stephani wrote:

> - \scrollmode (i.e. no user interaction) by default

...please no! In my limited experience with seeing others use LaTeX, \nonstopmode is the cause of many undiagnosed (or late-diagnosed) problems that make the whole compilation *more* mysterious, not less, to the average user.

> Another thing @Will: did you ever consider building a "LaTeX 2.2" format that is essentially LaTeX 2e with expl3 and the xpackages (and, for XeTeX and LuaTeX, fontspec) preloaded? That should not break anything, but it would make expl3 more attractive and reduce compilation times. Also, expl3 should probably move to the latex-base collection of TeX Live since it is nowadays required by important packages such as fontspec and siunitx.

The argument so far is that since expl3 is being updated still relatively frequently, it's not ready yet to be bundled into a format. But in short, yes, the idea has been thrown around. Something to consider later this year, perhaps.

-- Will



From Arno.Trautmann at gmx.de  Sat Jan 29 11:25:45 2011
From: Arno.Trautmann at gmx.de (Arno Trautmann)
Date: Sat, 29 Jan 2011 11:25:45 +0100
Subject: [lltx] quietening lualatex console output
In-Reply-To: <91D1551F-72CF-4830-96EF-00A482F55766@yahoo.de>
References: <D44C50FD-4118-4B3C-8157-EEE3EBE2A798@gmail.com>
 <91D1551F-72CF-4830-96EF-00A482F55766@yahoo.de>
Message-ID: <4D43EB29.6030605@gmx.de>

Philipp Stephani wrote:
> Am 29.01.2011 um 05:04 schrieb Will Robertson:
>> Hi,
>>
>> When I run a unicode-math document with LuaLaTeX, here's the console output I get purely related to loading the various Lua stuff:
>>
>> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luaotfload/luaotfload.sty
>> [?]
>>
>> Is there any way to make this quieter? (Can lua files be loaded from lua without being printed in the console output?)
> 
> I think LuaTeX should aim for more sane output in general, similar to other non-TeX compilers. That means:
> - No printing of page numbers (already possible), file names (suggested in http://tracker.luatex.org/view.php?id=535) and similar nonsense. People who are interested in which files are loaded can use the filename recorder.
> - All messages use file:line:message style, even those that come from \write or Lua print() or texio.write()
> - \scrollmode (i.e. no user interaction) by default
> - Primitives or Lua functions for printing errors, warnings and informational messages
> - Getting rid of \errhelp
> - Messages are never broken across lines; every message is exactly one line; newline chars in messages are converted to spaces
> - No continuation of messages
> - No log file

What is wrong with the log file? It does not disturb anything as it does
not show up in the user interface, but is usefull. What will be gained
by no log?

> - Error messages go to stderr
> - No banner
> I don't think this has to be configurable. The current mess probably needs to stay for compatibility reasons, but a command line option --sane-output could be added that switches output to the sensible style GCC and most other compiler use.
> 
> Another thing @Will: did you ever consider building a "LaTeX 2.2" format that is essentially LaTeX 2e with expl3 and the xpackages (and, for XeTeX and LuaTeX, fontspec) preloaded? That should not break anything, but it would make expl3 more attractive and reduce compilation times. Also, expl3 should probably move to the latex-base collection of TeX Live since it is nowadays required by important packages such as fontspec and siunitx.

I would absolutely love a LaTeX 2.2 ? but what happened to 2.1? ;)
Given the fact that there is plenty of code in expl3, this would also
reduce the time spent in the preamble.

cheers
Arno



-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 262 bytes
Desc: OpenPGP digital signature
URL: <http://tug.org/pipermail/lualatex-dev/attachments/20110129/d7336ac6/attachment.bin>

From st_philipp at yahoo.de  Sat Jan 29 11:57:21 2011
From: st_philipp at yahoo.de (Philipp Stephani)
Date: Sat, 29 Jan 2011 11:57:21 +0100
Subject: [lltx] quietening lualatex console output
In-Reply-To: <4D43E8B3.5080104@gmx.de>
References: <D44C50FD-4118-4B3C-8157-EEE3EBE2A798@gmail.com>
 <91D1551F-72CF-4830-96EF-00A482F55766@yahoo.de> <4D43E8B3.5080104@gmx.de>
Message-ID: <58D2AE5C-6716-4DC1-BE56-A6A5F012A001@yahoo.de>

Please stay on the list!

Am 29.01.2011 um 11:15 schrieb Arno Trautmann:

> Philipp Stephani wrote:
>> Am 29.01.2011 um 05:04 schrieb Will Robertson:
>>> Hi,
>>> 
>>> When I run a unicode-math document with LuaLaTeX, here's the console output I get purely related to loading the various Lua stuff:
>>> 
>>> (/usr/local/texlive/2010/texmf-dist/tex/luatex/luaotfload/luaotfload.sty
>>> [?]
>>> 
>>> Is there any way to make this quieter? (Can lua files be loaded from lua without being printed in the console output?)
>> 
>> I think LuaTeX should aim for more sane output in general, similar to other non-TeX compilers. That means:
>> - No printing of page numbers (already possible), file names (suggested in http://tracker.luatex.org/view.php?id=535) and similar nonsense. People who are interested in which files are loaded can use the filename recorder.
>> - All messages use file:line:message style, even those that come from \write or Lua print() or texio.write()
>> - \scrollmode (i.e. no user interaction) by default
>> - Primitives or Lua functions for printing errors, warnings and informational messages
>> - Getting rid of \errhelp
>> - Messages are never broken across lines; every message is exactly one line; newline chars in messages are converted to spaces
>> - No continuation of messages
>> - No log file
> 
> What is wrong with the log file? It does not disturb anything as it does
> not show up in the user interface, but is usefull. What will be gained
> by no log?

One file less in the already over-crowded output directory. I must admit that the log file is probably the weakest point on my list; it might still be helpful for debugging purposes. But I still think that no log file should be the rule rather than the exception since GCC and other compilers don't produce log files either.


From st_philipp at yahoo.de  Sat Jan 29 11:59:39 2011
From: st_philipp at yahoo.de (Philipp Stephani)
Date: Sat, 29 Jan 2011 11:59:39 +0100
Subject: [lltx] quietening lualatex console output
In-Reply-To: <6F1CC3F2-C5F1-4A59-9FA8-6B50D28F142B@GMAIL.COM>
References: <D44C50FD-4118-4B3C-8157-EEE3EBE2A798@gmail.com>
 <91D1551F-72CF-4830-96EF-00A482F55766@yahoo.de>
 <6F1CC3F2-C5F1-4A59-9FA8-6B50D28F142B@GMAIL.COM>
Message-ID: <395B7205-9CBA-42FE-80B1-F4DAF20C7DF9@yahoo.de>


Am 29.01.2011 um 11:22 schrieb Will Robertson:

>> - \scrollmode (i.e. no user interaction) by default
> 
> ...please no! In my limited experience with seeing others use LaTeX, \nonstopmode is the cause of many undiagnosed (or late-diagnosed) problems that make the whole compilation *more* mysterious, not less, to the average user.

ok, then maybe a behavior similar to GCC might make sense, i.e., don't produce any output if an error has occurred. I think most users will use editors and output parsers anyway, it is then their task to signal errors.

From wspr81 at gmail.com  Sat Jan 29 12:16:10 2011
From: wspr81 at gmail.com (Will Robertson)
Date: Sat, 29 Jan 2011 21:46:10 +1030
Subject: [lltx] Testing unicode-math
Message-ID: <EAE1C700-D0F5-46DD-8533-68A20DDD6C63@gmail.com>

Dear all,

After many months of work largely by Philipp Stephani, I've finally got around to fixing a couple of niggling bugs and packaging up a new release for unicode-math. In general there are no large changes, but I'd still like to make a test release of the package available in case I've accidentally messed anything up :)

The new version of unicode-math is now available from the TLContrib server; in short, you can obtain it by running 

    tlmgr --repository http://tlcontrib.metatex.org/2010 update unicode-math

on the command line. If you haven't updated your TeX Live packages for a while, then you'll probably want to run

    tlmgr update --all

before installing unicode-math just to make sure you're up to date.

See here for some more details on how to use TLContrib:
 
    <http://tlcontrib.metatex.org/usage.html>
    <http://latex-alive.tumblr.com/post/1303450459/a-little-bit-of-tlcontrib>

Any comments are much appreciated -- especially anything along the lines of "it works!" :) If no serious problems are found I'll send this version to CTAN in the coming week.

Best wishes,
-- Will



From pragma at wxs.nl  Sat Jan 29 11:30:30 2011
From: pragma at wxs.nl (Hans Hagen)
Date: Sat, 29 Jan 2011 11:30:30 +0100
Subject: [lltx] [luatex]  quietening lualatex console output
In-Reply-To: <91D1551F-72CF-4830-96EF-00A482F55766@yahoo.de>
References: <D44C50FD-4118-4B3C-8157-EEE3EBE2A798@gmail.com>
 <91D1551F-72CF-4830-96EF-00A482F55766@yahoo.de>
Message-ID: <4D43EC46.5060407@wxs.nl>

On 29-1-2011 10:58, Philipp Stephani wrote:

> I think LuaTeX should aim for more sane output in general, similar to other non-TeX compilers. That means:
> - No printing of page numbers (already possible), file names (suggested in http://tracker.luatex.org/view.php?id=535) and similar nonsense. People who are interested in which files are loaded can use the filename recorder.
> - All messages use file:line:message style, even those that come from \write or Lua print() or texio.write()
> - \scrollmode (i.e. no user interaction) by default
> - Primitives or Lua functions for printing errors, warnings and informational messages
> - Getting rid of \errhelp
> - Messages are never broken across lines; every message is exactly one line; newline chars in messages are converted to spaces
> - No continuation of messages
> - No log file
> - Error messages go to stderr
> - No banner
> I don't think this has to be configurable. The current mess probably needs to stay for compatibility reasons, but a command line option --sane-output could be added that switches output to the sensible style GCC and most other compiler use.

Most of the messages are under macro package control so it's not so much 
a luatex issue. As demands differ and there is no universal solution or 
preference, the only thing that the engine will offer is control in the 
form of callbacks (and things like line lengths are already configurable 
for quiet a while for tex engines in conifiguration files). As there's 
also backward compatibility to consider, the default behaviour is that 
of tex. For instance, hard coded output formats of texio.write is not 
going to happen as one can do it anyway by passing the right strings.

(One of our test cases has been is highly structured parsable xml 
logging but I haven't tested it for a while so I must pick it up.)

The traditional tex error message mechanism will be redone when other 
core components are finished doing. Currently they are rather 
interwoven. This will happen in a later stage (around version 0.90).

Hans


-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | voip: 087 875 68 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

From reinhard.kotucha at web.de  Sun Jan 30 01:37:04 2011
From: reinhard.kotucha at web.de (Reinhard Kotucha)
Date: Sun, 30 Jan 2011 01:37:04 +0100
Subject: [lltx] quietening lualatex console output
In-Reply-To: <91D1551F-72CF-4830-96EF-00A482F55766@yahoo.de>
References: <D44C50FD-4118-4B3C-8157-EEE3EBE2A798@gmail.com>
 <91D1551F-72CF-4830-96EF-00A482F55766@yahoo.de>
Message-ID: <19780.45744.646931.759067@zaphod.ms25.net>

On 29 January 2011 Philipp Stephani wrote:

 > I think LuaTeX should aim for more sane output in general, similar
 > to other non-TeX compilers. That means:
 > - No printing of page numbers (already possible), file names
 >   (suggested in http://tracker.luatex.org/view.php?id=535) and
 >   similar nonsense. People who are interested in which files are
 >   loaded can use the filename recorder.
 > - All messages use file:line:message style, even those that come
 >   from \write or Lua print() or texio.write()
 > - \scrollmode (i.e. no user interaction) by default
 > - Primitives or Lua functions for printing errors, warnings and
 >   informational messages
 > - Getting rid of \errhelp
 > - Messages are never broken across lines; every message is exactly
 >   one line; newline chars in messages are converted to spaces
 > - No continuation of messages
 > - No log file
 > - Error messages go to stderr
 > - No banner

Sorry, I disagree, especially if you say:

 > I don't think this has to be configurable. 

The log files are definitely needed.  There is no other way to debug
things and the .fls files are not sufficient at all.  The log files
contain a lot of useful information.  Did you ever noticed that they
contain much more information than screen output?  Without log files
there is absolutely no way to solve other people's problems.

 > The current mess probably needs to stay for compatibility reasons,
 > but a command line option --sane-output could be added that
 > switches output to the sensible style GCC and most other compiler
 > use.

There is such an option already, called --interaction.  And come on,
the error messages provided by other compilers/interpreters are not
better than those provided by [La]TeX, often even worse.

Now, let me comment your suggestions in detail:

 > - No printing of page numbers (already possible), file names
 >   (suggested in http://tracker.luatex.org/view.php?id=535) and
 >   similar nonsense. 

I don't see any benefit if page numbers are suppressed, but this can
be done at macro level.  Just switch to \batchmode temporarily when a
page is shipped out.  Requires to patch the output routine, not much
fun in LaTeX, admittedly.

 >   People who are interested in which files are loaded can use the
 >   filename recorder.

No.  It just traces open() system calls.  But some files are loading
others, and it's often necessary to find out WHY a particular file is
loaded at all.  This information is not present in .fls files.

 > - All messages use file:line:message style, even those that come
 >   from \write or Lua print() or texio.write()

There is a command line option already.  If it doesn't support files
opened by \openin and \openout, I agree with you that such an
enhancement is welcome. 

Regarding Lua, I think that "file:line:" style messages are only
useful for error messages, not for print() or texio.write() in
general. 

 > - \scrollmode (i.e. no user interaction) by default

I don't know why you are so much interested in changing default
values.  There are many programs (TeX IDEs) which expect a particular
behavior.  I don't see any good reason to break them for no good
reason. 

 > - Primitives or Lua functions for printing errors, warnings and
 >   informational messages

Better Lua functions than TeX primitives.  However, it would be nice
if Lua can determine name of the current TeX input file (which
contains the Lua code) and the line number.

 > - Getting rid of \errhelp

WHY????  It's just a token register which can be accessed from the
command line.  There is absolutely no reason to get rid of it.
If you aren't interested, just don't ask for help.

BTW, the LaTeX help messages are quite laconic because when LaTeX2e
was released, RAM wasn't as cheap as today.  But AFAIR the LaTeX team
considered to read more detailed help messages from an external file
in a future release.  If messages are read from an external file, it's
quite easy to provide them in different languages too.

 > - Messages are never broken across lines; every message is exactly
 >   one line; newline chars in messages are converted to spaces

This is supported by TeX Live already, though admittedly not well
documented.  The length of lines in the log file and on terminals can
be changed in texmf.cnf or in the environment.  The variable
max_print_line takes a number as an argument.  The default is 79.

Try this on the command line:

  max_print_line=10000 pdftex story \\bye

 > - No continuation of messages

What does it mean?

 > - No log file

They are definitely needed.  I could imagine an option to turn them
off.  But such an option shouldn't be documented. :)

 > - Error messages go to stderr

Yes, we are living in the 21st century.  Even Windows supports stderr
for some time past.  Maybe it breaks some TeX IDEs which capture
screen output, but I suppose that most of them read the log file
anyway.  The only TeX primitive involved is \errmessage, AFAIK.
Shouldn't be difficult to implement.  Maybe a compatibility switch is
needed.

 > - No banner

--interaction=batchmode

Of course, I'm aware that we are living in a world where most people
refuse to read documentation, error messages, log files, or whatever
tells them what they've done wrong.  Instead, they complain "My
document doesn't compile anymore", "I got an error", "I'm using WinEDT
and it complains about an 'Undefined control sequence..'", or "How can
I get rid of the file 'missfonts.log'?", without providing any useful
information.  Looking into a log file or reading an error message
themselves is obviously far beyond their capabilities.

But the only way to help those poor souls is to ask them to send us
their log files.  Do you really propose to abolish them?

What you suggest isn't worth to break compatibility.  And many of your
suggestions are already supported, though not enabled by default.

Regards,
  Reinhard

-- 
----------------------------------------------------------------------------
Reinhard Kotucha                                      Phone: +49-511-3373112
Marschnerstr. 25
D-30167 Hannover                              mailto:reinhard.kotucha at web.de
----------------------------------------------------------------------------
Microsoft isn't the answer. Microsoft is the question, and the answer is NO.
----------------------------------------------------------------------------

From wspr81 at gmail.com  Sun Jan 30 03:03:06 2011
From: wspr81 at gmail.com (Will Robertson)
Date: Sun, 30 Jan 2011 12:33:06 +1030
Subject: [lltx] quietening lualatex console output
In-Reply-To: <19780.45744.646931.759067@zaphod.ms25.net>
References: <D44C50FD-4118-4B3C-8157-EEE3EBE2A798@gmail.com>
 <91D1551F-72CF-4830-96EF-00A482F55766@yahoo.de>
 <19780.45744.646931.759067@zaphod.ms25.net>
Message-ID: <736610CF-CA84-4187-8C98-38077FF6F86B@gmail.com>

On 30/01/2011, at 11:07 AM, Reinhard Kotucha wrote:

> BTW, the LaTeX help messages are quite laconic because when LaTeX2e
> was released, RAM wasn't as cheap as today.  But AFAIR the LaTeX team
> considered to read more detailed help messages from an external file
> in a future release.  If messages are read from an external file, it's
> quite easy to provide them in different languages too.

When we looked at this in expl3, it didn't seem that useful to store all messages on disk like this (since RAM is cheap and you can still logically separate messages into files to \input if you like). However, there is a separation between calling an error/warning and invoking its text, so the idea of multilingual features is still possible.

(A nice side-feature of this separation is being able to hide/demote errors to warnings and warnings to info messages.)

If anyone is interested in exploring this idea, bring it up on LaTeX-L for further discussion.


>> - No banner
> 
> --interaction=batchmode

Almost :)

$ pdflatex --interaction=batchmode test
This is pdfTeX, Version 3.1415926-1.40.11 (TeX Live 2010)
 restricted \write18 enabled.
entering extended mode
$

-- Will



From lomov.vl at gmail.com  Sun Jan 30 04:36:24 2011
From: lomov.vl at gmail.com (Vladimir Lomov)
Date: Sun, 30 Jan 2011 11:36:24 +0800
Subject: [lltx] quietening lualatex console output
In-Reply-To: <736610CF-CA84-4187-8C98-38077FF6F86B@gmail.com>
References: <D44C50FD-4118-4B3C-8157-EEE3EBE2A798@gmail.com>
 <91D1551F-72CF-4830-96EF-00A482F55766@yahoo.de>
 <19780.45744.646931.759067@zaphod.ms25.net>
 <736610CF-CA84-4187-8C98-38077FF6F86B@gmail.com>
Message-ID: <20110130033624.GD3867@smoon>

** Will Robertson [2011-01-30 12:33:06 +1030]:

> On 30/01/2011, at 11:07 AM, Reinhard Kotucha wrote:

[...]
>>> - No banner

>> --interaction=batchmode

> Almost :)

> $ pdflatex --interaction=batchmode test
> This is pdfTeX, Version 3.1415926-1.40.11 (TeX Live 2010)
>  restricted \write18 enabled.
> entering extended mode
> $

Is that too bad? For the purpose that Reinhard describe (debuging) it is
VERY helpful.

---
WBR, Vladimir Lomov

-- 
A mother mouse was taking her large brood for a stroll across the kitchen
floor one day when the local cat, by a feat of stealth unusual even for
its species, managed to trap them in a corner.  The children cowered,
terrified by this fearsome beast, plaintively crying, "Help, Mother!
Save us!  Save us!  We're scared, Mother!"
	Mother Mouse, with the hopeless valor of a parent protecting its
children, turned with her teeth bared to the cat, towering huge above them,
and suddenly began to bark in a fashion that would have done any Doberman
proud.  The startled cat fled in fear for its life.
	As her grateful offspring flocked around her shouting "Oh, Mother,
you saved us!" and "Yay!  You scared the cat away!" she turned to them
purposefully and declared, "You see how useful it is to know a second
language?"

From wspr81 at gmail.com  Sun Jan 30 10:05:20 2011
From: wspr81 at gmail.com (Will Robertson)
Date: Sun, 30 Jan 2011 19:35:20 +1030
Subject: [lltx] quietening lualatex console output
In-Reply-To: <20110130033624.GD3867@smoon>
References: <D44C50FD-4118-4B3C-8157-EEE3EBE2A798@gmail.com>
 <91D1551F-72CF-4830-96EF-00A482F55766@yahoo.de>
 <19780.45744.646931.759067@zaphod.ms25.net>
 <736610CF-CA84-4187-8C98-38077FF6F86B@gmail.com>
 <20110130033624.GD3867@smoon>
Message-ID: <40B79AF0-5664-468A-9DD5-C41D8B5C12F6@gmail.com>

On 30/01/2011, at 2:06 PM, Vladimir Lomov wrote:

>> Almost :)
> 
>> $ pdflatex --interaction=batchmode test
>> This is pdfTeX, Version 3.1415926-1.40.11 (TeX Live 2010)
>> restricted \write18 enabled.
>> entering extended mode
>> $
> 
> Is that too bad? For the purpose that Reinhard describe (debuging) it is
> VERY helpful.

When you're running with regular console output, I definitely think it should be there. But who is debugging from the console of \batchmode output? (The request was to be able to remove the banner in cases like this, when you're *trying* to be quiet.) This information would still be present in the .log file, of course.

-- Will



From zappathustra at free.fr  Sun Jan 30 10:22:46 2011
From: zappathustra at free.fr (Paul Isambert)
Date: Sun, 30 Jan 2011 10:22:46 +0100
Subject: [lltx] [luatex]  quietening lualatex console output
In-Reply-To: <736610CF-CA84-4187-8C98-38077FF6F86B@gmail.com>
References: <D44C50FD-4118-4B3C-8157-EEE3EBE2A798@gmail.com>
 <91D1551F-72CF-4830-96EF-00A482F55766@yahoo.de>
 <19780.45744.646931.759067@zaphod.ms25.net>
 <736610CF-CA84-4187-8C98-38077FF6F86B@gmail.com>
Message-ID: <4D452DE6.7020900@free.fr>


Le 30/01/2011 03:03, Will Robertson a ?crit :
> On 30/01/2011, at 11:07 AM, Reinhard Kotucha wrote:
>
>> BTW, the LaTeX help messages are quite laconic because when LaTeX2e
>> was released, RAM wasn't as cheap as today.  But AFAIR the LaTeX team
>> considered to read more detailed help messages from an external file
>> in a future release.  If messages are read from an external file, it's
>> quite easy to provide them in different languages too.
> When we looked at this in expl3, it didn't seem that useful to store all messages on disk like this (since RAM is cheap and you can still logically separate messages into files to \input if you like). However, there is a separation between calling an error/warning and invoking its text, so the idea of multilingual features is still possible.
>
> (A nice side-feature of this separation is being able to hide/demote errors to warnings and warnings to info messages.)
>
> If anyone is interested in exploring this idea, bring it up on LaTeX-L for further discussion.
>
>
>>> - No banner
>> --interaction=batchmode
> Almost :)
>
> $ pdflatex --interaction=batchmode test
> This is pdfTeX, Version 3.1415926-1.40.11 (TeX Live 2010)
>   restricted \write18 enabled.
> entering extended mode
> $
>
> -- Will

With LuaTeX:

luatex --lua=my_script.lua --interaction=batchmode ...

and in the initialization script:

callback.register("start_run", false)

and absolute silence...

Best,
Paul

From pragma at wxs.nl  Sun Jan 30 13:43:41 2011
From: pragma at wxs.nl (Hans Hagen)
Date: Sun, 30 Jan 2011 13:43:41 +0100
Subject: [lltx] [luatex]  quietening lualatex console output
In-Reply-To: <19780.45744.646931.759067@zaphod.ms25.net>
References: <D44C50FD-4118-4B3C-8157-EEE3EBE2A798@gmail.com>
 <91D1551F-72CF-4830-96EF-00A482F55766@yahoo.de>
 <19780.45744.646931.759067@zaphod.ms25.net>
Message-ID: <4D455CFD.4060102@wxs.nl>

On 30-1-2011 1:37, Reinhard Kotucha wrote:

> Better Lua functions than TeX primitives.  However, it would be nice
> if Lua can determine name of the current TeX input file (which
> contains the Lua code) and the line number.

this is on the agenda for an upcoming release (expose more of the lua 
error context)

Hans

-----------------------------------------------------------------
                                           Hans Hagen | PRAGMA ADE
               Ridderstraat 27 | 8061 GH Hasselt | The Netherlands
     tel: 038 477 53 69 | voip: 087 875 68 74 | www.pragma-ade.com
                                              | www.pragma-pod.nl
-----------------------------------------------------------------

